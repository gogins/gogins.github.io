import{b as p,w as v,x as o,_ as y}from"./settings.ea7ba944.js";import"./index.528e429e.js";const r=document.createElement("style");r.id="strudel-theme";document.head.append(r);function f(e){o[e]||console.warn("theme",e,"has no settings.. defaulting to strudelTheme settings");const i=o[e]||o.strudelTheme;r.innerHTML=`:root {
      ${Object.entries(i).map(([d,n])=>`--${d}: ${n} !important;`).join(`
`)}
    }`,i.light?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark")}f(p.get().theme);v(p,["theme"],({theme:e})=>f(e));const g=()=>{document.documentElement.style.setProperty("--app-height",`${window.innerHeight-1}px`)};typeof window<"u"&&(window.addEventListener("resize",g),g());function E(e={}){const{immediate:i=!1,onNeedRefresh:d,onOfflineReady:n,onRegistered:a,onRegisteredSW:c,onRegisterError:l}=e;let s,m;const h=async(u=!0)=>{await m};async function w(){if("serviceWorker"in navigator){const{Workbox:u}=await y(()=>import("./workbox-window.prod.es5.dc90f814.js"),[]);s=new u("/sw.js",{scope:"/",type:"classic"}),s.addEventListener("activated",t=>{(t.isUpdate||t.isExternal)&&window.location.reload()}),s.addEventListener("installed",t=>{t.isUpdate||n?.()}),s.register({immediate:i}).then(t=>{c?c("/sw.js",t):a?.(t)}).catch(t=>{l?.(t)})}}return m=w(),h}E({immediate:!0,onRegisteredSW(e){},onOfflineReady(){}});
