{"version":3,"file":"Claviature.DCnIPR8v.js","sources":["../../../node_modules/.pnpm/claviature@0.1.0/node_modules/claviature/dist/claviature.js","../../src/components/Claviature.jsx"],"sourcesContent":["const I = (o) => {\n  var l;\n  if (typeof o != \"string\")\n    return [];\n  const [n, r = \"\", a] = ((l = o.match(/^([a-gA-G])([#bs]*)([0-9])?$/)) == null ? void 0 : l.slice(1)) || [];\n  return n ? [n, r, a ? Number(a) : void 0] : [];\n}, J = { \"#\": 1, b: -1, s: 1 }, u = (o) => {\n  if (typeof o == \"number\")\n    return o;\n  const [n, r, a] = I(o);\n  if (!n)\n    throw new Error('not a note: \"' + o + '\"');\n  const l = { c: 0, d: 2, e: 4, f: 5, g: 7, a: 9, b: 11 }[n.toLowerCase()], b = (r == null ? void 0 : r.split(\"\").reduce((y, p) => y + J[p], 0)) || 0;\n  return (Number(a) + 1) * 12 + l + b;\n};\nfunction R({\n  options: o,\n  onClick: n,\n  onMouseDown: r,\n  onMouseUp: a,\n  onMouseLeave: l\n}) {\n  const {\n    range: b = [\"A1\", \"C6\"],\n    scaleX: y = 1,\n    scaleY: p = 1,\n    palette: k = [\"#39383D\", \"#F2F2EF\"],\n    strokeWidth: d = 1,\n    stroke: K = \"black\",\n    upperWidth: j = 14,\n    upperHeight: W = 100,\n    lowerHeight: B = 45,\n    colorize: D = [],\n    labels: G,\n    topLabels: v\n  } = o || {}, g = [0, 1, 0, 1, 0, 0, 1, 0, 1, 0, 1, 0], h = u(b[0]), L = u(b[1]) - h + 1, P = (t) => {\n    const e = [], s = [], f = u(t[1]);\n    for (let i = h; i <= f; i++)\n      (g[i % 12] ? s : e).push(i);\n    return [e, s];\n  }, [S, V] = P(b), c = j * y, w = (t) => (t % 12 > 4 ? 7 / 4 : 5 / 3) * c, x = (W + B) * p, z = W * p, m = (t) => Array.from({ length: t - h }, (e, s) => s + h).reduce(\n    (e, s) => g[s % 12] ? e : e + w(s),\n    0\n  ), A = 12 - h % 12, Y = m(A + h) - A * c, F = (t) => (t - h) * c + Y, _ = D.map((t) => ({\n    ...t,\n    keys: t.keys.map((e) => u(e))\n  })), H = (t) => {\n    var e;\n    return (e = _.find(({ keys: s }) => s.includes(t))) == null ? void 0 : e.color;\n  }, O = (t) => () => n == null ? void 0 : n(t), C = (t) => () => r == null ? void 0 : r(t), N = (t) => () => a == null ? void 0 : a(t), X = (t) => () => l == null ? void 0 : l(t), q = (t) => g[t % 12] === 1;\n  return {\n    name: \"svg\",\n    type: \"element\",\n    value: \"\",\n    attributes: {\n      width: L * c + c + d * 2,\n      height: x\n    },\n    children: [\n      ...S.map((t) => {\n        var e;\n        return {\n          name: \"rect\",\n          type: \"element\",\n          value: \"\",\n          attributes: {\n            key: t,\n            x: m(t),\n            y: 0,\n            height: x,\n            width: w(t),\n            fill: (e = H(t)) != null ? e : k[1],\n            stroke: K,\n            strokeWidth: `${d}px`,\n            onClick: O(t),\n            onMouseDown: C(t),\n            onMouseUp: N(t),\n            onMouseLeave: X(t)\n          }\n        };\n      }),\n      ...V.map((t) => {\n        var e;\n        return {\n          name: \"rect\",\n          type: \"element\",\n          value: \"\",\n          attributes: {\n            key: t,\n            x: F(t),\n            y: 0,\n            width: c,\n            height: z,\n            fill: (e = H(t)) != null ? e : k[0],\n            stroke: \"black\",\n            strokeWidth: `${d}px`,\n            onClick: O(t),\n            onMouseDown: C(t),\n            onMouseUp: N(t),\n            onMouseLeave: X(t)\n          }\n        };\n      }),\n      ...Object.entries(G || {}).reduce(\n        (t, [e, s]) => {\n          const f = u(e), i = q(f), $ = v ? c * 0.7 : (i ? z : x) - c * 0.7, E = i || v ? F(f) + c / 2 : m(f) + w(f) / 2;\n          return t.concat([\n            {\n              name: \"circle\",\n              value: s,\n              attributes: {\n                cx: E,\n                cy: $,\n                r: c / 2,\n                fill: k[1],\n                stroke: k[0]\n              }\n            },\n            {\n              name: \"text\",\n              value: s,\n              attributes: {\n                x: E,\n                y: $ + c * 0.2,\n                textAnchor: \"middle\",\n                fontFamily: \"Verdana\",\n                fontSize: c * 0.7\n              }\n            }\n          ]);\n        },\n        []\n      )\n    ]\n  };\n}\nexport {\n  R as getClaviature\n};\n","import { getClaviature } from 'claviature';\nimport React from 'react';\n\nexport default function Claviature({ options, onClick, onMouseDown, onMouseUp, onMouseLeave }) {\n  const svg = getClaviature({\n    options,\n    onClick,\n    onMouseDown,\n    onMouseUp,\n    onMouseLeave,\n  });\n  return (\n    <svg {...svg.attributes}>\n      {svg.children.map((el, i) => {\n        const TagName = el.name;\n        return (\n          <TagName key={`${el.name}-${i}`} {...el.attributes}>\n            {el.value}\n          </TagName>\n        );\n      })}\n    </svg>\n  );\n}\n"],"names":["I","l","n","r","a","J","u","b","y","p","R","k","d","K","j","W","B","D","G","v","g","h","L","P","t","e","s","f","i","S","V","c","w","x","z","m","A","Y","F","_","H","O","C","N","X","q","$","E","Claviature","options","onClick","onMouseDown","onMouseUp","onMouseLeave","svg","getClaviature","jsx","el","TagName"],"mappings":"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","x_google_ignoreList":[0]}