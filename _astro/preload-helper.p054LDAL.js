import{o as zg,r as Gg,u as Hg,e as Kg,D as Jg,P as eO,v as tO,w as nh}from"./index.diuTzW_X.js";const nO=[{comment:`/**
 * Displays a slider widget to allow the user manipulate a value
 *
 * @name slider
 * @param {number} value Initial value
 * @param {number} min Minimum value - optional, defaults to 0
 * @param {number} max Maximum value - optional, defaults to 1
 * @param {number} step Step size - optional
 */`,meta:{filename:"slider.mjs",lineno:114,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/codemirror",code:{}},description:"<p>Displays a slider widget to allow the user manipulate a value</p>",name:"slider",params:[{type:{names:["number"]},description:"<p>Initial value</p>",name:"value"},{type:{names:["number"]},description:"<p>Minimum value - optional, defaults to 0</p>",name:"min"},{type:{names:["number"]},description:"<p>Maximum value - optional, defaults to 1</p>",name:"max"},{type:{names:["number"]},description:"<p>Step size - optional</p>",name:"step"}],longname:"slider",kind:"member",scope:"global"},{comment:`/**
   * Select a sound / sample by name. When using mininotation, you can also optionally supply 'n' and 'gain' parameters
   * separated by ':'.
   *
   * @name s
   * @param {string | Pattern} sound The sound / pattern of sounds to pick
   * @synonyms sound
   * @example
   * s("bd hh")
   * @example
   * s("bd:0 bd:1 bd:0:0.3 bd:1:1.4")
   *
   */`,meta:{filename:"controls.mjs",lineno:12,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Select a sound / sample by name. When using mininotation, you can also optionally supply 'n' and 'gain' parameters
separated by ':'.</p>`,name:"s",params:[{type:{names:["string","Pattern"]},description:"<p>The sound / pattern of sounds to pick</p>",name:"sound"}],synonyms_text:"sound",synonyms:["sound"],examples:['s("bd hh")','s("bd:0 bd:1 bd:0:0.3 bd:1:1.4")'],longname:"s",kind:"member",scope:"global"},{comment:`/**
   * Define a custom webaudio node to use as a sound source.
   *
   * @name source
   * @param {function} getSource
   * @synonyms src
   *
   */`,meta:{filename:"controls.mjs",lineno:26,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Define a custom webaudio node to use as a sound source.</p>",name:"source",params:[{type:{names:["function"]},name:"getSource"}],synonyms_text:"src",synonyms:["src"],longname:"source",kind:"member",scope:"global"},{comment:`/**
   * Selects the given index from the sample map.
   * Numbers too high will wrap around.
   * \`n\` can also be used to play midi numbers, but it is recommended to use \`note\` instead.
   *
   * @name n
   * @param {number | Pattern} value sample index starting from 0
   * @example
   * s("bd sd [~ bd] sd,hh*6").n("<0 1>")
   */`,meta:{filename:"controls.mjs",lineno:35,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Selects the given index from the sample map.
Numbers too high will wrap around.
<code>n</code> can also be used to play midi numbers, but it is recommended to use <code>note</code> instead.</p>`,name:"n",params:[{type:{names:["number","Pattern"]},description:"<p>sample index starting from 0</p>",name:"value"}],examples:['s("bd sd [~ bd] sd,hh*6").n("<0 1>")'],longname:"n",kind:"member",scope:"global"},{comment:`/**
   * Plays the given note name or midi number. A note name consists of
   *
   * - a letter (a-g or A-G)
   * - optional accidentals (b or #)
   * - optional octave number (0-9). Defaults to 3
   *
   * Examples of valid note names: \`c\`, \`bb\`, \`Bb\`, \`f#\`, \`c3\`, \`A4\`, \`Eb2\`, \`c#5\`
   *
   * You can also use midi numbers instead of note names, where 69 is mapped to A4 440Hz in 12EDO.
   *
   * @name note
   * @example
   * note("c a f e")
   * @example
   * note("c4 a4 f4 e4")
   * @example
   * note("60 69 65 64")
   */`,meta:{filename:"controls.mjs",lineno:47,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Plays the given note name or midi number. A note name consists of</p>
<ul>
<li>a letter (a-g or A-G)</li>
<li>optional accidentals (b or #)</li>
<li>optional octave number (0-9). Defaults to 3</li>
</ul>
<p>Examples of valid note names: <code>c</code>, <code>bb</code>, <code>Bb</code>, <code>f#</code>, <code>c3</code>, <code>A4</code>, <code>Eb2</code>, <code>c#5</code></p>
<p>You can also use midi numbers instead of note names, where 69 is mapped to A4 440Hz in 12EDO.</p>`,name:"note",examples:['note("c a f e")','note("c4 a4 f4 e4")','note("60 69 65 64")'],longname:"note",kind:"member",scope:"global"},{comment:`/**
   * A pattern of numbers that speed up (or slow down) samples while they play. Currently only supported by osc / superdirt.
   *
   * @name accelerate
   * @param {number | Pattern} amount acceleration.
   * @superdirtOnly
   * @example
   * s("sax").accelerate("<0 1 2 4 8 16>").slow(2).osc()
   *
   */`,meta:{filename:"controls.mjs",lineno:68,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>A pattern of numbers that speed up (or slow down) samples while they play. Currently only supported by osc / superdirt.</p>",name:"accelerate",params:[{type:{names:["number","Pattern"]},description:"<p>acceleration.</p>",name:"amount"}],tags:[{originalTitle:"superdirtOnly",title:"superdirtonly",text:""}],examples:['s("sax").accelerate("<0 1 2 4 8 16>").slow(2).osc()'],longname:"accelerate",kind:"member",scope:"global"},{comment:`/**
   * Controls the gain by an exponential amount.
   *
   * @name gain
   * @param {number | Pattern} amount gain.
   * @example
   * s("hh*8").gain(".4!2 1 .4!2 1 .4 1").fast(2)
   *
   */`,meta:{filename:"controls.mjs",lineno:79,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Controls the gain by an exponential amount.</p>",name:"gain",params:[{type:{names:["number","Pattern"]},description:"<p>gain.</p>",name:"amount"}],examples:['s("hh*8").gain(".4!2 1 .4!2 1 .4 1").fast(2)'],longname:"gain",kind:"member",scope:"global"},{comment:`/**
   * Gain applied after all effects have been processed.
   *
   * @name postgain
   * @example
   * s("bd sd [~ bd] sd,hh*8")
   * .compressor("-20:20:10:.002:.02").postgain(1.5)
   *
   */`,meta:{filename:"controls.mjs",lineno:89,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Gain applied after all effects have been processed.</p>",name:"postgain",examples:[`s("bd sd [~ bd] sd,hh*8")
.compressor("-20:20:10:.002:.02").postgain(1.5)`],longname:"postgain",kind:"member",scope:"global"},{comment:`/**
   * Like \`gain\`, but linear.
   *
   * @name amp
   * @param {number | Pattern} amount gain.
   * @superdirtOnly
   * @example
   * s("bd*8").amp(".1*2 .5 .1*2 .5 .1 .5").osc()
   *
   */`,meta:{filename:"controls.mjs",lineno:99,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Like <code>gain</code>, but linear.</p>",name:"amp",params:[{type:{names:["number","Pattern"]},description:"<p>gain.</p>",name:"amount"}],tags:[{originalTitle:"superdirtOnly",title:"superdirtonly",text:""}],examples:['s("bd*8").amp(".1*2 .5 .1*2 .5 .1 .5").osc()'],longname:"amp",kind:"member",scope:"global"},{comment:`/**
   * Amplitude envelope attack time: Specifies how long it takes for the sound to reach its peak value, relative to the onset.
   *
   * @name attack
   * @param {number | Pattern} attack time in seconds.
   * @synonyms att
   * @example
   * note("c3 e3 f3 g3").attack("<0 .1 .5>")
   *
   */`,meta:{filename:"controls.mjs",lineno:110,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Amplitude envelope attack time: Specifies how long it takes for the sound to reach its peak value, relative to the onset.</p>",name:"attack",params:[{type:{names:["number","Pattern"]},description:"<p>time in seconds.</p>",name:"attack"}],synonyms_text:"att",synonyms:["att"],examples:['note("c3 e3 f3 g3").attack("<0 .1 .5>")'],longname:"attack",kind:"member",scope:"global"},{comment:`/**
   * Sets the Frequency Modulation Harmonicity Ratio.
   * Controls the timbre of the sound.
   * Whole numbers and simple ratios sound more natural,
   * while decimal numbers and complex ratios sound metallic.
   *
   * @name fmh
   * @param {number | Pattern} harmonicity
   * @example
   * note("c e g b g e")
   * .fm(4)
   * .fmh("<1 2 1.5 1.61>")
   * .scope()
   *
   */`,meta:{filename:"controls.mjs",lineno:122,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Sets the Frequency Modulation Harmonicity Ratio.
Controls the timbre of the sound.
Whole numbers and simple ratios sound more natural,
while decimal numbers and complex ratios sound metallic.</p>`,name:"fmh",params:[{type:{names:["number","Pattern"]},name:"harmonicity"}],examples:[`note("c e g b g e")
.fm(4)
.fmh("<1 2 1.5 1.61>")
.scope()`],longname:"fmh",kind:"member",scope:"global"},{comment:`/**
   * Sets the Frequency Modulation of the synth.
   * Controls the modulation index, which defines the brightness of the sound.
   *
   * @name fm
   * @param {number | Pattern} brightness modulation index
   * @synonyms fmi
   * @example
   * note("c e g b g e")
   * .fm("<0 1 2 8 32>")
   * .scope()
   *
   */`,meta:{filename:"controls.mjs",lineno:138,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Sets the Frequency Modulation of the synth.
Controls the modulation index, which defines the brightness of the sound.</p>`,name:"fm",params:[{type:{names:["number","Pattern"]},description:"<p>modulation index</p>",name:"brightness"}],synonyms_text:"fmi",synonyms:["fmi"],examples:[`note("c e g b g e")
.fm("<0 1 2 8 32>")
.scope()`],longname:"fm",kind:"member",scope:"global"},{comment:`/**
   * Ramp type of fm envelope. Exp might be a bit broken..
   *
   * @name fmenv
   * @param {number | Pattern} type lin | exp
   * @example
   * note("c e g b g e")
   * .fm(4)
   * .fmdecay(.2)
   * .fmsustain(0)
   * .fmenv("<exp lin>")
   * .scope()
   *
   */`,meta:{filename:"controls.mjs",lineno:153,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Ramp type of fm envelope. Exp might be a bit broken..</p>",name:"fmenv",params:[{type:{names:["number","Pattern"]},description:"<p>lin | exp</p>",name:"type"}],examples:[`note("c e g b g e")
.fm(4)
.fmdecay(.2)
.fmsustain(0)
.fmenv("<exp lin>")
.scope()`],longname:"fmenv",kind:"member",scope:"global"},{comment:`/**
   * Attack time for the FM envelope: time it takes to reach maximum modulation
   *
   * @name fmattack
   * @param {number | Pattern} time attack time
   * @example
   * note("c e g b g e")
   * .fm(4)
   * .fmattack("<0 .05 .1 .2>")
   * .scope()
   *
   */`,meta:{filename:"controls.mjs",lineno:168,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Attack time for the FM envelope: time it takes to reach maximum modulation</p>",name:"fmattack",params:[{type:{names:["number","Pattern"]},description:"<p>attack time</p>",name:"time"}],examples:[`note("c e g b g e")
.fm(4)
.fmattack("<0 .05 .1 .2>")
.scope()`],longname:"fmattack",kind:"member",scope:"global"},{comment:`/**
   * Decay time for the FM envelope: seconds until the sustain level is reached after the attack phase.
   *
   * @name fmdecay
   * @param {number | Pattern} time decay time
   * @example
   * note("c e g b g e")
   * .fm(4)
   * .fmdecay("<.01 .05 .1 .2>")
   * .fmsustain(.4)
   * .scope()
   *
   */`,meta:{filename:"controls.mjs",lineno:181,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Decay time for the FM envelope: seconds until the sustain level is reached after the attack phase.</p>",name:"fmdecay",params:[{type:{names:["number","Pattern"]},description:"<p>decay time</p>",name:"time"}],examples:[`note("c e g b g e")
.fm(4)
.fmdecay("<.01 .05 .1 .2>")
.fmsustain(.4)
.scope()`],longname:"fmdecay",kind:"member",scope:"global"},{comment:`/**
   * Sustain level for the FM envelope: how much modulation is applied after the decay phase
   *
   * @name fmsustain
   * @param {number | Pattern} level sustain level
   * @example
   * note("c e g b g e")
   * .fm(4)
   * .fmdecay(.1)
   * .fmsustain("<1 .75 .5 0>")
   * .scope()
   *
   */`,meta:{filename:"controls.mjs",lineno:195,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sustain level for the FM envelope: how much modulation is applied after the decay phase</p>",name:"fmsustain",params:[{type:{names:["number","Pattern"]},description:"<p>sustain level</p>",name:"level"}],examples:[`note("c e g b g e")
.fm(4)
.fmdecay(.1)
.fmsustain("<1 .75 .5 0>")
.scope()`],longname:"fmsustain",kind:"member",scope:"global"},{comment:`/**
   * Select the sound bank to use. To be used together with \`s\`. The bank name (+ "_") will be prepended to the value of \`s\`.
   *
   * @name bank
   * @param {string | Pattern} bank the name of the bank
   * @example
   * s("bd sd [~ bd] sd").bank('RolandTR909') // = s("RolandTR909_bd RolandTR909_sd")
   *
   */`,meta:{filename:"controls.mjs",lineno:213,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Select the sound bank to use. To be used together with <code>s</code>. The bank name (+ &quot;_&quot;) will be prepended to the value of <code>s</code>.</p>",name:"bank",params:[{type:{names:["string","Pattern"]},description:"<p>the name of the bank</p>",name:"bank"}],examples:[`s("bd sd [~ bd] sd").bank('RolandTR909') // = s("RolandTR909_bd RolandTR909_sd")`],longname:"bank",kind:"member",scope:"global"},{comment:`/**
   * Amplitude envelope decay time: the time it takes after the attack time to reach the sustain level.
   * Note that the decay is only audible if the sustain value is lower than 1.
   *
   * @name decay
   * @param {number | Pattern} time decay time in seconds
   * @example
   * note("c3 e3 f3 g3").decay("<.1 .2 .3 .4>").sustain(0)
   *
   */`,meta:{filename:"controls.mjs",lineno:227,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Amplitude envelope decay time: the time it takes after the attack time to reach the sustain level.
Note that the decay is only audible if the sustain value is lower than 1.</p>`,name:"decay",params:[{type:{names:["number","Pattern"]},description:"<p>decay time in seconds</p>",name:"time"}],examples:['note("c3 e3 f3 g3").decay("<.1 .2 .3 .4>").sustain(0)'],longname:"decay",kind:"member",scope:"global"},{comment:`/**
   * Amplitude envelope sustain level: The level which is reached after attack / decay, being sustained until the offset.
   *
   * @name sustain
   * @param {number | Pattern} gain sustain level between 0 and 1
   * @synonyms sus
   * @example
   * note("c3 e3 f3 g3").decay(.2).sustain("<0 .1 .4 .6 1>")
   *
   */`,meta:{filename:"controls.mjs",lineno:238,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Amplitude envelope sustain level: The level which is reached after attack / decay, being sustained until the offset.</p>",name:"sustain",params:[{type:{names:["number","Pattern"]},description:"<p>sustain level between 0 and 1</p>",name:"gain"}],synonyms_text:"sus",synonyms:["sus"],examples:['note("c3 e3 f3 g3").decay(.2).sustain("<0 .1 .4 .6 1>")'],longname:"sustain",kind:"member",scope:"global"},{comment:`/**
   * Amplitude envelope release time: The time it takes after the offset to go from sustain level to zero.
   *
   * @name release
   * @param {number | Pattern} time release time in seconds
   * @synonyms rel
   * @example
   * note("c3 e3 g3 c4").release("<0 .1 .4 .6 1>/2")
   *
   */`,meta:{filename:"controls.mjs",lineno:249,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Amplitude envelope release time: The time it takes after the offset to go from sustain level to zero.</p>",name:"release",params:[{type:{names:["number","Pattern"]},description:"<p>release time in seconds</p>",name:"time"}],synonyms_text:"rel",synonyms:["rel"],examples:['note("c3 e3 g3 c4").release("<0 .1 .4 .6 1>/2")'],longname:"release",kind:"member",scope:"global"},{comment:`/**
   * Sets the center frequency of the **b**and-**p**ass **f**ilter. When using mininotation, you
   * can also optionally supply the 'bpq' parameter separated by ':'.
   *
   * @name bpf
   * @param {number | Pattern} frequency center frequency
   * @synonyms bandf, bp
   * @example
   * s("bd sd [~ bd] sd,hh*6").bpf("<1000 2000 4000 8000>")
   *
   */`,meta:{filename:"controls.mjs",lineno:262,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Sets the center frequency of the <strong>b</strong>and-<strong>p</strong>ass <strong>f</strong>ilter. When using mininotation, you
can also optionally supply the 'bpq' parameter separated by ':'.</p>`,name:"bpf",params:[{type:{names:["number","Pattern"]},description:"<p>center frequency</p>",name:"frequency"}],synonyms_text:"bandf, bp",synonyms:["bandf","bp"],examples:['s("bd sd [~ bd] sd,hh*6").bpf("<1000 2000 4000 8000>")'],longname:"bpf",kind:"member",scope:"global"},{comment:`/**
   * Sets the **b**and-**p**ass **q**-factor (resonance).
   *
   * @name bpq
   * @param {number | Pattern} q q factor
   * @synonyms bandq
   * @example
   * s("bd sd [~ bd] sd").bpf(500).bpq("<0 1 2 3>")
   *
   */`,meta:{filename:"controls.mjs",lineno:275,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the <strong>b</strong>and-<strong>p</strong>ass <strong>q</strong>-factor (resonance).</p>",name:"bpq",params:[{type:{names:["number","Pattern"]},description:"<p>q factor</p>",name:"q"}],synonyms_text:"bandq",synonyms:["bandq"],examples:['s("bd sd [~ bd] sd").bpf(500).bpq("<0 1 2 3>")'],longname:"bpq",kind:"member",scope:"global"},{comment:`/**
   * a pattern of numbers from 0 to 1. Skips the beginning of each sample, e.g. \`0.25\` to cut off the first quarter from each sample.
   *
   * @memberof Pattern
   * @name begin
   * @param {number | Pattern} amount between 0 and 1, where 1 is the length of the sample
   * @example
   * samples({ rave: 'rave/AREUREADY.wav' }, 'github:tidalcycles/Dirt-Samples/master/')
   * s("rave").begin("<0 .25 .5 .75>").fast(2)
   *
   */`,meta:{filename:"controls.mjs",lineno:288,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>a pattern of numbers from 0 to 1. Skips the beginning of each sample, e.g. <code>0.25</code> to cut off the first quarter from each sample.</p>",memberof:"Pattern",name:"begin",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1, where 1 is the length of the sample</p>",name:"amount"}],examples:[`samples({ rave: 'rave/AREUREADY.wav' }, 'github:tidalcycles/Dirt-Samples/master/')
s("rave").begin("<0 .25 .5 .75>").fast(2)`],scope:"static",longname:"Pattern.begin",kind:"member"},{comment:`/**
   * The same as .begin, but cuts off the end off each sample.
   *
   * @memberof Pattern
   * @name end
   * @param {number | Pattern} length 1 = whole sample, .5 = half sample, .25 = quarter sample etc..
   * @example
   * s("bd*2,oh*4").end("<.1 .2 .5 1>").fast(2)
   *
   */`,meta:{filename:"controls.mjs",lineno:300,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>The same as .begin, but cuts off the end off each sample.</p>",memberof:"Pattern",name:"end",params:[{type:{names:["number","Pattern"]},description:"<p>1 = whole sample, .5 = half sample, .25 = quarter sample etc..</p>",name:"length"}],examples:['s("bd*2,oh*4").end("<.1 .2 .5 1>").fast(2)'],scope:"static",longname:"Pattern.end",kind:"member"},{comment:`/**
   * Loops the sample.
   * Note that the tempo of the loop is not synced with the cycle tempo.
   * To change the loop region, use loopBegin / loopEnd.
   *
   * @name loop
   * @param {number | Pattern} on If 1, the sample is looped
   * @example
   * s("casio").loop(1)
   *
   */`,meta:{filename:"controls.mjs",lineno:311,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Loops the sample.
Note that the tempo of the loop is not synced with the cycle tempo.
To change the loop region, use loopBegin / loopEnd.</p>`,name:"loop",params:[{type:{names:["number","Pattern"]},description:"<p>If 1, the sample is looped</p>",name:"on"}],examples:['s("casio").loop(1)'],longname:"loop",kind:"member",scope:"global"},{comment:`/**
   * Begin to loop at a specific point in the sample (inbetween \`begin\` and \`end\`).
   * Note that the loop point must be inbetween \`begin\` and \`end\`, and before \`loopEnd\`!
   * Note: Samples starting with wt_ will automatically loop! (wt = wavetable)
   *
   * @name loopBegin
   * @param {number | Pattern} time between 0 and 1, where 1 is the length of the sample
   * @synonyms loopb
   * @example
   * s("space").loop(1)
   * .loopBegin("<0 .125 .25>").scope()
   */`,meta:{filename:"controls.mjs",lineno:323,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Begin to loop at a specific point in the sample (inbetween <code>begin</code> and <code>end</code>).
Note that the loop point must be inbetween <code>begin</code> and <code>end</code>, and before <code>loopEnd</code>!
Note: Samples starting with wt_ will automatically loop! (wt = wavetable)</p>`,name:"loopBegin",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1, where 1 is the length of the sample</p>",name:"time"}],synonyms_text:"loopb",synonyms:["loopb"],examples:[`s("space").loop(1)
.loopBegin("<0 .125 .25>").scope()`],longname:"loopBegin",kind:"member",scope:"global"},{comment:`/**
   *
   * End the looping section at a specific point in the sample (inbetween \`begin\` and \`end\`).
   * Note that the loop point must be inbetween \`begin\` and \`end\`, and after \`loopBegin\`!
   *
   * @name loopEnd
   * @param {number | Pattern} time between 0 and 1, where 1 is the length of the sample
   * @synonyms loope
   * @example
   * s("space").loop(1)
   * .loopEnd("<1 .75 .5 .25>").scope()
   */`,meta:{filename:"controls.mjs",lineno:336,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>End the looping section at a specific point in the sample (inbetween <code>begin</code> and <code>end</code>).
Note that the loop point must be inbetween <code>begin</code> and <code>end</code>, and after <code>loopBegin</code>!</p>`,name:"loopEnd",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1, where 1 is the length of the sample</p>",name:"time"}],synonyms_text:"loope",synonyms:["loope"],examples:[`s("space").loop(1)
.loopEnd("<1 .75 .5 .25>").scope()`],longname:"loopEnd",kind:"member",scope:"global"},{comment:`/**
   * bit crusher effect.
   *
   * @name crush
   * @param {number | Pattern} depth between 1 (for drastic reduction in bit-depth) to 16 (for barely no reduction).
   * @example
   * s("<bd sd>,hh*3").fast(2).crush("<16 8 7 6 5 4 3 2>")
   *
   */`,meta:{filename:"controls.mjs",lineno:349,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>bit crusher effect.</p>",name:"crush",params:[{type:{names:["number","Pattern"]},description:"<p>between 1 (for drastic reduction in bit-depth) to 16 (for barely no reduction).</p>",name:"depth"}],examples:['s("<bd sd>,hh*3").fast(2).crush("<16 8 7 6 5 4 3 2>")'],longname:"crush",kind:"member",scope:"global"},{comment:`/**
   * a pattern of numbers from 0 to 1. Skips the beginning of each sample, e.g. \`0.25\` to cut off the first quarter from each sample.
   *
   * @name legato
   * @param {number | Pattern} duration between 0 and 1, where 1 is the length of the whole hap time
   * @noAutocomplete
   * @example
   * "c4 eb4 g4 bb4".legato("<0.125 .25 .5 .75 1 2 4>")
   *
   */`,meta:{filename:"controls.mjs",lineno:360,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>a pattern of numbers from 0 to 1. Skips the beginning of each sample, e.g. <code>0.25</code> to cut off the first quarter from each sample.</p>",name:"legato",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1, where 1 is the length of the whole hap time</p>",name:"duration"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],examples:['"c4 eb4 g4 bb4".legato("<0.125 .25 .5 .75 1 2 4>")'],longname:"legato",kind:"member",scope:"global"},{comment:`/**
   * fake-resampling for lowering the sample rate. Caution: This effect seems to only work in chromium based browsers
   *
   * @name coarse
   * @param {number | Pattern} factor 1 for original 2 for half, 3 for a third and so on.
   * @example
   * s("bd sd [~ bd] sd,hh*8").coarse("<1 4 8 16 32>")
   *
   */`,meta:{filename:"controls.mjs",lineno:373,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>fake-resampling for lowering the sample rate. Caution: This effect seems to only work in chromium based browsers</p>",name:"coarse",params:[{type:{names:["number","Pattern"]},description:"<p>1 for original 2 for half, 3 for a third and so on.</p>",name:"factor"}],examples:['s("bd sd [~ bd] sd,hh*8").coarse("<1 4 8 16 32>")'],longname:"coarse",kind:"member",scope:"global"},{comment:`/**
   * Allows you to set the output channels on the interface
   *
   * @name channels
   * @synonyms ch
   *
   * @param {number | Pattern} channels pattern the output channels
   * @example
   * note("e a d b g").channels("3:4")
   *
   */`,meta:{filename:"controls.mjs",lineno:384,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Allows you to set the output channels on the interface</p>",name:"channels",synonyms_text:"ch",synonyms:["ch"],params:[{type:{names:["number","Pattern"]},description:"<p>pattern the output channels</p>",name:"channels"}],examples:['note("e a d b g").channels("3:4")'],longname:"channels",kind:"member",scope:"global"},{comment:`/**
   * Phaser audio effect that approximates popular guitar pedals.
   *
   * @name phaser
   * @synonyms ph
   * @param {number | Pattern} speed speed of modulation
   * @example
   * n(run(8)).scale("D:pentatonic").s("sawtooth").release(0.5)
   * .phaser("<1 2 4 8>")
   *
   */`,meta:{filename:"controls.mjs",lineno:399,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Phaser audio effect that approximates popular guitar pedals.</p>",name:"phaser",synonyms_text:"ph",synonyms:["ph"],params:[{type:{names:["number","Pattern"]},description:"<p>speed of modulation</p>",name:"speed"}],examples:[`n(run(8)).scale("D:pentatonic").s("sawtooth").release(0.5)
.phaser("<1 2 4 8>")`],longname:"phaser",kind:"member",scope:"global"},{comment:`/**
   * The frequency sweep range of the lfo for the phaser effect. Defaults to 2000
   *
   * @name phasersweep
   * @synonyms phs
   * @param {number | Pattern} phasersweep most useful values are between 0 and 4000
   * @example
   * n(run(8)).scale("D:pentatonic").s("sawtooth").release(0.5)
   * .phaser(2).phasersweep("<800 2000 4000>")
   *
   */`,meta:{filename:"controls.mjs",lineno:412,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>The frequency sweep range of the lfo for the phaser effect. Defaults to 2000</p>",name:"phasersweep",synonyms_text:"phs",synonyms:["phs"],params:[{type:{names:["number","Pattern"]},description:"<p>most useful values are between 0 and 4000</p>",name:"phasersweep"}],examples:[`n(run(8)).scale("D:pentatonic").s("sawtooth").release(0.5)
.phaser(2).phasersweep("<800 2000 4000>")`],longname:"phasersweep",kind:"member",scope:"global"},{comment:`/**
   *  The center frequency of the phaser in HZ. Defaults to 1000
   *
   * @name phasercenter
   * @synonyms phc
   * @param {number | Pattern} centerfrequency in HZ
   * @example
   * n(run(8)).scale("D:pentatonic").s("sawtooth").release(0.5)
   * .phaser(2).phasercenter("<800 2000 4000>")
   *
   */`,meta:{filename:"controls.mjs",lineno:425,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>The center frequency of the phaser in HZ. Defaults to 1000</p>",name:"phasercenter",synonyms_text:"phc",synonyms:["phc"],params:[{type:{names:["number","Pattern"]},description:"<p>in HZ</p>",name:"centerfrequency"}],examples:[`n(run(8)).scale("D:pentatonic").s("sawtooth").release(0.5)
.phaser(2).phasercenter("<800 2000 4000>")`],longname:"phasercenter",kind:"member",scope:"global"},{comment:`/**
   * The amount the signal is affected by the phaser effect. Defaults to 0.75
   *
   * @name phaserdepth
   * @synonyms phd
   * @param {number | Pattern} depth number between 0 and 1
   * @example
   * n(run(8)).scale("D:pentatonic").s("sawtooth").release(0.5)
   * .phaser(2).phaserdepth("<0 .5 .75 1>")
   *
   */`,meta:{filename:"controls.mjs",lineno:439,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>The amount the signal is affected by the phaser effect. Defaults to 0.75</p>",name:"phaserdepth",synonyms_text:"phd",synonyms:["phd"],params:[{type:{names:["number","Pattern"]},description:"<p>number between 0 and 1</p>",name:"depth"}],examples:[`n(run(8)).scale("D:pentatonic").s("sawtooth").release(0.5)
.phaser(2).phaserdepth("<0 .5 .75 1>")`],longname:"phaserdepth",kind:"member",scope:"global"},{comment:`/**
   * choose the channel the pattern is sent to in superdirt
   *
   * @name channel
   * @param {number | Pattern} channel channel number
   *
   */`,meta:{filename:"controls.mjs",lineno:452,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>choose the channel the pattern is sent to in superdirt</p>",name:"channel",params:[{type:{names:["number","Pattern"]},description:"<p>channel number</p>",name:"channel"}],longname:"channel",kind:"member",scope:"global"},{comment:`/**
   * In the style of classic drum-machines, \`cut\` will stop a playing sample as soon as another samples with in same cutgroup is to be played. An example would be an open hi-hat followed by a closed one, essentially muting the open.
   *
   * @name cut
   * @param {number | Pattern} group cut group number
   * @example
   * s("[oh hh]*4").cut(1)
   *
   */`,meta:{filename:"controls.mjs",lineno:460,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>In the style of classic drum-machines, <code>cut</code> will stop a playing sample as soon as another samples with in same cutgroup is to be played. An example would be an open hi-hat followed by a closed one, essentially muting the open.</p>",name:"cut",params:[{type:{names:["number","Pattern"]},description:"<p>cut group number</p>",name:"group"}],examples:['s("[oh hh]*4").cut(1)'],longname:"cut",kind:"member",scope:"global"},{comment:`/**
   * Applies the cutoff frequency of the **l**ow-**p**ass **f**ilter.
   *
   * When using mininotation, you can also optionally add the 'lpq' parameter, separated by ':'.
   *
   * @name lpf
   * @param {number | Pattern} frequency audible between 0 and 20000
   * @synonyms cutoff, ctf, lp
   * @example
   * s("bd sd [~ bd] sd,hh*6").lpf("<4000 2000 1000 500 200 100>")
   * @example
   * s("bd*16").lpf("1000:0 1000:10 1000:20 1000:30")
   *
   */`,meta:{filename:"controls.mjs",lineno:470,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Applies the cutoff frequency of the <strong>l</strong>ow-<strong>p</strong>ass <strong>f</strong>ilter.</p>
<p>When using mininotation, you can also optionally add the 'lpq' parameter, separated by ':'.</p>`,name:"lpf",params:[{type:{names:["number","Pattern"]},description:"<p>audible between 0 and 20000</p>",name:"frequency"}],synonyms_text:"cutoff, ctf, lp",synonyms:["cutoff","ctf","lp"],examples:['s("bd sd [~ bd] sd,hh*6").lpf("<4000 2000 1000 500 200 100>")','s("bd*16").lpf("1000:0 1000:10 1000:20 1000:30")'],longname:"lpf",kind:"member",scope:"global"},{comment:`/**
   * Sets the lowpass filter envelope modulation depth.
   * @name lpenv
   * @param {number | Pattern} modulation depth of the lowpass filter envelope between 0 and _n_
   * @synonyms lpe
   * @example
   * note("c2 e2 f2 g2")
   * .sound('sawtooth')
   * .lpf(500)
   * .lpa(.5)
   * .lpenv("<4 2 1 0 -1 -2 -4>/4")
   */`,meta:{filename:"controls.mjs",lineno:486,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the lowpass filter envelope modulation depth.</p>",name:"lpenv",params:[{type:{names:["number","Pattern"]},description:"<p>depth of the lowpass filter envelope between 0 and <em>n</em></p>",name:"modulation"}],synonyms_text:"lpe",synonyms:["lpe"],examples:[`note("c2 e2 f2 g2")
.sound('sawtooth')
.lpf(500)
.lpa(.5)
.lpenv("<4 2 1 0 -1 -2 -4>/4")`],longname:"lpenv",kind:"member",scope:"global"},{comment:`/**
   * Sets the highpass filter envelope modulation depth.
   * @name hpenv
   * @param {number | Pattern} modulation depth of the highpass filter envelope between 0 and _n_
   * @synonyms hpe
   * @example
   * note("c2 e2 f2 g2")
   * .sound('sawtooth')
   * .hpf(500)
   * .hpa(.5)
   * .hpenv("<4 2 1 0 -1 -2 -4>/4")
   */`,meta:{filename:"controls.mjs",lineno:499,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the highpass filter envelope modulation depth.</p>",name:"hpenv",params:[{type:{names:["number","Pattern"]},description:"<p>depth of the highpass filter envelope between 0 and <em>n</em></p>",name:"modulation"}],synonyms_text:"hpe",synonyms:["hpe"],examples:[`note("c2 e2 f2 g2")
.sound('sawtooth')
.hpf(500)
.hpa(.5)
.hpenv("<4 2 1 0 -1 -2 -4>/4")`],longname:"hpenv",kind:"member",scope:"global"},{comment:`/**
   * Sets the bandpass filter envelope modulation depth.
   * @name bpenv
   * @param {number | Pattern} modulation depth of the bandpass filter envelope between 0 and _n_
   * @synonyms bpe
   * @example
   * note("c2 e2 f2 g2")
   * .sound('sawtooth')
   * .bpf(500)
   * .bpa(.5)
   * .bpenv("<4 2 1 0 -1 -2 -4>/4")
   */`,meta:{filename:"controls.mjs",lineno:512,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the bandpass filter envelope modulation depth.</p>",name:"bpenv",params:[{type:{names:["number","Pattern"]},description:"<p>depth of the bandpass filter envelope between 0 and <em>n</em></p>",name:"modulation"}],synonyms_text:"bpe",synonyms:["bpe"],examples:[`note("c2 e2 f2 g2")
.sound('sawtooth')
.bpf(500)
.bpa(.5)
.bpenv("<4 2 1 0 -1 -2 -4>/4")`],longname:"bpenv",kind:"member",scope:"global"},{comment:`/**
   * Sets the attack duration for the lowpass filter envelope.
   * @name lpattack
   * @param {number | Pattern} attack time of the filter envelope
   * @synonyms lpa
   * @example
   * note("c2 e2 f2 g2")
   * .sound('sawtooth')
   * .lpf(500)
   * .lpa("<.5 .25 .1 .01>/4")
   * .lpenv(4)
   */`,meta:{filename:"controls.mjs",lineno:525,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the attack duration for the lowpass filter envelope.</p>",name:"lpattack",params:[{type:{names:["number","Pattern"]},description:"<p>time of the filter envelope</p>",name:"attack"}],synonyms_text:"lpa",synonyms:["lpa"],examples:[`note("c2 e2 f2 g2")
.sound('sawtooth')
.lpf(500)
.lpa("<.5 .25 .1 .01>/4")
.lpenv(4)`],longname:"lpattack",kind:"member",scope:"global"},{comment:`/**
   * Sets the attack duration for the highpass filter envelope.
   * @name hpattack
   * @param {number | Pattern} attack time of the highpass filter envelope
   * @synonyms hpa
   * @example
   * note("c2 e2 f2 g2")
   * .sound('sawtooth')
   * .hpf(500)
   * .hpa("<.5 .25 .1 .01>/4")
   * .hpenv(4)
   */`,meta:{filename:"controls.mjs",lineno:538,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the attack duration for the highpass filter envelope.</p>",name:"hpattack",params:[{type:{names:["number","Pattern"]},description:"<p>time of the highpass filter envelope</p>",name:"attack"}],synonyms_text:"hpa",synonyms:["hpa"],examples:[`note("c2 e2 f2 g2")
.sound('sawtooth')
.hpf(500)
.hpa("<.5 .25 .1 .01>/4")
.hpenv(4)`],longname:"hpattack",kind:"member",scope:"global"},{comment:`/**
   * Sets the attack duration for the bandpass filter envelope.
   * @name bpattack
   * @param {number | Pattern} attack time of the bandpass filter envelope
   * @synonyms bpa
   * @example
   * note("c2 e2 f2 g2")
   * .sound('sawtooth')
   * .bpf(500)
   * .bpa("<.5 .25 .1 .01>/4")
   * .bpenv(4)
   */`,meta:{filename:"controls.mjs",lineno:551,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the attack duration for the bandpass filter envelope.</p>",name:"bpattack",params:[{type:{names:["number","Pattern"]},description:"<p>time of the bandpass filter envelope</p>",name:"attack"}],synonyms_text:"bpa",synonyms:["bpa"],examples:[`note("c2 e2 f2 g2")
.sound('sawtooth')
.bpf(500)
.bpa("<.5 .25 .1 .01>/4")
.bpenv(4)`],longname:"bpattack",kind:"member",scope:"global"},{comment:`/**
   * Sets the decay duration for the lowpass filter envelope.
   * @name lpdecay
   * @param {number | Pattern} decay time of the filter envelope
   * @synonyms lpd
   * @example
   * note("c2 e2 f2 g2")
   * .sound('sawtooth')
   * .lpf(500)
   * .lpd("<.5 .25 .1 0>/4")
   * .lps(0.2)
   * .lpenv(4)
   */`,meta:{filename:"controls.mjs",lineno:564,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the decay duration for the lowpass filter envelope.</p>",name:"lpdecay",params:[{type:{names:["number","Pattern"]},description:"<p>time of the filter envelope</p>",name:"decay"}],synonyms_text:"lpd",synonyms:["lpd"],examples:[`note("c2 e2 f2 g2")
.sound('sawtooth')
.lpf(500)
.lpd("<.5 .25 .1 0>/4")
.lps(0.2)
.lpenv(4)`],longname:"lpdecay",kind:"member",scope:"global"},{comment:`/**
   * Sets the decay duration for the highpass filter envelope.
   * @name hpdecay
   * @param {number | Pattern} decay time of the highpass filter envelope
   * @synonyms hpd
   * @example
   * note("c2 e2 f2 g2")
   * .sound('sawtooth')
   * .hpf(500)
   * .hpd("<.5 .25 .1 0>/4")
   * .hps(0.2)
   * .hpenv(4)
   */`,meta:{filename:"controls.mjs",lineno:578,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the decay duration for the highpass filter envelope.</p>",name:"hpdecay",params:[{type:{names:["number","Pattern"]},description:"<p>time of the highpass filter envelope</p>",name:"decay"}],synonyms_text:"hpd",synonyms:["hpd"],examples:[`note("c2 e2 f2 g2")
.sound('sawtooth')
.hpf(500)
.hpd("<.5 .25 .1 0>/4")
.hps(0.2)
.hpenv(4)`],longname:"hpdecay",kind:"member",scope:"global"},{comment:`/**
   * Sets the decay duration for the bandpass filter envelope.
   * @name bpdecay
   * @param {number | Pattern} decay time of the bandpass filter envelope
   * @synonyms bpd
   * @example
   * note("c2 e2 f2 g2")
   * .sound('sawtooth')
   * .bpf(500)
   * .bpd("<.5 .25 .1 0>/4")
   * .bps(0.2)
   * .bpenv(4)
   */`,meta:{filename:"controls.mjs",lineno:592,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the decay duration for the bandpass filter envelope.</p>",name:"bpdecay",params:[{type:{names:["number","Pattern"]},description:"<p>time of the bandpass filter envelope</p>",name:"decay"}],synonyms_text:"bpd",synonyms:["bpd"],examples:[`note("c2 e2 f2 g2")
.sound('sawtooth')
.bpf(500)
.bpd("<.5 .25 .1 0>/4")
.bps(0.2)
.bpenv(4)`],longname:"bpdecay",kind:"member",scope:"global"},{comment:`/**
   * Sets the sustain amplitude for the lowpass filter envelope.
   * @name lpsustain
   * @param {number | Pattern} sustain amplitude of the lowpass filter envelope
   * @synonyms lps
   * @example
   * note("c2 e2 f2 g2")
   * .sound('sawtooth')
   * .lpf(500)
   * .lpd(.5)
   * .lps("<0 .25 .5 1>/4")
   * .lpenv(4)
   */`,meta:{filename:"controls.mjs",lineno:606,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the sustain amplitude for the lowpass filter envelope.</p>",name:"lpsustain",params:[{type:{names:["number","Pattern"]},description:"<p>amplitude of the lowpass filter envelope</p>",name:"sustain"}],synonyms_text:"lps",synonyms:["lps"],examples:[`note("c2 e2 f2 g2")
.sound('sawtooth')
.lpf(500)
.lpd(.5)
.lps("<0 .25 .5 1>/4")
.lpenv(4)`],longname:"lpsustain",kind:"member",scope:"global"},{comment:`/**
   * Sets the sustain amplitude for the highpass filter envelope.
   * @name hpsustain
   * @param {number | Pattern} sustain amplitude of the highpass filter envelope
   * @synonyms hps
   * @example
   * note("c2 e2 f2 g2")
   * .sound('sawtooth')
   * .hpf(500)
   * .hpd(.5)
   * .hps("<0 .25 .5 1>/4")
   * .hpenv(4)
   */`,meta:{filename:"controls.mjs",lineno:620,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the sustain amplitude for the highpass filter envelope.</p>",name:"hpsustain",params:[{type:{names:["number","Pattern"]},description:"<p>amplitude of the highpass filter envelope</p>",name:"sustain"}],synonyms_text:"hps",synonyms:["hps"],examples:[`note("c2 e2 f2 g2")
.sound('sawtooth')
.hpf(500)
.hpd(.5)
.hps("<0 .25 .5 1>/4")
.hpenv(4)`],longname:"hpsustain",kind:"member",scope:"global"},{comment:`/**
   * Sets the sustain amplitude for the bandpass filter envelope.
   * @name bpsustain
   * @param {number | Pattern} sustain amplitude of the bandpass filter envelope
   * @synonyms bps
   * @example
   * note("c2 e2 f2 g2")
   * .sound('sawtooth')
   * .bpf(500)
   * .bpd(.5)
   * .bps("<0 .25 .5 1>/4")
   * .bpenv(4)
   */`,meta:{filename:"controls.mjs",lineno:634,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the sustain amplitude for the bandpass filter envelope.</p>",name:"bpsustain",params:[{type:{names:["number","Pattern"]},description:"<p>amplitude of the bandpass filter envelope</p>",name:"sustain"}],synonyms_text:"bps",synonyms:["bps"],examples:[`note("c2 e2 f2 g2")
.sound('sawtooth')
.bpf(500)
.bpd(.5)
.bps("<0 .25 .5 1>/4")
.bpenv(4)`],longname:"bpsustain",kind:"member",scope:"global"},{comment:`/**
   * Sets the release time for the lowpass filter envelope.
   * @name lprelease
   * @param {number | Pattern} release time of the filter envelope
   * @synonyms lpr
   * @example
   * note("c2 e2 f2 g2")
   * .sound('sawtooth')
   * .clip(.5)
   * .lpf(500)
   * .lpenv(4)
   * .lpr("<.5 .25 .1 0>/4")
   * .release(.5)
   */`,meta:{filename:"controls.mjs",lineno:648,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the release time for the lowpass filter envelope.</p>",name:"lprelease",params:[{type:{names:["number","Pattern"]},description:"<p>time of the filter envelope</p>",name:"release"}],synonyms_text:"lpr",synonyms:["lpr"],examples:[`note("c2 e2 f2 g2")
.sound('sawtooth')
.clip(.5)
.lpf(500)
.lpenv(4)
.lpr("<.5 .25 .1 0>/4")
.release(.5)`],longname:"lprelease",kind:"member",scope:"global"},{comment:`/**
   * Sets the release time for the highpass filter envelope.
   * @name hprelease
   * @param {number | Pattern} release time of the highpass filter envelope
   * @synonyms hpr
   * @example
   * note("c2 e2 f2 g2")
   * .sound('sawtooth')
   * .clip(.5)
   * .hpf(500)
   * .hpenv(4)
   * .hpr("<.5 .25 .1 0>/4")
   * .release(.5)
   */`,meta:{filename:"controls.mjs",lineno:663,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the release time for the highpass filter envelope.</p>",name:"hprelease",params:[{type:{names:["number","Pattern"]},description:"<p>time of the highpass filter envelope</p>",name:"release"}],synonyms_text:"hpr",synonyms:["hpr"],examples:[`note("c2 e2 f2 g2")
.sound('sawtooth')
.clip(.5)
.hpf(500)
.hpenv(4)
.hpr("<.5 .25 .1 0>/4")
.release(.5)`],longname:"hprelease",kind:"member",scope:"global"},{comment:`/**
   * Sets the release time for the bandpass filter envelope.
   * @name bprelease
   * @param {number | Pattern} release time of the bandpass filter envelope
   * @synonyms bpr
   * @example
   * note("c2 e2 f2 g2")
   * .sound('sawtooth')
   * .clip(.5)
   * .bpf(500)
   * .bpenv(4)
   * .bpr("<.5 .25 .1 0>/4")
   * .release(.5)
   */`,meta:{filename:"controls.mjs",lineno:678,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the release time for the bandpass filter envelope.</p>",name:"bprelease",params:[{type:{names:["number","Pattern"]},description:"<p>time of the bandpass filter envelope</p>",name:"release"}],synonyms_text:"bpr",synonyms:["bpr"],examples:[`note("c2 e2 f2 g2")
.sound('sawtooth')
.clip(.5)
.bpf(500)
.bpenv(4)
.bpr("<.5 .25 .1 0>/4")
.release(.5)`],longname:"bprelease",kind:"member",scope:"global"},{comment:`/**
   * Sets the filter type. The 24db filter is more aggressive. More types might be added in the future.
   * @name ftype
   * @param {number | Pattern} type 12db (default) or 24db
   * @example
   * note("c2 e2 f2 g2")
   * .sound('sawtooth')
   * .lpf(500)
   * .bpenv(4)
   * .ftype("12db 24db")
   */`,meta:{filename:"controls.mjs",lineno:693,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the filter type. The 24db filter is more aggressive. More types might be added in the future.</p>",name:"ftype",params:[{type:{names:["number","Pattern"]},description:"<p>12db (default) or 24db</p>",name:"type"}],examples:[`note("c2 e2 f2 g2")
.sound('sawtooth')
.lpf(500)
.bpenv(4)
.ftype("12db 24db")`],longname:"ftype",kind:"member",scope:"global"},{comment:`/**
   * Applies the cutoff frequency of the **h**igh-**p**ass **f**ilter.
   *
   * When using mininotation, you can also optionally add the 'hpq' parameter, separated by ':'.
   *
   * @name hpf
   * @param {number | Pattern} frequency audible between 0 and 20000
   * @synonyms hp, hcutoff
   * @example
   * s("bd sd [~ bd] sd,hh*8").hpf("<4000 2000 1000 500 200 100>")
   * @example
   * s("bd sd [~ bd] sd,hh*8").hpf("<2000 2000:25>")
   *
   */`,meta:{filename:"controls.mjs",lineno:706,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Applies the cutoff frequency of the <strong>h</strong>igh-<strong>p</strong>ass <strong>f</strong>ilter.</p>
<p>When using mininotation, you can also optionally add the 'hpq' parameter, separated by ':'.</p>`,name:"hpf",params:[{type:{names:["number","Pattern"]},description:"<p>audible between 0 and 20000</p>",name:"frequency"}],synonyms_text:"hp, hcutoff",synonyms:["hp","hcutoff"],examples:['s("bd sd [~ bd] sd,hh*8").hpf("<4000 2000 1000 500 200 100>")','s("bd sd [~ bd] sd,hh*8").hpf("<2000 2000:25>")'],longname:"hpf",kind:"member",scope:"global"},{comment:`/**
   * Applies a vibrato to the frequency of the oscillator.
   *
   * @name vib
   * @synonyms vibrato, v
   * @param {number | Pattern} frequency of the vibrato in hertz
   * @example
   * note("a e")
   * .vib("<.5 1 2 4 8 16>")
   * @example
   * // change the modulation depth with ":"
   * note("a e")
   * .vib("<.5 1 2 4 8 16>:12")
   */`,meta:{filename:"controls.mjs",lineno:722,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Applies a vibrato to the frequency of the oscillator.</p>",name:"vib",synonyms_text:"vibrato, v",synonyms:["vibrato","v"],params:[{type:{names:["number","Pattern"]},description:"<p>of the vibrato in hertz</p>",name:"frequency"}],examples:[`note("a e")
.vib("<.5 1 2 4 8 16>")`,`// change the modulation depth with ":"
note("a e")
.vib("<.5 1 2 4 8 16>:12")`],longname:"vib",kind:"member",scope:"global"},{comment:`/**
   * Adds pink noise to the mix
   *
   * @name noise
   * @param {number | Pattern} wet wet amount
   * @example
   * sound("<white pink brown>/2")
   */`,meta:{filename:"controls.mjs",lineno:737,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Adds pink noise to the mix</p>",name:"noise",params:[{type:{names:["number","Pattern"]},description:"<p>wet amount</p>",name:"wet"}],examples:['sound("<white pink brown>/2")'],longname:"noise",kind:"member",scope:"global"},{comment:`/**
   * Sets the vibrato depth in semitones. Only has an effect if \`vibrato\` | \`vib\` | \`v\` is is also set
   *
   * @name vibmod
   * @synonyms vmod
   * @param {number | Pattern} depth of vibrato (in semitones)
   * @example
   * note("a e").vib(4)
   * .vibmod("<.25 .5 1 2 12>")
   * @example
   * // change the vibrato frequency with ":"
   * note("a e")
   * .vibmod("<.25 .5 1 2 12>:8")
   */`,meta:{filename:"controls.mjs",lineno:746,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the vibrato depth in semitones. Only has an effect if <code>vibrato</code> | <code>vib</code> | <code>v</code> is is also set</p>",name:"vibmod",synonyms_text:"vmod",synonyms:["vmod"],params:[{type:{names:["number","Pattern"]},description:"<p>of vibrato (in semitones)</p>",name:"depth"}],examples:[`note("a e").vib(4)
.vibmod("<.25 .5 1 2 12>")`,`// change the vibrato frequency with ":"
note("a e")
.vibmod("<.25 .5 1 2 12>:8")`],longname:"vibmod",kind:"member",scope:"global"},{comment:`/**
   * Controls the **h**igh-**p**ass **q**-value.
   *
   * @name hpq
   * @param {number | Pattern} q resonance factor between 0 and 50
   * @synonyms hresonance
   * @example
   * s("bd sd [~ bd] sd,hh*8").hpf(2000).hpq("<0 10 20 30>")
   *
   */`,meta:{filename:"controls.mjs",lineno:762,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Controls the <strong>h</strong>igh-<strong>p</strong>ass <strong>q</strong>-value.</p>",name:"hpq",params:[{type:{names:["number","Pattern"]},description:"<p>resonance factor between 0 and 50</p>",name:"q"}],synonyms_text:"hresonance",synonyms:["hresonance"],examples:['s("bd sd [~ bd] sd,hh*8").hpf(2000).hpq("<0 10 20 30>")'],longname:"hpq",kind:"member",scope:"global"},{comment:`/**
   * Controls the **l**ow-**p**ass **q**-value.
   *
   * @name lpq
   * @param {number | Pattern} q resonance factor between 0 and 50
   * @synonyms resonance
   * @example
   * s("bd sd [~ bd] sd,hh*8").lpf(2000).lpq("<0 10 20 30>")
   *
   */`,meta:{filename:"controls.mjs",lineno:773,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Controls the <strong>l</strong>ow-<strong>p</strong>ass <strong>q</strong>-value.</p>",name:"lpq",params:[{type:{names:["number","Pattern"]},description:"<p>resonance factor between 0 and 50</p>",name:"q"}],synonyms_text:"resonance",synonyms:["resonance"],examples:['s("bd sd [~ bd] sd,hh*8").lpf(2000).lpq("<0 10 20 30>")'],longname:"lpq",kind:"member",scope:"global"},{comment:`/**
   * DJ filter, below 0.5 is low pass filter, above is high pass filter.
   *
   * @name djf
   * @param {number | Pattern} cutoff below 0.5 is low pass filter, above is high pass filter
   * @example
   * n("0 3 7 [10,24]").s('superzow').octave(3).djf("<.5 .25 .5 .75>").osc()
   *
   */`,meta:{filename:"controls.mjs",lineno:785,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>DJ filter, below 0.5 is low pass filter, above is high pass filter.</p>",name:"djf",params:[{type:{names:["number","Pattern"]},description:"<p>below 0.5 is low pass filter, above is high pass filter</p>",name:"cutoff"}],examples:[`n("0 3 7 [10,24]").s('superzow').octave(3).djf("<.5 .25 .5 .75>").osc()`],longname:"djf",kind:"member",scope:"global"},{comment:`/**
   * Sets the level of the delay signal.
   *
   * When using mininotation, you can also optionally add the 'delaytime' and 'delayfeedback' parameter,
   * separated by ':'.
   *
   *
   * @name delay
   * @param {number | Pattern} level between 0 and 1
   * @example
   * s("bd bd").delay("<0 .25 .5 1>")
   * @example
   * s("bd bd").delay("0.65:0.25:0.9 0.65:0.125:0.7")
   *
   */`,meta:{filename:"controls.mjs",lineno:797,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Sets the level of the delay signal.</p>
<p>When using mininotation, you can also optionally add the 'delaytime' and 'delayfeedback' parameter,
separated by ':'.</p>`,name:"delay",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1</p>",name:"level"}],examples:['s("bd bd").delay("<0 .25 .5 1>")','s("bd bd").delay("0.65:0.25:0.9 0.65:0.125:0.7")'],longname:"delay",kind:"member",scope:"global"},{comment:`/**
   * Sets the level of the signal that is fed back into the delay.
   * Caution: Values >= 1 will result in a signal that gets louder and louder! Don't do it
   *
   * @name delayfeedback
   * @param {number | Pattern} feedback between 0 and 1
   * @synonyms delayfb, dfb
   * @example
   * s("bd").delay(.25).delayfeedback("<.25 .5 .75 1>")
   *
   */`,meta:{filename:"controls.mjs",lineno:813,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Sets the level of the signal that is fed back into the delay.
Caution: Values &gt;= 1 will result in a signal that gets louder and louder! Don't do it</p>`,name:"delayfeedback",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1</p>",name:"feedback"}],synonyms_text:"delayfb, dfb",synonyms:["delayfb","dfb"],examples:['s("bd").delay(.25).delayfeedback("<.25 .5 .75 1>")'],longname:"delayfeedback",kind:"member",scope:"global"},{comment:`/**
   * Sets the time of the delay effect.
   *
   * @name delaytime
   * @param {number | Pattern} seconds between 0 and Infinity
   * @synonyms delayt, dt
   * @example
   * s("bd bd").delay(.25).delaytime("<.125 .25 .5 1>")
   *
   */`,meta:{filename:"controls.mjs",lineno:825,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the time of the delay effect.</p>",name:"delaytime",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and Infinity</p>",name:"seconds"}],synonyms_text:"delayt, dt",synonyms:["delayt","dt"],examples:['s("bd bd").delay(.25).delaytime("<.125 .25 .5 1>")'],longname:"delaytime",kind:"member",scope:"global"},{comment:`/**
   * Set detune of oscillators. Works only with some synths, see <a target="_blank" href="https://tidalcycles.org/docs/patternlib/tutorials/synthesizers">tidal doc</a>
   *
   * @name detune
   * @param {number | Pattern} amount between 0 and 1
   * @synonyms det
   * @superdirtOnly
   * @example
   * n("0 3 7").s('superzow').octave(3).detune("<0 .25 .5 1 2>").osc()
   *
   */`,meta:{filename:"controls.mjs",lineno:846,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:'<p>Set detune of oscillators. Works only with some synths, see <a target="_blank" href="https://tidalcycles.org/docs/patternlib/tutorials/synthesizers">tidal doc</a></p>',name:"detune",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1</p>",name:"amount"}],synonyms_text:"det",synonyms:["det"],tags:[{originalTitle:"superdirtOnly",title:"superdirtonly",text:""}],examples:[`n("0 3 7").s('superzow').octave(3).detune("<0 .25 .5 1 2>").osc()`],longname:"detune",kind:"member",scope:"global"},{comment:`/**
   * Set dryness of reverb. See \`room\` and \`size\` for more information about reverb.
   *
   * @name dry
   * @param {number | Pattern} dry 0 = wet, 1 = dry
   * @example
   * n("[0,3,7](3,8)").s("superpiano").room(.7).dry("<0 .5 .75 1>").osc()
   * @superdirtOnly
   *
   */`,meta:{filename:"controls.mjs",lineno:858,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Set dryness of reverb. See <code>room</code> and <code>size</code> for more information about reverb.</p>",name:"dry",params:[{type:{names:["number","Pattern"]},description:"<p>0 = wet, 1 = dry</p>",name:"dry"}],examples:['n("[0,3,7](3,8)").s("superpiano").room(.7).dry("<0 .5 .75 1>").osc()'],tags:[{originalTitle:"superdirtOnly",title:"superdirtonly",text:""}],longname:"dry",kind:"member",scope:"global"},{comment:`/**
   * Set frequency of sound.
   *
   * @name freq
   * @param {number | Pattern} frequency in Hz. the audible range is between 20 and 20000 Hz
   * @example
   * freq("220 110 440 110").s("superzow").osc()
   * @example
   * freq("110".mul.out(".5 1.5 .6 [2 3]")).s("superzow").osc()
   *
   */`,meta:{filename:"controls.mjs",lineno:882,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Set frequency of sound.</p>",name:"freq",params:[{type:{names:["number","Pattern"]},description:"<p>in Hz. the audible range is between 20 and 20000 Hz</p>",name:"frequency"}],examples:['freq("220 110 440 110").s("superzow").osc()','freq("110".mul.out(".5 1.5 .6 [2 3]")).s("superzow").osc()'],longname:"freq",kind:"member",scope:"global"},{comment:`/**
   * Attack time of pitch envelope.
   *
   * @name pattack
   * @synonyms patt
   * @param {number | Pattern} time time in seconds
   * @example
   * note("c eb g bb").pattack("0 .1 .25 .5").slow(2)
   *
   */`,meta:{filename:"controls.mjs",lineno:895,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Attack time of pitch envelope.</p>",name:"pattack",synonyms_text:"patt",synonyms:["patt"],params:[{type:{names:["number","Pattern"]},description:"<p>time in seconds</p>",name:"time"}],examples:['note("c eb g bb").pattack("0 .1 .25 .5").slow(2)'],longname:"pattack",kind:"member",scope:"global"},{comment:`/**
   * Decay time of pitch envelope.
   *
   * @name pdecay
   * @synonyms pdec
   * @param {number | Pattern} time time in seconds
   * @example
   * note("<c eb g bb>").pdecay("<0 .1 .25 .5>")
   *
   */`,meta:{filename:"controls.mjs",lineno:906,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Decay time of pitch envelope.</p>",name:"pdecay",synonyms_text:"pdec",synonyms:["pdec"],params:[{type:{names:["number","Pattern"]},description:"<p>time in seconds</p>",name:"time"}],examples:['note("<c eb g bb>").pdecay("<0 .1 .25 .5>")'],longname:"pdecay",kind:"member",scope:"global"},{comment:`/**
   * Release time of pitch envelope
   *
   * @name prelease
   * @synonyms prel
   * @param {number | Pattern} time time in seconds
   * @example
   * note("<c eb g bb> ~")
   * .release(.5) // to hear the pitch release
   * .prelease("<0 .1 .25 .5>")
   *
   */`,meta:{filename:"controls.mjs",lineno:919,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Release time of pitch envelope</p>",name:"prelease",synonyms_text:"prel",synonyms:["prel"],params:[{type:{names:["number","Pattern"]},description:"<p>time in seconds</p>",name:"time"}],examples:[`note("<c eb g bb> ~")
.release(.5) // to hear the pitch release
.prelease("<0 .1 .25 .5>")`],longname:"prelease",kind:"member",scope:"global"},{comment:`/**
   * Amount of pitch envelope. Negative values will flip the envelope.
   * If you don't set other pitch envelope controls, \`pattack:.2\` will be the default.
   *
   * @name penv
   * @param {number | Pattern} semitones change in semitones
   * @example
   * note("c")
   * .penv("<12 7 1 .5 0 -1 -7 -12>")
   *
   */`,meta:{filename:"controls.mjs",lineno:932,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Amount of pitch envelope. Negative values will flip the envelope.
If you don't set other pitch envelope controls, <code>pattack:.2</code> will be the default.</p>`,name:"penv",params:[{type:{names:["number","Pattern"]},description:"<p>change in semitones</p>",name:"semitones"}],examples:[`note("c")
.penv("<12 7 1 .5 0 -1 -7 -12>")`],longname:"penv",kind:"member",scope:"global"},{comment:`/**
   * Curve of envelope. Defaults to linear. exponential is good for kicks
   *
   * @name pcurve
   * @param {number | Pattern} type 0 = linear, 1 = exponential
   * @example
   * note("g1*4")
   * .s("sine").pdec(.5)
   * .penv(32)
   * .pcurve("<0 1>")
   *
   */`,meta:{filename:"controls.mjs",lineno:944,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Curve of envelope. Defaults to linear. exponential is good for kicks</p>",name:"pcurve",params:[{type:{names:["number","Pattern"]},description:"<p>0 = linear, 1 = exponential</p>",name:"type"}],examples:[`note("g1*4")
.s("sine").pdec(.5)
.penv(32)
.pcurve("<0 1>")`],longname:"pcurve",kind:"member",scope:"global"},{comment:`/**
   * Sets the range anchor of the envelope:
   * - anchor 0: range = [note, note + penv]
   * - anchor 1: range = [note - penv, note]
   * If you don't set an anchor, the value will default to the psustain value.
   *
   * @name panchor
   * @param {number | Pattern} anchor anchor offset
   * @example
   * note("c c4").penv(12).panchor("<0 .5 1 .5>")
   *
   */`,meta:{filename:"controls.mjs",lineno:957,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Sets the range anchor of the envelope:</p>
<ul>
<li>anchor 0: range = [note, note + penv]</li>
<li>anchor 1: range = [note - penv, note]
If you don't set an anchor, the value will default to the psustain value.</li>
</ul>`,name:"panchor",params:[{type:{names:["number","Pattern"]},description:"<p>anchor offset</p>",name:"anchor"}],examples:['note("c c4").penv(12).panchor("<0 .5 1 .5>")'],longname:"panchor",kind:"member",scope:"global"},{comment:`/**
   * Emulation of a Leslie speaker: speakers rotating in a wooden amplified cabinet.
   *
   * @name leslie
   * @param {number | Pattern} wet between 0 and 1
   * @example
   * n("0,4,7").s("supersquare").leslie("<0 .4 .6 1>").osc()
   * @superdirtOnly
   *
   */`,meta:{filename:"controls.mjs",lineno:981,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Emulation of a Leslie speaker: speakers rotating in a wooden amplified cabinet.</p>",name:"leslie",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1</p>",name:"wet"}],examples:['n("0,4,7").s("supersquare").leslie("<0 .4 .6 1>").osc()'],tags:[{originalTitle:"superdirtOnly",title:"superdirtonly",text:""}],longname:"leslie",kind:"member",scope:"global"},{comment:`/**
   * Rate of modulation / rotation for leslie effect
   *
   * @name lrate
   * @param {number | Pattern} rate 6.7 for fast, 0.7 for slow
   * @example
   * n("0,4,7").s("supersquare").leslie(1).lrate("<1 2 4 8>").osc()
   * @superdirtOnly
   *
   */`,meta:{filename:"controls.mjs",lineno:992,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Rate of modulation / rotation for leslie effect</p>",name:"lrate",params:[{type:{names:["number","Pattern"]},description:"<p>6.7 for fast, 0.7 for slow</p>",name:"rate"}],examples:['n("0,4,7").s("supersquare").leslie(1).lrate("<1 2 4 8>").osc()'],tags:[{originalTitle:"superdirtOnly",title:"superdirtonly",text:""}],longname:"lrate",kind:"member",scope:"global"},{comment:`/**
   * Physical size of the cabinet in meters. Be careful, it might be slightly larger than your computer. Affects the Doppler amount (pitch warble)
   *
   * @name lsize
   * @param {number | Pattern} meters somewhere between 0 and 1
   * @example
   * n("0,4,7").s("supersquare").leslie(1).lrate(2).lsize("<.1 .5 1>").osc()
   * @superdirtOnly
   *
   */`,meta:{filename:"controls.mjs",lineno:1004,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Physical size of the cabinet in meters. Be careful, it might be slightly larger than your computer. Affects the Doppler amount (pitch warble)</p>",name:"lsize",params:[{type:{names:["number","Pattern"]},description:"<p>somewhere between 0 and 1</p>",name:"meters"}],examples:['n("0,4,7").s("supersquare").leslie(1).lrate(2).lsize("<.1 .5 1>").osc()'],tags:[{originalTitle:"superdirtOnly",title:"superdirtonly",text:""}],longname:"lsize",kind:"member",scope:"global"},{comment:`/**
   * Sets the displayed text for an event on the pianoroll
   *
   * @name label
   * @param {string} label text to display
   */`,meta:{filename:"controls.mjs",lineno:1015,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the displayed text for an event on the pianoroll</p>",name:"label",params:[{type:{names:["string"]},description:"<p>text to display</p>",name:"label"}],longname:"label",kind:"member",scope:"global"},{comment:`/**
   * Sets the default octave of a synth.
   *
   * @name octave
   * @param {number | Pattern} octave octave number
   * @example
   * n("0,4,7").s('supersquare').octave("<3 4 5 6>").osc()
   * @superDirtOnly
   */`,meta:{filename:"controls.mjs",lineno:1045,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the default octave of a synth.</p>",name:"octave",params:[{type:{names:["number","Pattern"]},description:"<p>octave number</p>",name:"octave"}],examples:[`n("0,4,7").s('supersquare').octave("<3 4 5 6>").osc()`],tags:[{originalTitle:"superDirtOnly",title:"superdirtonly",text:""}],longname:"octave",kind:"member",scope:"global"},{comment:`/**
   * An \`orbit\` is a global parameter context for patterns. Patterns with the same orbit will share the same global effects.
   *
   * @name orbit
   * @param {number | Pattern} number
   * @example
   * stack(
   *   s("hh*6").delay(.5).delaytime(.25).orbit(1),
   *   s("~ sd ~ sd").delay(.5).delaytime(.125).orbit(2)
   * )
   */`,meta:{filename:"controls.mjs",lineno:1058,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>An <code>orbit</code> is a global parameter context for patterns. Patterns with the same orbit will share the same global effects.</p>",name:"orbit",params:[{type:{names:["number","Pattern"]},name:"number"}],examples:[`stack(
  s("hh*6").delay(.5).delaytime(.25).orbit(1),
  s("~ sd ~ sd").delay(.5).delaytime(.125).orbit(2)
)`],longname:"orbit",kind:"member",scope:"global"},{comment:`/**
   * Sets position in stereo.
   *
   * @name pan
   * @param {number | Pattern} pan between 0 and 1, from left to right (assuming stereo), once round a circle (assuming multichannel)
   * @example
   * s("[bd hh]*2").pan("<.5 1 .5 0>")
   * @example
   * s("bd rim sd rim bd ~ cp rim").pan(sine.slow(2))
   *
   */`,meta:{filename:"controls.mjs",lineno:1072,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets position in stereo.</p>",name:"pan",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1, from left to right (assuming stereo), once round a circle (assuming multichannel)</p>",name:"pan"}],examples:['s("[bd hh]*2").pan("<.5 1 .5 0>")','s("bd rim sd rim bd ~ cp rim").pan(sine.slow(2))'],longname:"pan",kind:"member",scope:"global"},{comment:`/**
   * Sets the level of reverb.
   *
   * When using mininotation, you can also optionally add the 'size' parameter, separated by ':'.
   *
   * @name room
   * @param {number | Pattern} level between 0 and 1
   * @example
   * s("bd sd [~ bd] sd").room("<0 .2 .4 .6 .8 1>")
   * @example
   * s("bd sd [~ bd] sd").room("<0.9:1 0.9:4>")
   *
   */`,meta:{filename:"controls.mjs",lineno:1130,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Sets the level of reverb.</p>
<p>When using mininotation, you can also optionally add the 'size' parameter, separated by ':'.</p>`,name:"room",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1</p>",name:"level"}],examples:['s("bd sd [~ bd] sd").room("<0 .2 .4 .6 .8 1>")','s("bd sd [~ bd] sd").room("<0.9:1 0.9:4>")'],longname:"room",kind:"member",scope:"global"},{comment:`/**
   * Reverb lowpass starting frequency (in hertz).
   * When this property is changed, the reverb will be recaculated, so only change this sparsely..
   *
   * @name roomlp
   * @synonyms rlp
   * @param {number} frequency between 0 and 20000hz
   * @example
   * s("bd sd [~ bd] sd").room(0.5).rlp(10000)
   * @example
   * s("bd sd [~ bd] sd").room(0.5).rlp(5000)
   */`,meta:{filename:"controls.mjs",lineno:1144,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Reverb lowpass starting frequency (in hertz).
When this property is changed, the reverb will be recaculated, so only change this sparsely..</p>`,name:"roomlp",synonyms_text:"rlp",synonyms:["rlp"],params:[{type:{names:["number"]},description:"<p>between 0 and 20000hz</p>",name:"frequency"}],examples:['s("bd sd [~ bd] sd").room(0.5).rlp(10000)','s("bd sd [~ bd] sd").room(0.5).rlp(5000)'],longname:"roomlp",kind:"member",scope:"global"},{comment:`/**
   * Reverb lowpass frequency at -60dB (in hertz).
   * When this property is changed, the reverb will be recaculated, so only change this sparsely..
   *
   * @name roomdim
   * @synonyms rdim
   * @param {number} frequency between 0 and 20000hz
   * @example
   * s("bd sd [~ bd] sd").room(0.5).rlp(10000).rdim(8000)
   * @example
   * s("bd sd [~ bd] sd").room(0.5).rlp(5000).rdim(400)
   *
   */`,meta:{filename:"controls.mjs",lineno:1157,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Reverb lowpass frequency at -60dB (in hertz).
When this property is changed, the reverb will be recaculated, so only change this sparsely..</p>`,name:"roomdim",synonyms_text:"rdim",synonyms:["rdim"],params:[{type:{names:["number"]},description:"<p>between 0 and 20000hz</p>",name:"frequency"}],examples:['s("bd sd [~ bd] sd").room(0.5).rlp(10000).rdim(8000)','s("bd sd [~ bd] sd").room(0.5).rlp(5000).rdim(400)'],longname:"roomdim",kind:"member",scope:"global"},{comment:`/**
   * Reverb fade time (in seconds).
   * When this property is changed, the reverb will be recaculated, so only change this sparsely..
   *
   * @name roomfade
   * @synonyms rfade
   * @param {number} seconds for the reverb to fade
   * @example
   * s("bd sd [~ bd] sd").room(0.5).rlp(10000).rfade(0.5)
   * @example
   * s("bd sd [~ bd] sd").room(0.5).rlp(5000).rfade(4)
   *
   */`,meta:{filename:"controls.mjs",lineno:1171,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Reverb fade time (in seconds).
When this property is changed, the reverb will be recaculated, so only change this sparsely..</p>`,name:"roomfade",synonyms_text:"rfade",synonyms:["rfade"],params:[{type:{names:["number"]},description:"<p>for the reverb to fade</p>",name:"seconds"}],examples:['s("bd sd [~ bd] sd").room(0.5).rlp(10000).rfade(0.5)','s("bd sd [~ bd] sd").room(0.5).rlp(5000).rfade(4)'],longname:"roomfade",kind:"member",scope:"global"},{comment:`/**
   * Sets the sample to use as an impulse response for the reverb.
   * @name iresponse
   * @param {string | Pattern} sample to use as an impulse response
   * @synonyms ir
   * @example
   * s("bd sd [~ bd] sd").room(.8).ir("<shaker_large:0 shaker_large:2>")
   *
   */`,meta:{filename:"controls.mjs",lineno:1185,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the sample to use as an impulse response for the reverb.</p>",name:"iresponse",params:[{type:{names:["string","Pattern"]},description:"<p>to use as an impulse response</p>",name:"sample"}],synonyms_text:"ir",synonyms:["ir"],examples:['s("bd sd [~ bd] sd").room(.8).ir("<shaker_large:0 shaker_large:2>")'],longname:"iresponse",kind:"member",scope:"global"},{comment:`/**
   * Sets the room size of the reverb, see \`room\`.
   * When this property is changed, the reverb will be recaculated, so only change this sparsely..
   *
   * @name roomsize
   * @param {number | Pattern} size between 0 and 10
   * @synonyms rsize, sz, size
   * @example
   * s("bd sd [~ bd] sd").room(.8).rsize(1)
   * @example
   * s("bd sd [~ bd] sd").room(.8).rsize(4)
   *
   */`,meta:{filename:"controls.mjs",lineno:1195,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Sets the room size of the reverb, see <code>room</code>.
When this property is changed, the reverb will be recaculated, so only change this sparsely..</p>`,name:"roomsize",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 10</p>",name:"size"}],synonyms_text:"rsize, sz, size",synonyms:["rsize","sz","size"],examples:['s("bd sd [~ bd] sd").room(.8).rsize(1)','s("bd sd [~ bd] sd").room(.8).rsize(4)'],longname:"roomsize",kind:"member",scope:"global"},{comment:`/**
   * Wave shaping distortion. CAUTION: it might get loud
   *
   * @name shape
   * @param {number | Pattern} distortion between 0 and 1
   * @example
   * s("bd sd [~ bd] sd,hh*8").shape("<0 .2 .4 .6 .8>")
   *
   */`,meta:{filename:"controls.mjs",lineno:1216,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Wave shaping distortion. CAUTION: it might get loud</p>",name:"shape",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1</p>",name:"distortion"}],examples:['s("bd sd [~ bd] sd,hh*8").shape("<0 .2 .4 .6 .8>")'],longname:"shape",kind:"member",scope:"global"},{comment:`/**
   * Dynamics Compressor. The params are \`compressor("threshold:ratio:knee:attack:release")\`
   * More info [here](https://developer.mozilla.org/en-US/docs/Web/API/DynamicsCompressorNode?retiredLocale=de#instance_properties)
   *
   * @name compressor
   * @example
   * s("bd sd [~ bd] sd,hh*8")
   * .compressor("-20:20:10:.002:.02")
   *
   */`,meta:{filename:"controls.mjs",lineno:1226,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Dynamics Compressor. The params are <code>compressor(&quot;threshold:ratio:knee:attack:release&quot;)</code>
More info <a href="https://developer.mozilla.org/en-US/docs/Web/API/DynamicsCompressorNode?retiredLocale=de#instance_properties">here</a></p>`,name:"compressor",examples:[`s("bd sd [~ bd] sd,hh*8")
.compressor("-20:20:10:.002:.02")`],longname:"compressor",kind:"member",scope:"global"},{comment:`/**
   * Changes the speed of sample playback, i.e. a cheap way of changing pitch.
   *
   * @name speed
   * @param {number | Pattern} speed -inf to inf, negative numbers play the sample backwards.
   * @example
   * s("bd*6").speed("1 2 4 1 -2 -4")
   * @example
   * speed("1 1.5*2 [2 1.1]").s("piano").clip(1)
   *
   */`,meta:{filename:"controls.mjs",lineno:1241,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Changes the speed of sample playback, i.e. a cheap way of changing pitch.</p>",name:"speed",params:[{type:{names:["number","Pattern"]},description:"<p>inf to inf, negative numbers play the sample backwards.</p>",name:"speed"}],examples:['s("bd*6").speed("1 2 4 1 -2 -4")','speed("1 1.5*2 [2 1.1]").s("piano").clip(1)'],longname:"speed",kind:"member",scope:"global"},{comment:'/**\n   * Used in conjunction with `speed`, accepts values of "r" (rate, default behavior), "c" (cycles), or "s" (seconds). Using `unit "c"` means `speed` will be interpreted in units of cycles, e.g. `speed "1"` means samples will be stretched to fill a cycle. Using `unit "s"` means the playback speed will be adjusted so that the duration is the number of seconds specified by `speed`.\n   *\n   * @name unit\n   * @param {number | string | Pattern} unit see description above\n   * @example\n   * speed("1 2 .5 3").s("bd").unit("c").osc()\n   * @superdirtOnly\n   *\n   */',meta:{filename:"controls.mjs",lineno:1253,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Used in conjunction with <code>speed</code>, accepts values of &quot;r&quot; (rate, default behavior), &quot;c&quot; (cycles), or &quot;s&quot; (seconds). Using <code>unit &quot;c&quot;</code> means <code>speed</code> will be interpreted in units of cycles, e.g. <code>speed &quot;1&quot;</code> means samples will be stretched to fill a cycle. Using <code>unit &quot;s&quot;</code> means the playback speed will be adjusted so that the duration is the number of seconds specified by <code>speed</code>.</p>",name:"unit",params:[{type:{names:["number","string","Pattern"]},description:"<p>see description above</p>",name:"unit"}],examples:['speed("1 2 .5 3").s("bd").unit("c").osc()'],tags:[{originalTitle:"superdirtOnly",title:"superdirtonly",text:""}],longname:"unit",kind:"member",scope:"global"},{comment:`/**
   * Made by Calum Gunn. Reminiscent of some weird mixture of filter, ring-modulator and pitch-shifter. The SuperCollider manual defines Squiz as:
   *
   * "A simplistic pitch-raising algorithm. It's not meant to sound natural; its sound is reminiscent of some weird mixture of filter, ring-modulator and pitch-shifter, depending on the input. The algorithm works by cutting the signal into fragments (delimited by upwards-going zero-crossings) and squeezing those fragments in the time domain (i.e. simply playing them back faster than they came in), leaving silences inbetween. All the parameters apart from memlen can be modulated."
   *
   * @name squiz
   * @param {number | Pattern} squiz Try passing multiples of 2 to it - 2, 4, 8 etc.
   * @example
   * squiz("2 4/2 6 [8 16]").s("bd").osc()
   * @superdirtOnly
   *
   */`,meta:{filename:"controls.mjs",lineno:1264,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Made by Calum Gunn. Reminiscent of some weird mixture of filter, ring-modulator and pitch-shifter. The SuperCollider manual defines Squiz as:</p>
<p>&quot;A simplistic pitch-raising algorithm. It's not meant to sound natural; its sound is reminiscent of some weird mixture of filter, ring-modulator and pitch-shifter, depending on the input. The algorithm works by cutting the signal into fragments (delimited by upwards-going zero-crossings) and squeezing those fragments in the time domain (i.e. simply playing them back faster than they came in), leaving silences inbetween. All the parameters apart from memlen can be modulated.&quot;</p>`,name:"squiz",params:[{type:{names:["number","Pattern"]},description:"<p>Try passing multiples of 2 to it - 2, 4, 8 etc.</p>",name:"squiz"}],examples:['squiz("2 4/2 6 [8 16]").s("bd").osc()'],tags:[{originalTitle:"superdirtOnly",title:"superdirtonly",text:""}],longname:"squiz",kind:"member",scope:"global"},{comment:`/**
   *
   * Formant filter to make things sound like vowels.
   *
   * @name vowel
   * @param {string | Pattern} vowel You can use a e i o u ae aa oe ue y uh un en an on, corresponding to [a] [e] [i] [o] [u] [æ] [ɑ] [ø] [y] [ɯ] [ʌ] [œ̃] [ɛ̃] [ɑ̃] [ɔ̃]. Aliases: aa = å = ɑ, oe = ø = ö, y = ı, ae = æ.
   * @example
   * note("[c2 <eb2 <g2 g1>>]*2").s('sawtooth')
   * .vowel("<a e i <o u>>")
   * @example
   * s("bd sd mt ht bd [~ cp] ht lt").vowel("[a|e|i|o|u]")
   *
   */`,meta:{filename:"controls.mjs",lineno:1285,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Formant filter to make things sound like vowels.</p>",name:"vowel",params:[{type:{names:["string","Pattern"]},description:"<p>You can use a e i o u ae aa oe ue y uh un en an on, corresponding to [a] [e] [i] [o] [u] [æ] [ɑ] [ø] [y] [ɯ] [ʌ] [œ̃] [ɛ̃] [ɑ̃] [ɔ̃]. Aliases: aa = å = ɑ, oe = ø = ö, y = ı, ae = æ.</p>",name:"vowel"}],examples:[`note("[c2 <eb2 <g2 g1>>]*2").s('sawtooth')
.vowel("<a e i <o u>>")`,'s("bd sd mt ht bd [~ cp] ht lt").vowel("[a|e|i|o|u]")'],longname:"vowel",kind:"member",scope:"global"},{comment:`/**
   * Multiplies the duration with the given number. Also cuts samples off at the end if they exceed the duration.
   * In tidal, this would be done with legato, [which has a complicated history in strudel](https://github.com/tidalcycles/strudel/issues/111).
   * For now, if you're coming from tidal, just think clip = legato.
   *
   * @name clip
   * @param {number | Pattern} factor >= 0
   * @example
   * note("c a f e").s("piano").clip("<.5 1 2>")
   *
   */`,meta:{filename:"controls.mjs",lineno:1384,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Multiplies the duration with the given number. Also cuts samples off at the end if they exceed the duration.
In tidal, this would be done with legato, <a href="https://github.com/tidalcycles/strudel/issues/111">which has a complicated history in strudel</a>.
For now, if you're coming from tidal, just think clip = legato.</p>`,name:"clip",params:[{type:{names:["number","Pattern"]},description:`<blockquote>
<p>= 0</p>
</blockquote>`,name:"factor"}],examples:['note("c a f e").s("piano").clip("<.5 1 2>")'],longname:"clip",kind:"member",scope:"global"},{comment:`/**
 * ADSR envelope: Combination of Attack, Decay, Sustain, and Release.
 *
 * @name adsr
 * @param {number | Pattern} time attack time in seconds
 * @param {number | Pattern} time decay time in seconds
 * @param {number | Pattern} gain sustain level (0 to 1)
 * @param {number | Pattern} time release time in seconds
 * @example
 * note("[c3 bb2 f3 eb3]*2").sound("sawtooth").lpf(600).adsr(".1:.1:.5:.2")
 */`,meta:{filename:"controls.mjs",lineno:1461,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>ADSR envelope: Combination of Attack, Decay, Sustain, and Release.</p>",name:"adsr",params:[{type:{names:["number","Pattern"]},description:"<p>attack time in seconds</p>",name:"time"},{type:{names:["number","Pattern"]},description:"<p>decay time in seconds</p>",name:"time"},{type:{names:["number","Pattern"]},description:"<p>sustain level (0 to 1)</p>",name:"gain"},{type:{names:["number","Pattern"]},description:"<p>release time in seconds</p>",name:"time"}],examples:['note("[c3 bb2 f3 eb3]*2").sound("sawtooth").lpf(600).adsr(".1:.1:.5:.2")'],longname:"adsr",kind:"member",scope:"global"},{comment:`/**
 * Intended for a debugging, drawLine renders the pattern as a string, where each character represents the same time span.
 * Should only be used with single characters as values, otherwise the character slots will be messed up.
 * Character legend:
 *
 * - "|" cycle separator
 * - "-" hold previous value
 * - "." silence
 *
 * @param {Pattern} pattern the pattern to use
 * @param {number} chars max number of characters (approximately)
 * @returns string
 * @example
 * const line = drawLine("0 [1 2 3]", 10); // |0--123|0--123
 * console.log(line);
 * silence;
 */`,meta:{range:[1426,2796],filename:"drawLine.mjs",lineno:26,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100009057",name:"drawLine",type:"FunctionDeclaration",paramnames:["pat","chars"]},vars:{cycle:"drawLine~cycle",pos:"drawLine~pos",lines:"drawLine~lines",emptyLine:"drawLine~emptyLine",haps:"drawLine~haps",durations:"drawLine~durations","":null,charFraction:"drawLine~charFraction",totalSlots:"drawLine~totalSlots",i:"drawLine~i",undefined:null,matches:"drawLine~matches",missingLines:"drawLine~missingLines"}},description:`<p>Intended for a debugging, drawLine renders the pattern as a string, where each character represents the same time span.
Should only be used with single characters as values, otherwise the character slots will be messed up.
Character legend:</p>
<ul>
<li>&quot;|&quot; cycle separator</li>
<li>&quot;-&quot; hold previous value</li>
<li>&quot;.&quot; silence</li>
</ul>`,params:[{type:{names:["Pattern"]},description:"<p>the pattern to use</p>",name:"pattern"},{type:{names:["number"]},description:"<p>max number of characters (approximately)</p>",name:"chars"}],returns:[{description:"<p>string</p>"}],examples:[`const line = drawLine("0 [1 2 3]", 10); // |0--123|0--123
console.log(line);
silence;`],name:"drawLine",longname:"drawLine",kind:"function",scope:"global"},{comment:`/**
 * Changes the structure of the pattern to form an euclidean rhythm.
 * Euclidian rhythms are rhythms obtained using the greatest common
 * divisor of two numbers.  They were described in 2004 by Godfried
 * Toussaint, a canadian computer scientist.  Euclidian rhythms are
 * really useful for computer/algorithmic music because they can
 * describe a large number of rhythms with a couple of numbers.
 *
 * @memberof Pattern
 * @name euclid
 * @param {number} pulses the number of onsets / beats
 * @param {number} steps the number of steps to fill
 * @returns Pattern
 * @example
 * // The Cuban tresillo pattern.
 * note("c3").euclid(3,8)
 */`,meta:{filename:"euclid.mjs",lineno:51,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Changes the structure of the pattern to form an euclidean rhythm.
Euclidian rhythms are rhythms obtained using the greatest common
divisor of two numbers.  They were described in 2004 by Godfried
Toussaint, a canadian computer scientist.  Euclidian rhythms are
really useful for computer/algorithmic music because they can
describe a large number of rhythms with a couple of numbers.</p>`,memberof:"Pattern",name:"euclid",params:[{type:{names:["number"]},description:"<p>the number of onsets / beats</p>",name:"pulses"},{type:{names:["number"]},description:"<p>the number of steps to fill</p>",name:"steps"}],returns:[{description:"<p>Pattern</p>"}],examples:[`// The Cuban tresillo pattern.
note("c3").euclid(3,8)`],scope:"static",longname:"Pattern.euclid",kind:"member"},{comment:`/**
 * Like \`euclid\`, but has an additional parameter for 'rotating' the resulting sequence.
 * @memberof Pattern
 * @name euclidRot
 * @param {number} pulses the number of onsets / beats
 * @param {number} steps the number of steps to fill
 * @param {number} rotation offset in steps
 * @returns Pattern
 * @example
 * // A Samba rhythm necklace from Brazil
 * note("c3").euclidRot(3,16,14)
 */`,meta:{filename:"euclid.mjs",lineno:69,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Like <code>euclid</code>, but has an additional parameter for 'rotating' the resulting sequence.</p>",memberof:"Pattern",name:"euclidRot",params:[{type:{names:["number"]},description:"<p>the number of onsets / beats</p>",name:"pulses"},{type:{names:["number"]},description:"<p>the number of steps to fill</p>",name:"steps"},{type:{names:["number"]},description:"<p>offset in steps</p>",name:"rotation"}],returns:[{description:"<p>Pattern</p>"}],examples:[`// A Samba rhythm necklace from Brazil
note("c3").euclidRot(3,16,14)`],scope:"static",longname:"Pattern.euclidRot",kind:"member"},{comment:`/**
 * @example // A thirteenth century Persian rhythm called Khafif-e-ramal.
 * note("c3").euclid(2,5)
 * @example // The archetypal pattern of the Cumbia from Colombia, as well as a Calypso rhythm from Trinidad.
 * note("c3").euclid(3,4)
 * @example // Another thirteenth century Persian rhythm by the name of Khafif-e-ramal, as well as a Rumanian folk-dance rhythm.
 * note("c3").euclidRot(3,5,2)
 * @example // A Ruchenitza rhythm used in a Bulgarian folk-dance.
 * note("c3").euclid(3,7)
 * @example // The Cuban tresillo pattern.
 * note("c3").euclid(3,8)
 * @example // Another Ruchenitza Bulgarian folk-dance rhythm.
 * note("c3").euclid(4,7)
 * @example // The Aksak rhythm of Turkey.
 * note("c3").euclid(4,9)
 * @example // The metric pattern used by Frank Zappa in his piece titled Outside Now.
 * note("c3").euclid(4,11)
 * @example // Yields the York-Samai pattern, a popular Arab rhythm.
 * note("c3").euclid(5,6)
 * @example // The Nawakhat pattern, another popular Arab rhythm.
 * note("c3").euclid(5,7)
 * @example // The Cuban cinquillo pattern.
 * note("c3").euclid(5,8)
 * @example // A popular Arab rhythm called Agsag-Samai.
 * note("c3").euclid(5,9)
 * @example // The metric pattern used by Moussorgsky in Pictures at an Exhibition.
 * note("c3").euclid(5,11)
 * @example // The Venda clapping pattern of a South African children’s song.
 * note("c3").euclid(5,12)
 * @example // The Bossa-Nova rhythm necklace of Brazil.
 * note("c3").euclid(5,16)
 * @example // A typical rhythm played on the Bendir (frame drum).
 * note("c3").euclid(7,8)
 * @example // A common West African bell pattern.
 * note("c3").euclid(7,12)
 * @example // A Samba rhythm necklace from Brazil.
 * note("c3").euclidRot(7,16,14)
 * @example // A rhythm necklace used in the Central African Republic.
 * note("c3").euclid(9,16)
 * @example // A rhythm necklace of the Aka Pygmies of Central Africa.
 * note("c3").euclidRot(11,24,14)
 * @example // Another rhythm necklace of the Aka Pygmies of the upper Sangha.
 * note("c3").euclidRot(13,24,5)
 */`,meta:{range:[5141,5293],filename:"euclid.mjs",lineno:127,columnno:6,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100009527",name:"_euclidRot",type:"FunctionExpression"},vars:{b:"_euclidRot~b"}},examples:[`// A thirteenth century Persian rhythm called Khafif-e-ramal.
note("c3").euclid(2,5)`,`// The archetypal pattern of the Cumbia from Colombia, as well as a Calypso rhythm from Trinidad.
note("c3").euclid(3,4)`,`// Another thirteenth century Persian rhythm by the name of Khafif-e-ramal, as well as a Rumanian folk-dance rhythm.
note("c3").euclidRot(3,5,2)`,`// A Ruchenitza rhythm used in a Bulgarian folk-dance.
note("c3").euclid(3,7)`,`// The Cuban tresillo pattern.
note("c3").euclid(3,8)`,`// Another Ruchenitza Bulgarian folk-dance rhythm.
note("c3").euclid(4,7)`,`// The Aksak rhythm of Turkey.
note("c3").euclid(4,9)`,`// The metric pattern used by Frank Zappa in his piece titled Outside Now.
note("c3").euclid(4,11)`,`// Yields the York-Samai pattern, a popular Arab rhythm.
note("c3").euclid(5,6)`,`// The Nawakhat pattern, another popular Arab rhythm.
note("c3").euclid(5,7)`,`// The Cuban cinquillo pattern.
note("c3").euclid(5,8)`,`// A popular Arab rhythm called Agsag-Samai.
note("c3").euclid(5,9)`,`// The metric pattern used by Moussorgsky in Pictures at an Exhibition.
note("c3").euclid(5,11)`,`// The Venda clapping pattern of a South African children’s song.
note("c3").euclid(5,12)`,`// The Bossa-Nova rhythm necklace of Brazil.
note("c3").euclid(5,16)`,`// A typical rhythm played on the Bendir (frame drum).
note("c3").euclid(7,8)`,`// A common West African bell pattern.
note("c3").euclid(7,12)`,`// A Samba rhythm necklace from Brazil.
note("c3").euclidRot(7,16,14)`,`// A rhythm necklace used in the Central African Republic.
note("c3").euclid(9,16)`,`// A rhythm necklace of the Aka Pygmies of Central Africa.
note("c3").euclidRot(11,24,14)`,`// Another rhythm necklace of the Aka Pygmies of the upper Sangha.
note("c3").euclidRot(13,24,5)`],name:"_euclidRot",longname:"_euclidRot",kind:"function",scope:"global",params:[]},{comment:`/**
 * Similar to \`euclid\`, but each pulse is held until the next pulse,
 * so there will be no gaps.
 * @name euclidLegato
 * @memberof Pattern
 * @param {number} pulses the number of onsets / beats
 * @param {number} steps the number of steps to fill
 * @example
 * note("c3").euclidLegato(3,8)
 */`,meta:{filename:"euclid.mjs",lineno:143,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Similar to <code>euclid</code>, but each pulse is held until the next pulse,
so there will be no gaps.</p>`,name:"euclidLegato",memberof:"Pattern",params:[{type:{names:["number"]},description:"<p>the number of onsets / beats</p>",name:"pulses"},{type:{names:["number"]},description:"<p>the number of steps to fill</p>",name:"steps"}],examples:['note("c3").euclidLegato(3,8)'],scope:"static",longname:"Pattern.euclidLegato",kind:"member"},{comment:`/**
 * Similar to \`euclid\`, but each pulse is held until the next pulse,
 * so there will be no gaps, and has an additional parameter for 'rotating'
 * the resulting sequence
 * @name euclidLegatoRot
 * @memberof Pattern
 * @param {number} pulses the number of onsets / beats
 * @param {number} steps the number of steps to fill
 * @param {number} rotation offset in steps
 * @example
 * note("c3").euclidLegatoRot(3,5,2)
 */`,meta:{filename:"euclid.mjs",lineno:171,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Similar to <code>euclid</code>, but each pulse is held until the next pulse,
so there will be no gaps, and has an additional parameter for 'rotating'
the resulting sequence</p>`,name:"euclidLegatoRot",memberof:"Pattern",params:[{type:{names:["number"]},description:"<p>the number of onsets / beats</p>",name:"pulses"},{type:{names:["number"]},description:"<p>the number of steps to fill</p>",name:"steps"},{type:{names:["number"]},description:"<p>offset in steps</p>",name:"rotation"}],examples:['note("c3").euclidLegatoRot(3,5,2)'],scope:"static",longname:"Pattern.euclidLegatoRot",kind:"member"},{comment:"/** @class Class representing a pattern. */",meta:{range:[1532,25246],filename:"pattern.mjs",lineno:25,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100011068",name:"exports.Pattern",type:"ClassDeclaration"}},name:"Pattern",longname:"Pattern",kind:"class",classdesc:"<p>Class representing a pattern.</p>",scope:"global",description:"<p>Create a pattern. As an end user, you will most likely not create a Pattern directly.</p>",tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],memberof:"Pattern",params:[{type:{names:["function"]},description:"<p>The function that maps a <code>State</code> to an array of <code>Hap</code>.</p>",name:"query"}]},{comment:`/**
   * Returns a new pattern, with the function applied to the value of
   * each hap. It has the alias \`fmap\`.
   * @synonyms fmap
   * @param {Function} func to to apply to the value
   * @returns Pattern
   * @example
   * "0 1 2".withValue(v => v + 10).log()
   */`,meta:{range:[2372,2481],filename:"pattern.mjs",lineno:49,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100011089",name:"Pattern#withValue",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:`<p>Returns a new pattern, with the function applied to the value of
each hap. It has the alias <code>fmap</code>.</p>`,synonyms_text:"fmap",synonyms:["fmap"],params:[{type:{names:["function"]},description:"<p>to to apply to the value</p>",name:"func"}],returns:[{description:"<p>Pattern</p>"}],examples:['"0 1 2".withValue(v => v + 10).log()'],name:"withValue",longname:"Pattern#withValue",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * see \`withValue\`
   * @noAutocomplete
   */`,meta:{range:[2539,2588],filename:"pattern.mjs",lineno:57,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100011114",name:"Pattern#fmap",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:"<p>see <code>withValue</code></p>",tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"fmap",longname:"Pattern#fmap",kind:"function",memberof:"Pattern",scope:"instance",params:[]},{comment:`/**
   * Assumes 'this' is a pattern of functions, and given a function to
   * resolve wholes, applies a given pattern of values to that
   * pattern of functions.
   * @param {Function} whole_func
   * @param {Function} func
   * @noAutocomplete
   * @returns Pattern
   */`,meta:{range:[2870,3612],filename:"pattern.mjs",lineno:70,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100011125",name:"Pattern#appWhole",type:"MethodDefinition",paramnames:["whole_func","pat_val"]},vars:{"":null}},description:`<p>Assumes 'this' is a pattern of functions, and given a function to
resolve wholes, applies a given pattern of values to that
pattern of functions.</p>`,params:[{type:{names:["function"]},name:"whole_func"},{type:{names:["function"]},name:"func"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],returns:[{description:"<p>Pattern</p>"}],name:"appWhole",longname:"Pattern#appWhole",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * When this method is called on a pattern of functions, it matches its haps
   * with those in the given pattern of values.  A new pattern is returned, with
   * each matching value applied to the corresponding function.
   *
   * In this \`_appBoth\` variant, where timespans of the function and value haps
   * are not the same but do intersect, the resulting hap has a timespan of the
   * intersection. This applies to both the part and the whole timespan.
   * @param {Pattern} pat_val
   * @noAutocomplete
   * @returns Pattern
   */`,meta:{range:[4163,4443],filename:"pattern.mjs",lineno:106,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100011232",name:"Pattern#appBoth",type:"MethodDefinition",paramnames:["pat_val"]},vars:{"":null}},description:`<p>When this method is called on a pattern of functions, it matches its haps
with those in the given pattern of values.  A new pattern is returned, with
each matching value applied to the corresponding function.</p>
<p>In this <code>_appBoth</code> variant, where timespans of the function and value haps
are not the same but do intersect, the resulting hap has a timespan of the
intersection. This applies to both the part and the whole timespan.</p>`,params:[{type:{names:["Pattern"]},name:"pat_val"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],returns:[{description:"<p>Pattern</p>"}],name:"appBoth",longname:"Pattern#appBoth",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * As with \`appBoth\`, but the \`whole\` timespan is not the intersection,
   * but the timespan from the function of patterns that this method is called
   * on. In practice, this means that the pattern structure, including onsets,
   * are preserved from the pattern of functions (often referred to as the left
   * hand or inner pattern).
   * @param {Pattern} pat_val
   * @noAutocomplete
   * @returns Pattern
   */`,meta:{range:[4873,5617],filename:"pattern.mjs",lineno:127,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100011268",name:"Pattern#appLeft",type:"MethodDefinition",paramnames:["pat_val"]},vars:{"":null}},description:`<p>As with <code>appBoth</code>, but the <code>whole</code> timespan is not the intersection,
but the timespan from the function of patterns that this method is called
on. In practice, this means that the pattern structure, including onsets,
are preserved from the pattern of functions (often referred to as the left
hand or inner pattern).</p>`,params:[{type:{names:["Pattern"]},name:"pat_val"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],returns:[{description:"<p>Pattern</p>"}],name:"appLeft",longname:"Pattern#appLeft",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * As with \`appLeft\`, but \`whole\` timespans are instead taken from the
   * pattern of values, i.e. structure is preserved from the right hand/outer
   * pattern.
   * @param {Pattern} pat_val
   * @noAutocomplete
   * @returns Pattern
   */`,meta:{range:[5871,6616],filename:"pattern.mjs",lineno:158,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100011378",name:"Pattern#appRight",type:"MethodDefinition",paramnames:["pat_val"]},vars:{"":null}},description:`<p>As with <code>appLeft</code>, but <code>whole</code> timespans are instead taken from the
pattern of values, i.e. structure is preserved from the right hand/outer
pattern.</p>`,params:[{type:{names:["Pattern"]},name:"pat_val"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],returns:[{description:"<p>Pattern</p>"}],name:"appRight",longname:"Pattern#appRight",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Query haps inside the given time span.
   *
   * @param {Fraction | number} begin from time
   * @param {Fraction | number} end to time
   * @returns Hap[]
   * @example
   * const pattern = sequence('a', ['b', 'c'])
   * const haps = pattern.queryArc(0, 1)
   * console.log(haps)
   * silence
   * @noAutocomplete
   */`,meta:{range:[12042,12258],filename:"pattern.mjs",lineno:343,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100011996",name:"Pattern#queryArc",type:"MethodDefinition",paramnames:["begin","end","controls"]},vars:{"":null}},description:"<p>Query haps inside the given time span.</p>",params:[{type:{names:["Fraction","number"]},description:"<p>from time</p>",name:"begin"},{type:{names:["Fraction","number"]},description:"<p>to time</p>",name:"end"}],returns:[{description:"<p>Hap[]</p>"}],examples:[`const pattern = sequence('a', ['b', 'c'])
const haps = pattern.queryArc(0, 1)
console.log(haps)
silence`],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"queryArc",longname:"Pattern#queryArc",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Returns a new pattern, with queries split at cycle boundaries. This makes
   * some calculations easier to express, as all haps are then constrained to
   * happen within a cycle.
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[12502,12702],filename:"pattern.mjs",lineno:359,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012032",name:"Pattern#splitQueries",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:`<p>Returns a new pattern, with queries split at cycle boundaries. This makes
some calculations easier to express, as all haps are then constrained to
happen within a cycle.</p>`,returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"splitQueries",longname:"Pattern#splitQueries",kind:"function",memberof:"Pattern",scope:"instance",params:[]},{comment:`/**
   * Returns a new pattern, where the given function is applied to the query
   * timespan before passing it to the original pattern.
   * @param {Function} func the function to apply
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[12945,13039],filename:"pattern.mjs",lineno:374,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012072",name:"Pattern#withQuerySpan",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:`<p>Returns a new pattern, where the given function is applied to the query
timespan before passing it to the original pattern.</p>`,params:[{type:{names:["function"]},description:"<p>the function to apply</p>",name:"func"}],returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"withQuerySpan",longname:"Pattern#withQuerySpan",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * As with \`withQuerySpan\`, but the function is applied to both the
   * begin and end time of the query timespan.
   * @param {Function} func the function to apply
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[13499,13618],filename:"pattern.mjs",lineno:396,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012128",name:"Pattern#withQueryTime",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:`<p>As with <code>withQuerySpan</code>, but the function is applied to both the
begin and end time of the query timespan.</p>`,params:[{type:{names:["function"]},description:"<p>the function to apply</p>",name:"func"}],returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"withQueryTime",longname:"Pattern#withQueryTime",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Similar to \`withQuerySpan\`, but the function is applied to the timespans
   * of all haps returned by pattern queries (both \`part\` timespans, and where
   * present, \`whole\` timespans).
   * @param {Function} func
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[13896,14006],filename:"pattern.mjs",lineno:408,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012153",name:"Pattern#withHapSpan",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:`<p>Similar to <code>withQuerySpan</code>, but the function is applied to the timespans
of all haps returned by pattern queries (both <code>part</code> timespans, and where
present, <code>whole</code> timespans).</p>`,params:[{type:{names:["function"]},name:"func"}],returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"withHapSpan",longname:"Pattern#withHapSpan",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * As with \`withHapSpan\`, but the function is applied to both the
   * begin and end time of the hap timespans.
   * @param {Function} func the function to apply
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[14229,14312],filename:"pattern.mjs",lineno:419,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012178",name:"Pattern#withHapTime",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:`<p>As with <code>withHapSpan</code>, but the function is applied to both the
begin and end time of the hap timespans.</p>`,params:[{type:{names:["function"]},description:"<p>the function to apply</p>",name:"func"}],returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"withHapTime",longname:"Pattern#withHapTime",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Returns a new pattern with the given function applied to the list of haps returned by every query.
   * @param {Function} func
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[14503,14590],filename:"pattern.mjs",lineno:429,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012195",name:"Pattern#withHaps",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:"<p>Returns a new pattern with the given function applied to the list of haps returned by every query.</p>",params:[{type:{names:["function"]},name:"func"}],returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"withHaps",longname:"Pattern#withHaps",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * As with \`withHaps\`, but applies the function to every hap, rather than every list of haps.
   * @param {Function} func
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[14773,14844],filename:"pattern.mjs",lineno:439,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012213",name:"Pattern#withHap",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:"<p>As with <code>withHaps</code>, but applies the function to every hap, rather than every list of haps.</p>",params:[{type:{names:["function"]},name:"func"}],returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"withHap",longname:"Pattern#withHap",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Returns a new pattern with the context field set to every hap set to the given value.
   * @param {*} context
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[15018,15102],filename:"pattern.mjs",lineno:449,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012230",name:"Pattern#setContext",type:"MethodDefinition",paramnames:["context"]},vars:{"":null}},description:"<p>Returns a new pattern with the context field set to every hap set to the given value.</p>",params:[{type:{names:["*"]},name:"context"}],returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"setContext",longname:"Pattern#setContext",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Returns a new pattern with the given function applied to the context field of every hap.
   * @param {Function} func
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[15283,15375],filename:"pattern.mjs",lineno:459,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012247",name:"Pattern#withContext",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:"<p>Returns a new pattern with the given function applied to the context field of every hap.</p>",params:[{type:{names:["function"]},name:"func"}],returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"withContext",longname:"Pattern#withContext",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Returns a new pattern with the context field of every hap set to an empty object.
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[15521,15595],filename:"pattern.mjs",lineno:468,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012268",name:"Pattern#stripContext",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:"<p>Returns a new pattern with the context field of every hap set to an empty object.</p>",returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"stripContext",longname:"Pattern#stripContext",kind:"function",memberof:"Pattern",scope:"instance",params:[]},{comment:`/**
   * Returns a new pattern with the given location information added to the
   * context of every hap.
   * @param {Number} start start offset
   * @param {Number} end end offset
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[15833,16073],filename:"pattern.mjs",lineno:480,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012284",name:"Pattern#withLoc",type:"MethodDefinition",paramnames:["start","end"]},vars:{"":null}},description:`<p>Returns a new pattern with the given location information added to the
context of every hap.</p>`,params:[{type:{names:["Number"]},description:"<p>start offset</p>",name:"start"},{type:{names:["Number"]},description:"<p>end offset</p>",name:"end"}],returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"withLoc",longname:"Pattern#withLoc",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Returns a new Pattern, which only returns haps that meet the given test.
   * @param {Function} hap_test - a function which returns false for haps to be removed from the pattern
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[16315,16412],filename:"pattern.mjs",lineno:497,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012325",name:"Pattern#filterHaps",type:"MethodDefinition",paramnames:["hap_test"]},vars:{"":null}},description:"<p>Returns a new Pattern, which only returns haps that meet the given test.</p>",params:[{type:{names:["function"]},description:"<p>a function which returns false for haps to be removed from the pattern</p>",name:"hap_test"}],returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"filterHaps",longname:"Pattern#filterHaps",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * As with \`filterHaps\`, but the function is applied to values
   * inside haps.
   * @param {Function} value_test
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[16588,16711],filename:"pattern.mjs",lineno:508,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012344",name:"Pattern#filterValues",type:"MethodDefinition",paramnames:["value_test"]},vars:{"":null}},description:`<p>As with <code>filterHaps</code>, but the function is applied to values
inside haps.</p>`,params:[{type:{names:["function"]},name:"value_test"}],returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"filterValues",longname:"Pattern#filterValues",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Returns a new pattern, with haps containing undefined values removed from
   * query results.
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[16869,16950],filename:"pattern.mjs",lineno:518,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012369",name:"Pattern#removeUndefineds",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:`<p>Returns a new pattern, with haps containing undefined values removed from
query results.</p>`,returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"removeUndefineds",longname:"Pattern#removeUndefineds",kind:"function",memberof:"Pattern",scope:"instance",params:[]},{comment:`/**
   * Returns a new pattern, with all haps without onsets filtered out. A hap
   * with an onset is one with a \`whole\` timespan that begins at the same time
   * as its \`part\` timespan.
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[17194,17459],filename:"pattern.mjs",lineno:529,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012383",name:"Pattern#onsetsOnly",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:`<p>Returns a new pattern, with all haps without onsets filtered out. A hap
with an onset is one with a <code>whole</code> timespan that begins at the same time
as its <code>part</code> timespan.</p>`,returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"onsetsOnly",longname:"Pattern#onsetsOnly",kind:"function",memberof:"Pattern",scope:"instance",params:[]},{comment:`/**
   * Returns a new pattern, with 'continuous' haps (those without 'whole'
   * timespans) removed from query results.
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[17636,17770],filename:"pattern.mjs",lineno:542,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012398",name:"Pattern#discreteOnly",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:`<p>Returns a new pattern, with 'continuous' haps (those without 'whole'
timespans) removed from query results.</p>`,returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"discreteOnly",longname:"Pattern#discreteOnly",kind:"function",memberof:"Pattern",scope:"instance",params:[]},{comment:`/**
   * Combines adjacent haps with the same value and whole.  Only
   * intended for use in tests.
   * @noAutocomplete
   */`,meta:{range:[17904,19349],filename:"pattern.mjs",lineno:552,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012412",name:"Pattern#defragmentHaps",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:`<p>Combines adjacent haps with the same value and whole.  Only
intended for use in tests.</p>`,tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"defragmentHaps",longname:"Pattern#defragmentHaps",kind:"function",memberof:"Pattern",scope:"instance",params:[]},{comment:`/**
   * Queries the pattern for the first cycle, returning Haps. Mainly of use when
   * debugging a pattern.
   * @param {Boolean} with_context - set to true, otherwise the context field
   * will be stripped from the resulting haps.
   * @returns [Hap]
   * @noAutocomplete
   */`,meta:{range:[19638,19836],filename:"pattern.mjs",lineno:607,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012643",name:"Pattern#firstCycle",type:"MethodDefinition",paramnames:["with_context"]},vars:{"":null}},description:`<p>Queries the pattern for the first cycle, returning Haps. Mainly of use when
debugging a pattern.</p>`,params:[{type:{names:["Boolean"]},description:`<p>set to true, otherwise the context field
will be stripped from the resulting haps.</p>`,name:"with_context",defaultvalue:!1}],returns:[{description:"<p>[Hap]</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"firstCycle",longname:"Pattern#firstCycle",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Accessor for a list of values returned by querying the first cycle.
   * @noAutocomplete
   */`,meta:{range:[19946,20028],filename:"pattern.mjs",lineno:619,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012680",name:"Pattern#firstCycleValues",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:"<p>Accessor for a list of values returned by querying the first cycle.</p>",tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"firstCycleValues",longname:"Pattern#firstCycleValues",kind:"member",memberof:"Pattern",scope:"instance",params:[]},{comment:`/**
   * More human-readable version of the \`firstCycleValues\` accessor.
   * @noAutocomplete
   */`,meta:{range:[20134,20297],filename:"pattern.mjs",lineno:627,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012697",name:"Pattern#showFirstCycle",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:"<p>More human-readable version of the <code>firstCycleValues</code> accessor.</p>",tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"showFirstCycle",longname:"Pattern#showFirstCycle",kind:"member",memberof:"Pattern",scope:"instance",params:[]},{comment:`/**
   * Returns a new pattern, which returns haps sorted in temporal order. Mainly
   * of use when comparing two patterns for equality, in tests.
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[20500,20773],filename:"pattern.mjs",lineno:639,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012735",name:"Pattern#sortHapsByPart",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:`<p>Returns a new pattern, which returns haps sorted in temporal order. Mainly
of use when comparing two patterns for equality, in tests.</p>`,returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"sortHapsByPart",longname:"Pattern#sortHapsByPart",kind:"function",memberof:"Pattern",scope:"instance",params:[]},{comment:`/**
   * Layers the result of the given function(s). Like \`superimpose\`, but without the original pattern:
   * @name layer
   * @memberof Pattern
   * @synonyms apply
   * @returns Pattern
   * @example
   * "<0 2 4 6 ~ 4 ~ 2 0!3 ~!5>*8"
   *   .layer(x=>x.add("0,2"))
   *   .scale('C minor').note()
   */`,meta:{filename:"pattern.mjs",lineno:693,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Layers the result of the given function(s). Like <code>superimpose</code>, but without the original pattern:</p>",name:"layer",memberof:"Pattern",synonyms_text:"apply",synonyms:["apply"],returns:[{description:"<p>Pattern</p>"}],examples:[`"<0 2 4 6 ~ 4 ~ 2 0!3 ~!5>*8"
  .layer(x=>x.add("0,2"))
  .scale('C minor').note()`],scope:"static",longname:"Pattern.layer",kind:"member"},{comment:`/**
   * Superimposes the result of the given function(s) on top of the original pattern:
   * @name superimpose
   * @memberof Pattern
   * @returns Pattern
   * @example
   * "<0 2 4 6 ~ 4 ~ 2 0!3 ~!5>*8"
   *   .superimpose(x=>x.add(2))
   *   .scale('C minor').note()
   */`,meta:{filename:"pattern.mjs",lineno:708,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Superimposes the result of the given function(s) on top of the original pattern:</p>",name:"superimpose",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`"<0 2 4 6 ~ 4 ~ 2 0!3 ~!5>*8"
  .superimpose(x=>x.add(2))
  .scale('C minor').note()`],scope:"static",longname:"Pattern.superimpose",kind:"member"},{comment:`/**
   * Stacks the given pattern(s) to the current pattern.
   * @name stack
   * @memberof Pattern
   * @example
   * s("hh*4").stack(
   *   note("c4(5,8)")
   * )
   */`,meta:{filename:"pattern.mjs",lineno:725,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Stacks the given pattern(s) to the current pattern.</p>",name:"stack",memberof:"Pattern",examples:[`s("hh*4").stack(
  note("c4(5,8)")
)`],scope:"static",longname:"Pattern.stack",kind:"member"},{comment:`/**
   * Appends the given pattern(s) to the current pattern.
   * @name seq
   * @memberof Pattern
   * @synonyms sequence, fastcat
   * @example
   * s("hh*4").seq(
   *   note("c4(5,8)")
   * )
   */`,meta:{filename:"pattern.mjs",lineno:742,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Appends the given pattern(s) to the current pattern.</p>",name:"seq",memberof:"Pattern",synonyms_text:"sequence, fastcat",synonyms:["sequence","fastcat"],examples:[`s("hh*4").seq(
  note("c4(5,8)")
)`],scope:"static",longname:"Pattern.seq",kind:"member"},{comment:`/**
   * Appends the given pattern(s) to the next cycle.
   * @name cat
   * @memberof Pattern
   * @synonyms slowcat
   * @example
   * s("hh*4").cat(
   *   note("c4(5,8)")
   * )
   */`,meta:{filename:"pattern.mjs",lineno:756,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Appends the given pattern(s) to the next cycle.</p>",name:"cat",memberof:"Pattern",synonyms_text:"slowcat",synonyms:["slowcat"],examples:[`s("hh*4").cat(
  note("c4(5,8)")
)`],scope:"static",longname:"Pattern.cat",kind:"member"},{comment:`/**
 * Selects indices in in stacked notes.
 * @example
 * note("<[c,eb,g]!2 [c,f,ab] [d,f,ab]>")
 * .arpWith(haps => haps[2])
 * */`,meta:{range:[26216,26426],filename:"pattern.mjs",lineno:850,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100013356",name:"Pattern.prototype.arpWith",type:"FunctionExpression",paramnames:["func"]},vars:{"":null}},description:"<p>Selects indices in in stacked notes.</p>",examples:[`note("<[c,eb,g]!2 [c,f,ab] [d,f,ab]>")
.arpWith(haps => haps[2])`],name:"arpWith",longname:"Pattern#arpWith",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
 * Selects indices in in stacked notes.
 * @example
 * note("<[c,eb,g]!2 [c,f,ab] [d,f,ab]>")
 * .arp("0 [0,2] 1 [0,2]")
 * */`,meta:{range:[26560,26675],filename:"pattern.mjs",lineno:863,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100013409",name:"Pattern.prototype.arp",type:"FunctionExpression",paramnames:["pat"]},vars:{"":null}},description:"<p>Selects indices in in stacked notes.</p>",examples:[`note("<[c,eb,g]!2 [c,f,ab] [d,f,ab]>")
.arp("0 [0,2] 1 [0,2]")`],name:"arp",longname:"Pattern#arp",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
     *
     * Assumes a pattern of numbers. Adds the given number to each item in the pattern.
     * @name add
     * @memberof Pattern
     * @example
     * // Here, the triad 0, 2, 4 is shifted by different amounts
     * n("0 2 4".add("<0 3 4 0>")).scale("C:major")
     * // Without add, the equivalent would be:
     * // n("<[0 2 4] [3 5 7] [4 6 8] [0 2 4]>").scale("C:major")
     * @example
     * // You can also use add with notes:
     * note("c3 e3 g3".add("<0 5 7 0>"))
     * // Behind the scenes, the notes are converted to midi numbers:
     * // note("48 52 55".add("<0 5 7 0>"))
     */`,meta:{filename:"pattern.mjs",lineno:925,columnno:4,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Assumes a pattern of numbers. Adds the given number to each item in the pattern.</p>",name:"add",memberof:"Pattern",examples:[`// Here, the triad 0, 2, 4 is shifted by different amounts
n("0 2 4".add("<0 3 4 0>")).scale("C:major")
// Without add, the equivalent would be:
// n("<[0 2 4] [3 5 7] [4 6 8] [0 2 4]>").scale("C:major")`,`// You can also use add with notes:
note("c3 e3 g3".add("<0 5 7 0>"))
// Behind the scenes, the notes are converted to midi numbers:
// note("48 52 55".add("<0 5 7 0>"))`],scope:"static",longname:"Pattern.add",kind:"member"},{comment:`/**
     *
     * Like add, but the given numbers are subtracted.
     * @name sub
     * @memberof Pattern
     * @example
     * n("0 2 4".sub("<0 1 2 3>")).scale("C4:minor")
     * // See add for more information.
     */`,meta:{filename:"pattern.mjs",lineno:942,columnno:4,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Like add, but the given numbers are subtracted.</p>",name:"sub",memberof:"Pattern",examples:[`n("0 2 4".sub("<0 1 2 3>")).scale("C4:minor")
// See add for more information.`],scope:"static",longname:"Pattern.sub",kind:"member"},{comment:`/**
     *
     * Multiplies each number by the given factor.
     * @name mul
     * @memberof Pattern
     * @example
     * "<1 1.5 [1.66, <2 2.33>]>*4".mul(150).freq()
     */`,meta:{filename:"pattern.mjs",lineno:952,columnno:4,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Multiplies each number by the given factor.</p>",name:"mul",memberof:"Pattern",examples:['"<1 1.5 [1.66, <2 2.33>]>*4".mul(150).freq()'],scope:"static",longname:"Pattern.mul",kind:"member"},{comment:`/**
     *
     * Divides each number by the given factor.
     * @name div
     * @memberof Pattern
     */`,meta:{filename:"pattern.mjs",lineno:961,columnno:4,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Divides each number by the given factor.</p>",name:"div",memberof:"Pattern",scope:"static",longname:"Pattern.div",kind:"member"},{comment:`/**
   * Applies the given structure to the pattern:
   *
   * @example
   * note("c,eb,g")
   *   .struct("x ~ x ~ ~ x ~ x ~ ~ ~ x ~ x ~ ~")
   *   .slow(2)
   */`,meta:{range:[32560,32648],filename:"pattern.mjs",lineno:1056,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100013935",name:"Pattern.prototype.struct",type:"FunctionExpression",paramnames:["args"]}},description:"<p>Applies the given structure to the pattern:</p>",examples:[`note("c,eb,g")
  .struct("x ~ x ~ ~ x ~ x ~ ~ ~ x ~ x ~ ~")
  .slow(2)`],name:"struct",longname:"Pattern#struct",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Returns silence when mask is 0 or "~"
   *
   * @example
   * note("c [eb,g] d [eb,g]").mask("<1 [0 1]>")
   */`,meta:{range:[32868,32953],filename:"pattern.mjs",lineno:1068,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100013975",name:"Pattern.prototype.mask",type:"FunctionExpression",paramnames:["args"]}},description:"<p>Returns silence when mask is 0 or &quot;~&quot;</p>",examples:['note("c [eb,g] d [eb,g]").mask("<1 [0 1]>")'],name:"mask",longname:"Pattern#mask",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Resets the pattern to the start of the cycle for each onset of the reset pattern.
   *
   * @example
   * s("[<bd lt> sd]*2, hh*8").reset("<x@3 x(5,8)>")
   */`,meta:{range:[33218,33306],filename:"pattern.mjs",lineno:1080,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100014015",name:"Pattern.prototype.reset",type:"FunctionExpression",paramnames:["args"]}},description:"<p>Resets the pattern to the start of the cycle for each onset of the reset pattern.</p>",examples:['s("[<bd lt> sd]*2, hh*8").reset("<x@3 x(5,8)>")'],name:"reset",longname:"Pattern#reset",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Restarts the pattern for each onset of the restart pattern.
   * While reset will only reset the current cycle, restart will start from cycle 0.
   *
   * @example
   * s("[<bd lt> sd]*2, hh*8").restart("<x@3 x(5,8)>")
   */`,meta:{range:[33639,33733],filename:"pattern.mjs",lineno:1093,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100014055",name:"Pattern.prototype.restart",type:"FunctionExpression",paramnames:["args"]}},description:`<p>Restarts the pattern for each onset of the restart pattern.
While reset will only reset the current cycle, restart will start from cycle 0.</p>`,examples:['s("[<bd lt> sd]*2, hh*8").restart("<x@3 x(5,8)>")'],name:"restart",longname:"Pattern#restart",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
 * Does absolutely nothing..
 * @name silence
 * @example
 * silence // "~"
 */`,meta:{filename:"pattern.mjs",lineno:1127,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Does absolutely nothing..</p>",name:"silence",examples:['silence // "~"'],longname:"silence",kind:"member",scope:"global"},{comment:`/** A discrete value that repeats once per cycle.
 *
 * @returns {Pattern}
 * @example
 * pure('e4') // "e4"
 * @noAutocomplete
 */`,meta:{range:[34658,34862],filename:"pattern.mjs",lineno:1142,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100014149",name:"exports.pure",type:"FunctionDeclaration",paramnames:["value"]}},description:"<p>A discrete value that repeats once per cycle.</p>",returns:[{type:{names:["Pattern"]}}],examples:[`pure('e4') // "e4"`],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"pure",longname:"pure",kind:"function",scope:"global"},{comment:`/** The given items are played at the same time at the same length.
 *
 * @return {Pattern}
 * @synonyms polyrhythm, pr
 * @example
 * stack("g3", "b3", ["e4", "d4"]).note()
 * // "g3,b3,[e4,d4]".note()
 */`,meta:{range:[36008,36281],filename:"pattern.mjs",lineno:1184,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100014228",name:"exports.stack",type:"FunctionDeclaration",paramnames:["pats"]}},description:"<p>The given items are played at the same time at the same length.</p>",returns:[{type:{names:["Pattern"]}}],synonyms_text:"polyrhythm, pr",synonyms:["polyrhythm","pr"],examples:[`stack("g3", "b3", ["e4", "d4"]).note()
// "g3,b3,[e4,d4]".note()`],name:"stack",longname:"stack",kind:"function",scope:"global"},{comment:`/** Concatenation: combines a list of patterns, switching between them successively, one per cycle:
 *
 * synonyms: \`cat\`
 *
 * @return {Pattern}
 * @example
 * slowcat("e5", "b4", ["d5", "c5"])
 *
 */`,meta:{range:[36485,37396],filename:"pattern.mjs",lineno:1200,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100014278",name:"exports.slowcat",type:"FunctionDeclaration",paramnames:["pats"]}},description:`<p>Concatenation: combines a list of patterns, switching between them successively, one per cycle:</p>
<p>synonyms: <code>cat</code></p>`,returns:[{type:{names:["Pattern"]}}],examples:['slowcat("e5", "b4", ["d5", "c5"])'],name:"slowcat",longname:"slowcat",kind:"function",scope:"global"},{comment:`/** Concatenation: combines a list of patterns, switching between them successively, one per cycle. Unlike slowcat, this version will skip cycles.
 * @param {...any} items - The items to concatenate
 * @return {Pattern}
 */`,meta:{range:[37622,37995],filename:"pattern.mjs",lineno:1225,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100014405",name:"exports.slowcatPrime",type:"FunctionDeclaration",paramnames:["pats"]}},description:"<p>Concatenation: combines a list of patterns, switching between them successively, one per cycle. Unlike slowcat, this version will skip cycles.</p>",params:[{type:{names:["any"]},variable:!0,description:"<p>The items to concatenate</p>",name:"items"}],returns:[{type:{names:["Pattern"]}}],name:"slowcatPrime",longname:"slowcatPrime",kind:"function",scope:"global"},{comment:`/** The given items are con**cat**enated, where each one takes one cycle.
 *
 * @param {...any} items - The items to concatenate
 * @synonyms slowcat
 * @return {Pattern}
 * @example
 * cat("e5", "b4", ["d5", "c5"]).note()
 * // "<e5 b4 [d5 c5]>".note()
 *
 */`,meta:{range:[38258,38317],filename:"pattern.mjs",lineno:1245,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100014458",name:"exports.cat",type:"FunctionDeclaration",paramnames:["pats"]}},description:"<p>The given items are con<strong>cat</strong>enated, where each one takes one cycle.</p>",params:[{type:{names:["any"]},variable:!0,description:"<p>The items to concatenate</p>",name:"items"}],synonyms_text:"slowcat",synonyms:["slowcat"],returns:[{type:{names:["Pattern"]}}],examples:[`cat("e5", "b4", ["d5", "c5"]).note()
// "<e5 b4 [d5 c5]>".note()`],name:"cat",longname:"cat",kind:"function",scope:"global"},{comment:`/** Like \`seq\`, but each step has a length, relative to the whole.
 * @return {Pattern}
 * @example
 * timeCat([3,"e3"],[1, "g3"]).note()
 * // "e3@3 g3".note()
 */`,meta:{range:[38484,38843],filename:"pattern.mjs",lineno:1255,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100014469",name:"exports.timeCat",type:"FunctionDeclaration",paramnames:["timepats"]}},description:"<p>Like <code>seq</code>, but each step has a length, relative to the whole.</p>",returns:[{type:{names:["Pattern"]}}],examples:[`timeCat([3,"e3"],[1, "g3"]).note()
// "e3@3 g3".note()`],name:"timeCat",longname:"timeCat",kind:"function",scope:"global"},{comment:`/**
 * Allows to arrange multiple patterns together over multiple cycles.
 * Takes a variable number of arrays with two elements specifying the number of cycles and the pattern to use.
 *
 * @return {Pattern}
 * @example
 * arrange(
 *   [4, "<c a f e>(3,8)"],
 *   [2, "<g a>(5,8)"]
 * ).note()
 */`,meta:{range:[39145,39379],filename:"pattern.mjs",lineno:1278,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100014555",name:"exports.arrange",type:"FunctionDeclaration",paramnames:["sections"]}},description:`<p>Allows to arrange multiple patterns together over multiple cycles.
Takes a variable number of arrays with two elements specifying the number of cycles and the pattern to use.</p>`,returns:[{type:{names:["Pattern"]}}],examples:[`arrange(
  [4, "<c a f e>(3,8)"],
  [2, "<g a>(5,8)"]
).note()`],name:"arrange",longname:"arrange",kind:"function",scope:"global"},{comment:"/** See `fastcat` */",meta:{range:[39486,39550],filename:"pattern.mjs",lineno:1289,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100014617",name:"exports.sequence",type:"FunctionDeclaration",paramnames:["pats"]}},description:"<p>See <code>fastcat</code></p>",name:"sequence",longname:"sequence",kind:"function",scope:"global"},{comment:`/** Like **cat**, but the items are crammed into one cycle.
 * @synonyms fastcat, sequence
 * @example
 * seq("e5", "b4", ["d5", "c5"]).note()
 * // "e5 b4 [d5 c5]".note()
 *
 */`,meta:{range:[39731,39790],filename:"pattern.mjs",lineno:1300,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100014628",name:"exports.seq",type:"FunctionDeclaration",paramnames:["pats"]}},description:"<p>Like <strong>cat</strong>, but the items are crammed into one cycle.</p>",synonyms_text:"fastcat, sequence",synonyms:["fastcat","sequence"],examples:[`seq("e5", "b4", ["d5", "c5"]).note()
// "e5 b4 [d5 c5]".note()`],name:"seq",longname:"seq",kind:"function",scope:"global"},{comment:`/**
 * Aligns one or more given sequences to the given number of steps per cycle.
 *
 * @name polymeterSteps
 * @param  {number} steps how many items are placed in one cycle
 * @param  {any[]} sequences one or more arrays of Patterns / values
 * @example
 * polymeterSteps(4, ["c", "d", "e"])
 * .note().stack(s("bd"))
 * // note("{c d e}%4").stack(s("bd"))
 */`,meta:{filename:"pattern.mjs",lineno:1316,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Aligns one or more given sequences to the given number of steps per cycle.</p>",name:"polymeterSteps",params:[{type:{names:["number"]},description:"<p>how many items are placed in one cycle</p>",name:"steps"},{type:{names:["Array.<any>"]},description:"<p>one or more arrays of Patterns / values</p>",name:"sequences"}],examples:[`polymeterSteps(4, ["c", "d", "e"])
.note().stack(s("bd"))
// note("{c d e}%4").stack(s("bd"))`],longname:"polymeterSteps",kind:"member",scope:"global"},{comment:`/**
 * Combines the given lists of patterns with the same pulse. This will create so called polymeters when different sized sequences are used.
 * @synonyms pm
 * @example
 * polymeter(["c", "eb", "g"], ["c2", "g2"]).note()
 * // "{c eb g, c2 g2}".note()
 *
 */`,meta:{range:[41159,41234],filename:"pattern.mjs",lineno:1357,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100014801",name:"exports.polymeter",type:"FunctionDeclaration",paramnames:["args"]}},description:"<p>Combines the given lists of patterns with the same pulse. This will create so called polymeters when different sized sequences are used.</p>",synonyms_text:"pm",synonyms:["pm"],examples:[`polymeter(["c", "eb", "g"], ["c2", "g2"]).note()
// "{c eb g, c2 g2}".note()`],name:"polymeter",longname:"polymeter",kind:"function",scope:"global"},{comment:`/**
 * Registers a new pattern method. The method is added to the Pattern class + the standalone function is returned from register.
 *
 * @param {string} name name of the function
 * @param {function} func function with 1 or more params, where last is the current pattern
 * @noAutocomplete
 *
 */`,meta:{range:[43081,45059],filename:"pattern.mjs",lineno:1400,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100015262",name:"exports.register",type:"FunctionDeclaration",paramnames:["name","func","patternify"]}},description:"<p>Registers a new pattern method. The method is added to the Pattern class + the standalone function is returned from register.</p>",params:[{type:{names:["string"]},description:"<p>name of the function</p>",name:"name"},{type:{names:["function"]},description:"<p>function with 1 or more params, where last is the current pattern</p>",name:"func"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"register",longname:"register",kind:"function",scope:"global"},{comment:`/**
 * Assumes a numerical pattern. Returns a new pattern with all values rounded
 * to the nearest integer.
 * @name round
 * @memberof Pattern
 * @returns Pattern
 * @example
 * n("0.5 1.5 2.5".round()).scale("C:major")
 */`,meta:{filename:"pattern.mjs",lineno:1466,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Assumes a numerical pattern. Returns a new pattern with all values rounded
to the nearest integer.</p>`,name:"round",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['n("0.5 1.5 2.5".round()).scale("C:major")'],scope:"static",longname:"Pattern.round",kind:"member"},{comment:`/**
 * Assumes a numerical pattern. Returns a new pattern with all values set to
 * their mathematical floor. E.g. \`3.7\` replaced with to \`3\`, and \`-4.2\`
 * replaced with \`-5\`.
 * @name floor
 * @memberof Pattern
 * @returns Pattern
 * @example
 * note("42 42.1 42.5 43".floor())
 */`,meta:{filename:"pattern.mjs",lineno:1479,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Assumes a numerical pattern. Returns a new pattern with all values set to
their mathematical floor. E.g. <code>3.7</code> replaced with to <code>3</code>, and <code>-4.2</code>
replaced with <code>-5</code>.</p>`,name:"floor",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['note("42 42.1 42.5 43".floor())'],scope:"static",longname:"Pattern.floor",kind:"member"},{comment:`/**
 * Assumes a numerical pattern. Returns a new pattern with all values set to
 * their mathematical ceiling. E.g. \`3.2\` replaced with \`4\`, and \`-4.2\`
 * replaced with \`-4\`.
 * @name ceil
 * @memberof Pattern
 * @returns Pattern
 * @example
 * note("42 42.1 42.5 43".ceil())
 */`,meta:{filename:"pattern.mjs",lineno:1493,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Assumes a numerical pattern. Returns a new pattern with all values set to
their mathematical ceiling. E.g. <code>3.2</code> replaced with <code>4</code>, and <code>-4.2</code>
replaced with <code>-4</code>.</p>`,name:"ceil",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['note("42 42.1 42.5 43".ceil())'],scope:"static",longname:"Pattern.ceil",kind:"member"},{comment:`/**
 * Assumes a numerical pattern, containing unipolar values in the range 0 ..
 * 1. Returns a new pattern with values scaled to the bipolar range -1 .. 1
 * @returns Pattern
 * @noAutocomplete
 */`,meta:{range:[46488,46592],filename:"pattern.mjs",lineno:1512,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100015616",name:"exports.toBipolar",type:"VariableDeclaration"}},description:`<p>Assumes a numerical pattern, containing unipolar values in the range 0 ..</p>
<ol>
<li>Returns a new pattern with values scaled to the bipolar range -1 .. 1</li>
</ol>`,returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"toBipolar",longname:"toBipolar",kind:"constant",scope:"global"},{comment:`/**
 * Assumes a numerical pattern, containing bipolar values in the range -1 .. 1
 * Returns a new pattern with values scaled to the unipolar range 0 .. 1
 * @returns Pattern
 * @noAutocomplete
 */`,meta:{range:[46793,46903],filename:"pattern.mjs",lineno:1522,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100015638",name:"exports.fromBipolar",type:"VariableDeclaration"}},description:`<p>Assumes a numerical pattern, containing bipolar values in the range -1 .. 1
Returns a new pattern with values scaled to the unipolar range 0 .. 1</p>`,returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"fromBipolar",longname:"fromBipolar",kind:"constant",scope:"global"},{comment:`/**
 * Assumes a numerical pattern, containing unipolar values in the range 0 .. 1.
 * Returns a new pattern with values scaled to the given min/max range.
 * Most useful in combination with continuous patterns.
 * @name range
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("[bd sd]*2,hh*8")
 * .cutoff(sine.range(500,4000))
 */`,meta:{filename:"pattern.mjs",lineno:1526,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Assumes a numerical pattern, containing unipolar values in the range 0 .. 1.
Returns a new pattern with values scaled to the given min/max range.
Most useful in combination with continuous patterns.</p>`,name:"range",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`s("[bd sd]*2,hh*8")
.cutoff(sine.range(500,4000))`],scope:"static",longname:"Pattern.range",kind:"member"},{comment:`/**
 * Assumes a numerical pattern, containing unipolar values in the range 0 .. 1
 * Returns a new pattern with values scaled to the given min/max range,
 * following an exponential curve.
 * @name rangex
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("[bd sd]*2,hh*8")
 * .cutoff(sine.rangex(500,4000))
 */`,meta:{filename:"pattern.mjs",lineno:1541,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Assumes a numerical pattern, containing unipolar values in the range 0 .. 1
Returns a new pattern with values scaled to the given min/max range,
following an exponential curve.</p>`,name:"rangex",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`s("[bd sd]*2,hh*8")
.cutoff(sine.rangex(500,4000))`],scope:"static",longname:"Pattern.rangex",kind:"member"},{comment:`/**
 * Assumes a numerical pattern, containing bipolar values in the range -1 .. 1
 * Returns a new pattern with values scaled to the given min/max range.
 * @name range2
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("[bd sd]*2,hh*8")
 * .cutoff(sine2.range2(500,4000))
 */`,meta:{filename:"pattern.mjs",lineno:1556,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Assumes a numerical pattern, containing bipolar values in the range -1 .. 1
Returns a new pattern with values scaled to the given min/max range.</p>`,name:"range2",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`s("[bd sd]*2,hh*8")
.cutoff(sine2.range2(500,4000))`],scope:"static",longname:"Pattern.range2",kind:"member"},{comment:`/**
 * Allows dividing numbers via list notation using ":".
 * Returns a new pattern with just numbers.
 * @name ratio
 * @memberof Pattern
 * @returns Pattern
 * @example
 * ratio("1, 5:4, 3:2").mul(110)
 * .freq().s("piano")
 */`,meta:{filename:"pattern.mjs",lineno:1570,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Allows dividing numbers via list notation using &quot;:&quot;.
Returns a new pattern with just numbers.</p>`,name:"ratio",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`ratio("1, 5:4, 3:2").mul(110)
.freq().s("piano")`],scope:"static",longname:"Pattern.ratio",kind:"member"},{comment:`/** Compress each cycle into the given timespan, leaving a gap
 * @example
 * cat(
 *   s("bd sd").compress(.25,.75),
 *   s("~ bd sd ~")
 * )
 */`,meta:{range:[48896,49149],filename:"pattern.mjs",lineno:1599,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100015783",name:"exports.compress",type:"VariableDeclaration"}},description:"<p>Compress each cycle into the given timespan, leaving a gap</p>",examples:[`cat(
  s("bd sd").compress(.25,.75),
  s("~ bd sd ~")
)`],name:"compress",longname:"compress",kind:"constant",scope:"global"},{comment:`/**
 * speeds up a pattern like fast, but rather than it playing multiple times as fast would it instead leaves a gap in the remaining space of the cycle. For example, the following will play the sound pattern "bd sn" only once but compressed into the first half of the cycle, i.e. twice as fast.
 * @name fastGap
 * @synonyms fastgap
 * @example
 * s("bd sd").fastGap(2)
 */`,meta:{filename:"pattern.mjs",lineno:1612,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>speeds up a pattern like fast, but rather than it playing multiple times as fast would it instead leaves a gap in the remaining space of the cycle. For example, the following will play the sound pattern &quot;bd sn&quot; only once but compressed into the first half of the cycle, i.e. twice as fast.</p>",name:"fastGap",synonyms_text:"fastgap",synonyms:["fastgap"],examples:['s("bd sd").fastGap(2)'],longname:"fastGap",kind:"member",scope:"global"},{comment:`/**
 * Similar to \`compress\`, but doesn't leave gaps, and the 'focus' can be bigger than a cycle
 * @example
 * s("bd hh sd hh").focus(1/4, 3/4)
 */`,meta:{range:[51040,51209],filename:"pattern.mjs",lineno:1654,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016125",name:"exports.focus",type:"VariableDeclaration"}},description:"<p>Similar to <code>compress</code>, but doesn't leave gaps, and the 'focus' can be bigger than a cycle</p>",examples:['s("bd hh sd hh").focus(1/4, 3/4)'],name:"focus",longname:"focus",kind:"constant",scope:"global"},{comment:`/** The ply function repeats each event the given number of times.
 * @example
 * s("bd ~ sd cp").ply("<1 2 3>")
 */`,meta:{range:[51476,51602],filename:"pattern.mjs",lineno:1668,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016200",name:"exports.ply",type:"VariableDeclaration"}},description:"<p>The ply function repeats each event the given number of times.</p>",examples:['s("bd ~ sd cp").ply("<1 2 3>")'],name:"ply",longname:"ply",kind:"constant",scope:"global"},{comment:`/**
 * Speed up a pattern by the given factor. Used by "*" in mini notation.
 *
 * @name fast
 * @synonyms density
 * @memberof Pattern
 * @param {number | Pattern} factor speed up factor
 * @returns Pattern
 * @example
 * s("bd hh sd hh").fast(2) // s("[bd hh sd hh]*2")
 */`,meta:{filename:"pattern.mjs",lineno:1672,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Speed up a pattern by the given factor. Used by &quot;*&quot; in mini notation.</p>",name:"fast",synonyms_text:"density",synonyms:["density"],memberof:"Pattern",params:[{type:{names:["number","Pattern"]},description:"<p>speed up factor</p>",name:"factor"}],returns:[{description:"<p>Pattern</p>"}],examples:['s("bd hh sd hh").fast(2) // s("[bd hh sd hh]*2")'],scope:"static",longname:"Pattern.fast",kind:"member"},{comment:`/**
 * Both speeds up the pattern (like 'fast') and the sample playback (like 'speed').
 * @example
 * s("bd sd:2").hurry("<1 2 4 3>").slow(1.5)
 */`,meta:{range:[52312,52421],filename:"pattern.mjs",lineno:1697,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016284",name:"exports.hurry",type:"VariableDeclaration"}},description:"<p>Both speeds up the pattern (like 'fast') and the sample playback (like 'speed').</p>",examples:['s("bd sd:2").hurry("<1 2 4 3>").slow(1.5)'],name:"hurry",longname:"hurry",kind:"constant",scope:"global"},{comment:`/**
 * Slow down a pattern over the given number of cycles. Like the "/" operator in mini notation.
 *
 * @name slow
 * @synonyms sparsity
 * @memberof Pattern
 * @param {number | Pattern} factor slow down factor
 * @returns Pattern
 * @example
 * s("bd hh sd hh").slow(2) // s("[bd hh sd hh]/2")
 */`,meta:{filename:"pattern.mjs",lineno:1701,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Slow down a pattern over the given number of cycles. Like the &quot;/&quot; operator in mini notation.</p>",name:"slow",synonyms_text:"sparsity",synonyms:["sparsity"],memberof:"Pattern",params:[{type:{names:["number","Pattern"]},description:"<p>slow down factor</p>",name:"factor"}],returns:[{description:"<p>Pattern</p>"}],examples:['s("bd hh sd hh").slow(2) // s("[bd hh sd hh]/2")'],scope:"static",longname:"Pattern.slow",kind:"member"},{comment:`/**
 * Carries out an operation 'inside' a cycle.
 * @example
 * "0 1 2 3 4 3 2 1".inside(4, rev).scale('C major').note()
 * // "0 1 2 3 4 3 2 1".slow(4).rev().fast(4).scale('C major').note()
 */`,meta:{range:[53106,53223],filename:"pattern.mjs",lineno:1725,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016345",name:"exports.inside",type:"VariableDeclaration"}},description:"<p>Carries out an operation 'inside' a cycle.</p>",examples:[`"0 1 2 3 4 3 2 1".inside(4, rev).scale('C major').note()
// "0 1 2 3 4 3 2 1".slow(4).rev().fast(4).scale('C major').note()`],name:"inside",longname:"inside",kind:"constant",scope:"global"},{comment:`/**
 * Carries out an operation 'outside' a cycle.
 * @example
 * "<[0 1] 2 [3 4] 5>".outside(4, rev).scale('C major').note()
 * // "<[0 1] 2 [3 4] 5>".fast(4).rev().slow(4).scale('C major').note()
 */`,meta:{range:[53427,53546],filename:"pattern.mjs",lineno:1735,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016369",name:"exports.outside",type:"VariableDeclaration"}},description:"<p>Carries out an operation 'outside' a cycle.</p>",examples:[`"<[0 1] 2 [3 4] 5>".outside(4, rev).scale('C major').note()
// "<[0 1] 2 [3 4] 5>".fast(4).rev().slow(4).scale('C major').note()`],name:"outside",longname:"outside",kind:"constant",scope:"global"},{comment:`/**
 * Applies the given function every n cycles, starting from the last cycle.
 * @name lastOf
 * @memberof Pattern
 * @param {number} n how many cycles
 * @param {function} func function to apply
 * @returns Pattern
 * @example
 * note("c3 d3 e3 g3").lastOf(4, x=>x.rev())
 */`,meta:{filename:"pattern.mjs",lineno:1739,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Applies the given function every n cycles, starting from the last cycle.</p>",name:"lastOf",memberof:"Pattern",params:[{type:{names:["number"]},description:"<p>how many cycles</p>",name:"n"},{type:{names:["function"]},description:"<p>function to apply</p>",name:"func"}],returns:[{description:"<p>Pattern</p>"}],examples:['note("c3 d3 e3 g3").lastOf(4, x=>x.rev())'],scope:"static",longname:"Pattern.lastOf",kind:"member"},{comment:`/**
 * Applies the given function every n cycles, starting from the first cycle.
 * @name firstOf
 * @memberof Pattern
 * @param {number} n how many cycles
 * @param {function} func function to apply
 * @returns Pattern
 * @example
 * note("c3 d3 e3 g3").firstOf(4, x=>x.rev())
 */`,meta:{filename:"pattern.mjs",lineno:1755,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Applies the given function every n cycles, starting from the first cycle.</p>",name:"firstOf",memberof:"Pattern",params:[{type:{names:["number"]},description:"<p>how many cycles</p>",name:"n"},{type:{names:["function"]},description:"<p>function to apply</p>",name:"func"}],returns:[{description:"<p>Pattern</p>"}],examples:['note("c3 d3 e3 g3").firstOf(4, x=>x.rev())'],scope:"static",longname:"Pattern.firstOf",kind:"member"},{comment:`/**
 * An alias for \`firstOf\`
 * @name every
 * @memberof Pattern
 * @param {number} n how many cycles
 * @param {function} func function to apply
 * @returns Pattern
 * @example
 * note("c3 d3 e3 g3").every(4, x=>x.rev())
 */`,meta:{filename:"pattern.mjs",lineno:1766,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>An alias for <code>firstOf</code></p>",name:"every",memberof:"Pattern",params:[{type:{names:["number"]},description:"<p>how many cycles</p>",name:"n"},{type:{names:["function"]},description:"<p>function to apply</p>",name:"func"}],returns:[{description:"<p>Pattern</p>"}],examples:['note("c3 d3 e3 g3").every(4, x=>x.rev())'],scope:"static",longname:"Pattern.every",kind:"member"},{comment:`/**
 * Like layer, but with a single function:
 * @name apply
 * @memberof Pattern
 * @example
 * "<c3 eb3 g3>".scale('C minor').apply(scaleTranspose("0,2,4")).note()
 */`,meta:{filename:"pattern.mjs",lineno:1782,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Like layer, but with a single function:</p>",name:"apply",memberof:"Pattern",examples:[`"<c3 eb3 g3>".scale('C minor').apply(scaleTranspose("0,2,4")).note()`],scope:"static",longname:"Pattern.apply",kind:"member"},{comment:`/**
 * Plays the pattern at the given cycles per minute.
 * @example
 * s("<bd sd>,hh*2").cpm(90) // = 90 bpm
 */`,meta:{range:[55175,55269],filename:"pattern.mjs",lineno:1800,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016488",name:"exports.cpm",type:"VariableDeclaration"}},description:"<p>Plays the pattern at the given cycles per minute.</p>",examples:['s("<bd sd>,hh*2").cpm(90) // = 90 bpm'],name:"cpm",longname:"cpm",kind:"constant",scope:"global"},{comment:`/**
 * Nudge a pattern to start earlier in time. Equivalent of Tidal's <~ operator
 *
 * @name early
 * @memberof Pattern
 * @param {number | Pattern} cycles number of cycles to nudge left
 * @returns Pattern
 * @example
 * "bd ~".stack("hh ~".early(.1)).s()
 */`,meta:{filename:"pattern.mjs",lineno:1804,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Nudge a pattern to start earlier in time. Equivalent of Tidal's &lt;~ operator</p>",name:"early",memberof:"Pattern",params:[{type:{names:["number","Pattern"]},description:"<p>number of cycles to nudge left</p>",name:"cycles"}],returns:[{description:"<p>Pattern</p>"}],examples:['"bd ~".stack("hh ~".early(.1)).s()'],scope:"static",longname:"Pattern.early",kind:"member"},{comment:`/**
 * Nudge a pattern to start later in time. Equivalent of Tidal's ~> operator
 *
 * @name late
 * @memberof Pattern
 * @param {number | Pattern} cycles number of cycles to nudge right
 * @returns Pattern
 * @example
 * "bd ~".stack("hh ~".late(.1)).s()
 */`,meta:{filename:"pattern.mjs",lineno:1819,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Nudge a pattern to start later in time. Equivalent of Tidal's ~&gt; operator</p>",name:"late",memberof:"Pattern",params:[{type:{names:["number","Pattern"]},description:"<p>number of cycles to nudge right</p>",name:"cycles"}],returns:[{description:"<p>Pattern</p>"}],examples:['"bd ~".stack("hh ~".late(.1)).s()'],scope:"static",longname:"Pattern.late",kind:"member"},{comment:`/**
 * Plays a portion of a pattern, specified by the beginning and end of a time span. The new resulting pattern is played over the time period of the original pattern:
 *
 * @example
 * s("bd*2 hh*3 [sd bd]*2 perc").zoom(0.25, 0.75)
 * // s("hh*3 [sd bd]*2") // equivalent
 */`,meta:{range:[56397,56690],filename:"pattern.mjs",lineno:1841,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016577",name:"exports.zoom",type:"VariableDeclaration"}},description:"<p>Plays a portion of a pattern, specified by the beginning and end of a time span. The new resulting pattern is played over the time period of the original pattern:</p>",examples:[`s("bd*2 hh*3 [sd bd]*2 perc").zoom(0.25, 0.75)
// s("hh*3 [sd bd]*2") // equivalent`],name:"zoom",longname:"zoom",kind:"constant",scope:"global"},{comment:`/**
 * Selects the given fraction of the pattern and repeats that part to fill the remainder of the cycle.
 * @param {number} fraction fraction to select
 * @example
 * s("lt ht mt cp, [hh oh]*2").linger("<1 .5 .25 .125>")
 */`,meta:{range:[57048,57253],filename:"pattern.mjs",lineno:1861,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016682",name:"exports.linger",type:"VariableDeclaration"}},description:"<p>Selects the given fraction of the pattern and repeats that part to fill the remainder of the cycle.</p>",params:[{type:{names:["number"]},description:"<p>fraction to select</p>",name:"fraction"}],examples:['s("lt ht mt cp, [hh oh]*2").linger("<1 .5 .25 .125>")'],name:"linger",longname:"linger",kind:"constant",scope:"global"},{comment:`/**
 * Samples the pattern at a rate of n events per cycle. Useful for turning a continuous pattern into a discrete one.
 * @param {number} segments number of segments per cycle
 * @example
 * note(saw.range(40,52).segment(24))
 */`,meta:{range:[57487,57601],filename:"pattern.mjs",lineno:1876,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016731",name:"exports.segment",type:"VariableDeclaration"}},description:"<p>Samples the pattern at a rate of n events per cycle. Useful for turning a continuous pattern into a discrete one.</p>",params:[{type:{names:["number"]},description:"<p>number of segments per cycle</p>",name:"segments"}],examples:["note(saw.range(40,52).segment(24))"],name:"segment",longname:"segment",kind:"constant",scope:"global"},{comment:`/**
 * Swaps 1s and 0s in a binary pattern.
 * @name invert
 * @synonyms inv
 * @example
 * s("bd").struct("1 0 0 1 0 0 1 0".lastOf(4, invert))
 */`,meta:{filename:"pattern.mjs",lineno:1880,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Swaps 1s and 0s in a binary pattern.</p>",name:"invert",synonyms_text:"inv",synonyms:["inv"],examples:['s("bd").struct("1 0 0 1 0 0 1 0".lastOf(4, invert))'],longname:"invert",kind:"member",scope:"global"},{comment:`/**
 * Applies the given function whenever the given pattern is in a true state.
 * @name when
 * @memberof Pattern
 * @param {Pattern} binary_pat
 * @param {function} func
 * @returns Pattern
 * @example
 * "c3 eb3 g3".when("<0 1>/2", x=>x.sub("5")).note()
 */`,meta:{filename:"pattern.mjs",lineno:1892,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Applies the given function whenever the given pattern is in a true state.</p>",name:"when",memberof:"Pattern",params:[{type:{names:["Pattern"]},name:"binary_pat"},{type:{names:["function"]},name:"func"}],returns:[{description:"<p>Pattern</p>"}],examples:['"c3 eb3 g3".when("<0 1>/2", x=>x.sub("5")).note()'],scope:"static",longname:"Pattern.when",kind:"member"},{comment:`/**
 * Superimposes the function result on top of the original pattern, delayed by the given time.
 * @name off
 * @memberof Pattern
 * @param {Pattern | number} time offset time
 * @param {function} func function to apply
 * @returns Pattern
 * @example
 * "c3 eb3 g3".off(1/8, x=>x.add(7)).note()
 */`,meta:{filename:"pattern.mjs",lineno:1906,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Superimposes the function result on top of the original pattern, delayed by the given time.</p>",name:"off",memberof:"Pattern",params:[{type:{names:["Pattern","number"]},description:"<p>offset time</p>",name:"time"},{type:{names:["function"]},description:"<p>function to apply</p>",name:"func"}],returns:[{description:"<p>Pattern</p>"}],examples:['"c3 eb3 g3".off(1/8, x=>x.add(7)).note()'],scope:"static",longname:"Pattern.off",kind:"member"},{comment:`/**
 * Returns a new pattern where every other cycle is played once, twice as
 * fast, and offset in time by one quarter of a cycle. Creates a kind of
 * breakbeat feel.
 * @returns Pattern
 */`,meta:{range:[58882,59020],filename:"pattern.mjs",lineno:1926,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016821",name:"exports.brak",type:"VariableDeclaration"}},description:`<p>Returns a new pattern where every other cycle is played once, twice as
fast, and offset in time by one quarter of a cycle. Creates a kind of
breakbeat feel.</p>`,returns:[{description:"<p>Pattern</p>"}],name:"brak",longname:"brak",kind:"constant",scope:"global"},{comment:`/**
 * Reverse all haps in a pattern
 *
 * @name rev
 * @memberof Pattern
 * @returns Pattern
 * @example
 * note("c d e g").rev()
 */`,meta:{filename:"pattern.mjs",lineno:1930,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Reverse all haps in a pattern</p>",name:"rev",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['note("c d e g").rev()'],scope:"static",longname:"Pattern.rev",kind:"member"},{comment:`/** Like press, but allows you to specify the amount by which each
 * event is shifted. pressBy(0.5) is the same as press, while
 * pressBy(1/3) shifts each event by a third of its timespan.
 * @example
 * stack(s("hh*4"),
 *       s("bd mt sd ht").pressBy("<0 0.5 0.25>")
 *      ).slow(2)
 */`,meta:{range:[60170,60300],filename:"pattern.mjs",lineno:1966,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016969",name:"exports.pressBy",type:"VariableDeclaration"}},description:`<p>Like press, but allows you to specify the amount by which each
event is shifted. pressBy(0.5) is the same as press, while
pressBy(1/3) shifts each event by a third of its timespan.</p>`,examples:[`stack(s("hh*4"),
      s("bd mt sd ht").pressBy("<0 0.5 0.25>")
     ).slow(2)`],name:"pressBy",longname:"pressBy",kind:"constant",scope:"global"},{comment:`/**
 * Syncopates a rhythm, by shifting each event halfway into its timespan.
 * @example
 * stack(s("hh*4"),
 *       s("bd mt sd ht").every(4, press)
 *      ).slow(2)
 */`,meta:{range:[60476,60563],filename:"pattern.mjs",lineno:1977,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016998",name:"exports.press",type:"VariableDeclaration"}},description:"<p>Syncopates a rhythm, by shifting each event halfway into its timespan.</p>",examples:[`stack(s("hh*4"),
      s("bd mt sd ht").every(4, press)
     ).slow(2)`],name:"press",longname:"press",kind:"constant",scope:"global"},{comment:`/**
 * Silences a pattern.
 * @example
 * stack(
 *   s("bd").hush(),
 *   s("hh*3")
 * )
 */`,meta:{range:[60659,60717],filename:"pattern.mjs",lineno:1989,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100017015",name:"Pattern.prototype.hush",type:"FunctionExpression",paramnames:[]}},description:"<p>Silences a pattern.</p>",examples:[`stack(
  s("bd").hush(),
  s("hh*3")
)`],name:"hush",longname:"Pattern#hush",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
 * Applies \`rev\` to a pattern every other cycle, so that the pattern alternates between forwards and backwards.
 * @example
 * note("c d e g").palindrome()
 */`,meta:{range:[60884,60982],filename:"pattern.mjs",lineno:1998,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100017025",name:"exports.palindrome",type:"VariableDeclaration"}},description:"<p>Applies <code>rev</code> to a pattern every other cycle, so that the pattern alternates between forwards and backwards.</p>",examples:['note("c d e g").palindrome()'],name:"palindrome",longname:"palindrome",kind:"constant",scope:"global"},{comment:`/**
 * Jux with adjustable stereo width. 0 = mono, 1 = full stereo.
 * @name juxBy
 * @synonyms juxby
 * @example
 * s("bd lt [~ ht] mt cp ~ bd hh").juxBy("<0 .5 1>/2", rev)
 */`,meta:{filename:"pattern.mjs",lineno:2002,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Jux with adjustable stereo width. 0 = mono, 1 = full stereo.</p>",name:"juxBy",synonyms_text:"juxby",synonyms:["juxby"],examples:['s("bd lt [~ ht] mt cp ~ bd hh").juxBy("<0 .5 1>/2", rev)'],longname:"juxBy",kind:"member",scope:"global"},{comment:`/**
 * The jux function creates strange stereo effects, by applying a function to a pattern, but only in the right-hand channel.
 * @example
 * s("bd lt [~ ht] mt cp ~ bd hh").jux(rev)
 * @example
 * s("bd lt [~ ht] mt cp ~ bd hh").jux(press)
 * @example
 * s("bd lt [~ ht] mt cp ~ bd hh").jux(iter(4))
 */`,meta:{range:[61938,62034],filename:"pattern.mjs",lineno:2032,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100017138",name:"exports.jux",type:"VariableDeclaration"}},description:"<p>The jux function creates strange stereo effects, by applying a function to a pattern, but only in the right-hand channel.</p>",examples:['s("bd lt [~ ht] mt cp ~ bd hh").jux(rev)','s("bd lt [~ ht] mt cp ~ bd hh").jux(press)','s("bd lt [~ ht] mt cp ~ bd hh").jux(iter(4))'],name:"jux",longname:"jux",kind:"constant",scope:"global"},{comment:`/**
 * Superimpose and offset multiple times, applying the given function each time.
 * @name echoWith
 * @synonyms echowith, stutWith, stutwith
 * @param {number} times how many times to repeat
 * @param {number} time cycle offset between iterations
 * @param {function} func function to apply, given the pattern and the iteration index
 * @example
 * "<0 [2 4]>"
 * .echoWith(4, 1/8, (p,n) => p.add(n*2))
 * .scale("C:minor").note()
 */`,meta:{filename:"pattern.mjs",lineno:2036,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Superimpose and offset multiple times, applying the given function each time.</p>",name:"echoWith",synonyms_text:"echowith, stutWith, stutwith",synonyms:["echowith","stutWith","stutwith"],params:[{type:{names:["number"]},description:"<p>how many times to repeat</p>",name:"times"},{type:{names:["number"]},description:"<p>cycle offset between iterations</p>",name:"time"},{type:{names:["function"]},description:"<p>function to apply, given the pattern and the iteration index</p>",name:"func"}],examples:[`"<0 [2 4]>"
.echoWith(4, 1/8, (p,n) => p.add(n*2))
.scale("C:minor").note()`],longname:"echoWith",kind:"member",scope:"global"},{comment:`/**
 * Superimpose and offset multiple times, gradually decreasing the velocity
 * @name echo
 * @memberof Pattern
 * @returns Pattern
 * @param {number} times how many times to repeat
 * @param {number} time cycle offset between iterations
 * @param {number} feedback velocity multiplicator for each iteration
 * @example
 * s("bd sd").echo(3, 1/6, .8)
 */`,meta:{filename:"pattern.mjs",lineno:2055,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Superimpose and offset multiple times, gradually decreasing the velocity</p>",name:"echo",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],params:[{type:{names:["number"]},description:"<p>how many times to repeat</p>",name:"times"},{type:{names:["number"]},description:"<p>cycle offset between iterations</p>",name:"time"},{type:{names:["number"]},description:"<p>velocity multiplicator for each iteration</p>",name:"feedback"}],examples:['s("bd sd").echo(3, 1/6, .8)'],scope:"static",longname:"Pattern.echo",kind:"member"},{comment:`/**
 * Deprecated. Like echo, but the last 2 parameters are flipped.
 * @name stut
 * @param {number} times how many times to repeat
 * @param {number} feedback velocity multiplicator for each iteration
 * @param {number} time cycle offset between iterations
 * @example
 * s("bd sd").stut(3, .8, 1/6)
 */`,meta:{filename:"pattern.mjs",lineno:2070,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Deprecated. Like echo, but the last 2 parameters are flipped.</p>",name:"stut",params:[{type:{names:["number"]},description:"<p>how many times to repeat</p>",name:"times"},{type:{names:["number"]},description:"<p>velocity multiplicator for each iteration</p>",name:"feedback"},{type:{names:["number"]},description:"<p>cycle offset between iterations</p>",name:"time"}],examples:['s("bd sd").stut(3, .8, 1/6)'],longname:"stut",kind:"member",scope:"global"},{comment:`/**
 * Divides a pattern into a given number of subdivisions, plays the subdivisions in order, but increments the starting subdivision each cycle. The pattern wraps to the first subdivision after the last subdivision is played.
 * @name iter
 * @memberof Pattern
 * @returns Pattern
 * @example
 * note("0 1 2 3".scale('A minor')).iter(4)
 */`,meta:{filename:"pattern.mjs",lineno:2083,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Divides a pattern into a given number of subdivisions, plays the subdivisions in order, but increments the starting subdivision each cycle. The pattern wraps to the first subdivision after the last subdivision is played.</p>",name:"iter",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`note("0 1 2 3".scale('A minor')).iter(4)`],scope:"static",longname:"Pattern.iter",kind:"member"},{comment:`/**
 * Like \`iter\`, but plays the subdivisions in reverse order. Known as iter' in tidalcycles
 * @name iterBack
 * @synonyms iterback
 * @memberof Pattern
 * @returns Pattern
 * @example
 * note("0 1 2 3".scale('A minor')).iterBack(4)
 */`,meta:{filename:"pattern.mjs",lineno:2105,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Like <code>iter</code>, but plays the subdivisions in reverse order. Known as iter' in tidalcycles</p>",name:"iterBack",synonyms_text:"iterback",synonyms:["iterback"],memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`note("0 1 2 3".scale('A minor')).iterBack(4)`],scope:"static",longname:"Pattern.iterBack",kind:"member"},{comment:`/**
 * Repeats each cycle the given number of times.
 * @name repeatCycles
 * @memberof Pattern
 * @returns Pattern
 * @example
 * note(irand(12).add(34)).segment(4).repeatCycles(2).s("gm_acoustic_guitar_nylon")
 */`,meta:{filename:"pattern.mjs",lineno:2118,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Repeats each cycle the given number of times.</p>",name:"repeatCycles",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['note(irand(12).add(34)).segment(4).repeatCycles(2).s("gm_acoustic_guitar_nylon")'],scope:"static",longname:"Pattern.repeatCycles",kind:"member"},{comment:`/**
 * Divides a pattern into a given number of parts, then cycles through those parts in turn, applying the given function to each part in turn (one part per cycle).
 * @name chunk
 * @synonyms slowChunk, slowchunk
 * @memberof Pattern
 * @returns Pattern
 * @example
 * "0 1 2 3".chunk(4, x=>x.add(7))
 * .scale("A:minor").note()
 */`,meta:{filename:"pattern.mjs",lineno:2132,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Divides a pattern into a given number of parts, then cycles through those parts in turn, applying the given function to each part in turn (one part per cycle).</p>",name:"chunk",synonyms_text:"slowChunk, slowchunk",synonyms:["slowChunk","slowchunk"],memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`"0 1 2 3".chunk(4, x=>x.add(7))
.scale("A:minor").note()`],scope:"static",longname:"Pattern.chunk",kind:"member"},{comment:`/**
 * Like \`chunk\`, but cycles through the parts in reverse order. Known as chunk' in tidalcycles
 * @name chunkBack
 * @synonyms chunkback
 * @memberof Pattern
 * @returns Pattern
 * @example
 * "0 1 2 3".chunkBack(4, x=>x.add(7))
 * .scale("A:minor").note()
 */`,meta:{filename:"pattern.mjs",lineno:2158,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Like <code>chunk</code>, but cycles through the parts in reverse order. Known as chunk' in tidalcycles</p>",name:"chunkBack",synonyms_text:"chunkback",synonyms:["chunkback"],memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`"0 1 2 3".chunkBack(4, x=>x.add(7))
.scale("A:minor").note()`],scope:"static",longname:"Pattern.chunkBack",kind:"member"},{comment:`/**
 * Like \`chunk\`, but the cycles of the source pattern aren't repeated
 * for each set of chunks.
 * @name fastChunk
 * @synonyms fastchunk
 * @memberof Pattern
 * @returns Pattern
 * @example
 * "<0 8> 1 2 3 4 5 6 7"
 * .fastChunk(4, x => x.color('red')).slow(2)
 * .scale("C2:major").note()
 */`,meta:{filename:"pattern.mjs",lineno:2172,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Like <code>chunk</code>, but the cycles of the source pattern aren't repeated
for each set of chunks.</p>`,name:"fastChunk",synonyms_text:"fastchunk",synonyms:["fastchunk"],memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`"<0 8> 1 2 3 4 5 6 7"
.fastChunk(4, x => x.color('red')).slow(2)
.scale("C2:major").note()`],scope:"static",longname:"Pattern.fastChunk",kind:"member"},{comment:`/**
 * Loops the pattern inside at \`offset\` for \`cycles\`.
 * @param {number} offset start point of loop in cycles
 * @param {number} cycles loop length in cycles
 * @example
 * note("<c d e f>").ribbon(1, 2).fast(2)
 * @example
 * // Looping a portion of randomness
 * note(irand(8).segment(4).scale('C3 minor')).ribbon(1337, 2)
 */`,meta:{range:[67421,67536],filename:"pattern.mjs",lineno:2204,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100017567",name:"exports.ribbon",type:"VariableDeclaration"}},description:"<p>Loops the pattern inside at <code>offset</code> for <code>cycles</code>.</p>",params:[{type:{names:["number"]},description:"<p>start point of loop in cycles</p>",name:"offset"},{type:{names:["number"]},description:"<p>loop length in cycles</p>",name:"cycles"}],examples:['note("<c d e f>").ribbon(1, 2).fast(2)',`// Looping a portion of randomness
note(irand(8).segment(4).scale('C3 minor')).ribbon(1337, 2)`],name:"ribbon",longname:"ribbon",kind:"constant",scope:"global"},{comment:`/**
 * Sets the color of the hap in visualizations like pianoroll or highlighting.
 * @name color
 * @synonyms colour
 * @param {string} color Hexadecimal or CSS color name
 */`,meta:{filename:"pattern.mjs",lineno:2220,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the color of the hap in visualizations like pianoroll or highlighting.</p>",name:"color",synonyms_text:"colour",synonyms:["colour"],params:[{type:{names:["string"]},description:"<p>Hexadecimal or CSS color name</p>",name:"color"}],longname:"color",kind:"member",scope:"global"},{comment:`/**
 *
 * Sets the velocity from 0 to 1. Is multiplied together with gain.
 * @name velocity
 * @example
 * s("hh*8")
 * .gain(".4!2 1 .4!2 1 .4 1")
 * .velocity(".4 1")
 */`,meta:{filename:"pattern.mjs",lineno:2231,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the velocity from 0 to 1. Is multiplied together with gain.</p>",name:"velocity",examples:[`s("hh*8")
.gain(".4!2 1 .4!2 1 .4 1")
.velocity(".4 1")`],longname:"velocity",kind:"member",scope:"global"},{comment:`/**
 *
 * Multiplies the hap duration with the given factor.
 * With samples, \`clip\` might be a better function to use ([more info](https://github.com/tidalcycles/strudel/pull/598))
 * @name legato
 * @memberof Pattern
 * @example
 * note("c3 eb3 g3 c4").legato("<.25 .5 1 2>")
 */`,meta:{filename:"pattern.mjs",lineno:2244,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Multiplies the hap duration with the given factor.
With samples, <code>clip</code> might be a better function to use (<a href="https://github.com/tidalcycles/strudel/pull/598">more info</a>)</p>`,name:"legato",memberof:"Pattern",examples:['note("c3 eb3 g3 c4").legato("<.25 .5 1 2>")'],scope:"static",longname:"Pattern.legato",kind:"member"},{comment:`/**
 * Cuts each sample into the given number of parts, allowing you to explore a technique known as 'granular synthesis'.
 * It turns a pattern of samples into a pattern of parts of samples.
 * @name chop
 * @memberof Pattern
 * @returns Pattern
 * @example
 * samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })
 * s("rhodes")
 *  .chop(4)
 *  .rev() // reverse order of chops
 *  .loopAt(2) // fit sample into 2 cycles
 *
 */`,meta:{filename:"pattern.mjs",lineno:2263,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Cuts each sample into the given number of parts, allowing you to explore a technique known as 'granular synthesis'.
It turns a pattern of samples into a pattern of parts of samples.</p>`,name:"chop",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })
s("rhodes")
 .chop(4)
 .rev() // reverse order of chops
 .loopAt(2) // fit sample into 2 cycles`],scope:"static",longname:"Pattern.chop",kind:"member"},{comment:`/**
 * Cuts each sample into the given number of parts, triggering progressive portions of each sample at each loop.
 * @name striate
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("numbers:0 numbers:1 numbers:2").striate(6).slow(3)
 */`,meta:{filename:"pattern.mjs",lineno:2286,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Cuts each sample into the given number of parts, triggering progressive portions of each sample at each loop.</p>",name:"striate",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("numbers:0 numbers:1 numbers:2").striate(6).slow(3)'],scope:"static",longname:"Pattern.striate",kind:"member"},{comment:`/**
 * Makes the sample fit the given number of cycles by changing the speed.
 * @name loopAt
 * @memberof Pattern
 * @returns Pattern
 * @example
 * samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })
 * s("rhodes").loopAt(2)
 */`,meta:{filename:"pattern.mjs",lineno:2301,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Makes the sample fit the given number of cycles by changing the speed.</p>",name:"loopAt",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })
s("rhodes").loopAt(2)`],scope:"static",longname:"Pattern.loopAt",kind:"member"},{comment:`/**
 * Chops samples into the given number of slices, triggering those slices with a given pattern of slice numbers.
 * Instead of a number, it also accepts a list of numbers from 0 to 1 to slice at specific points.
 * @name slice
 * @memberof Pattern
 * @returns Pattern
 * @example
 * await samples('github:tidalcycles/Dirt-Samples/master')
 * s("breaks165").slice(8, "0 1 <2 2*2> 3 [4 0] 5 6 7".every(3, rev)).slow(0.75)
 * @example
 * await samples('github:tidalcycles/Dirt-Samples/master')
 * s("breaks125").fit().slice([0,.25,.5,.75], "0 1 1 <2 3>")
 */`,meta:{filename:"pattern.mjs",lineno:2318,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Chops samples into the given number of slices, triggering those slices with a given pattern of slice numbers.
Instead of a number, it also accepts a list of numbers from 0 to 1 to slice at specific points.</p>`,name:"slice",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`await samples('github:tidalcycles/Dirt-Samples/master')
s("breaks165").slice(8, "0 1 <2 2*2> 3 [4 0] 5 6 7".every(3, rev)).slow(0.75)`,`await samples('github:tidalcycles/Dirt-Samples/master')
s("breaks125").fit().slice([0,.25,.5,.75], "0 1 1 <2 3>")`],scope:"static",longname:"Pattern.slice",kind:"member"},{comment:`/**
 * Works the same as slice, but changes the playback speed of each slice to match the duration of its step.
 * @name splice
 * @example
 * await samples('github:tidalcycles/Dirt-Samples/master')
 * s("breaks165")
 * .splice(8,  "0 1 [2 3 0]@2 3 0@2 7")
 */`,meta:{filename:"pattern.mjs",lineno:2350,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Works the same as slice, but changes the playback speed of each slice to match the duration of its step.</p>",name:"splice",examples:[`await samples('github:tidalcycles/Dirt-Samples/master')
s("breaks165")
.splice(8,  "0 1 [2 3 0]@2 3 0@2 7")`],longname:"splice",kind:"member",scope:"global"},{comment:`/**
 * Makes the sample fit its event duration. Good for rhythmical loops like drum breaks.
 * Similar to \`loopAt\`.
 * @name fit
 * @example
 * samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })
 * s("rhodes/2").fit()
 */`,meta:{filename:"pattern.mjs",lineno:2385,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Makes the sample fit its event duration. Good for rhythmical loops like drum breaks.
Similar to <code>loopAt</code>.</p>`,name:"fit",examples:[`samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })
s("rhodes/2").fit()`],longname:"fit",kind:"member",scope:"global"},{comment:`/**
 * Makes the sample fit the given number of cycles and cps value, by
 * changing the speed. Please note that at some point cps will be
 * given by a global clock and this function will be
 * deprecated/removed.
 * @name loopAtCps
 * @memberof Pattern
 * @returns Pattern
 * @example
 * samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })
 * s("rhodes").loopAtCps(4,1.5).cps(1.5)
 */`,meta:{filename:"pattern.mjs",lineno:2405,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Makes the sample fit the given number of cycles and cps value, by
changing the speed. Please note that at some point cps will be
given by a global clock and this function will be
deprecated/removed.</p>`,name:"loopAtCps",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })
s("rhodes").loopAtCps(4,1.5).cps(1.5)`],scope:"static",longname:"Pattern.loopAtCps",kind:"member"},{comment:"/** exposes a custom value at query time. basically allows mutating state without evaluation */",meta:{range:[74532,74632],filename:"pattern.mjs",lineno:2423,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100018234",name:"exports.ref",type:"VariableDeclaration"}},description:"<p>exposes a custom value at query time. basically allows mutating state without evaluation</p>",name:"ref",longname:"ref",kind:"constant",scope:"global"},{comment:`/**
 * Cross-fades between left and right from 0 to 1:
 * - 0 = (full left, no right)
 * - .5 = (both equal)
 * - 1 = (no left, full right)
 *
 * @name xfade
 * @example
 * xfade(s("bd*2"), "<0 .25 .5 .75 1>", s("hh*8"))
 */`,meta:{filename:"pattern.mjs",lineno:2430,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Cross-fades between left and right from 0 to 1:</p>
<ul>
<li>0 = (full left, no right)</li>
<li>.5 = (both equal)</li>
<li>1 = (no left, full right)</li>
</ul>`,name:"xfade",examples:['xfade(s("bd*2"), "<0 .25 .5 .75 1>", s("hh*8"))'],longname:"xfade",kind:"member",scope:"global"},{comment:`/**
 * Displays a midi-style piano roll
 *
 * @name pianoroll
 * @param {Object} options Object containing all the optional following parameters as key value pairs:
 * @param {integer} cycles number of cycles to be displayed at the same time - defaults to 4
 * @param {number} playhead location of the active notes on the time axis - 0 to 1, defaults to 0.5
 * @param {boolean} vertical displays the roll vertically - 0 by default
 * @param {boolean} labels displays labels on individual notes (see the label function) - 0 by default
 * @param {boolean} flipTime reverse the direction of the roll - 0 by default
 * @param {boolean} flipValues reverse the relative location of notes on the value axis - 0 by default
 * @param {number} overscan lookup X cycles outside of the cycles window to display notes in advance - 1 by default
 * @param {boolean} hideNegative hide notes with negative time (before starting playing the pattern) - 0 by default
 * @param {boolean} smear notes leave a solid trace - 0 by default
 * @param {boolean} fold notes takes the full value axis width - 0 by default
 * @param {string} active hexadecimal or CSS color of the active notes - defaults to #FFCA28
 * @param {string} inactive hexadecimal or CSS color of the inactive notes - defaults to #7491D2
 * @param {string} background hexadecimal or CSS color of the background - defaults to transparent
 * @param {string} playheadColor hexadecimal or CSS color of the line representing the play head - defaults to white
 * @param {boolean} fill notes are filled with color (otherwise only the label is displayed) - 0 by default
 * @param {boolean} fillActive active notes are filled with color - 0 by default
 * @param {boolean} stroke notes are shown with colored borders - 0 by default
 * @param {boolean} strokeActive active notes are shown with colored borders - 0 by default
 * @param {boolean} hideInactive only active notes are shown - 0 by default
 * @param {boolean} colorizeInactive use note color for inactive notes - 1 by default
 * @param {string} fontFamily define the font used by notes labels - defaults to 'monospace'
 * @param {integer} minMidi minimum note value to display on the value axis - defaults to 10
 * @param {integer} maxMidi maximum note value to display on the value axis - defaults to 90
 * @param {boolean} autorange automatically calculate the minMidi and maxMidi parameters - 0 by default
 *
 * @example
 * note("C2 A2 G2").euclid(5,8).s('piano').clip(1).color('salmon').pianoroll({vertical:1, labels:1})
 */`,meta:{filename:"pianoroll.mjs",lineno:70,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Displays a midi-style piano roll</p>",name:"pianoroll",params:[{type:{names:["Object"]},description:"<p>Object containing all the optional following parameters as key value pairs:</p>",name:"options"},{type:{names:["integer"]},description:"<p>number of cycles to be displayed at the same time - defaults to 4</p>",name:"cycles"},{type:{names:["number"]},description:"<p>location of the active notes on the time axis - 0 to 1, defaults to 0.5</p>",name:"playhead"},{type:{names:["boolean"]},description:"<p>displays the roll vertically - 0 by default</p>",name:"vertical"},{type:{names:["boolean"]},description:"<p>displays labels on individual notes (see the label function) - 0 by default</p>",name:"labels"},{type:{names:["boolean"]},description:"<p>reverse the direction of the roll - 0 by default</p>",name:"flipTime"},{type:{names:["boolean"]},description:"<p>reverse the relative location of notes on the value axis - 0 by default</p>",name:"flipValues"},{type:{names:["number"]},description:"<p>lookup X cycles outside of the cycles window to display notes in advance - 1 by default</p>",name:"overscan"},{type:{names:["boolean"]},description:"<p>hide notes with negative time (before starting playing the pattern) - 0 by default</p>",name:"hideNegative"},{type:{names:["boolean"]},description:"<p>notes leave a solid trace - 0 by default</p>",name:"smear"},{type:{names:["boolean"]},description:"<p>notes takes the full value axis width - 0 by default</p>",name:"fold"},{type:{names:["string"]},description:"<p>hexadecimal or CSS color of the active notes - defaults to #FFCA28</p>",name:"active"},{type:{names:["string"]},description:"<p>hexadecimal or CSS color of the inactive notes - defaults to #7491D2</p>",name:"inactive"},{type:{names:["string"]},description:"<p>hexadecimal or CSS color of the background - defaults to transparent</p>",name:"background"},{type:{names:["string"]},description:"<p>hexadecimal or CSS color of the line representing the play head - defaults to white</p>",name:"playheadColor"},{type:{names:["boolean"]},description:"<p>notes are filled with color (otherwise only the label is displayed) - 0 by default</p>",name:"fill"},{type:{names:["boolean"]},description:"<p>active notes are filled with color - 0 by default</p>",name:"fillActive"},{type:{names:["boolean"]},description:"<p>notes are shown with colored borders - 0 by default</p>",name:"stroke"},{type:{names:["boolean"]},description:"<p>active notes are shown with colored borders - 0 by default</p>",name:"strokeActive"},{type:{names:["boolean"]},description:"<p>only active notes are shown - 0 by default</p>",name:"hideInactive"},{type:{names:["boolean"]},description:"<p>use note color for inactive notes - 1 by default</p>",name:"colorizeInactive"},{type:{names:["string"]},description:"<p>define the font used by notes labels - defaults to 'monospace'</p>",name:"fontFamily"},{type:{names:["integer"]},description:"<p>minimum note value to display on the value axis - defaults to 10</p>",name:"minMidi"},{type:{names:["integer"]},description:"<p>maximum note value to display on the value axis - defaults to 90</p>",name:"maxMidi"},{type:{names:["boolean"]},description:"<p>automatically calculate the minMidi and maxMidi parameters - 0 by default</p>",name:"autorange"}],examples:[`note("C2 A2 G2").euclid(5,8).s('piano').clip(1).color('salmon').pianoroll({vertical:1, labels:1})`],longname:"pianoroll",kind:"member",scope:"global"},{comment:`/**
 * Displays a vertical pianoroll with event labels.
 * Supports all the same options as pianoroll.
 *
 * @name wordfall
 */`,meta:{filename:"pianoroll.mjs",lineno:283,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Displays a vertical pianoroll with event labels.
Supports all the same options as pianoroll.</p>`,name:"wordfall",longname:"wordfall",kind:"member",scope:"global"},{comment:`/**
 *  A sawtooth signal between 0 and 1.
 *
 * @return {Pattern}
 * @example
 * note("<c3 [eb3,g3] g2 [g3,bb3]>*8")
 * .clip(saw.slow(2))
 * @example
 * n(saw.range(0,8).segment(8))
 * .scale('C major')
 *
 */`,meta:{range:[1602,1642],filename:"signal.mjs",lineno:37,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020420",name:"exports.saw",type:"VariableDeclaration"}},description:"<p>A sawtooth signal between 0 and 1.</p>",returns:[{type:{names:["Pattern"]}}],examples:[`note("<c3 [eb3,g3] g2 [g3,bb3]>*8")
.clip(saw.slow(2))`,`n(saw.range(0,8).segment(8))
.scale('C major')`],name:"saw",longname:"saw",kind:"constant",scope:"global"},{comment:`/**
 *  A sine signal between 0 and 1.
 *
 * @return {Pattern}
 * @example
 * n(sine.segment(16).range(0,15))
 * .scale("C:minor")
 *
 */`,meta:{range:[1883,1923],filename:"signal.mjs",lineno:51,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020458",name:"exports.sine",type:"VariableDeclaration"}},description:"<p>A sine signal between 0 and 1.</p>",returns:[{type:{names:["Pattern"]}}],examples:[`n(sine.segment(16).range(0,15))
.scale("C:minor")`],name:"sine",longname:"sine",kind:"constant",scope:"global"},{comment:`/**
 *  A cosine signal between 0 and 1.
 *
 * @return {Pattern}
 * @example
 * n(stack(sine,cosine).segment(16).range(0,15))
 * .scale("C:minor")
 *
 */`,meta:{range:[2079,2133],filename:"signal.mjs",lineno:62,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020466",name:"exports.cosine",type:"VariableDeclaration"}},description:"<p>A cosine signal between 0 and 1.</p>",returns:[{type:{names:["Pattern"]}}],examples:[`n(stack(sine,cosine).segment(16).range(0,15))
.scale("C:minor")`],name:"cosine",longname:"cosine",kind:"constant",scope:"global"},{comment:`/**
 *  A square signal between 0 and 1.
 *
 * @return {Pattern}
 * @example
 * n(square.segment(4).range(0,7)).scale("C:minor")
 *
 */`,meta:{range:[2328,2389],filename:"signal.mjs",lineno:73,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020496",name:"exports.square",type:"VariableDeclaration"}},description:"<p>A square signal between 0 and 1.</p>",returns:[{type:{names:["Pattern"]}}],examples:['n(square.segment(4).range(0,7)).scale("C:minor")'],name:"square",longname:"square",kind:"constant",scope:"global"},{comment:`/**
 *  A triangle signal between 0 and 1.
 *
 * @return {Pattern}
 * @example
 * n(tri.segment(8).range(0,7)).scale("C:minor")
 *
 */`,meta:{range:[2569,2607],filename:"signal.mjs",lineno:84,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020521",name:"exports.tri",type:"VariableDeclaration"}},description:"<p>A triangle signal between 0 and 1.</p>",returns:[{type:{names:["Pattern"]}}],examples:['n(tri.segment(8).range(0,7)).scale("C:minor")'],name:"tri",longname:"tri",kind:"constant",scope:"global"},{comment:`/**
 * A discrete pattern of numbers from 0 to n-1
 * @example
 * n(run(4)).scale("C4:pentatonic")
 * // n("0 1 2 3").scale("C4:pentatonic")
 */`,meta:{range:[3594,3655],filename:"signal.mjs",lineno:128,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020676",name:"exports.run",type:"VariableDeclaration"}},description:"<p>A discrete pattern of numbers from 0 to n-1</p>",examples:[`n(run(4)).scale("C4:pentatonic")
// n("0 1 2 3").scale("C4:pentatonic")`],name:"run",longname:"run",kind:"constant",scope:"global"},{comment:`/**
 * A continuous pattern of random numbers, between 0 and 1.
 *
 * @name rand
 * @example
 * // randomly change the cutoff
 * s("bd*4,hh*8").cutoff(rand.range(500,8000))
 *
 */`,meta:{filename:"signal.mjs",lineno:130,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>A continuous pattern of random numbers, between 0 and 1.</p>",name:"rand",examples:[`// randomly change the cutoff
s("bd*4,hh*8").cutoff(rand.range(500,8000))`],longname:"rand",kind:"member",scope:"global"},{comment:`/**
 * A continuous pattern of random numbers, between -1 and 1
 */`,meta:{range:[3945,3983],filename:"signal.mjs",lineno:143,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020702",name:"exports.rand2",type:"VariableDeclaration"}},description:"<p>A continuous pattern of random numbers, between -1 and 1</p>",name:"rand2",longname:"rand2",kind:"constant",scope:"global"},{comment:`/**
 * A continuous pattern of random integers, between 0 and n-1.
 *
 * @name irand
 * @param {number} n max value (exclusive)
 * @example
 * // randomly select scale notes from 0 - 7 (= C to C)
 * n(irand(8)).struct("x x*2 x x*3").scale("C:minor")
 *
 */`,meta:{filename:"signal.mjs",lineno:151,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>A continuous pattern of random integers, between 0 and n-1.</p>",name:"irand",params:[{type:{names:["number"]},description:"<p>max value (exclusive)</p>",name:"n"}],examples:[`// randomly select scale notes from 0 - 7 (= C to C)
n(irand(8)).struct("x x*2 x x*3").scale("C:minor")`],longname:"irand",kind:"member",scope:"global"},{comment:`/** * Picks patterns (or plain values) either from a list (by index) or a lookup table (by name).
 * Similar to \`inhabit\`, but maintains the structure of the original patterns.
 * @param {Pattern} pat
 * @param {*} xs
 * @returns {Pattern}
 * @example
 * note("<0 1 2!2 3>".pick(["g a", "e f", "f g f g" , "g c d"]))
 * @example
 * sound("<0 1 [2,0]>".pick(["bd sd", "cp cp", "hh hh"]))
 * @example
 * sound("<0!2 [0,1] 1>".pick(["bd(3,8)", "sd sd"]))
 * @example
 * s("<a!2 [a,b] b>".pick({a: "bd(3,8)", b: "sd sd"}))
 */`,meta:{range:[5478,5680],filename:"signal.mjs",lineno:196,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020869",name:"exports.pick",type:"VariableDeclaration"}},description:`<p>Picks patterns (or plain values) either from a list (by index) or a lookup table (by name).
Similar to <code>inhabit</code>, but maintains the structure of the original patterns.</p>`,params:[{type:{names:["Pattern"]},name:"pat"},{type:{names:["*"]},name:"xs"}],returns:[{type:{names:["Pattern"]}}],examples:['note("<0 1 2!2 3>".pick(["g a", "e f", "f g f g" , "g c d"]))','sound("<0 1 [2,0]>".pick(["bd sd", "cp cp", "hh hh"]))','sound("<0!2 [0,1] 1>".pick(["bd(3,8)", "sd sd"]))','s("<a!2 [a,b] b>".pick({a: "bd(3,8)", b: "sd sd"}))'],name:"pick",longname:"pick",kind:"constant",scope:"global"},{comment:`/** * The same as \`pick\`, but if you pick a number greater than the size of the list,
 * it wraps around, rather than sticking at the maximum value.
 * For example, if you pick the fifth pattern of a list of three, you'll get the
 * second one.
 * @param {Pattern} pat
 * @param {*} xs
 * @returns {Pattern}
 */`,meta:{range:[6105,6223],filename:"signal.mjs",lineno:217,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020914",name:"exports.pickmod",type:"VariableDeclaration"}},description:`<p>The same as <code>pick</code>, but if you pick a number greater than the size of the list,
it wraps around, rather than sticking at the maximum value.
For example, if you pick the fifth pattern of a list of three, you'll get the
second one.</p>`,params:[{type:{names:["Pattern"]},name:"pat"},{type:{names:["*"]},name:"xs"}],returns:[{type:{names:["Pattern"]}}],name:"pickmod",longname:"pickmod",kind:"constant",scope:"global"},{comment:`/** * pickF lets you use a pattern of numbers to pick which function to apply to another pattern.
 * @param {Pattern} pat
 * @param {Pattern} lookup a pattern of indices
 * @param {function[]} funcs the array of functions from which to pull
 * @returns {Pattern}
 * @example
 * s("bd [rim hh]").pickF("<0 1 2>", [rev,jux(rev),fast(2)])
 * @example
 * note("<c2 d2>(3,8)").s("square")
 *     .pickF("<0 2> 1", [jux(rev),fast(2),x=>x.lpf(800)])
 */`,meta:{range:[6672,6787],filename:"signal.mjs",lineno:232,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020934",name:"exports.pickF",type:"VariableDeclaration"}},description:"<p>pickF lets you use a pattern of numbers to pick which function to apply to another pattern.</p>",params:[{type:{names:["Pattern"]},name:"pat"},{type:{names:["Pattern"]},description:"<p>a pattern of indices</p>",name:"lookup"},{type:{names:["Array.<function()>"]},description:"<p>the array of functions from which to pull</p>",name:"funcs"}],returns:[{type:{names:["Pattern"]}}],examples:['s("bd [rim hh]").pickF("<0 1 2>", [rev,jux(rev),fast(2)])',`note("<c2 d2>(3,8)").s("square")
    .pickF("<0 2> 1", [jux(rev),fast(2),x=>x.lpf(800)])`],name:"pickF",longname:"pickF",kind:"constant",scope:"global"},{comment:`/** * The same as \`pickF\`, but if you pick a number greater than the size of the functions list,
 * it wraps around, rather than sticking at the maximum value.
 * @param {Pattern} pat
 * @param {Pattern} lookup a pattern of indices
 * @param {function[]} funcs the array of functions from which to pull
 * @returns {Pattern}
 */`,meta:{range:[7118,7242],filename:"signal.mjs",lineno:243,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020955",name:"exports.pickmodF",type:"VariableDeclaration"}},description:`<p>The same as <code>pickF</code>, but if you pick a number greater than the size of the functions list,
it wraps around, rather than sticking at the maximum value.</p>`,params:[{type:{names:["Pattern"]},name:"pat"},{type:{names:["Pattern"]},description:"<p>a pattern of indices</p>",name:"lookup"},{type:{names:["Array.<function()>"]},description:"<p>the array of functions from which to pull</p>",name:"funcs"}],returns:[{type:{names:["Pattern"]}}],name:"pickmodF",longname:"pickmodF",kind:"constant",scope:"global"},{comment:`/**
/** * Picks patterns (or plain values) either from a list (by index) or a lookup table (by name).
 * Similar to \`pick\`, but cycles are squeezed into the target ('inhabited') pattern.
 * @param {Pattern} pat
 * @param {*} xs
 * @returns {Pattern}
 * @example
 * "<a b [a,b]>".inhabit({a: s("bd(3,8)"),
                          b: s("cp sd")
                         })
 * @example
 * s("a@2 [a b] a".inhabit({a: "bd(3,8)", b: "sd sd"})).slow(4)
 */`,meta:{range:[7697,7817],filename:"signal.mjs",lineno:260,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020976",name:"exports.inhabit",type:"VariableDeclaration"}},description:`<p>/** * Picks patterns (or plain values) either from a list (by index) or a lookup table (by name).
Similar to <code>pick</code>, but cycles are squeezed into the target ('inhabited') pattern.</p>`,params:[{type:{names:["Pattern"]},name:"pat"},{type:{names:["*"]},name:"xs"}],returns:[{type:{names:["Pattern"]}}],examples:[`"<a b [a,b]>".inhabit({a: s("bd(3,8)"),
                          b: s("cp sd")
                         })`,'s("a@2 [a b] a".inhabit({a: "bd(3,8)", b: "sd sd"})).slow(4)'],name:"inhabit",longname:"inhabit",kind:"constant",scope:"global"},{comment:`/** * The same as \`inhabit\`, but if you pick a number greater than the size of the list,
 * it wraps around, rather than sticking at the maximum value.
 * For example, if you pick the fifth pattern of a list of three, you'll get the
 * second one.
 * @param {Pattern} pat
 * @param {*} xs
 * @returns {Pattern}
 */`,meta:{range:[8135,8259],filename:"signal.mjs",lineno:273,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020996",name:"exports.inhabitmod",type:"VariableDeclaration"}},description:`<p>The same as <code>inhabit</code>, but if you pick a number greater than the size of the list,
it wraps around, rather than sticking at the maximum value.
For example, if you pick the fifth pattern of a list of three, you'll get the
second one.</p>`,params:[{type:{names:["Pattern"]},name:"pat"},{type:{names:["*"]},name:"xs"}],returns:[{type:{names:["Pattern"]}}],name:"inhabitmod",longname:"inhabitmod",kind:"constant",scope:"global"},{comment:`/**
 * Pick from the list of values (or patterns of values) via the index using the given
 * pattern of integers. The selected pattern will be compressed to fit the duration of the selecting event
 * @param {Pattern} pat
 * @param {*} xs
 * @returns {Pattern}
 * @example
 * note(squeeze("<0@2 [1!2] 2>", ["g a", "f g f g" , "g a c d"]))
 */`,meta:{range:[8604,8845],filename:"signal.mjs",lineno:287,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100021016",name:"exports.squeeze",type:"VariableDeclaration"}},description:`<p>Pick from the list of values (or patterns of values) via the index using the given
pattern of integers. The selected pattern will be compressed to fit the duration of the selecting event</p>`,params:[{type:{names:["Pattern"]},name:"pat"},{type:{names:["*"]},name:"xs"}],returns:[{type:{names:["Pattern"]}}],examples:['note(squeeze("<0@2 [1!2] 2>", ["g a", "f g f g" , "g a c d"]))'],name:"squeeze",longname:"squeeze",kind:"constant",scope:"global"},{comment:`/**
 * Choose from the list of values (or patterns of values) using the given
 * pattern of numbers, which should be in the range of 0..1
 * @param {Pattern} pat
 * @param {*} xs
 * @returns {Pattern}
 * @example
 * note("c2 g2!2 d2 f1").s(chooseWith(sine.fast(2), ["sawtooth", "triangle", "bd:6"]))
 */`,meta:{range:[9410,9497],filename:"signal.mjs",lineno:320,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100021135",name:"exports.chooseWith",type:"VariableDeclaration"}},description:`<p>Choose from the list of values (or patterns of values) using the given
pattern of numbers, which should be in the range of 0..1</p>`,params:[{type:{names:["Pattern"]},name:"pat"},{type:{names:["*"]},name:"xs"}],returns:[{type:{names:["Pattern"]}}],examples:['note("c2 g2!2 d2 f1").s(chooseWith(sine.fast(2), ["sawtooth", "triangle", "bd:6"]))'],name:"chooseWith",longname:"chooseWith",kind:"constant",scope:"global"},{comment:`/**
 * As with {chooseWith}, but the structure comes from the chosen values, rather
 * than the pattern you're using to choose with.
 * @param {Pattern} pat
 * @param {*} xs
 * @returns {Pattern}
 */`,meta:{range:[9699,9788],filename:"signal.mjs",lineno:331,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100021151",name:"exports.chooseInWith",type:"VariableDeclaration"}},description:`<p>As with {chooseWith}, but the structure comes from the chosen values, rather
than the pattern you're using to choose with.</p>`,params:[{type:{names:["Pattern"]},name:"pat"},{type:{names:["*"]},name:"xs"}],returns:[{type:{names:["Pattern"]}}],name:"chooseInWith",longname:"chooseInWith",kind:"constant",scope:"global"},{comment:`/**
 * Chooses randomly from the given list of elements.
 * @param  {...any} xs values / patterns to choose from.
 * @returns {Pattern} - a continuous pattern.
 */`,meta:{range:[9954,10008],filename:"signal.mjs",lineno:340,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100021167",name:"exports.choose",type:"VariableDeclaration"}},description:"<p>Chooses randomly from the given list of elements.</p>",params:[{type:{names:["any"]},variable:!0,description:"<p>values / patterns to choose from.</p>",name:"xs"}],returns:[{type:{names:["Pattern"]},description:`<ul>
<li>a continuous pattern.</li>
</ul>`}],name:"choose",longname:"choose",kind:"constant",scope:"global"},{comment:`/**
 * Chooses from the given list of values (or patterns of values), according
 * to the pattern that the method is called on. The pattern should be in
 * the range 0 .. 1.
 * @param  {...any} xs
 * @returns {Pattern}
 */`,meta:{range:[10233,10311],filename:"signal.mjs",lineno:349,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100021179",name:"Pattern.prototype.choose",type:"FunctionExpression",paramnames:["xs"]}},description:`<p>Chooses from the given list of values (or patterns of values), according
to the pattern that the method is called on. The pattern should be in
the range 0 .. 1.</p>`,params:[{type:{names:["any"]},variable:!0,name:"xs"}],returns:[{type:{names:["Pattern"]}}],name:"choose",longname:"Pattern#choose",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
 * As with choose, but the pattern that this method is called on should be
 * in the range -1 .. 1
 * @param  {...any} xs
 * @returns {Pattern}
 */`,meta:{range:[10466,10559],filename:"signal.mjs",lineno:359,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100021195",name:"Pattern.prototype.choose2",type:"FunctionExpression",paramnames:["xs"]}},description:`<p>As with choose, but the pattern that this method is called on should be
in the range -1 .. 1</p>`,params:[{type:{names:["any"]},variable:!0,name:"xs"}],returns:[{type:{names:["Pattern"]}}],name:"choose2",longname:"Pattern#choose2",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
 * Picks one of the elements at random each cycle.
 * @returns {Pattern}
 * @example
 * chooseCycles("bd", "hh", "sd").s().fast(8)
 * @example
 * s("bd | hh | sd").fast(8)
 */`,meta:{range:[10742,10815],filename:"signal.mjs",lineno:371,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100021213",name:"exports.chooseCycles",type:"VariableDeclaration"}},description:"<p>Picks one of the elements at random each cycle.</p>",returns:[{type:{names:["Pattern"]}}],examples:['chooseCycles("bd", "hh", "sd").s().fast(8)','s("bd | hh | sd").fast(8)'],name:"chooseCycles",longname:"chooseCycles",kind:"constant",scope:"global"},{comment:`/**
 * Generates a continuous pattern of [perlin noise](https://en.wikipedia.org/wiki/Perlin_noise), in the range 0..1.
 *
 * @name perlin
 * @example
 * // randomly change the cutoff
 * s("bd*4,hh*8").cutoff(perlin.range(500,8000))
 *
 */`,meta:{filename:"signal.mjs",lineno:406,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:'<p>Generates a continuous pattern of <a href="https://en.wikipedia.org/wiki/Perlin_noise">perlin noise</a>, in the range 0..1.</p>',name:"perlin",examples:[`// randomly change the cutoff
s("bd*4,hh*8").cutoff(perlin.range(500,8000))`],longname:"perlin",kind:"member",scope:"global"},{comment:`/**
 * Randomly removes events from the pattern by a given amount.
 * 0 = 0% chance of removal
 * 1 = 100% chance of removal
 *
 * @name degradeBy
 * @memberof Pattern
 * @param {number} amount - a number between 0 and 1
 * @returns Pattern
 * @example
 * s("hh*8").degradeBy(0.2)
 * @example
 * s("[hh?0.2]*8")
 */`,meta:{filename:"signal.mjs",lineno:421,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Randomly removes events from the pattern by a given amount.
0 = 0% chance of removal
1 = 100% chance of removal</p>`,name:"degradeBy",memberof:"Pattern",params:[{type:{names:["number"]},description:"<p>a number between 0 and 1</p>",name:"amount"}],returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").degradeBy(0.2)','s("[hh?0.2]*8")'],scope:"static",longname:"Pattern.degradeBy",kind:"member"},{comment:`/**
 *
 * Randomly removes 50% of events from the pattern. Shorthand for \`.degradeBy(0.5)\`
 *
 * @name degrade
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("hh*8").degrade()
 * @example
 * s("[hh?]*8")
 */`,meta:{filename:"signal.mjs",lineno:439,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Randomly removes 50% of events from the pattern. Shorthand for <code>.degradeBy(0.5)</code></p>",name:"degrade",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").degrade()','s("[hh?]*8")'],scope:"static",longname:"Pattern.degrade",kind:"member"},{comment:`/**
 * Inverse of \`degradeBy\`: Randomly removes events from the pattern by a given amount.
 * 0 = 100% chance of removal
 * 1 = 0% chance of removal
 * Events that would be removed by degradeBy are let through by undegradeBy and vice versa (see second example).
 *
 * @name undegradeBy
 * @memberof Pattern
 * @param {number} amount - a number between 0 and 1
 * @returns Pattern
 * @example
 * s("hh*8").undegradeBy(0.2)
 */`,meta:{filename:"signal.mjs",lineno:453,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Inverse of <code>degradeBy</code>: Randomly removes events from the pattern by a given amount.
0 = 100% chance of removal
1 = 0% chance of removal
Events that would be removed by degradeBy are let through by undegradeBy and vice versa (see second example).</p>`,name:"undegradeBy",memberof:"Pattern",params:[{type:{names:["number"]},description:"<p>a number between 0 and 1</p>",name:"amount"}],returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").undegradeBy(0.2)'],scope:"static",longname:"Pattern.undegradeBy",kind:"member"},{comment:`/**
 *
 * Randomly applies the given function by the given probability.
 * Similar to \`someCyclesBy\`
 *
 * @name sometimesBy
 * @memberof Pattern
 * @param {number | Pattern} probability - a number between 0 and 1
 * @param {function} function - the transformation to apply
 * @returns Pattern
 * @example
 * s("hh*8").sometimesBy(.4, x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:475,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Randomly applies the given function by the given probability.
Similar to <code>someCyclesBy</code></p>`,name:"sometimesBy",memberof:"Pattern",params:[{type:{names:["number","Pattern"]},description:"<p>a number between 0 and 1</p>",name:"probability"},{type:{names:["function"]},description:"<p>the transformation to apply</p>",name:"function"}],returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").sometimesBy(.4, x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.sometimesBy",kind:"member"},{comment:`/**
 *
 * Applies the given function with a 50% chance
 *
 * @name sometimes
 * @memberof Pattern
 * @param {function} function - the transformation to apply
 * @returns Pattern
 * @example
 * s("hh*8").sometimes(x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:495,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Applies the given function with a 50% chance</p>",name:"sometimes",memberof:"Pattern",params:[{type:{names:["function"]},description:"<p>the transformation to apply</p>",name:"function"}],returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").sometimes(x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.sometimes",kind:"member"},{comment:`/**
 *
 * Randomly applies the given function by the given probability on a cycle by cycle basis.
 * Similar to \`sometimesBy\`
 *
 * @name someCyclesBy
 * @memberof Pattern
 * @param {number | Pattern} probability - a number between 0 and 1
 * @param {function} function - the transformation to apply
 * @returns Pattern
 * @example
 * s("bd,hh*8").someCyclesBy(.3, x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:510,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Randomly applies the given function by the given probability on a cycle by cycle basis.
Similar to <code>sometimesBy</code></p>`,name:"someCyclesBy",memberof:"Pattern",params:[{type:{names:["number","Pattern"]},description:"<p>a number between 0 and 1</p>",name:"probability"},{type:{names:["function"]},description:"<p>the transformation to apply</p>",name:"function"}],returns:[{description:"<p>Pattern</p>"}],examples:['s("bd,hh*8").someCyclesBy(.3, x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.someCyclesBy",kind:"member"},{comment:`/**
 *
 * Shorthand for \`.someCyclesBy(0.5, fn)\`
 *
 * @name someCycles
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("bd,hh*8").someCycles(x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:535,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Shorthand for <code>.someCyclesBy(0.5, fn)</code></p>",name:"someCycles",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("bd,hh*8").someCycles(x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.someCycles",kind:"member"},{comment:`/**
 *
 * Shorthand for \`.sometimesBy(0.75, fn)\`
 *
 * @name often
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("hh*8").often(x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:549,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Shorthand for <code>.sometimesBy(0.75, fn)</code></p>",name:"often",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").often(x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.often",kind:"member"},{comment:`/**
 *
 * Shorthand for \`.sometimesBy(0.25, fn)\`
 *
 * @name rarely
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("hh*8").rarely(x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:563,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Shorthand for <code>.sometimesBy(0.25, fn)</code></p>",name:"rarely",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").rarely(x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.rarely",kind:"member"},{comment:`/**
 *
 * Shorthand for \`.sometimesBy(0.1, fn)\`
 *
 * @name almostNever
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("hh*8").almostNever(x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:577,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Shorthand for <code>.sometimesBy(0.1, fn)</code></p>",name:"almostNever",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").almostNever(x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.almostNever",kind:"member"},{comment:`/**
 *
 * Shorthand for \`.sometimesBy(0.9, fn)\`
 *
 * @name almostAlways
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("hh*8").almostAlways(x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:591,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Shorthand for <code>.sometimesBy(0.9, fn)</code></p>",name:"almostAlways",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").almostAlways(x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.almostAlways",kind:"member"},{comment:`/**
 *
 * Shorthand for \`.sometimesBy(0, fn)\` (never calls fn)
 *
 * @name never
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("hh*8").never(x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:605,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Shorthand for <code>.sometimesBy(0, fn)</code> (never calls fn)</p>",name:"never",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").never(x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.never",kind:"member"},{comment:`/**
 *
 * Shorthand for \`.sometimesBy(1, fn)\` (always calls fn)
 *
 * @name always
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("hh*8").always(x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:619,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Shorthand for <code>.sometimesBy(1, fn)</code> (always calls fn)</p>",name:"always",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").always(x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.always",kind:"member"},{comment:`/**
 * @deprecated does not appear to be referenced or invoked anywhere in the codebase
 * @noAutocomplete
 */`,meta:{range:[2616,2783],filename:"util.mjs",lineno:68,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100032630",name:"exports.getFreq",type:"VariableDeclaration"}},deprecated:"does not appear to be referenced or invoked anywhere in the codebase",tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"getFreq",longname:"getFreq",kind:"constant",scope:"global"},{comment:`/**
 * @deprecated only used in workshop (first-notes)
 * @noAutocomplete
 */`,meta:{range:[2942,3061],filename:"util.mjs",lineno:80,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100032669",name:"exports.midi2note",type:"VariableDeclaration"}},deprecated:"only used in workshop (first-notes)",tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"midi2note",longname:"midi2note",kind:"constant",scope:"global"},{comment:`/**
 * Sends notes to Csound for rendering with MIDI semantics. The hap value is
 * translated to these Csound pfields:
 *
 *  p1 -- Csound instrument either as a number (1-based, can be a fraction),
 *        or as a string name.
 *  p2 -- time in beats (usually seconds) from start of performance.
 *  p3 -- duration in beats (usually seconds).
 *  p4 -- MIDI key number (as a real number, not an integer but in [0, 127].
 *  p5 -- MIDI velocity (as a real number, not an integer but in [0, 127].
 *  p6 -- Strudel controls, as a string.
 */`,meta:{range:[4569,5884],filename:"index.mjs",lineno:137,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/csound",code:{id:"astnode100034724",name:"exports.csoundm",type:"VariableDeclaration"}},description:`<p>Sends notes to Csound for rendering with MIDI semantics. The hap value is
translated to these Csound pfields:</p>
<p>p1 -- Csound instrument either as a number (1-based, can be a fraction),
or as a string name.
p2 -- time in beats (usually seconds) from start of performance.
p3 -- duration in beats (usually seconds).
p4 -- MIDI key number (as a real number, not an integer but in [0, 127].
p5 -- MIDI velocity (as a real number, not an integer but in [0, 127].
p6 -- Strudel controls, as a string.</p>`,name:"csoundm",longname:"csoundm",kind:"constant",scope:"global"},{comment:`/**
 *
 * Sends each hap as an OSC message, which can be picked up by SuperCollider or any other OSC-enabled software.
 * For more info, read [MIDI & OSC in the docs](https://strudel.cc/learn/input-output/)
 *
 * @name osc
 * @memberof Pattern
 * @returns Pattern
 */`,meta:{filename:"osc.mjs",lineno:37,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/osc",code:{}},description:`<p>Sends each hap as an OSC message, which can be picked up by SuperCollider or any other OSC-enabled software.
For more info, read <a href="https://strudel.cc/learn/input-output/">MIDI &amp; OSC in the docs</a></p>`,name:"osc",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],scope:"static",longname:"Pattern.osc",kind:"member"},{comment:`/** Generates a reverb impulse response.

 @param {!Object} params TODO: Document the properties.
 @param {!function(!AudioBuffer)} callback Function to call when
  the impulse response has been generated. The impulse response
  is passed to this function as its parameter. May be called
  immediately within the current execution context, or later. */`,meta:{range:[969,2138],filename:"reverbGen.mjs",lineno:24,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/superdough",code:{id:"astnode100058798",name:"reverbGen.generateReverb",type:"FunctionExpression",paramnames:["params","callback"]},vars:{audioContext:"reverbGen.generateReverb~audioContext",sampleRate:"reverbGen.generateReverb~sampleRate",numChannels:"reverbGen.generateReverb~numChannels",totalTime:"reverbGen.generateReverb~totalTime",decaySampleFrames:"reverbGen.generateReverb~decaySampleFrames",numSampleFrames:"reverbGen.generateReverb~numSampleFrames",fadeInSampleFrames:"reverbGen.generateReverb~fadeInSampleFrames",decayBase:"reverbGen.generateReverb~decayBase",reverbIR:"reverbGen.generateReverb~reverbIR",i:"reverbGen.generateReverb~i",chan:"reverbGen.generateReverb~chan",j:"reverbGen.generateReverb~j","chan[undefined]":"reverbGen.generateReverb~chan.undefined]"}},description:"<p>Generates a reverb impulse response.</p>",params:[{type:{names:["Object"]},nullable:!1,description:"<p>TODO: Document the properties.</p>",name:"params"},{type:{names:["function"]},nullable:!1,description:`<p>Function to call when
the impulse response has been generated. The impulse response
is passed to this function as its parameter. May be called
immediately within the current execution context, or later.</p>`,name:"callback"}],name:"generateReverb",longname:"reverbGen.generateReverb",kind:"function",memberof:"reverbGen",scope:"static"},{comment:`/** Creates a canvas element showing a graph of the given data.


 @param {!Float32Array} data An array of numbers, or a Float32Array.
 @param {number} width Width in pixels of the canvas.
 @param {number} height Height in pixels of the canvas.
 @param {number} min Minimum value of data for the graph (lower edge).
 @param {number} max Maximum value of data in the graph (upper edge).
 @return {!CanvasElement} The generated canvas element. */`,meta:{range:[2586,3097],filename:"reverbGen.mjs",lineno:58,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/superdough",code:{id:"astnode100058978",name:"reverbGen.generateGraph",type:"FunctionExpression",paramnames:["data","width","height","min","max"]},vars:{canvas:"reverbGen.generateGraph~canvas","canvas.width":"reverbGen.generateGraph~canvas.width","canvas.height":"reverbGen.generateGraph~canvas.height",gc:"reverbGen.generateGraph~gc","gc.fillStyle":"reverbGen.generateGraph~gc.fillStyle",xscale:"reverbGen.generateGraph~xscale",yscale:"reverbGen.generateGraph~yscale",i:"reverbGen.generateGraph~i"}},description:"<p>Creates a canvas element showing a graph of the given data.</p>",params:[{type:{names:["Float32Array"]},nullable:!1,description:"<p>An array of numbers, or a Float32Array.</p>",name:"data"},{type:{names:["number"]},description:"<p>Width in pixels of the canvas.</p>",name:"width"},{type:{names:["number"]},description:"<p>Height in pixels of the canvas.</p>",name:"height"},{type:{names:["number"]},description:"<p>Minimum value of data for the graph (lower edge).</p>",name:"min"},{type:{names:["number"]},description:"<p>Maximum value of data in the graph (upper edge).</p>",name:"max"}],returns:[{type:{names:["CanvasElement"]},nullable:!1,description:"<p>The generated canvas element.</p>"}],name:"generateGraph",longname:"reverbGen.generateGraph",kind:"function",memberof:"reverbGen",scope:"static"},{comment:`/** Applies a constantly changing lowpass filter to the given sound.

 @private
 @param {!AudioBuffer} input
 @param {number} lpFreqStart
 @param {number} lpFreqEnd
 @param {number} lpFreqEndAt
 @param {!function(!AudioBuffer)} callback May be called
  immediately within the current execution context, or later.*/`,meta:{range:[3419,4357],filename:"reverbGen.mjs",lineno:83,columnno:4,path:"/Users/michaelgogins/cloud-5/strudel/packages/superdough",code:{id:"astnode100059093",name:"applyGradualLowpass",type:"FunctionExpression"},vars:{channelData:"applyGradualLowpass~channelData",context:"applyGradualLowpass~context",player:"applyGradualLowpass~player","player.buffer":"applyGradualLowpass~player.buffer",filter:"applyGradualLowpass~filter",lpFreqStart:"applyGradualLowpass~lpFreqStart",lpFreqEnd:"applyGradualLowpass~lpFreqEnd","filter.type":"applyGradualLowpass~filter.type","filter.Q.value":"applyGradualLowpass~filter.Q.value","context.oncomplete":"applyGradualLowpass~context.oncomplete","":null,"window.filterNode":"window.filterNode"}},description:"<p>Applies a constantly changing lowpass filter to the given sound.</p>",access:"private",params:[{type:{names:["AudioBuffer"]},nullable:!1,name:"input"},{type:{names:["number"]},name:"lpFreqStart"},{type:{names:["number"]},name:"lpFreqEnd"},{type:{names:["number"]},name:"lpFreqEndAt"},{type:{names:["function"]},nullable:!1,description:`<p>May be called
immediately within the current execution context, or later.</p>`,name:"callback"}],name:"applyGradualLowpass",longname:"applyGradualLowpass",kind:"function",scope:"global"},{comment:`/** @private
 @param {!AudioBuffer} buffer
 @return {!Array.<!Float32Array>} An array containing the Float32Array of each channel's samples. */`,meta:{range:[4508,4691],filename:"reverbGen.mjs",lineno:116,columnno:4,path:"/Users/michaelgogins/cloud-5/strudel/packages/superdough",code:{id:"astnode100059257",name:"getAllChannelData",type:"FunctionExpression"},vars:{channels:"getAllChannelData~channels",i:"getAllChannelData~i","channels[undefined]":"getAllChannelData~channels.undefined]"}},access:"private",params:[{type:{names:["AudioBuffer"]},nullable:!1,name:"buffer"}],returns:[{type:{names:["Array.<!Float32Array>"]},nullable:!1,description:"<p>An array containing the Float32Array of each channel's samples.</p>"}],name:"getAllChannelData",longname:"getAllChannelData",kind:"function",scope:"global"},{comment:`/** @private
 @return {number} A random number from -1 to 1. */`,meta:{range:[4762,4824],filename:"reverbGen.mjs",lineno:126,columnno:4,path:"/Users/michaelgogins/cloud-5/strudel/packages/superdough",code:{id:"astnode100059292",name:"randomSample",type:"FunctionExpression"}},access:"private",returns:[{type:{names:["number"]},description:"<p>A random number from -1 to 1.</p>"}],name:"randomSample",longname:"randomSample",kind:"function",scope:"global",params:[]},{comment:`/**
 * Loads a collection of samples to use with \`s\`
 * @example
 * samples('github:tidalcycles/Dirt-Samples/master');
 * s("[bd ~]*2, [~ hh]*2, ~ sd")
 * @example
 * samples({
 *  bd: '808bd/BD0000.WAV',
 *  sd: '808sd/SD0010.WAV'
 *  }, 'https://raw.githubusercontent.com/tidalcycles/Dirt-Samples/master/');
 * s("[bd ~]*2, [~ hh]*2, ~ sd")
 * @example
 * samples('shabda:noise,chimp:2')
 * s("noise <chimp:0*2 chimp:1>")
 * @example
 * samples('shabda/speech/fr-FR/f:chocolat')
 * s("chocolat*4")
 */`,meta:{range:[5335,7632],filename:"sampler.mjs",lineno:161,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/superdough",code:{id:"astnode100060034",name:"exports.samples",type:"VariableDeclaration"}},description:"<p>Loads a collection of samples to use with <code>s</code></p>",examples:[`samples('github:tidalcycles/Dirt-Samples/master');
s("[bd ~]*2, [~ hh]*2, ~ sd")`,`samples({
 bd: '808bd/BD0000.WAV',
 sd: '808sd/SD0010.WAV'
 }, 'https://raw.githubusercontent.com/tidalcycles/Dirt-Samples/master/');
s("[bd ~]*2, [~ hh]*2, ~ sd")`,`samples('shabda:noise,chimp:2')
s("noise <chimp:0*2 chimp:1>")`,`samples('shabda/speech/fr-FR/f:chocolat')
s("chocolat*4")`],name:"samples",longname:"samples",kind:"constant",scope:"global"},{comment:`/**
 * Change the pitch of each value by the given amount. Expects numbers or note strings as values.
 * The amount can be given as a number of semitones or as a string in interval short notation.
 * If you don't care about enharmonic correctness, just use numbers. Otherwise, pass the interval of
 * the form: ST where S is the degree number and T the type of interval with
 *
 * - M = major
 * - m = minor
 * - P = perfect
 * - A = augmented
 * - d = diminished
 *
 * Examples intervals:
 *
 * - 1P = unison
 * - 3M = major third
 * - 3m = minor third
 * - 4P = perfect fourth
 * - 4A = augmented fourth
 * - 5P = perfect fifth
 * - 5d = diminished fifth
 *
 * @param {string | number} amount Either number of semitones or interval string.
 * @returns Pattern
 * @memberof Pattern
 * @name transpose
 * @example
 * "c2 c3".fast(2).transpose("<0 -2 5 3>".slow(2)).note()
 * @example
 * "c2 c3".fast(2).transpose("<1P -2M 4P 3m>".slow(2)).note()
 */`,meta:{filename:"tonal.mjs",lineno:65,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/tonal",code:{}},description:`<p>Change the pitch of each value by the given amount. Expects numbers or note strings as values.
The amount can be given as a number of semitones or as a string in interval short notation.
If you don't care about enharmonic correctness, just use numbers. Otherwise, pass the interval of
the form: ST where S is the degree number and T the type of interval with</p>
<ul>
<li>M = major</li>
<li>m = minor</li>
<li>P = perfect</li>
<li>A = augmented</li>
<li>d = diminished</li>
</ul>
<p>Examples intervals:</p>
<ul>
<li>1P = unison</li>
<li>3M = major third</li>
<li>3m = minor third</li>
<li>4P = perfect fourth</li>
<li>4A = augmented fourth</li>
<li>5P = perfect fifth</li>
<li>5d = diminished fifth</li>
</ul>`,params:[{type:{names:["string","number"]},description:"<p>Either number of semitones or interval string.</p>",name:"amount"}],returns:[{description:"<p>Pattern</p>"}],memberof:"Pattern",name:"transpose",examples:['"c2 c3".fast(2).transpose("<0 -2 5 3>".slow(2)).note()','"c2 c3".fast(2).transpose("<1P -2M 4P 3m>".slow(2)).note()'],scope:"static",longname:"Pattern.transpose",kind:"member"},{comment:`/**
 * Transposes notes inside the scale by the number of steps.
 * Expected to be called on a Pattern which already has a {@link Pattern#scale}
 *
 * @memberof Pattern
 * @name scaleTranspose
 * @param {offset} offset number of steps inside the scale
 * @returns Pattern
 * @example
 * "-8 [2,4,6]"
 * .scale('C4 bebop major')
 * .scaleTranspose("<0 -1 -2 -3 -4 -5 -6 -4>")
 * .note()
 */`,meta:{filename:"tonal.mjs",lineno:116,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/tonal",code:{}},description:`<p>Transposes notes inside the scale by the number of steps.
Expected to be called on a Pattern which already has a {@link Pattern#scale}</p>`,memberof:"Pattern",name:"scaleTranspose",params:[{type:{names:["offset"]},description:"<p>number of steps inside the scale</p>",name:"offset"}],returns:[{description:"<p>Pattern</p>"}],examples:[`"-8 [2,4,6]"
.scale('C4 bebop major')
.scaleTranspose("<0 -1 -2 -3 -4 -5 -6 -4>")
.note()`],scope:"static",longname:"Pattern.scaleTranspose",kind:"member"},{comment:`/**
 * Turns numbers into notes in the scale (zero indexed). Also sets scale for other scale operations, like {@link Pattern#scaleTranspose}.
 *
 * A scale consists of a root note (e.g. \`c4\`, \`c\`, \`f#\`, \`bb4\`) followed by semicolon (':') and then a [scale type](https://github.com/tonaljs/tonal/blob/main/packages/scale-type/data.ts).
 *
 * The root note defaults to octave 3, if no octave number is given.
 *
 * @name scale
 * @param {string} scale Name of scale
 * @returns Pattern
 * @example
 * n("0 2 4 6 4 2").scale("C:major")
 * @example
 * n("[0,7] 4 [2,7] 4")
 * .scale("C:<major minor>/2")
 * .s("piano")
 * @example
 * n(rand.range(0,12).segment(8))
 * .scale("C:ritusen")
 * .s("piano")
 */`,meta:{filename:"tonal.mjs",lineno:143,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/tonal",code:{}},description:`<p>Turns numbers into notes in the scale (zero indexed). Also sets scale for other scale operations, like {@link Pattern#scaleTranspose}.</p>
<p>A scale consists of a root note (e.g. <code>c4</code>, <code>c</code>, <code>f#</code>, <code>bb4</code>) followed by semicolon (':') and then a <a href="https://github.com/tonaljs/tonal/blob/main/packages/scale-type/data.ts">scale type</a>.</p>
<p>The root note defaults to octave 3, if no octave number is given.</p>`,name:"scale",params:[{type:{names:["string"]},description:"<p>Name of scale</p>",name:"scale"}],returns:[{description:"<p>Pattern</p>"}],examples:['n("0 2 4 6 4 2").scale("C:major")',`n("[0,7] 4 [2,7] 4")
.scale("C:<major minor>/2")
.s("piano")`,`n(rand.range(0,12).segment(8))
.scale("C:ritusen")
.s("piano")`],longname:"scale",kind:"member",scope:"global"},{comment:`/**
 * Adds a new custom voicing dictionary.
 *
 * @name addVoicings
 * @memberof Pattern
 * @param {string} name identifier for the voicing dictionary
 * @param {Object} dictionary maps chord symbol to possible voicings
 * @param {Array} range min, max note
 * @returns Pattern
 * @example
 * addVoicings('cookie', {
 *   7: ['3M 7m 9M 12P 15P', '7m 10M 13M 16M 19P'],
 *   '^7': ['3M 6M 9M 12P 14M', '7M 10M 13M 16M 19P'],
 *   m7: ['8P 11P 14m 17m 19P', '5P 8P 11P 14m 17m'],
 *   m7b5: ['3m 5d 8P 11P 14m', '5d 8P 11P 14m 17m'],
 *   o7: ['3m 6M 9M 11A 15P'],
 *   '7alt': ['3M 7m 10m 13m 15P'],
 *   '7#11': ['7m 10m 13m 15P 17m'],
 * }, ['C3', 'C6'])
 * "<C^7 A7 Dm7 G7>".voicings('cookie').note()
 */`,meta:{filename:"voicings.mjs",lineno:84,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/tonal",code:{}},description:"<p>Adds a new custom voicing dictionary.</p>",name:"addVoicings",memberof:"Pattern",params:[{type:{names:["string"]},description:"<p>identifier for the voicing dictionary</p>",name:"name"},{type:{names:["Object"]},description:"<p>maps chord symbol to possible voicings</p>",name:"dictionary"},{type:{names:["Array"]},description:"<p>min, max note</p>",name:"range"}],returns:[{description:"<p>Pattern</p>"}],examples:[`addVoicings('cookie', {
  7: ['3M 7m 9M 12P 15P', '7m 10M 13M 16M 19P'],
  '^7': ['3M 6M 9M 12P 14M', '7M 10M 13M 16M 19P'],
  m7: ['8P 11P 14m 17m 19P', '5P 8P 11P 14m 17m'],
  m7b5: ['3m 5d 8P 11P 14m', '5d 8P 11P 14m 17m'],
  o7: ['3m 6M 9M 11A 15P'],
  '7alt': ['3M 7m 10m 13m 15P'],
  '7#11': ['7m 10m 13m 15P 17m'],
}, ['C3', 'C6'])
"<C^7 A7 Dm7 G7>".voicings('cookie').note()`],scope:"static",longname:"Pattern.addVoicings",kind:"member"},{comment:`/**
 * DEPRECATED: still works, but it is recommended you use .voicing instead (without s).
 * Turns chord symbols into voicings, using the smoothest voice leading possible.
 * Uses [chord-voicings package](https://github.com/felixroos/chord-voicings#chord-voicings).
 *
 * @name voicings
 * @memberof Pattern
 * @param {string} dictionary which voicing dictionary to use.
 * @returns Pattern
 * @example
 * stack("<C^7 A7 Dm7 G7>".voicings('lefthand'), "<C3 A2 D3 G2>").note()
 */`,meta:{filename:"voicings.mjs",lineno:125,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/tonal",code:{}},description:`<p>DEPRECATED: still works, but it is recommended you use .voicing instead (without s).
Turns chord symbols into voicings, using the smoothest voice leading possible.
Uses <a href="https://github.com/felixroos/chord-voicings#chord-voicings">chord-voicings package</a>.</p>`,name:"voicings",memberof:"Pattern",params:[{type:{names:["string"]},description:"<p>which voicing dictionary to use.</p>",name:"dictionary"}],returns:[{description:"<p>Pattern</p>"}],examples:[`stack("<C^7 A7 Dm7 G7>".voicings('lefthand'), "<C3 A2 D3 G2>").note()`],scope:"static",longname:"Pattern.voicings",kind:"member"},{comment:`/**
 * Maps the chords of the incoming pattern to root notes in the given octave.
 *
 * @name rootNotes
 * @memberof Pattern
 * @param {octave} octave octave to use
 * @returns Pattern
 * @example
 * "<C^7 A7 Dm7 G7>".rootNotes(2).note()
 */`,meta:{filename:"voicings.mjs",lineno:151,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/tonal",code:{}},description:"<p>Maps the chords of the incoming pattern to root notes in the given octave.</p>",name:"rootNotes",memberof:"Pattern",params:[{type:{names:["octave"]},description:"<p>octave to use</p>",name:"octave"}],returns:[{description:"<p>Pattern</p>"}],examples:['"<C^7 A7 Dm7 G7>".rootNotes(2).note()'],scope:"static",longname:"Pattern.rootNotes",kind:"member"},{comment:'/**\n * Turns chord symbols into voicings. You can use the following control params:\n *\n * - `chord`: Note, followed by chord symbol, e.g. C Am G7 Bb^7\n * - `dict`: voicing dictionary to use, falls back to default dictionary\n * - `anchor`: the note that is used to align the chord\n * - `mode`: how the voicing is aligned to the anchor\n *   - `below`: top note <= anchor\n *   - `duck`: top note <= anchor, anchor excluded\n *   - `above`: bottom note >= anchor\n * - `offset`: whole number that shifts the voicing up or down to the next voicing\n * - `n`: if set, the voicing is played like a scale. Overshooting numbers will be octaved\n *\n * All of the above controls are optional, except `chord`.\n * If you pass a pattern of strings to voicing, they will be interpreted as chords.\n *\n * @name voicing\n * @returns Pattern\n * @example\n * n("0 1 2 3").chord("<C Am F G>").voicing()\n */',meta:{filename:"voicings.mjs",lineno:170,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/tonal",code:{}},description:`<p>Turns chord symbols into voicings. You can use the following control params:</p>
<ul>
<li><code>chord</code>: Note, followed by chord symbol, e.g. C Am G7 Bb^7</li>
<li><code>dict</code>: voicing dictionary to use, falls back to default dictionary</li>
<li><code>anchor</code>: the note that is used to align the chord</li>
<li><code>mode</code>: how the voicing is aligned to the anchor
<ul>
<li><code>below</code>: top note &lt;= anchor</li>
<li><code>duck</code>: top note &lt;= anchor, anchor excluded</li>
<li><code>above</code>: bottom note &gt;= anchor</li>
</ul>
</li>
<li><code>offset</code>: whole number that shifts the voicing up or down to the next voicing</li>
<li><code>n</code>: if set, the voicing is played like a scale. Overshooting numbers will be octaved</li>
</ul>
<p>All of the above controls are optional, except <code>chord</code>.
If you pass a pattern of strings to voicing, they will be interpreted as chords.</p>`,name:"voicing",returns:[{description:"<p>Pattern</p>"}],examples:['n("0 1 2 3").chord("<C Am F G>").voicing()'],longname:"voicing",kind:"member",scope:"global"},{comment:`/**
 * Renders an oscilloscope for the frequency domain of the audio signal.
 * @name fscope
 * @param {string} color line color as hex or color name. defaults to white.
 * @param {number} scale scales the y-axis. Defaults to 0.25
 * @param {number} pos y-position relative to screen height. 0 = top, 1 = bottom of screen
 * @param {number} lean y-axis alignment where 0 = top and 1 = bottom
 * @param {number} min min value
 * @param {number} max max value
 * @example
 * s("sawtooth").fscope()
 */`,meta:{filename:"scope.mjs",lineno:73,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/webaudio",code:{}},description:"<p>Renders an oscilloscope for the frequency domain of the audio signal.</p>",name:"fscope",params:[{type:{names:["string"]},description:"<p>line color as hex or color name. defaults to white.</p>",name:"color"},{type:{names:["number"]},description:"<p>scales the y-axis. Defaults to 0.25</p>",name:"scale"},{type:{names:["number"]},description:"<p>y-position relative to screen height. 0 = top, 1 = bottom of screen</p>",name:"pos"},{type:{names:["number"]},description:"<p>y-axis alignment where 0 = top and 1 = bottom</p>",name:"lean"},{type:{names:["number"]},description:"<p>min value</p>",name:"min"},{type:{names:["number"]},description:"<p>max value</p>",name:"max"}],examples:['s("sawtooth").fscope()'],longname:"fscope",kind:"member",scope:"global"},{comment:`/**
 * Renders an oscilloscope for the time domain of the audio signal.
 * @name scope
 * @synonyms tscope
 * @param {object} config optional config with options:
 * @param {boolean} align if 1, the scope will be aligned to the first zero crossing. defaults to 1
 * @param {string} color line color as hex or color name. defaults to white.
 * @param {number} thickness line thickness. defaults to 3
 * @param {number} scale scales the y-axis. Defaults to 0.25
 * @param {number} pos y-position relative to screen height. 0 = top, 1 = bottom of screen
 * @param {number} trigger amplitude value that is used to align the scope. defaults to 0.
 * @example
 * s("sawtooth").scope()
 */`,meta:{filename:"scope.mjs",lineno:92,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/webaudio",code:{}},description:"<p>Renders an oscilloscope for the time domain of the audio signal.</p>",name:"scope",synonyms_text:"tscope",synonyms:["tscope"],params:[{type:{names:["object"]},description:"<p>optional config with options:</p>",name:"config"},{type:{names:["boolean"]},description:"<p>if 1, the scope will be aligned to the first zero crossing. defaults to 1</p>",name:"align"},{type:{names:["string"]},description:"<p>line color as hex or color name. defaults to white.</p>",name:"color"},{type:{names:["number"]},description:"<p>line thickness. defaults to 3</p>",name:"thickness"},{type:{names:["number"]},description:"<p>scales the y-axis. Defaults to 0.25</p>",name:"scale"},{type:{names:["number"]},description:"<p>y-position relative to screen height. 0 = top, 1 = bottom of screen</p>",name:"pos"},{type:{names:["number"]},description:"<p>amplitude value that is used to align the scope. defaults to 0.</p>",name:"trigger"}],examples:['s("sawtooth").scope()'],longname:"scope",kind:"member",scope:"global"},{kind:"package",longname:"package:undefined",files:["/Users/michaelgogins/cloud-5/strudel/packages/codemirror/autocomplete.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/codemirror.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/flash.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/highlight.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/html.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/keybindings.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/slider.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/themes/algoboy.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/themes/blackscreen.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/themes/bluescreen.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/themes/strudel-theme.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/themes/teletext.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/themes/terminal.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/themes/whitescreen.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/themes.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/tooltip.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/core/animate.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/color.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/controls.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/cyclist.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/draw.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/drawLine.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/euclid.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/evaluate.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/fraction.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/hap.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/logger.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/pattern.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/pianoroll.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/repl.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/signal.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/speak.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/spiral.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/state.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/test/controls.test.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/test/drawLine.test.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/test/fraction.test.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/test/pattern.test.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/test/solmization.test.js","/Users/michaelgogins/cloud-5/strudel/packages/core/test/util.test.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/test/value.test.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/time.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/timespan.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/ui.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/util.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/value.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/core/zyklus.mjs","/Users/michaelgogins/cloud-5/strudel/packages/csound/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/csound/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/desktopbridge/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/desktopbridge/loggerbridge.mjs","/Users/michaelgogins/cloud-5/strudel/packages/desktopbridge/midibridge.mjs","/Users/michaelgogins/cloud-5/strudel/packages/desktopbridge/oscbridge.mjs","/Users/michaelgogins/cloud-5/strudel/packages/desktopbridge/utils.mjs","/Users/michaelgogins/cloud-5/strudel/packages/embed/embed.js","/Users/michaelgogins/cloud-5/strudel/packages/hydra/hydra.mjs","/Users/michaelgogins/cloud-5/strudel/packages/hydra/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/midi/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/midi/midi.mjs","/Users/michaelgogins/cloud-5/strudel/packages/midi/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/mini/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/mini/krill-parser.js","/Users/michaelgogins/cloud-5/strudel/packages/mini/mini.mjs","/Users/michaelgogins/cloud-5/strudel/packages/mini/test/mini.test.mjs","/Users/michaelgogins/cloud-5/strudel/packages/mini/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/osc/osc.mjs","/Users/michaelgogins/cloud-5/strudel/packages/osc/server.js","/Users/michaelgogins/cloud-5/strudel/packages/osc/tidal-sniffer.js","/Users/michaelgogins/cloud-5/strudel/packages/osc/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/repl/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/repl/prebake.mjs","/Users/michaelgogins/cloud-5/strudel/packages/repl/repl-component.mjs","/Users/michaelgogins/cloud-5/strudel/packages/repl/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/serial/serial.mjs","/Users/michaelgogins/cloud-5/strudel/packages/serial/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/soundfonts/convert.js","/Users/michaelgogins/cloud-5/strudel/packages/soundfonts/fontloader.mjs","/Users/michaelgogins/cloud-5/strudel/packages/soundfonts/gm.mjs","/Users/michaelgogins/cloud-5/strudel/packages/soundfonts/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/soundfonts/list.mjs","/Users/michaelgogins/cloud-5/strudel/packages/soundfonts/sfumato.mjs","/Users/michaelgogins/cloud-5/strudel/packages/soundfonts/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/superdough/dspworklet.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/feedbackdelay.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/helpers.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/logger.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/noise.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/reverb.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/reverbGen.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/sampler.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/superdough.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/synth.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/util.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/superdough/vowel.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/worklets.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/zzfx.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/zzfx_fork.mjs","/Users/michaelgogins/cloud-5/strudel/packages/tonal/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/tonal/ireal.mjs","/Users/michaelgogins/cloud-5/strudel/packages/tonal/test/tonal.test.mjs","/Users/michaelgogins/cloud-5/strudel/packages/tonal/test/tonleiter.test.mjs","/Users/michaelgogins/cloud-5/strudel/packages/tonal/tonal.mjs","/Users/michaelgogins/cloud-5/strudel/packages/tonal/tonleiter.mjs","/Users/michaelgogins/cloud-5/strudel/packages/tonal/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/tonal/voicings.mjs","/Users/michaelgogins/cloud-5/strudel/packages/transpiler/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/transpiler/test/transpiler.test.mjs","/Users/michaelgogins/cloud-5/strudel/packages/transpiler/transpiler.mjs","/Users/michaelgogins/cloud-5/strudel/packages/transpiler/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/web/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/web/web.mjs","/Users/michaelgogins/cloud-5/strudel/packages/webaudio/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/webaudio/scope.mjs","/Users/michaelgogins/cloud-5/strudel/packages/webaudio/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/webaudio/webaudio.mjs","/Users/michaelgogins/cloud-5/strudel/packages/xen/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/xen/test/xen.test.mjs","/Users/michaelgogins/cloud-5/strudel/packages/xen/tune.mjs","/Users/michaelgogins/cloud-5/strudel/packages/xen/tunejs.js","/Users/michaelgogins/cloud-5/strudel/packages/xen/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/xen/xen.mjs"]}],Ca={docs:nO},iO=5,_r=6,zr=10;let rO=(i,e,t,n)=>(i.events=i.events||{},i.events[t+zr]||(i.events[t+zr]=n(r=>{i.events[t].reduceRight((o,a)=>(a(o),o),{shared:{},...r})})),i.events[t]=i.events[t]||[],i.events[t].push(e),()=>{let r=i.events[t],o=r.indexOf(e);r.splice(o,1),r.length||(delete i.events[t],i.events[t+zr](),delete i.events[t+zr])}),oO=1e3,cd=(i,e)=>rO(i,n=>{let r=e(n);r&&i.events[_r].push(r)},iO,n=>{let r=i.listen;i.listen=(...a)=>(!i.lc&&!i.active&&(i.active=!0,n()),r(...a));let o=i.off;return i.events[_r]=[],i.off=()=>{o(),setTimeout(()=>{if(i.active&&!i.lc){i.active=!1;for(let a of i.events[_r])a();i.events[_r]=[]}},oO)},()=>{i.listen=r,i.off=o}});class ge{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){[e,t]=Ri(this,e,t);let r=[];return this.decompose(0,e,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(t,this.length,r,1),dn.from(r,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Ri(this,e,t);let n=[];return this.decompose(e,t,n,0),dn.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),r=new fr(this),o=new fr(e);for(let a=t,l=t;;){if(r.next(a),o.next(a),a=0,r.lineBreak!=o.lineBreak||r.done!=o.done||r.value!=o.value)return!1;if(l+=r.value.length,r.done||l>=n)return!0}}iter(e=1){return new fr(this,e)}iterRange(e,t=this.length){return new hd(this,e,t)}iterLines(e,t){let n;if(e==null)n=this.iter();else{t==null&&(t=this.lines+1);let r=this.line(e).from;n=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new ud(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?ge.empty:e.length<=32?new Ve(e):dn.from(Ve.split(e,[]))}}class Ve extends ge{constructor(e,t=sO(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,r){for(let o=0;;o++){let a=this.text[o],l=r+a.length;if((t?n:l)>=e)return new aO(r,l,n,a);r=l+1,n++}}decompose(e,t,n,r){let o=e<=0&&t>=this.length?this:new Ve(ih(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(r&1){let a=n.pop(),l=ko(o.text,a.text.slice(),0,o.length);if(l.length<=32)n.push(new Ve(l,a.length+o.length));else{let h=l.length>>1;n.push(new Ve(l.slice(0,h)),new Ve(l.slice(h)))}}else n.push(o)}replace(e,t,n){if(!(n instanceof Ve))return super.replace(e,t,n);[e,t]=Ri(this,e,t);let r=ko(this.text,ko(n.text,ih(this.text,0,e)),t),o=this.length+n.length-(t-e);return r.length<=32?new Ve(r,o):dn.from(Ve.split(r,[]),o)}sliceString(e,t=this.length,n=`
`){[e,t]=Ri(this,e,t);let r="";for(let o=0,a=0;o<=t&&a<this.text.length;a++){let l=this.text[a],h=o+l.length;o>e&&a&&(r+=n),e<h&&t>o&&(r+=l.slice(Math.max(0,e-o),t-o)),o=h+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],r=-1;for(let o of e)n.push(o),r+=o.length+1,n.length==32&&(t.push(new Ve(n,r)),n=[],r=-1);return r>-1&&t.push(new Ve(n,r)),t}}class dn extends ge{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,t,n,r){for(let o=0;;o++){let a=this.children[o],l=r+a.length,h=n+a.lines-1;if((t?h:l)>=e)return a.lineInner(e,t,n,r);r=l+1,n=h+1}}decompose(e,t,n,r){for(let o=0,a=0;a<=t&&o<this.children.length;o++){let l=this.children[o],h=a+l.length;if(e<=h&&t>=a){let d=r&((a<=e?1:0)|(h>=t?2:0));a>=e&&h<=t&&!d?n.push(l):l.decompose(e-a,t-a,n,d)}a=h+1}}replace(e,t,n){if([e,t]=Ri(this,e,t),n.lines<this.lines)for(let r=0,o=0;r<this.children.length;r++){let a=this.children[r],l=o+a.length;if(e>=o&&t<=l){let h=a.replace(e-o,t-o,n),d=this.lines-a.lines+h.lines;if(h.lines<d>>5-1&&h.lines>d>>5+1){let f=this.children.slice();return f[r]=h,new dn(f,this.length-(t-e)+n.length)}return super.replace(o,l,h)}o=l+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n=`
`){[e,t]=Ri(this,e,t);let r="";for(let o=0,a=0;o<this.children.length&&a<=t;o++){let l=this.children[o],h=a+l.length;a>e&&o&&(r+=n),e<h&&t>a&&(r+=l.sliceString(e-a,t-a,n)),a=h+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof dn))return 0;let n=0,[r,o,a,l]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,o+=t){if(r==a||o==l)return n;let h=this.children[r],d=e.children[o];if(h!=d)return n+h.scanIdentical(d,t);n+=h.length+1}}static from(e,t=e.reduce((n,r)=>n+r.length+1,-1)){let n=0;for(let v of e)n+=v.lines;if(n<32){let v=[];for(let w of e)w.flatten(v);return new Ve(v,t)}let r=Math.max(32,n>>5),o=r<<1,a=r>>1,l=[],h=0,d=-1,f=[];function g(v){let w;if(v.lines>o&&v instanceof dn)for(let C of v.children)g(C);else v.lines>a&&(h>a||!h)?(y(),l.push(v)):v instanceof Ve&&h&&(w=f[f.length-1])instanceof Ve&&v.lines+w.lines<=32?(h+=v.lines,d+=v.length+1,f[f.length-1]=new Ve(w.text.concat(v.text),w.length+1+v.length)):(h+v.lines>r&&y(),h+=v.lines,d+=v.length+1,f.push(v))}function y(){h!=0&&(l.push(f.length==1?f[0]:dn.from(f,d)),d=-1,h=f.length=0)}for(let v of e)g(v);return y(),l.length==1?l[0]:new dn(l,t)}}ge.empty=new Ve([""],0);function sO(i){let e=-1;for(let t of i)e+=t.length+1;return e}function ko(i,e,t=0,n=1e9){for(let r=0,o=0,a=!0;o<i.length&&r<=n;o++){let l=i[o],h=r+l.length;h>=t&&(h>n&&(l=l.slice(0,n-r)),r<t&&(l=l.slice(t-r)),a?(e[e.length-1]+=l,a=!1):e.push(l)),r=h+1}return e}function ih(i,e,t){return ko(i,[""],e,t)}class fr{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Ve?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,r=this.nodes[n],o=this.offsets[n],a=o>>1,l=r instanceof Ve?r.text.length:r.children.length;if(a==(t>0?l:0)){if(n==0)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(t>0?0:1)){if(this.offsets[n]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof Ve){let h=r.text[a+(t<0?-1:0)];if(this.offsets[n]+=t,h.length>Math.max(0,e))return this.value=e==0?h:t>0?h.slice(e):h.slice(0,h.length-e),this;e-=h.length}else{let h=r.children[a+(t<0?-1:0)];e>h.length?(e-=h.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(h),this.offsets.push(t>0?1:(h instanceof Ve?h.text.length:h.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class hd{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new fr(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=n?r:t<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class ud{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:r}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(ge.prototype[Symbol.iterator]=function(){return this.iter()},fr.prototype[Symbol.iterator]=hd.prototype[Symbol.iterator]=ud.prototype[Symbol.iterator]=function(){return this});class aO{constructor(e,t,n,r){this.from=e,this.to=t,this.number=n,this.text=r}get length(){return this.to-this.from}}function Ri(i,e,t){return e=Math.max(0,Math.min(i.length,e)),[e,Math.max(e,Math.min(i.length,t))]}let Pi="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(i=>i?parseInt(i,36):1);for(let i=1;i<Pi.length;i++)Pi[i]+=Pi[i-1];function lO(i){for(let e=1;e<Pi.length;e+=2)if(Pi[e]>i)return Pi[e-1]<=i;return!1}function rh(i){return i>=127462&&i<=127487}const oh=8205;function ct(i,e,t=!0,n=!0){return(t?dd:cO)(i,e,n)}function dd(i,e,t){if(e==i.length)return e;e&&fd(i.charCodeAt(e))&&pd(i.charCodeAt(e-1))&&e--;let n=mt(i,e);for(e+=Et(n);e<i.length;){let r=mt(i,e);if(n==oh||r==oh||t&&lO(r))e+=Et(r),n=r;else if(rh(r)){let o=0,a=e-2;for(;a>=0&&rh(mt(i,a));)o++,a-=2;if(o%2==0)break;e+=2}else break}return e}function cO(i,e,t){for(;e>0;){let n=dd(i,e-2,t);if(n<e)return n;e--}return 0}function fd(i){return i>=56320&&i<57344}function pd(i){return i>=55296&&i<56320}function mt(i,e){let t=i.charCodeAt(e);if(!pd(t)||e+1==i.length)return t;let n=i.charCodeAt(e+1);return fd(n)?(t-55296<<10)+(n-56320)+65536:t}function Rl(i){return i<=65535?String.fromCharCode(i):(i-=65536,String.fromCharCode((i>>10)+55296,(i&1023)+56320))}function Et(i){return i<65536?1:2}const $a=/\r\n?|\n/;var _e=function(i){return i[i.Simple=0]="Simple",i[i.TrackDel=1]="TrackDel",i[i.TrackBefore=2]="TrackBefore",i[i.TrackAfter=3]="TrackAfter",i}(_e||(_e={}));class bn{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,r=0;t<this.sections.length;){let o=this.sections[t++],a=this.sections[t++];a<0?(e(n,r,o),r+=o):r+=a,n+=o}}iterChangedRanges(e,t=!1){Aa(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];r<0?e.push(n,r):e.push(r,n)}return new bn(e)}composeDesc(e){return this.empty?e:e.empty?this:md(this,e)}mapDesc(e,t=!1){return e.empty?this:Ta(this,e,t)}mapPos(e,t=-1,n=_e.Simple){let r=0,o=0;for(let a=0;a<this.sections.length;){let l=this.sections[a++],h=this.sections[a++],d=r+l;if(h<0){if(d>e)return o+(e-r);o+=l}else{if(n!=_e.Simple&&d>=e&&(n==_e.TrackDel&&r<e&&d>e||n==_e.TrackBefore&&r<e||n==_e.TrackAfter&&d>e))return null;if(d>e||d==e&&t<0&&!l)return e==r||t<0?o:o+h;o+=h}r=d}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return o}touchesRange(e,t=e){for(let n=0,r=0;n<this.sections.length&&r<=t;){let o=this.sections[n++],a=this.sections[n++],l=r+o;if(a>=0&&r<=t&&l>=e)return r<e&&l>t?"cover":!0;r=l}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+n+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new bn(e)}static create(e){return new bn(e)}}class et extends bn{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Aa(this,(t,n,r,o,a)=>e=e.replace(r,r+(n-t),a),!1),e}mapDesc(e,t=!1){return Ta(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let r=0,o=0;r<t.length;r+=2){let a=t[r],l=t[r+1];if(l>=0){t[r]=l,t[r+1]=a;let h=r>>1;for(;n.length<h;)n.push(ge.empty);n.push(a?e.slice(o,o+a):ge.empty)}o+=a}return new et(t,n)}compose(e){return this.empty?e:e.empty?this:md(this,e,!0)}map(e,t=!1){return e.empty?this:Ta(this,e,t,!0)}iterChanges(e,t=!1){Aa(this,e,t)}get desc(){return bn.create(this.sections)}filter(e){let t=[],n=[],r=[],o=new yr(this);e:for(let a=0,l=0;;){let h=a==e.length?1e9:e[a++];for(;l<h||l==h&&o.len==0;){if(o.done)break e;let f=Math.min(o.len,h-l);pt(r,f,-1);let g=o.ins==-1?-1:o.off==0?o.ins:0;pt(t,f,g),g>0&&Nn(n,t,o.text),o.forward(f),l+=f}let d=e[a++];for(;l<d;){if(o.done)break e;let f=Math.min(o.len,d-l);pt(t,f,-1),pt(r,f,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(f),l+=f}}return{changes:new et(t,n),filtered:bn.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],r=this.sections[t+1];r<0?e.push(n):r==0?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let r=[],o=[],a=0,l=null;function h(f=!1){if(!f&&!r.length)return;a<t&&pt(r,t-a,-1);let g=new et(r,o);l=l?l.compose(g.map(l)):g,r=[],o=[],a=0}function d(f){if(Array.isArray(f))for(let g of f)d(g);else if(f instanceof et){if(f.length!=t)throw new RangeError(`Mismatched change set length (got ${f.length}, expected ${t})`);h(),l=l?l.compose(f.map(l)):f}else{let{from:g,to:y=g,insert:v}=f;if(g>y||g<0||y>t)throw new RangeError(`Invalid change range ${g} to ${y} (in doc of length ${t})`);let w=v?typeof v=="string"?ge.of(v.split(n||$a)):v:ge.empty,C=w.length;if(g==y&&C==0)return;g<a&&h(),g>a&&pt(r,g-a,-1),pt(r,y-g,C),Nn(o,r,w),a=y}}return d(e),h(!l),l}static empty(e){return new et(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let r=0;r<e.length;r++){let o=e[r];if(typeof o=="number")t.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((a,l)=>l&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)t.push(o[0],0);else{for(;n.length<r;)n.push(ge.empty);n[r]=ge.of(o.slice(1)),t.push(o[0],n[r].length)}}}return new et(t,n)}static createSet(e,t){return new et(e,t)}}function pt(i,e,t,n=!1){if(e==0&&t<=0)return;let r=i.length-2;r>=0&&t<=0&&t==i[r+1]?i[r]+=e:e==0&&i[r]==0?i[r+1]+=t:n?(i[r]+=e,i[r+1]+=t):i.push(e,t)}function Nn(i,e,t){if(t.length==0)return;let n=e.length-2>>1;if(n<i.length)i[i.length-1]=i[i.length-1].append(t);else{for(;i.length<n;)i.push(ge.empty);i.push(t)}}function Aa(i,e,t){let n=i.inserted;for(let r=0,o=0,a=0;a<i.sections.length;){let l=i.sections[a++],h=i.sections[a++];if(h<0)r+=l,o+=l;else{let d=r,f=o,g=ge.empty;for(;d+=l,f+=h,h&&n&&(g=g.append(n[a-2>>1])),!(t||a==i.sections.length||i.sections[a+1]<0);)l=i.sections[a++],h=i.sections[a++];e(r,d,o,f,g),r=d,o=f}}}function Ta(i,e,t,n=!1){let r=[],o=n?[]:null,a=new yr(i),l=new yr(e);for(let h=-1;;)if(a.ins==-1&&l.ins==-1){let d=Math.min(a.len,l.len);pt(r,d,-1),a.forward(d),l.forward(d)}else if(l.ins>=0&&(a.ins<0||h==a.i||a.off==0&&(l.len<a.len||l.len==a.len&&!t))){let d=l.len;for(pt(r,l.ins,-1);d;){let f=Math.min(a.len,d);a.ins>=0&&h<a.i&&a.len<=f&&(pt(r,0,a.ins),o&&Nn(o,r,a.text),h=a.i),a.forward(f),d-=f}l.next()}else if(a.ins>=0){let d=0,f=a.len;for(;f;)if(l.ins==-1){let g=Math.min(f,l.len);d+=g,f-=g,l.forward(g)}else if(l.ins==0&&l.len<f)f-=l.len,l.next();else break;pt(r,d,h<a.i?a.ins:0),o&&h<a.i&&Nn(o,r,a.text),h=a.i,a.forward(a.len-f)}else{if(a.done&&l.done)return o?et.createSet(r,o):bn.create(r);throw new Error("Mismatched change set lengths")}}function md(i,e,t=!1){let n=[],r=t?[]:null,o=new yr(i),a=new yr(e);for(let l=!1;;){if(o.done&&a.done)return r?et.createSet(n,r):bn.create(n);if(o.ins==0)pt(n,o.len,0,l),o.next();else if(a.len==0&&!a.done)pt(n,0,a.ins,l),r&&Nn(r,n,a.text),a.next();else{if(o.done||a.done)throw new Error("Mismatched change set lengths");{let h=Math.min(o.len2,a.len),d=n.length;if(o.ins==-1){let f=a.ins==-1?-1:a.off?0:a.ins;pt(n,h,f,l),r&&f&&Nn(r,n,a.text)}else a.ins==-1?(pt(n,o.off?0:o.len,h,l),r&&Nn(r,n,o.textBit(h))):(pt(n,o.off?0:o.len,a.off?0:a.ins,l),r&&!a.off&&Nn(r,n,a.text));l=(o.ins>h||a.ins>=0&&a.len>h)&&(l||n.length>d),o.forward2(h),a.forward(h)}}}}class yr{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?ge.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?ge.empty:t[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class ai{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let n,r;return this.empty?n=r=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new ai(n,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return j.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return j.range(this.anchor,n)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return j.range(e.anchor,e.head)}static create(e,t,n){return new ai(e,t,n)}}class j{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:j.create(this.ranges.map(n=>n.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new j([this.main],0)}addRange(e,t=!0){return j.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,j.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new j(e.ranges.map(t=>ai.fromJSON(t)),e.main)}static single(e,t=e){return new j([j.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<e.length;r++){let o=e[r];if(o.empty?o.from<=n:o.from<n)return j.normalized(e.slice(),t);n=o.to}return new j(e,t)}static cursor(e,t=0,n,r){return ai.create(e,e,(t==0?0:t<0?8:16)|(n==null?7:Math.min(6,n))|(r??16777215)<<6)}static range(e,t,n,r){let o=(n??16777215)<<6|(r==null?7:Math.min(6,r));return t<e?ai.create(t,e,48|o):ai.create(e,t,(t>e?8:0)|o)}static normalized(e,t=0){let n=e[t];e.sort((r,o)=>r.from-o.from),t=e.indexOf(n);for(let r=1;r<e.length;r++){let o=e[r],a=e[r-1];if(o.empty?o.from<=a.to:o.from<a.to){let l=a.from,h=Math.max(o.to,a.to);r<=t&&t--,e.splice(--r,2,o.anchor>o.head?j.range(h,l):j.range(l,h))}}return new j(e,t)}}function gd(i,e){for(let t of i.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let jl=0;class G{constructor(e,t,n,r,o){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=r,this.id=jl++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new G(e.combine||(t=>t),e.compareInput||((t,n)=>t===n),e.compare||(e.combine?(t,n)=>t===n:Ul),!!e.static,e.enables)}of(e){return new wo([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new wo(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new wo(e,this,2,t)}from(e,t){return t||(t=n=>n),this.compute([e],n=>t(n.field(e)))}}function Ul(i,e){return i==e||i.length==e.length&&i.every((t,n)=>t===e[n])}class wo{constructor(e,t,n,r){this.dependencies=e,this.facet=t,this.type=n,this.value=r,this.id=jl++}dynamicSlot(e){var t;let n=this.value,r=this.facet.compareInput,o=this.id,a=e[o]>>1,l=this.type==2,h=!1,d=!1,f=[];for(let g of this.dependencies)g=="doc"?h=!0:g=="selection"?d=!0:((t=e[g.id])!==null&&t!==void 0?t:1)&1||f.push(e[g.id]);return{create(g){return g.values[a]=n(g),1},update(g,y){if(h&&y.docChanged||d&&(y.docChanged||y.selection)||Ma(g,f)){let v=n(g);if(l?!sh(v,g.values[a],r):!r(v,g.values[a]))return g.values[a]=v,1}return 0},reconfigure:(g,y)=>{let v,w=y.config.address[o];if(w!=null){let C=No(y,w);if(this.dependencies.every($=>$ instanceof G?y.facet($)===g.facet($):$ instanceof Ye?y.field($,!1)==g.field($,!1):!0)||(l?sh(v=n(g),C,r):r(v=n(g),C)))return g.values[a]=C,0}else v=n(g);return g.values[a]=v,1}}}}function sh(i,e,t){if(i.length!=e.length)return!1;for(let n=0;n<i.length;n++)if(!t(i[n],e[n]))return!1;return!0}function Ma(i,e){let t=!1;for(let n of e)pr(i,n)&1&&(t=!0);return t}function hO(i,e,t){let n=t.map(h=>i[h.id]),r=t.map(h=>h.type),o=n.filter(h=>!(h&1)),a=i[e.id]>>1;function l(h){let d=[];for(let f=0;f<n.length;f++){let g=No(h,n[f]);if(r[f]==2)for(let y of g)d.push(y);else d.push(g)}return e.combine(d)}return{create(h){for(let d of n)pr(h,d);return h.values[a]=l(h),1},update(h,d){if(!Ma(h,o))return 0;let f=l(h);return e.compare(f,h.values[a])?0:(h.values[a]=f,1)},reconfigure(h,d){let f=Ma(h,n),g=d.config.facets[e.id],y=d.facet(e);if(g&&!f&&Ul(t,g))return h.values[a]=y,0;let v=l(h);return e.compare(v,y)?(h.values[a]=y,0):(h.values[a]=v,1)}}}const ah=G.define({static:!0});class Ye{constructor(e,t,n,r,o){this.id=e,this.createF=t,this.updateF=n,this.compareF=r,this.spec=o,this.provides=void 0}static define(e){let t=new Ye(jl++,e.create,e.update,e.compare||((n,r)=>n===r),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(ah).find(n=>n.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:n=>(n.values[t]=this.create(n),1),update:(n,r)=>{let o=n.values[t],a=this.updateF(o,r);return this.compareF(o,a)?0:(n.values[t]=a,1)},reconfigure:(n,r)=>r.config.address[this.id]!=null?(n.values[t]=r.field(this),0):(n.values[t]=this.create(n),1)}}init(e){return[this,ah.of({field:this,create:e})]}get extension(){return this}}const oi={lowest:4,low:3,default:2,high:1,highest:0};function Ki(i){return e=>new Od(e,i)}const Jt={highest:Ki(oi.highest),high:Ki(oi.high),default:Ki(oi.default),low:Ki(oi.low),lowest:Ki(oi.lowest)};class Od{constructor(e,t){this.inner=e,this.prec=t}}class Dr{of(e){return new Da(this,e)}reconfigure(e){return Dr.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Da{constructor(e,t){this.compartment=e,this.inner=t}}class Uo{constructor(e,t,n,r,o,a){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=r,this.staticValues=o,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let r=[],o=Object.create(null),a=new Map;for(let y of uO(e,t,a))y instanceof Ye?r.push(y):(o[y.facet.id]||(o[y.facet.id]=[])).push(y);let l=Object.create(null),h=[],d=[];for(let y of r)l[y.id]=d.length<<1,d.push(v=>y.slot(v));let f=n?.config.facets;for(let y in o){let v=o[y],w=v[0].facet,C=f&&f[y]||[];if(v.every($=>$.type==0))if(l[w.id]=h.length<<1|1,Ul(C,v))h.push(n.facet(w));else{let $=w.combine(v.map(M=>M.value));h.push(n&&w.compare($,n.facet(w))?n.facet(w):$)}else{for(let $ of v)$.type==0?(l[$.id]=h.length<<1|1,h.push($.value)):(l[$.id]=d.length<<1,d.push(M=>$.dynamicSlot(M)));l[w.id]=d.length<<1,d.push($=>hO($,w,v))}}let g=d.map(y=>y(l));return new Uo(e,a,g,l,h,o)}}function uO(i,e,t){let n=[[],[],[],[],[]],r=new Map;function o(a,l){let h=r.get(a);if(h!=null){if(h<=l)return;let d=n[h].indexOf(a);d>-1&&n[h].splice(d,1),a instanceof Da&&t.delete(a.compartment)}if(r.set(a,l),Array.isArray(a))for(let d of a)o(d,l);else if(a instanceof Da){if(t.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let d=e.get(a.compartment)||a.inner;t.set(a.compartment,d),o(d,l)}else if(a instanceof Od)o(a.inner,a.prec);else if(a instanceof Ye)n[l].push(a),a.provides&&o(a.provides,l);else if(a instanceof wo)n[l].push(a),a.facet.extensions&&o(a.facet.extensions,oi.default);else{let d=a.extension;if(!d)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(d,l)}}return o(i,oi.default),n.reduce((a,l)=>a.concat(l))}function pr(i,e){if(e&1)return 2;let t=e>>1,n=i.status[t];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;i.status[t]=4;let r=i.computeSlot(i,i.config.dynamicSlots[t]);return i.status[t]=2|r}function No(i,e){return e&1?i.config.staticValues[e>>1]:i.values[e>>1]}const bd=G.define(),Ba=G.define({combine:i=>i.some(e=>e),static:!0}),yd=G.define({combine:i=>i.length?i[0]:void 0,static:!0}),vd=G.define(),kd=G.define(),wd=G.define(),xd=G.define({combine:i=>i.length?i[0]:!1});class vn{constructor(e,t){this.type=e,this.value=t}static define(){return new dO}}class dO{of(e){return new vn(this,e)}}class fO{constructor(e){this.map=e}of(e){return new re(this,e)}}class re{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new re(this.type,t)}is(e){return this.type==e}static define(e={}){return new fO(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let r of e){let o=r.map(t);o&&n.push(o)}return n}}re.reconfigure=re.define();re.appendConfig=re.define();class tt{constructor(e,t,n,r,o,a){this.startState=e,this.changes=t,this.selection=n,this.effects=r,this.annotations=o,this.scrollIntoView=a,this._doc=null,this._state=null,n&&gd(n,t.newLength),o.some(l=>l.type==tt.time)||(this.annotations=o.concat(tt.time.of(Date.now())))}static create(e,t,n,r,o,a){return new tt(e,t,n,r,o,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(tt.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}tt.time=vn.define();tt.userEvent=vn.define();tt.addToHistory=vn.define();tt.remote=vn.define();function pO(i,e){let t=[];for(let n=0,r=0;;){let o,a;if(n<i.length&&(r==e.length||e[r]>=i[n]))o=i[n++],a=i[n++];else if(r<e.length)o=e[r++],a=e[r++];else return t;!t.length||t[t.length-1]<o?t.push(o,a):t[t.length-1]<a&&(t[t.length-1]=a)}}function Sd(i,e,t){var n;let r,o,a;return t?(r=e.changes,o=et.empty(e.changes.length),a=i.changes.compose(e.changes)):(r=e.changes.map(i.changes),o=i.changes.mapDesc(e.changes,!0),a=i.changes.compose(r)),{changes:a,selection:e.selection?e.selection.map(o):(n=i.selection)===null||n===void 0?void 0:n.map(r),effects:re.mapEffects(i.effects,r).concat(re.mapEffects(e.effects,o)),annotations:i.annotations.length?i.annotations.concat(e.annotations):e.annotations,scrollIntoView:i.scrollIntoView||e.scrollIntoView}}function Ra(i,e,t){let n=e.selection,r=Qi(e.annotations);return e.userEvent&&(r=r.concat(tt.userEvent.of(e.userEvent))),{changes:e.changes instanceof et?e.changes:et.of(e.changes||[],t,i.facet(yd)),selection:n&&(n instanceof j?n:j.single(n.anchor,n.head)),effects:Qi(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function Pd(i,e,t){let n=Ra(i,e.length?e[0]:{},i.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(t=!1);let a=!!e[o].sequential;n=Sd(n,Ra(i,e[o],a?n.changes.newLength:i.doc.length),a)}let r=tt.create(i,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return gO(t?mO(r):r)}function mO(i){let e=i.startState,t=!0;for(let r of e.facet(vd)){let o=r(i);if(o===!1){t=!1;break}Array.isArray(o)&&(t=t===!0?o:pO(t,o))}if(t!==!0){let r,o;if(t===!1)o=i.changes.invertedDesc,r=et.empty(e.doc.length);else{let a=i.changes.filter(t);r=a.changes,o=a.filtered.mapDesc(a.changes).invertedDesc}i=tt.create(e,r,i.selection&&i.selection.map(o),re.mapEffects(i.effects,o),i.annotations,i.scrollIntoView)}let n=e.facet(kd);for(let r=n.length-1;r>=0;r--){let o=n[r](i);o instanceof tt?i=o:Array.isArray(o)&&o.length==1&&o[0]instanceof tt?i=o[0]:i=Pd(e,Qi(o),!1)}return i}function gO(i){let e=i.startState,t=e.facet(wd),n=i;for(let r=t.length-1;r>=0;r--){let o=t[r](i);o&&Object.keys(o).length&&(n=Sd(n,Ra(e,o,i.changes.newLength),!0))}return n==i?i:tt.create(e,i.changes,i.selection,n.effects,n.annotations,n.scrollIntoView)}const OO=[];function Qi(i){return i==null?OO:Array.isArray(i)?i:[i]}var ze=function(i){return i[i.Word=0]="Word",i[i.Space=1]="Space",i[i.Other=2]="Other",i}(ze||(ze={}));const bO=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let ja;try{ja=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function yO(i){if(ja)return ja.test(i);for(let e=0;e<i.length;e++){let t=i[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||bO.test(t)))return!0}return!1}function vO(i){return e=>{if(!/\S/.test(e))return ze.Space;if(yO(e))return ze.Word;for(let t=0;t<i.length;t++)if(e.indexOf(i[t])>-1)return ze.Word;return ze.Other}}class Oe{constructor(e,t,n,r,o,a){this.config=e,this.doc=t,this.selection=n,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=o,a&&(a._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)pr(this,l<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(n==null){if(t)throw new RangeError("Field is not present in this state");return}return pr(this,n),No(this,n)}update(...e){return Pd(this,e,!0)}applyTransaction(e){let t=this.config,{base:n,compartments:r}=t;for(let l of e.effects)l.is(Dr.reconfigure)?(t&&(r=new Map,t.compartments.forEach((h,d)=>r.set(d,h)),t=null),r.set(l.value.compartment,l.value.extension)):l.is(re.reconfigure)?(t=null,n=l.value):l.is(re.appendConfig)&&(t=null,n=Qi(n).concat(l.value));let o;t?o=e.startState.values.slice():(t=Uo.resolve(n,r,this),o=new Oe(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(h,d)=>d.reconfigure(h,this),null).values);let a=e.startState.facet(Ba)?e.newSelection:e.newSelection.asSingle();new Oe(t,e.newDoc,a,o,(l,h)=>h.update(l,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:j.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),r=this.changes(n.changes),o=[n.range],a=Qi(n.effects);for(let l=1;l<t.ranges.length;l++){let h=e(t.ranges[l]),d=this.changes(h.changes),f=d.map(r);for(let y=0;y<l;y++)o[y]=o[y].map(f);let g=r.mapDesc(d,!0);o.push(h.range.map(g)),r=r.compose(f),a=re.mapEffects(a,f).concat(re.mapEffects(Qi(h.effects),g))}return{changes:r,selection:j.create(o,t.mainIndex),effects:a}}changes(e=[]){return e instanceof et?e:et.of(e,this.doc.length,this.facet(Oe.lineSeparator))}toText(e){return ge.of(e.split(this.facet(Oe.lineSeparator)||$a))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(pr(this,t),No(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let r=e[n];r instanceof Ye&&this.config.address[r.id]!=null&&(t[n]=r.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n){for(let o in n)if(Object.prototype.hasOwnProperty.call(e,o)){let a=n[o],l=e[o];r.push(a.init(h=>a.spec.fromJSON(l,h)))}}return Oe.create({doc:e.doc,selection:j.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=Uo.resolve(e.extensions||[],new Map),n=e.doc instanceof ge?e.doc:ge.of((e.doc||"").split(t.staticFacet(Oe.lineSeparator)||$a)),r=e.selection?e.selection instanceof j?e.selection:j.single(e.selection.anchor,e.selection.head):j.single(0);return gd(r,n.length),t.staticFacet(Ba)||(r=r.asSingle()),new Oe(t,n,r,t.dynamicSlots.map(()=>null),(o,a)=>a.create(o),null)}get tabSize(){return this.facet(Oe.tabSize)}get lineBreak(){return this.facet(Oe.lineSeparator)||`
`}get readOnly(){return this.facet(xd)}phrase(e,...t){for(let n of this.facet(Oe.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(n,r)=>{if(r=="$")return"$";let o=+(r||1);return!o||o>t.length?n:t[o-1]})),e}languageDataAt(e,t,n=-1){let r=[];for(let o of this.facet(bd))for(let a of o(this,t,n))Object.prototype.hasOwnProperty.call(a,e)&&r.push(a[e]);return r}charCategorizer(e){return vO(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:n,length:r}=this.doc.lineAt(e),o=this.charCategorizer(e),a=e-n,l=e-n;for(;a>0;){let h=ct(t,a,!1);if(o(t.slice(h,a))!=ze.Word)break;a=h}for(;l<r;){let h=ct(t,l);if(o(t.slice(l,h))!=ze.Word)break;l=h}return a==l?null:j.range(a+n,l+n)}}Oe.allowMultipleSelections=Ba;Oe.tabSize=G.define({combine:i=>i.length?i[0]:4});Oe.lineSeparator=yd;Oe.readOnly=xd;Oe.phrases=G.define({compare(i,e){let t=Object.keys(i),n=Object.keys(e);return t.length==n.length&&t.every(r=>i[r]==e[r])}});Oe.languageData=bd;Oe.changeFilter=vd;Oe.transactionFilter=kd;Oe.transactionExtender=wd;Dr.reconfigure=re.define();function pi(i,e,t={}){let n={};for(let r of i)for(let o of Object.keys(r)){let a=r[o],l=n[o];if(l===void 0)n[o]=a;else if(!(l===a||a===void 0))if(Object.hasOwnProperty.call(t,o))n[o]=t[o](l,a);else throw new Error("Config merge conflict for field "+o)}for(let r in e)n[r]===void 0&&(n[r]=e[r]);return n}class Vn{eq(e){return this==e}range(e,t=e){return Ua.create(e,t,this)}}Vn.prototype.startSide=Vn.prototype.endSide=0;Vn.prototype.point=!1;Vn.prototype.mapMode=_e.TrackDel;let Ua=class Qd{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new Qd(e,t,n)}};function Na(i,e){return i.from-e.from||i.value.startSide-e.value.startSide}class Nl{constructor(e,t,n,r){this.from=e,this.to=t,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,r=0){let o=n?this.to:this.from;for(let a=r,l=o.length;;){if(a==l)return a;let h=a+l>>1,d=o[h]-e||(n?this.value[h].endSide:this.value[h].startSide)-t;if(h==a)return d>=0?a:l;d>=0?l=h:a=h+1}}between(e,t,n,r){for(let o=this.findIndex(t,-1e9,!0),a=this.findIndex(n,1e9,!1,o);o<a;o++)if(r(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,t){let n=[],r=[],o=[],a=-1,l=-1;for(let h=0;h<this.value.length;h++){let d=this.value[h],f=this.from[h]+e,g=this.to[h]+e,y,v;if(f==g){let w=t.mapPos(f,d.startSide,d.mapMode);if(w==null||(y=v=w,d.startSide!=d.endSide&&(v=t.mapPos(f,d.endSide),v<y)))continue}else if(y=t.mapPos(f,d.startSide),v=t.mapPos(g,d.endSide),y>v||y==v&&d.startSide>0&&d.endSide<=0)continue;(v-y||d.endSide-d.startSide)<0||(a<0&&(a=y),d.point&&(l=Math.max(l,v-y)),n.push(d),r.push(y-a),o.push(v-a))}return{mapped:n.length?new Nl(r,o,n,l):null,pos:a}}}class be{constructor(e,t,n,r){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=r}static create(e,t,n,r){return new be(e,t,n,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:r=0,filterTo:o=this.length}=e,a=e.filter;if(t.length==0&&!a)return this;if(n&&(t=t.slice().sort(Na)),this.isEmpty)return t.length?be.of(t):this;let l=new Cd(this,null,-1).goto(0),h=0,d=[],f=new qn;for(;l.value||h<t.length;)if(h<t.length&&(l.from-t[h].from||l.startSide-t[h].value.startSide)>=0){let g=t[h++];f.addInner(g.from,g.to,g.value)||d.push(g)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(h==t.length||this.chunkEnd(l.chunkIndex)<t[h].from)&&(!a||r>this.chunkEnd(l.chunkIndex)||o<this.chunkPos[l.chunkIndex])&&f.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!a||r>l.to||o<l.from||a(l.from,l.to,l.value))&&(f.addInner(l.from,l.to,l.value)||d.push(Ua.create(l.from,l.to,l.value))),l.next());return f.finishInner(this.nextLayer.isEmpty&&!d.length?be.empty:this.nextLayer.update({add:d,filter:a,filterFrom:r,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],r=-1;for(let a=0;a<this.chunk.length;a++){let l=this.chunkPos[a],h=this.chunk[a],d=e.touchesRange(l,l+h.length);if(d===!1)r=Math.max(r,h.maxPoint),t.push(h),n.push(e.mapPos(l));else if(d===!0){let{mapped:f,pos:g}=h.map(l,e);f&&(r=Math.max(r,f.maxPoint),t.push(f),n.push(g))}}let o=this.nextLayer.map(e);return t.length==0?o:new be(n,t,o||be.empty,r)}between(e,t,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let o=this.chunkPos[r],a=this.chunk[r];if(t>=o&&e<=o+a.length&&a.between(o,e-o,t-o,n)===!1)return}this.nextLayer.between(e,t,n)}}iter(e=0){return vr.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return vr.from(e).goto(t)}static compare(e,t,n,r,o=-1){let a=e.filter(g=>g.maxPoint>0||!g.isEmpty&&g.maxPoint>=o),l=t.filter(g=>g.maxPoint>0||!g.isEmpty&&g.maxPoint>=o),h=lh(a,l,n),d=new Ji(a,h,o),f=new Ji(l,h,o);n.iterGaps((g,y,v)=>ch(d,g,f,y,v,r)),n.empty&&n.length==0&&ch(d,0,f,0,0,r)}static eq(e,t,n=0,r){r==null&&(r=1e9-1);let o=e.filter(f=>!f.isEmpty&&t.indexOf(f)<0),a=t.filter(f=>!f.isEmpty&&e.indexOf(f)<0);if(o.length!=a.length)return!1;if(!o.length)return!0;let l=lh(o,a),h=new Ji(o,l,0).goto(n),d=new Ji(a,l,0).goto(n);for(;;){if(h.to!=d.to||!La(h.active,d.active)||h.point&&(!d.point||!h.point.eq(d.point)))return!1;if(h.to>r)return!0;h.next(),d.next()}}static spans(e,t,n,r,o=-1){let a=new Ji(e,null,o).goto(t),l=t,h=a.openStart;for(;;){let d=Math.min(a.to,n);if(a.point){let f=a.activeForPoint(a.to),g=a.pointFrom<t?f.length+1:Math.min(f.length,h);r.point(l,d,a.point,f,g,a.pointRank),h=Math.min(a.openEnd(d),f.length)}else d>l&&(r.span(l,d,a.active,h),h=a.openEnd(d));if(a.to>n)return h+(a.point&&a.to>n?1:0);l=a.to,a.next()}}static of(e,t=!1){let n=new qn;for(let r of e instanceof Ua?[e]:t?kO(e):e)n.add(r.from,r.to,r.value);return n.finish()}static join(e){if(!e.length)return be.empty;let t=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let r=e[n];r!=be.empty;r=r.nextLayer)t=new be(r.chunkPos,r.chunk,t,Math.max(r.maxPoint,t.maxPoint));return t}}be.empty=new be([],[],null,-1);function kO(i){if(i.length>1)for(let e=i[0],t=1;t<i.length;t++){let n=i[t];if(Na(e,n)>0)return i.slice().sort(Na);e=n}return i}be.empty.nextLayer=be.empty;class qn{finishChunk(e){this.chunks.push(new Nl(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new qn)).add(e,t,n)}addInner(e,t,n){let r=e-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(be.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=be.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function lh(i,e,t){let n=new Map;for(let o of i)for(let a=0;a<o.chunk.length;a++)o.chunk[a].maxPoint<=0&&n.set(o.chunk[a],o.chunkPos[a]);let r=new Set;for(let o of e)for(let a=0;a<o.chunk.length;a++){let l=n.get(o.chunk[a]);l!=null&&(t?t.mapPos(l):l)==o.chunkPos[a]&&!t?.touchesRange(l,l+o.chunk[a].length)&&r.add(o.chunk[a])}return r}class Cd{constructor(e,t,n,r=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class vr{constructor(e){this.heap=e}static from(e,t=null,n=-1){let r=[];for(let o=0;o<e.length;o++)for(let a=e[o];!a.isEmpty;a=a.nextLayer)a.maxPoint>=n&&r.push(new Cd(a,t,n,o));return r.length==1?r[0]:new vr(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let n=this.heap.length>>1;n>=0;n--)Ks(this.heap,n);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let n=this.heap.length>>1;n>=0;n--)Ks(this.heap,n);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Ks(this.heap,0)}}}function Ks(i,e){for(let t=i[e];;){let n=(e<<1)+1;if(n>=i.length)break;let r=i[n];if(n+1<i.length&&r.compare(i[n+1])>=0&&(r=i[n+1],n++),t.compare(r)<0)break;i[n]=t,i[e]=r,e=n}}class Ji{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=vr.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Gr(this.active,e),Gr(this.activeTo,e),Gr(this.activeRank,e),this.minActive=hh(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:r,rank:o}=this.cursor;for(;t<this.activeRank.length&&(o-this.activeRank[t]||r-this.activeTo[t])>0;)t++;Hr(this.active,t,n),Hr(this.activeTo,t,r),Hr(this.activeRank,t,o),e&&Hr(e,t,this.cursor.from),this.minActive=hh(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&Gr(n,r)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(n),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let r=n.length-1;r>=0&&n[r]<e;r--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function ch(i,e,t,n,r,o){i.goto(e),t.goto(n);let a=n+r,l=n,h=n-e;for(;;){let d=i.to+h-t.to||i.endSide-t.endSide,f=d<0?i.to+h:t.to,g=Math.min(f,a);if(i.point||t.point?i.point&&t.point&&(i.point==t.point||i.point.eq(t.point))&&La(i.activeForPoint(i.to),t.activeForPoint(t.to))||o.comparePoint(l,g,i.point,t.point):g>l&&!La(i.active,t.active)&&o.compareRange(l,g,i.active,t.active),f>a)break;l=f,d<=0&&i.next(),d>=0&&t.next()}}function La(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!=e[t]&&!i[t].eq(e[t]))return!1;return!0}function Gr(i,e){for(let t=e,n=i.length-1;t<n;t++)i[t]=i[t+1];i.pop()}function Hr(i,e,t){for(let n=i.length-1;n>=e;n--)i[n+1]=i[n];i[e]=t}function hh(i,e){let t=-1,n=1e9;for(let r=0;r<e.length;r++)(e[r]-n||i[r].endSide-i[t].endSide)<0&&(t=r,n=e[r]);return t}function $s(i,e,t=i.length){let n=0;for(let r=0;r<t;)i.charCodeAt(r)==9?(n+=e-n%e,r++):(n++,r=ct(i,r));return n}function wO(i,e,t,n){for(let r=0,o=0;;){if(o>=e)return r;if(r==i.length)break;o+=i.charCodeAt(r)==9?t-o%t:1,r=ct(i,r)}return n===!0?-1:i.length}const Za="ͼ",uh=typeof Symbol>"u"?"__"+Za:Symbol.for(Za),Ea=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};let ji=class{constructor(e,t){this.rules=[];let{finish:n}=t||{};function r(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function o(a,l,h,d){let f=[],g=/^@(\w+)\b/.exec(a[0]),y=g&&g[1]=="keyframes";if(g&&l==null)return h.push(a[0]+";");for(let v in l){let w=l[v];if(/&/.test(v))o(v.split(/,\s*/).map(C=>a.map($=>C.replace(/&/,$))).reduce((C,$)=>C.concat($)),w,h);else if(w&&typeof w=="object"){if(!g)throw new RangeError("The value of a property ("+v+") should be a primitive value.");o(r(v),w,f,y)}else w!=null&&f.push(v.replace(/_.*/,"").replace(/[A-Z]/g,C=>"-"+C.toLowerCase())+": "+w+";")}(f.length||y)&&h.push((n&&!g&&!d?a.map(n):a).join(", ")+" {"+f.join(" ")+"}")}for(let a in e)o(r(a),e[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=dh[uh]||1;return dh[uh]=e+1,Za+e.toString(36)}static mount(e,t,n){let r=e[Ea],o=n&&n.nonce;r?o&&r.setNonce(o):r=new xO(e,o),r.mount(Array.isArray(t)?t:[t])}},fh=new Map,xO=class{constructor(e,t){let n=e.ownerDocument||e,r=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let o=fh.get(n);if(o)return e.adoptedStyleSheets=[o.sheet,...e.adoptedStyleSheets],e[Ea]=o;this.sheet=new r.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],fh.set(n,this)}else{this.styleTag=n.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);let o=e.head||e;o.insertBefore(this.styleTag,o.firstChild)}this.modules=[],e[Ea]=this}mount(e){let t=this.sheet,n=0,r=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<r&&l>-1&&(this.modules.splice(l,1),r--,l=-1),l==-1){if(this.modules.splice(r++,0,a),t)for(let h=0;h<a.rules.length;h++)t.insertRule(a.rules[h],n++)}else{for(;r<l;)n+=this.modules[r++].rules.length;n+=a.rules.length,r++}}if(!t){let o="";for(let a=0;a<this.modules.length;a++)o+=this.modules[a].getRules()+`
`;this.styleTag.textContent=o}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}};var Yn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},kr={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},ph=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),SO=typeof navigator<"u"&&/Mac/.test(navigator.platform),PO=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),QO=SO||ph&&+ph[1]<57;for(var lt=0;lt<10;lt++)Yn[48+lt]=Yn[96+lt]=String(lt);for(var lt=1;lt<=24;lt++)Yn[lt+111]="F"+lt;for(var lt=65;lt<=90;lt++)Yn[lt]=String.fromCharCode(lt+32),kr[lt]=String.fromCharCode(lt);for(var Js in Yn)kr.hasOwnProperty(Js)||(kr[Js]=Yn[Js]);function CO(i){var e=QO&&(i.ctrlKey||i.altKey||i.metaKey)||PO&&i.shiftKey&&i.key&&i.key.length==1||i.key=="Unidentified",t=!e&&i.key||(i.shiftKey?kr:Yn)[i.keyCode]||i.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Lo(i){let e;return i.nodeType==11?e=i.getSelection?i:i.ownerDocument:e=i,e.getSelection()}function Wa(i,e){return e?i==e||i.contains(e.nodeType!=1?e.parentNode:e):!1}function $O(i){let e=i.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function xo(i,e){if(!e.anchorNode)return!1;try{return Wa(i,e.anchorNode)}catch{return!1}}function wr(i){return i.nodeType==3?di(i,0,i.nodeValue.length).getClientRects():i.nodeType==1?i.getClientRects():[]}function mr(i,e,t,n){return t?mh(i,e,t,n,-1)||mh(i,e,t,n,1):!1}function xr(i){for(var e=0;;e++)if(i=i.previousSibling,!i)return e}function mh(i,e,t,n,r){for(;;){if(i==t&&e==n)return!0;if(e==(r<0?0:Pn(i))){if(i.nodeName=="DIV")return!1;let o=i.parentNode;if(!o||o.nodeType!=1)return!1;e=xr(i)+(r<0?0:1),i=o}else if(i.nodeType==1){if(i=i.childNodes[e+(r<0?-1:0)],i.nodeType==1&&i.contentEditable=="false")return!1;e=r<0?Pn(i):0}else return!1}}function Pn(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function Ll(i,e){let t=e?i.left:i.right;return{left:t,right:t,top:i.top,bottom:i.bottom}}function AO(i){return{left:0,right:i.innerWidth,top:0,bottom:i.innerHeight}}function $d(i,e){let t=e.width/i.offsetWidth,n=e.height/i.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-i.offsetWidth)<1)&&(t=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.height-i.offsetHeight)<1)&&(n=1),{scaleX:t,scaleY:n}}function TO(i,e,t,n,r,o,a,l){let h=i.ownerDocument,d=h.defaultView||window;for(let f=i,g=!1;f&&!g;)if(f.nodeType==1){let y,v=f==h.body,w=1,C=1;if(v)y=AO(d);else{if(/^(fixed|sticky)$/.test(getComputedStyle(f).position)&&(g=!0),f.scrollHeight<=f.clientHeight&&f.scrollWidth<=f.clientWidth){f=f.assignedSlot||f.parentNode;continue}let Z=f.getBoundingClientRect();({scaleX:w,scaleY:C}=$d(f,Z)),y={left:Z.left,right:Z.left+f.clientWidth*w,top:Z.top,bottom:Z.top+f.clientHeight*C}}let $=0,M=0;if(r=="nearest")e.top<y.top?(M=-(y.top-e.top+a),t>0&&e.bottom>y.bottom+M&&(M=e.bottom-y.bottom+M+a)):e.bottom>y.bottom&&(M=e.bottom-y.bottom+a,t<0&&e.top-M<y.top&&(M=-(y.top+M-e.top+a)));else{let Z=e.bottom-e.top,W=y.bottom-y.top;M=(r=="center"&&Z<=W?e.top+Z/2-W/2:r=="start"||r=="center"&&t<0?e.top-a:e.bottom-W+a)-y.top}if(n=="nearest"?e.left<y.left?($=-(y.left-e.left+o),t>0&&e.right>y.right+$&&($=e.right-y.right+$+o)):e.right>y.right&&($=e.right-y.right+o,t<0&&e.left<y.left+$&&($=-(y.left+$-e.left+o))):$=(n=="center"?e.left+(e.right-e.left)/2-(y.right-y.left)/2:n=="start"==l?e.left-o:e.right-(y.right-y.left)+o)-y.left,$||M)if(v)d.scrollBy($,M);else{let Z=0,W=0;if(M){let N=f.scrollTop;f.scrollTop+=M/C,W=(f.scrollTop-N)*C}if($){let N=f.scrollLeft;f.scrollLeft+=$/w,Z=(f.scrollLeft-N)*w}e={left:e.left-Z,top:e.top-W,right:e.right-Z,bottom:e.bottom-W},Z&&Math.abs(Z-$)<1&&(n="nearest"),W&&Math.abs(W-M)<1&&(r="nearest")}if(v)break;f=f.assignedSlot||f.parentNode}else if(f.nodeType==11)f=f.host;else break}function MO(i){let e=i.ownerDocument;for(let t=i.parentNode;t&&t!=e.body;)if(t.nodeType==1){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)return t;t=t.assignedSlot||t.parentNode}else if(t.nodeType==11)t=t.host;else break;return null}class DO{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:n}=e;this.set(t,Math.min(e.anchorOffset,t?Pn(t):0),n,Math.min(e.focusOffset,n?Pn(n):0))}set(e,t,n,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=r}}let bi=null;function Ad(i){if(i.setActive)return i.setActive();if(bi)return i.focus(bi);let e=[];for(let t=i;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(i.focus(bi==null?{get preventScroll(){return bi={preventScroll:!0},!0}}:void 0),!bi){bi=!1;for(let t=0;t<e.length;){let n=e[t++],r=e[t++],o=e[t++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=o&&(n.scrollLeft=o)}}}let gh;function di(i,e,t=e){let n=gh||(gh=document.createRange());return n.setEnd(i,t),n.setStart(i,e),n}function Ci(i,e,t){let n={key:e,code:e,keyCode:t,which:t,cancelable:!0},r=new KeyboardEvent("keydown",n);r.synthetic=!0,i.dispatchEvent(r);let o=new KeyboardEvent("keyup",n);return o.synthetic=!0,i.dispatchEvent(o),r.defaultPrevented||o.defaultPrevented}function BO(i){for(;i;){if(i&&(i.nodeType==9||i.nodeType==11&&i.host))return i;i=i.assignedSlot||i.parentNode}return null}function Td(i){for(;i.attributes.length;)i.removeAttributeNode(i.attributes[0])}function RO(i,e){let t=e.focusNode,n=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=n)return!1;for(n=Math.min(n,Pn(t));;)if(n){if(t.nodeType!=1)return!1;let r=t.childNodes[n-1];r.contentEditable=="false"?n--:(t=r,n=Pn(t))}else{if(t==i)return!0;n=xr(t),t=t.parentNode}}function Md(i){return i.scrollTop>Math.max(1,i.scrollHeight-i.clientHeight-4)}class Ot{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new Ot(e.parentNode,xr(e),t)}static after(e,t){return new Ot(e.parentNode,xr(e)+1,t)}}const Zl=[];class Ee{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let n=this.dom,r=null,o;for(let a of this.children){if(a.flags&7){if(!a.dom&&(o=r?r.nextSibling:n.firstChild)){let l=Ee.get(o);(!l||!l.parent&&l.canReuseDOM(a))&&a.reuseDOM(o)}a.sync(e,t),a.flags&=-8}if(o=r?r.nextSibling:n.firstChild,t&&!t.written&&t.node==n&&o!=a.dom&&(t.written=!0),a.dom.parentNode==n)for(;o&&o!=a.dom;)o=Oh(o);else n.insertBefore(a.dom,o);r=a.dom}for(o=r?r.nextSibling:n.firstChild,o&&t&&t.node==n&&(t.written=!0);o;)o=Oh(o)}else if(this.flags&1)for(let n of this.children)n.flags&7&&(n.sync(e,t),n.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let r=Pn(e)==0?0:t==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;r==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?r=-1:r=1),e=o}r<0?n=e:n=e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!Ee.get(n);)n=n.nextSibling;if(!n)return this.length;for(let r=0,o=0;;r++){let a=this.children[r];if(a.dom==n)return o;o+=a.length+a.breakAfter}}domBoundsAround(e,t,n=0){let r=-1,o=-1,a=-1,l=-1;for(let h=0,d=n,f=n;h<this.children.length;h++){let g=this.children[h],y=d+g.length;if(d<e&&y>t)return g.domBoundsAround(e,t,d);if(y>=e&&r==-1&&(r=h,o=d),d>t&&g.dom.parentNode==this.dom){a=h,l=f;break}f=y,d=y+g.breakAfter}return{from:o,to:l<0?n+this.length:l,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=Zl){this.markDirty();for(let r=e;r<t;r++){let o=this.children[r];o.parent==this&&n.indexOf(o)<0&&o.destroy()}this.children.splice(e,t-e,...n);for(let r=0;r<n.length;r++)n[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Dd(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,n,r,o,a){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Ee.prototype.breakAfter=0;function Oh(i){let e=i.nextSibling;return i.parentNode.removeChild(i),e}class Dd{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function Bd(i,e,t,n,r,o,a,l,h){let{children:d}=i,f=d.length?d[e]:null,g=o.length?o[o.length-1]:null,y=g?g.breakAfter:a;if(!(e==n&&f&&!a&&!y&&o.length<2&&f.merge(t,r,o.length?g:null,t==0,l,h))){if(n<d.length){let v=d[n];v&&(r<v.length||v.breakAfter&&g?.breakAfter)?(e==n&&(v=v.split(r),r=0),!y&&g&&v.merge(0,r,g,!0,0,h)?o[o.length-1]=v:((r||v.children.length&&!v.children[0].length)&&v.merge(0,r,null,!1,0,h),o.push(v))):v?.breakAfter&&(g?g.breakAfter=1:a=1),n++}for(f&&(f.breakAfter=a,t>0&&(!a&&o.length&&f.merge(t,f.length,o[0],!1,l,0)?f.breakAfter=o.shift().breakAfter:(t<f.length||f.children.length&&f.children[f.children.length-1].length==0)&&f.merge(t,f.length,null,!1,l,0),e++));e<n&&o.length;)if(d[n-1].become(o[o.length-1]))n--,o.pop(),h=o.length?0:l;else if(d[e].become(o[0]))e++,o.shift(),l=o.length?0:h;else break;!o.length&&e&&n<d.length&&!d[e-1].breakAfter&&d[n].merge(0,0,d[e-1],!1,l,h)&&e--,(e<n||o.length)&&i.replaceChildren(e,n,o)}}function Rd(i,e,t,n,r,o){let a=i.childCursor(),{i:l,off:h}=a.findPos(t,1),{i:d,off:f}=a.findPos(e,-1),g=e-t;for(let y of n)g+=y.length;i.length+=g,Bd(i,d,f,l,h,n,0,r,o)}let jt=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Xa=typeof document<"u"?document:{documentElement:{style:{}}};const Ia=/Edge\/(\d+)/.exec(jt.userAgent),jd=/MSIE \d/.test(jt.userAgent),Fa=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(jt.userAgent),As=!!(jd||Fa||Ia),bh=!As&&/gecko\/(\d+)/i.test(jt.userAgent),ea=!As&&/Chrome\/(\d+)/.exec(jt.userAgent),yh="webkitFontSmoothing"in Xa.documentElement.style,Ud=!As&&/Apple Computer/.test(jt.vendor),vh=Ud&&(/Mobile\/\w+/.test(jt.userAgent)||jt.maxTouchPoints>2);var z={mac:vh||/Mac/.test(jt.platform),windows:/Win/.test(jt.platform),linux:/Linux|X11/.test(jt.platform),ie:As,ie_version:jd?Xa.documentMode||6:Fa?+Fa[1]:Ia?+Ia[1]:0,gecko:bh,gecko_version:bh?+(/Firefox\/(\d+)/.exec(jt.userAgent)||[0,0])[1]:0,chrome:!!ea,chrome_version:ea?+ea[1]:0,ios:vh,android:/Android\b/.test(jt.userAgent),webkit:yh,safari:Ud,webkit_version:yh?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Xa.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const jO=256;class Qn extends Ee{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,n){return this.flags&8||n&&(!(n instanceof Qn)||this.length-(t-e)+n.length>jO||n.flags&8)?!1:(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Qn(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Ot(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return UO(this.dom,e,t)}}class Cn extends Ee{constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let r of t)r.setParent(this)}setAttrs(e){if(Td(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,n,r,o,a){return n&&(!(n instanceof Cn&&n.mark.eq(this.mark))||e&&o<=0||t<this.length&&a<=0)?!1:(Rd(this,e,t,n?n.children.slice():[],o-1,a-1),this.markDirty(),!0)}split(e){let t=[],n=0,r=-1,o=0;for(let l of this.children){let h=n+l.length;h>e&&t.push(n<e?l.split(e-n):l),r<0&&n>=e&&(r=o),n=h,o++}let a=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new Cn(this.mark,t,a)}domAtPos(e){return Nd(this,e)}coordsAt(e,t){return Zd(this,e,t)}}function UO(i,e,t){let n=i.nodeValue.length;e>n&&(e=n);let r=e,o=e,a=0;e==0&&t<0||e==n&&t>=0?z.chrome||z.gecko||(e?(r--,a=1):o<n&&(o++,a=-1)):t<0?r--:o<n&&o++;let l=di(i,r,o).getClientRects();if(!l.length)return null;let h=l[(a?a<0:t>=0)?0:l.length-1];return z.safari&&!a&&h.width==0&&(h=Array.prototype.find.call(l,d=>d.width)||h),a?Ll(h,a<0):h||null}class Ln extends Ee{static create(e,t,n){return new Ln(e,t,n)}constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}split(e){let t=Ln.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,n,r,o,a){return n&&(!(n instanceof Ln)||!this.widget.compare(n.widget)||e>0&&o<=0||t<this.length&&a<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}become(e){return e instanceof Ln&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return ge.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,n=t&&t.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):ge.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Ot.before(this.dom):Ot.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);if(n)return n;let r=this.dom.getClientRects(),o=null;if(!r.length)return null;let a=this.side?this.side<0:e>0;for(let l=a?r.length-1:0;o=r[l],!(e>0?l==0:l==r.length-1||o.top<o.bottom);l+=a?-1:1);return Ll(o,!a)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Ui extends Ee{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Ui&&e.side==this.side}split(){return new Ui(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Ot.before(this.dom):Ot.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return ge.empty}get isHidden(){return!0}}Qn.prototype.children=Ln.prototype.children=Ui.prototype.children=Zl;function Nd(i,e){let t=i.dom,{children:n}=i,r=0;for(let o=0;r<n.length;r++){let a=n[r],l=o+a.length;if(!(l==o&&a.getSide()<=0)){if(e>o&&e<l&&a.dom.parentNode==t)return a.domAtPos(e-o);if(e<=o)break;o=l}}for(let o=r;o>0;o--){let a=n[o-1];if(a.dom.parentNode==t)return a.domAtPos(a.length)}for(let o=r;o<n.length;o++){let a=n[o];if(a.dom.parentNode==t)return a.domAtPos(0)}return new Ot(t,0)}function Ld(i,e,t){let n,{children:r}=i;t>0&&e instanceof Cn&&r.length&&(n=r[r.length-1])instanceof Cn&&n.mark.eq(e.mark)?Ld(n,e.children[0],t-1):(r.push(e),e.setParent(i)),i.length+=e.length}function Zd(i,e,t){let n=null,r=-1,o=null,a=-1;function l(d,f){for(let g=0,y=0;g<d.children.length&&y<=f;g++){let v=d.children[g],w=y+v.length;w>=f&&(v.children.length?l(v,f-y):(!o||o.isHidden&&t>0)&&(w>f||y==w&&v.getSide()>0)?(o=v,a=f-y):(y<f||y==w&&v.getSide()<0&&!v.isHidden)&&(n=v,r=f-y)),y=w}}l(i,e);let h=(t<0?n:o)||n||o;return h?h.coordsAt(Math.max(0,h==n?r:a),t):NO(i)}function NO(i){let e=i.dom.lastChild;if(!e)return i.dom.getBoundingClientRect();let t=wr(e);return t[t.length-1]||null}function Va(i,e){for(let t in i)t=="class"&&e.class?e.class+=" "+i.class:t=="style"&&e.style?e.style+=";"+i.style:e[t]=i[t];return e}const kh=Object.create(null);function El(i,e,t){if(i==e)return!0;i||(i=kh),e||(e=kh);let n=Object.keys(i),r=Object.keys(e);if(n.length-(t&&n.indexOf(t)>-1?1:0)!=r.length-(t&&r.indexOf(t)>-1?1:0))return!1;for(let o of n)if(o!=t&&(r.indexOf(o)==-1||i[o]!==e[o]))return!1;return!0}function qa(i,e,t){let n=!1;if(e)for(let r in e)t&&r in t||(n=!0,r=="style"?i.style.cssText="":i.removeAttribute(r));if(t)for(let r in t)e&&e[r]==t[r]||(n=!0,r=="style"?i.style.cssText=t[r]:i.setAttribute(r,t[r]));return n}function LO(i){let e=Object.create(null);for(let t=0;t<i.attributes.length;t++){let n=i.attributes[t];e[n.name]=n.value}return e}class Je extends Ee{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,r,o,a){if(n){if(!(n instanceof Je))return!1;this.dom||n.transferDOM(this)}return r&&this.setDeco(n?n.attrs:null),Rd(this,e,t,n?n.children.slice():[],o,a),!0}split(e){let t=new Je;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:n,off:r}=this.childPos(e);r&&(t.append(this.children[n].split(r),0),this.children[n].merge(r,this.children[n].length,null,!1,0,0),n++);for(let o=n;o<this.children.length;o++)t.append(this.children[o],0);for(;n>0&&this.children[n-1].length==0;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){El(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){Ld(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=Va(t,this.attrs||{})),n&&(this.attrs=Va({class:n},this.attrs||{}))}domAtPos(e){return Nd(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var n;this.dom?this.flags&4&&(Td(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(qa(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let r=this.dom.lastChild;for(;r&&Ee.get(r)instanceof Cn;)r=r.lastChild;if(!r||!this.length||r.nodeName!="BR"&&((n=Ee.get(r))===null||n===void 0?void 0:n.isEditable)==!1&&(!z.ios||!this.children.some(o=>o instanceof Qn))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let n of this.children){if(!(n instanceof Qn)||/[^ -~]/.test(n.text))return null;let r=wr(n.dom);if(r.length!=1)return null;e+=r[0].width,t=r[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let n=Zd(this,e,t);if(!this.children.length&&n&&this.parent){let{heightOracle:r}=this.parent.view.viewState,o=n.bottom-n.top;if(Math.abs(o-r.lineHeight)<2&&r.textHeight<o){let a=(o-r.textHeight)/2;return{top:n.top+a,bottom:n.bottom-a,left:n.left,right:n.left}}}return n}become(e){return!1}covers(){return!0}static find(e,t){for(let n=0,r=0;n<e.children.length;n++){let o=e.children[n],a=r+o.length;if(a>=t){if(o instanceof Je)return o;if(a>t)break}r=a+o.breakAfter}return null}}class Xn extends Ee{constructor(e,t,n){super(),this.widget=e,this.length=t,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,r,o,a){return n&&(!(n instanceof Xn)||!this.widget.compare(n.widget)||e>0&&o<=0||t<this.length&&a<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Ot.before(this.dom):Ot.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new Xn(this.widget,t,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return Zl}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):ge.empty}domBoundsAround(){return null}become(e){return e instanceof Xn&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:n}=this.deco;return t==n?!1:e<0?t<0:n>0}}class ei{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var xt=function(i){return i[i.Text=0]="Text",i[i.WidgetBefore=1]="WidgetBefore",i[i.WidgetAfter=2]="WidgetAfter",i[i.WidgetRange=3]="WidgetRange",i}(xt||(xt={}));class ne extends Vn{constructor(e,t,n,r){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(e){return new Br(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new _n(e,t,t,n,e.widget||null,!1)}static replace(e){let t=!!e.block,n,r;if(e.isBlockGap)n=-5e8,r=4e8;else{let{start:o,end:a}=Ed(e,t);n=(o?t?-3e8:-1:5e8)-1,r=(a?t?2e8:1:-6e8)+1}return new _n(e,n,r,t,e.widget||null,!0)}static line(e){return new Rr(e)}static set(e,t=!1){return be.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ne.none=be.empty;class Br extends ne{constructor(e){let{start:t,end:n}=Ed(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,n;return this==e||e instanceof Br&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((n=e.attrs)===null||n===void 0?void 0:n.class))&&El(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Br.prototype.point=!1;class Rr extends ne{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Rr&&this.spec.class==e.spec.class&&El(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Rr.prototype.mapMode=_e.TrackBefore;Rr.prototype.point=!0;class _n extends ne{constructor(e,t,n,r,o,a){super(t,n,o,e),this.block=r,this.isReplace=a,this.mapMode=r?t<=0?_e.TrackBefore:_e.TrackAfter:_e.TrackDel}get type(){return this.startSide!=this.endSide?xt.WidgetRange:this.startSide<=0?xt.WidgetBefore:xt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof _n&&ZO(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}_n.prototype.point=!0;function Ed(i,e=!1){let{inclusiveStart:t,inclusiveEnd:n}=i;return t==null&&(t=i.inclusive),n==null&&(n=i.inclusive),{start:t??e,end:n??e}}function ZO(i,e){return i==e||!!(i&&e&&i.compare(e))}function Ya(i,e,t,n=0){let r=t.length-1;r>=0&&t[r]+n>=i?t[r]=Math.max(t[r],e):t.push(i,e)}class gr{constructor(e,t,n,r){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Xn&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Je),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Kr(new Ui(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Xn)&&this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:a,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(Kr(new Qn(this.text.slice(this.textOff,this.textOff+r)),t),n),this.atCursorPos=!0,this.textOff+=r,e-=r,n=0}}span(e,t,n,r){this.buildText(t-e,n,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,n,r,o,a){if(this.disallowBlockEffectsFor[a]&&n instanceof _n){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=t-e;if(n instanceof _n)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Xn(n.widget||new wh("div"),l,n));else{let h=Ln.create(n.widget||new wh("span"),l,l?0:n.startSide),d=this.atCursorPos&&!h.isEditable&&o<=r.length&&(e<t||n.startSide>0),f=!h.isEditable&&(e<t||o>r.length||n.startSide<=0),g=this.getLine();this.pendingBuffer==2&&!d&&!h.isEditable&&(this.pendingBuffer=0),this.flushBuffer(r),d&&(g.append(Kr(new Ui(1),r),o),o=r.length+Math.max(0,o-r.length)),g.append(Kr(h,r),o),this.atCursorPos=f,this.pendingBuffer=f?e<t||o>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,n,r,o){let a=new gr(e,t,n,o);return a.openEnd=be.spans(r,t,n,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function Kr(i,e){for(let t of e)i=new Cn(t,[i],i.length);return i}class wh extends ei{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}var Se=function(i){return i[i.LTR=0]="LTR",i[i.RTL=1]="RTL",i}(Se||(Se={}));const fi=Se.LTR,Wl=Se.RTL;function Wd(i){let e=[];for(let t=0;t<i.length;t++)e.push(1<<+i[t]);return e}const EO=Wd("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),WO=Wd("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),_a=Object.create(null),on=[];for(let i of["()","[]","{}"]){let e=i.charCodeAt(0),t=i.charCodeAt(1);_a[e]=t,_a[t]=-e}function Xd(i){return i<=247?EO[i]:1424<=i&&i<=1524?2:1536<=i&&i<=1785?WO[i-1536]:1774<=i&&i<=2220?4:8192<=i&&i<=8204?256:64336<=i&&i<=65023?4:1}const XO=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Zn{get dir(){return this.level%2?Wl:fi}constructor(e,t,n){this.from=e,this.to=t,this.level=n}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,n,r){let o=-1;for(let a=0;a<e.length;a++){let l=e[a];if(l.from<=t&&l.to>=t){if(l.level==n)return a;(o<0||(r!=0?r<0?l.from<t:l.to>t:e[o].level>l.level))&&(o=a)}}if(o<0)throw new RangeError("Index out of range");return o}}function Id(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++){let n=i[t],r=e[t];if(n.from!=r.from||n.to!=r.to||n.direction!=r.direction||!Id(n.inner,r.inner))return!1}return!0}const xe=[];function IO(i,e,t,n,r){for(let o=0;o<=n.length;o++){let a=o?n[o-1].to:e,l=o<n.length?n[o].from:t,h=o?256:r;for(let d=a,f=h,g=h;d<l;d++){let y=Xd(i.charCodeAt(d));y==512?y=f:y==8&&g==4&&(y=16),xe[d]=y==4?2:y,y&7&&(g=y),f=y}for(let d=a,f=h,g=h;d<l;d++){let y=xe[d];if(y==128)d<l-1&&f==xe[d+1]&&f&24?y=xe[d]=f:xe[d]=256;else if(y==64){let v=d+1;for(;v<l&&xe[v]==64;)v++;let w=d&&f==8||v<t&&xe[v]==8?g==1?1:8:256;for(let C=d;C<v;C++)xe[C]=w;d=v-1}else y==8&&g==1&&(xe[d]=1);f=y,y&7&&(g=y)}}}function FO(i,e,t,n,r){let o=r==1?2:1;for(let a=0,l=0,h=0;a<=n.length;a++){let d=a?n[a-1].to:e,f=a<n.length?n[a].from:t;for(let g=d,y,v,w;g<f;g++)if(v=_a[y=i.charCodeAt(g)])if(v<0){for(let C=l-3;C>=0;C-=3)if(on[C+1]==-v){let $=on[C+2],M=$&2?r:$&4?$&1?o:r:0;M&&(xe[g]=xe[on[C]]=M),l=C;break}}else{if(on.length==189)break;on[l++]=g,on[l++]=y,on[l++]=h}else if((w=xe[g])==2||w==1){let C=w==r;h=C?0:1;for(let $=l-3;$>=0;$-=3){let M=on[$+2];if(M&2)break;if(C)on[$+2]|=2;else{if(M&4)break;on[$+2]|=4}}}}}function VO(i,e,t,n){for(let r=0,o=n;r<=t.length;r++){let a=r?t[r-1].to:i,l=r<t.length?t[r].from:e;for(let h=a;h<l;){let d=xe[h];if(d==256){let f=h+1;for(;;)if(f==l){if(r==t.length)break;f=t[r++].to,l=r<t.length?t[r].from:e}else if(xe[f]==256)f++;else break;let g=o==1,y=(f<e?xe[f]:n)==1,v=g==y?g?1:2:n;for(let w=f,C=r,$=C?t[C-1].to:i;w>h;)w==$&&(w=t[--C].from,$=C?t[C-1].to:i),xe[--w]=v;h=f}else o=d,h++}}}function za(i,e,t,n,r,o,a){let l=n%2?2:1;if(n%2==r%2)for(let h=e,d=0;h<t;){let f=!0,g=!1;if(d==o.length||h<o[d].from){let C=xe[h];C!=l&&(f=!1,g=C==16)}let y=!f&&l==1?[]:null,v=f?n:n+1,w=h;e:for(;;)if(d<o.length&&w==o[d].from){if(g)break e;let C=o[d];if(!f)for(let $=C.to,M=d+1;;){if($==t)break e;if(M<o.length&&o[M].from==$)$=o[M++].to;else{if(xe[$]==l)break e;break}}if(d++,y)y.push(C);else{C.from>h&&a.push(new Zn(h,C.from,v));let $=C.direction==fi!=!(v%2);Ga(i,$?n+1:n,r,C.inner,C.from,C.to,a),h=C.to}w=C.to}else{if(w==t||(f?xe[w]!=l:xe[w]==l))break;w++}y?za(i,h,w,n+1,r,y,a):h<w&&a.push(new Zn(h,w,v)),h=w}else for(let h=t,d=o.length;h>e;){let f=!0,g=!1;if(!d||h>o[d-1].to){let C=xe[h-1];C!=l&&(f=!1,g=C==16)}let y=!f&&l==1?[]:null,v=f?n:n+1,w=h;e:for(;;)if(d&&w==o[d-1].to){if(g)break e;let C=o[--d];if(!f)for(let $=C.from,M=d;;){if($==e)break e;if(M&&o[M-1].to==$)$=o[--M].from;else{if(xe[$-1]==l)break e;break}}if(y)y.push(C);else{C.to<h&&a.push(new Zn(C.to,h,v));let $=C.direction==fi!=!(v%2);Ga(i,$?n+1:n,r,C.inner,C.from,C.to,a),h=C.from}w=C.from}else{if(w==e||(f?xe[w-1]!=l:xe[w-1]==l))break;w--}y?za(i,w,h,n+1,r,y,a):w<h&&a.push(new Zn(w,h,v)),h=w}}function Ga(i,e,t,n,r,o,a){let l=e%2?2:1;IO(i,r,o,n,l),FO(i,r,o,n,l),VO(r,o,n,l),za(i,r,o,e,t,n,a)}function qO(i,e,t){if(!i)return[new Zn(0,0,e==Wl?1:0)];if(e==fi&&!t.length&&!XO.test(i))return Fd(i.length);if(t.length)for(;i.length>xe.length;)xe[xe.length]=256;let n=[],r=e==fi?0:1;return Ga(i,r,r,t,0,i.length,n),n}function Fd(i){return[new Zn(0,i,0)]}let Vd="";function YO(i,e,t,n,r){var o;let a=n.head-i.from,l=Zn.find(e,a,(o=n.bidiLevel)!==null&&o!==void 0?o:-1,n.assoc),h=e[l],d=h.side(r,t);if(a==d){let y=l+=r?1:-1;if(y<0||y>=e.length)return null;h=e[l=y],a=h.side(!r,t),d=h.side(r,t)}let f=ct(i.text,a,h.forward(r,t));(f<h.from||f>h.to)&&(f=d),Vd=i.text.slice(Math.min(a,f),Math.max(a,f));let g=l==(r?e.length-1:0)?null:e[l+(r?1:-1)];return g&&f==d&&g.level+(r?0:1)<h.level?j.cursor(g.side(!r,t)+i.from,g.forward(r,t)?1:-1,g.level):j.cursor(f+i.from,h.forward(r,t)?-1:1,h.level)}function _O(i,e,t){for(let n=e;n<t;n++){let r=Xd(i.charCodeAt(n));if(r==1)return fi;if(r==2||r==4)return Wl}return fi}const qd=G.define(),Yd=G.define(),_d=G.define(),zd=G.define(),Ha=G.define(),Gd=G.define(),Hd=G.define(),Kd=G.define({combine:i=>i.some(e=>e)}),Jd=G.define({combine:i=>i.some(e=>e)});class $i{constructor(e,t="nearest",n="nearest",r=5,o=5,a=!1){this.range=e,this.y=t,this.x=n,this.yMargin=r,this.xMargin=o,this.isSnapshot=a}map(e){return e.empty?this:new $i(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new $i(j.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Jr=re.define({map:(i,e)=>i.map(e)});function It(i,e,t){let n=i.facet(zd);n.length?n[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const Ts=G.define({combine:i=>i.length?i[0]:!0});let zO=0;const sr=G.define();class nt{constructor(e,t,n,r,o){this.id=e,this.create=t,this.domEventHandlers=n,this.domEventObservers=r,this.extension=o(this)}static define(e,t){const{eventHandlers:n,eventObservers:r,provide:o,decorations:a}=t||{};return new nt(zO++,e,n,r,l=>{let h=[sr.of(l)];return a&&h.push(Sr.of(d=>{let f=d.plugin(l);return f?a(f):ne.none})),o&&h.push(o(l)),h})}static fromClass(e,t){return nt.define(n=>new e(n),t)}}class ta{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(n){if(It(t.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){It(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(n){It(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const ef=G.define(),Xl=G.define(),Sr=G.define(),tf=G.define(),Il=G.define(),nf=G.define();function xh(i,e){let t=i.state.facet(nf);if(!t.length)return t;let n=t.map(o=>o instanceof Function?o(i):o),r=[];return be.spans(n,e.from,e.to,{point(){},span(o,a,l,h){let d=o-e.from,f=a-e.from,g=r;for(let y=l.length-1;y>=0;y--,h--){let v=l[y].spec.bidiIsolate,w;if(v==null&&(v=_O(e.text,d,f)),h>0&&g.length&&(w=g[g.length-1]).to==d&&w.direction==v)w.to=f,g=w.inner;else{let C={from:d,to:f,direction:v,inner:[]};g.push(C),g=C.inner}}}}),r}const rf=G.define();function of(i){let e=0,t=0,n=0,r=0;for(let o of i.state.facet(rf)){let a=o(i);a&&(a.left!=null&&(e=Math.max(e,a.left)),a.right!=null&&(t=Math.max(t,a.right)),a.top!=null&&(n=Math.max(n,a.top)),a.bottom!=null&&(r=Math.max(r,a.bottom)))}return{left:e,right:t,top:n,bottom:r}}const ar=G.define();class Ft{constructor(e,t,n,r){this.fromA=e,this.toA=t,this.fromB=n,this.toB=r}join(e){return new Ft(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(t.length==0)return e;let n=[];for(let r=0,o=0,a=0,l=0;;r++){let h=r==e.length?null:e[r],d=a-l,f=h?h.fromB:1e9;for(;o<t.length&&t[o]<f;){let g=t[o],y=t[o+1],v=Math.max(l,g),w=Math.min(f,y);if(v<=w&&new Ft(v+d,w+d,v,w).addToSet(n),y>f)break;o+=2}if(!h)return n;new Ft(h.fromA,h.toA,h.fromB,h.toB).addToSet(n),a=h.toA,l=h.toB}}}class Zo{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=et.empty(this.startState.doc.length);for(let o of n)this.changes=this.changes.compose(o.changes);let r=[];this.changes.iterChangedRanges((o,a,l,h)=>r.push(new Ft(o,a,l,h))),this.changedRanges=r}static create(e,t,n){return new Zo(e,t,n)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class Sh extends Ee{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Je],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Ft(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:d,toA:f})=>f<this.minWidthFrom||d>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let r=-1;this.view.inputState.composing>=0&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?r=this.domChanged.newSel.head:!nb(e.changes,this.hasComposition)&&!e.selectionSet&&(r=e.state.selection.main.head));let o=r>-1?HO(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:d,to:f}=this.hasComposition;n=new Ft(d,f,e.changes.mapPos(d,-1),e.changes.mapPos(f,1)).addToSet(n.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(z.ie||z.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let a=this.decorations,l=this.updateDeco(),h=eb(a,l,e.changes);return n=Ft.extendWithRanges(n,h),!(this.flags&7)&&n.length==0?!1:(this.updateInner(n,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,n);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=z.chrome||z.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,a),this.flags&=-8,a&&(a.written||r.selectionRange.focusNode!=a.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(a=>a.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.children)a instanceof Xn&&a.widget instanceof Ph&&o.push(a.dom);r.updateGaps(o)}updateChildren(e,t,n){let r=n?n.range.addToSet(e.slice()):e,o=this.childCursor(t);for(let a=r.length-1;;a--){let l=a>=0?r[a]:null;if(!l)break;let{fromA:h,toA:d,fromB:f,toB:g}=l,y,v,w,C;if(n&&n.range.fromB<g&&n.range.toB>f){let N=gr.build(this.view.state.doc,f,n.range.fromB,this.decorations,this.dynamicDecorationMap),B=gr.build(this.view.state.doc,n.range.toB,g,this.decorations,this.dynamicDecorationMap);v=N.breakAtStart,w=N.openStart,C=B.openEnd;let U=this.compositionView(n);B.breakAtStart?U.breakAfter=1:B.content.length&&U.merge(U.length,U.length,B.content[0],!1,B.openStart,0)&&(U.breakAfter=B.content[0].breakAfter,B.content.shift()),N.content.length&&U.merge(0,0,N.content[N.content.length-1],!0,0,N.openEnd)&&N.content.pop(),y=N.content.concat(U).concat(B.content)}else({content:y,breakAtStart:v,openStart:w,openEnd:C}=gr.build(this.view.state.doc,f,g,this.decorations,this.dynamicDecorationMap));let{i:$,off:M}=o.findPos(d,1),{i:Z,off:W}=o.findPos(h,-1);Bd(this,Z,W,$,M,y,v,w,C)}n&&this.fixCompositionDOM(n)}compositionView(e){let t=new Qn(e.text.nodeValue);t.flags|=8;for(let{deco:r}of e.marks)t=new Cn(r,[t],t.length);let n=new Je;return n.append(t,0),n}fixCompositionDOM(e){let t=(o,a)=>{a.flags|=8|(a.children.some(h=>h.flags&7)?1:0),this.markedForComposition.add(a);let l=Ee.get(o);l&&l!=a&&(l.dom=null),a.setDOM(o)},n=this.childPos(e.range.fromB,1),r=this.children[n.i];t(e.line,r);for(let o=e.marks.length-1;o>=-1;o--)n=r.childPos(n.off,1),r=r.children[n.i],t(o>=0?e.marks[o].node:e.text,r)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let n=this.view.root.activeElement,r=n==this.dom,o=!r&&xo(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(r||t||o))return;let a=this.forceSelection;this.forceSelection=!1;let l=this.view.state.selection.main,h=this.moveToLine(this.domAtPos(l.anchor)),d=l.empty?h:this.moveToLine(this.domAtPos(l.head));if(z.gecko&&l.empty&&!this.hasComposition&&GO(h)){let g=document.createTextNode("");this.view.observer.ignore(()=>h.node.insertBefore(g,h.node.childNodes[h.offset]||null)),h=d=new Ot(g,0),a=!0}let f=this.view.observer.selectionRange;(a||!f.focusNode||(!mr(h.node,h.offset,f.anchorNode,f.anchorOffset)||!mr(d.node,d.offset,f.focusNode,f.focusOffset))&&!this.suppressWidgetCursorChange(f,l))&&(this.view.observer.ignore(()=>{z.android&&z.chrome&&this.dom.contains(f.focusNode)&&tb(f.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let g=Lo(this.view.root);if(g)if(l.empty){if(z.gecko){let y=KO(h.node,h.offset);if(y&&y!=3){let v=af(h.node,h.offset,y==1?1:-1);v&&(h=new Ot(v.node,v.offset))}}g.collapse(h.node,h.offset),l.bidiLevel!=null&&g.caretBidiLevel!==void 0&&(g.caretBidiLevel=l.bidiLevel)}else if(g.extend){g.collapse(h.node,h.offset);try{g.extend(d.node,d.offset)}catch{}}else{let y=document.createRange();l.anchor>l.head&&([h,d]=[d,h]),y.setEnd(d.node,d.offset),y.setStart(h.node,h.offset),g.removeAllRanges(),g.addRange(y)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(h,d)),this.impreciseAnchor=h.precise?null:new Ot(f.anchorNode,f.anchorOffset),this.impreciseHead=d.precise?null:new Ot(f.focusNode,f.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&mr(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,n=Lo(e.root),{anchorNode:r,anchorOffset:o}=e.observer.selectionRange;if(!n||!t.empty||!t.assoc||!n.modify)return;let a=Je.find(this,t.head);if(!a)return;let l=a.posAtStart;if(t.head==l||t.head==l+a.length)return;let h=this.coordsAt(t.head,-1),d=this.coordsAt(t.head,1);if(!h||!d||h.bottom>d.top)return;let f=this.domAtPos(t.head+t.assoc);n.collapse(f.node,f.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let g=e.observer.selectionRange;e.docView.posFromDOM(g.anchorNode,g.anchorOffset)!=t.from&&n.collapse(r,o)}moveToLine(e){let t=this.dom,n;if(e.node!=t)return e;for(let r=e.offset;!n&&r<t.childNodes.length;r++){let o=Ee.get(t.childNodes[r]);o instanceof Je&&(n=o.domAtPos(0))}for(let r=e.offset-1;!n&&r>=0;r--){let o=Ee.get(t.childNodes[r]);o instanceof Je&&(n=o.domAtPos(o.length))}return n?new Ot(n.node,n.offset,!0):e}nearest(e){for(let t=e;t;){let n=Ee.get(t);if(n&&n.rootView==this)return n;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let r=this.children[t];if(n<r.length||r instanceof Je)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){let n=null,r=0;for(let o=this.length,a=this.children.length-1;a>=0;a--){let l=this.children[a],h=o-l.breakAfter,d=h-l.length;if(h<e)break;d<=e&&(d<e||l.covers(-1))&&(h>e||l.covers(1))&&(!n||l instanceof Je&&!(n instanceof Je&&t>=0))&&(n=l,r=d),o=d}return n?n.coordsAt(e-r,t):null}coordsForChar(e){let{i:t,off:n}=this.childPos(e,1),r=this.children[t];if(!(r instanceof Je))return null;for(;r.children.length;){let{i:l,off:h}=r.childPos(n,1);for(;;l++){if(l==r.children.length)return null;if((r=r.children[l]).length)break}n=h}if(!(r instanceof Qn))return null;let o=ct(r.text,n);if(o==n)return null;let a=di(r.dom,n,o).getClientRects();for(let l=0;l<a.length;l++){let h=a[l];if(l==a.length-1||h.top<h.bottom&&h.left<h.right)return h}return null}measureVisibleLineHeights(e){let t=[],{from:n,to:r}=e,o=this.view.contentDOM.clientWidth,a=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,h=this.view.textDirection==Se.LTR;for(let d=0,f=0;f<this.children.length;f++){let g=this.children[f],y=d+g.length;if(y>r)break;if(d>=n){let v=g.dom.getBoundingClientRect();if(t.push(v.height),a){let w=g.dom.lastChild,C=w?wr(w):[];if(C.length){let $=C[C.length-1],M=h?$.right-v.left:v.right-$.left;M>l&&(l=M,this.minWidth=o,this.minWidthFrom=d,this.minWidthTo=y)}}}d=y+g.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?Se.RTL:Se.LTR}measureTextSize(){for(let o of this.children)if(o instanceof Je){let a=o.measureTextSize();if(a)return a}let e=document.createElement("div"),t,n,r;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=wr(e.firstChild)[0];t=e.getBoundingClientRect().height,n=o?o.width/27:7,r=o?o.height:t,e.remove()}),{lineHeight:t,charWidth:n,textHeight:r}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new Dd(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,r=0;;r++){let o=r==t.viewports.length?null:t.viewports[r],a=o?o.from-1:this.length;if(a>n){let l=(t.lineBlockAt(a).bottom-t.lineBlockAt(n).top)/this.view.scaleY;e.push(ne.replace({widget:new Ph(l),block:!0,inclusive:!0,isBlockGap:!0}).range(n,a))}if(!o)break;n=o.to+1}return ne.set(e)}updateDeco(){let e=this.view.state.facet(Sr).map((r,o)=>(this.dynamicDecorationMap[o]=typeof r=="function")?r(this.view):r),t=!1,n=this.view.state.facet(tf).map((r,o)=>{let a=typeof r=="function";return a&&(t=!0),a?r(this.view):r});n.length&&(this.dynamicDecorationMap[e.length]=t,e.push(be.join(n)));for(let r=e.length;r<e.length+3;r++)this.dynamicDecorationMap[r]=!1;return this.decorations=[...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){if(e.isSnapshot){let d=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=d.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}let{range:t}=e,n=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),r;if(!n)return;!t.empty&&(r=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(n={left:Math.min(n.left,r.left),top:Math.min(n.top,r.top),right:Math.max(n.right,r.right),bottom:Math.max(n.bottom,r.bottom)});let o=of(this.view),a={left:n.left-o.left,top:n.top-o.top,right:n.right+o.right,bottom:n.bottom+o.bottom},{offsetWidth:l,offsetHeight:h}=this.view.scrollDOM;TO(this.view.scrollDOM,a,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,l),-l),Math.max(Math.min(e.yMargin,h),-h),this.view.textDirection==Se.LTR)}}function GO(i){return i.node.nodeType==1&&i.node.firstChild&&(i.offset==0||i.node.childNodes[i.offset-1].contentEditable=="false")&&(i.offset==i.node.childNodes.length||i.node.childNodes[i.offset].contentEditable=="false")}class Ph extends ei{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}}function sf(i,e){let t=i.observer.selectionRange,n=t.focusNode&&af(t.focusNode,t.focusOffset,0);if(!n)return null;let r=e-n.offset;return{from:r,to:r+n.node.nodeValue.length,node:n.node}}function HO(i,e,t){let n=sf(i,t);if(!n)return null;let{node:r,from:o,to:a}=n,l=r.nodeValue;if(/[\n\r]/.test(l)||i.state.doc.sliceString(n.from,n.to)!=l)return null;let h=e.invertedDesc,d=new Ft(h.mapPos(o),h.mapPos(a),o,a),f=[];for(let g=r.parentNode;;g=g.parentNode){let y=Ee.get(g);if(y instanceof Cn)f.push({node:g,deco:y.mark});else{if(y instanceof Je||g.nodeName=="DIV"&&g.parentNode==i.contentDOM)return{range:d,text:r,marks:f,line:g};if(g!=i.contentDOM)f.push({node:g,deco:new Br({inclusive:!0,attributes:LO(g),tagName:g.tagName.toLowerCase()})});else return null}}}function af(i,e,t){if(t<=0)for(let n=i,r=e;;){if(n.nodeType==3)return{node:n,offset:r};if(n.nodeType==1&&r>0)n=n.childNodes[r-1],r=Pn(n);else break}if(t>=0)for(let n=i,r=e;;){if(n.nodeType==3)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length&&t>=0)n=n.childNodes[r],r=0;else break}return null}function KO(i,e){return i.nodeType!=1?0:(e&&i.childNodes[e-1].contentEditable=="false"?1:0)|(e<i.childNodes.length&&i.childNodes[e].contentEditable=="false"?2:0)}let JO=class{constructor(){this.changes=[]}compareRange(e,t){Ya(e,t,this.changes)}comparePoint(e,t){Ya(e,t,this.changes)}};function eb(i,e,t){let n=new JO;return be.compare(i,e,t,n),n.changes}function tb(i,e){for(let t=i;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function nb(i,e){let t=!1;return e&&i.iterChangedRanges((n,r)=>{n<e.to&&r>e.from&&(t=!0)}),t}function ib(i,e,t=1){let n=i.charCategorizer(e),r=i.doc.lineAt(e),o=e-r.from;if(r.length==0)return j.cursor(e);o==0?t=1:o==r.length&&(t=-1);let a=o,l=o;t<0?a=ct(r.text,o,!1):l=ct(r.text,o);let h=n(r.text.slice(a,l));for(;a>0;){let d=ct(r.text,a,!1);if(n(r.text.slice(d,a))!=h)break;a=d}for(;l<r.length;){let d=ct(r.text,l);if(n(r.text.slice(l,d))!=h)break;l=d}return j.range(a+r.from,l+r.from)}function rb(i,e){return e.left>i?e.left-i:Math.max(0,i-e.right)}function ob(i,e){return e.top>i?e.top-i:Math.max(0,i-e.bottom)}function na(i,e){return i.top<e.bottom-1&&i.bottom>e.top+1}function Qh(i,e){return e<i.top?{top:e,left:i.left,right:i.right,bottom:i.bottom}:i}function Ch(i,e){return e>i.bottom?{top:i.top,left:i.left,right:i.right,bottom:e}:i}function Ka(i,e,t){let n,r,o,a,l=!1,h,d,f,g;for(let w=i.firstChild;w;w=w.nextSibling){let C=wr(w);for(let $=0;$<C.length;$++){let M=C[$];r&&na(r,M)&&(M=Qh(Ch(M,r.bottom),r.top));let Z=rb(e,M),W=ob(t,M);if(Z==0&&W==0)return w.nodeType==3?$h(w,e,t):Ka(w,e,t);if(!n||a>W||a==W&&o>Z){n=w,r=M,o=Z,a=W;let N=W?t<M.top?-1:1:Z?e<M.left?-1:1:0;l=!N||(N>0?$<C.length-1:$>0)}Z==0?t>M.bottom&&(!f||f.bottom<M.bottom)?(h=w,f=M):t<M.top&&(!g||g.top>M.top)&&(d=w,g=M):f&&na(f,M)?f=Ch(f,M.bottom):g&&na(g,M)&&(g=Qh(g,M.top))}}if(f&&f.bottom>=t?(n=h,r=f):g&&g.top<=t&&(n=d,r=g),!n)return{node:i,offset:0};let y=Math.max(r.left,Math.min(r.right,e));if(n.nodeType==3)return $h(n,y,t);if(l&&n.contentEditable!="false")return Ka(n,y,t);let v=Array.prototype.indexOf.call(i.childNodes,n)+(e>=(r.left+r.right)/2?1:0);return{node:i,offset:v}}function $h(i,e,t){let n=i.nodeValue.length,r=-1,o=1e9,a=0;for(let l=0;l<n;l++){let h=di(i,l,l+1).getClientRects();for(let d=0;d<h.length;d++){let f=h[d];if(f.top==f.bottom)continue;a||(a=e-f.left);let g=(f.top>t?f.top-t:t-f.bottom)-1;if(f.left-1<=e&&f.right+1>=e&&g<o){let y=e>=(f.left+f.right)/2,v=y;if((z.chrome||z.gecko)&&di(i,l).getBoundingClientRect().left==f.right&&(v=!y),g<=0)return{node:i,offset:l+(v?1:0)};r=l+(v?1:0),o=g}}}return{node:i,offset:r>-1?r:a>0?i.nodeValue.length:0}}function lf(i,e,t,n=-1){var r,o;let a=i.contentDOM.getBoundingClientRect(),l=a.top+i.viewState.paddingTop,h,{docHeight:d}=i.viewState,{x:f,y:g}=e,y=g-l;if(y<0)return 0;if(y>d)return i.state.doc.length;for(let N=i.viewState.heightOracle.textHeight/2,B=!1;h=i.elementAtHeight(y),h.type!=xt.Text;)for(;y=n>0?h.bottom+N:h.top-N,!(y>=0&&y<=d);){if(B)return t?null:0;B=!0,n=-n}g=l+y;let v=h.from;if(v<i.viewport.from)return i.viewport.from==0?0:t?null:Ah(i,a,h,f,g);if(v>i.viewport.to)return i.viewport.to==i.state.doc.length?i.state.doc.length:t?null:Ah(i,a,h,f,g);let w=i.dom.ownerDocument,C=i.root.elementFromPoint?i.root:w,$=C.elementFromPoint(f,g);$&&!i.contentDOM.contains($)&&($=null),$||(f=Math.max(a.left+1,Math.min(a.right-1,f)),$=C.elementFromPoint(f,g),$&&!i.contentDOM.contains($)&&($=null));let M,Z=-1;if($&&((r=i.docView.nearest($))===null||r===void 0?void 0:r.isEditable)!=!1){if(w.caretPositionFromPoint){let N=w.caretPositionFromPoint(f,g);N&&({offsetNode:M,offset:Z}=N)}else if(w.caretRangeFromPoint){let N=w.caretRangeFromPoint(f,g);N&&({startContainer:M,startOffset:Z}=N,(!i.contentDOM.contains(M)||z.safari&&sb(M,Z,f)||z.chrome&&ab(M,Z,f))&&(M=void 0))}}if(!M||!i.docView.dom.contains(M)){let N=Je.find(i.docView,v);if(!N)return y>h.top+h.height/2?h.to:h.from;({node:M,offset:Z}=Ka(N.dom,f,g))}let W=i.docView.nearest(M);if(!W)return null;if(W.isWidget&&((o=W.dom)===null||o===void 0?void 0:o.nodeType)==1){let N=W.dom.getBoundingClientRect();return e.y<N.top||e.y<=N.bottom&&e.x<=(N.left+N.right)/2?W.posAtStart:W.posAtEnd}else return W.localPosFromDOM(M,Z)+W.posAtStart}function Ah(i,e,t,n,r){let o=Math.round((n-e.left)*i.defaultCharacterWidth);if(i.lineWrapping&&t.height>i.defaultLineHeight*1.5){let l=i.viewState.heightOracle.textHeight,h=Math.floor((r-t.top-(i.defaultLineHeight-l)*.5)/l);o+=h*i.viewState.heightOracle.lineLength}let a=i.state.sliceDoc(t.from,t.to);return t.from+wO(a,o,i.state.tabSize)}function sb(i,e,t){let n;if(i.nodeType!=3||e!=(n=i.nodeValue.length))return!1;for(let r=i.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return di(i,n-1,n).getBoundingClientRect().left>t}function ab(i,e,t){if(e!=0)return!1;for(let r=i;;){let o=r.parentNode;if(!o||o.nodeType!=1||o.firstChild!=r)return!1;if(o.classList.contains("cm-line"))break;r=o}let n=i.nodeType==1?i.getBoundingClientRect():di(i,0,Math.max(i.nodeValue.length,1)).getBoundingClientRect();return t-n.left>5}function Ja(i,e){let t=i.lineBlockAt(e);if(Array.isArray(t.type)){for(let n of t.type)if(n.to>e||n.to==e&&(n.to==t.to||n.type==xt.Text))return n}return t}function lb(i,e,t,n){let r=Ja(i,e.head),o=!n||r.type!=xt.Text||!(i.lineWrapping||r.widgetLineBreaks)?null:i.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(o){let a=i.dom.getBoundingClientRect(),l=i.textDirectionAt(r.from),h=i.posAtCoords({x:t==(l==Se.LTR)?a.right-1:a.left+1,y:(o.top+o.bottom)/2});if(h!=null)return j.cursor(h,t?-1:1)}return j.cursor(t?r.to:r.from,t?-1:1)}function Th(i,e,t,n){let r=i.state.doc.lineAt(e.head),o=i.bidiSpans(r),a=i.textDirectionAt(r.from);for(let l=e,h=null;;){let d=YO(r,o,a,l,t),f=Vd;if(!d){if(r.number==(t?i.state.doc.lines:1))return l;f=`
`,r=i.state.doc.line(r.number+(t?1:-1)),o=i.bidiSpans(r),d=i.visualLineSide(r,!t)}if(h){if(!h(f))return l}else{if(!n)return d;h=n(f)}l=d}}function cb(i,e,t){let n=i.state.charCategorizer(e),r=n(t);return o=>{let a=n(o);return r==ze.Space&&(r=a),r==a}}function hb(i,e,t,n){let r=e.head,o=t?1:-1;if(r==(t?i.state.doc.length:0))return j.cursor(r,e.assoc);let a=e.goalColumn,l,h=i.contentDOM.getBoundingClientRect(),d=i.coordsAtPos(r,e.assoc||-1),f=i.documentTop;if(d)a==null&&(a=d.left-h.left),l=o<0?d.top:d.bottom;else{let v=i.viewState.lineBlockAt(r);a==null&&(a=Math.min(h.right-h.left,i.defaultCharacterWidth*(r-v.from))),l=(o<0?v.top:v.bottom)+f}let g=h.left+a,y=n??i.viewState.heightOracle.textHeight>>1;for(let v=0;;v+=10){let w=l+(y+v)*o,C=lf(i,{x:g,y:w},!1,o);if(w<h.top||w>h.bottom||(o<0?C<r:C>r)){let $=i.docView.coordsForChar(C),M=!$||w<$.top?-1:1;return j.cursor(C,M,void 0,a)}}}function So(i,e,t){for(;;){let n=0;for(let r of i)r.between(e-1,e+1,(o,a,l)=>{if(e>o&&e<a){let h=n||t||(e-o<a-e?-1:1);e=h<0?o:a,n=h}});if(!n)return e}}function ia(i,e,t){let n=So(i.state.facet(Il).map(r=>r(i)),t.from,e.head>t.from?-1:1);return n==t.from?t:j.cursor(n,n<t.from?1:-1)}class ub{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,z.safari&&e.contentDOM.addEventListener("input",()=>null),z.gecko&&Cb(e.contentDOM.ownerDocument)}handleEvent(e){!yb(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,t){let n=this.handlers[e];if(n){for(let r of n.observers)r(this.view,t);for(let r of n.handlers){if(t.defaultPrevented)break;if(r(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=db(e),n=this.handlers,r=this.view.contentDOM;for(let o in t)if(o!="scroll"){let a=!t[o].handlers.length,l=n[o];l&&a!=!l.handlers.length&&(r.removeEventListener(o,this.handleEvent),l=null),l||r.addEventListener(o,this.handleEvent,{passive:a})}for(let o in n)o!="scroll"&&!t[o]&&r.removeEventListener(o,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(e.keyCode!=27&&hf.indexOf(e.keyCode)<0&&(this.view.inputState.lastEscPress=0),z.android&&z.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return z.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=cf.find(n=>n.keyCode==e.keyCode))&&!e.ctrlKey||fb.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(){let e=this.pendingIOSKey;return e?(this.pendingIOSKey=void 0,Ci(this.view.contentDOM,e.key,e.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:z.safari&&!z.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Mh(i,e){return(t,n)=>{try{return e.call(i,n,t)}catch(r){It(t.state,r)}}}function db(i){let e=Object.create(null);function t(n){return e[n]||(e[n]={observers:[],handlers:[]})}for(let n of i){let r=n.spec;if(r&&r.domEventHandlers)for(let o in r.domEventHandlers){let a=r.domEventHandlers[o];a&&t(o).handlers.push(Mh(n.value,a))}if(r&&r.domEventObservers)for(let o in r.domEventObservers){let a=r.domEventObservers[o];a&&t(o).observers.push(Mh(n.value,a))}}for(let n in Ht)t(n).handlers.push(Ht[n]);for(let n in Kt)t(n).observers.push(Kt[n]);return e}const cf=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],fb="dthko",hf=[16,17,18,20,91,92,224,225],eo=6;function to(i){return Math.max(0,i)*.7+8}function pb(i,e){return Math.max(Math.abs(i.clientX-e.clientX),Math.abs(i.clientY-e.clientY))}class mb{constructor(e,t,n,r){this.view=e,this.startEvent=t,this.style=n,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=MO(e.contentDOM),this.atoms=e.state.facet(Il).map(a=>a(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Oe.allowMultipleSelections)&&gb(e,t),this.dragging=bb(e,t)&&pf(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){var t;if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&pb(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,o=((t=this.scrollParent)===null||t===void 0?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},a=of(this.view);e.clientX-a.left<=o.left+eo?n=-to(o.left-e.clientX):e.clientX+a.right>=o.right-eo&&(n=to(e.clientX-o.right)),e.clientY-a.top<=o.top+eo?r=-to(o.top-e.clientY):e.clientY+a.bottom>=o.bottom-eo&&(r=to(e.clientY-o.bottom)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let n=0;n<e.ranges.length;n++){let r=e.ranges[n],o=null;if(r.empty){let a=So(this.atoms,r.from,0);a!=r.from&&(o=j.cursor(a,-1))}else{let a=So(this.atoms,r.from,-1),l=So(this.atoms,r.to,1);(a!=r.from||l!=r.to)&&(o=j.range(r.from==r.anchor?a:l,r.from==r.head?a:l))}o&&(t||(t=e.ranges.slice()),t[n]=o)}return t?j.create(t,e.mainIndex):e}select(e){let{view:t}=this,n=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!n.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function gb(i,e){let t=i.state.facet(qd);return t.length?t[0](e):z.mac?e.metaKey:e.ctrlKey}function Ob(i,e){let t=i.state.facet(Yd);return t.length?t[0](e):z.mac?!e.altKey:!e.ctrlKey}function bb(i,e){let{main:t}=i.state.selection;if(t.empty)return!1;let n=Lo(i.root);if(!n||n.rangeCount==0)return!0;let r=n.getRangeAt(0).getClientRects();for(let o=0;o<r.length;o++){let a=r[o];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return!0}return!1}function yb(i,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,n;t!=i.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(n=Ee.get(t))&&n.ignoreEvent(e))return!1;return!0}const Ht=Object.create(null),Kt=Object.create(null),uf=z.ie&&z.ie_version<15||z.ios&&z.webkit_version<604;function vb(i){let e=i.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{i.focus(),t.remove(),df(i,t.value)},50)}function df(i,e){let{state:t}=i,n,r=1,o=t.toText(e),a=o.lines==t.selection.ranges.length;if(el!=null&&t.selection.ranges.every(h=>h.empty)&&el==o.toString()){let h=-1;n=t.changeByRange(d=>{let f=t.doc.lineAt(d.from);if(f.from==h)return{range:d};h=f.from;let g=t.toText((a?o.line(r++).text:e)+t.lineBreak);return{changes:{from:f.from,insert:g},range:j.cursor(d.from+g.length)}})}else a?n=t.changeByRange(h=>{let d=o.line(r++);return{changes:{from:h.from,to:h.to,insert:d.text},range:j.cursor(h.from+d.length)}}):n=t.replaceSelection(o);i.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}Kt.scroll=i=>{i.inputState.lastScrollTop=i.scrollDOM.scrollTop,i.inputState.lastScrollLeft=i.scrollDOM.scrollLeft};Ht.keydown=(i,e)=>(i.inputState.setSelectionOrigin("select"),e.keyCode==27&&(i.inputState.lastEscPress=Date.now()),!1);Kt.touchstart=(i,e)=>{i.inputState.lastTouchTime=Date.now(),i.inputState.setSelectionOrigin("select.pointer")};Kt.touchmove=i=>{i.inputState.setSelectionOrigin("select.pointer")};Ht.mousedown=(i,e)=>{if(i.observer.flush(),i.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let n of i.state.facet(_d))if(t=n(i,e),t)break;if(!t&&e.button==0&&(t=xb(i,e)),t){let n=!i.hasFocus;i.inputState.startMouseSelection(new mb(i,e,t,n)),n&&i.observer.ignore(()=>Ad(i.contentDOM));let r=i.inputState.mouseSelection;if(r)return r.start(e),r.dragging===!1}return!1};function Dh(i,e,t,n){if(n==1)return j.cursor(e,t);if(n==2)return ib(i.state,e,t);{let r=Je.find(i.docView,e),o=i.state.doc.lineAt(r?r.posAtEnd:e),a=r?r.posAtStart:o.from,l=r?r.posAtEnd:o.to;return l<i.state.doc.length&&l==o.to&&l++,j.range(a,l)}}let ff=(i,e)=>i>=e.top&&i<=e.bottom,Bh=(i,e,t)=>ff(e,t)&&i>=t.left&&i<=t.right;function kb(i,e,t,n){let r=Je.find(i.docView,e);if(!r)return 1;let o=e-r.posAtStart;if(o==0)return 1;if(o==r.length)return-1;let a=r.coordsAt(o,-1);if(a&&Bh(t,n,a))return-1;let l=r.coordsAt(o,1);return l&&Bh(t,n,l)?1:a&&ff(n,a)?-1:1}function Rh(i,e){let t=i.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:kb(i,t,e.clientX,e.clientY)}}const wb=z.ie&&z.ie_version<=11;let jh=null,Uh=0,Nh=0;function pf(i){if(!wb)return i.detail;let e=jh,t=Nh;return jh=i,Nh=Date.now(),Uh=!e||t>Date.now()-400&&Math.abs(e.clientX-i.clientX)<2&&Math.abs(e.clientY-i.clientY)<2?(Uh+1)%3:1}function xb(i,e){let t=Rh(i,e),n=pf(e),r=i.state.selection;return{update(o){o.docChanged&&(t.pos=o.changes.mapPos(t.pos),r=r.map(o.changes))},get(o,a,l){let h=Rh(i,o),d,f=Dh(i,h.pos,h.bias,n);if(t.pos!=h.pos&&!a){let g=Dh(i,t.pos,t.bias,n),y=Math.min(g.from,f.from),v=Math.max(g.to,f.to);f=y<f.from?j.range(y,v):j.range(v,y)}return a?r.replaceRange(r.main.extend(f.from,f.to)):l&&n==1&&r.ranges.length>1&&(d=Sb(r,h.pos))?d:l?r.addRange(f):j.create([f])}}}function Sb(i,e){for(let t=0;t<i.ranges.length;t++){let{from:n,to:r}=i.ranges[t];if(n<=e&&r>=e)return j.create(i.ranges.slice(0,t).concat(i.ranges.slice(t+1)),i.mainIndex==t?0:i.mainIndex-(i.mainIndex>t?1:0))}return null}Ht.dragstart=(i,e)=>{let{selection:{main:t}}=i.state;if(e.target.draggable){let r=i.docView.nearest(e.target);if(r&&r.isWidget){let o=r.posAtStart,a=o+r.length;(o>=t.to||a<=t.from)&&(t=j.range(o,a))}}let{inputState:n}=i;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",i.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove"),!1};Ht.dragend=i=>(i.inputState.draggedContent=null,!1);function Lh(i,e,t,n){if(!t)return;let r=i.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=i.inputState,a=n&&o&&Ob(i,e)?{from:o.from,to:o.to}:null,l={from:r,insert:t},h=i.state.changes(a?[a,l]:l);i.focus(),i.dispatch({changes:h,selection:{anchor:h.mapPos(r,-1),head:h.mapPos(r,1)},userEvent:a?"move.drop":"input.drop"}),i.inputState.draggedContent=null}Ht.drop=(i,e)=>{if(!e.dataTransfer)return!1;if(i.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let n=Array(t.length),r=0,o=()=>{++r==t.length&&Lh(i,e,n.filter(a=>a!=null).join(i.state.lineBreak),!1)};for(let a=0;a<t.length;a++){let l=new FileReader;l.onerror=o,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(n[a]=l.result),o()},l.readAsText(t[a])}return!0}else{let n=e.dataTransfer.getData("Text");if(n)return Lh(i,e,n,!0),!0}return!1};Ht.paste=(i,e)=>{if(i.state.readOnly)return!0;i.observer.flush();let t=uf?null:e.clipboardData;return t?(df(i,t.getData("text/plain")||t.getData("text/uri-text")),!0):(vb(i),!1)};function Pb(i,e){let t=i.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),i.focus()},50)}function Qb(i){let e=[],t=[],n=!1;for(let r of i.selection.ranges)r.empty||(e.push(i.sliceDoc(r.from,r.to)),t.push(r));if(!e.length){let r=-1;for(let{from:o}of i.selection.ranges){let a=i.doc.lineAt(o);a.number>r&&(e.push(a.text),t.push({from:a.from,to:Math.min(i.doc.length,a.to+1)})),r=a.number}n=!0}return{text:e.join(i.lineBreak),ranges:t,linewise:n}}let el=null;Ht.copy=Ht.cut=(i,e)=>{let{text:t,ranges:n,linewise:r}=Qb(i.state);if(!t&&!r)return!1;el=r?t:null,e.type=="cut"&&!i.state.readOnly&&i.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let o=uf?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",t),!0):(Pb(i,t),!1)};const mf=vn.define();function gf(i,e){let t=[];for(let n of i.facet(Hd)){let r=n(i,e);r&&t.push(r)}return t?i.update({effects:t,annotations:mf.of(!0)}):null}function Of(i){setTimeout(()=>{let e=i.hasFocus;if(e!=i.inputState.notifiedFocused){let t=gf(i.state,e);t?i.dispatch(t):i.update([])}},10)}Kt.focus=i=>{i.inputState.lastFocusTime=Date.now(),!i.scrollDOM.scrollTop&&(i.inputState.lastScrollTop||i.inputState.lastScrollLeft)&&(i.scrollDOM.scrollTop=i.inputState.lastScrollTop,i.scrollDOM.scrollLeft=i.inputState.lastScrollLeft),Of(i)};Kt.blur=i=>{i.observer.clearSelectionRange(),Of(i)};Kt.compositionstart=Kt.compositionupdate=i=>{i.inputState.compositionFirstChange==null&&(i.inputState.compositionFirstChange=!0),i.inputState.composing<0&&(i.inputState.composing=0)};Kt.compositionend=i=>{i.inputState.composing=-1,i.inputState.compositionEndedAt=Date.now(),i.inputState.compositionPendingKey=!0,i.inputState.compositionPendingChange=i.observer.pendingRecords().length>0,i.inputState.compositionFirstChange=null,z.chrome&&z.android?i.observer.flushSoon():i.inputState.compositionPendingChange?Promise.resolve().then(()=>i.observer.flush()):setTimeout(()=>{i.inputState.composing<0&&i.docView.hasComposition&&i.update([])},50)};Kt.contextmenu=i=>{i.inputState.lastContextMenu=Date.now()};Ht.beforeinput=(i,e)=>{var t;let n;if(z.chrome&&z.android&&(n=cf.find(r=>r.inputType==e.inputType))&&(i.observer.delayAndroidKey(n.key,n.keyCode),n.key=="Backspace"||n.key=="Delete")){let r=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>r+10&&i.hasFocus&&(i.contentDOM.blur(),i.focus())},100)}return!1};const Zh=new Set;function Cb(i){Zh.has(i)||(Zh.add(i),i.addEventListener("copy",()=>{}),i.addEventListener("cut",()=>{}))}const Eh=["pre-wrap","normal","pre-line","break-spaces"];class $b{constructor(e){this.lineWrapping=e,this.doc=ge.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Eh.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let r=e[n];r<0?n++:this.heightSamples[Math.floor(r*10)]||(t=!0,this.heightSamples[Math.floor(r*10)]=!0)}return t}refresh(e,t,n,r,o,a){let l=Eh.indexOf(e)>-1,h=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=t,this.charWidth=n,this.textHeight=r,this.lineLength=o,h){this.heightSamples={};for(let d=0;d<a.length;d++){let f=a[d];f<0?d++:this.heightSamples[Math.floor(f*10)]=!0}}return h}}class Ab{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class fn{constructor(e,t,n,r,o){this.from=e,this.length=t,this.top=n,this.height=r,this._content=o}get type(){return typeof this._content=="number"?xt.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof _n?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new fn(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Ze=function(i){return i[i.ByPos=0]="ByPos",i[i.ByHeight=1]="ByHeight",i[i.ByPosNoHeight=2]="ByPosNoHeight",i}(Ze||(Ze={}));const Po=.001;class St{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>Po&&(e.heightChanged=!0),this.height=t)}replace(e,t,n){return St.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,r){let o=this,a=n.doc;for(let l=r.length-1;l>=0;l--){let{fromA:h,toA:d,fromB:f,toB:g}=r[l],y=o.lineAt(h,Ze.ByPosNoHeight,n.setDoc(t),0,0),v=y.to>=d?y:o.lineAt(d,Ze.ByPosNoHeight,n,0,0);for(g+=v.to-d,d=v.to;l>0&&y.from<=r[l-1].toA;)h=r[l-1].fromA,f=r[l-1].fromB,l--,h<y.from&&(y=o.lineAt(h,Ze.ByPosNoHeight,n,0,0));f+=y.from-h,h=y.from;let w=Fl.build(n.setDoc(a),e,f,g);o=o.replace(h,d,w)}return o.updateHeight(n,0)}static empty(){return new Bt(0,0)}static of(e){if(e.length==1)return e[0];let t=0,n=e.length,r=0,o=0;for(;;)if(t==n)if(r>o*2){let l=e[t-1];l.break?e.splice(--t,1,l.left,null,l.right):e.splice(--t,1,l.left,l.right),n+=1+l.break,r-=l.size}else if(o>r*2){let l=e[n];l.break?e.splice(n,1,l.left,null,l.right):e.splice(n,1,l.left,l.right),n+=2+l.break,o-=l.size}else break;else if(r<o){let l=e[t++];l&&(r+=l.size)}else{let l=e[--n];l&&(o+=l.size)}let a=0;return e[t-1]==null?(a=1,t--):e[t]==null&&(a=1,n++),new Tb(St.of(e.slice(0,t)),a,St.of(e.slice(n)))}}St.prototype.size=1;class bf extends St{constructor(e,t,n){super(e,t),this.deco=n}blockAt(e,t,n,r){return new fn(r,this.length,n,this.height,this.deco||0)}lineAt(e,t,n,r,o){return this.blockAt(0,n,r,o)}forEachLine(e,t,n,r,o,a){e<=o+this.length&&t>=o&&a(this.blockAt(0,n,r,o))}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Bt extends bf{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,n,r){return new fn(r,this.length,n,this.height,this.breaks)}replace(e,t,n){let r=n[0];return n.length==1&&(r instanceof Bt||r instanceof at&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof at?r=new Bt(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):St.of(n)}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(n||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class at extends St{constructor(e){super(e,0)}heightMetrics(e,t){let n=e.doc.lineAt(t).number,r=e.doc.lineAt(t+this.length).number,o=r-n+1,a,l=0;if(e.lineWrapping){let h=Math.min(this.height,e.lineHeight*o);a=h/o,this.length>o+1&&(l=(this.height-h)/(this.length-o-1))}else a=this.height/o;return{firstLine:n,lastLine:r,perLine:a,perChar:l}}blockAt(e,t,n,r){let{firstLine:o,lastLine:a,perLine:l,perChar:h}=this.heightMetrics(t,r);if(t.lineWrapping){let d=r+Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length),f=t.doc.lineAt(d),g=l+f.length*h,y=Math.max(n,e-g/2);return new fn(f.from,f.length,y,g,0)}else{let d=Math.max(0,Math.min(a-o,Math.floor((e-n)/l))),{from:f,length:g}=t.doc.line(o+d);return new fn(f,g,n+l*d,l,0)}}lineAt(e,t,n,r,o){if(t==Ze.ByHeight)return this.blockAt(e,n,r,o);if(t==Ze.ByPosNoHeight){let{from:v,to:w}=n.doc.lineAt(e);return new fn(v,w-v,0,0,0)}let{firstLine:a,perLine:l,perChar:h}=this.heightMetrics(n,o),d=n.doc.lineAt(e),f=l+d.length*h,g=d.number-a,y=r+l*g+h*(d.from-o-g);return new fn(d.from,d.length,Math.max(r,Math.min(y,r+this.height-f)),f,0)}forEachLine(e,t,n,r,o,a){e=Math.max(e,o),t=Math.min(t,o+this.length);let{firstLine:l,perLine:h,perChar:d}=this.heightMetrics(n,o);for(let f=e,g=r;f<=t;){let y=n.doc.lineAt(f);if(f==e){let w=y.number-l;g+=h*w+d*(e-o-w)}let v=h+d*y.length;a(new fn(y.from,y.length,g,v,0)),g+=v,f=y.to+1}}replace(e,t,n){let r=this.length-t;if(r>0){let o=n[n.length-1];o instanceof at?n[n.length-1]=new at(o.length+r):n.push(null,new at(r-1))}if(e>0){let o=n[0];o instanceof at?n[0]=new at(e+o.length):n.unshift(new at(e-1),null)}return St.of(n)}decomposeLeft(e,t){t.push(new at(e-1),null)}decomposeRight(e,t){t.push(null,new at(this.length-e-1))}updateHeight(e,t=0,n=!1,r){let o=t+this.length;if(r&&r.from<=t+this.length&&r.more){let a=[],l=Math.max(t,r.from),h=-1;for(r.from>t&&a.push(new at(r.from-t-1).updateHeight(e,t));l<=o&&r.more;){let f=e.doc.lineAt(l).length;a.length&&a.push(null);let g=r.heights[r.index++];h==-1?h=g:Math.abs(g-h)>=Po&&(h=-2);let y=new Bt(f,g);y.outdated=!1,a.push(y),l+=f+1}l<=o&&a.push(null,new at(o-l).updateHeight(e,l));let d=St.of(a);return(h<0||Math.abs(d.height-this.height)>=Po||Math.abs(h-this.heightMetrics(e,t).perLine)>=Po)&&(e.heightChanged=!0),d}else(n||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Tb extends St{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return this.flags&1}blockAt(e,t,n,r){let o=n+this.left.height;return e<o?this.left.blockAt(e,t,n,r):this.right.blockAt(e,t,o,r+this.left.length+this.break)}lineAt(e,t,n,r,o){let a=r+this.left.height,l=o+this.left.length+this.break,h=t==Ze.ByHeight?e<a:e<l,d=h?this.left.lineAt(e,t,n,r,o):this.right.lineAt(e,t,n,a,l);if(this.break||(h?d.to<l:d.from>l))return d;let f=t==Ze.ByPosNoHeight?Ze.ByPosNoHeight:Ze.ByPos;return h?d.join(this.right.lineAt(l,f,n,a,l)):this.left.lineAt(l,f,n,r,o).join(d)}forEachLine(e,t,n,r,o,a){let l=r+this.left.height,h=o+this.left.length+this.break;if(this.break)e<h&&this.left.forEachLine(e,t,n,r,o,a),t>=h&&this.right.forEachLine(e,t,n,l,h,a);else{let d=this.lineAt(h,Ze.ByPos,n,r,o);e<d.from&&this.left.forEachLine(e,d.from-1,n,r,o,a),d.to>=e&&d.from<=t&&a(d),t>d.to&&this.right.forEachLine(d.to+1,t,n,l,h,a)}}replace(e,t,n){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,n));let o=[];e>0&&this.decomposeLeft(e,o);let a=o.length;for(let l of n)o.push(l);if(e>0&&Wh(o,a-1),t<this.length){let l=o.length;this.decomposeRight(t,o),Wh(o,l)}return St.of(o)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,r=n+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?St.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,r){let{left:o,right:a}=this,l=t+o.length+this.break,h=null;return r&&r.from<=t+o.length&&r.more?h=o=o.updateHeight(e,t,n,r):o.updateHeight(e,t,n),r&&r.from<=l+a.length&&r.more?h=a=a.updateHeight(e,l,n,r):a.updateHeight(e,l,n),h?this.balanced(o,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Wh(i,e){let t,n;i[e]==null&&(t=i[e-1])instanceof at&&(n=i[e+1])instanceof at&&i.splice(e-1,3,new at(t.length+1+n.length))}const Mb=5;class Fl{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let n=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof Bt?r.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new Bt(n-this.pos,-1)),this.writtenTo=n,t>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let r=n.widget?n.widget.estimatedHeight:0,o=n.widget?n.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let a=t-e;n.block?this.addBlock(new bf(a,r,n)):(a||o||r>=Mb)&&this.addLineDeco(r,o,a)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Bt(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new at(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Bt)return e;let t=new Bt(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=t,this.writtenTo=this.pos=this.pos+n}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Bt)&&!this.isCovered?this.nodes.push(new Bt(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=e;for(let r of this.nodes)r instanceof Bt&&r.updateHeight(this.oracle,n),n+=r?r.length:1;return this.nodes}static build(e,t,n,r){let o=new Fl(n,e);return be.spans(t,n,r,o,0),o.finish(n)}}function Db(i,e,t){let n=new Bb;return be.compare(i,e,t,n,0),n.changes}class Bb{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,r){(e<t||n&&n.heightRelevant||r&&r.heightRelevant)&&Ya(e,t,this.changes,5)}}function Rb(i,e){let t=i.getBoundingClientRect(),n=i.ownerDocument,r=n.defaultView||window,o=Math.max(0,t.left),a=Math.min(r.innerWidth,t.right),l=Math.max(0,t.top),h=Math.min(r.innerHeight,t.bottom);for(let d=i.parentNode;d&&d!=n.body;)if(d.nodeType==1){let f=d,g=window.getComputedStyle(f);if((f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth)&&g.overflow!="visible"){let y=f.getBoundingClientRect();o=Math.max(o,y.left),a=Math.min(a,y.right),l=Math.max(l,y.top),h=d==i.parentNode?y.bottom:Math.min(h,y.bottom)}d=g.position=="absolute"||g.position=="fixed"?f.offsetParent:f.parentNode}else if(d.nodeType==11)d=d.host;else break;return{left:o-t.left,right:Math.max(o,a)-t.left,top:l-(t.top+e),bottom:Math.max(l,h)-(t.top+e)}}function jb(i,e){let t=i.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class ra{constructor(e,t,n){this.from=e,this.to=t,this.size=n}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],o=t[n];if(r.from!=o.from||r.to!=o.to||r.size!=o.size)return!1}return!0}draw(e,t){return ne.replace({widget:new Ub(this.size*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class Ub extends ei{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Xh{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Ih,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Se.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(Xl).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new $b(t),this.stateDeco=e.facet(Sr).filter(n=>typeof n!="function"),this.heightMap=St.empty().applyChanges(this.stateDeco,ge.empty,this.heightOracle.setDoc(e.doc),[new Ft(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ne.set(this.lineGaps.map(n=>n.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let r=n?t.head:t.anchor;if(!e.some(({from:o,to:a})=>r>=o&&r<=a)){let{from:o,to:a}=this.lineBlockAt(r);e.push(new no(o,a))}}this.viewports=e.sort((n,r)=>n.from-r.from),this.scaler=this.heightMap.height<=7e6?Ih:new Zb(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:lr(e,this.scaler))})}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(Sr).filter(f=>typeof f!="function");let r=e.changedRanges,o=Ft.extendWithRanges(r,Db(n,this.stateDeco,e?e.changes:et.empty(this.state.doc.length))),a=this.heightMap.height,l=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=a&&(e.flags|=2),l?(this.scrollAnchorPos=e.changes.mapPos(l.from,-1),this.scrollAnchorHeight=l.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let h=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<h.from||t.range.head>h.to)||!this.viewportIsAppropriate(h))&&(h=this.getViewport(0,t));let d=!e.changes.empty||e.flags&2||h.from!=this.viewport.from||h.to!=this.viewport.to;this.viewport=h,this.updateForViewport(),d&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Jd)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),r=this.heightOracle,o=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?Se.RTL:Se.LTR;let a=this.heightOracle.mustRefreshForWrapping(o),l=t.getBoundingClientRect(),h=a||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let d=0,f=0;if(l.width&&l.height){let{scaleX:N,scaleY:B}=$d(t,l);(this.scaleX!=N||this.scaleY!=B)&&(this.scaleX=N,this.scaleY=B,d|=8,a=h=!0)}let g=(parseInt(n.paddingTop)||0)*this.scaleY,y=(parseInt(n.paddingBottom)||0)*this.scaleY;(this.paddingTop!=g||this.paddingBottom!=y)&&(this.paddingTop=g,this.paddingBottom=y,d|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(h=!0),this.editorWidth=e.scrollDOM.clientWidth,d|=8);let v=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=v&&(this.scrollAnchorHeight=-1,this.scrollTop=v),this.scrolledToBottom=Md(e.scrollDOM);let w=(this.printing?jb:Rb)(t,this.paddingTop),C=w.top-this.pixelViewport.top,$=w.bottom-this.pixelViewport.bottom;this.pixelViewport=w;let M=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(M!=this.inView&&(this.inView=M,M&&(h=!0)),!this.inView&&!this.scrollTarget)return 0;let Z=l.width;if((this.contentDOMWidth!=Z||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=l.width,this.editorHeight=e.scrollDOM.clientHeight,d|=8),h){let N=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(N)&&(a=!0),a||r.lineWrapping&&Math.abs(Z-this.contentDOMWidth)>r.charWidth){let{lineHeight:B,charWidth:U,textHeight:E}=e.docView.measureTextSize();a=B>0&&r.refresh(o,B,U,E,Z/U,N),a&&(e.docView.minWidth=0,d|=8)}C>0&&$>0?f=Math.max(C,$):C<0&&$<0&&(f=Math.min(C,$)),r.heightChanged=!1;for(let B of this.viewports){let U=B.from==this.viewport.from?N:e.docView.measureVisibleLineHeights(B);this.heightMap=(a?St.empty().applyChanges(this.stateDeco,ge.empty,this.heightOracle,[new Ft(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,a,new Ab(B.from,U))}r.heightChanged&&(d|=2)}let W=!this.viewportIsAppropriate(this.viewport,f)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return W&&(this.viewport=this.getViewport(f,this.scrollTarget)),this.updateForViewport(),(d&2||W)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),d|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),d}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,o=this.heightOracle,{visibleTop:a,visibleBottom:l}=this,h=new no(r.lineAt(a-n*1e3,Ze.ByHeight,o,0,0).from,r.lineAt(l+(1-n)*1e3,Ze.ByHeight,o,0,0).to);if(t){let{head:d}=t.range;if(d<h.from||d>h.to){let f=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),g=r.lineAt(d,Ze.ByPos,o,0,0),y;t.y=="center"?y=(g.top+g.bottom)/2-f/2:t.y=="start"||t.y=="nearest"&&d<h.from?y=g.top:y=g.bottom-f,h=new no(r.lineAt(y-1e3/2,Ze.ByHeight,o,0,0).from,r.lineAt(y+f+1e3/2,Ze.ByHeight,o,0,0).to)}}return h}mapViewport(e,t){let n=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new no(this.heightMap.lineAt(n,Ze.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,Ze.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,Ze.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(t,Ze.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:l}=this;return(e==0||r<=a-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||o>=l+Math.max(10,Math.min(n,250)))&&r>a-2*1e3&&o<l+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let r of e)t.touchesRange(r.from,r.to)||n.push(new ra(t.mapPos(r.from),t.mapPos(r.to),r.size));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,r=n?1e4:2e3,o=r>>1,a=r<<1;if(this.defaultTextDirection!=Se.LTR&&!n)return[];let l=[],h=(d,f,g,y)=>{if(f-d<o)return;let v=this.state.selection.main,w=[v.from];v.empty||w.push(v.to);for(let $ of w)if($>d&&$<f){h(d,$-10,g,y),h($+10,f,g,y);return}let C=Lb(e,$=>$.from>=g.from&&$.to<=g.to&&Math.abs($.from-d)<o&&Math.abs($.to-f)<o&&!w.some(M=>$.from<M&&$.to>M));if(!C){if(f<g.to&&t&&n&&t.visibleRanges.some($=>$.from<=f&&$.to>=f)){let $=t.moveToLineBoundary(j.cursor(f),!1,!0).head;$>d&&(f=$)}C=new ra(d,f,this.gapSize(g,d,f,y))}l.push(C)};for(let d of this.viewportLines){if(d.length<a)continue;let f=Nb(d.from,d.to,this.stateDeco);if(f.total<a)continue;let g=this.scrollTarget?this.scrollTarget.range.head:null,y,v;if(n){let w=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,C,$;if(g!=null){let M=ro(f,g),Z=((this.visibleBottom-this.visibleTop)/2+w)/d.height;C=M-Z,$=M+Z}else C=(this.visibleTop-d.top-w)/d.height,$=(this.visibleBottom-d.top+w)/d.height;y=io(f,C),v=io(f,$)}else{let w=f.total*this.heightOracle.charWidth,C=r*this.heightOracle.charWidth,$,M;if(g!=null){let Z=ro(f,g),W=((this.pixelViewport.right-this.pixelViewport.left)/2+C)/w;$=Z-W,M=Z+W}else $=(this.pixelViewport.left-C)/w,M=(this.pixelViewport.right+C)/w;y=io(f,$),v=io(f,M)}y>d.from&&h(d.from,y,d,f),v<d.to&&h(v,d.to,d,f)}return l}gapSize(e,t,n,r){let o=ro(r,n)-ro(r,t);return this.heightOracle.lineWrapping?e.height*o:r.total*this.heightOracle.charWidth*o}updateLineGaps(e){ra.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ne.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];be.spans(e,this.viewport.from,this.viewport.to,{span(r,o){t.push({from:r,to:o})},point(){}},20);let n=t.length!=this.visibleRanges.length||this.visibleRanges.some((r,o)=>r.from!=t[o].from||r.to!=t[o].to);return this.visibleRanges=t,n?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||lr(this.heightMap.lineAt(e,Ze.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return lr(this.heightMap.lineAt(this.scaler.fromDOM(e),Ze.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return lr(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class no{constructor(e,t){this.from=e,this.to=t}}function Nb(i,e,t){let n=[],r=i,o=0;return be.spans(t,i,e,{span(){},point(a,l){a>r&&(n.push({from:r,to:a}),o+=a-r),r=l}},20),r<e&&(n.push({from:r,to:e}),o+=e-r),{total:o,ranges:n}}function io({total:i,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let n=Math.floor(i*t);for(let r=0;;r++){let{from:o,to:a}=e[r],l=a-o;if(n<=l)return o+n;n-=l}}function ro(i,e){let t=0;for(let{from:n,to:r}of i.ranges){if(e<=r){t+=e-n;break}t+=r-n}return t/i.total}function Lb(i,e){for(let t of i)if(e(t))return t}const Ih={toDOM(i){return i},fromDOM(i){return i},scale:1};class Zb{constructor(e,t,n){let r=0,o=0,a=0;this.viewports=n.map(({from:l,to:h})=>{let d=t.lineAt(l,Ze.ByPos,e,0,0).top,f=t.lineAt(h,Ze.ByPos,e,0,0).bottom;return r+=f-d,{from:l,to:h,top:d,bottom:f,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let l of this.viewports)l.domTop=a+(l.top-o)*this.scale,a=l.domBottom=l.domTop+(l.bottom-l.top),o=l.bottom}toDOM(e){for(let t=0,n=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return r+(e-n)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);n=o.bottom,r=o.domBottom}}fromDOM(e){for(let t=0,n=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return n+(e-r)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);n=o.bottom,r=o.domBottom}}}function lr(i,e){if(e.scale==1)return i;let t=e.toDOM(i.top),n=e.toDOM(i.bottom);return new fn(i.from,i.length,t,n-t,Array.isArray(i._content)?i._content.map(r=>lr(r,e)):i._content)}const oo=G.define({combine:i=>i.join(" ")}),tl=G.define({combine:i=>i.indexOf(!0)>-1}),nl=ji.newName(),yf=ji.newName(),vf=ji.newName(),kf={"&light":"."+yf,"&dark":"."+vf};function il(i,e,t){return new ji(e,{finish(n){return/&/.test(n)?n.replace(/&\w*/,r=>{if(r=="&")return i;if(!t||!t[r])throw new RangeError(`Unsupported selector: ${r}`);return t[r]}):i+" "+n}})}const Eb=il("."+nl,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},kf),cr="￿";class Wb{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Oe.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=cr}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let r=e;;){this.findPointBefore(n,r);let o=this.text.length;this.readNode(r);let a=r.nextSibling;if(a==t)break;let l=Ee.get(r),h=Ee.get(a);(l&&h?l.breakAfter:(l?l.breakAfter:Fh(r))||Fh(a)&&(r.nodeName!="BR"||r.cmIgnore)&&this.text.length>o)&&this.lineBreak(),r=a}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,a=1,l;if(this.lineSeparator?(o=t.indexOf(this.lineSeparator,n),a=this.lineSeparator.length):(l=r.exec(t))&&(o=l.index,a=l[0].length),this.append(t.slice(n,o<0?t.length:o)),o<0)break;if(this.lineBreak(),a>1)for(let h of this.points)h.node==e&&h.pos>this.text.length&&(h.pos-=a-1);n=o+a}}readNode(e){if(e.cmIgnore)return;let t=Ee.get(e),n=t&&t.overrideDOMText;if(n!=null){this.findPointInside(e,n.length);for(let r=n.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(e.nodeType==3?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(Xb(e,n.node,n.offset)?t:0))}}function Xb(i,e,t){for(;;){if(!e||t<Pn(e))return!1;if(e==i)return!0;t=xr(e)+1,e=e.parentNode}}function Fh(i){return i.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(i.nodeName)}class Vh{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Ib{constructor(e,t,n,r){this.typeOver=r,this.bounds=null,this.text="";let{impreciseHead:o,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,n,0))){let l=o||a?[]:qb(e),h=new Wb(l,e.state);h.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=h.text,this.newSel=Yb(l,this.bounds.from)}else{let l=e.observer.selectionRange,h=o&&o.node==l.focusNode&&o.offset==l.focusOffset||!Wa(e.contentDOM,l.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(l.focusNode,l.focusOffset),d=a&&a.node==l.anchorNode&&a.offset==l.anchorOffset||!Wa(e.contentDOM,l.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(l.anchorNode,l.anchorOffset),f=e.viewport;if(z.ios&&e.state.selection.main.empty&&h!=d&&(f.from>0||f.to<e.state.doc.length)){let g=f.from-Math.min(h,d),y=f.to-Math.max(h,d);(g==0||g==1)&&(y==0||y==-1)&&(h=0,d=e.state.doc.length)}this.newSel=j.single(d,h)}}}function wf(i,e){let t,{newSel:n}=e,r=i.state.selection.main,o=i.inputState.lastKeyTime>Date.now()-100?i.inputState.lastKeyCode:-1;if(e.bounds){let{from:a,to:l}=e.bounds,h=r.from,d=null;(o===8||z.android&&e.text.length<l-a)&&(h=r.to,d="end");let f=Vb(i.state.doc.sliceString(a,l,cr),e.text,h-a,d);f&&(z.chrome&&o==13&&f.toB==f.from+2&&e.text.slice(f.from,f.toB)==cr+cr&&f.toB--,t={from:a+f.from,to:a+f.toA,insert:ge.of(e.text.slice(f.from,f.toB).split(cr))})}else n&&(!i.hasFocus&&i.state.facet(Ts)||n.main.eq(r))&&(n=null);if(!t&&!n)return!1;if(!t&&e.typeOver&&!r.empty&&n&&n.main.empty?t={from:r.from,to:r.to,insert:i.state.doc.slice(r.from,r.to)}:t&&t.from>=r.from&&t.to<=r.to&&(t.from!=r.from||t.to!=r.to)&&r.to-r.from-(t.to-t.from)<=4?t={from:r.from,to:r.to,insert:i.state.doc.slice(r.from,t.from).append(t.insert).append(i.state.doc.slice(t.to,r.to))}:(z.mac||z.android)&&t&&t.from==t.to&&t.from==r.head-1&&/^\. ?$/.test(t.insert.toString())&&i.contentDOM.getAttribute("autocorrect")=="off"?(n&&t.insert.length==2&&(n=j.single(n.main.anchor-1,n.main.head-1)),t={from:r.from,to:r.to,insert:ge.of([" "])}):z.chrome&&t&&t.from==t.to&&t.from==r.head&&t.insert.toString()==`
 `&&i.lineWrapping&&(n&&(n=j.single(n.main.anchor-1,n.main.head-1)),t={from:r.from,to:r.to,insert:ge.of([" "])}),t){if(z.ios&&i.inputState.flushIOSKey()||z.android&&(t.from==r.from&&t.to==r.to&&t.insert.length==1&&t.insert.lines==2&&Ci(i.contentDOM,"Enter",13)||(t.from==r.from-1&&t.to==r.to&&t.insert.length==0||o==8&&t.insert.length<t.to-t.from&&t.to>r.head)&&Ci(i.contentDOM,"Backspace",8)||t.from==r.from&&t.to==r.to+1&&t.insert.length==0&&Ci(i.contentDOM,"Delete",46)))return!0;let a=t.insert.toString();i.inputState.composing>=0&&i.inputState.composing++;let l,h=()=>l||(l=Fb(i,t,n));return i.state.facet(Gd).some(d=>d(i,t.from,t.to,a,h))||i.dispatch(h()),!0}else if(n&&!n.main.eq(r)){let a=!1,l="select";return i.inputState.lastSelectionTime>Date.now()-50&&(i.inputState.lastSelectionOrigin=="select"&&(a=!0),l=i.inputState.lastSelectionOrigin),i.dispatch({selection:n,scrollIntoView:a,userEvent:l}),!0}else return!1}function Fb(i,e,t){let n,r=i.state,o=r.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&i.inputState.composing<0){let l=o.from<e.from?r.sliceDoc(o.from,e.from):"",h=o.to>e.to?r.sliceDoc(e.to,o.to):"";n=r.replaceSelection(i.state.toText(l+e.insert.sliceString(0,void 0,i.state.lineBreak)+h))}else{let l=r.changes(e),h=t&&t.main.to<=l.newLength?t.main:void 0;if(r.selection.ranges.length>1&&i.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let d=i.state.sliceDoc(e.from,e.to),f,g=t&&sf(i,t.main.head);if(g){let w=e.insert.length-(e.to-e.from);f={from:g.from,to:g.to-w}}else f=i.state.doc.lineAt(o.head);let y=o.to-e.to,v=o.to-o.from;n=r.changeByRange(w=>{if(w.from==o.from&&w.to==o.to)return{changes:l,range:h||w.map(l)};let C=w.to-y,$=C-d.length;if(w.to-w.from!=v||i.state.sliceDoc($,C)!=d||w.to>=f.from&&w.from<=f.to)return{range:w};let M=r.changes({from:$,to:C,insert:e.insert}),Z=w.to-o.to;return{changes:M,range:h?j.range(Math.max(0,h.anchor+Z),Math.max(0,h.head+Z)):w.map(M)}})}else n={changes:l,selection:h&&r.selection.replaceRange(h)}}let a="input.type";return(i.composing||i.inputState.compositionPendingChange&&i.inputState.compositionEndedAt>Date.now()-50)&&(i.inputState.compositionPendingChange=!1,a+=".compose",i.inputState.compositionFirstChange&&(a+=".start",i.inputState.compositionFirstChange=!1)),r.update(n,{userEvent:a,scrollIntoView:!0})}function Vb(i,e,t,n){let r=Math.min(i.length,e.length),o=0;for(;o<r&&i.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==r&&i.length==e.length)return null;let a=i.length,l=e.length;for(;a>0&&l>0&&i.charCodeAt(a-1)==e.charCodeAt(l-1);)a--,l--;if(n=="end"){let h=Math.max(0,o-Math.min(a,l));t-=a+h-o}if(a<o&&i.length<e.length){let h=t<=o&&t>=a?o-t:0;o-=h,l=o+(l-a),a=o}else if(l<o){let h=t<=o&&t>=l?o-t:0;o-=h,a=o+(a-l),l=o}return{from:o,toA:a,toB:l}}function qb(i){let e=[];if(i.root.activeElement!=i.contentDOM)return e;let{anchorNode:t,anchorOffset:n,focusNode:r,focusOffset:o}=i.observer.selectionRange;return t&&(e.push(new Vh(t,n)),(r!=t||o!=n)&&e.push(new Vh(r,o))),e}function Yb(i,e){if(i.length==0)return null;let t=i[0].pos,n=i.length==2?i[1].pos:t;return t>-1&&n>-1?j.single(t+e,n+e):null}const _b={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},oa=z.ie&&z.ie_version<=11;class zb{constructor(e){this.view=e,this.active=!1,this.selectionRange=new DO,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let n of t)this.queue.push(n);(z.ie&&z.ie_version<=11||z.ios&&e.composing)&&t.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),oa&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,n)=>t!=e[n]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,r=this.selectionRange;if(n.state.facet(Ts)?n.root.activeElement!=this.dom:!xo(n.dom,r))return;let o=r.anchorNode&&n.docView.nearest(r.anchorNode);if(o&&o.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(z.ie&&z.ie_version<=11||z.android&&z.chrome)&&!n.state.selection.main.empty&&r.focusNode&&mr(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=z.safari&&e.root.nodeType==11&&$O(this.dom.ownerDocument)==this.dom&&Gb(this.view)||Lo(e.root);if(!t||this.selectionRange.eq(t))return!1;let n=xo(this.dom,t);return n&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&RO(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),n&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(n.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=t)n.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,_b),oa&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),oa&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var n;if(!this.delayedAndroidKey){let r=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&Ci(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,n=-1,r=!1;for(let o of e){let a=this.readMutation(o);a&&(a.typeOver&&(r=!0),t==-1?{from:t,to:n}=a:(t=Math.min(a.from,t),n=Math.max(a.to,n)))}return{from:t,to:n,typeOver:r}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),r=this.selectionChanged&&xo(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new Ib(this.view,e,t,n);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let n=this.view.state,r=wf(this.view,t);return this.view.state==n&&this.view.update([]),r}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let n=qh(t,e.previousSibling||e.target.previousSibling,-1),r=qh(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,n;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function qh(i,e,t){for(;e;){let n=Ee.get(e);if(n&&n.parent==i)return n;let r=e.parentNode;e=r!=i.dom?r:t>0?e.nextSibling:e.previousSibling}return null}function Gb(i){let e=null;function t(h){h.preventDefault(),h.stopImmediatePropagation(),e=h.getTargetRanges()[0]}if(i.contentDOM.addEventListener("beforeinput",t,!0),i.dom.ownerDocument.execCommand("indent"),i.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let n=e.startContainer,r=e.startOffset,o=e.endContainer,a=e.endOffset,l=i.docView.domAtPos(i.state.selection.main.anchor);return mr(l.node,l.offset,o,a)&&([n,r,o,a]=[o,a,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:a}}class F{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:t}=e;this.dispatchTransactions=e.dispatchTransactions||t&&(n=>n.forEach(r=>t(r,this)))||(n=>this.update(n)),this.dispatch=this.dispatch.bind(this),this._root=e.root||BO(e.parent)||document,this.viewState=new Xh(e.state||Oe.create(e)),e.scrollTo&&e.scrollTo.is(Jr)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(sr).map(n=>new ta(n));for(let n of this.plugins)n.update(this);this.observer=new zb(this),this.inputState=new ub(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Sh(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...e){let t=e.length==1&&e[0]instanceof tt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,n=!1,r,o=this.state;for(let y of e){if(y.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=y.state}if(this.destroyed){this.viewState.state=o;return}let a=this.hasFocus,l=0,h=null;e.some(y=>y.annotation(mf))?(this.inputState.notifiedFocused=a,l=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,h=gf(o,a),h||(l=1));let d=this.observer.delayedAndroidKey,f=null;if(d?(this.observer.clearDelayedAndroidKey(),f=this.observer.readChange(),(f&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(f=null)):this.observer.clear(),o.facet(Oe.phrases)!=this.state.facet(Oe.phrases))return this.setState(o);r=Zo.create(this,o,e),r.flags|=l;let g=this.viewState.scrollTarget;try{this.updateState=2;for(let y of e){if(g&&(g=g.map(y.changes)),y.scrollIntoView){let{main:v}=y.state.selection;g=new $i(v.empty?v:j.cursor(v.head,v.head>v.anchor?-1:1))}for(let v of y.effects)v.is(Jr)&&(g=v.value.clip(this.state))}this.viewState.update(r,g),this.bidiCache=Eo.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),t=this.docView.update(r),this.state.facet(ar)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(y=>y.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(oo)!=r.state.facet(oo)&&(this.viewState.mustMeasureContent=!0),(t||n||g||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!r.empty)for(let y of this.state.facet(Ha))try{y(r)}catch(v){It(this.state,v,"update listener")}(h||f)&&Promise.resolve().then(()=>{h&&this.state==h.startState&&this.dispatch(h),f&&!wf(this,f)&&d.force&&Ci(this.contentDOM,d.key,d.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new Xh(e),this.plugins=e.facet(sr).map(n=>new ta(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView.destroy(),this.docView=new Sh(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(sr),n=e.state.facet(sr);if(t!=n){let r=[];for(let o of n){let a=t.indexOf(o);if(a<0)r.push(new ta(o));else{let l=this.plugins[a];l.mustUpdate=e,r.push(l)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this);t!=n&&this.inputState.ensureHandlers(this.plugins)}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,n=this.scrollDOM,r=n.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:a}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let l=0;;l++){if(a<0)if(Md(n))o=-1,a=this.viewState.heightMap.height;else{let v=this.viewState.scrollAnchorAt(r);o=v.from,a=v.top}this.updateState=1;let h=this.viewState.measure(this);if(!h&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let d=[];h&4||([this.measureRequests,d]=[d,this.measureRequests]);let f=d.map(v=>{try{return v.read(this)}catch(w){return It(this.state,w),Yh}}),g=Zo.create(this,this.state,[]),y=!1;g.flags|=h,t?t.flags|=h:t=g,this.updateState=2,g.empty||(this.updatePlugins(g),this.inputState.update(g),this.updateAttrs(),y=this.docView.update(g));for(let v=0;v<d.length;v++)if(f[v]!=Yh)try{let w=d[v];w.write&&w.write(f[v],this)}catch(w){It(this.state,w)}if(y&&this.docView.updateSelection(!0),!g.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let w=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-a;if(w>1||w<-1){r=r+w,n.scrollTop=r/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let l of this.state.facet(Ha))l(t)}get themeClasses(){return nl+" "+(this.state.facet(tl)?vf:yf)+" "+this.state.facet(oo)}updateAttrs(){let e=_h(this,ef,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Ts)?"true":"false",class:"cm-content",style:`${z.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),_h(this,Xl,t);let n=this.observer.ignore(()=>{let r=qa(this.contentDOM,this.contentAttrs,t),o=qa(this.dom,this.editorAttrs,e);return r||o});return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let r of n.effects)if(r.is(F.announce)){t&&(this.announceDOM.textContent=""),t=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(ar);let e=this.state.facet(F.cspNonce);ji.mount(this.root,this.styleModules.concat(Eb).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(n=>n.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return ia(this,e,Th(this,e,t,n))}moveByGroup(e,t){return ia(this,e,Th(this,e,t,n=>cb(this,e.head,n)))}visualLineSide(e,t){let n=this.bidiSpans(e),r=this.textDirectionAt(e.from),o=n[t?n.length-1:0];return j.cursor(o.side(t,r)+e.from,o.forward(!t,r)?1:-1)}moveToLineBoundary(e,t,n=!0){return lb(this,e,t,n)}moveVertically(e,t,n){return ia(this,e,hb(this,e,t,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),lf(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let r=this.state.doc.lineAt(e),o=this.bidiSpans(r),a=o[Zn.find(o,e-r.from,-1,t)];return Ll(n,a.dir==Se.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Kd)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Hb)return Fd(e.length);let t=this.textDirectionAt(e.from),n;for(let o of this.bidiCache)if(o.from==e.from&&o.dir==t&&(o.fresh||Id(o.isolates,n=xh(this,e))))return o.order;n||(n=xh(this,e));let r=qO(e.text,t,n);return this.bidiCache.push(new Eo(e.from,e.to,t,n,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||z.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Ad(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Jr.of(new $i(typeof e=="number"?j.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return Jr.of(new $i(j.cursor(n.from),"start","start",n.top-e,t,!0))}static domEventHandlers(e){return nt.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return nt.define(()=>({}),{eventObservers:e})}static theme(e,t){let n=ji.newName(),r=[oo.of(n),ar.of(il(`.${n}`,e))];return t&&t.dark&&r.push(tl.of(!0)),r}static baseTheme(e){return Jt.lowest(ar.of(il("."+nl,e,kf)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),r=n&&Ee.get(n)||Ee.get(e);return((t=r?.rootView)===null||t===void 0?void 0:t.view)||null}}F.styleModule=ar;F.inputHandler=Gd;F.focusChangeEffect=Hd;F.perLineTextDirection=Kd;F.exceptionSink=zd;F.updateListener=Ha;F.editable=Ts;F.mouseSelectionStyle=_d;F.dragMovesSelection=Yd;F.clickAddsSelectionRange=qd;F.decorations=Sr;F.outerDecorations=tf;F.atomicRanges=Il;F.bidiIsolatedRanges=nf;F.scrollMargins=rf;F.darkTheme=tl;F.cspNonce=G.define({combine:i=>i.length?i[0]:""});F.contentAttributes=Xl;F.editorAttributes=ef;F.lineWrapping=F.contentAttributes.of({class:"cm-lineWrapping"});F.announce=re.define();const Hb=4096,Yh={};class Eo{constructor(e,t,n,r,o,a){this.from=e,this.to=t,this.dir=n,this.isolates=r,this.fresh=o,this.order=a}static update(e,t){if(t.empty&&!e.some(o=>o.fresh))return e;let n=[],r=e.length?e[e.length-1].dir:Se.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let a=e[o];a.dir==r&&!t.touchesRange(a.from,a.to)&&n.push(new Eo(t.mapPos(a.from,1),t.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return n}}function _h(i,e,t){for(let n=i.state.facet(e),r=n.length-1;r>=0;r--){let o=n[r],a=typeof o=="function"?o(i):o;a&&Va(a,t)}return t}const Kb=z.mac?"mac":z.windows?"win":z.linux?"linux":"key";function Jb(i,e){const t=i.split(/-(?!$)/);let n=t[t.length-1];n=="Space"&&(n=" ");let r,o,a,l;for(let h=0;h<t.length-1;++h){const d=t[h];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))o=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))e=="mac"?l=!0:o=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),l&&(n="Meta-"+n),a&&(n="Shift-"+n),n}function so(i,e,t){return e.altKey&&(i="Alt-"+i),e.ctrlKey&&(i="Ctrl-"+i),e.metaKey&&(i="Meta-"+i),t!==!1&&e.shiftKey&&(i="Shift-"+i),i}const e0=Jt.default(F.domEventHandlers({keydown(i,e){return Sf(xf(e.state),i,e,"editor")}})),zn=G.define({enables:e0}),zh=new WeakMap;function xf(i){let e=i.facet(zn),t=zh.get(e);return t||zh.set(e,t=i0(e.reduce((n,r)=>n.concat(r),[]))),t}function t0(i,e,t){return Sf(xf(i.state),e,i,t)}let Un=null;const n0=4e3;function i0(i,e=Kb){let t=Object.create(null),n=Object.create(null),r=(a,l)=>{let h=n[a];if(h==null)n[a]=l;else if(h!=l)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},o=(a,l,h,d,f)=>{var g,y;let v=t[a]||(t[a]=Object.create(null)),w=l.split(/ (?!$)/).map(M=>Jb(M,e));for(let M=1;M<w.length;M++){let Z=w.slice(0,M).join(" ");r(Z,!0),v[Z]||(v[Z]={preventDefault:!0,stopPropagation:!1,run:[W=>{let N=Un={view:W,prefix:Z,scope:a};return setTimeout(()=>{Un==N&&(Un=null)},n0),!0}]})}let C=w.join(" ");r(C,!1);let $=v[C]||(v[C]={preventDefault:!1,stopPropagation:!1,run:((y=(g=v._any)===null||g===void 0?void 0:g.run)===null||y===void 0?void 0:y.slice())||[]});h&&$.run.push(h),d&&($.preventDefault=!0),f&&($.stopPropagation=!0)};for(let a of i){let l=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let d of l){let f=t[d]||(t[d]=Object.create(null));f._any||(f._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let g in f)f[g].run.push(a.any)}let h=a[e]||a.key;if(h)for(let d of l)o(d,h,a.run,a.preventDefault,a.stopPropagation),a.shift&&o(d,"Shift-"+h,a.shift,a.preventDefault,a.stopPropagation)}return t}function Sf(i,e,t,n){let r=CO(e),o=mt(r,0),a=Et(o)==r.length&&r!=" ",l="",h=!1,d=!1,f=!1;Un&&Un.view==t&&Un.scope==n&&(l=Un.prefix+" ",hf.indexOf(e.keyCode)<0&&(d=!0,Un=null));let g=new Set,y=$=>{if($){for(let M of $.run)if(!g.has(M)&&(g.add(M),M(t,e)))return $.stopPropagation&&(f=!0),!0;$.preventDefault&&($.stopPropagation&&(f=!0),d=!0)}return!1},v=i[n],w,C;return v&&(y(v[l+so(r,e,!a)])?h=!0:a&&(e.altKey||e.metaKey||e.ctrlKey)&&!(z.windows&&e.ctrlKey&&e.altKey)&&(w=Yn[e.keyCode])&&w!=r?(y(v[l+so(w,e,!0)])||e.shiftKey&&(C=kr[e.keyCode])!=r&&C!=w&&y(v[l+so(C,e,!1)]))&&(h=!0):a&&e.shiftKey&&y(v[l+so(r,e,!0)])&&(h=!0),!h&&y(v._any)&&(h=!0)),d&&(h=!0),h&&f&&e.stopPropagation(),h}class jr{constructor(e,t,n,r,o){this.className=e,this.left=t,this.top=n,this.width=r,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,n){if(n.empty){let r=e.coordsAtPos(n.head,n.assoc||1);if(!r)return[];let o=Pf(e);return[new jr(t,r.left-o.left,r.top-o.top,null,r.bottom-r.top)]}else return r0(e,t,n)}}function Pf(i){let e=i.scrollDOM.getBoundingClientRect();return{left:(i.textDirection==Se.LTR?e.left:e.right-i.scrollDOM.clientWidth*i.scaleX)-i.scrollDOM.scrollLeft*i.scaleX,top:e.top-i.scrollDOM.scrollTop*i.scaleY}}function Gh(i,e,t){let n=j.cursor(e);return{from:Math.max(t.from,i.moveToLineBoundary(n,!1,!0).from),to:Math.min(t.to,i.moveToLineBoundary(n,!0,!0).from),type:xt.Text}}function r0(i,e,t){if(t.to<=i.viewport.from||t.from>=i.viewport.to)return[];let n=Math.max(t.from,i.viewport.from),r=Math.min(t.to,i.viewport.to),o=i.textDirection==Se.LTR,a=i.contentDOM,l=a.getBoundingClientRect(),h=Pf(i),d=a.querySelector(".cm-line"),f=d&&window.getComputedStyle(d),g=l.left+(f?parseInt(f.paddingLeft)+Math.min(0,parseInt(f.textIndent)):0),y=l.right-(f?parseInt(f.paddingRight):0),v=Ja(i,n),w=Ja(i,r),C=v.type==xt.Text?v:null,$=w.type==xt.Text?w:null;if(C&&(i.lineWrapping||v.widgetLineBreaks)&&(C=Gh(i,n,C)),$&&(i.lineWrapping||w.widgetLineBreaks)&&($=Gh(i,r,$)),C&&$&&C.from==$.from)return Z(W(t.from,t.to,C));{let B=C?W(t.from,null,C):N(v,!1),U=$?W(null,t.to,$):N(w,!0),E=[];return(C||v).to<($||w).from-(C&&$?1:0)||v.widgetLineBreaks>1&&B.bottom+i.defaultLineHeight/2<U.top?E.push(M(g,B.bottom,y,U.top)):B.bottom<U.top&&i.elementAtHeight((B.bottom+U.top)/2).type==xt.Text&&(B.bottom=U.top=(B.bottom+U.top)/2),Z(B).concat(E).concat(Z(U))}function M(B,U,E,H){return new jr(e,B-h.left,U-h.top-.01,E-B,H-U+.01)}function Z({top:B,bottom:U,horizontal:E}){let H=[];for(let q=0;q<E.length;q+=2)H.push(M(E[q],B,E[q+1],U));return H}function W(B,U,E){let H=1e9,q=-1e9,V=[];function _(ae,le,ce,We,Pe){let fe=i.coordsAtPos(ae,ae==E.to?-2:2),de=i.coordsAtPos(ce,ce==E.from?2:-2);!fe||!de||(H=Math.min(fe.top,de.top,H),q=Math.max(fe.bottom,de.bottom,q),Pe==Se.LTR?V.push(o&&le?g:fe.left,o&&We?y:de.right):V.push(!o&&We?g:de.left,!o&&le?y:fe.right))}let K=B??E.from,se=U??E.to;for(let ae of i.visibleRanges)if(ae.to>K&&ae.from<se)for(let le=Math.max(ae.from,K),ce=Math.min(ae.to,se);;){let We=i.state.doc.lineAt(le);for(let Pe of i.bidiSpans(We)){let fe=Pe.from+We.from,de=Pe.to+We.from;if(fe>=ce)break;de>le&&_(Math.max(fe,le),B==null&&fe<=K,Math.min(de,ce),U==null&&de>=se,Pe.dir)}if(le=We.to+1,le>=ce)break}return V.length==0&&_(K,B==null,se,U==null,i.textDirection),{top:H,bottom:q,horizontal:V}}function N(B,U){let E=l.top+(U?B.top:B.bottom);return{top:E,bottom:E,horizontal:[]}}}function o0(i,e){return i.constructor==e.constructor&&i.eq(e)}class s0{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Qo)!=e.state.facet(Qo)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}setOrder(e){let t=0,n=e.facet(Qo);for(;t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,n)=>!o0(t,this.drawn[n]))){let t=this.dom.firstChild,n=0;for(let r of e)r.update&&t&&r.constructor&&this.drawn[n].constructor&&r.update(t,this.drawn[n])?(t=t.nextSibling,n++):this.dom.insertBefore(r.draw(),t);for(;t;){let r=t.nextSibling;t.remove(),t=r}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Qo=G.define();function Qf(i){return[nt.define(e=>new s0(e,i)),Qo.of(i)]}const Cf=!z.ios,Ni=G.define({combine(i){return pi(i,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function a0(i={}){return[Ni.of(i),c0,h0,u0,Jd.of(!0)]}function l0(i){return i.facet(Ni)}function $f(i){return i.startState.facet(Ni)!=i.state.facet(Ni)}const c0=Qf({above:!0,markers(i){let{state:e}=i,t=e.facet(Ni),n=[];for(let r of e.selection.ranges){let o=r==e.selection.main;if(r.empty?!o||Cf:t.drawRangeCursor){let a=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",l=r.empty?r:j.cursor(r.head,r.head>r.anchor?-1:1);for(let h of jr.forRange(i,a,l))n.push(h)}}return n},update(i,e){i.transactions.some(n=>n.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=$f(i);return t&&Hh(i.state,e),i.docChanged||i.selectionSet||t},mount(i,e){Hh(e.state,i)},class:"cm-cursorLayer"});function Hh(i,e){e.style.animationDuration=i.facet(Ni).cursorBlinkRate+"ms"}const h0=Qf({above:!1,markers(i){return i.state.selection.ranges.map(e=>e.empty?[]:jr.forRange(i,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(i,e){return i.docChanged||i.selectionSet||i.viewportChanged||$f(i)},class:"cm-selectionLayer"}),rl={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};Cf&&(rl[".cm-line"].caretColor="transparent !important",rl[".cm-content"]={caretColor:"transparent !important"});const u0=Jt.highest(F.theme(rl));function d0(){return p0}const f0=ne.line({class:"cm-activeLine"}),p0=nt.fromClass(class{constructor(i){this.decorations=this.getDeco(i)}update(i){(i.docChanged||i.selectionSet)&&(this.decorations=this.getDeco(i.view))}getDeco(i){let e=-1,t=[];for(let n of i.state.selection.ranges){let r=i.lineBlockAt(n.head);r.from>e&&(t.push(f0.range(r.from)),e=r.from)}return ne.set(t)}},{decorations:i=>i.decorations}),er="-10000px";class Af{constructor(e,t,n){this.facet=t,this.createTooltipView=n,this.input=e.state.facet(t),this.tooltips=this.input.filter(r=>r),this.tooltipViews=this.tooltips.map(n)}update(e,t){var n;let r=e.state.facet(this.facet),o=r.filter(h=>h);if(r===this.input){for(let h of this.tooltipViews)h.update&&h.update(e);return!1}let a=[],l=t?[]:null;for(let h=0;h<o.length;h++){let d=o[h],f=-1;if(d){for(let g=0;g<this.tooltips.length;g++){let y=this.tooltips[g];y&&y.create==d.create&&(f=g)}if(f<0)a[h]=this.createTooltipView(d),l&&(l[h]=!!d.above);else{let g=a[h]=this.tooltipViews[f];l&&(l[h]=t[f]),g.update&&g.update(e)}}}for(let h of this.tooltipViews)a.indexOf(h)<0&&(h.dom.remove(),(n=h.destroy)===null||n===void 0||n.call(h));return t&&(l.forEach((h,d)=>t[d]=h),t.length=l.length),this.input=r,this.tooltips=o,this.tooltipViews=a,!0}}function m0(i){let{win:e}=i;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const sa=G.define({combine:i=>{var e,t,n;return{position:z.ios?"absolute":((e=i.find(r=>r.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=i.find(r=>r.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((n=i.find(r=>r.tooltipSpace))===null||n===void 0?void 0:n.tooltipSpace)||m0}}}),Kh=new WeakMap,Vl=nt.fromClass(class{constructor(i){this.view=i,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=i.state.facet(sa);this.position=e.position,this.parent=e.parent,this.classes=i.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new Af(i,ql,t=>this.createTooltip(t)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),i.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let i of this.manager.tooltipViews)this.intersectionObserver.observe(i.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(i){i.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(i,this.above);e&&this.observeIntersection();let t=e||i.geometryChanged,n=i.state.facet(sa);if(n.position!=this.position&&!this.madeAbsolute){this.position=n.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;t=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(i){let e=i.create(this.view);if(e.dom.classList.add("cm-tooltip"),i.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=er,e.dom.style.left="0px",this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var i,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),(i=t.destroy)===null||i===void 0||i.call(t);this.parent&&this.container.remove(),(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let i=this.view.dom.getBoundingClientRect(),e=1,t=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:r}=this.manager.tooltipViews[0];if(z.gecko)n=r.offsetParent!=this.container.ownerDocument.body;else if(r.style.top==er&&r.style.left=="0px"){let o=r.getBoundingClientRect();n=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(n||this.position=="absolute")if(this.parent){let r=this.parent.getBoundingClientRect();r.width&&r.height&&(e=r.width/this.parent.offsetWidth,t=r.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:t}=this.view.viewState);return{editor:i,parent:this.parent?this.container.getBoundingClientRect():i,pos:this.manager.tooltips.map((r,o)=>{let a=this.manager.tooltipViews[o];return a.getCoords?a.getCoords(r.pos):this.view.coordsAtPos(r.pos)}),size:this.manager.tooltipViews.map(({dom:r})=>r.getBoundingClientRect()),space:this.view.state.facet(sa).tooltipSpace(this.view),scaleX:e,scaleY:t,makeAbsolute:n}}writeMeasure(i){var e;if(i.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let l of this.manager.tooltipViews)l.dom.style.position="absolute"}let{editor:t,space:n,scaleX:r,scaleY:o}=i,a=[];for(let l=0;l<this.manager.tooltips.length;l++){let h=this.manager.tooltips[l],d=this.manager.tooltipViews[l],{dom:f}=d,g=i.pos[l],y=i.size[l];if(!g||g.bottom<=Math.max(t.top,n.top)||g.top>=Math.min(t.bottom,n.bottom)||g.right<Math.max(t.left,n.left)-.1||g.left>Math.min(t.right,n.right)+.1){f.style.top=er;continue}let v=h.arrow?d.dom.querySelector(".cm-tooltip-arrow"):null,w=v?7:0,C=y.right-y.left,$=(e=Kh.get(d))!==null&&e!==void 0?e:y.bottom-y.top,M=d.offset||O0,Z=this.view.textDirection==Se.LTR,W=y.width>n.right-n.left?Z?n.left:n.right-y.width:Z?Math.min(g.left-(v?14:0)+M.x,n.right-C):Math.max(n.left,g.left-C+(v?14:0)-M.x),N=this.above[l];!h.strictSide&&(N?g.top-(y.bottom-y.top)-M.y<n.top:g.bottom+(y.bottom-y.top)+M.y>n.bottom)&&N==n.bottom-g.bottom>g.top-n.top&&(N=this.above[l]=!N);let B=(N?g.top-n.top:n.bottom-g.bottom)-w;if(B<$&&d.resize!==!1){if(B<this.view.defaultLineHeight){f.style.top=er;continue}Kh.set(d,$),f.style.height=($=B)/o+"px"}else f.style.height&&(f.style.height="");let U=N?g.top-$-w-M.y:g.bottom+w+M.y,E=W+C;if(d.overlap!==!0)for(let H of a)H.left<E&&H.right>W&&H.top<U+$&&H.bottom>U&&(U=N?H.top-$-2-w:H.bottom+w+2);if(this.position=="absolute"?(f.style.top=(U-i.parent.top)/o+"px",f.style.left=(W-i.parent.left)/r+"px"):(f.style.top=U/o+"px",f.style.left=W/r+"px"),v){let H=g.left+(Z?M.x:-M.x)-(W+14-7);v.style.left=H/r+"px"}d.overlap!==!0&&a.push({left:W,top:U,right:E,bottom:U+$}),f.classList.toggle("cm-tooltip-above",N),f.classList.toggle("cm-tooltip-below",!N),d.positioned&&d.positioned(i.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let i of this.manager.tooltipViews)i.dom.style.top=er}},{eventObservers:{scroll(){this.maybeMeasure()}}}),g0=F.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),O0={x:0,y:0},ql=G.define({enables:[Vl,g0]}),Wo=G.define();class Ms{static create(e){return new Ms(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Af(e,Wo,t=>this.createHostedView(t))}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let n of this.manager.tooltipViews){let r=n[e];if(r!==void 0){if(t===void 0)t=r;else if(t!==r)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const b0=ql.compute([Wo],i=>{let e=i.facet(Wo).filter(t=>t);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var n;return(n=t.end)!==null&&n!==void 0?n:t.pos})),create:Ms.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class y0{constructor(e,t,n,r,o){this.view=e,this.source=t,this.field=n,this.setHover=r,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,n=e.docView.nearest(t.target);if(!n)return;let r,o=1;if(n instanceof Ln)r=n.posAtStart;else{if(r=e.posAtCoords(t),r==null)return;let l=e.coordsAtPos(r);if(!l||t.y<l.top||t.y>l.bottom||t.x<l.left-e.defaultCharacterWidth||t.x>l.right+e.defaultCharacterWidth)return;let h=e.bidiSpans(e.state.doc.lineAt(r)).find(f=>f.from<=r&&f.to>=r),d=h&&h.dir==Se.RTL?-1:1;o=t.x<l.left?-d:d}let a=this.source(e,r,o);if(a?.then){let l=this.pending={pos:r};a.then(h=>{this.pending==l&&(this.pending=null,h&&e.dispatch({effects:this.setHover.of(h)}))},h=>It(e.state,h,"hover tooltip"))}else a&&e.dispatch({effects:this.setHover.of(a)})}get tooltip(){let e=this.view.plugin(Vl),t=e?e.manager.tooltips.findIndex(n=>n.create==Ms.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:n,tooltip:r}=this;if(n&&r&&!v0(r.dom,e)||this.pending){let{pos:o}=n||this.pending,a=(t=n?.end)!==null&&t!==void 0?t:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!k0(this.view,o,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t){let{tooltip:n}=this;n&&n.dom.contains(e.relatedTarget)?this.watchTooltipLeave(n.dom):this.view.dispatch({effects:this.setHover.of(null)})}}watchTooltipLeave(e){let t=n=>{e.removeEventListener("mouseleave",t),this.active&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const ao=4;function v0(i,e){let t=i.getBoundingClientRect();return e.clientX>=t.left-ao&&e.clientX<=t.right+ao&&e.clientY>=t.top-ao&&e.clientY<=t.bottom+ao}function k0(i,e,t,n,r,o){let a=i.scrollDOM.getBoundingClientRect(),l=i.documentTop+i.documentPadding.top+i.contentHeight;if(a.left>n||a.right<n||a.top>r||Math.min(a.bottom,l)<r)return!1;let h=i.posAtCoords({x:n,y:r},!1);return h>=e&&h<=t}function Tf(i,e={}){let t=re.define(),n=Ye.define({create(){return null},update(r,o){if(r&&(e.hideOnChange&&(o.docChanged||o.selection)||e.hideOn&&e.hideOn(o,r)))return null;if(r&&o.docChanged){let a=o.changes.mapPos(r.pos,-1,_e.TrackDel);if(a==null)return null;let l=Object.assign(Object.create(null),r);l.pos=a,r.end!=null&&(l.end=o.changes.mapPos(r.end)),r=l}for(let a of o.effects)a.is(t)&&(r=a.value),a.is(w0)&&(r=null);return r},provide:r=>Wo.from(r)});return[n,nt.define(r=>new y0(r,i,n,t,e.hoverTime||300)),b0]}function Mf(i,e){let t=i.plugin(Vl);if(!t)return null;let n=t.manager.tooltips.indexOf(e);return n<0?null:t.manager.tooltipViews[n]}const w0=re.define(),Jh=G.define({combine(i){let e,t;for(let n of i)e=e||n.topContainer,t=t||n.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Pr(i,e){let t=i.plugin(Df),n=t?t.specs.indexOf(e):-1;return n>-1?t.panels[n]:null}const Df=nt.fromClass(class{constructor(i){this.input=i.state.facet(Gn),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(i));let e=i.state.facet(Jh);this.top=new lo(i,!0,e.topContainer),this.bottom=new lo(i,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(i){let e=i.state.facet(Jh);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new lo(i.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new lo(i.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=i.state.facet(Gn);if(t!=this.input){let n=t.filter(h=>h),r=[],o=[],a=[],l=[];for(let h of n){let d=this.specs.indexOf(h),f;d<0?(f=h(i.view),l.push(f)):(f=this.panels[d],f.update&&f.update(i)),r.push(f),(f.top?o:a).push(f)}this.specs=n,this.panels=r,this.top.sync(o),this.bottom.sync(a);for(let h of l)h.dom.classList.add("cm-panel"),h.mount&&h.mount()}else for(let n of this.panels)n.update&&n.update(i)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:i=>F.scrollMargins.of(e=>{let t=e.plugin(i);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class lo{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=eu(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=eu(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function eu(i){let e=i.nextSibling;return i.remove(),e}const Gn=G.define({enables:Df});class Hn extends Vn{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Hn.prototype.elementClass="";Hn.prototype.toDOM=void 0;Hn.prototype.mapMode=_e.TrackBefore;Hn.prototype.startSide=Hn.prototype.endSide=-1;Hn.prototype.point=!0;const Co=G.define(),$o=G.define(),ol=G.define({combine:i=>i.some(e=>e)});function x0(i){let e=[S0];return i&&i.fixed===!1&&e.push(ol.of(!0)),e}const S0=nt.fromClass(class{constructor(i){this.view=i,this.prevViewport=i.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=i.state.facet($o).map(e=>new nu(i,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!i.state.facet(ol),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),i.scrollDOM.insertBefore(this.dom,i.contentDOM)}update(i){if(this.updateGutters(i)){let e=this.prevViewport,t=i.view.viewport,n=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(n<(t.to-t.from)*.8)}i.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(ol)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=i.view.viewport}syncGutters(i){let e=this.dom.nextSibling;i&&this.dom.remove();let t=be.iter(this.view.state.facet(Co),this.view.viewport.from),n=[],r=this.gutters.map(o=>new P0(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(o.type)){let a=!0;for(let l of o.type)if(l.type==xt.Text&&a){sl(t,n,l.from);for(let h of r)h.line(this.view,l,n);a=!1}else if(l.widget)for(let h of r)h.widget(this.view,l)}else if(o.type==xt.Text){sl(t,n,o.from);for(let a of r)a.line(this.view,o,n)}else if(o.widget)for(let a of r)a.widget(this.view,o);for(let o of r)o.finish();i&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(i){let e=i.startState.facet($o),t=i.state.facet($o),n=i.docChanged||i.heightChanged||i.viewportChanged||!be.eq(i.startState.facet(Co),i.state.facet(Co),i.view.viewport.from,i.view.viewport.to);if(e==t)for(let r of this.gutters)r.update(i)&&(n=!0);else{n=!0;let r=[];for(let o of t){let a=e.indexOf(o);a<0?r.push(new nu(this.view,o)):(this.gutters[a].update(i),r.push(this.gutters[a]))}for(let o of this.gutters)o.dom.remove(),r.indexOf(o)<0&&o.destroy();for(let o of r)this.dom.appendChild(o.dom);this.gutters=r}return n}destroy(){for(let i of this.gutters)i.destroy();this.dom.remove()}},{provide:i=>F.scrollMargins.of(e=>{let t=e.plugin(i);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==Se.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function tu(i){return Array.isArray(i)?i:[i]}function sl(i,e,t){for(;i.value&&i.from<=t;)i.from==t&&e.push(i.value),i.next()}class P0{constructor(e,t,n){this.gutter=e,this.height=n,this.i=0,this.cursor=be.iter(e.markers,t.from)}addElement(e,t,n){let{gutter:r}=this,o=(t.top-this.height)/e.scaleY,a=t.height/e.scaleY;if(this.i==r.elements.length){let l=new Bf(e,a,o,n);r.elements.push(l),r.dom.appendChild(l.dom)}else r.elements[this.i].update(e,a,o,n);this.height=t.bottom,this.i++}line(e,t,n){let r=[];sl(this.cursor,r,t.from),n.length&&(r=r.concat(n));let o=this.gutter.config.lineMarker(e,t,r);o&&r.unshift(o);let a=this.gutter;r.length==0&&!a.config.renderEmptyElements||this.addElement(e,t,r)}widget(e,t){let n=this.gutter.config.widgetMarker(e,t.widget,t);n&&this.addElement(e,t,[n])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class nu{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,r=>{let o=r.target,a;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let h=o.getBoundingClientRect();a=(h.top+h.bottom)/2}else a=r.clientY;let l=e.lineBlockAtHeight(a-e.documentTop);t.domEventHandlers[n](e,l,r)&&r.preventDefault()});this.markers=tu(t.markers(e)),t.initialSpacer&&(this.spacer=new Bf(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=tu(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}let n=e.view.viewport;return!be.eq(this.markers,t,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class Bf{constructor(e,t,n,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,r)}update(e,t,n,r){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),Q0(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let n="cm-gutterElement",r=this.dom.firstChild;for(let o=0,a=0;;){let l=a,h=o<t.length?t[o++]:null,d=!1;if(h){let f=h.elementClass;f&&(n+=" "+f);for(let g=a;g<this.markers.length;g++)if(this.markers[g].compare(h)){l=g,d=!0;break}}else l=this.markers.length;for(;a<l;){let f=this.markers[a++];if(f.toDOM){f.destroy(r);let g=r.nextSibling;r.remove(),r=g}}if(!h)break;h.toDOM&&(d?r=r.nextSibling:this.dom.insertBefore(h.toDOM(e),r)),d&&a++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}function Q0(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++)if(!i[t].compare(e[t]))return!1;return!0}const C0=G.define(),ki=G.define({combine(i){return pi(i,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let r in t){let o=n[r],a=t[r];n[r]=o?(l,h,d)=>o(l,h,d)||a(l,h,d):a}return n}})}});class aa extends Hn{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function la(i,e){return i.state.facet(ki).formatNumber(e,i.state)}const $0=$o.compute([ki],i=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(C0)},lineMarker(e,t,n){return n.some(r=>r.toDOM)?null:new aa(la(e,e.state.doc.lineAt(t.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(ki)!=e.state.facet(ki),initialSpacer(e){return new aa(la(e,iu(e.state.doc.lines)))},updateSpacer(e,t){let n=la(t.view,iu(t.view.state.doc.lines));return n==e.number?e:new aa(n)},domEventHandlers:i.facet(ki).domEventHandlers}));function A0(i={}){return[ki.of(i),x0(),$0]}function iu(i){let e=9;for(;e<i;)e=e*10+9;return e}const T0=new class extends Hn{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},M0=Co.compute(["selection"],i=>{let e=[],t=-1;for(let n of i.selection.ranges){let r=i.doc.lineAt(n.head).from;r>t&&(t=r,e.push(T0.range(r)))}return be.of(e)});function D0(){return M0}const Rf=1024;let B0=0;class ca{constructor(e,t){this.from=e,this.to=t}}let he=class{constructor(e={}){this.id=B0++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Vt.match(e)),t=>{let n=e(t);return n===void 0?null:[this,n]}}};he.closedBy=new he({deserialize:i=>i.split(" ")});he.openedBy=new he({deserialize:i=>i.split(" ")});he.group=new he({deserialize:i=>i.split(" ")});he.isolate=new he({deserialize:i=>{if(i&&i!="rtl"&&i!="ltr"&&i!="auto")throw new RangeError("Invalid value for isolate: "+i);return i||"auto"}});he.contextHash=new he({perNode:!0});he.lookAhead=new he({perNode:!0});he.mounted=new he({perNode:!0});class Xo{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}static get(e){return e&&e.props&&e.props[he.mounted.id]}}const R0=Object.create(null);let Vt=class jf{constructor(e,t,n,r=0){this.name=e,this.props=t,this.id=n,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):R0,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new jf(e.name||"",t,e.id,n);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(r)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[o[0].id]=o[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(he.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let r of n.split(" "))t[r]=e[n];return n=>{for(let r=n.prop(he.group),o=-1;o<(r?r.length:0);o++){let a=t[o<0?n.name:r[o]];if(a)return a}}}};Vt.none=new Vt("",Object.create(null),0,8);class Yl{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let r=null;for(let o of e){let a=o(n);a&&(r||(r=Object.assign({},n.props)),r[a[0].id]=a[1])}t.push(r?new Vt(n.name,r,n.id,n.flags):n)}return new Yl(t)}}const co=new WeakMap,ru=new WeakMap;var rt;(function(i){i[i.ExcludeBuffers=1]="ExcludeBuffers",i[i.IncludeAnonymous=2]="IncludeAnonymous",i[i.IgnoreMounts=4]="IgnoreMounts",i[i.IgnoreOverlays=8]="IgnoreOverlays"})(rt||(rt={}));let ht=class al{constructor(e,t,n,r,o){if(this.type=e,this.children=t,this.positions=n,this.length=r,this.props=null,o&&o.length){this.props=Object.create(null);for(let[a,l]of o)this.props[typeof a=="number"?a:a.id]=l}}toString(){let e=Xo.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let n of this.children){let r=n.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new hl(this.topNode,e)}cursorAt(e,t=0,n=0){let r=co.get(this)||this.topNode,o=new hl(r);return o.moveTo(e,t),co.set(this,o._tree),o}get topNode(){return new Kn(this,0,0,null)}resolve(e,t=0){let n=Qr(co.get(this)||this.topNode,e,t,!1);return co.set(this,n),n}resolveInner(e,t=0){let n=Qr(ru.get(this)||this.topNode,e,t,!0);return ru.set(this,n),n}resolveStack(e,t=0){return L0(this,e,t)}iterate(e){let{enter:t,leave:n,from:r=0,to:o=this.length}=e,a=e.mode||0,l=(a&rt.IncludeAnonymous)>0;for(let h=this.cursor(a|rt.IncludeAnonymous);;){let d=!1;if(h.from<=o&&h.to>=r&&(!l&&h.type.isAnonymous||t(h)!==!1)){if(h.firstChild())continue;d=!0}for(;d&&n&&(l||!h.type.isAnonymous)&&n(h),!h.nextSibling();){if(!h.parent())return;d=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:zl(Vt.none,this.children,this.positions,0,this.children.length,0,this.length,(t,n,r)=>new al(this.type,t,n,r,this.propValues),e.makeTree||((t,n,r)=>new al(Vt.none,t,n,r)))}static build(e){return Z0(e)}};ht.empty=new ht(Vt.none,[],[],0);let j0=class Uf{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Uf(this.buffer,this.index)}},Li=class Nf{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return Vt.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],r=this.set.types[t],o=r.name;if(/\W/.test(o)&&!r.isError&&(o=JSON.stringify(o)),e+=4,n==e)return o;let a=[];for(;e<n;)a.push(this.childString(e)),e=this.buffer[e+3];return o+"("+a.join(",")+")"}findChild(e,t,n,r,o){let{buffer:a}=this,l=-1;for(let h=e;h!=t&&!(Lf(o,r,a[h+1],a[h+2])&&(l=h,n>0));h=a[h+3]);return l}slice(e,t,n){let r=this.buffer,o=new Uint16Array(t-e),a=0;for(let l=e,h=0;l<t;){o[h++]=r[l++],o[h++]=r[l++]-n;let d=o[h++]=r[l++]-n;o[h++]=r[l++]-e,a=Math.max(a,d)}return new Nf(o,a,this.set)}};function Lf(i,e,t,n){switch(i){case-2:return t<e;case-1:return n>=e&&t<e;case 0:return t<e&&n>e;case 1:return t<=e&&n>e;case 2:return n>e;case 4:return!0}}function Qr(i,e,t,n){for(var r;i.from==i.to||(t<1?i.from>=e:i.from>e)||(t>-1?i.to<=e:i.to<e);){let a=!n&&i instanceof Kn&&i.index<0?null:i.parent;if(!a)return i;i=a}let o=n?0:rt.IgnoreOverlays;if(n)for(let a=i,l=a.parent;l;a=l,l=a.parent)a instanceof Kn&&a.index<0&&((r=l.enter(e,t,o))===null||r===void 0?void 0:r.from)!=a.from&&(i=l);for(;;){let a=i.enter(e,t,o);if(!a)return i;i=a}}class Zf{cursor(e=0){return new hl(this,e)}getChild(e,t=null,n=null){let r=ou(this,e,t,n);return r.length?r[0]:null}getChildren(e,t=null,n=null){return ou(this,e,t,n)}resolve(e,t=0){return Qr(this,e,t,!1)}resolveInner(e,t=0){return Qr(this,e,t,!0)}matchContext(e){return ll(this,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){let r=t.lastChild;if(!r||r.to!=t.to)break;r.type.isError&&r.from==r.to?(n=t,t=r.prevSibling):t=r}return n}get node(){return this}get next(){return this.parent}}let Kn=class Ao extends Zf{constructor(e,t,n,r){super(),this._tree=e,this.from=t,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,r,o=0){for(let a=this;;){for(let{children:l,positions:h}=a._tree,d=t>0?l.length:-1;e!=d;e+=t){let f=l[e],g=h[e]+a.from;if(Lf(r,n,g,g+f.length)){if(f instanceof Li){if(o&rt.ExcludeBuffers)continue;let y=f.findChild(0,f.buffer.length,t,n-g,r);if(y>-1)return new cl(new U0(a,f,e,g),null,y)}else if(o&rt.IncludeAnonymous||!f.type.isAnonymous||_l(f)){let y;if(!(o&rt.IgnoreMounts)&&(y=Xo.get(f))&&!y.overlay)return new Ao(y.tree,g,e,a);let v=new Ao(f,g,e,a);return o&rt.IncludeAnonymous||!v.type.isAnonymous?v:v.nextChild(t<0?f.children.length-1:0,t,n,r)}}}if(o&rt.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?e=a.index+t:e=t<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,n=0){let r;if(!(n&rt.IgnoreOverlays)&&(r=Xo.get(this._tree))&&r.overlay){let o=e-this.from;for(let{from:a,to:l}of r.overlay)if((t>0?a<=o:a<o)&&(t<0?l>=o:l>o))return new Ao(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function ou(i,e,t,n){let r=i.cursor(),o=[];if(!r.firstChild())return o;if(t!=null){for(;!r.type.is(t);)if(!r.nextSibling())return o}for(;;){if(n!=null&&r.type.is(n))return o;if(r.type.is(e)&&o.push(r.node),!r.nextSibling())return n==null?o:[]}}function ll(i,e,t=e.length-1){for(let n=i.parent;t>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[t]&&e[t]!=n.name)return!1;t--}}return!0}let U0=class{constructor(e,t,n,r){this.parent=e,this.buffer=t,this.index=n,this.start=r}},cl=class hr extends Zf{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,n);return o<0?null:new hr(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n=0){if(n&rt.ExcludeBuffers)return null;let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new hr(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new hr(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new hr(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,r=this.index+4,o=n.buffer[this.index+3];if(o>r){let a=n.buffer[this.index+1];e.push(n.slice(r,o,a)),t.push(0)}return new ht(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function Ef(i){if(!i.length)return null;let e=0,t=i[0];for(let o=1;o<i.length;o++){let a=i[o];(a.from>t.from||a.to<t.to)&&(t=a,e=o)}let n=t instanceof Kn&&t.index<0?null:t.parent,r=i.slice();return n?r[e]=n:r.splice(e,1),new N0(r,t)}class N0{constructor(e,t){this.heads=e,this.node=t}get next(){return Ef(this.heads)}}function L0(i,e,t){let n=i.resolveInner(e,t),r=null;for(let o=n instanceof Kn?n:n.context.parent;o;o=o.parent)if(o.index<0){let a=o.parent;(r||(r=[n])).push(a.resolve(e,t)),o=a}else{let a=Xo.get(o.tree);if(a&&a.overlay&&a.overlay[0].from<=e&&a.overlay[a.overlay.length-1].to>=e){let l=new Kn(a.tree,a.overlay[0].from+o.from,-1,o);(r||(r=[n])).push(Qr(l,e,t,!1))}}return r?Ef(r):n}let hl=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Kn)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:n,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=n+r.buffer[e+1],this.to=n+r.buffer[e+2],!0}yield(e){return e?e instanceof Kn?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:r}=this.buffer,o=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,n);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?n&rt.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&rt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&rt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let r=n<0?0:this.stack[n]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{let r=t.buffer[this.index+3];if(r<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(r)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(r.buffer.buffer[o+3]<this.index)return!1;({index:t,parent:n}=r)}else({index:t,_parent:n}=this._tree);for(;n;{index:t,_parent:n}=n)if(t>-1)for(let o=t+e,a=e<0?-1:n._tree.children.length;o!=a;o+=e){let l=n._tree.children[o];if(this.mode&rt.IncludeAnonymous||l instanceof Li||!l.type.isAnonymous||_l(l))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let r=this.index,o=this.stack.length;o>=0;){for(let a=e;a;a=a._parent)if(a.index==r){if(r==this.index)return a;t=a,n=o+1;break e}r=this.stack[--o]}for(let r=n;r<this.stack.length;r++)t=new cl(this.buffer,t,this.stack[r]);return this.bufferNode=new cl(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,r=!0}}}matchContext(e){if(!this.buffer)return ll(this.node,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let r=e.length-1,o=this.stack.length-1;r>=0;o--){if(o<0)return ll(this.node,e,r);let a=n[t.buffer[this.stack[o]]];if(!a.isAnonymous){if(e[r]&&e[r]!=a.name)return!1;r--}}return!0}};function _l(i){return i.children.some(e=>e instanceof Li||!e.type.isAnonymous||_l(e))}function Z0(i){var e;let{buffer:t,nodeSet:n,maxBufferLength:r=Rf,reused:o=[],minRepeatType:a=n.types.length}=i,l=Array.isArray(t)?new j0(t,t.length):t,h=n.types,d=0,f=0;function g(B,U,E,H,q,V){let{id:_,start:K,end:se,size:ae}=l,le=f;for(;ae<0;)if(l.next(),ae==-1){let de=o[_];E.push(de),H.push(K-B);return}else if(ae==-3){d=_;return}else if(ae==-4){f=_;return}else throw new RangeError(`Unrecognized record size: ${ae}`);let ce=h[_],We,Pe,fe=K-B;if(se-K<=r&&(Pe=$(l.pos-U,q))){let de=new Uint16Array(Pe.size-Pe.skip),Xe=l.pos-Pe.size,Qe=de.length;for(;l.pos>Xe;)Qe=M(Pe.start,de,Qe);We=new Li(de,se-Pe.start,n),fe=Pe.start-B}else{let de=l.pos-ae;l.next();let Xe=[],Qe=[],Pt=_>=a?_:-1,Nt=0,ni=se;for(;l.pos>de;)Pt>=0&&l.id==Pt&&l.size>=0?(l.end<=ni-r&&(w(Xe,Qe,K,Nt,l.end,ni,Pt,le),Nt=Xe.length,ni=l.end),l.next()):V>2500?y(K,de,Xe,Qe):g(K,de,Xe,Qe,Pt,V+1);if(Pt>=0&&Nt>0&&Nt<Xe.length&&w(Xe,Qe,K,Nt,K,ni,Pt,le),Xe.reverse(),Qe.reverse(),Pt>-1&&Nt>0){let An=v(ce);We=zl(ce,Xe,Qe,0,Xe.length,0,se-K,An,An)}else We=C(ce,Xe,Qe,se-K,le-se)}E.push(We),H.push(fe)}function y(B,U,E,H){let q=[],V=0,_=-1;for(;l.pos>U;){let{id:K,start:se,end:ae,size:le}=l;if(le>4)l.next();else{if(_>-1&&se<_)break;_<0&&(_=ae-r),q.push(K,se,ae),V++,l.next()}}if(V){let K=new Uint16Array(V*4),se=q[q.length-2];for(let ae=q.length-3,le=0;ae>=0;ae-=3)K[le++]=q[ae],K[le++]=q[ae+1]-se,K[le++]=q[ae+2]-se,K[le++]=le;E.push(new Li(K,q[2]-se,n)),H.push(se-B)}}function v(B){return(U,E,H)=>{let q=0,V=U.length-1,_,K;if(V>=0&&(_=U[V])instanceof ht){if(!V&&_.type==B&&_.length==H)return _;(K=_.prop(he.lookAhead))&&(q=E[V]+_.length+K)}return C(B,U,E,H,q)}}function w(B,U,E,H,q,V,_,K){let se=[],ae=[];for(;B.length>H;)se.push(B.pop()),ae.push(U.pop()+E-q);B.push(C(n.types[_],se,ae,V-q,K-V)),U.push(q-E)}function C(B,U,E,H,q=0,V){if(d){let _=[he.contextHash,d];V=V?[_].concat(V):[_]}if(q>25){let _=[he.lookAhead,q];V=V?[_].concat(V):[_]}return new ht(B,U,E,H,V)}function $(B,U){let E=l.fork(),H=0,q=0,V=0,_=E.end-r,K={size:0,start:0,skip:0};e:for(let se=E.pos-B;E.pos>se;){let ae=E.size;if(E.id==U&&ae>=0){K.size=H,K.start=q,K.skip=V,V+=4,H+=4,E.next();continue}let le=E.pos-ae;if(ae<0||le<se||E.start<_)break;let ce=E.id>=a?4:0,We=E.start;for(E.next();E.pos>le;){if(E.size<0)if(E.size==-3)ce+=4;else break e;else E.id>=a&&(ce+=4);E.next()}q=We,H+=ae,V+=ce}return(U<0||H==B)&&(K.size=H,K.start=q,K.skip=V),K.size>4?K:void 0}function M(B,U,E){let{id:H,start:q,end:V,size:_}=l;if(l.next(),_>=0&&H<a){let K=E;if(_>4){let se=l.pos-(_-4);for(;l.pos>se;)E=M(B,U,E)}U[--E]=K,U[--E]=V-B,U[--E]=q-B,U[--E]=H}else _==-3?d=H:_==-4&&(f=H);return E}let Z=[],W=[];for(;l.pos>0;)g(i.start||0,i.bufferStart||0,Z,W,-1,0);let N=(e=i.length)!==null&&e!==void 0?e:Z.length?W[0]+Z[0].length:0;return new ht(h[i.topID],Z.reverse(),W.reverse(),N)}const su=new WeakMap;function To(i,e){if(!i.isAnonymous||e instanceof Li||e.type!=i)return 1;let t=su.get(e);if(t==null){t=1;for(let n of e.children){if(n.type!=i||!(n instanceof ht)){t=1;break}t+=To(i,n)}su.set(e,t)}return t}function zl(i,e,t,n,r,o,a,l,h){let d=0;for(let w=n;w<r;w++)d+=To(i,e[w]);let f=Math.ceil(d*1.5/8),g=[],y=[];function v(w,C,$,M,Z){for(let W=$;W<M;){let N=W,B=C[W],U=To(i,w[W]);for(W++;W<M;W++){let E=To(i,w[W]);if(U+E>=f)break;U+=E}if(W==N+1){if(U>f){let E=w[N];v(E.children,E.positions,0,E.children.length,C[N]+Z);continue}g.push(w[N])}else{let E=C[W-1]+w[W-1].length-B;g.push(zl(i,w,C,N,W,B,E,null,h))}y.push(B+Z-o)}}return v(e,t,n,r,0),(l||h)(g,y,a)}class hi{constructor(e,t,n,r,o=!1,a=!1){this.from=e,this.to=t,this.tree=n,this.offset=r,this.open=(o?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],n=!1){let r=[new hi(0,e.length,e,0,!1,n)];for(let o of t)o.to>e.length&&r.push(o);return r}static applyChanges(e,t,n=128){if(!t.length)return e;let r=[],o=1,a=e.length?e[0]:null;for(let l=0,h=0,d=0;;l++){let f=l<t.length?t[l]:null,g=f?f.fromA:1e9;if(g-h>=n)for(;a&&a.from<g;){let y=a;if(h>=y.from||g<=y.to||d){let v=Math.max(y.from,h)-d,w=Math.min(y.to,g)-d;y=v>=w?null:new hi(v,w,y.tree,y.offset+d,l>0,!!f)}if(y&&r.push(y),a.to>g)break;a=o<e.length?e[o++]:null}if(!f)break;h=f.toA,d=f.toA-f.toB}return r}}class Wf{startParse(e,t,n){return typeof e=="string"&&(e=new E0(e)),n=n?n.length?n.map(r=>new ca(r.from,r.to)):[new ca(0,0)]:[new ca(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let r=this.startParse(e,t,n);for(;;){let o=r.advance();if(o)return o}}}class E0{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new he({perNode:!0});let W0=0;class hn{constructor(e,t,n){this.set=e,this.base=t,this.modified=n,this.id=W0++}static define(e){if(e?.base)throw new Error("Can not derive from a modified tag");let t=new hn([],null,[]);if(t.set.push(t),e)for(let n of e.set)t.set.push(n);return t}static defineModifier(){let e=new Io;return t=>t.modified.indexOf(e)>-1?t:Io.get(t.base||t,t.modified.concat(e).sort((n,r)=>n.id-r.id))}}let X0=0;class Io{constructor(){this.instances=[],this.id=X0++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find(l=>l.base==e&&I0(t,l.modified));if(n)return n;let r=[],o=new hn(r,e,t);for(let l of t)l.instances.push(o);let a=F0(t);for(let l of e.set)if(!l.modified.length)for(let h of a)r.push(Io.get(l,h));return o}}function I0(i,e){return i.length==e.length&&i.every((t,n)=>t==e[n])}function F0(i){let e=[[]];for(let t=0;t<i.length;t++)for(let n=0,r=e.length;n<r;n++)e.push(e[n].concat(i[t]));return e.sort((t,n)=>n.length-t.length)}function Xf(i){let e=Object.create(null);for(let t in i){let n=i[t];Array.isArray(n)||(n=[n]);for(let r of t.split(" "))if(r){let o=[],a=2,l=r;for(let g=0;;){if(l=="..."&&g>0&&g+3==r.length){a=1;break}let y=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!y)throw new RangeError("Invalid path: "+r);if(o.push(y[0]=="*"?"":y[0][0]=='"'?JSON.parse(y[0]):y[0]),g+=y[0].length,g==r.length)break;let v=r[g++];if(g==r.length&&v=="!"){a=0;break}if(v!="/")throw new RangeError("Invalid path: "+r);l=r.slice(g)}let h=o.length-1,d=o[h];if(!d)throw new RangeError("Invalid path: "+r);let f=new Fo(n,a,h>0?o.slice(0,h):null);e[d]=f.sort(e[d])}}return If.add(e)}const If=new he;class Fo{constructor(e,t,n,r){this.tags=e,this.mode=t,this.context=n,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Fo.empty=new Fo([],2,null);function Ff(i,e){let t=Object.create(null);for(let o of i)if(!Array.isArray(o.tag))t[o.tag.id]=o.class;else for(let a of o.tag)t[a.id]=o.class;let{scope:n,all:r=null}=e||{};return{style:o=>{let a=r;for(let l of o)for(let h of l.set){let d=t[h.id];if(d){a=a?a+" "+d:d;break}}return a},scope:n}}function V0(i,e){let t=null;for(let n of i){let r=n.style(e);r&&(t=t?t+" "+r:r)}return t}function q0(i,e,t,n=0,r=i.length){let o=new Y0(n,Array.isArray(e)?e:[e],t);o.highlightRange(i.cursor(),n,r,"",o.highlighters),o.flush(r)}class Y0{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,r,o){let{type:a,from:l,to:h}=e;if(l>=n||h<=t)return;a.isTop&&(o=this.highlighters.filter(v=>!v.scope||v.scope(a)));let d=r,f=_0(e)||Fo.empty,g=V0(o,f.tags);if(g&&(d&&(d+=" "),d+=g,f.mode==1&&(r+=(r?" ":"")+g)),this.startSpan(Math.max(t,l),d),f.opaque)return;let y=e.tree&&e.tree.prop(he.mounted);if(y&&y.overlay){let v=e.node.enter(y.overlay[0].from+l,1),w=this.highlighters.filter($=>!$.scope||$.scope(y.tree.type)),C=e.firstChild();for(let $=0,M=l;;$++){let Z=$<y.overlay.length?y.overlay[$]:null,W=Z?Z.from+l:h,N=Math.max(t,M),B=Math.min(n,W);if(N<B&&C)for(;e.from<B&&(this.highlightRange(e,N,B,r,o),this.startSpan(Math.min(B,e.to),d),!(e.to>=W||!e.nextSibling())););if(!Z||W>n)break;M=Z.to+l,M>t&&(this.highlightRange(v.cursor(),Math.max(t,Z.from+l),Math.min(n,M),"",w),this.startSpan(Math.min(n,M),d))}C&&e.parent()}else if(e.firstChild()){y&&(r="");do if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,r,o),this.startSpan(Math.min(n,e.to),d)}while(e.nextSibling());e.parent()}}}function _0(i){let e=i.type.prop(If);for(;e&&e.context&&!i.matchContext(e.context);)e=e.next;return e||null}const I=hn.define,ho=I(),Rn=I(),au=I(Rn),lu=I(Rn),jn=I(),uo=I(jn),ha=I(jn),ln=I(),ri=I(ln),sn=I(),an=I(),ul=I(),tr=I(ul),fo=I(),s={comment:ho,lineComment:I(ho),blockComment:I(ho),docComment:I(ho),name:Rn,variableName:I(Rn),typeName:au,tagName:I(au),propertyName:lu,attributeName:I(lu),className:I(Rn),labelName:I(Rn),namespace:I(Rn),macroName:I(Rn),literal:jn,string:uo,docString:I(uo),character:I(uo),attributeValue:I(uo),number:ha,integer:I(ha),float:I(ha),bool:I(jn),regexp:I(jn),escape:I(jn),color:I(jn),url:I(jn),keyword:sn,self:I(sn),null:I(sn),atom:I(sn),unit:I(sn),modifier:I(sn),operatorKeyword:I(sn),controlKeyword:I(sn),definitionKeyword:I(sn),moduleKeyword:I(sn),operator:an,derefOperator:I(an),arithmeticOperator:I(an),logicOperator:I(an),bitwiseOperator:I(an),compareOperator:I(an),updateOperator:I(an),definitionOperator:I(an),typeOperator:I(an),controlOperator:I(an),punctuation:ul,separator:I(ul),bracket:tr,angleBracket:I(tr),squareBracket:I(tr),paren:I(tr),brace:I(tr),content:ln,heading:ri,heading1:I(ri),heading2:I(ri),heading3:I(ri),heading4:I(ri),heading5:I(ri),heading6:I(ri),contentSeparator:I(ln),list:I(ln),quote:I(ln),emphasis:I(ln),strong:I(ln),link:I(ln),monospace:I(ln),strikethrough:I(ln),inserted:I(),deleted:I(),changed:I(),invalid:I(),meta:fo,documentMeta:I(fo),annotation:I(fo),processingInstruction:I(fo),definition:hn.defineModifier(),constant:hn.defineModifier(),function:hn.defineModifier(),standard:hn.defineModifier(),local:hn.defineModifier(),special:hn.defineModifier()};Ff([{tag:s.link,class:"tok-link"},{tag:s.heading,class:"tok-heading"},{tag:s.emphasis,class:"tok-emphasis"},{tag:s.strong,class:"tok-strong"},{tag:s.keyword,class:"tok-keyword"},{tag:s.atom,class:"tok-atom"},{tag:s.bool,class:"tok-bool"},{tag:s.url,class:"tok-url"},{tag:s.labelName,class:"tok-labelName"},{tag:s.inserted,class:"tok-inserted"},{tag:s.deleted,class:"tok-deleted"},{tag:s.literal,class:"tok-literal"},{tag:s.string,class:"tok-string"},{tag:s.number,class:"tok-number"},{tag:[s.regexp,s.escape,s.special(s.string)],class:"tok-string2"},{tag:s.variableName,class:"tok-variableName"},{tag:s.local(s.variableName),class:"tok-variableName tok-local"},{tag:s.definition(s.variableName),class:"tok-variableName tok-definition"},{tag:s.special(s.variableName),class:"tok-variableName2"},{tag:s.definition(s.propertyName),class:"tok-propertyName tok-definition"},{tag:s.typeName,class:"tok-typeName"},{tag:s.namespace,class:"tok-namespace"},{tag:s.className,class:"tok-className"},{tag:s.macroName,class:"tok-macroName"},{tag:s.propertyName,class:"tok-propertyName"},{tag:s.operator,class:"tok-operator"},{tag:s.comment,class:"tok-comment"},{tag:s.meta,class:"tok-meta"},{tag:s.invalid,class:"tok-invalid"},{tag:s.punctuation,class:"tok-punctuation"}]);const dl="ͼ",cu=typeof Symbol>"u"?"__"+dl:Symbol.for(dl),fl=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class uu{constructor(e,t){this.rules=[];let{finish:n}=t||{};function r(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function o(a,l,h,d){let f=[],g=/^@(\w+)\b/.exec(a[0]),y=g&&g[1]=="keyframes";if(g&&l==null)return h.push(a[0]+";");for(let v in l){let w=l[v];if(/&/.test(v))o(v.split(/,\s*/).map(C=>a.map($=>C.replace(/&/,$))).reduce((C,$)=>C.concat($)),w,h);else if(w&&typeof w=="object"){if(!g)throw new RangeError("The value of a property ("+v+") should be a primitive value.");o(r(v),w,f,y)}else w!=null&&f.push(v.replace(/_.*/,"").replace(/[A-Z]/g,C=>"-"+C.toLowerCase())+": "+w+";")}(f.length||y)&&h.push((n&&!g&&!d?a.map(n):a).join(", ")+" {"+f.join(" ")+"}")}for(let a in e)o(r(a),e[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=hu[cu]||1;return hu[cu]=e+1,dl+e.toString(36)}static mount(e,t){(e[fl]||new z0(e)).mount(Array.isArray(t)?t:[t])}}let po=null;class z0{constructor(e){if(!e.head&&e.adoptedStyleSheets&&typeof CSSStyleSheet<"u"){if(po)return e.adoptedStyleSheets=[po.sheet].concat(e.adoptedStyleSheets),e[fl]=po;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),po=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[fl]=this}mount(e){let t=this.sheet,n=0,r=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<r&&l>-1&&(this.modules.splice(l,1),r--,l=-1),l==-1){if(this.modules.splice(r++,0,a),t)for(let h=0;h<a.rules.length;h++)t.insertRule(a.rules[h],n++)}else{for(;r<l;)n+=this.modules[r++].rules.length;n+=a.rules.length,r++}}if(!t){let o="";for(let a=0;a<this.modules.length;a++)o+=this.modules[a].getRules()+`
`;this.styleTag.textContent=o}}}var ua;const wi=new he;function Vf(i){return G.define({combine:i?e=>e.concat(i):void 0})}const Gl=new he;class Wt{constructor(e,t,n=[],r=""){this.data=e,this.name=r,Oe.prototype.hasOwnProperty("tree")||Object.defineProperty(Oe.prototype,"tree",{get(){return ut(this)}}),this.parser=t,this.extension=[Ei.of(this),Oe.languageData.of((o,a,l)=>{let h=du(o,a,l),d=h.type.prop(wi);if(!d)return[];let f=o.facet(d),g=h.type.prop(Gl);if(g){let y=h.resolve(a-h.from,l);for(let v of g)if(v.test(y,o)){let w=o.facet(v.facet);return v.type=="replace"?w:w.concat(f)}}return f})].concat(n)}isActiveAt(e,t,n=-1){return du(e,t,n).type.prop(wi)==this.data}findRegions(e){let t=e.facet(Ei);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],r=(o,a)=>{if(o.prop(wi)==this.data){n.push({from:a,to:a+o.length});return}let l=o.prop(he.mounted);if(l){if(l.tree.prop(wi)==this.data){if(l.overlay)for(let h of l.overlay)n.push({from:h.from+a,to:h.to+a});else n.push({from:a,to:a+o.length});return}else if(l.overlay){let h=n.length;if(r(l.tree,l.overlay[0].from+a),n.length>h)return}}for(let h=0;h<o.children.length;h++){let d=o.children[h];d instanceof ht&&r(d,o.positions[h]+a)}};return r(ut(e),0),n}get allowsNesting(){return!0}}Wt.setState=re.define();function du(i,e,t){let n=i.facet(Ei),r=ut(i).topNode;if(!n||n.allowsNesting)for(let o=r;o;o=o.enter(e,t,rt.ExcludeBuffers))o.type.isTop&&(r=o);return r}class Vo extends Wt{constructor(e,t,n){super(e,t,[],n),this.parser=t}static define(e){let t=Vf(e.languageData);return new Vo(t,e.parser.configure({props:[wi.add(n=>n.isTop?t:void 0)]}),e.name)}configure(e,t){return new Vo(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function ut(i){let e=i.field(Wt.state,!1);return e?e.tree:ht.empty}function qf(i,e,t=50){var n;let r=(n=i.field(Wt.state,!1))===null||n===void 0?void 0:n.context;if(!r)return null;let o=r.viewport;r.updateViewport({from:0,to:e});let a=r.isDone(e)||r.work(t,e)?r.tree:null;return r.updateViewport(o),a}class G0{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let nr=null;class qo{constructor(e,t,n=[],r,o,a,l,h){this.parser=e,this.state=t,this.fragments=n,this.tree=r,this.treeLen=o,this.viewport=a,this.skipped=l,this.scheduleOn=h,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new qo(e,t,[],ht.empty,0,n,[],null)}startParse(){return this.parser.startParse(new G0(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=ht.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(hi.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(hi.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=nr;nr=this;try{return e()}finally{nr=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=fu(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:r,treeLen:o,viewport:a,skipped:l}=this;if(this.takeTree(),!e.empty){let h=[];if(e.iterChangedRanges((d,f,g,y)=>h.push({fromA:d,toA:f,fromB:g,toB:y})),n=hi.applyChanges(n,h),r=ht.empty,o=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){l=[];for(let d of this.skipped){let f=e.mapPos(d.from,1),g=e.mapPos(d.to,-1);f<g&&l.push({from:f,to:g})}}}return new qo(this.parser,t,n,r,o,a,l,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:r,to:o}=this.skipped[n];r<e.to&&o>e.from&&(this.fragments=fu(this.fragments,r,o),this.skipped.splice(n--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Wf{createParse(t,n,r){let o=r[0].from,a=r[r.length-1].to;return{parsedPos:o,advance(){let h=nr;if(h){for(let d of r)h.tempSkipped.push(d);e&&(h.scheduleOn=h.scheduleOn?Promise.all([h.scheduleOn,e]):e)}return this.parsedPos=a,new ht(Vt.none,[],[],a-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return nr}}function fu(i,e,t){return hi.applyChanges(i,[{fromA:e,toA:t,fromB:e,toB:t}])}class Zi{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new Zi(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=qo.create(e.facet(Ei).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new Zi(n)}}Wt.state=Ye.define({create:Zi.init,update(i,e){for(let t of e.effects)if(t.is(Wt.setState))return t.value;return e.startState.facet(Ei)!=e.state.facet(Ei)?Zi.init(e.state):i.apply(e)}});let Yf=i=>{let e=setTimeout(()=>i(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Yf=i=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(i,{timeout:500-100})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const da=typeof navigator<"u"&&(!((ua=navigator.scheduling)===null||ua===void 0)&&ua.isInputPending)?()=>navigator.scheduling.isInputPending():null,H0=nt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Wt.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Wt.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=Yf(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,o=n.field(Wt.state);if(o.tree==o.context.tree&&o.context.isDone(r+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!da?Math.max(25,e.timeRemaining()-5):1e9),l=o.context.treeLen<r&&n.doc.length>r+1e3,h=o.context.work(()=>da&&da()||Date.now()>a,r+(l?0:1e5));this.chunkBudget-=Date.now()-t,(h||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:Wt.setState.of(new Zi(o.context))})),this.chunkBudget>0&&!(h&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>It(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Ei=G.define({combine(i){return i.length?i[0]:null},enables:i=>[Wt.state,H0,F.contentAttributes.compute([i],e=>{let t=e.facet(i);return t&&t.name?{"data-language":t.name}:{}})]});class K0{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const J0=G.define(),Wi=G.define({combine:i=>{if(!i.length)return"  ";let e=i[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(i[0]));return e}});function Yo(i){let e=i.facet(Wi);return e.charCodeAt(0)==9?i.tabSize*e.length:e.length}function _o(i,e){let t="",n=i.tabSize,r=i.facet(Wi)[0];if(r=="	"){for(;e>=n;)t+="	",e-=n;r=" "}for(let o=0;o<e;o++)t+=r;return t}function _f(i,e){i instanceof Oe&&(i=new Ds(i));for(let n of i.state.facet(J0)){let r=n(i,e);if(r!==void 0)return r}let t=ut(i.state);return t.length>=e?ey(i,t,e):null}class Ds{constructor(e,t={}){this.state=e,this.options=t,this.unit=Yo(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:o}=this.options;return r!=null&&r>=n.from&&r<=n.to?o&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:r}=this.lineAt(e,t);return n.slice(e-r,Math.min(n.length,e+100-r))}column(e,t=1){let{text:n,from:r}=this.lineAt(e,t),o=this.countColumn(n,e-r),a=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return a>-1&&(o+=a-this.countColumn(n,n.search(/\S|$/))),o}countColumn(e,t=e.length){return $s(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:r}=this.lineAt(e,t),o=this.options.overrideIndentation;if(o){let a=o(r);if(a>-1)return a}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const zf=new he;function ey(i,e,t){let n=e.resolveStack(t),r=n.node.enterUnfinishedNodesBefore(t);if(r!=n.node){let o=[];for(let a=r;a!=n.node;a=a.parent)o.push(a);for(let a=o.length-1;a>=0;a--)n={node:o[a],next:n}}return Gf(n,i,t)}function Gf(i,e,t){for(let n=i;n;n=n.next){let r=ny(n.node);if(r)return r(Hl.create(e,t,n))}return 0}function ty(i){return i.pos==i.options.simulateBreak&&i.options.simulateDoubleBreak}function ny(i){let e=i.type.prop(zf);if(e)return e;let t=i.firstChild,n;if(t&&(n=t.type.prop(he.closedBy))){let r=i.lastChild,o=r&&n.indexOf(r.name)>-1;return a=>Hf(a,!0,1,void 0,o&&!ty(a)?r.from:void 0)}return i.parent==null?iy:null}function iy(){return 0}class Hl extends Ds{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.context=n}get node(){return this.context.node}static create(e,t,n){return new Hl(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(t.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(ry(n,e))break;t=this.state.doc.lineAt(n.from)}return this.lineIndent(t.from)}continue(){return Gf(this.context.next,this.base,this.pos)}}function ry(i,e){for(let t=e;t;t=t.parent)if(i==t)return!0;return!1}function oy(i){let e=i.node,t=e.childAfter(e.from),n=e.lastChild;if(!t)return null;let r=i.options.simulateBreak,o=i.state.doc.lineAt(t.from),a=r==null||r<=o.from?o.to:Math.min(o.to,r);for(let l=t.to;;){let h=e.childAfter(l);if(!h||h==n)return null;if(!h.type.isSkipped)return h.from<a?t:null;l=h.to}}function sy({closing:i,align:e=!0,units:t=1}){return n=>Hf(n,e,t,i)}function Hf(i,e,t,n,r){let o=i.textAfter,a=o.match(/^\s*/)[0].length,l=n&&o.slice(a,a+n.length)==n||r==i.pos+a,h=e?oy(i):null;return h?l?i.column(h.from):i.column(h.to):i.baseIndent+(l?0:i.unit*t)}const ay=i=>i.baseIndent;function fa({except:i,units:e=1}={}){return t=>{let n=i&&i.test(t.textAfter);return t.baseIndent+(n?0:e*t.unit)}}const ly=G.define(),Kf=new he;function cy(i){let e=i.firstChild,t=i.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?i.to:t.from}:null}function hy(i,e,t){let n=ut(i);if(n.length<t)return null;let r=n.resolveStack(t,1),o=null;for(let a=r;a;a=a.next){let l=a.node;if(l.to<=t||l.from>t)continue;if(o&&l.from<e)break;let h=l.type.prop(Kf);if(h&&(l.to<n.length-50||n.length==i.doc.length||!uy(l))){let d=h(l,i);d&&d.from<=t&&d.from>=e&&d.to>t&&(o=d)}}return o}function uy(i){let e=i.lastChild;return e&&e.to==i.to&&e.type.isError}function Jf(i,e,t){for(let n of i.facet(ly)){let r=n(i,e,t);if(r)return r}return hy(i,e,t)}function ep(i,e){let t=e.mapPos(i.from,1),n=e.mapPos(i.to,-1);return t>=n?void 0:{from:t,to:n}}const Kl=re.define({map:ep}),Bs=re.define({map:ep});function tp(i){let e=[];for(let{head:t}of i.state.selection.ranges)e.some(n=>n.from<=t&&n.to>=t)||e.push(i.lineBlockAt(t));return e}const Ur=Ye.define({create(){return ne.none},update(i,e){i=i.map(e.changes);for(let t of e.effects)if(t.is(Kl)&&!dy(i,t.value.from,t.value.to)){let{preparePlaceholder:n}=e.state.facet(Jl),r=n?ne.replace({widget:new by(n(e.state,t.value))}):pu;i=i.update({add:[r.range(t.value.from,t.value.to)]})}else t.is(Bs)&&(i=i.update({filter:(n,r)=>t.value.from!=n||t.value.to!=r,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:n}=e.selection.main;i.between(n,n,(r,o)=>{r<n&&o>n&&(t=!0)}),t&&(i=i.update({filterFrom:n,filterTo:n,filter:(r,o)=>o<=n||r>=n}))}return i},provide:i=>F.decorations.from(i),toJSON(i,e){let t=[];return i.between(0,e.doc.length,(n,r)=>{t.push(n,r)}),t},fromJSON(i){if(!Array.isArray(i)||i.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<i.length;){let n=i[t++],r=i[t++];if(typeof n!="number"||typeof r!="number")throw new RangeError("Invalid JSON for fold state");e.push(pu.range(n,r))}return ne.set(e,!0)}});function np(i,e,t){var n;let r=null;return(n=i.field(Ur,!1))===null||n===void 0||n.between(e,t,(o,a)=>{(!r||r.from>o)&&(r={from:o,to:a})}),r}function dy(i,e,t){let n=!1;return i.between(e,e,(r,o)=>{r==e&&o==t&&(n=!0)}),n}function ip(i,e){return i.field(Ur,!1)?e:e.concat(re.appendConfig.of(Oy()))}const rp=i=>{for(let e of tp(i)){let t=Jf(i.state,e.from,e.to);if(t)return i.dispatch({effects:ip(i.state,[Kl.of(t),op(i,t)])}),!0}return!1},fy=i=>{if(!i.state.field(Ur,!1))return!1;let e=[];for(let t of tp(i)){let n=np(i.state,t.from,t.to);n&&e.push(Bs.of(n),op(i,n,!1))}return e.length&&i.dispatch({effects:e}),e.length>0};function op(i,e,t=!0){let n=i.state.doc.lineAt(e.from).number,r=i.state.doc.lineAt(e.to).number;return F.announce.of(`${i.state.phrase(t?"Folded lines":"Unfolded lines")} ${n} ${i.state.phrase("to")} ${r}.`)}const py=i=>{let{state:e}=i,t=[];for(let n=0;n<e.doc.length;){let r=i.lineBlockAt(n),o=Jf(e,r.from,r.to);o&&t.push(Kl.of(o)),n=(o?i.lineBlockAt(o.to):r).to+1}return t.length&&i.dispatch({effects:ip(i.state,t)}),!!t.length},my=i=>{let e=i.state.field(Ur,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,i.state.doc.length,(n,r)=>{t.push(Bs.of({from:n,to:r}))}),i.dispatch({effects:t}),!0},gy={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},Jl=G.define({combine(i){return pi(i,gy)}});function Oy(i){let e=[Ur,yy];return i&&e.push(Jl.of(i)),e}function sp(i,e){let{state:t}=i,n=t.facet(Jl),r=a=>{let l=i.lineBlockAt(i.posAtDOM(a.target)),h=np(i.state,l.from,l.to);h&&i.dispatch({effects:Bs.of(h)}),a.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(i,r,e);let o=document.createElement("span");return o.textContent=n.placeholderText,o.setAttribute("aria-label",t.phrase("folded code")),o.title=t.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=r,o}const pu=ne.replace({widget:new class extends ei{toDOM(i){return sp(i,null)}}});class by extends ei{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return sp(e,this.value)}}const yy=F.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Nr{constructor(e,t){this.specs=e;let n;function r(l){let h=uu.newName();return(n||(n=Object.create(null)))["."+h]=l,h}const o=typeof t.all=="string"?t.all:t.all?r(t.all):void 0,a=t.scope;this.scope=a instanceof Wt?l=>l.prop(wi)==a.data:a?l=>l==a:void 0,this.style=Ff(e.map(l=>({tag:l.tag,class:l.class||r(Object.assign({},l,{tag:null}))})),{all:o}).style,this.module=n?new uu(n):null,this.themeType=t.themeType}static define(e,t){return new Nr(e,t||{})}}const pl=G.define(),ap=G.define({combine(i){return i.length?[i[0]]:null}});function pa(i){let e=i.facet(pl);return e.length?e:i.facet(ap)}function lp(i,e){let t=[ky],n;return i instanceof Nr&&(i.module&&t.push(F.styleModule.of(i.module)),n=i.themeType),e?.fallback?t.push(ap.of(i)):n?t.push(pl.computeN([F.darkTheme],r=>r.facet(F.darkTheme)==(n=="dark")?[i]:[])):t.push(pl.of(i)),t}class vy{constructor(e){this.markCache=Object.create(null),this.tree=ut(e.state),this.decorations=this.buildDeco(e,pa(e.state))}update(e){let t=ut(e.state),n=pa(e.state),r=n!=pa(e.startState);t.length<e.view.viewport.to&&!r&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n))}buildDeco(e,t){if(!t||!this.tree.length)return ne.none;let n=new qn;for(let{from:r,to:o}of e.visibleRanges)q0(this.tree,t,(a,l,h)=>{n.add(a,l,this.markCache[h]||(this.markCache[h]=ne.mark({class:h})))},r,o);return n.finish()}}const ky=Jt.high(nt.fromClass(vy,{decorations:i=>i.decorations})),wy=Nr.define([{tag:s.meta,color:"#404740"},{tag:s.link,textDecoration:"underline"},{tag:s.heading,textDecoration:"underline",fontWeight:"bold"},{tag:s.emphasis,fontStyle:"italic"},{tag:s.strong,fontWeight:"bold"},{tag:s.strikethrough,textDecoration:"line-through"},{tag:s.keyword,color:"#708"},{tag:[s.atom,s.bool,s.url,s.contentSeparator,s.labelName],color:"#219"},{tag:[s.literal,s.inserted],color:"#164"},{tag:[s.string,s.deleted],color:"#a11"},{tag:[s.regexp,s.escape,s.special(s.string)],color:"#e40"},{tag:s.definition(s.variableName),color:"#00f"},{tag:s.local(s.variableName),color:"#30a"},{tag:[s.typeName,s.namespace],color:"#085"},{tag:s.className,color:"#167"},{tag:[s.special(s.variableName),s.macroName],color:"#256"},{tag:s.definition(s.propertyName),color:"#00c"},{tag:s.comment,color:"#940"},{tag:s.invalid,color:"#f00"}]),xy=1e4,Sy="()[]{}",Py=new he;function ml(i,e,t){let n=i.prop(e<0?he.openedBy:he.closedBy);if(n)return n;if(i.name.length==1){let r=t.indexOf(i.name);if(r>-1&&r%2==(e<0?1:0))return[t[r+e]]}return null}function gl(i){let e=i.type.prop(Py);return e?e(i.node):i}function En(i,e,t,n={}){let r=n.maxScanDistance||xy,o=n.brackets||Sy,a=ut(i),l=a.resolveInner(e,t);for(let h=l;h;h=h.parent){let d=ml(h.type,t,o);if(d&&h.from<h.to){let f=gl(h);if(f&&(t>0?e>=f.from&&e<f.to:e>f.from&&e<=f.to))return Qy(i,e,t,h,f,d,o)}}return Cy(i,e,t,a,l.type,r,o)}function Qy(i,e,t,n,r,o,a){let l=n.parent,h={from:r.from,to:r.to},d=0,f=l?.cursor();if(f&&(t<0?f.childBefore(n.from):f.childAfter(n.to)))do if(t<0?f.to<=n.from:f.from>=n.to){if(d==0&&o.indexOf(f.type.name)>-1&&f.from<f.to){let g=gl(f);return{start:h,end:g?{from:g.from,to:g.to}:void 0,matched:!0}}else if(ml(f.type,t,a))d++;else if(ml(f.type,-t,a)){if(d==0){let g=gl(f);return{start:h,end:g&&g.from<g.to?{from:g.from,to:g.to}:void 0,matched:!1}}d--}}while(t<0?f.prevSibling():f.nextSibling());return{start:h,matched:!1}}function Cy(i,e,t,n,r,o,a){let l=t<0?i.sliceDoc(e-1,e):i.sliceDoc(e,e+1),h=a.indexOf(l);if(h<0||h%2==0!=t>0)return null;let d={from:t<0?e-1:e,to:t>0?e+1:e},f=i.doc.iterRange(e,t>0?i.doc.length:0),g=0;for(let y=0;!f.next().done&&y<=o;){let v=f.value;t<0&&(y+=v.length);let w=e+y*t;for(let C=t>0?0:v.length-1,$=t>0?v.length:-1;C!=$;C+=t){let M=a.indexOf(v[C]);if(!(M<0||n.resolveInner(w+C,1).type!=r))if(M%2==0==t>0)g++;else{if(g==1)return{start:d,end:{from:w+C,to:w+C+1},matched:M>>1==h>>1};g--}}t>0&&(y+=v.length)}return f.done?{start:d,matched:!1}:null}function mu(i,e,t,n=0,r=0){e==null&&(e=i.search(/[^\s\u00a0]/),e==-1&&(e=i.length));let o=r;for(let a=n;a<e;a++)i.charCodeAt(a)==9?o+=t-o%t:o++;return o}class $y{constructor(e,t,n,r){this.string=e,this.tabSize=t,this.indentUnit=n,this.overrideIndent=r,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let t=this.string.charAt(this.pos),n;if(typeof e=="string"?n=t==e:n=t&&(e instanceof RegExp?e.test(t):e(t)),n)return++this.pos,t}eatWhile(e){let t=this.pos;for(;this.eat(e););return this.pos>t}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=mu(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:mu(this.string,null,this.tabSize)}match(e,t,n){if(typeof e=="string"){let r=a=>n?a.toLowerCase():a,o=this.string.substr(this.pos,e.length);return r(o)==r(e)?(t!==!1&&(this.pos+=e.length),!0):null}else{let r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&t!==!1&&(this.pos+=r[0].length),r)}}current(){return this.string.slice(this.start,this.pos)}}const Ay=Object.create(null),gu=[Vt.none],Ou=[],bu=Object.create(null),Ty=Object.create(null);for(let[i,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Ty[i]=My(Ay,e);function ma(i,e){Ou.indexOf(i)>-1||(Ou.push(i),console.warn(e))}function My(i,e){let t=[];for(let l of e.split(" ")){let h=[];for(let d of l.split(".")){let f=i[d]||s[d];f?typeof f=="function"?h.length?h=h.map(f):ma(d,`Modifier ${d} used at start of tag`):h.length?ma(d,`Tag ${d} used as modifier`):h=Array.isArray(f)?f:[f]:ma(d,`Unknown highlighting tag ${d}`)}for(let d of h)t.push(d)}if(!t.length)return 0;let n=e.replace(/ /g,"_"),r=n+" "+t.map(l=>l.id),o=bu[r];if(o)return o.id;let a=bu[r]=Vt.define({id:gu.length,name:n,props:[Xf({[n]:t})]});return gu.push(a),a.id}Se.RTL,Se.LTR;class cp{constructor(e,t,n){this.state=e,this.pos=t,this.explicit=n,this.abortListeners=[]}tokenBefore(e){let t=ut(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),r=t.text.slice(n-t.from,this.pos-t.from),o=r.search(hp(e,!1));return o<0?null:{from:n+o,to:this.pos,text:r.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,t){e=="abort"&&this.abortListeners&&this.abortListeners.push(t)}}function yu(i){let e=Object.keys(i).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Dy(i){let e=Object.create(null),t=Object.create(null);for(let{label:r}of i){e[r[0]]=!0;for(let o=1;o<r.length;o++)t[r[o]]=!0}let n=yu(e)+yu(t)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function By(i){let e=i.map(r=>typeof r=="string"?{label:r}:r),[t,n]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:Dy(e);return r=>{let o=r.matchBefore(n);return o||r.explicit?{from:o?o.from:r.pos,options:e,validFor:t}:null}}class vu{constructor(e,t,n,r){this.completion=e,this.source=t,this.match=n,this.score=r}}function In(i){return i.selection.main.from}function hp(i,e){var t;let{source:n}=i,r=e&&n[0]!="^",o=n[n.length-1]!="$";return!r&&!o?i:new RegExp(`${r?"^":""}(?:${n})${o?"$":""}`,(t=i.flags)!==null&&t!==void 0?t:i.ignoreCase?"i":"")}const Ry=vn.define();function jy(i,e,t,n){let{main:r}=i.selection,o=t-r.from,a=n-r.from;return Object.assign(Object.assign({},i.changeByRange(l=>l!=r&&t!=n&&i.sliceDoc(l.from+o,l.from+a)!=i.sliceDoc(t,n)?{range:l}:{changes:{from:l.from+o,to:n==r.from?l.to:l.from+a,insert:e},range:j.cursor(l.from+o+e.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}const ku=new WeakMap;function Uy(i){if(!Array.isArray(i))return i;let e=ku.get(i);return e||ku.set(i,e=By(i)),e}const ec=re.define(),Cr=re.define();class Ny{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let n=mt(e,t),r=Et(n);this.chars.push(n);let o=e.slice(t,t+r),a=o.toUpperCase();this.folded.push(mt(a==o?o.toLowerCase():a,0)),t+=r}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,!0}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return!1;let{chars:t,folded:n,any:r,precise:o,byWord:a}=this;if(t.length==1){let Z=mt(e,0),W=Et(Z),N=W==e.length?0:-100;if(Z!=t[0])if(Z==n[0])N+=-200;else return!1;return this.ret(N,[0,W])}let l=e.indexOf(this.pattern);if(l==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let h=t.length,d=0;if(l<0){for(let Z=0,W=Math.min(e.length,200);Z<W&&d<h;){let N=mt(e,Z);(N==t[d]||N==n[d])&&(r[d++]=Z),Z+=Et(N)}if(d<h)return!1}let f=0,g=0,y=!1,v=0,w=-1,C=-1,$=/[a-z]/.test(e),M=!0;for(let Z=0,W=Math.min(e.length,200),N=0;Z<W&&g<h;){let B=mt(e,Z);l<0&&(f<h&&B==t[f]&&(o[f++]=Z),v<h&&(B==t[v]||B==n[v]?(v==0&&(w=Z),C=Z+1,v++):v=0));let U,E=B<255?B>=48&&B<=57||B>=97&&B<=122?2:B>=65&&B<=90?1:0:(U=Rl(B))!=U.toLowerCase()?1:U!=U.toUpperCase()?2:0;(!Z||E==1&&$||N==0&&E!=0)&&(t[g]==B||n[g]==B&&(y=!0)?a[g++]=Z:a.length&&(M=!1)),N=E,Z+=Et(B)}return g==h&&a[0]==0&&M?this.result(-100+(y?-200:0),a,e):v==h&&w==0?this.ret(-200-e.length+(C==e.length?0:-100),[0,C]):l>-1?this.ret(-700-e.length,[l,l+this.pattern.length]):v==h?this.ret(-200+-700-e.length,[w,C]):g==h?this.result(-100+(y?-200:0)+-700+(M?0:-1100),a,e):t.length==2?!1:this.result((r[0]?-700:0)+-200+-1100,r,e)}result(e,t,n){let r=[],o=0;for(let a of t){let l=a+(this.astral?Et(mt(n,a)):1);o&&r[o-1]==a?r[o-1]=l:(r[o++]=a,r[o++]=l)}return this.ret(e-n.length,r)}}const bt=G.define({combine(i){return pi(i,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Ly,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>n=>wu(e(n),t(n)),optionClass:(e,t)=>n=>wu(e(n),t(n)),addToOptions:(e,t)=>e.concat(t)})}});function wu(i,e){return i?e?i+" "+e:i:e}function Ly(i,e,t,n,r,o){let a=i.textDirection==Se.RTL,l=a,h=!1,d="top",f,g,y=e.left-r.left,v=r.right-e.right,w=n.right-n.left,C=n.bottom-n.top;if(l&&y<Math.min(w,v)?l=!1:!l&&v<Math.min(w,y)&&(l=!0),w<=(l?y:v))f=Math.max(r.top,Math.min(t.top,r.bottom-C))-e.top,g=Math.min(400,l?y:v);else{h=!0,g=Math.min(400,(a?e.right:r.right-e.left)-30);let Z=r.bottom-e.bottom;Z>=C||Z>e.top?f=t.bottom-e.top:(d="bottom",f=e.bottom-t.top)}let $=(e.bottom-e.top)/o.offsetHeight,M=(e.right-e.left)/o.offsetWidth;return{style:`${d}: ${f/$}px; max-width: ${g/M}px`,class:"cm-completionInfo-"+(h?a?"left-narrow":"right-narrow":l?"left":"right")}}function Zy(i){let e=i.addToOptions.slice();return i.icons&&e.push({render(t){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),t.type&&n.classList.add(...t.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),n.setAttribute("aria-hidden","true"),n},position:20}),e.push({render(t,n,r,o){let a=document.createElement("span");a.className="cm-completionLabel";let l=t.displayLabel||t.label,h=0;for(let d=0;d<o.length;){let f=o[d++],g=o[d++];f>h&&a.appendChild(document.createTextNode(l.slice(h,f)));let y=a.appendChild(document.createElement("span"));y.appendChild(document.createTextNode(l.slice(f,g))),y.className="cm-completionMatchedText",h=g}return h<l.length&&a.appendChild(document.createTextNode(l.slice(h))),a},position:50},{render(t){if(!t.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=t.detail,n},position:80}),e.sort((t,n)=>t.position-n.position).map(t=>t.render)}function ga(i,e,t){if(i<=t)return{from:0,to:i};if(e<0&&(e=0),e<=i>>1){let r=Math.floor(e/t);return{from:r*t,to:(r+1)*t}}let n=Math.floor((i-e)/t);return{from:i-(n+1)*t,to:i-n*t}}class Ey{constructor(e,t,n){this.view=e,this.stateField=t,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:h=>this.placeInfo(h),key:this},this.space=null,this.currentClass="";let r=e.state.field(t),{options:o,selected:a}=r.open,l=e.state.facet(bt);this.optionContent=Zy(l),this.optionClass=l.optionClass,this.tooltipClass=l.tooltipClass,this.range=ga(o.length,a,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",h=>{let{options:d}=e.state.field(t).open;for(let f=h.target,g;f&&f!=this.dom;f=f.parentNode)if(f.nodeName=="LI"&&(g=/-(\d+)$/.exec(f.id))&&+g[1]<d.length){this.applyCompletion(e,d[+g[1]]),h.preventDefault();return}}),this.dom.addEventListener("focusout",h=>{let d=e.state.field(this.stateField,!1);d&&d.tooltip&&e.state.facet(bt).closeOnBlur&&h.relatedTarget!=e.contentDOM&&e.dispatch({effects:Cr.of(null)})}),this.showOptions(o,r.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let n=e.state.field(this.stateField),r=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=r){let{options:o,selected:a,disabled:l}=n.open;(!r.open||r.open.options!=o)&&(this.range=ga(o.length,a,e.state.facet(bt).maxRenderedOptions),this.showOptions(o,n.id)),this.updateSel(),l!=((t=r.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!l)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let n of this.currentClass.split(" "))n&&this.dom.classList.remove(n);for(let n of t.split(" "))n&&this.dom.classList.add(n);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=ga(t.options.length,t.selected,this.view.state.facet(bt).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:n}=t.options[t.selected],{info:r}=n;if(!r)return;let o=typeof r=="string"?document.createTextNode(r):r(n);if(!o)return;"then"in o?o.then(a=>{a&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(a,n)}).catch(a=>It(this.view.state,a,"completion info")):this.addInfoPane(o,n)}}addInfoPane(e,t){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",e.nodeType!=null)n.appendChild(e),this.infoDestroy=null;else{let{dom:r,destroy:o}=e;n.appendChild(r),this.infoDestroy=o||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)n.nodeName!="LI"||!n.id?r--:r==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return t&&Xy(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),o=this.space;if(!o){let a=this.dom.ownerDocument.defaultView||window;o={left:0,top:0,right:a.innerWidth,bottom:a.innerHeight}}return r.top>Math.min(o.bottom,t.bottom)-10||r.bottom<Math.max(o.top,t.top)+10?null:this.view.state.facet(bt).positionInfo(this.view,t,r,n,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,n){const r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));let o=null;for(let a=n.from;a<n.to;a++){let{completion:l,match:h}=e[a],{section:d}=l;if(d){let y=typeof d=="string"?d:d.name;if(y!=o&&(a>n.from||n.from==0))if(o=y,typeof d!="string"&&d.header)r.appendChild(d.header(d));else{let v=r.appendChild(document.createElement("completion-section"));v.textContent=y}}const f=r.appendChild(document.createElement("li"));f.id=t+"-"+a,f.setAttribute("role","option");let g=this.optionClass(l);g&&(f.className=g);for(let y of this.optionContent){let v=y(l,this.view.state,this.view,h);v&&f.appendChild(v)}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Wy(i,e){return t=>new Ey(t,i,e)}function Xy(i,e){let t=i.getBoundingClientRect(),n=e.getBoundingClientRect(),r=t.height/i.offsetHeight;n.top<t.top?i.scrollTop-=(t.top-n.top)/r:n.bottom>t.bottom&&(i.scrollTop+=(n.bottom-t.bottom)/r)}function xu(i){return(i.boost||0)*100+(i.apply?10:0)+(i.info?5:0)+(i.type?1:0)}function Iy(i,e){let t=[],n=null,r=h=>{t.push(h);let{section:d}=h.completion;if(d){n||(n=[]);let f=typeof d=="string"?d:d.name;n.some(g=>g.name==f)||n.push(typeof d=="string"?{name:f}:d)}};for(let h of i)if(h.hasResult()){let d=h.result.getMatch;if(h.result.filter===!1)for(let f of h.result.options)r(new vu(f,h.source,d?d(f):[],1e9-t.length));else{let f=new Ny(e.sliceDoc(h.from,h.to));for(let g of h.result.options)if(f.match(g.label)){let y=g.displayLabel?d?d(g,f.matched):[]:f.matched;r(new vu(g,h.source,y,f.score+(g.boost||0)))}}}if(n){let h=Object.create(null),d=0,f=(g,y)=>{var v,w;return((v=g.rank)!==null&&v!==void 0?v:1e9)-((w=y.rank)!==null&&w!==void 0?w:1e9)||(g.name<y.name?-1:1)};for(let g of n.sort(f))d-=1e5,h[g.name]=d;for(let g of t){let{section:y}=g.completion;y&&(g.score+=h[typeof y=="string"?y:y.name])}}let o=[],a=null,l=e.facet(bt).compareCompletions;for(let h of t.sort((d,f)=>f.score-d.score||l(d.completion,f.completion))){let d=h.completion;!a||a.label!=d.label||a.detail!=d.detail||a.type!=null&&d.type!=null&&a.type!=d.type||a.apply!=d.apply||a.boost!=d.boost?o.push(h):xu(h.completion)>xu(a)&&(o[o.length-1]=h),a=h.completion}return o}class xi{constructor(e,t,n,r,o,a){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=r,this.selected=o,this.disabled=a}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new xi(this.options,Su(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,n,r,o){let a=Iy(e,t);if(!a.length)return r&&e.some(h=>h.state==1)?new xi(r.options,r.attrs,r.tooltip,r.timestamp,r.selected,!0):null;let l=t.facet(bt).selectOnOpen?0:-1;if(r&&r.selected!=l&&r.selected!=-1){let h=r.options[r.selected].completion;for(let d=0;d<a.length;d++)if(a[d].completion==h){l=d;break}}return new xi(a,Su(n,l),{pos:e.reduce((h,d)=>d.hasResult()?Math.min(h,d.from):h,1e8),create:_y,above:o.aboveCursor},r?r.timestamp:Date.now(),l,!1)}map(e){return new xi(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class zo{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new zo(qy,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,n=t.facet(bt),o=(n.override||t.languageDataAt("autocomplete",In(t)).map(Uy)).map(l=>(this.active.find(d=>d.source==l)||new $t(l,this.active.some(d=>d.state!=0)?1:0)).update(e,n));o.length==this.active.length&&o.every((l,h)=>l==this.active[h])&&(o=this.active);let a=this.open;a&&e.docChanged&&(a=a.map(e.changes)),e.selection||o.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!Fy(o,this.active)?a=xi.build(o,t,this.id,a,n):a&&a.disabled&&!o.some(l=>l.state==1)&&(a=null),!a&&o.every(l=>l.state!=1)&&o.some(l=>l.hasResult())&&(o=o.map(l=>l.hasResult()?new $t(l.source,0):l));for(let l of e.effects)l.is(dp)&&(a=a&&a.setSelected(l.value,this.id));return o==this.active&&a==this.open?this:new zo(o,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Vy}}function Fy(i,e){if(i==e)return!0;for(let t=0,n=0;;){for(;t<i.length&&!i[t].hasResult;)t++;for(;n<e.length&&!e[n].hasResult;)n++;let r=t==i.length,o=n==e.length;if(r||o)return r==o;if(i[t++].result!=e[n++].result)return!1}}const Vy={"aria-autocomplete":"list"};function Su(i,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":i};return e>-1&&(t["aria-activedescendant"]=i+"-"+e),t}const qy=[];function Ol(i){return i.isUserEvent("input.type")?"input":i.isUserEvent("delete.backward")?"delete":null}class $t{constructor(e,t,n=-1){this.source=e,this.state=t,this.explicitPos=n}hasResult(){return!1}update(e,t){let n=Ol(e),r=this;n?r=r.handleUserEvent(e,n,t):e.docChanged?r=r.handleChange(e):e.selection&&r.state!=0&&(r=new $t(r.source,0));for(let o of e.effects)if(o.is(ec))r=new $t(r.source,1,o.value?In(e.state):-1);else if(o.is(Cr))r=new $t(r.source,0);else if(o.is(up))for(let a of o.value)a.source==r.source&&(r=a);return r}handleUserEvent(e,t,n){return t=="delete"||!n.activateOnTyping?this.map(e.changes):new $t(this.source,1)}handleChange(e){return e.changes.touchesRange(In(e.startState))?new $t(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new $t(this.source,this.state,e.mapPos(this.explicitPos))}}class Ai extends $t{constructor(e,t,n,r,o){super(e,2,t),this.result=n,this.from=r,this.to=o}hasResult(){return!0}handleUserEvent(e,t,n){var r;let o=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),l=In(e.state);if((this.explicitPos<0?l<=o:l<this.from)||l>a||t=="delete"&&In(e.startState)==this.from)return new $t(this.source,t=="input"&&n.activateOnTyping?1:0);let h=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),d;return Yy(this.result.validFor,e.state,o,a)?new Ai(this.source,h,this.result,o,a):this.result.update&&(d=this.result.update(this.result,o,a,new cp(e.state,l,h>=0)))?new Ai(this.source,h,d,d.from,(r=d.to)!==null&&r!==void 0?r:In(e.state)):new $t(this.source,1,h)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new $t(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new Ai(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function Yy(i,e,t,n){if(!i)return!1;let r=e.sliceDoc(t,n);return typeof i=="function"?i(r,t,n,e):hp(i,!0).test(r)}const up=re.define({map(i,e){return i.map(t=>t.map(e))}}),dp=re.define(),Rt=Ye.define({create(){return zo.start()},update(i,e){return i.update(e)},provide:i=>[ql.from(i,e=>e.tooltip),F.contentAttributes.from(i,e=>e.attrs)]});function fp(i,e){const t=e.completion.apply||e.completion.label;let n=i.state.field(Rt).active.find(r=>r.source==e.source);return n instanceof Ai?(typeof t=="string"?i.dispatch(Object.assign(Object.assign({},jy(i.state,t,n.from,n.to)),{annotations:Ry.of(e.completion)})):t(i,e.completion,n.from,n.to),!0):!1}const _y=Wy(Rt,fp);function Wn(i,e="option"){return t=>{let n=t.state.field(Rt,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<t.state.facet(bt).interactionDelay)return!1;let r=1,o;e=="page"&&(o=Mf(t,n.open.tooltip))&&(r=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:a}=n.open.options,l=n.open.selected>-1?n.open.selected+r*(i?1:-1):i?0:a-1;return l<0?l=e=="page"?0:a-1:l>=a&&(l=e=="page"?a-1:0),t.dispatch({effects:dp.of(l)}),!0}}const bl=i=>{let e=i.state.field(Rt,!1);return i.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<i.state.facet(bt).interactionDelay?!1:fp(i,e.open.options[e.open.selected])},pp=i=>i.state.field(Rt,!1)?(i.dispatch({effects:ec.of(!0)}),!0):!1,mp=i=>{let e=i.state.field(Rt,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(i.dispatch({effects:Cr.of(null)}),!0)};class zy{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const Gy=50,Hy=1e3,Ky=nt.fromClass(class{constructor(i){this.view=i,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of i.state.field(Rt).active)e.state==1&&this.startQuery(e)}update(i){let e=i.state.field(Rt);if(!i.selectionSet&&!i.docChanged&&i.startState.field(Rt)==e)return;let t=i.transactions.some(n=>(n.selection||n.docChanged)&&!Ol(n));for(let n=0;n<this.running.length;n++){let r=this.running[n];if(t||r.updates.length+i.transactions.length>Gy&&Date.now()-r.time>Hy){for(let o of r.context.abortListeners)try{o()}catch(a){It(this.view.state,a)}r.context.abortListeners=null,this.running.splice(n--,1)}else r.updates.push(...i.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(n=>n.state==1&&!this.running.some(r=>r.active.source==n.source))?setTimeout(()=>this.startUpdate(),50):-1,this.composing!=0)for(let n of i.transactions)Ol(n)=="input"?this.composing=2:this.composing==2&&n.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:i}=this.view,e=i.field(Rt);for(let t of e.active)t.state==1&&!this.running.some(n=>n.active.source==t.source)&&this.startQuery(t)}startQuery(i){let{state:e}=this.view,t=In(e),n=new cp(e,t,i.explicitPos==t),r=new zy(i,n);this.running.push(r),Promise.resolve(i.source(n)).then(o=>{r.context.aborted||(r.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:Cr.of(null)}),It(this.view.state,o)})}scheduleAccept(){this.running.every(i=>i.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(bt).updateSyncTime))}accept(){var i;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(bt);for(let n=0;n<this.running.length;n++){let r=this.running[n];if(r.done===void 0)continue;if(this.running.splice(n--,1),r.done){let a=new Ai(r.active.source,r.active.explicitPos,r.done,r.done.from,(i=r.done.to)!==null&&i!==void 0?i:In(r.updates.length?r.updates[0].startState:this.view.state));for(let l of r.updates)a=a.update(l,t);if(a.hasResult()){e.push(a);continue}}let o=this.view.state.field(Rt).active.find(a=>a.source==r.active.source);if(o&&o.state==1)if(r.done==null){let a=new $t(r.active.source,0);for(let l of r.updates)a=a.update(l,t);a.state!=1&&e.push(a)}else this.startQuery(o)}e.length&&this.view.dispatch({effects:up.of(e)})}},{eventHandlers:{blur(i){let e=this.view.state.field(Rt,!1);if(e&&e.tooltip&&this.view.state.facet(bt).closeOnBlur){let t=e.open&&Mf(this.view,e.open.tooltip);(!t||!t.dom.contains(i.relatedTarget))&&this.view.dispatch({effects:Cr.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:ec.of(!1)}),20),this.composing=0}}}),Jy=F.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),$r={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},li=re.define({map(i,e){let t=e.mapPos(i,-1,_e.TrackAfter);return t??void 0}}),tc=new class extends Vn{};tc.startSide=1;tc.endSide=-1;const gp=Ye.define({create(){return be.empty},update(i,e){if(i=i.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);i=i.update({filter:n=>n>=t.from&&n<=t.to})}for(let t of e.effects)t.is(li)&&(i=i.update({add:[tc.range(t.value,t.value+1)]}));return i}});function ev(){return[nv,gp]}const Oa="()[]{}<>";function Op(i){for(let e=0;e<Oa.length;e+=2)if(Oa.charCodeAt(e)==i)return Oa.charAt(e+1);return Rl(i<128?i:i+1)}function bp(i,e){return i.languageDataAt("closeBrackets",e)[0]||$r}const tv=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),nv=F.inputHandler.of((i,e,t,n)=>{if((tv?i.composing:i.compositionStarted)||i.state.readOnly)return!1;let r=i.state.selection.main;if(n.length>2||n.length==2&&Et(mt(n,0))==1||e!=r.from||t!=r.to)return!1;let o=rv(i.state,n);return o?(i.dispatch(o),!0):!1}),iv=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let n=bp(i,i.selection.main.head).brackets||$r.brackets,r=null,o=i.changeByRange(a=>{if(a.empty){let l=ov(i.doc,a.head);for(let h of n)if(h==l&&Rs(i.doc,a.head)==Op(mt(h,0)))return{changes:{from:a.head-h.length,to:a.head+h.length},range:j.cursor(a.head-h.length)}}return{range:r=a}});return r||e(i.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!r};function rv(i,e){let t=bp(i,i.selection.main.head),n=t.brackets||$r.brackets;for(let r of n){let o=Op(mt(r,0));if(e==r)return o==r?lv(i,r,n.indexOf(r+r+r)>-1,t):sv(i,r,o,t.before||$r.before);if(e==o&&yp(i,i.selection.main.from))return av(i,r,o)}return null}function yp(i,e){let t=!1;return i.field(gp).between(0,i.doc.length,n=>{n==e&&(t=!0)}),t}function Rs(i,e){let t=i.sliceString(e,e+2);return t.slice(0,Et(mt(t,0)))}function ov(i,e){let t=i.sliceString(e-2,e);return Et(mt(t,0))==t.length?t:t.slice(1)}function sv(i,e,t,n){let r=null,o=i.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:t,from:a.to}],effects:li.of(a.to+e.length),range:j.range(a.anchor+e.length,a.head+e.length)};let l=Rs(i.doc,a.head);return!l||/\s/.test(l)||n.indexOf(l)>-1?{changes:{insert:e+t,from:a.head},effects:li.of(a.head+e.length),range:j.cursor(a.head+e.length)}:{range:r=a}});return r?null:i.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function av(i,e,t){let n=null,r=i.changeByRange(o=>o.empty&&Rs(i.doc,o.head)==t?{changes:{from:o.head,to:o.head+t.length,insert:t},range:j.cursor(o.head+t.length)}:n={range:o});return n?null:i.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function lv(i,e,t,n){let r=n.stringPrefixes||$r.stringPrefixes,o=null,a=i.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:e,from:l.to}],effects:li.of(l.to+e.length),range:j.range(l.anchor+e.length,l.head+e.length)};let h=l.head,d=Rs(i.doc,h),f;if(d==e){if(Pu(i,h))return{changes:{insert:e+e,from:h},effects:li.of(h+e.length),range:j.cursor(h+e.length)};if(yp(i,h)){let y=t&&i.sliceDoc(h,h+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:h,to:h+y.length,insert:y},range:j.cursor(h+y.length)}}}else{if(t&&i.sliceDoc(h-2*e.length,h)==e+e&&(f=Qu(i,h-2*e.length,r))>-1&&Pu(i,f))return{changes:{insert:e+e+e+e,from:h},effects:li.of(h+e.length),range:j.cursor(h+e.length)};if(i.charCategorizer(h)(d)!=ze.Word&&Qu(i,h,r)>-1&&!cv(i,h,e,r))return{changes:{insert:e+e,from:h},effects:li.of(h+e.length),range:j.cursor(h+e.length)}}return{range:o=l}});return o?null:i.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function Pu(i,e){let t=ut(i).resolveInner(e+1);return t.parent&&t.from==e}function cv(i,e,t,n){let r=ut(i).resolveInner(e,-1),o=n.reduce((a,l)=>Math.max(a,l.length),0);for(let a=0;a<5;a++){let l=i.sliceDoc(r.from,Math.min(r.to,r.from+t.length+o)),h=l.indexOf(t);if(!h||h>-1&&n.indexOf(l.slice(0,h))>-1){let f=r.firstChild;for(;f&&f.from==r.from&&f.to-f.from>t.length+h;){if(i.sliceDoc(f.to-t.length,f.to)==t)return!1;f=f.firstChild}return!0}let d=r.to==e&&r.parent;if(!d)break;r=d}return!1}function Qu(i,e,t){let n=i.charCategorizer(e);if(n(i.sliceDoc(e-1,e))!=ze.Word)return e;for(let r of t){let o=e-r.length;if(i.sliceDoc(o,e)==r&&n(i.sliceDoc(o-1,o))!=ze.Word)return o}return-1}function hv(i={}){return[Rt,bt.of(i),Ky,dv,Jy]}const uv=[{key:"Ctrl-Space",run:pp},{key:"Escape",run:mp},{key:"ArrowDown",run:Wn(!0)},{key:"ArrowUp",run:Wn(!1)},{key:"PageDown",run:Wn(!0,"page")},{key:"PageUp",run:Wn(!1,"page")},{key:"Enter",run:bl}],dv=Jt.highest(zn.computeN([bt],i=>i.facet(bt).defaultKeymap?[uv]:[])),nc=i=>{let{state:e}=i,t=e.doc.lineAt(e.selection.main.from),n=ic(i.state,t.from);return n.line?fv(i):n.block?gv(i):!1};function Lr(i,e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let r=i(e,t);return r?(n(t.update(r)),!0):!1}}const fv=Lr(rc,0),pv=Lr(rc,1),mv=Lr(rc,2),vp=Lr(kp,0),gv=Lr((i,e)=>kp(i,e,bv(e)),0);function ic(i,e){let t=i.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const ir=50;function Ov(i,{open:e,close:t},n,r){let o=i.sliceDoc(n-ir,n),a=i.sliceDoc(r,r+ir),l=/\s*$/.exec(o)[0].length,h=/^\s*/.exec(a)[0].length,d=o.length-l;if(o.slice(d-e.length,d)==e&&a.slice(h,h+t.length)==t)return{open:{pos:n-l,margin:l&&1},close:{pos:r+h,margin:h&&1}};let f,g;r-n<=2*ir?f=g=i.sliceDoc(n,r):(f=i.sliceDoc(n,n+ir),g=i.sliceDoc(r-ir,r));let y=/^\s*/.exec(f)[0].length,v=/\s*$/.exec(g)[0].length,w=g.length-v-t.length;return f.slice(y,y+e.length)==e&&g.slice(w,w+t.length)==t?{open:{pos:n+y+e.length,margin:/\s/.test(f.charAt(y+e.length))?1:0},close:{pos:r-v-t.length,margin:/\s/.test(g.charAt(w-1))?1:0}}:null}function bv(i){let e=[];for(let t of i.selection.ranges){let n=i.doc.lineAt(t.from),r=t.to<=n.to?n:i.doc.lineAt(t.to),o=e.length-1;o>=0&&e[o].to>n.from?e[o].to=r.to:e.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:r.to})}return e}function kp(i,e,t=e.selection.ranges){let n=t.map(o=>ic(e,o.from).block);if(!n.every(o=>o))return null;let r=t.map((o,a)=>Ov(e,n[a],o.from,o.to));if(i!=2&&!r.every(o=>o))return{changes:e.changes(t.map((o,a)=>r[a]?[]:[{from:o.from,insert:n[a].open+" "},{from:o.to,insert:" "+n[a].close}]))};if(i!=1&&r.some(o=>o)){let o=[];for(let a=0,l;a<r.length;a++)if(l=r[a]){let h=n[a],{open:d,close:f}=l;o.push({from:d.pos-h.open.length,to:d.pos+d.margin},{from:f.pos-f.margin,to:f.pos+h.close.length})}return{changes:o}}return null}function rc(i,e,t=e.selection.ranges){let n=[],r=-1;for(let{from:o,to:a}of t){let l=n.length,h=1e9,d=ic(e,o).line;if(d){for(let f=o;f<=a;){let g=e.doc.lineAt(f);if(g.from>r&&(o==a||a>g.from)){r=g.from;let y=/^\s*/.exec(g.text)[0].length,v=y==g.length,w=g.text.slice(y,y+d.length)==d?y:-1;y<g.text.length&&y<h&&(h=y),n.push({line:g,comment:w,token:d,indent:y,empty:v,single:!1})}f=g.to+1}if(h<1e9)for(let f=l;f<n.length;f++)n[f].indent<n[f].line.text.length&&(n[f].indent=h);n.length==l+1&&(n[l].single=!0)}}if(i!=2&&n.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:l,token:h,indent:d,empty:f,single:g}of n)(g||!f)&&o.push({from:l.from+d,insert:h+" "});let a=e.changes(o);return{changes:a,selection:e.selection.map(a,1)}}else if(i!=1&&n.some(o=>o.comment>=0)){let o=[];for(let{line:a,comment:l,token:h}of n)if(l>=0){let d=a.from+l,f=d+h.length;a.text[f-a.from]==" "&&f++,o.push({from:d,to:f})}return{changes:o}}return null}const yl=vn.define(),yv=vn.define(),vv=G.define(),wp=G.define({combine(i){return pi(i,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(n,r)=>e(n,r)||t(n,r)})}}),xp=Ye.define({create(){return gn.empty},update(i,e){let t=e.state.facet(wp),n=e.annotation(yl);if(n){let h=At.fromTransaction(e,n.selection),d=n.side,f=d==0?i.undone:i.done;return h?f=Go(f,f.length,t.minDepth,h):f=Qp(f,e.startState.selection),new gn(d==0?n.rest:f,d==0?f:n.rest)}let r=e.annotation(yv);if((r=="full"||r=="before")&&(i=i.isolate()),e.annotation(tt.addToHistory)===!1)return e.changes.empty?i:i.addMapping(e.changes.desc);let o=At.fromTransaction(e),a=e.annotation(tt.time),l=e.annotation(tt.userEvent);return o?i=i.addChanges(o,a,l,t,e):e.selection&&(i=i.addSelection(e.startState.selection,a,l,t.newGroupDelay)),(r=="full"||r=="after")&&(i=i.isolate()),i},toJSON(i){return{done:i.done.map(e=>e.toJSON()),undone:i.undone.map(e=>e.toJSON())}},fromJSON(i){return new gn(i.done.map(At.fromJSON),i.undone.map(At.fromJSON))}});function kv(i={}){return[xp,wp.of(i),F.domEventHandlers({beforeinput(e,t){let n=e.inputType=="historyUndo"?Us:e.inputType=="historyRedo"?Xi:null;return n?(e.preventDefault(),n(t)):!1}})]}function js(i,e){return function({state:t,dispatch:n}){if(!e&&t.readOnly)return!1;let r=t.field(xp,!1);if(!r)return!1;let o=r.pop(i,t,e);return o?(n(o),!0):!1}}const Us=js(0,!1),Xi=js(1,!1),Sp=js(0,!0),wv=js(1,!0);class At{constructor(e,t,n,r,o){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=r,this.selectionsAfter=o}setSelAfter(e){return new At(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(e){return new At(e.changes&&et.fromJSON(e.changes),[],e.mapped&&bn.fromJSON(e.mapped),e.startSelection&&j.fromJSON(e.startSelection),e.selectionsAfter.map(j.fromJSON))}static fromTransaction(e,t){let n=Xt;for(let r of e.startState.facet(vv)){let o=r(e);o.length&&(n=n.concat(o))}return!n.length&&e.changes.empty?null:new At(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,Xt)}static selection(e){return new At(void 0,Xt,void 0,void 0,e)}}function Go(i,e,t,n){let r=e+1>t+20?e-t-1:0,o=i.slice(r,e);return o.push(n),o}function xv(i,e){let t=[],n=!1;return i.iterChangedRanges((r,o)=>t.push(r,o)),e.iterChangedRanges((r,o,a,l)=>{for(let h=0;h<t.length;){let d=t[h++],f=t[h++];l>=d&&a<=f&&(n=!0)}}),n}function Sv(i,e){return i.ranges.length==e.ranges.length&&i.ranges.filter((t,n)=>t.empty!=e.ranges[n].empty).length===0}function Pp(i,e){return i.length?e.length?i.concat(e):i:e}const Xt=[],Pv=200;function Qp(i,e){if(i.length){let t=i[i.length-1],n=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-Pv));return n.length&&n[n.length-1].eq(e)?i:(n.push(e),Go(i,i.length-1,1e9,t.setSelAfter(n)))}else return[At.selection([e])]}function Qv(i){let e=i[i.length-1],t=i.slice();return t[i.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function ba(i,e){if(!i.length)return i;let t=i.length,n=Xt;for(;t;){let r=Cv(i[t-1],e,n);if(r.changes&&!r.changes.empty||r.effects.length){let o=i.slice(0,t);return o[t-1]=r,o}else e=r.mapped,t--,n=r.selectionsAfter}return n.length?[At.selection(n)]:Xt}function Cv(i,e,t){let n=Pp(i.selectionsAfter.length?i.selectionsAfter.map(l=>l.map(e)):Xt,t);if(!i.changes)return At.selection(n);let r=i.changes.map(e),o=e.mapDesc(i.changes,!0),a=i.mapped?i.mapped.composeDesc(o):o;return new At(r,re.mapEffects(i.effects,e),a,i.startSelection.map(o),n)}const $v=/^(input\.type|delete)($|\.)/;class gn{constructor(e,t,n=0,r=void 0){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=r}isolate(){return this.prevTime?new gn(this.done,this.undone):this}addChanges(e,t,n,r,o){let a=this.done,l=a[a.length-1];return l&&l.changes&&!l.changes.empty&&e.changes&&(!n||$v.test(n))&&(!l.selectionsAfter.length&&t-this.prevTime<r.newGroupDelay&&r.joinToEvent(o,xv(l.changes,e.changes))||n=="input.type.compose")?a=Go(a,a.length-1,r.minDepth,new At(e.changes.compose(l.changes),Pp(e.effects,l.effects),l.mapped,l.startSelection,Xt)):a=Go(a,a.length,r.minDepth,e),new gn(a,Xt,t,n)}addSelection(e,t,n,r){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:Xt;return o.length>0&&t-this.prevTime<r&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&Sv(o[o.length-1],e)?this:new gn(Qp(this.done,e),this.undone,t,n)}addMapping(e){return new gn(ba(this.done,e),ba(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let r=e==0?this.done:this.undone;if(r.length==0)return null;let o=r[r.length-1],a=o.selectionsAfter[0]||t.selection;if(n&&o.selectionsAfter.length)return t.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:yl.of({side:e,rest:Qv(r),selection:a}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let l=r.length==1?Xt:r.slice(0,r.length-1);return o.mapped&&(l=ba(l,o.mapped)),t.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:yl.of({side:e,rest:l,selection:a}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}gn.empty=new gn(Xt,Xt);const Av=[{key:"Mod-z",run:Us,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Xi,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Xi,preventDefault:!0},{key:"Mod-u",run:Sp,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:wv,preventDefault:!0}];function Vi(i,e){return j.create(i.ranges.map(e),i.mainIndex)}function kn(i,e){return i.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function en({state:i,dispatch:e},t){let n=Vi(i.selection,t);return n.eq(i.selection,!0)?!1:(e(kn(i,n)),!0)}function Ns(i,e){return j.cursor(e?i.to:i.from)}function oc(i,e){return en(i,t=>t.empty?i.moveByChar(t,e):Ns(t,e))}function yt(i){return i.textDirectionAt(i.state.selection.main.head)==Se.LTR}const Ar=i=>oc(i,!yt(i)),Ho=i=>oc(i,yt(i)),Tv=i=>oc(i,!1);function Cp(i,e){return en(i,t=>t.empty?i.moveByGroup(t,e):Ns(t,e))}const $p=i=>Cp(i,!yt(i)),Ap=i=>Cp(i,yt(i));function Mv(i,e,t){if(e.type.prop(t))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(i.sliceDoc(e.from,e.to)))||e.firstChild}function Ls(i,e,t){let n=ut(i).resolveInner(e.head),r=t?he.closedBy:he.openedBy;for(let h=e.head;;){let d=t?n.childAfter(h):n.childBefore(h);if(!d)break;Mv(i,d,r)?n=d:h=t?d.to:d.from}let o=n.type.prop(r),a,l;return o&&(a=t?En(i,n.from,1):En(i,n.to,-1))&&a.matched?l=t?a.end.to:a.end.from:l=t?n.to:n.from,j.cursor(l,t?-1:1)}const Dv=i=>en(i,e=>Ls(i.state,e,!yt(i))),Bv=i=>en(i,e=>Ls(i.state,e,yt(i)));function Tp(i,e){return en(i,t=>{if(!t.empty)return Ns(t,e);let n=i.moveVertically(t,e);return n.head!=t.head?n:i.moveToLineBoundary(t,e)})}const Ko=i=>Tp(i,!1),Jo=i=>Tp(i,!0);function Mp(i){let e=i.scrollDOM.clientHeight<i.scrollDOM.scrollHeight-2,t=0,n=0,r;if(e){for(let o of i.state.facet(F.scrollMargins)){let a=o(i);a?.top&&(t=Math.max(a?.top,t)),a?.bottom&&(n=Math.max(a?.bottom,n))}r=i.scrollDOM.clientHeight-t-n}else r=(i.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:n,selfScroll:e,height:Math.max(i.defaultLineHeight,r-5)}}function Dp(i,e){let t=Mp(i),{state:n}=i,r=Vi(n.selection,a=>a.empty?i.moveVertically(a,e,t.height):Ns(a,e));if(r.eq(n.selection))return!1;let o;if(t.selfScroll){let a=i.coordsAtPos(n.selection.main.head),l=i.scrollDOM.getBoundingClientRect(),h=l.top+t.marginTop,d=l.bottom-t.marginBottom;a&&a.top>h&&a.bottom<d&&(o=F.scrollIntoView(r.main.head,{y:"start",yMargin:a.top-h}))}return i.dispatch(kn(n,r),{effects:o}),!0}const Or=i=>Dp(i,!1),Ti=i=>Dp(i,!0);function ti(i,e,t){let n=i.lineBlockAt(e.head),r=i.moveToLineBoundary(e,t);if(r.head==e.head&&r.head!=(t?n.to:n.from)&&(r=i.moveToLineBoundary(e,t,!1)),!t&&r.head==n.from&&n.length){let o=/^\s*/.exec(i.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;o&&e.head!=n.from+o&&(r=j.cursor(n.from+o))}return r}const es=i=>en(i,e=>ti(i,e,!0)),ts=i=>en(i,e=>ti(i,e,!1)),Rv=i=>en(i,e=>ti(i,e,!yt(i))),jv=i=>en(i,e=>ti(i,e,yt(i))),Bp=i=>en(i,e=>j.cursor(i.lineBlockAt(e.head).from,1)),Rp=i=>en(i,e=>j.cursor(i.lineBlockAt(e.head).to,-1));function Uv(i,e,t){let n=!1,r=Vi(i.selection,o=>{let a=En(i,o.head,-1)||En(i,o.head,1)||o.head>0&&En(i,o.head-1,1)||o.head<i.doc.length&&En(i,o.head+1,-1);if(!a||!a.end)return o;n=!0;let l=a.start.from==o.head?a.end.to:a.end.from;return t?j.range(o.anchor,l):j.cursor(l)});return n?(e(kn(i,r)),!0):!1}const jp=({state:i,dispatch:e})=>Uv(i,e,!1);function qt(i,e){let t=Vi(i.state.selection,n=>{let r=e(n);return j.range(n.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return t.eq(i.state.selection)?!1:(i.dispatch(kn(i.state,t)),!0)}function Up(i,e){return qt(i,t=>i.moveByChar(t,e))}const ns=i=>Up(i,!yt(i)),is=i=>Up(i,yt(i));function Np(i,e){return qt(i,t=>i.moveByGroup(t,e))}const Lp=i=>Np(i,!yt(i)),Zp=i=>Np(i,yt(i)),Nv=i=>qt(i,e=>Ls(i.state,e,!yt(i))),Lv=i=>qt(i,e=>Ls(i.state,e,yt(i)));function Ep(i,e){return qt(i,t=>i.moveVertically(t,e))}const rs=i=>Ep(i,!1),os=i=>Ep(i,!0);function Wp(i,e){return qt(i,t=>i.moveVertically(t,e,Mp(i).height))}const ss=i=>Wp(i,!1),as=i=>Wp(i,!0),vl=i=>qt(i,e=>ti(i,e,!0)),kl=i=>qt(i,e=>ti(i,e,!1)),Zv=i=>qt(i,e=>ti(i,e,!yt(i))),Ev=i=>qt(i,e=>ti(i,e,yt(i))),Xp=i=>qt(i,e=>j.cursor(i.lineBlockAt(e.head).from)),Ip=i=>qt(i,e=>j.cursor(i.lineBlockAt(e.head).to)),ls=({state:i,dispatch:e})=>(e(kn(i,{anchor:0})),!0),cs=({state:i,dispatch:e})=>(e(kn(i,{anchor:i.doc.length})),!0),hs=({state:i,dispatch:e})=>(e(kn(i,{anchor:i.selection.main.anchor,head:0})),!0),us=({state:i,dispatch:e})=>(e(kn(i,{anchor:i.selection.main.anchor,head:i.doc.length})),!0),Fp=({state:i,dispatch:e})=>(e(i.update({selection:{anchor:0,head:i.doc.length},userEvent:"select"})),!0),Vp=({state:i,dispatch:e})=>{let t=Zs(i).map(({from:n,to:r})=>j.range(n,Math.min(r+1,i.doc.length)));return e(i.update({selection:j.create(t),userEvent:"select"})),!0},Wv=({state:i,dispatch:e})=>{let t=Vi(i.selection,n=>{var r;let o=ut(i).resolveStack(n.from,1);for(let a=o;a;a=a.next){let{node:l}=a;if((l.from<n.from&&l.to>=n.to||l.to>n.to&&l.from<=n.from)&&(!((r=l.parent)===null||r===void 0)&&r.parent))return j.range(l.to,l.from)}return n});return e(kn(i,t)),!0},Xv=({state:i,dispatch:e})=>{let t=i.selection,n=null;return t.ranges.length>1?n=j.create([t.main]):t.main.empty||(n=j.create([j.cursor(t.main.head)])),n?(e(kn(i,n)),!0):!1};function qi(i,e){if(i.state.readOnly)return!1;let t="delete.selection",{state:n}=i,r=n.changeByRange(o=>{let{from:a,to:l}=o;if(a==l){let h=e(o);h<a?(t="delete.backward",h=mo(i,h,!1)):h>a&&(t="delete.forward",h=mo(i,h,!0)),a=Math.min(a,h),l=Math.max(l,h)}else a=mo(i,a,!1),l=mo(i,l,!0);return a==l?{range:o}:{changes:{from:a,to:l},range:j.cursor(a,a<o.head?-1:1)}});return r.changes.empty?!1:(i.dispatch(n.update(r,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?F.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function mo(i,e,t){if(i instanceof F)for(let n of i.state.facet(F.atomicRanges).map(r=>r(i)))n.between(e,e,(r,o)=>{r<e&&o>e&&(e=t?o:r)});return e}const qp=(i,e)=>qi(i,t=>{let n=t.from,{state:r}=i,o=r.doc.lineAt(n),a,l;if(!e&&n>o.from&&n<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,n-o.from))){if(a[a.length-1]=="	")return n-1;let h=$s(a,r.tabSize),d=h%Yo(r)||Yo(r);for(let f=0;f<d&&a[a.length-1-f]==" ";f++)n--;l=n}else l=ct(o.text,n-o.from,e,e)+o.from,l==n&&o.number!=(e?r.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,n-o.from))&&(l=ct(o.text,l-o.from,!1,!1)+o.from);return l}),Mi=i=>qp(i,!1),ds=i=>qp(i,!0),Yp=(i,e)=>qi(i,t=>{let n=t.head,{state:r}=i,o=r.doc.lineAt(n),a=r.charCategorizer(n);for(let l=null;;){if(n==(e?o.to:o.from)){n==t.head&&o.number!=(e?r.doc.lines:1)&&(n+=e?1:-1);break}let h=ct(o.text,n-o.from,e)+o.from,d=o.text.slice(Math.min(n,h)-o.from,Math.max(n,h)-o.from),f=a(d);if(l!=null&&f!=l)break;(d!=" "||n!=t.head)&&(l=f),n=h}return n}),fs=i=>Yp(i,!1),_p=i=>Yp(i,!0),wl=i=>qi(i,e=>{let t=i.lineBlockAt(e.head).to;return e.head<t?t:Math.min(i.state.doc.length,e.head+1)}),Iv=i=>qi(i,e=>{let t=i.lineBlockAt(e.head).from;return e.head>t?t:Math.max(0,e.head-1)}),Fv=i=>qi(i,e=>{let t=i.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),Vv=i=>qi(i,e=>{let t=i.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(i.state.doc.length,e.head+1)}),sc=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let t=i.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:ge.of(["",""])},range:j.cursor(n.from)}));return e(i.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},zp=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let t=i.changeByRange(n=>{if(!n.empty||n.from==0||n.from==i.doc.length)return{range:n};let r=n.from,o=i.doc.lineAt(r),a=r==o.from?r-1:ct(o.text,r-o.from,!1)+o.from,l=r==o.to?r+1:ct(o.text,r-o.from,!0)+o.from;return{changes:{from:a,to:l,insert:i.doc.slice(r,l).append(i.doc.slice(a,r))},range:j.cursor(l)}});return t.changes.empty?!1:(e(i.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Zs(i){let e=[],t=-1;for(let n of i.selection.ranges){let r=i.doc.lineAt(n.from),o=i.doc.lineAt(n.to);if(!n.empty&&n.to==o.from&&(o=i.doc.lineAt(n.to-1)),t>=r.number){let a=e[e.length-1];a.to=o.to,a.ranges.push(n)}else e.push({from:r.from,to:o.to,ranges:[n]});t=o.number+1}return e}function Gp(i,e,t){if(i.readOnly)return!1;let n=[],r=[];for(let o of Zs(i)){if(t?o.to==i.doc.length:o.from==0)continue;let a=i.doc.lineAt(t?o.to+1:o.from-1),l=a.length+1;if(t){n.push({from:o.to,to:a.to},{from:o.from,insert:a.text+i.lineBreak});for(let h of o.ranges)r.push(j.range(Math.min(i.doc.length,h.anchor+l),Math.min(i.doc.length,h.head+l)))}else{n.push({from:a.from,to:o.from},{from:o.to,insert:i.lineBreak+a.text});for(let h of o.ranges)r.push(j.range(h.anchor-l,h.head-l))}}return n.length?(e(i.update({changes:n,scrollIntoView:!0,selection:j.create(r,i.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Hp=({state:i,dispatch:e})=>Gp(i,e,!1),Kp=({state:i,dispatch:e})=>Gp(i,e,!0);function Jp(i,e,t){if(i.readOnly)return!1;let n=[];for(let r of Zs(i))t?n.push({from:r.from,insert:i.doc.slice(r.from,r.to)+i.lineBreak}):n.push({from:r.to,insert:i.lineBreak+i.doc.slice(r.from,r.to)});return e(i.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const em=({state:i,dispatch:e})=>Jp(i,e,!1),tm=({state:i,dispatch:e})=>Jp(i,e,!0),nm=i=>{if(i.state.readOnly)return!1;let{state:e}=i,t=e.changes(Zs(e).map(({from:r,to:o})=>(r>0?r--:o<e.doc.length&&o++,{from:r,to:o}))),n=Vi(e.selection,r=>i.moveVertically(r,!0)).map(t);return i.dispatch({changes:t,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function qv(i,e){if(/\(\)|\[\]|\{\}/.test(i.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=ut(i).resolveInner(e),n=t.childBefore(e),r=t.childAfter(e),o;return n&&r&&n.to<=e&&r.from>=e&&(o=n.type.prop(he.closedBy))&&o.indexOf(r.name)>-1&&i.doc.lineAt(n.to).from==i.doc.lineAt(r.from).from&&!/\S/.test(i.sliceDoc(n.to,r.from))?{from:n.to,to:r.from}:null}const ps=im(!1),Yv=im(!0);function im(i){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(r=>{let{from:o,to:a}=r,l=e.doc.lineAt(o),h=!i&&o==a&&qv(e,o);i&&(o=a=(a<=l.to?l:e.doc.lineAt(a)).to);let d=new Ds(e,{simulateBreak:o,simulateDoubleBreak:!!h}),f=_f(d,o);for(f==null&&(f=$s(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));a<l.to&&/\s/.test(l.text[a-l.from]);)a++;h?{from:o,to:a}=h:o>l.from&&o<l.from+100&&!/\S/.test(l.text.slice(0,o))&&(o=l.from);let g=["",_o(e,f)];return h&&g.push(_o(e,d.lineIndent(l.from,-1))),{changes:{from:o,to:a,insert:ge.of(g)},range:j.cursor(o+1+g[1].length)}});return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function ac(i,e){let t=-1;return i.changeByRange(n=>{let r=[];for(let a=n.from;a<=n.to;){let l=i.doc.lineAt(a);l.number>t&&(n.empty||n.to>l.from)&&(e(l,r,n),t=l.number),a=l.to+1}let o=i.changes(r);return{changes:r,range:j.range(o.mapPos(n.anchor,1),o.mapPos(n.head,1))}})}const rm=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let t=Object.create(null),n=new Ds(i,{overrideIndentation:o=>{let a=t[o];return a??-1}}),r=ac(i,(o,a,l)=>{let h=_f(n,o.from);if(h==null)return;/\S/.test(o.text)||(h=0);let d=/^\s*/.exec(o.text)[0],f=_o(i,h);(d!=f||l.from<o.from+d.length)&&(t[o.from]=h,a.push({from:o.from,to:o.from+d.length,insert:f}))});return r.changes.empty||e(i.update(r,{userEvent:"indent"})),!0},ms=({state:i,dispatch:e})=>i.readOnly?!1:(e(i.update(ac(i,(t,n)=>{n.push({from:t.from,insert:i.facet(Wi)})}),{userEvent:"input.indent"})),!0),gs=({state:i,dispatch:e})=>i.readOnly?!1:(e(i.update(ac(i,(t,n)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let o=$s(r,i.tabSize),a=0,l=_o(i,Math.max(0,o-Yo(i)));for(;a<r.length&&a<l.length&&r.charCodeAt(a)==l.charCodeAt(a);)a++;n.push({from:t.from+a,to:t.from+r.length,insert:l.slice(a)})}),{userEvent:"delete.dedent"})),!0),_v=[{key:"Ctrl-b",run:Ar,shift:ns,preventDefault:!0},{key:"Ctrl-f",run:Ho,shift:is},{key:"Ctrl-p",run:Ko,shift:rs},{key:"Ctrl-n",run:Jo,shift:os},{key:"Ctrl-a",run:Bp,shift:Xp},{key:"Ctrl-e",run:Rp,shift:Ip},{key:"Ctrl-d",run:ds},{key:"Ctrl-h",run:Mi},{key:"Ctrl-k",run:wl},{key:"Ctrl-Alt-h",run:fs},{key:"Ctrl-o",run:sc},{key:"Ctrl-t",run:zp},{key:"Ctrl-v",run:Ti}],zv=[{key:"ArrowLeft",run:Ar,shift:ns,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:$p,shift:Lp,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Rv,shift:Zv,preventDefault:!0},{key:"ArrowRight",run:Ho,shift:is,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:Ap,shift:Zp,preventDefault:!0},{mac:"Cmd-ArrowRight",run:jv,shift:Ev,preventDefault:!0},{key:"ArrowUp",run:Ko,shift:rs,preventDefault:!0},{mac:"Cmd-ArrowUp",run:ls,shift:hs},{mac:"Ctrl-ArrowUp",run:Or,shift:ss},{key:"ArrowDown",run:Jo,shift:os,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cs,shift:us},{mac:"Ctrl-ArrowDown",run:Ti,shift:as},{key:"PageUp",run:Or,shift:ss},{key:"PageDown",run:Ti,shift:as},{key:"Home",run:ts,shift:kl,preventDefault:!0},{key:"Mod-Home",run:ls,shift:hs},{key:"End",run:es,shift:vl,preventDefault:!0},{key:"Mod-End",run:cs,shift:us},{key:"Enter",run:ps},{key:"Mod-a",run:Fp},{key:"Backspace",run:Mi,shift:Mi},{key:"Delete",run:ds},{key:"Mod-Backspace",mac:"Alt-Backspace",run:fs},{key:"Mod-Delete",mac:"Alt-Delete",run:_p},{mac:"Mod-Backspace",run:Fv},{mac:"Mod-Delete",run:Vv}].concat(_v.map(i=>({mac:i.key,run:i.run,shift:i.shift}))),Gv=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Dv,shift:Nv},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Bv,shift:Lv},{key:"Alt-ArrowUp",run:Hp},{key:"Shift-Alt-ArrowUp",run:em},{key:"Alt-ArrowDown",run:Kp},{key:"Shift-Alt-ArrowDown",run:tm},{key:"Escape",run:Xv},{key:"Mod-Enter",run:Yv},{key:"Alt-l",mac:"Ctrl-l",run:Vp},{key:"Mod-i",run:Wv,preventDefault:!0},{key:"Mod-[",run:gs},{key:"Mod-]",run:ms},{key:"Mod-Alt-\\",run:rm},{key:"Shift-Mod-k",run:nm},{key:"Shift-Mod-\\",run:jp},{key:"Mod-/",run:nc},{key:"Alt-A",run:vp}].concat(zv);var Cu={};class Os{constructor(e,t,n,r,o,a,l,h,d,f=0,g){this.p=e,this.stack=t,this.state=n,this.reducePos=r,this.pos=o,this.score=a,this.buffer=l,this.bufferBase=h,this.curContext=d,this.lookAhead=f,this.parent=g}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,n=0){let r=e.parser.context;return new Os(e,[],t,n,n,0,[],0,r?new $u(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){let t=e>>19,n=e&65535,{parser:r}=this.p,o=r.dynamicPrecedence(n);if(o&&(this.score+=o),t==0){this.pushState(r.getGoto(this.state,n,!0),this.reducePos),n<r.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,4,!0),this.reduceContext(n,this.reducePos);return}let a=this.stack.length-(t-1)*3-(e&262144?6:0),l=a?this.stack[a-2]:0,h=this.reducePos-l;h>=2e3&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=h));let d=a?this.stack[a-1]:0,f=this.bufferBase+this.buffer.length-d;if(n<r.minRepeatTerm||e&131072){let g=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,l,g,f+4,!0)}if(e&262144)this.state=this.stack[a];else{let g=this.stack[a-3];this.state=r.getGoto(g,n,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(n,l)}storeNode(e,t,n,r=4,o=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,l=this.buffer.length;if(l==0&&a.parent&&(l=a.bufferBase-a.parent.bufferBase,a=a.parent),l>0&&a.buffer[l-4]==0&&a.buffer[l-1]>-1){if(t==n)return;if(a.buffer[l-2]>=t){a.buffer[l-2]=n;return}}}if(!o||this.pos==n)this.buffer.push(e,t,n,r);else{let a=this.buffer.length;if(a>0&&this.buffer[a-4]!=0)for(;a>0&&this.buffer[a-2]>n;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,r>4&&(r-=4);this.buffer[a]=e,this.buffer[a+1]=t,this.buffer[a+2]=n,this.buffer[a+3]=r}}shift(e,t,n){let r=this.pos;if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=n,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,n,4);else{let o=e,{parser:a}=this.p;(n>this.pos||t<=a.maxNode)&&(this.pos=n,a.stateFlag(o,1)||(this.reducePos=n)),this.pushState(o,r),this.shiftContext(t,r),t<=a.maxNode&&this.buffer.push(t,r,n,4)}}apply(e,t,n){e&65536?this.reduce(e):this.shift(e,t,n)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(n,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new Os(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new Hv(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(n==0)return!1;if(!(n&65536))return!0;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let r=[];for(let o=0,a;o<t.length;o+=2)(a=t[o+1])!=this.state&&this.p.parser.hasAction(a,e)&&r.push(t[o],a);if(this.stack.length<120)for(let o=0;r.length<8&&o<t.length;o+=2){let a=t[o+1];r.some((l,h)=>h&1&&l==a)||r.push(t[o],a)}t=r}let n=[];for(let r=0;r<t.length&&n.length<4;r+=2){let o=t[r+1];if(o==this.state)continue;let a=this.split();a.pushState(o,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(t[r],this.pos),a.score-=200,n.push(a)}return n}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if(!(e&65536))return!1;let{parser:t}=this.p;if(!t.validAction(this.state,e)){let n=e>>19,r=e&65535,o=this.stack.length-n*3;if(o<0||t.getGoto(this.stack[o],r,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new $u(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class $u{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}var Au;(function(i){i[i.Insert=200]="Insert",i[i.Delete=190]="Delete",i[i.Reduce=100]="Reduce",i[i.MaxNext=4]="MaxNext",i[i.MaxInsertStackDepth=300]="MaxInsertStackDepth",i[i.DampenInsertStackDepth=120]="DampenInsertStackDepth",i[i.MinBigReduction=2e3]="MinBigReduction"})(Au||(Au={}));class Hv{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,n=e>>19;n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(n-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class bs{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new bs(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new bs(this.stack,this.pos,this.index)}}function ur(i,e=Uint16Array){if(typeof i!="string")return i;let t=null;for(let n=0,r=0;n<i.length;){let o=0;for(;;){let a=i.charCodeAt(n++),l=!1;if(a==126){o=65535;break}a>=92&&a--,a>=34&&a--;let h=a-32;if(h>=46&&(h-=46,l=!0),o+=h,l)break;o*=46}t?t[r++]=o:t=new e(o)}return t}class Mo{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Tu=new Mo;class Kv{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Tu,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,r=this.rangeIndex,o=this.pos+e;for(;o<n.from;){if(!r)return null;let a=this.ranges[--r];o-=n.from-a.to,n=a}for(;t<0?o>n.to:o>=n.to;){if(r==this.ranges.length-1)return null;let a=this.ranges[++r];o+=a.from-n.to,n=a}return o}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,n,r;if(t>=0&&t<this.chunk.length)n=this.pos+e,r=this.chunk.charCodeAt(t);else{let o=this.resolveOffset(e,1);if(o==null)return-1;if(n=o,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let a=this.rangeIndex,l=this.range;for(;l.to<=n;)l=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>l.to&&(this.chunk2=this.chunk2.slice(0,l.to-n)),r=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),r}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(n==null||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=Tu,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(n+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return n}}class Di{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:n}=t.p;om(this.data,e,t,this.id,n.data,n.tokenPrecTable)}}Di.prototype.contextual=Di.prototype.fallback=Di.prototype.extend=!1;class xl{constructor(e,t,n){this.precTable=t,this.elseToken=n,this.data=typeof e=="string"?ur(e):e}token(e,t){let n=e.pos,r;for(;r=e.pos,om(this.data,e,t,0,this.data,this.precTable),!(e.token.value>-1);){if(this.elseToken==null)return;if(e.next<0)break;e.advance(),e.reset(r+1,e.token)}r>n&&(e.reset(n,e.token),e.acceptToken(this.elseToken,r-n))}}xl.prototype.contextual=Di.prototype.fallback=Di.prototype.extend=!1;class lc{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function om(i,e,t,n,r,o){let a=0,l=1<<n,{dialect:h}=t.p.parser;e:for(;l&i[a];){let d=i[a+1];for(let v=a+3;v<d;v+=2)if((i[v+1]&l)>0){let w=i[v];if(h.allows(w)&&(e.token.value==-1||e.token.value==w||Jv(w,e.token.value,r,o))){e.acceptToken(w);break}}let f=e.next,g=0,y=i[a+2];if(e.next<0&&y>g&&i[d+y*3-3]==65535&&i[d+y*3-3]==65535){a=i[d+y*3-1];continue e}for(;g<y;){let v=g+y>>1,w=d+v+(v<<1),C=i[w],$=i[w+1]||65536;if(f<C)y=v;else if(f>=$)g=v+1;else{a=i[w+2],e.advance();continue e}}break}}function Mu(i,e,t){for(let n=e,r;(r=i[n])!=65535;n++)if(r==t)return n-e;return-1}function Jv(i,e,t,n){let r=Mu(t,n,e);return r<0||Mu(t,n,i)<r}const zt=typeof process<"u"&&Cu&&/\bparse\b/.test(Cu.LOG);let ya=null;var Du;(function(i){i[i.Margin=25]="Margin"})(Du||(Du={}));function Bu(i,e,t){let n=i.cursor(rt.IncludeAnonymous);for(n.moveTo(e);;)if(!(t<0?n.childBefore(e):n.childAfter(e)))for(;;){if((t<0?n.to<e:n.from>e)&&!n.type.isError)return t<0?Math.max(0,Math.min(n.to-1,e-25)):Math.min(i.length,Math.max(n.from+1,e+25));if(t<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return t<0?0:i.length}}class e1{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Bu(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Bu(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],r=this.index[t];if(r==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=n.children[r],a=this.start[t]+n.positions[r];if(a>e)return this.nextStart=a,null;if(o instanceof ht){if(a==e){if(a<this.safeFrom)return null;let l=a+o.length;if(l<=this.safeTo){let h=o.prop(he.lookAhead);if(!h||l+h<this.fragment.to)return o}}this.index[t]++,a+o.length>=Math.max(this.safeFrom,e)&&(this.trees.push(o),this.start.push(a),this.index.push(0))}else this.index[t]++,this.nextStart=a+o.length}}}class t1{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(n=>new Mo)}getActions(e){let t=0,n=null,{parser:r}=e.p,{tokenizers:o}=r,a=r.stateSlot(e.state,3),l=e.curContext?e.curContext.hash:0,h=0;for(let d=0;d<o.length;d++){if(!(1<<d&a))continue;let f=o[d],g=this.tokens[d];if(!(n&&!f.fallback)&&((f.contextual||g.start!=e.pos||g.mask!=a||g.context!=l)&&(this.updateCachedToken(g,f,e),g.mask=a,g.context=l),g.lookAhead>g.end+25&&(h=Math.max(g.lookAhead,h)),g.value!=0)){let y=t;if(g.extended>-1&&(t=this.addActions(e,g.extended,g.end,t)),t=this.addActions(e,g.value,g.end,t),!f.extend&&(n=g,t>y))break}}for(;this.actions.length>t;)this.actions.pop();return h&&e.setLookAhead(h),!n&&e.pos==this.stream.end&&(n=new Mo,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Mo,{pos:n,p:r}=e;return t.start=n,t.end=Math.min(n+1,r.stream.end),t.value=n==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,n){let r=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(r,e),n),e.value>-1){let{parser:o}=n.p;for(let a=0;a<o.specialized.length;a++)if(o.specialized[a]==e.value){let l=o.specializers[a](this.stream.read(e.start,e.end),n);if(l>=0&&n.p.parser.dialect.allows(l>>1)){l&1?e.extended=l>>1:e.value=l>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,t,n,r){for(let o=0;o<r;o+=3)if(this.actions[o]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=n,r}addActions(e,t,n,r){let{state:o}=e,{parser:a}=e.p,{data:l}=a;for(let h=0;h<2;h++)for(let d=a.stateSlot(o,h?2:1);;d+=3){if(l[d]==65535)if(l[d+1]==1)d=Sn(l,d+2);else{r==0&&l[d+1]==2&&(r=this.putAction(Sn(l,d+2),t,n,r));break}l[d]==t&&(r=this.putAction(Sn(l,d+1),t,n,r))}return r}}var Ru;(function(i){i[i.Distance=5]="Distance",i[i.MaxRemainingPerStep=3]="MaxRemainingPerStep",i[i.MinBufferLengthPrune=500]="MinBufferLengthPrune",i[i.ForceReduceLimit=10]="ForceReduceLimit",i[i.CutDepth=15e3]="CutDepth",i[i.CutTo=9e3]="CutTo",i[i.MaxLeftAssociativeReductionCount=1e3]="MaxLeftAssociativeReductionCount"})(Ru||(Ru={}));class n1{constructor(e,t,n,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Kv(t,r),this.tokens=new t1(e,this.stream),this.topTerm=e.top[1];let{from:o}=r[0];this.stacks=[Os.start(this,e.top[0],o)],this.fragments=n.length&&this.stream.end-o>e.bufferLength*4?new e1(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,n=this.stacks=[],r,o;if(this.bigReductionCount>1e3&&e.length==1){let[a]=e;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<e.length;a++){let l=e[a];for(;;){if(this.tokens.mainToken=null,l.pos>t)n.push(l);else{if(this.advanceStack(l,n,e))continue;{r||(r=[],o=[]),r.push(l);let h=this.tokens.getMainToken(l);o.push(h.value,h.end)}}break}}if(!n.length){let a=r&&o1(r);if(a)return this.stackToTree(a);if(this.parser.strict)throw zt&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&r){let a=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,o,n);if(a)return this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(n.length>a)for(n.sort((l,h)=>h.score-l.score);n.length>a;)n.pop();n.some(l=>l.reducePos>t)&&this.recovering--}else if(n.length>1)e:for(let a=0;a<n.length-1;a++){let l=n[a];for(let h=a+1;h<n.length;h++){let d=n[h];if(l.sameState(d)||l.buffer.length>500&&d.buffer.length>500)if((l.score-d.score||l.buffer.length-d.buffer.length)>0)n.splice(h--,1);else{n.splice(a--,1);continue e}}}this.minStackPos=n[0].pos;for(let a=1;a<n.length;a++)n[a].pos<this.minStackPos&&(this.minStackPos=n[a].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let r=e.pos,{parser:o}=this,a=zt?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let d=e.curContext&&e.curContext.tracker.strict,f=d?e.curContext.hash:0;for(let g=this.fragments.nodeAt(r);g;){let y=this.parser.nodeSet.types[g.type.id]==g.type?o.getGoto(e.state,g.type.id):-1;if(y>-1&&g.length&&(!d||(g.prop(he.contextHash)||0)==f))return e.useNode(g,y),zt&&console.log(a+this.stackID(e)+` (via reuse of ${o.getName(g.type.id)})`),!0;if(!(g instanceof ht)||g.children.length==0||g.positions[0]>0)break;let v=g.children[0];if(v instanceof ht&&g.positions[0]==0)g=v;else break}}let l=o.stateSlot(e.state,4);if(l>0)return e.reduce(l),zt&&console.log(a+this.stackID(e)+` (via always-reduce ${o.getName(l&65535)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let h=this.tokens.getActions(e);for(let d=0;d<h.length;){let f=h[d++],g=h[d++],y=h[d++],v=d==h.length||!n,w=v?e:e.split();if(w.apply(f,g,y),zt&&console.log(a+this.stackID(w)+` (via ${f&65536?`reduce of ${o.getName(f&65535)}`:"shift"} for ${o.getName(g)} @ ${r}${w==e?"":", split"})`),v)return!0;w.pos>r?t.push(w):n.push(w)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return ju(e,t),!0}}runRecovery(e,t,n){let r=null,o=!1;for(let a=0;a<e.length;a++){let l=e[a],h=t[a<<1],d=t[(a<<1)+1],f=zt?this.stackID(l)+" -> ":"";if(l.deadEnd&&(o||(o=!0,l.restart(),zt&&console.log(f+this.stackID(l)+" (restarted)"),this.advanceFully(l,n))))continue;let g=l.split(),y=f;for(let v=0;g.forceReduce()&&v<10&&(zt&&console.log(y+this.stackID(g)+" (via force-reduce)"),!this.advanceFully(g,n));v++)zt&&(y=this.stackID(g)+" -> ");for(let v of l.recoverByInsert(h))zt&&console.log(f+this.stackID(v)+" (via recover-insert)"),this.advanceFully(v,n);this.stream.end>l.pos?(d==l.pos&&(d++,h=0),l.recoverByDelete(h,d),zt&&console.log(f+this.stackID(l)+` (via recover-delete ${this.parser.getName(h)})`),ju(l,n)):(!r||r.score<l.score)&&(r=l)}return r}stackToTree(e){return e.close(),ht.build({buffer:bs.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(ya||(ya=new WeakMap)).get(e);return t||ya.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function ju(i,e){for(let t=0;t<e.length;t++){let n=e[t];if(n.pos==i.pos&&n.sameState(i)){e[t].score<i.score&&(e[t]=i);return}}e.push(i)}class i1{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||this.disabled[e]==0}}const va=i=>i;class r1{constructor(e){this.start=e.start,this.shift=e.shift||va,this.reduce=e.reduce||va,this.reuse=e.reuse||va,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class ys extends Wf{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let l=0;l<e.repeatNodeCount;l++)t.push("");let n=Object.keys(e.topRules).map(l=>e.topRules[l][1]),r=[];for(let l=0;l<t.length;l++)r.push([]);function o(l,h,d){r[l].push([h,h.deserialize(String(d))])}if(e.nodeProps)for(let l of e.nodeProps){let h=l[0];typeof h=="string"&&(h=he[h]);for(let d=1;d<l.length;){let f=l[d++];if(f>=0)o(f,h,l[d++]);else{let g=l[d+-f];for(let y=-f;y>0;y--)o(l[d++],h,g);d++}}}this.nodeSet=new Yl(t.map((l,h)=>Vt.define({name:h>=this.minRepeatTerm?void 0:l,id:h,props:r[h],top:n.indexOf(h)>-1,error:h==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(h)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=Rf;let a=ur(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let l=0;l<this.specializerSpecs.length;l++)this.specialized[l]=this.specializerSpecs[l].term;this.specializers=this.specializerSpecs.map(Uu),this.states=ur(e.states,Uint32Array),this.data=ur(e.stateData),this.goto=ur(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(l=>typeof l=="number"?new Di(a,l):l),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let r=new n1(this,e,t,n);for(let o of this.wrappers)r=o(r,e,t,n);return r}getGoto(e,t,n=!1){let r=this.goto;if(t>=r[0])return-1;for(let o=r[t+1];;){let a=r[o++],l=a&1,h=r[o++];if(l&&n)return h;for(let d=o+(a>>1);o<d;o++)if(r[o]==e)return h;if(l)return-1}}hasAction(e,t){let n=this.data;for(let r=0;r<2;r++)for(let o=this.stateSlot(e,r?2:1),a;;o+=3){if((a=n[o])==65535)if(n[o+1]==1)a=n[o=Sn(n,o+2)];else{if(n[o+1]==2)return Sn(n,o+2);break}if(a==t||a==0)return Sn(n,o+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){if(t==this.stateSlot(e,4))return!0;for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=Sn(this.data,n+2);else return!1;if(t==Sn(this.data,n+1))return!0}}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=Sn(this.data,n+2);else break;if(!(this.data[n+2]&1)){let r=this.data[n+1];t.some((o,a)=>a&1&&o==r)||t.push(this.data[n],r)}}return t}configure(e){let t=Object.assign(Object.create(ys.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(n=>{let r=e.tokenizers.find(o=>o.from==n);return r?r.to:n})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((n,r)=>{let o=e.specializers.find(l=>l.from==n.external);if(!o)return n;let a=Object.assign(Object.assign({},n),{external:o.to});return t.specializers[r]=Uu(a),a})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map(()=>!1);if(e)for(let o of e.split(" ")){let a=t.indexOf(o);a>=0&&(n[a]=!0)}let r=null;for(let o=0;o<t.length;o++)if(!n[o])for(let a=this.dialects[t[o]],l;(l=this.data[a++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[l]=1;return new i1(e,n,r)}static deserialize(e){return new ys(e)}}function Sn(i,e){return i[e]|i[e+1]<<16}function o1(i){let e=null;for(let t of i){let n=t.p.stoppedAt;(t.pos==t.p.stream.end||n!=null&&t.pos>n)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function Uu(i){if(i.external){let e=i.extend?1:0;return(t,n)=>i.external(t,n)<<1|e}return i.get}const Nu=301,Lu=1,s1=2,Zu=302,a1=304,l1=305,c1=3,h1=4,u1=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],sm=125,d1=59,Eu=47,f1=42,p1=43,m1=45,g1=new r1({start:!1,shift(i,e){return e==c1||e==h1||e==a1?i:e==l1},strict:!1}),O1=new lc((i,e)=>{let{next:t}=i;(t==sm||t==-1||e.context)&&e.canShift(Zu)&&i.acceptToken(Zu)},{contextual:!0,fallback:!0}),b1=new lc((i,e)=>{let{next:t}=i,n;u1.indexOf(t)>-1||t==Eu&&((n=i.peek(1))==Eu||n==f1)||t!=sm&&t!=d1&&t!=-1&&!e.context&&e.canShift(Nu)&&i.acceptToken(Nu)},{contextual:!0}),y1=new lc((i,e)=>{let{next:t}=i;if((t==p1||t==m1)&&(i.advance(),t==i.next)){i.advance();let n=!e.context&&e.canShift(Lu);i.acceptToken(n?Lu:s1)}},{contextual:!0}),v1=Xf({"get set async static":s.modifier,"for while do if else switch try catch finally return throw break continue default case":s.controlKeyword,"in of await yield void typeof delete instanceof":s.operatorKeyword,"let var const function class extends":s.definitionKeyword,"import export from":s.moduleKeyword,"with debugger as new":s.keyword,TemplateString:s.special(s.string),super:s.atom,BooleanLiteral:s.bool,this:s.self,null:s.null,Star:s.modifier,VariableName:s.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":s.function(s.variableName),VariableDefinition:s.definition(s.variableName),Label:s.labelName,PropertyName:s.propertyName,PrivatePropertyName:s.special(s.propertyName),"CallExpression/MemberExpression/PropertyName":s.function(s.propertyName),"FunctionDeclaration/VariableDefinition":s.function(s.definition(s.variableName)),"ClassDeclaration/VariableDefinition":s.definition(s.className),PropertyDefinition:s.definition(s.propertyName),PrivatePropertyDefinition:s.definition(s.special(s.propertyName)),UpdateOp:s.updateOperator,LineComment:s.lineComment,BlockComment:s.blockComment,Number:s.number,String:s.string,Escape:s.escape,ArithOp:s.arithmeticOperator,LogicOp:s.logicOperator,BitOp:s.bitwiseOperator,CompareOp:s.compareOperator,RegExp:s.regexp,Equals:s.definitionOperator,Arrow:s.function(s.punctuation),": Spread":s.punctuation,"( )":s.paren,"[ ]":s.squareBracket,"{ }":s.brace,"InterpolationStart InterpolationEnd":s.special(s.brace),".":s.derefOperator,", ;":s.separator,"@":s.meta,TypeName:s.typeName,TypeDefinition:s.definition(s.typeName),"type enum interface implements namespace module declare":s.definitionKeyword,"abstract global Privacy readonly override":s.modifier,"is keyof unique infer":s.operatorKeyword,JSXAttributeValue:s.attributeValue,JSXText:s.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":s.angleBracket,"JSXIdentifier JSXNameSpacedName":s.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":s.attributeName,"JSXBuiltin/JSXIdentifier":s.standard(s.tagName)}),k1={__proto__:null,export:14,as:19,from:27,default:30,async:35,function:36,extends:46,this:50,true:58,false:58,null:70,void:74,typeof:78,super:96,new:130,delete:146,yield:155,await:159,class:164,public:219,private:219,protected:219,readonly:221,instanceof:240,satisfies:243,in:244,const:246,import:278,keyof:333,unique:337,infer:343,is:379,abstract:399,implements:401,type:403,let:406,var:408,interface:415,enum:419,namespace:425,module:427,declare:431,global:435,for:456,of:465,while:468,with:472,do:476,if:480,else:482,switch:486,case:492,try:498,catch:502,finally:506,return:510,throw:514,break:518,continue:522,debugger:526},w1={__proto__:null,async:117,get:119,set:121,public:181,private:181,protected:181,static:183,abstract:185,override:187,readonly:193,accessor:195,new:383},x1={__proto__:null,"<":137},S1=ys.deserialize({version:14,states:"$BhO`QUOOO%QQUOOO'TQWOOP(_OSOOO*mQ(CjO'#CfO*tOpO'#CgO+SO!bO'#CgO+bO07`O'#DZO-sQUO'#DaO.TQUO'#DlO%QQUO'#DvO0[QUO'#EOOOQ(CY'#EW'#EWO0rQSO'#ETOOQO'#I_'#I_O0zQSO'#GjOOQO'#Eh'#EhO1VQSO'#EgO1[QSO'#EgO3^Q(CjO'#JbO5}Q(CjO'#JcO6kQSO'#FVO6pQ#tO'#FnOOQ(CY'#F_'#F_O6{O&jO'#F_O7ZQ,UO'#FuO8qQSO'#FtOOQ(CY'#Jc'#JcOOQ(CW'#Jb'#JbOOQQ'#J|'#J|O8vQSO'#IOO8{Q(C[O'#IPOOQQ'#JO'#JOOOQQ'#IT'#ITQ`QUOOO%QQUO'#DnO9TQUO'#DzO%QQUO'#D|O9[QSO'#GjO9aQ,UO'#ClO9oQSO'#EfO9zQSO'#EqO:PQ,UO'#F^O:nQSO'#GjO:sQSO'#GnO;OQSO'#GnO;^QSO'#GqO;^QSO'#GrO;^QSO'#GtO9[QSO'#GwO;}QSO'#GzO=`QSO'#CbO=pQSO'#HXO=xQSO'#H_O=xQSO'#HaO`QUO'#HcO=xQSO'#HeO=xQSO'#HhO=}QSO'#HnO>SQ(C]O'#HtO%QQUO'#HvO>_Q(C]O'#HxO>jQ(C]O'#HzO8{Q(C[O'#H|O>uQ(CjO'#CfO?wQWO'#DfQOQSOOO@_QSO'#EPO9aQ,UO'#EfO@jQSO'#EfO@uQ`O'#F^OOQQ'#Cd'#CdOOQ(CW'#Dk'#DkOOQ(CW'#Jf'#JfO%QQUO'#JfOBOQWO'#E_OOQ(CW'#E^'#E^OBYQ(C`O'#E_OBtQWO'#ESOOQO'#Ji'#JiOCYQWO'#ESOCgQWO'#E_OC}QWO'#EeODQQWO'#E_O@}QWO'#E_OBtQWO'#E_PDkO?MpO'#C`POOO)CDm)CDmOOOO'#IU'#IUODvOpO,59ROOQ(CY,59R,59ROOOO'#IV'#IVOEUO!bO,59RO%QQUO'#D]OOOO'#IX'#IXOEdO07`O,59uOOQ(CY,59u,59uOErQUO'#IYOFVQSO'#JdOHXQbO'#JdO+pQUO'#JdOH`QSO,59{OHvQSO'#EhOITQSO'#JqOI`QSO'#JpOI`QSO'#JpOIhQSO,5;UOImQSO'#JoOOQ(CY,5:W,5:WOItQUO,5:WOKuQ(CjO,5:bOLfQSO,5:jOLkQSO'#JmOMeQ(C[O'#JnO:sQSO'#JmOMlQSO'#JmOMtQSO,5;TOMyQSO'#JmOOQ(CY'#Cf'#CfO%QQUO'#EOONmQ`O,5:oOOQO'#Jj'#JjOOQO-E<]-E<]O9[QSO,5=UO! TQSO,5=UO! YQUO,5;RO!#]Q,UO'#EcO!$pQSO,5;RO!&YQ,UO'#DpO!&aQUO'#DuO!&kQWO,5;[O!&sQWO,5;[O%QQUO,5;[OOQQ'#E}'#E}OOQQ'#FP'#FPO%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]OOQQ'#FT'#FTO!'RQUO,5;nOOQ(CY,5;s,5;sOOQ(CY,5;t,5;tO!)UQSO,5;tOOQ(CY,5;u,5;uO%QQUO'#IeO!)^Q(C[O,5<bO!#]Q,UO,5;]O!){Q,UO,5;]O%QQUO,5;qO!*SQ#tO'#FdO!+PQ#tO'#JuO!*kQ#tO'#JuO!+WQ#tO'#JuOOQO'#Ju'#JuO!+lQ#tO,5;|OOOO,5<Y,5<YO!+}QUO'#FpOOOO'#Id'#IdO6{O&jO,5;yO!,UQ#tO'#FrOOQ(CY,5;y,5;yO!,uQ7[O'#CrOOQ(CY'#Cv'#CvO!-YQSO'#CvO!-_O07`O'#CzO!-{Q,UO,5<_O!.SQSO,5<aO!/iQMhO'#GPO!/vQSO'#GQO!/{QSO'#GQO!0QQMhO'#GUO!1PQWO'#GYO!1rQ7[O'#J]OOQ(CY'#J]'#J]O!1|QSO'#J[O!2[QSO'#JZO!2dQSO'#CqOOQ(CY'#Ct'#CtOOQ(CY'#DO'#DOOOQ(CY'#DQ'#DQO0uQSO'#DSO!$uQ,UO'#FwO!$uQ,UO'#FyO!2lQSO'#F{O!2qQSO'#F|O!/{QSO'#GSO!$uQ,UO'#GXO!2vQSO'#EiO!3bQSO,5<`O`QUO,5>jOOQQ'#JW'#JWOOQQ,5>k,5>kOOQQ-E<R-E<RO!5aQ(CjO,5:YO!7}Q(CjO,5:fO%QQUO,5:fO!:hQ(CjO,5:hOOQ(CW'#Co'#CoO!;XQ,UO,5=UO!;gQ(C[O'#JXO8qQSO'#JXO=}QSO,59WO!;xQWO,59WO!<QQ,UO,59WO9aQ,UO,59WO!<]QSO,5;RO!<eQSO'#HWO!<vQSO'#KQO%QQUO,5;vO!=OQWO,5;xO!=TQSO,5=qO!=YQSO,5=qO!=_QSO,5=qO8{Q(C[O,5=qO!=mQSO'#EjO!>gQWO'#EkOOQ(CW'#Jo'#JoO!>nQ(C[O'#J}O8{Q(C[O,5=YO;^QSO,5=`OOQO'#Cr'#CrO!>yQWO,5=]O!?RQ,UO,5=^O!?^QSO,5=`O!?cQ`O,5=cO=}QSO'#G|O9[QSO'#HOO!?kQSO'#HOO9aQ,UO'#HRO!?pQSO'#HROOQQ,5=f,5=fO!?uQSO'#HSO!?}QSO'#ClO!@SQSO,58|O!@^QSO,58|O!BfQUO,58|OOQQ,58|,58|O!BsQ(C[O,58|O%QQUO,58|O!COQUO'#HZOOQQ'#H['#H[OOQQ'#H]'#H]O`QUO,5=sO!C`QSO,5=sO`QUO,5=yO`QUO,5={O!CeQSO,5=}O`QUO,5>PO!CjQSO,5>SO!CoQUO,5>YOOQQ,5>`,5>`O%QQUO,5>`O8{Q(C[O,5>bOOQQ,5>d,5>dO!GvQSO,5>dOOQQ,5>f,5>fO!GvQSO,5>fOOQQ,5>h,5>hO!G{QWO'#DXO%QQUO'#JfO!HjQWO'#JfO!IXQWO'#DgO!IjQWO'#DgO!K{QUO'#DgO!LSQSO'#JeO!L[QSO,5:QO!LaQSO'#ElO!LoQSO'#JrO!LwQSO,5;VO!L|QWO'#DgO!MZQWO'#EROOQ(CY,5:k,5:kO%QQUO,5:kO!MbQSO,5:kO=}QSO,5;QO!;xQWO,5;QO!<QQ,UO,5;QO9aQ,UO,5;QO!MjQSO,5@QO!MoQ!LQO,5:oO!NrQ(C`O,5:yOBtQWO,5:nO# ^QWO,5:nO# kQWO,5:yO#!RQWO,5:yO#!lQWO,5:yOBtQWO,5:yO=}QSO,5:nOOQ(CW'#Eb'#EbOOQO,5:y,5:yO%QQUO,5:yO##]Q(C[O,5:yO##hQ(C[O,5:yO!;xQWO,5:nOOQO,5;P,5;PO##vQ(C[O,5:yPOOO'#IS'#ISP#$[O?MpO,58zPOOO,58z,58zOOOO-E<S-E<SOOQ(CY1G.m1G.mOOOO-E<T-E<TO#$gQ`O,59wOOOO-E<V-E<VOOQ(CY1G/a1G/aO#$lQbO,5>tO+pQUO,5>tOOQO,5>z,5>zO#$vQUO'#IYOOQO-E<W-E<WO#%TQSO,5@OO#%]QbO,5@OO#%dQSO,5@[OOQ(CY1G/g1G/gO%QQUO,5@]O#%lQSO'#I`OOQO-E<^-E<^O#%dQSO,5@[OOQ(CW1G0p1G0pOOQ(CY1G/r1G/rOOQ(CY1G0U1G0UO#&QQSO,5@XO:sQSO,5@XO#&YQSO,5@XO%QQUO,5@YO#&hQ(C[O,5@YO#&yQ(C[O,5@YO#'QQSO'#IbO#&QQSO,5@XOOQ(CW1G0o1G0oO!&kQWO,5:qO!&vQWO,5:qOOQO,5:s,5:sO#'oQSO,5:sO#'wQ,UO1G2pO9[QSO1G2pOOQ(CY1G0m1G0mO#(VQ(CjO1G0mO#)[Q(ChO,5:}OOQ(CY'#GO'#GOO#)xQ(CjO'#J]O! YQUO1G0mO#,QQ,UO'#JgO#,[QSO,5:[O#,aQbO'#JhO%QQUO'#JhO#,kQSO,5:aOOQ(CY'#DX'#DXOOQ(CY1G0v1G0vO%QQUO1G0vOOQ(CY1G1`1G1`O#,pQSO1G0vO#/XQ(CjO1G0wO#/`Q(CjO1G0wO#1yQ(CjO1G0wO#2QQ(CjO1G0wO#4[Q(CjO1G0wO#4rQ(CjO1G0wO#7lQ(CjO1G0wO#7sQ(CjO1G0wO#:^Q(CjO1G0wO#:eQ(CjO1G0wO#<]Q(CjO1G0wO#?]Q$IUO'#CfO#AZQ$IUO1G1YO#CXQ$IUO'#JcO!)XQSO1G1`O#ClQ(CjO,5?POOQ(CW-E<c-E<cO#D`Q(CjO1G0wOOQ(CY1G0w1G0wO#FkQ(CjO1G1]O#G_Q#tO,5<QO#GgQ#tO,5<RO#GoQ#tO'#FiO#HWQSO'#FhOOQO'#Jv'#JvOOQO'#Ic'#IcO#H]Q#tO1G1hOOQ(CY1G1h1G1hOOOO1G1s1G1sO#HnQ$IUO'#JbO#HxQSO,5<[O!'RQUO,5<[OOOO-E<b-E<bOOQ(CY1G1e1G1eO#H}QWO'#JuOOQ(CY,5<^,5<^O#IVQWO,5<^OOQ(CY,59b,59bO!#]Q,UO'#C|OOOO'#IW'#IWO#I[O07`O,59fOOQ(CY,59f,59fO%QQUO1G1yO!2qQSO'#IgO#IgQSO,5<rOOQ(CY,5<o,5<oOOQO'#Ge'#GeO!$uQ,UO,5=OOOQO'#Gg'#GgO!$uQ,UO,5=QO!#]Q,UO,5=SOOQO1G1{1G1{O#IuQ`O'#CoO#JYQ`O,5<kO#JaQSO'#JyO9[QSO'#JyO#JoQSO,5<mO!$uQ,UO,5<lO#JtQSO'#GRO#KPQSO,5<lO#KUQ`O'#GOO#KcQ`O'#JzO#KmQSO'#JzO!#]Q,UO'#JzO#KrQSO,5<pO#KwQWO'#GZO!0zQWO'#GZO#LYQSO'#G]O#L_QSO'#G_O!/{QSO'#GbO#LdQ(C[O'#IiO#LoQWO,5<tOOQ(CY,5<t,5<tO#LvQWO'#GZO#MUQWO'#G[O#M^QWO'#G[OOQ(CY,5=T,5=TO!$uQ,UO,5?vO!$uQ,UO,5?vO#McQSO'#IjO#MnQSO,5?uO#MvQSO,59]O#NgQ,UO,59nOOQ(CY,59n,59nO$ YQ,UO,5<cO$ {Q,UO,5<eO?oQSO,5<gOOQ(CY,5<h,5<hO$!VQSO,5<nO$![Q,UO,5<sO! YQUO1G1zO$!lQSO1G1zOOQQ1G4U1G4UOOQ(CY1G/t1G/tO!)UQSO1G/tO$$kQ(CjO1G0QOOQQ1G2p1G2pO!#]Q,UO1G2pO%QQUO1G2pO$%[QSO1G2pO$%gQ,UO'#EcOOQ(CW,5?s,5?sO$%qQ(C[O,5?sOOQQ1G.r1G.rO=}QSO1G.rO!;xQWO1G.rO!<QQ,UO1G.rO$&SQSO1G0mO$&XQSO'#CfO$&dQSO'#KRO$&lQSO,5=rO$&qQSO'#KRO$&vQSO'#KRO$'RQSO'#IrO$'aQSO,5@lO$'iQbO1G1bOOQ(CY1G1d1G1dO9[QSO1G3]O?oQSO1G3]O$'pQSO1G3]O$'uQSO1G3]OOQQ1G3]1G3]O:sQSO'#JpO:sQSO'#ElO%QQUO'#ElO:sQSO'#IlO$'zQ(C[O,5@iOOQQ1G2t1G2tO!?^QSO1G2zO!#]Q,UO1G2wO$(VQSO1G2wOOQQ1G2x1G2xO!#]Q,UO1G2xO$([QSO1G2xO$(dQWO'#GvOOQQ1G2z1G2zO!0zQWO'#InO!?cQ`O1G2}OOQQ1G2}1G2}OOQQ,5=h,5=hO$(lQ,UO,5=jO9[QSO,5=jO#L_QSO,5=mO8qQSO,5=mO!;xQWO,5=mO!<QQ,UO,5=mO9aQ,UO,5=mO$(zQSO'#KPO$)VQSO,5=nOOQQ1G.h1G.hO$)[Q(C[O1G.hO?oQSO1G.hO$)gQSO1G.hO8{Q(C[O1G.hO$)rQbO,5@nO$*VQSO,5@nO$*bQUO,5=uO$*iQSO,5=uO:sQSO,5@nOOQQ1G3_1G3_O`QUO1G3_OOQQ1G3e1G3eOOQQ1G3g1G3gO=xQSO1G3iO$*nQUO1G3kO$.oQUO'#HjOOQQ1G3n1G3nO$.|QSO'#HpO=}QSO'#HrOOQQ1G3t1G3tO$/UQUO1G3tO8{Q(C[O1G3zOOQQ1G3|1G3|OOQ(CW'#GV'#GVO8{Q(C[O1G4OO8{Q(C[O1G4QO$3YQSO,5@QO!'RQUO,5;WO:sQSO,5;WO=}QSO,5:RO!'RQUO,5:RO!;xQWO,5:RO$3_Q$IUO,5:ROOQO,5;W,5;WO$3iQWO'#IZO$4PQSO,5@POOQ(CY1G/l1G/lO$4XQWO'#IaO$4cQSO,5@^OOQ(CW1G0q1G0qO!IjQWO,5:ROOQO'#I^'#I^O$4kQWO,5:mOOQ(CY,5:m,5:mO!MeQSO1G0VOOQ(CY1G0V1G0VO%QQUO1G0VOOQ(CY1G0l1G0lO=}QSO1G0lO!;xQWO1G0lO!<QQ,UO1G0lOOQ(CW1G5l1G5lO=}QSO1G0YOOQO1G0e1G0eO%QQUO1G0eO$4rQ(C[O1G0eO$4}Q(C[O1G0eO!;xQWO1G0YOBtQWO1G0YO$5]Q(C`O1G0eO$5wQWO1G0YOBtQWO1G0eO$6UQWO1G0eO$6lQWO1G0eO$7VQ(C[O1G0eOOQO1G0Y1G0YO$7kQ(CjO1G0ePOOO-E<Q-E<QPOOO1G.f1G.fOOOO1G/c1G/cO$7uQ`O,5<bO$7}QbO1G4`OOQO1G4f1G4fO%QQUO,5>tO$8XQSO1G5jO$8aQSO1G5vO$8iQbO1G5wO:sQSO,5>zO$8sQSO1G5sO$8sQSO1G5sO:sQSO1G5sO$8{Q(CjO1G5tO%QQUO1G5tO$9]Q(C[O1G5tO$9nQSO,5>|O:sQSO,5>|OOQO,5>|,5>|O$:SQSO,5>|OOQO-E<`-E<`OOQO1G0]1G0]OOQO1G0_1G0_O!)XQSO1G0_OOQQ7+([7+([O!#]Q,UO7+([O%QQUO7+([O$:bQSO7+([O$:mQ,UO7+([O$:{Q(CjO,59nO$=TQ(CjO,5<cO$?`Q(CjO,5<eO$AkQ(CjO,5<sOOQ(CY7+&X7+&XO$C|Q(CjO7+&XO$DpQ,UO'#I[O$DzQSO,5@ROOQ(CY1G/v1G/vO$ESQUO'#I]O$EaQSO,5@SO$EiQbO,5@SOOQ(CY1G/{1G/{O$EsQSO7+&bOOQ(CY7+&b7+&bO$ExQ$IUO,5:bO%QQUO7+&tO$FSQ$IUO,5:YO$FaQ$IUO,5:fO$FkQ$IUO,5:hOOQ(CY7+&z7+&zOOQO1G1l1G1lOOQO1G1m1G1mO$FuQ#tO,5<TO!'RQUO,5<SOOQO-E<a-E<aOOQ(CY7+'S7+'SOOOO7+'_7+'_OOOO1G1v1G1vO$GQQSO1G1vOOQ(CY1G1x1G1xO$GVQ`O,59hOOOO-E<U-E<UOOQ(CY1G/Q1G/QO$G^Q(CjO7+'eOOQ(CY,5?R,5?RO$HQQSO,5?ROOQ(CY1G2^1G2^P$HVQSO'#IgPOQ(CY-E<e-E<eO$HyQ,UO1G2jO$IlQ,UO1G2lO$IvQ`O1G2nOOQ(CY1G2V1G2VO$I}QSO'#IfO$J]QSO,5@eO$J]QSO,5@eO$JeQSO,5@eO$JpQSO,5@eOOQO1G2X1G2XO$KOQ,UO1G2WO!$uQ,UO1G2WO$K`QMhO'#IhO$KpQSO,5@fO!#]Q,UO,5@fO$KxQ`O,5@fOOQ(CY1G2[1G2[OOQ(CW,5<u,5<uOOQ(CW,5<v,5<vO$LSQSO,5<vOBoQSO,5<vO!;xQWO,5<uOOQO'#G^'#G^O$LXQSO,5<wOOQ(CW,5<y,5<yO$LSQSO,5<|OOQO,5?T,5?TOOQO-E<g-E<gOOQ(CY1G2`1G2`O!0zQWO,5<uO$LaQSO,5<vO#LYQSO,5<wO!0zQWO,5<vO$LlQ,UO1G5bO$LvQ,UO1G5bOOQO,5?U,5?UOOQO-E<h-E<hOOQO1G.w1G.wO!=OQWO,59pO%QQUO,59pO$MTQSO1G2RO!$uQ,UO1G2YO$MYQ(CjO7+'fOOQ(CY7+'f7+'fO! YQUO7+'fOOQ(CY7+%`7+%`O$M|Q`O'#J{O!MeQSO7+([O$NWQbO7+([O$:eQSO7+([O$N_Q(ChO'#CfO$NrQ(ChO,5<zO% dQSO,5<zOOQ(CW1G5_1G5_OOQQ7+$^7+$^O=}QSO7+$^O!;xQWO7+$^O! YQUO7+&XO% iQSO'#IqO% }QSO,5@mOOQO1G3^1G3^O9[QSO,5@mO% }QSO,5@mO%!VQSO,5@mOOQO,5?^,5?^OOQO-E<p-E<pOOQ(CY7+&|7+&|O%![QSO7+(wO8{Q(C[O7+(wO9[QSO7+(wO?oQSO7+(wO%!aQSO,5;WOOQ(CW,5?W,5?WOOQ(CW-E<j-E<jOOQQ7+(f7+(fO%!fQ(ChO7+(cO!#]Q,UO7+(cO%!pQ`O7+(dOOQQ7+(d7+(dO!#]Q,UO7+(dO%!wQSO'#KOO%#SQSO,5=bOOQO,5?Y,5?YOOQO-E<l-E<lOOQQ7+(i7+(iO%$`QWO'#HPOOQQ1G3U1G3UO!#]Q,UO1G3UO%QQUO1G3UO%$gQSO1G3UO%$rQ,UO1G3UO8{Q(C[O1G3XO#L_QSO1G3XO8qQSO1G3XO!;xQWO1G3XO!<QQ,UO1G3XO%%QQSO'#IpO%%]QSO,5@kO%%eQWO,5@kOOQ(CW1G3Y1G3YOOQQ7+$S7+$SO?oQSO7+$SO8{Q(C[O7+$SO%%pQSO7+$SO%QQUO1G6YO%QQUO1G6ZO%%uQUO1G3aO%%|QSO1G3aO%&RQUO1G3aO%&YQ(C[O1G6YOOQQ7+(y7+(yO8{Q(C[O7+)TO`QUO7+)VOOQQ'#KU'#KUOOQQ'#Is'#IsO%&dQUO,5>UOOQQ,5>U,5>UO%QQUO'#HkO%&qQSO'#HmOOQQ,5>[,5>[O:sQSO,5>[OOQQ,5>^,5>^OOQQ7+)`7+)`OOQQ7+)f7+)fOOQQ7+)j7+)jOOQQ7+)l7+)lO%&vQWO1G5lO%'[Q$IUO1G0rO%'fQSO1G0rOOQO1G/m1G/mO%'qQ$IUO1G/mO=}QSO1G/mO!'RQUO'#DgOOQO,5>u,5>uOOQO-E<X-E<XOOQO,5>{,5>{OOQO-E<_-E<_O!;xQWO1G/mOOQO-E<[-E<[OOQ(CY1G0X1G0XOOQ(CY7+%q7+%qO!MeQSO7+%qOOQ(CY7+&W7+&WO=}QSO7+&WO!;xQWO7+&WOOQO7+%t7+%tO$7kQ(CjO7+&POOQO7+&P7+&PO%QQUO7+&PO%'{Q(C[O7+&PO=}QSO7+%tO!;xQWO7+%tO%(WQ(C[O7+&POBtQWO7+%tO%(fQ(C[O7+&PO%(zQ(C`O7+&PO%)UQWO7+%tOBtQWO7+&PO%)cQWO7+&PO%)yQSO7++_O%)yQSO7++_O%*RQ(CjO7++`O%QQUO7++`OOQO1G4h1G4hO:sQSO1G4hO%*cQSO1G4hOOQO7+%y7+%yO!MeQSO<<KvO$NWQbO<<KvO%*qQSO<<KvOOQQ<<Kv<<KvO!#]Q,UO<<KvO%QQUO<<KvO%*yQSO<<KvO%+UQ(CjO1G2jO%-aQ(CjO1G2lO%/lQ(CjO1G2WO%1}Q,UO,5>vOOQO-E<Y-E<YO%2XQbO,5>wO%QQUO,5>wOOQO-E<Z-E<ZO%2cQSO1G5nOOQ(CY<<I|<<I|O%2kQ$IUO1G0mO%4uQ$IUO1G0wO%4|Q$IUO1G0wO%7QQ$IUO1G0wO%7XQ$IUO1G0wO%8|Q$IUO1G0wO%9dQ$IUO1G0wO%;wQ$IUO1G0wO%<OQ$IUO1G0wO%>SQ$IUO1G0wO%>ZQ$IUO1G0wO%@RQ$IUO1G0wO%@fQ(CjO<<J`O%AkQ$IUO1G0wO%CaQ$IUO'#J]O%EdQ$IUO1G1]O%EqQ$IUO1G0QO!'RQUO'#FkOOQO'#Jw'#JwOOQO1G1o1G1oO%E{QSO1G1nO%FQQ$IUO,5?POOOO7+'b7+'bOOOO1G/S1G/SOOQ(CY1G4m1G4mO!$uQ,UO7+(YO%F[QSO,5?QO9[QSO,5?QOOQO-E<d-E<dO%FjQSO1G6PO%FjQSO1G6PO%FrQSO1G6PO%F}Q,UO7+'rO%G_Q`O,5?SO%GiQSO,5?SO!#]Q,UO,5?SOOQO-E<f-E<fO%GnQ`O1G6QO%GxQSO1G6QOOQ(CW1G2b1G2bO$LSQSO1G2bOOQ(CW1G2a1G2aO%HQQSO1G2cO!#]Q,UO1G2cOOQ(CW1G2h1G2hO!;xQWO1G2aOBoQSO1G2bO%HVQSO1G2cO%H_QSO1G2bO!$uQ,UO7+*|OOQ(CY1G/[1G/[O%HjQSO1G/[OOQ(CY7+'m7+'mO%HoQ,UO7+'tO%IPQ(CjO<<KQOOQ(CY<<KQ<<KQO!#]Q,UO'#IkO%IsQSO,5@gO!#]Q,UO1G2fOOQQ<<Gx<<GxO=}QSO<<GxO%I{Q(CjO<<IsOOQ(CY<<Is<<IsOOQO,5?],5?]O%JoQSO,5?]O$&vQSO,5?]OOQO-E<o-E<oO%JtQSO1G6XO%JtQSO1G6XO9[QSO1G6XO?oQSO<<LcOOQQ<<Lc<<LcO%J|QSO<<LcO8{Q(C[O<<LcO%KRQSO1G0rOOQQ<<K}<<K}O%!fQ(ChO<<K}OOQQ<<LO<<LOO%!pQ`O<<LOO%KWQWO'#ImO%KcQSO,5@jO!'RQUO,5@jOOQQ1G2|1G2|O%KkQ(C`O'#JfO%LVQUO'#JfO%L^QWO'#E_O%LwQ(C[O'#E_OBYQ(C`O'#E_O(VQWO'#HQOOQO'#Io'#IoO8{Q(C[O'#IoO%M]QWO,5=kOOQQ,5=k,5=kO%MuQWO'#E_O%LmQWO'#E_O%M|QWO'#E_O%NgQWO'#E_O& WQWO'#HQO& iQSO7+(pO& nQSO7+(pOOQQ7+(p7+(pO!#]Q,UO7+(pO%QQUO7+(pO& vQSO7+(pOOQQ7+(s7+(sO8{Q(C[O7+(sO#L_QSO7+(sO8qQSO7+(sO!;xQWO7+(sO&!RQSO,5?[OOQO-E<n-E<nOOQO'#HT'#HTO&!^QSO1G6VO8{Q(C[O<<GnOOQQ<<Gn<<GnO?oQSO<<GnO&!fQSO7++tO&!kQSO7++uOOQQ7+({7+({O&!pQSO7+({O&!uQUO7+({O&!|QSO7+({O%QQUO7++tO%QQUO7++uOOQQ<<Lo<<LoOOQQ<<Lq<<LqOOQQ-E<q-E<qOOQQ1G3p1G3pO&#RQSO,5>VOOQQ,5>X,5>XO&#WQSO1G3vO:sQSO7+&^O!'RQUO7+&^OOQO7+%X7+%XO&#]Q$IUO1G5wO=}QSO7+%XOOQ(CY<<I]<<I]OOQ(CY<<Ir<<IrO=}QSO<<IrOOQO<<Ik<<IkO$7kQ(CjO<<IkO%QQUO<<IkOOQO<<I`<<I`O=}QSO<<I`O&#gQ(C[O<<IkO!;xQWO<<I`O&#rQ(C[O<<IkOBtQWO<<I`O&$QQ(C[O<<IkO&$fQ(C`O<<IkO&$pQWO<<I`OBtQWO<<IkO&$}QSO<<NyO&%VQ(CjO<<NzOOQO7+*S7+*SO:sQSO7+*SOOQQANAbANAbO&%gQSOANAbO!#]Q,UOANAbO!MeQSOANAbO$NWQbOANAbO%QQUOANAbO&%oQ(CjO7+'rO&(QQ(CjO7+'tO&*cQbO1G4cO&*mQ$IUO7+&XO&*zQ$IUO,59nO&,}Q$IUO,5<cO&/QQ$IUO,5<eO&1TQ$IUO,5<sO&2yQ$IUO7+'eO&3WQ$IUO7+'fO&3eQSO,5<VOOQO7+'Y7+'YO&3jQ,UO<<KtOOQO1G4l1G4lO&3qQSO1G4lO&3|QSO1G4lO&4[QSO7++kO&4[QSO7++kO!#]Q,UO1G4nO&4dQ`O1G4nO&4nQSO7++lOOQ(CW7+'|7+'|O$LSQSO7+'}O&4vQ`O7+'}OOQ(CW7+'{7+'{O$LSQSO7+'|O&4}QSO7+'}O!#]Q,UO7+'}OBoQSO7+'|O&5SQ,UO<<NhOOQ(CY7+$v7+$vO&5^Q`O,5?VOOQO-E<i-E<iO&5hQ(ChO7+(QOOQQAN=dAN=dO9[QSO1G4wOOQO1G4w1G4wO&5xQSO1G4wO&5}QSO7++sO&5}QSO7++sO8{Q(C[OANA}O?oQSOANA}OOQQANA}ANA}OOQQANAiANAiOOQQANAjANAjO&6VQSO,5?XOOQO-E<k-E<kO&6bQ$IUO1G6UO#L_QSO,5=lO8qQSO,5=lO&8rQbO'#CfO&8|QWO,5:yO&9WQWO,5:yO&9eQWO,5:yO!;xQWO,5=lOOQO,5?Z,5?ZOOQO-E<m-E<mOOQQ1G3V1G3VO%LVQUO,5<wO%KkQ(C`O,5=lO!NrQ(C`O,5:yO(VQWO,5=lO&9xQWO,5=lO&:ZQWO,5:yOOQQ<<L[<<L[O!#]Q,UO<<L[O& iQSO<<L[O&:tQSO<<L[O%QQUO<<L[OOQQ<<L_<<L_O8{Q(C[O<<L_O#L_QSO<<L_O8qQSO<<L_O&:|QWO1G4vO&;XQSO7++qOOQQAN=YAN=YO8{Q(C[OAN=YOOQQ<= `<= `OOQQ<= a<= aOOQQ<<Lg<<LgO&;aQSO<<LgO&;fQUO<<LgO&;mQSO<= `O&;rQSO<= aOOQQ1G3q1G3qO=}QSO7+)bO&;wQSO<<IxO&<SQ$IUO<<IxOOQO<<Hs<<HsOOQ(CYAN?^AN?^OOQOAN?VAN?VO$7kQ(CjOAN?VOOQOAN>zAN>zO%QQUOAN?VO=}QSOAN>zO&<^Q(C[OAN?VO!;xQWOAN>zO&<iQ(C[OAN?VOBtQWOAN>zO&<wQ(C[OAN?VOOQO<<Mn<<MnOOQQG26|G26|O!#]Q,UOG26|O!MeQSOG26|O&=]QSOG26|O$NWQbOG26|O&=eQ$IUO<<J`O&=rQ$IUO1G2WO&?hQ$IUO1G2jO&AkQ$IUO1G2lO&CnQ$IUO<<KQO&C{Q$IUO<<IsOOQO1G1q1G1qO!$uQ,UOANA`OOQO7+*W7+*WO&DYQSO7+*WO&DeQSO<= VO&DmQ`O7+*YOOQ(CW<<Ki<<KiO$LSQSO<<KiOOQ(CW<<Kh<<KhO&DwQ`O<<KiO$LSQSO<<KhOOQO7+*c7+*cO9[QSO7+*cO&EOQSO<= _OOQQG27iG27iO8{Q(C[OG27iO!'RQUO1G4sO&EWQSO7++pO8{Q(C[O1G3WO#L_QSO1G3WO&E`QWO1G0eO&EjQWO1G0eO8qQSO1G3WO!;xQWO1G3WO(VQWO1G3WO%KkQ(C`O1G3WO$5]Q(C`O1G0eO&EwQWO1G3WO& iQSOANAvOOQQANAvANAvO!#]Q,UOANAvO&FYQSOANAvOOQQANAyANAyO8{Q(C[OANAyO#L_QSOANAyOOQO'#HU'#HUOOQO7+*b7+*bOOQQG22tG22tOOQQANBRANBRO&FbQSOANBROOQQANDzANDzOOQQAND{AND{OOQQ<<L|<<L|O!'RQUOAN?dOOQOG24qG24qO$7kQ(CjOG24qOOQOG24fG24fO%QQUOG24qO=}QSOG24fO&FgQ(C[OG24qO!;xQWOG24fO&FrQ(C[OG24qO!MeQSOLD,hOOQQLD,hLD,hO!#]Q,UOLD,hO&GQQSOLD,hO&GYQ$IUO7+'rO&IOQ$IUO7+'tO&JtQ,UOG26zOOQO<<Mr<<MrOOQ(CWANATANATO$LSQSOANATOOQ(CWANASANASOOQO<<M}<<M}OOQQLD-TLD-TO&KUQ$IUO7+*_OOQO7+(r7+(rO8{Q(C[O7+(rO&K`QWO7+&PO#L_QSO7+(rO8qQSO7+(rO!;xQWO7+(rO(VQWO7+(rOOQQG27bG27bO& iQSOG27bO!#]Q,UOG27bOOQQG27eG27eO8{Q(C[OG27eOOQQG27mG27mO&KjQ$IUOG25OOOQOLD*]LD*]O$7kQ(CjOLD*]OOQOLD*QLD*QO%QQUOLD*]O=}QSOLD*QO&KtQ(C[OLD*]OOQQ!$(!S!$(!SO!MeQSO!$(!SO!#]Q,UO!$(!SO&LPQ(CjOG26zOOQ(CWG26oG26oOOQO<<L^<<L^O8{Q(C[O<<L^O#L_QSO<<L^O8qQSO<<L^O!;xQWO<<L^OOQQLD,|LD,|O& iQSOLD,|OOQQLD-PLD-POOQO!$'Mw!$'MwO$7kQ(CjO!$'MwOOQO!$'Ml!$'MlO%QQUO!$'MwOOQQ!)9En!)9EnO!MeQSO!)9EnOOQOANAxANAxO8{Q(C[OANAxO#L_QSOANAxO8qQSOANAxOOQQ!$(!h!$(!hOOQO!)9Cc!)9CcO$7kQ(CjO!)9CcOOQQ!.K;Y!.K;YO&NbQ$IUOG26zOOQOG27dG27dO8{Q(C[OG27dO#L_QSOG27dOOQO!.K8}!.K8}OOQOLD-OLD-OO8{Q(C[OLD-OOOQO!$(!j!$(!jO!'RQUO'#DvO0rQSO'#ETO'!WQbO'#JbO!'RQUO'#DnO'!_QUO'#DzO!'RQUO'#D|O'!fQbO'#CfO'$|QbO'#CfO'%^QUO,5;RO!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO'#IeO''aQSO,5<bO''iQ,UO,5;]O'(|Q,UO,5;]O!'RQUO,5;qO0uQSO'#DSO0uQSO'#DSO!#]Q,UO'#FwO''iQ,UO'#FwO!#]Q,UO'#FyO''iQ,UO'#FyO!#]Q,UO'#GXO''iQ,UO'#GXO!'RQUO,5:fO!'RQUO,5@]O'%^QUO1G0mO')TQ$IUO'#CfO!'RQUO1G1yO!#]Q,UO,5=OO''iQ,UO,5=OO!#]Q,UO,5=QO''iQ,UO,5=QO!#]Q,UO,5<lO''iQ,UO,5<lO'%^QUO1G1zO!'RQUO7+&tO!#]Q,UO1G2WO''iQ,UO1G2WO!#]Q,UO1G2YO''iQ,UO1G2YO'%^QUO7+'fO'%^QUO7+&XO!#]Q,UOANA`O''iQ,UOANA`O')_QSO'#EgO')dQSO'#EgO')lQSO'#FVO')qQSO'#EqO')vQSO'#JqO'*RQSO'#JoO'*^QSO,5;RO'*cQ,UO,5<_O'*jQSO'#GQO'*oQSO'#GQO'*tQSO,5<`O'*|QSO,5;RO'+UQ$IUO1G1YO'+]QSO,5<lO'+bQSO,5<lO'+gQSO,5<nO'+lQSO,5<nO'+qQSO1G1zO'+vQSO1G0mO'+{Q,UO<<KtO',SQ,UO<<KtO7ZQ,UO'#FuO8qQSO'#FtO@jQSO'#EfO!'RQUO,5;nO!/{QSO'#GQO!/{QSO'#GQO!/{QSO'#GSO!/{QSO'#GSO!$uQ,UO7+(YO!$uQ,UO7+(YO$IvQ`O1G2nO$IvQ`O1G2nO!#]Q,UO,5=SO!#]Q,UO,5=S",stateData:"'-[~O'lOS'mOSROS'nRQ~OPYOQYOV!TO^pOaxObwOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!XXO!csO!hZO!kYO!lYO!mYO!otO!quO!tvO!x]O#o}O$PzO$TfO%_{O%a!OO%c|O%d|O%g!PO%i!QO%l!RO%m!RO%o!SO%|!UO&S!VO&U!WO&W!XO&Y!YO&]!ZO&c![O&i!]O&k!^O&m!_O&o!`O&q!aO'sSO'uTO'xUO(QVO(_[O(liO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$P!hO$TfO's!bO'uTO'xUO(QVO(_[O(liO~O^!qOl!kO|!lO![!rO!]!pO!^!pO!x;oO!|!vO!}!tO#O!uO#P!sO#S!wO#T!wO't!iO'uTO'xUO(T!jO(_!nO~O'n!xO~OPYXXYX^YXkYXyYXzYX|YX!VYX!eYX!fYX!hYX!lYX#WYX#ccX#fYX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#pYX#rYX#tYX#uYX#zYX'jYX(QYX(`YX(gYX(hYX~O!a$yX~P(dO[!zO'u!|O'v!zO'w!|O~O[!}O'w!|O'x!|O'y!}O~Oq#PO!O#QO(R#QO(S#SO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$P!hO$TfO's;tO'uTO'xUO(QVO(_[O(liO~O!U#WO!V#TO!S(WP!S(dP~P+pO!W#`O~P`OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$P!hO$TfO'uTO'xUO(QVO(_[O(liO~O!U#fO!x]O#a#iO#b#fO's;uO!g(aP~P.[O!h#kO's#jO~O!t#oO!x]O%_#pO~O#c#qO~O!a#rO#c#qO~OP$YOX$aOk#}Oy#vOz#wO|#xO!V$^O!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO#t$UO#u$VO(QVO(`$WO(g#yO(h#zO~O^(UX'j(UX'h(UX!g(UX!S(UX!X(UX%`(UX!a(UX~P1dO#W$bO#z$bOP(VXX(VXk(VXy(VXz(VX|(VX!V(VX!e(VX!h(VX!l(VX#f(VX#g(VX#h(VX#i(VX#j(VX#k(VX#l(VX#m(VX#n(VX#p(VX#r(VX#t(VX#u(VX(Q(VX(`(VX(g(VX(h(VX!X(VX%`(VX~O^(VX!f(VX'j(VX'h(VX!S(VX!g(VXo(VX!a(VX~P3zO#W$bO~O$V$dO$X$cO$`$iO~O!X$jO$TfO$c$kO$e$mO~Oi%POk$qOl$pOm$pOs%QOu%ROw%SO|$xO!X$yO!c%XO!h$uO#b%YO$P%VO$l%TO$n%UO$q%WO's$oO'uTO'xUO'|%OO(Q$rOd'}P~O!h%ZO~O!a%]O~O^%^O'j%^O~O't!iO~P%QO's%eO~O!h%ZO's%eO't!iO'|%OO~Ob%lO!h%ZO's%eO~O#n$PO~Oy%qO!X%nO!h%pO%a%tO's%eO't!iO'uTO'xUO](tP~O!t#oO~O|%vO!X%wO's%eO~O|%vO!X%wO%i%{O's%eO~O's%|O~O#o}O%a!OO%c|O%d|O%g!PO%i!QO%l!RO%m!RO~Oa&VOb&UO!t&SO%_&TO%q&RO~P;cOa&YObwO!X&XO!tvO!x]O#o}O%_{O%c|O%d|O%g!PO%i!QO%l!RO%m!RO%o!SO~O_&]O#W&`O%a&ZO't!iO~P<bO!h&aO!q&eO~O!h#kO~O!XXO~O^%^O'i&mO'j%^O~O^%^O'i&pO'j%^O~O^%^O'i&rO'j%^O~O'hYX!SYXoYX!gYX&QYX!XYX%`YX!aYX~P(dO!['PO!]&xO!^&xO't!iO'uTO'xUO~Ol&vO|&uO!U&yO(T&tO!W(XP!W(fP~P?cOg'SO!X'QO's%eO~Ob'XO!h%ZO's%eO~Oy%qO!h%pO~Ol!kO|!lO!['^O!]']O!^']O!}'`O#O'`O#P'_O#S'bO#T'bO't!iO'uTO'xUO(T!jO(_!nO~O!x;oO!|'aO~P@}O^%^O!a#rO!h%ZO!l'hO#W'fO'j%^O'|%OO(`'dO~Ol!kO|!lO'uTO'xUO(T!jO(_!nO~O!]']O!^']O't!iO~PBtO!['^O!]']O!^']O#S'bO#T'bO't!iO~PBtO!XXO!['^O!]']O!^']O#P'_O#S'bO#T'bO't!iO~PBtO'o'lO'p'lO'q'nO~O[!zO'u'pO'v!zO'w'pO~O[!}O'w'pO'x'pO'y!}O~Oq#PO!O#QO(R#QO(S'tO~O!U'vO!S&|X!S'SX!V&|X!V'SX~P+pO!V'xO!S(WX~OP$YOX$aOk#}Oy#vOz#wO|#xO!V'xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO#t$UO#u$VO(QVO(`$WO(g#yO(h#zO~O!S(WX~PF_O!S'}O~O!S(cX!V(cX!a(cX!g(cX(`(cX~O#W(cX#c#[X!W(cX~PHeO#W(OO!S(eX!V(eX~O!V(PO!S(dX~O!S(SO~O#W$bO~PHeO!W(TO~P`Oy#vOz#wO|#xO!f#tO!h#uO(QVOP!jaX!jak!ja!V!ja!e!ja!l!ja#f!ja#g!ja#h!ja#i!ja#j!ja#k!ja#l!ja#m!ja#n!ja#p!ja#r!ja#t!ja#u!ja(`!ja(g!ja(h!ja~O^!ja'j!ja'h!ja!S!ja!g!jao!ja!X!ja%`!ja!a!ja~PI{O!g(UO~O|%vO!X%wO!x]O#a(XO#b(WO's%eO~O!a#rO#W(YO(`'dO!V(bX^(bX'j(bX~O!g(bX~PMPO!V(]O!g(aX~O!g(_O~O|%vO!X%wO#b(WO's%eO~Oy(`Oz(aO!f#tO!h#uO!x!wa|!wa~O!t!wa%_!wa!X!wa#a!wa#b!wa's!wa~PNXO!t(eO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!XXO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$P!hO$TfO's!bO'uTO'xUO(QVO(_[O(liO~Oi%POk$qOl$pOm$pOs%QOu%ROw<XO|$xO!X$yO!c=cO!h$uO#b<_O$P%VO$l<ZO$n<]O$q%WO's(iO'uTO'xUO'|%OO(Q$rO~O#c(kO~Oi%POk$qOl$pOm$pOs%QOu%ROw%SO|$xO!X$yO!c%XO!h$uO#b%YO$P%VO$l%TO$n%UO$q%WO's(iO'uTO'xUO'|%OO(Q$rO~Od(ZP~P!$uO!U(oO!g([P~P%QO(T(qO(_[O~O|(sO!h#uO(T(qO(_[O~OP;nOQ;nOa=_Ob!fOikOk;nOlkOmkOskOu;nOw;nO|WO!QkO!RkO!X!cO!c;qO!hZO!k;nO!l;nO!m;nO!o;rO!q;sO!t!eO$P!hO$TfO's)RO'uTO'xUO(QVO(_[O(l=]O~Oz)UO!h#uO~O!V$^O^$ja'j$ja'h$ja!g$ja!S$ja!X$ja%`$ja!a$ja~O#o)YO~P!#]Oy)]O!a)[O!X$WX$S$WX$V$WX$X$WX$`$WX~O!a)[O!X(iX$S(iX$V(iX$X(iX$`(iX~Oy)]O~P!*kOy)]O!X(iX$S(iX$V(iX$X(iX$`(iX~O!X)_O$S)cO$V)^O$X)^O$`)dO~O!U)gO~P!'RO$V$dO$X$cO$`)kO~Og$rXy$rX|$rX!f$rX(g$rX(h$rX~OdfXd$rXgfX!VfX#WfX~P!,aOl)mO~Oq)nO(R)oO(S)qO~Og)zOy)sO|)tO(g)vO(h)xO~Od)rO~P!-jOd){O~Oi%POk$qOl$pOm$pOs%QOu%ROw<XO|$xO!X$yO!c=cO!h$uO#b<_O$P%VO$l<ZO$n<]O$q%WO'uTO'xUO'|%OO(Q$rO~O!U*PO's)|O!g(mP~P!.XO#c*RO~O!h*SO~O!U*XO's*UO!S(nP~P!.XOk*eO|*]O![*cO!]*[O!^*[O!h*SO#S*dO%V*_O't!iO(T!jO~O!W*bO~P!0_O!f#tOg(PXy(PX|(PX(g(PX(h(PX!V(PX#W(PX~Od(PX#x(PX~P!1WOg*hO#W*gOd(OX!V(OX~O!V*iOd'}X~O's%|Od'}P~O!h*pO~O's(iO~O|%vO!U#fO!X%wO!x]O#a#iO#b#fO's%eO!g(aP~O!a#rO#c*tO~OP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO#t$UO#u$VO(QVO(`$WO(g#yO(h#zO~O^!ba!V!ba'j!ba'h!ba!S!ba!g!bao!ba!X!ba%`!ba!a!ba~P!3jOy#vOz#wO|#xO!f#tO!h#uO(QVOP!naX!nak!na!V!na!e!na!l!na#f!na#g!na#h!na#i!na#j!na#k!na#l!na#m!na#n!na#p!na#r!na#t!na#u!na(`!na(g!na(h!na~O^!na'j!na'h!na!S!na!g!nao!na!X!na%`!na!a!na~P!6TOy#vOz#wO|#xO!f#tO!h#uO(QVOP!paX!pak!pa!V!pa!e!pa!l!pa#f!pa#g!pa#h!pa#i!pa#j!pa#k!pa#l!pa#m!pa#n!pa#p!pa#r!pa#t!pa#u!pa(`!pa(g!pa(h!pa~O^!pa'j!pa'h!pa!S!pa!g!pao!pa!X!pa%`!pa!a!pa~P!8nOg*|O!X'QO%`*{O'|%OO~O!a+OO!X'{X^'{X!V'{X'j'{X~O!h%ZO'|%OO~O!h%ZO's%eO'|%OO~O!a#rO#c(kO~O%a+[O's+WO'uTO'xUO!W(uP~O!V+]O](tX~O(T(qO~OX+aO~O]+bO~O!X%nO's%eO't!iO](tP~O|%vO!U+fO!V(PO!X%wO's%eO!S(dP~Ol&|O|+hO!U+gO'uTO'xUO(T(qO~O!W(fP~P!>RO!V+iO^(qX'j(qX~O#W+mO'|%OO~Og+pO!X$yO'|%OO~O!X+rO~Oy+tO!XXO~O!t+yO~Ob,OO~O's#jO!W(sP~Ob%lO~O%a!OO's%|O~P<bOX,UO],TO~OPYOQYOaxObwOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!csO!hZO!kYO!lYO!mYO!otO!quO!tvO!x]O$TfO%_{O'uTO'xUO(QVO(_[O(liO~O!X!cO$P!hO's!bO~P!@fO],TO^%^O'j%^O~O^,YO#o,[O%c,[O%d,[O~P%QO!h&aO~O&S,aO~O!X,cO~O&e,eO&g,fOP&baQ&baV&ba^&baa&bab&bai&bak&bal&bam&bas&bau&baw&ba|&ba!Q&ba!R&ba!X&ba!c&ba!h&ba!k&ba!l&ba!m&ba!o&ba!q&ba!t&ba!x&ba#o&ba$P&ba$T&ba%_&ba%a&ba%c&ba%d&ba%g&ba%i&ba%l&ba%m&ba%o&ba%|&ba&S&ba&U&ba&W&ba&Y&ba&]&ba&c&ba&i&ba&k&ba&m&ba&o&ba&q&ba'h&ba's&ba'u&ba'x&ba(Q&ba(_&ba(l&ba!W&ba&Z&ba_&ba&`&ba~O's,kO~O!V{X!V!_X!W{X!W!_X!a{X!a!_X!h!_X#W{X'|!_X~O!a,pO#W,oO!V#`X!V(YX!W#`X!W(YX!a(YX!h(YX'|(YX~O!a,rO!h%ZO'|%OO!V!ZX!W!ZX~Ol!kO|!lO'uTO'xUO(T!jO~OP;nOQ;nOa=_Ob!fOikOk;nOlkOmkOskOu;nOw;nO|WO!QkO!RkO!X!cO!c;qO!hZO!k;nO!l;nO!m;nO!o;rO!q;sO!t!eO$P!hO$TfO'uTO'xUO(QVO(_[O(l=]O~O's<dO~P!I{O!V,vO!W(XX~O!W,xO~O!a,pO#W,oO!V#`X!W#`X~O!V,yO!W(fX~O!W,{O~O!],|O!^,|O't!iO~P!IjO!W-PO~P'TOg-SO!X'QO~O!S-XO~Ol!wa![!wa!]!wa!^!wa!|!wa!}!wa#O!wa#P!wa#S!wa#T!wa't!wa'u!wa'x!wa(T!wa(_!wa~PNXO^%^O!a#rO!h%ZO!l-^O#W-[O'j%^O'|%OO(`'dO~O!]-`O!^-`O't!iO~PBtO![-bO!]-`O!^-`O#S-cO#T-cO't!iO~PBtO![-bO!]-`O!^-`O#P-dO#S-cO#T-cO't!iO~PBtO![-bO!]-`O!^-`O!}-eO#O-eO#P-dO#S-cO#T-cO't!iO~PBtO^%^O#W-[O'j%^O~O^%^O!a#rO#W-[O'j%^O~O^%^O!a#rO!l-^O#W-[O'j%^O(`'dO~O'o'lO'p'lO'q-jO~Oo-kO~O!S&|a!V&|a~P!3jO!U-oO!S&|X!V&|X~P%QO!V'xO!S(Wa~O!S(Wa~PF_O!V(PO!S(da~O|%vO!U-sO!X%wO's%eO!S'SX!V'SX~O!V(]O!g(aa~O|%vO!X%wO#b-vO's%eO~O#W-xO!V(ba!g(ba^(ba'j(ba~O!a#rO~P#&hO|%vO!U-{O!X%wO!x]O#a-}O#b-{O's%eO!V'UX!g'UX~Oz.RO!h#uO~Og.UO!X'QO%`.TO'|%OO~O^#Zi!V#Zi'j#Zi'h#Zi!S#Zi!g#Zio#Zi!X#Zi%`#Zi!a#Zi~P!3jOg=iOy)sO|)tO(g)vO(h)xO~O#c#Va^#Va#W#Va'j#Va!V#Va!g#Va!X#Va!S#Va~P#(yO#c(PXP(PXX(PX^(PXk(PXz(PX!e(PX!h(PX!l(PX#f(PX#g(PX#h(PX#i(PX#j(PX#k(PX#l(PX#m(PX#n(PX#p(PX#r(PX#t(PX#u(PX'j(PX(Q(PX(`(PX!g(PX!S(PX'h(PXo(PX!X(PX%`(PX!a(PX~P!1WO!V._Od(ZX~P!-jOd.aO~O!V.bO!g([X~P!3jO!g.eO~O!S.gO~OP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO(QVOX#ei^#eik#ei!V#ei!e#ei#g#ei#h#ei#i#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei'j#ei(`#ei(g#ei(h#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~O#f#ei~P#,uO#f#{O~P#,uOP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O(QVOX#ei^#ei!V#ei!e#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei'j#ei(`#ei(g#ei(h#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~Ok#ei~P#/gOk#}O~P#/gOP$YOk#}Oy#vOz#wO|#xO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO(QVO^#ei!V#ei#p#ei#r#ei#t#ei#u#ei'j#ei(`#ei(g#ei(h#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~OX#ei!e#ei#k#ei#l#ei#m#ei#n#ei~P#2XOX$aO!e$PO#k$PO#l$PO#m$`O#n$PO~P#2XOP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO(QVO^#ei!V#ei#r#ei#t#ei#u#ei'j#ei(`#ei(h#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~O(g#ei~P#5YO(g#yO~P#5YOP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO(QVO(g#yO^#ei!V#ei#t#ei#u#ei'j#ei(`#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~O(h#ei~P#7zO(h#zO~P#7zOP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO#t$UO(QVO(g#yO(h#zO~O^#ei!V#ei#u#ei'j#ei(`#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~P#:lOPYXXYXkYXyYXzYX|YX!eYX!fYX!hYX!lYX#WYX#ccX#fYX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#pYX#rYX#tYX#uYX#zYX(QYX(`YX(gYX(hYX!VYX!WYX~O#xYX~P#=VOP$YOX<VOk;yOy#vOz#wO|#xO!e;{O!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO#k;{O#l;{O#m<UO#n;{O#p;|O#r<OO#t<QO#u<RO(QVO(`$WO(g#yO(h#zO~O#x.iO~P#?dOP(VXX(VXk(VXy(VXz(VX|(VX!e(VX!f(VX!h(VX!l(VX#f(VX#g(VX#h(VX#i(VX#j(VX#k(VX#l(VX#m(VX#p(VX#r(VX#t(VX#u(VX(Q(VX(`(VX(g(VX(h(VX!V(VX~O#W<WO#z<WO#n(VX#x(VX!W(VX~P#AbO^'Xa!V'Xa'j'Xa'h'Xa!g'Xa!S'Xao'Xa!X'Xa%`'Xa!a'Xa~P!3jOP#eiX#ei^#eik#eiz#ei!V#ei!e#ei!f#ei!h#ei!l#ei#f#ei#g#ei#h#ei#i#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei'j#ei(Q#ei(`#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~P#(yO^#yi!V#yi'j#yi'h#yi!S#yi!g#yio#yi!X#yi%`#yi!a#yi~P!3jO$V.nO$X.nO~O$V.oO$X.oO~O!a)[O#W.pO!X$]X$S$]X$V$]X$X$]X$`$]X~O!U.qO~O!X)_O$S.sO$V)^O$X)^O$`.tO~O!V<SO!W(UX~P#?dO!W.uO~O!a)[O$`(iX~O$`.wO~Oq)nO(R)oO(S.zO~Ol.}O!S/OO'uTO'xUO~O!VcX!acX!gcX!g$rX(`cX~P!,aO!g/UO~P#(yO!V/VO!a#rO(`'dO!g(mX~O!g/[O~O!U*PO's%eO!g(mP~O#c/^O~O!S$rX!V$rX!a$yX~P!,aO!V/_O!S(nX~P#(yO!a/aO~O!S/cO~Ok/gO!a#rO!h%ZO'|%OO(`'dO~O's/iO~O!a+OO~O^%^O!V/mO'j%^O~O!W/oO~P!0_O!]/pO!^/pO't!iO(T!jO~O|/rO(T!jO~O#S/sO~O's%|Od'^X!V'^X~O!V*iOd'}a~Od/xO~Oy/yOz/yO|/zOgva(gva(hva!Vva#Wva~Odva#xva~P#M{Oy)sO|)tOg$ka(g$ka(h$ka!V$ka#W$ka~Od$ka#x$ka~P#NqOy)sO|)tOg$ma(g$ma(h$ma!V$ma#W$ma~Od$ma#x$ma~P$ dO#c/|O~Od${a!V${a#W${a#x${a~P!-jO#c0PO~Oy#vOz#wO|#xO!f#tO!h#uO(QVOP!niX!nik!ni!V!ni!e!ni!l!ni#f!ni#g!ni#h!ni#i!ni#j!ni#k!ni#l!ni#m!ni#n!ni#p!ni#r!ni#t!ni#u!ni(`!ni(g!ni(h!ni~O^!ni'j!ni'h!ni!S!ni!g!nio!ni!X!ni%`!ni!a!ni~P$!qOg.UO!X'QO%`.TO~Oi0WO's0VO~P!.[O!a+OO!X'{a^'{a!V'{a'j'{a~O#c0^O~OXYX!VcX!WcX~O!V0_O!W(uX~O!W0aO~OX0bO~O's+WO'uTO'xUO~O!X%nO's%eO]'fX!V'fX~O!V+]O](ta~O!g0gO~P!3jOX0jO~O]0kO~O!V+iO^(qa'j(qa~O#W0qO~Og0tO!X$yO~O(T(qO!W(rP~Og0}O!X0zO%`0|O'|%OO~OX1XO!V1VO!W(sX~O!W1YO~O]1[O^%^O'j%^O~O's#jO'uTO'xUO~O#W$bO#n1_O#z$bO&Q1`O^(VX~P#AbO#W$bO#n1_O&Q1`O~O^1aO~P%QO^1cO~O&Z1gOP&XiQ&XiV&Xi^&Xia&Xib&Xii&Xik&Xil&Xim&Xis&Xiu&Xiw&Xi|&Xi!Q&Xi!R&Xi!X&Xi!c&Xi!h&Xi!k&Xi!l&Xi!m&Xi!o&Xi!q&Xi!t&Xi!x&Xi#o&Xi$P&Xi$T&Xi%_&Xi%a&Xi%c&Xi%d&Xi%g&Xi%i&Xi%l&Xi%m&Xi%o&Xi%|&Xi&S&Xi&U&Xi&W&Xi&Y&Xi&]&Xi&c&Xi&i&Xi&k&Xi&m&Xi&o&Xi&q&Xi'h&Xi's&Xi'u&Xi'x&Xi(Q&Xi(_&Xi(l&Xi!W&Xi_&Xi&`&Xi~O_1mO!W1kO&`1lO~P`O!XXO!h1oO~O&g,fOP&biQ&biV&bi^&bia&bib&bii&bik&bil&bim&bis&biu&biw&bi|&bi!Q&bi!R&bi!X&bi!c&bi!h&bi!k&bi!l&bi!m&bi!o&bi!q&bi!t&bi!x&bi#o&bi$P&bi$T&bi%_&bi%a&bi%c&bi%d&bi%g&bi%i&bi%l&bi%m&bi%o&bi%|&bi&S&bi&U&bi&W&bi&Y&bi&]&bi&c&bi&i&bi&k&bi&m&bi&o&bi&q&bi'h&bi's&bi'u&bi'x&bi(Q&bi(_&bi(l&bi!W&bi&Z&bi_&bi&`&bi~O!S1uO~O!V!Za!W!Za~P#?dOl!kO|!lO!U1{O(T!jO!V&}X!W&}X~P?cO!V,vO!W(Xa~O!V'TX!W'TX~P!>RO!V,yO!W(fa~O!W2SO~P'TO^%^O#W2]O'j%^O~O^%^O!a#rO#W2]O'j%^O~O^%^O!a#rO!h%ZO!l2aO#W2]O'j%^O'|%OO(`'dO~O!]2bO!^2bO't!iO~PBtO![2eO!]2bO!^2bO#S2fO#T2fO't!iO~PBtO![2eO!]2bO!^2bO#P2gO#S2fO#T2fO't!iO~PBtO^%^O!a#rO!l2aO#W2]O'j%^O(`'dO~O^%^O'j%^O~P!3jO!V$^Oo$ja~O!S&|i!V&|i~P!3jO!V'xO!S(Wi~O!V(PO!S(di~O!S(ei!V(ei~P!3jO!V(]O!g(ai~O!V(bi!g(bi^(bi'j(bi~P!3jO#W2kO!V(bi!g(bi^(bi'j(bi~O|%vO!X%wO!x]O#a2nO#b2mO's%eO~O|%vO!X%wO#b2mO's%eO~Og2uO!X'QO%`2tO~Og2uO!X'QO%`2tO'|%OO~O#cvaPvaXva^vakva!eva!fva!hva!lva#fva#gva#hva#iva#jva#kva#lva#mva#nva#pva#rva#tva#uva'jva(Qva(`va!gva!Sva'hvaova!Xva%`va!ava~P#M{O#c$kaP$kaX$ka^$kak$kaz$ka!e$ka!f$ka!h$ka!l$ka#f$ka#g$ka#h$ka#i$ka#j$ka#k$ka#l$ka#m$ka#n$ka#p$ka#r$ka#t$ka#u$ka'j$ka(Q$ka(`$ka!g$ka!S$ka'h$kao$ka!X$ka%`$ka!a$ka~P#NqO#c$maP$maX$ma^$mak$maz$ma!e$ma!f$ma!h$ma!l$ma#f$ma#g$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#p$ma#r$ma#t$ma#u$ma'j$ma(Q$ma(`$ma!g$ma!S$ma'h$mao$ma!X$ma%`$ma!a$ma~P$ dO#c${aP${aX${a^${ak${az${a!V${a!e${a!f${a!h${a!l${a#f${a#g${a#h${a#i${a#j${a#k${a#l${a#m${a#n${a#p${a#r${a#t${a#u${a'j${a(Q${a(`${a!g${a!S${a'h${a#W${ao${a!X${a%`${a!a${a~P#(yO^#Zq!V#Zq'j#Zq'h#Zq!S#Zq!g#Zqo#Zq!X#Zq%`#Zq!a#Zq~P!3jOd'OX!V'OX~P!$uO!V._Od(Za~O!U2}O!V'PX!g'PX~P%QO!V.bO!g([a~O!V.bO!g([a~P!3jO!S3QO~O#x!ja!W!ja~PI{O#x!ba!V!ba!W!ba~P#?dO#x!na!W!na~P!6TO#x!pa!W!pa~P!8nO!X3dO$TfO$^3eO~O!W3iO~Oo3jO~P#(yO^$gq!V$gq'j$gq'h$gq!S$gq!g$gqo$gq!X$gq%`$gq!a$gq~P!3jO!S3kO~Ol.}O'uTO'xUO~Oy)sO|)tO(h)xOg%Wi(g%Wi!V%Wi#W%Wi~Od%Wi#x%Wi~P$HbOy)sO|)tOg%Yi(g%Yi(h%Yi!V%Yi#W%Yi~Od%Yi#x%Yi~P$ITO(`$WO~P#(yO!U3nO's%eO!V'YX!g'YX~O!V/VO!g(ma~O!V/VO!a#rO!g(ma~O!V/VO!a#rO(`'dO!g(ma~Od$ti!V$ti#W$ti#x$ti~P!-jO!U3vO's*UO!S'[X!V'[X~P!.XO!V/_O!S(na~O!V/_O!S(na~P#(yO!a#rO~O!a#rO#n4OO~Ok4RO!a#rO(`'dO~Od(Oi!V(Oi~P!-jO#W4UOd(Oi!V(Oi~P!-jO!g4XO~O^$hq!V$hq'j$hq'h$hq!S$hq!g$hqo$hq!X$hq%`$hq!a$hq~P!3jO!V4]O!X(oX~P#(yO!f#tO~P3zO!X$rX%TYX^$rX!V$rX'j$rX~P!,aO%T4_OghXyhX|hX!XhX(ghX(hhX^hX!VhX'jhX~O%T4_O~O%a4fO's+WO'uTO'xUO!V'eX!W'eX~O!V0_O!W(ua~OX4jO~O]4kO~O!S4oO~O^%^O'j%^O~P#(yO!X$yO~P#(yO!V4tO#W4vO!W(rX~O!W4wO~Ol!kO|4yO![5WO!]4}O!^4}O!x;oO!|5VO!}5UO#O5UO#P5TO#S5SO#T!wO't!iO'uTO'xUO(T!jO(_!nO~O!W5RO~P%#XOg5]O!X0zO%`5[O~Og5]O!X0zO%`5[O'|%OO~O's#jO!V'dX!W'dX~O!V1VO!W(sa~O'uTO'xUO(T5fO~O]5jO~O!g5mO~P%QO^5oO~O^5oO~P%QO#n5qO&Q5rO~PMPO_1mO!W5vO&`1lO~P`O!a5xO~O!a5zO!V(Yi!W(Yi!a(Yi!h(Yi'|(Yi~O!V#`i!W#`i~P#?dO#W5{O!V#`i!W#`i~O!V!Zi!W!Zi~P#?dO^%^O#W6UO'j%^O~O^%^O!a#rO#W6UO'j%^O~O^%^O!a#rO!l6ZO#W6UO'j%^O(`'dO~O!h%ZO'|%OO~P%(fO!]6[O!^6[O't!iO~PBtO![6_O!]6[O!^6[O#S6`O#T6`O't!iO~PBtO!V(]O!g(aq~O!V(bq!g(bq^(bq'j(bq~P!3jO|%vO!X%wO#b6dO's%eO~O!X'QO%`6gO~Og6jO!X'QO%`6gO~O#c%WiP%WiX%Wi^%Wik%Wiz%Wi!e%Wi!f%Wi!h%Wi!l%Wi#f%Wi#g%Wi#h%Wi#i%Wi#j%Wi#k%Wi#l%Wi#m%Wi#n%Wi#p%Wi#r%Wi#t%Wi#u%Wi'j%Wi(Q%Wi(`%Wi!g%Wi!S%Wi'h%Wio%Wi!X%Wi%`%Wi!a%Wi~P$HbO#c%YiP%YiX%Yi^%Yik%Yiz%Yi!e%Yi!f%Yi!h%Yi!l%Yi#f%Yi#g%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#p%Yi#r%Yi#t%Yi#u%Yi'j%Yi(Q%Yi(`%Yi!g%Yi!S%Yi'h%Yio%Yi!X%Yi%`%Yi!a%Yi~P$ITO#c$tiP$tiX$ti^$tik$tiz$ti!V$ti!e$ti!f$ti!h$ti!l$ti#f$ti#g$ti#h$ti#i$ti#j$ti#k$ti#l$ti#m$ti#n$ti#p$ti#r$ti#t$ti#u$ti'j$ti(Q$ti(`$ti!g$ti!S$ti'h$ti#W$tio$ti!X$ti%`$ti!a$ti~P#(yOd'Oa!V'Oa~P!-jO!V'Pa!g'Pa~P!3jO!V.bO!g([i~O#x#Zi!V#Zi!W#Zi~P#?dOP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO(QVOX#eik#ei!e#ei#g#ei#h#ei#i#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei#x#ei(`#ei(g#ei(h#ei!V#ei!W#ei~O#f#ei~P%2xO#f;wO~P%2xOP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO(QVOX#ei!e#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei#x#ei(`#ei(g#ei(h#ei!V#ei!W#ei~Ok#ei~P%5TOk;yO~P%5TOP$YOk;yOy#vOz#wO|#xO!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO(QVO#p#ei#r#ei#t#ei#u#ei#x#ei(`#ei(g#ei(h#ei!V#ei!W#ei~OX#ei!e#ei#k#ei#l#ei#m#ei#n#ei~P%7`OX<VO!e;{O#k;{O#l;{O#m<UO#n;{O~P%7`OP$YOX<VOk;yOy#vOz#wO|#xO!e;{O!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO#k;{O#l;{O#m<UO#n;{O#p;|O(QVO#r#ei#t#ei#u#ei#x#ei(`#ei(h#ei!V#ei!W#ei~O(g#ei~P%9zO(g#yO~P%9zOP$YOX<VOk;yOy#vOz#wO|#xO!e;{O!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO#k;{O#l;{O#m<UO#n;{O#p;|O#r<OO(QVO(g#yO#t#ei#u#ei#x#ei(`#ei!V#ei!W#ei~O(h#ei~P%<VO(h#zO~P%<VOP$YOX<VOk;yOy#vOz#wO|#xO!e;{O!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO#k;{O#l;{O#m<UO#n;{O#p;|O#r<OO#t<QO(QVO(g#yO(h#zO~O#u#ei#x#ei(`#ei!V#ei!W#ei~P%>bO^#vy!V#vy'j#vy'h#vy!S#vy!g#vyo#vy!X#vy%`#vy!a#vy~P!3jOg=jOy)sO|)tO(g)vO(h)xO~OP#eiX#eik#eiz#ei!e#ei!f#ei!h#ei!l#ei#f#ei#g#ei#h#ei#i#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei#x#ei(Q#ei(`#ei!V#ei!W#ei~P%AYO!f#tOP(PXX(PXg(PXk(PXy(PXz(PX|(PX!e(PX!h(PX!l(PX#f(PX#g(PX#h(PX#i(PX#j(PX#k(PX#l(PX#m(PX#n(PX#p(PX#r(PX#t(PX#u(PX#x(PX(Q(PX(`(PX(g(PX(h(PX!V(PX!W(PX~O#x#yi!V#yi!W#yi~P#?dO#x!ni!W!ni~P$!qO!W6vO~O!V'Xa!W'Xa~P#?dO!a#rO(`'dO!V'Ya!g'Ya~O!V/VO!g(mi~O!V/VO!a#rO!g(mi~Od$tq!V$tq#W$tq#x$tq~P!-jO!S'[a!V'[a~P#(yO!a6}O~O!V/_O!S(ni~P#(yO!V/_O!S(ni~O!S7RO~O!a#rO#n7WO~Ok7XO!a#rO(`'dO~O!S7ZO~Od$vq!V$vq#W$vq#x$vq~P!-jO^$hy!V$hy'j$hy'h$hy!S$hy!g$hyo$hy!X$hy%`$hy!a$hy~P!3jO!V4]O!X(oa~O^#Zy!V#Zy'j#Zy'h#Zy!S#Zy!g#Zyo#Zy!X#Zy%`#Zy!a#Zy~P!3jOX7`O~O!V0_O!W(ui~O]7fO~O!a5zO~O(T(qO!V'aX!W'aX~O!V4tO!W(ra~O!h%ZO'|%OO^(YX!a(YX!l(YX#W(YX'j(YX(`(YX~O's7oO~P.[O!x;oO!|7rO!}7qO#O7qO#P7pO#S'bO#T'bO~PBtO^%^O!a#rO!l'hO#W'fO'j%^O(`'dO~O!W7vO~P%#XOl!kO'uTO'xUO(T!jO(_!nO~O|7wO~P%MdO![7{O!]7zO!^7zO#P7pO#S'bO#T'bO't!iO~PBtO![7{O!]7zO!^7zO!}7|O#O7|O#P7pO#S'bO#T'bO't!iO~PBtO!]7zO!^7zO't!iO(T!jO(_!nO~O!X0zO~O!X0zO%`8OO~Og8RO!X0zO%`8OO~OX8WO!V'da!W'da~O!V1VO!W(si~O!g8[O~O!g8]O~O!g8^O~O!g8^O~P%QO^8`O~O!a8cO~O!g8dO~O!V(ei!W(ei~P#?dO^%^O#W8lO'j%^O~O^%^O!a#rO#W8lO'j%^O~O^%^O!a#rO!l8pO#W8lO'j%^O(`'dO~O!h%ZO'|%OO~P&$QO!]8qO!^8qO't!iO~PBtO!V(]O!g(ay~O!V(by!g(by^(by'j(by~P!3jO!X'QO%`8uO~O#c$tqP$tqX$tq^$tqk$tqz$tq!V$tq!e$tq!f$tq!h$tq!l$tq#f$tq#g$tq#h$tq#i$tq#j$tq#k$tq#l$tq#m$tq#n$tq#p$tq#r$tq#t$tq#u$tq'j$tq(Q$tq(`$tq!g$tq!S$tq'h$tq#W$tqo$tq!X$tq%`$tq!a$tq~P#(yO#c$vqP$vqX$vq^$vqk$vqz$vq!V$vq!e$vq!f$vq!h$vq!l$vq#f$vq#g$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#p$vq#r$vq#t$vq#u$vq'j$vq(Q$vq(`$vq!g$vq!S$vq'h$vq#W$vqo$vq!X$vq%`$vq!a$vq~P#(yO!V'Pi!g'Pi~P!3jO#x#Zq!V#Zq!W#Zq~P#?dOy/yOz/yO|/zOPvaXvagvakva!eva!fva!hva!lva#fva#gva#hva#iva#jva#kva#lva#mva#nva#pva#rva#tva#uva#xva(Qva(`va(gva(hva!Vva!Wva~Oy)sO|)tOP$kaX$kag$kak$kaz$ka!e$ka!f$ka!h$ka!l$ka#f$ka#g$ka#h$ka#i$ka#j$ka#k$ka#l$ka#m$ka#n$ka#p$ka#r$ka#t$ka#u$ka#x$ka(Q$ka(`$ka(g$ka(h$ka!V$ka!W$ka~Oy)sO|)tOP$maX$mag$mak$maz$ma!e$ma!f$ma!h$ma!l$ma#f$ma#g$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#p$ma#r$ma#t$ma#u$ma#x$ma(Q$ma(`$ma(g$ma(h$ma!V$ma!W$ma~OP${aX${ak${az${a!e${a!f${a!h${a!l${a#f${a#g${a#h${a#i${a#j${a#k${a#l${a#m${a#n${a#p${a#r${a#t${a#u${a#x${a(Q${a(`${a!V${a!W${a~P%AYO#x$gq!V$gq!W$gq~P#?dO#x$hq!V$hq!W$hq~P#?dO!W9PO~O#x9QO~P!-jO!a#rO!V'Yi!g'Yi~O!a#rO(`'dO!V'Yi!g'Yi~O!V/VO!g(mq~O!S'[i!V'[i~P#(yO!V/_O!S(nq~O!S9WO~P#(yO!S9WO~Od(Oy!V(Oy~P!-jO!V'_a!X'_a~P#(yO!X%Sq^%Sq!V%Sq'j%Sq~P#(yOX9]O~O!V0_O!W(uq~O#W9aO!V'aa!W'aa~O!V4tO!W(ri~P#?dOPYXXYXkYXyYXzYX|YX!SYX!VYX!eYX!fYX!hYX!lYX#WYX#ccX#fYX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#pYX#rYX#tYX#uYX#zYX(QYX(`YX(gYX(hYX~O!a%QX#n%QX~P&6lO#S-cO#T-cO~PBtO#P9eO#S-cO#T-cO~PBtO!}9fO#O9fO#P9eO#S-cO#T-cO~PBtO!]9iO!^9iO't!iO(T!jO(_!nO~O![9lO!]9iO!^9iO#P9eO#S-cO#T-cO't!iO~PBtO!X0zO%`9oO~O'uTO'xUO(T9tO~O!V1VO!W(sq~O!g9wO~O!g9wO~P%QO!g9yO~O!g9zO~O#W9|O!V#`y!W#`y~O!V#`y!W#`y~P#?dO^%^O#W:QO'j%^O~O^%^O!a#rO#W:QO'j%^O~O^%^O!a#rO!l:UO#W:QO'j%^O(`'dO~O!X'QO%`:XO~O#x#vy!V#vy!W#vy~P#?dOP$tiX$tik$tiz$ti!e$ti!f$ti!h$ti!l$ti#f$ti#g$ti#h$ti#i$ti#j$ti#k$ti#l$ti#m$ti#n$ti#p$ti#r$ti#t$ti#u$ti#x$ti(Q$ti(`$ti!V$ti!W$ti~P%AYOy)sO|)tO(h)xOP%WiX%Wig%Wik%Wiz%Wi!e%Wi!f%Wi!h%Wi!l%Wi#f%Wi#g%Wi#h%Wi#i%Wi#j%Wi#k%Wi#l%Wi#m%Wi#n%Wi#p%Wi#r%Wi#t%Wi#u%Wi#x%Wi(Q%Wi(`%Wi(g%Wi!V%Wi!W%Wi~Oy)sO|)tOP%YiX%Yig%Yik%Yiz%Yi!e%Yi!f%Yi!h%Yi!l%Yi#f%Yi#g%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#p%Yi#r%Yi#t%Yi#u%Yi#x%Yi(Q%Yi(`%Yi(g%Yi(h%Yi!V%Yi!W%Yi~O#x$hy!V$hy!W$hy~P#?dO#x#Zy!V#Zy!W#Zy~P#?dO!a#rO!V'Yq!g'Yq~O!V/VO!g(my~O!S'[q!V'[q~P#(yO!S:`O~P#(yO!V0_O!W(uy~O!V4tO!W(rq~O#S2fO#T2fO~PBtO#P:gO#S2fO#T2fO~PBtO!]:kO!^:kO't!iO(T!jO(_!nO~O!X0zO%`:nO~O!g:qO~O^%^O#W:vO'j%^O~O^%^O!a#rO#W:vO'j%^O~O!X'QO%`:{O~OP$tqX$tqk$tqz$tq!e$tq!f$tq!h$tq!l$tq#f$tq#g$tq#h$tq#i$tq#j$tq#k$tq#l$tq#m$tq#n$tq#p$tq#r$tq#t$tq#u$tq#x$tq(Q$tq(`$tq!V$tq!W$tq~P%AYOP$vqX$vqk$vqz$vq!e$vq!f$vq!h$vq!l$vq#f$vq#g$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#p$vq#r$vq#t$vq#u$vq#x$vq(Q$vq(`$vq!V$vq!W$vq~P%AYOd%[!Z!V%[!Z#W%[!Z#x%[!Z~P!-jO!V'aq!W'aq~P#?dO#S6`O#T6`O~PBtO!V#`!Z!W#`!Z~P#?dO^%^O#W;ZO'j%^O~O#c%[!ZP%[!ZX%[!Z^%[!Zk%[!Zz%[!Z!V%[!Z!e%[!Z!f%[!Z!h%[!Z!l%[!Z#f%[!Z#g%[!Z#h%[!Z#i%[!Z#j%[!Z#k%[!Z#l%[!Z#m%[!Z#n%[!Z#p%[!Z#r%[!Z#t%[!Z#u%[!Z'j%[!Z(Q%[!Z(`%[!Z!g%[!Z!S%[!Z'h%[!Z#W%[!Zo%[!Z!X%[!Z%`%[!Z!a%[!Z~P#(yOP%[!ZX%[!Zk%[!Zz%[!Z!e%[!Z!f%[!Z!h%[!Z!l%[!Z#f%[!Z#g%[!Z#h%[!Z#i%[!Z#j%[!Z#k%[!Z#l%[!Z#m%[!Z#n%[!Z#p%[!Z#r%[!Z#t%[!Z#u%[!Z#x%[!Z(Q%[!Z(`%[!Z!V%[!Z!W%[!Z~P%AYOo(UX~P1dO't!iO~P!'RO!ScX!VcX#WcX~P&6lOPYXXYXkYXyYXzYX|YX!VYX!VcX!eYX!fYX!hYX!lYX#WYX#WcX#ccX#fYX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#pYX#rYX#tYX#uYX#zYX(QYX(`YX(gYX(hYX~O!acX!gYX!gcX(`cX~P'!sOP;nOQ;nOa=_Ob!fOikOk;nOlkOmkOskOu;nOw;nO|WO!QkO!RkO!XXO!c;qO!hZO!k;nO!l;nO!m;nO!o;rO!q;sO!t!eO$P!hO$TfO's)RO'uTO'xUO(QVO(_[O(l=]O~O!V<SO!W$ja~Oi%POk$qOl$pOm$pOs%QOu%ROw<YO|$xO!X$yO!c=dO!h$uO#b<`O$P%VO$l<[O$n<^O$q%WO's(iO'uTO'xUO'|%OO(Q$rO~O#o)YO~P''iO!WYX!WcX~P'!sO#c;vO~O!a#rO#c;vO~O#W<WO~O#n;{O~O#W<bO!V(eX!W(eX~O#W<WO!V(cX!W(cX~O#c<cO~Od<eO~P!-jO#c<jO~O#c<kO~O!a#rO#c<lO~O!a#rO#c<cO~O#x<mO~P#?dO#c<nO~O#c<oO~O#c<pO~O#c<qO~O#c<rO~O#c<sO~O#x<tO~P!-jO#x<uO~P!-jO$T~!f!|#O#P#S#a#b#m(l$l$n$q%T%_%`%a%g%i%l%m%o%q~'nR$T(l#g!R'l't#hl#f#iky'm(T'm's$V$X$V~",goto:"$/X(yPPPP(zP(}P)_P+a/fPPPP6iPP7OP<|@mPAQPAQPPPAQPBpPAQPAQPAQPBtPPByPCdPH`PPPHdPPPPHdKfPPPKlMlPHdP!!SPPPP!$eHdPPPHdPHdP!&vHdP!*]!+_!+dP!,U!,Y!,UPPPP!/f!1kPP!1t!3OP!+_HdHd!6b!9m!>v!>v!BnPPP!BuHdPPPPPPPPPPP!FTP!GiPPHd!HyPHdPHdHdHdHdPHd!J`PP!MiP#!nP#!r#!|##Q##QP!MfP##U##UP#&ZP#&_HdHd#&e#)iAQPAQPAQAQP#*sAQAQ#,mAQ#.zAQ#0nAQAQ#1[#3W#3W#3[#3d#3W#3lP#3WPAQ#4hAQ#5pAQAQ6iPPP#6{PP#7e#7eP#7eP#7z#7ePP#8QP#7wP#7w#8d!1p#7w#9O#9U6f(}#9X(}P#9`#9`#9`P(}P(}P(}P(}PP(}P#9f#9iP#9i(}P#9mP#9pP(}P(}P(}P(}P(}P(}(}PP#9v#9|#:W#:^#:d#:j#:p#;O#;U#;[#;f#;l#<h#<w#<}#=a#=g#=m#={#>b#?r#@Q#@W#@^#@d#@j#@t#@z#AQ#A[#An#AtPPPPPPPPPP#AzPPPPPPP#Bn#FYP#Gu#G|#HUPPPP#L`$ U$'t$'w$'z$)w$)z$)}$*UPP$*[$*`$+X$,X$,]$,qPP$,u$,{$-PP$-S$-W$-Z$.P$.g$.l$.o$.r$.x$.{$/P$/TR!yRmpOXr!X#a%]&d&f&g&i,^,c1g1jU!pQ'Q-OQ%ctQ%kwQ%rzQ&[!TS&x!c,vQ'W!f[']!m!r!s!t!u!vS*[$y*aQ+U%lQ+c%tQ+}&UQ,|'PQ-W'XW-`'^'_'`'aQ/p*cQ1U,OU2b-b-d-eS4}0z5QS6[2e2gU7z5U5V5WQ8q6_S9i7{7|Q:k9lR<a;r%QdOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t+h,Y,^,c-S-[-o-x.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2}4y5]5o5q5r6U7w8R8`8l:Q:v;ZS#m];o!r)T$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q*l%SQ+Z%nQ,P&XQ,W&aQ.X<XQ0T*|Q0X+OQ0d+[Q1^,UQ2q.UQ4e0_Q5d1VQ6i2uQ6o<YQ7b4fR8x6j'OkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`#S!kQ!m!p!r!s!t!u!v!w&x'P'Q']'^'_'`'a'b,v,|-O-`-b-c-d-e0z2b2e2f2g4z5Q5S5T5U5V6[6_6`7p7q7r7|8q9e9f:g$Y$pi#r#t$`$a$u$x%T%U%Y)n)w)y)z*R*X*g*h*{+O+m+p.T._/^/_/a/|0q0t0|2t3l3v4O4U4]4_5[6g6}7W8O8u9Q9o:X:n:{<U<V<Z<[<]<^<_<`<f<g<h<i<j<k<n<o<p<q<t<u=]=e=f=i=jQ%uzQ&v!cS&|%w,yQ+Z%nS.})t/PQ/{*pQ0d+[Q0i+bQ1],TQ1^,UQ4e0_Q4n0kQ5g1XQ5h1[Q7b4fQ7e4kQ8Z5jQ9`7fR9u8WpmOXr!T!X#a%]&Z&d&f&g&i,^,c1g1jR,R&]&x`OPXYrstux!X!^!g!l#P#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u'S'f'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=_=`[#YWZ#T#W&y'vQ%fvQ%jwS%oz%t!U%x|}#d#f#i%Z%v(P(W(X(]+f+g+i,[,p-s-v-z-{-}1o2m2n5z6dQ&Q!RQ'T!eQ'V!fQ(d#oS*O$u*SS+T%k%lQ+X%nQ+x&SQ+|&US-V'W'XQ.W(eQ/Z*PQ0]+UQ0c+[Q0e+]Q0h+aQ1P+yS1T+},OQ2X-WQ3m/VQ4d0_Q4h0bQ4m0jQ5c1UQ6z3nQ7a4fQ7d4jQ9[7`R:b9]v$wi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=f!`%hw!f!o%j%k%l&w'V'W'X'['i*Z+T+U,s-V-W-_-a/h0]2Q2X2`2d4Q6Y6^8o:TQ*}%fQ+n%}Q+q&OQ+{&UQ.V(dQ1O+xU1S+|+},OQ2v.WQ5^1PS5b1T1US7n4x4|Q8V5cU9g7s7x7yU:i9h9j9kQ;R:jQ;a;S!z=a#r$`$a$u$x)n)z*X*{+O+m+p.T/_/a0q0t0|2t3v4O4]4_5[6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jg=b<U<V<[<^<`<g<i<k<o<q<uW$|i%O*i=]S%}!O&ZQ&O!PQ&P!QR+l%{$Z${i#r#t$`$a$u$x%T%U%Y)n)w)y)z*R*X*g*h*{+O+m+p.T._/^/_/a/|0q0t0|2t3l3v4O4U4]4_5[6g6}7W8O8u9Q9o:X:n:{<U<V<Z<[<]<^<_<`<f<g<h<i<j<k<n<o<p<q<t<u=]=e=f=i=jT)o$r)pV*m%S<X<YU&|!c%w,yS(r#v#wQ+`%qS.P(`(aQ0u+rQ4V/yR7j4t'OkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`$o$]c#V#b%a%b%d'u'{(g(n(v(w(x(y(z({(|(})O)P)Q)S)V)Z)e*y+_,t-h-m-r-w.^.d.h.j.k.l.{/}1v1y2Z2j2|3R3S3T3U3V3W3X3Y3Z3[3]3^3_3b3c3h4Z4b5}6T6b6m6n6s6t7l8f8j8y8}9O:O:d:r:t;X;d;p=ST#QV#R'PkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q&z!cR1|,v!z!kQ!c!m!p!r!s!t!u!v!w&x'P'Q']'^'_'`'a'b,v,|-O-`-b-c-d-e2b2e2f2g4z5S5T6[6_6`7p7q7r8q9e9f:gS*Z$y*aS/h*[*cQ/q*dQ0w+tQ4Q/pQ4T/sS4x0z5QS7s4}5WS7x5U5VS9h7z7{Q9j7|S:j9i9lR;S:klpOXr!X#a%]&d&f&g&i,^,c1g1jQ&k![Q'j!tS(f#q;vQ+R%iQ+v&QQ+w&RQ-T'UQ-g'cS.](k<cS0O*t<lQ0Z+SQ0y+uQ1n,eQ1p,fQ1x,qQ2V-UQ2Y-YS4[0P<rQ4`0[S4c0^<sQ5|1zQ6Q2WQ6V2_Q7_4aQ8g6OQ8h6RQ8k6WQ9{8dQ:P8mQ:u:RR;Y:w$j$[c#V#b%b%d'u'{(g(n(v(w(x(y(z({(|(})O)P)Q)S)V)Z)e*y+_,t-h-m-r-w.^.d.h.k.l.{/}1v1y2Z2j2|3R3S3T3U3V3W3X3Y3Z3[3]3^3_3b3c3h4Z4b5}6T6b6m6n6s6t7l8f8j8y8}9O:O:d:r:t;X;d;p=SS(c#l'ZU*f$z(j3aS*x%a.jQ2r0TQ6f2qQ8w6iR:Y8x$j$Zc#V#b%b%d'u'{(g(n(v(w(x(y(z({(|(})O)P)Q)S)V)Z)e*y+_,t-h-m-r-w.^.d.h.k.l.{/}1v1y2Z2j2|3R3S3T3U3V3W3X3Y3Z3[3]3^3_3b3c3h4Z4b5}6T6b6m6n6s6t7l8f8j8y8}9O:O:d:r:t;X;d;p=SS(b#l'ZS(t#w$[S*w%a.jS.Q(a(cQ.m)UQ0Q*xR2o.R'OkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`S#m];oQ&f!VQ&g!WQ&i!YQ&j!ZR1f,aQ'R!eQ*z%fQ-R'TS.S(d*}Q2T-QW2s.V.W0S0UQ6P2UU6e2p2r2vS8t6f6hS:W8v8wS:y:V:YQ;[:zR;e;]V!qQ'Q-O!_^OQXZ_r!T!X!m#a#d%Z%]&Z&]&d&f&g&i'Q(],^,c-O-z0z1g1j4z5QT#m];o%[yOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;ZS(r#v#wS.P(`(a!s<y$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`U!oQ'Q-OY'[!m!s!t!u!vS'i!p!rW'k!w4z5S5TS-_']'^U-a'_'`'aW-f'b7p7q7rS2`-`-bU2c-c9e9fS2d-d-eS4|0z5QS6Y2b2eS6]2f:gQ6^2gS7s4}5WS7y5U5VS8o6[6_Q8r6`S9h7z7{Q9k7|Q:T8qS:j9i9lR;S:kU!qQ'Q-OT5O0z5QU'h!o4{4|S([#e1dU-^'['k7yQ/Y*OQ/f*ZU2a-a-f9kQ3r/ZS3{/g/qS6Z2c2dQ6y3mS7U4R4TS8p6]6^Q9S6zQ9Z7XR:U8rQ#sbU'g!o4{4|S(Z#e1dQ*u%[Q+P%gQ+V%mW-]'['h'k7yQ-y([Q/X*OQ/e*ZQ/k*^Q0Y+QQ1Q+zW2^-^-a-f9kS3q/Y/ZS3z/f/qQ3}/jQ4P/lQ5`1RU6X2a2c2dQ6x3mQ6|3rS7Q3{4TQ7V4SQ8T5aU8n6Z6]6^S9R6y6zQ9V7RQ9X7UQ9c7mQ9r8US:S8p8rQ:^9SQ:_9WQ:a9ZQ:f9dQ:p9sQ:x:UQ:}:`Q;P:hQ;_;QQ;h;`Q;l;iQ<|<wQ=X=QR=Y=R%[aOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;ZS#sx!g!r<v$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`R<|=_%[bOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;ZQ%[j!`%gw!f!o%j%k%l&w'V'W'X'['i*Z+T+U,s-V-W-_-a/h0]2Q2X2`2d4Q6Y6^8o:TS%mx!gQ+Q%hQ+z&UW1R+{+|+},OU5a1S1T1US7m4x4|S8U5b5cW9d7n7s7x7yQ9s8VW:h9g9h9j9kS;Q:i:jS;`;R;SQ;i;a!r<w$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q=Q=^R=R=_%OeOPXYrstu!X!^!l#P#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&d&f&g&i&m&u'S'f'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;ZY#_WZ#T#W'v!U%x|}#d#f#i%Z%v(P(W(X(]+f+g+i,[,p-s-v-z-{-}1o2m2n5z6dQ,X&a!p<x$X$j)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`R<{&yS&}!c%wR2O,y%QdOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t+h,Y,^,c-S-[-o-x.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2}4y5]5o5q5r6U7w8R8`8l:Q:v;Z!r)T$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q,W&aQ0T*|Q2q.UQ6i2uR8x6j!l$Rc#V%a'u'{(g(n(})O)P)Q)V)Z+_-h-m-r-w.^.d.{/}2Z2j2|3_4Z4b6T6b6m8j:O:t;X;d;p!T;})S)e,t.j1v1y3R3Z3[3]3^3b3h5}6n6s6t7l8f8y8}9O:d:r=S!h$Tc#V%a'u'{(g(n)P)Q)V)Z+_-h-m-r-w.^.d.{/}2Z2j2|3_4Z4b6T6b6m8j:O:t;X;d;p!P<P)S)e,t.j1v1y3R3]3^3b3h5}6n6s6t7l8f8y8}9O:d:r=S!d$Xc#V%a'u'{(g(n)V)Z+_-h-m-r-w.^.d.{/}2Z2j2|3_4Z4b6T6b6m8j:O:t;X;d;pQ3l/Tz=`)S)e,t.j1v1y3R3b3h5}6n6s6t7l8f8y8}9O:d:r=SQ=e=gR=f=h'OkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`S$kh$lR3e.p'VgOPWXYZhrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j$l%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.p.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`T$gf$mQ$efS)^$h)bR)j$mT$ff$mT)`$h)b'VhOPWXYZhrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j$l%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.p.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`T$kh$lQ$nhR)i$l%[jOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;Z!s=^$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`#alOPXZr!X!^!l#P#a#k#x$j%]&]&`&a&d&f&g&i&m&u'S(s)g*|+h,Y,^,c-S.U.q/z0}1_1`1a1c1g1j1l2u3d4y5]5o5q5r6j7w8R8`v$zi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=f!z(j#r$`$a$u$x)n)z*X*{+O+m+p.T/_/a0q0t0|2t3v4O4]4_5[6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jQ*q%WQ.|)sg3a<U<V<[<^<`<g<i<k<o<q<uv$vi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=fQ*T$wS*^$y*aQ*r%XQ/l*_!z=O#r$`$a$u$x)n)z*X*{+O+m+p.T/_/a0q0t0|2t3v4O4]4_5[6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jf=P<U<V<[<^<`<g<i<k<o<q<uQ=T=aQ=U=bQ=V=cR=W=dv$zi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=f!z(j#r$`$a$u$x)n)z*X*{+O+m+p.T/_/a0q0t0|2t3v4O4]4_5[6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jg3a<U<V<[<^<`<g<i<k<o<q<ulnOXr!X#a%]&d&f&g&i,^,c1g1jQ*W$xQ,l&pQ,m&rR3u/_$Y${i#r#t$`$a$u$x%T%U%Y)n)w)y)z*R*X*g*h*{+O+m+p.T._/^/_/a/|0q0t0|2t3l3v4O4U4]4_5[6g6}7W8O8u9Q9o:X:n:{<U<V<Z<[<]<^<_<`<f<g<h<i<j<k<n<o<p<q<t<u=]=e=f=i=jQ+o&OQ0s+qQ4r0rR7i4sT*`$y*aS*`$y*aT5P0z5QS/j*]4yT4S/r7wQ+P%gQ/k*^Q0Y+QQ1Q+zQ5`1RQ8T5aQ9c7mQ9r8UQ:f9dQ:p9sQ;P:hQ;_;QQ;h;`R;l;in)w$s(l*s/]/t/u2z3s4Y6w7Y:]<}=Z=[!W<f(h)X)}*V.[.x/T/b0R0p0r2y3t3x4q4s6k6l7O7S7[7^9U9Y:|=g=h]<g3`6r8z:Z:[;fp)y$s(l*s/R/]/t/u2z3s4Y6w7Y:]<}=Z=[!Y<h(h)X)}*V.[.x/T/b0R0p0r2w2y3t3x4q4s6k6l7O7S7[7^9U9Y:|=g=h_<i3`6r8z8{:Z:[;fpmOXr!T!X#a%]&Z&d&f&g&i,^,c1g1jQ&W!SR,Y&apmOXr!T!X#a%]&Z&d&f&g&i,^,c1g1jR&W!SQ+s&PR0o+lqmOXr!T!X#a%]&Z&d&f&g&i,^,c1g1jQ0{+xS5Z1O1PU7}5X5Y5^S9n8P8QS:l9m9pQ;T:mR;b;UQ&_!TR,S&ZR5g1XS%oz%tR0e+]Q&d!UR,^&eR,d&jT1h,c1jR,h&kQ,g&kR1q,hQ'm!xR-i'mQrOQ#aXT%`r#aQ!{TR'o!{Q#OUR'q#OQ)p$rR.y)pQ#RVR's#RQ#UWU'y#U'z-pQ'z#VR-p'{Q,w&zR1},wQ.`(lR2{.`Q.c(nS3O.c3PR3P.dQ-O'QR2R-Or_OXr!T!X#a%]&Z&]&d&f&g&i,^,c1g1jU!mQ'Q-OS#dZ%ZY#n_!m#d-z4zQ-z(]T4z0z5QS#[W%vU(Q#[(R-qQ(R#]R-q'|Q,z&}R2P,zQ(^#gQ-t(VW.O(^-t2h6aQ2h-uR6a2iQ)b$hR.r)bQ$lhR)h$lQ$_cU)W$_-l<TQ-l;pR<T)eQ/W*OW3o/W3p6{9TU3p/X/Y/ZS6{3q3rR9T6|#m)u$s(h(l)X)}*V*n*o*s.Y.Z.[.x/R/S/T/]/b/t/u0R0p0r2w2x2y2z3`3s3t3x4Y4q4s6k6l6p6q6r6w7O7S7Y7[7^8z8{8|9U9Y:Z:[:]:|;f<}=Z=[=g=hQ/`*VU3w/`3y7PQ3y/bR7P3xQ*a$yR/n*aQ*j$}R/w*jQ4^0RR7]4^Q+j%yR0n+jQ4u0uS7k4u9bR9b7lQ+u&QR0x+uQ5Q0zR7u5QQ1W,PS5e1W8XR8X5gQ0`+XW4g0`4i7c9^Q4i0cQ7c4hR9^7dQ+^%oR0f+^Q1j,cR5u1jWqOXr#aQ&h!XQ*v%]Q,]&dQ,_&fQ,`&gQ,b&iQ1e,^S1h,c1jR5t1gQ%_oQ&l!]Q&o!_Q&q!`Q&s!aU'e!o4{4|Q+e%uQ+k%zQ,R&_Q,j&nY-Z'['g'h'k7yQ/m*`S1Z,S,VQ1r,iQ1s,lQ1t,m[2[-]-^-a-f-h9kQ4l0iQ4p0pQ5_1QQ5i1]Q5s1fY6S2Z2^2a2c2dQ7g4nQ7h4qQ7t5PQ8S5`Q8Y5hY8i6T6X6Z6]6^Q9_7eQ9q8TQ9v8ZW9}8j8n8p8rQ:c9`Q:e9cQ:o9rU:s:O:S:UQ;O:fQ;V:pS;W:t:xQ;^;PQ;c;XQ;g;_Q;j;dQ;k;hR;m;lQ%iwQ'U!fQ'c!oU+S%j%k%lQ,q&wU-U'V'W'XS-Y'['iQ/d*ZS0[+T+UQ1z,sS2W-V-WS2_-_-aQ3|/hQ4a0]Q6O2QQ6R2XS6W2`2dQ7T4QS8m6Y6^Q:R8oR:w:TS$ti=]R*k%OU$}i%O=]R/v*iQ$siS(h#r+OQ(l#tS)X$`$aQ)}$uQ*V$xQ*n%TQ*o%UQ*s%YQ.Y<ZQ.Z<]Q.[<_Q.x)nQ/R)wQ/S)yQ/T)zQ/]*RQ/b*XQ/t*gQ/u*hh0R*{.T0|2t5[6g8O8u9o:X:n:{Q0p+mQ0r+pQ2w<fQ2x<hQ2y<jQ2z._S3`<U<VQ3s/^Q3t/_Q3x/aQ4Y/|Q4q0qQ4s0tQ6k<nQ6l<pQ6p<[Q6q<^Q6r<`Q6w3lQ7O3vQ7S4OQ7Y4UQ7[4]Q7^4_Q8z<kQ8{<gQ8|<iQ9U6}Q9Y7WQ:Z<oQ:[<qQ:]9QQ:|<tQ;f<uQ<}=]Q=Z=eQ=[=fQ=g=iR=h=jloOXr!X#a%]&d&f&g&i,^,c1g1jQ!dPS#cZ#kQ&n!^U'Y!l4y7wQ'r#PQ(u#xQ)f$jS,V&]&`Q,Z&aQ,i&mQ,n&uQ-Q'SQ.f(sQ.v)gQ0U*|Q0l+hQ1b,YQ2U-SQ2r.UQ3g.qQ4W/zQ5Y0}Q5k1_Q5l1`Q5n1aQ5p1cQ5w1lQ6f2uQ6u3dQ8Q5]Q8_5oQ8a5qQ8b5rQ8w6jQ9p8RR9x8`#UcOPXZr!X!^!l#a#k#x%]&]&`&a&d&f&g&i&m&u'S(s*|+h,Y,^,c-S.U/z0}1_1`1a1c1g1j1l2u4y5]5o5q5r6j7w8R8`Q#VWQ#bYQ%asQ%btQ%duS'u#T'xQ'{#WQ(g#qQ(n#uQ(v#{Q(w#|Q(x#}Q(y$OQ(z$PQ({$QQ(|$RQ(}$SQ)O$TQ)P$UQ)Q$VQ)S$XQ)V$^Q)Z$bW)e$j)g.q3dQ*y%cQ+_%pS,t&y1{Q-h'fS-m'v-oQ-r(OQ-w(YQ.^(kQ.d(oQ.h;nQ.j;qQ.k;rQ.l;sQ.{)rQ/}*tQ1v,oQ1y,rQ2Z-[Q2j-xQ2|.bQ3R;vQ3S;wQ3T;xQ3U;yQ3V;zQ3W;{Q3X;|Q3Y;}Q3Z<OQ3[<PQ3]<QQ3^<RQ3_.iQ3b<WQ3c<aQ3h<SQ4Z0PQ4b0^Q5}<bQ6T2]Q6b2kQ6m2}Q6n<cQ6s<eQ6t<lQ7l4vQ8f5{Q8j6UQ8y<mQ8}<rQ9O<sQ:O8lQ:d9aQ:r9|Q:t:QQ;X:vQ;d;ZQ;p#PR=S=`R#XWR&{!cU!oQ'Q-OS&w!c,vY'[!m!s!t!u!vS'i!p!r['k!w4z5S5T5U5VS,s&x'PS-_']'^U-a'_'`'aY-f'b7p7q7r7|Q2Q,|S2`-`-bU2c-c9e9fS2d-d-eS4{0z5QS6Y2b2eS6]2f:gQ6^2gS8o6[6_Q8r6`R:T8qR(m#tR(p#uQ!dQT,}'Q-OQ#l]R'Z;oT#hZ%ZS#gZ%ZU%y|},[U(V#d#f#iS-u(W(XQ-|(]Q0m+iQ2i-vU2l-z-{-}S6c2m2nR8s6d`#ZW#T#W%v'v(P+f-st#eZ|}#d#f#i%Z(W(X(]+i-v-z-{-}2m2n6dQ1d,[Q1w,pQ5y1oQ8e5zT<z&y+gT#^W%vS#]W%vS'w#T(PS'|#W+fS,u&y+gT-n'v-sT'O!c%wQ$hfR)l$mT)a$h)bR3f.pT*Q$u*SR*Y$xQ0S*{Q2p.TQ5X0|Q6h2tQ8P5[Q8v6gQ9m8OQ:V8uQ:m9oQ:z:XQ;U:nR;]:{lpOXr!X#a%]&d&f&g&i,^,c1g1jQ&^!TR,R&ZV%z|},[R0v+rR,Q&XQ%szR+d%tR+Y%nT&b!U&eT&c!U&eT1i,c1j",nodeNames:"⚠ ArithOp ArithOp LineComment BlockComment Script ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:362,context:g1,nodeProps:[["group",-26,6,14,16,62,198,202,205,206,208,211,214,225,227,233,235,237,239,242,248,254,256,258,260,262,264,265,"Statement",-32,10,11,25,28,29,35,45,48,49,51,56,64,72,76,78,80,81,102,103,112,113,130,133,135,136,137,138,140,141,161,162,164,"Expression",-23,24,26,30,34,36,38,165,167,169,170,172,173,174,176,177,178,180,181,182,192,194,196,197,"Type",-3,84,95,101,"ClassItem"],["openedBy",31,"InterpolationStart",50,"[",54,"{",69,"(",142,"JSXStartTag",154,"JSXStartTag JSXStartCloseTag"],["closedBy",33,"InterpolationEnd",44,"]",55,"}",70,")",143,"JSXSelfCloseEndTag JSXEndTag",159,"JSXEndTag"]],propSources:[v1],skippedNodes:[0,3,4,268],repeatNodeCount:32,tokenData:"$>y(CSR!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tu>PuvBavwDxwxGgxyMvyz! Qz{!![{|!%O|}!&]}!O!%O!O!P!'g!P!Q!1w!Q!R#0t!R![#3T![!]#@T!]!^#Aa!^!_#Bk!_!`#GS!`!a#In!a!b#N{!b!c$$z!c!}>P!}#O$&U#O#P$'`#P#Q$,w#Q#R$.R#R#S>P#S#T$/`#T#o$0j#o#p$4z#p#q$5p#q#r$7Q#r#s$8^#s$f%Z$f$g+g$g#BY>P#BY#BZ$9h#BZ$IS>P$IS$I_$9h$I_$I|>P$I|$I}$<s$I}$JO$<s$JO$JT>P$JT$JU$9h$JU$KV>P$KV$KW$9h$KW&FU>P&FU&FV$9h&FV;'S>P;'S;=`BZ<%l?HT>P?HT?HU$9h?HUO>P(n%d_$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$c&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$c&j'y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU'y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$c&j'vpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU'vpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z(CS+rq$c&j'vp'y!b'l(;dOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z(CS.ST'w#S$c&j'm(;dO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c(CS.n_$c&j'vp'y!b'm(;dOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`/x`$c&j!l$Ip'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S1V`#p$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S2d_#p$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b3l_'u$(n$c&j'y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k*r4r_$c&j'y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k)`5vX$c&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q)`6jT$^#t$c&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#t6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y#t7bO$^#t#t7eP;=`<%l6y)`7kP;=`<%l5q*r7w]$^#t$c&j'y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}%W8uZ'y!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p%W9oU$^#t'y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}%W:UP;=`<%l8p*r:[P;=`<%l4k#%|:hg$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}st%Ztu<Puw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}<P!}#O%Z#O#P&c#P#R%Z#R#S<P#S#T%Z#T#o<P#o#p*g#p$g%Z$g;'S<P;'S;=`=y<%lO<P#%|<[i$c&j(_!L^'vp'y!bOY%ZYZ&cZr%Zrs&}st%Ztu<Puw%Zwx(rx!Q%Z!Q![<P![!^%Z!^!_*g!_!c%Z!c!}<P!}#O%Z#O#P&c#P#R%Z#R#S<P#S#T%Z#T#o<P#o#p*g#p$g%Z$g;'S<P;'S;=`=y<%lO<P#%|=|P;=`<%l<P(CS>`k$c&j'vp'y!b(T!LY's&;d$V#tOY%ZYZ&cZr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$g%Z$g;'S>P;'S;=`BZ<%lO>P+d@`k$c&j'vp'y!b$V#tOY%ZYZ&cZr%Zrs&}st%Ztu@Tuw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![@T![!^%Z!^!_*g!_!c%Z!c!}@T!}#O%Z#O#P&c#P#R%Z#R#S@T#S#T%Z#T#o@T#o#p*g#p$g%Z$g;'S@T;'S;=`BT<%lO@T+dBWP;=`<%l@T(CSB^P;=`<%l>P%#SBl`$c&j'vp'y!b#h$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SCy_$c&j#z$Id'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%DfETa(h%<v$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sv%ZvwFYwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SFe`$c&j#t$Id'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2bGp_'x$)`$c&j'vpOYHoYZIuZrHorsIuswHowxKVx!^Ho!^!_LX!_#OHo#O#PIu#P#oHo#o#pLX#p;'SHo;'S;=`Mp<%lOHo*QHv_$c&j'vpOYHoYZIuZrHorsIuswHowxKVx!^Ho!^!_LX!_#OHo#O#PIu#P#oHo#o#pLX#p;'SHo;'S;=`Mp<%lOHo)`IzX$c&jOwIuwx6cx!^Iu!^!_Jg!_#oIu#o#pJg#p;'SIu;'S;=`KP<%lOIu#tJjTOwJgwx7]x;'SJg;'S;=`Jy<%lOJg#tJ|P;=`<%lJg)`KSP;=`<%lIu*QK`]$^#t$c&j'vpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r$fL^Z'vpOYLXYZJgZrLXrsJgswLXwxMPx#OLX#O#PJg#P;'SLX;'S;=`Mj<%lOLX$fMWU$^#t'vpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r$fMmP;=`<%lLX*QMsP;=`<%lHo(*QNR_!h(!b$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'l! ]_!gM|$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h!!ib$c&j'vp'y!b't#)d#i$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!#q{!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!#|`$c&j'vp'y!b#f$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&-O!%Z`$c&j'vp'y!bk&%`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&C[!&h_!V&;l$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!'rc$c&j'vp'y!by'<nOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!(}!P!Q%Z!Q![!+g![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!)Wa$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!*]!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!*h_!UMt$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!+rg$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!+g![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S!+g#S#X%Z#X#Y!-Z#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!-dg$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!.{|}%Z}!O!.{!O!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!/Uc$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!0lc$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!2Sf$c&j'vp'y!b#g$IdOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}xz!3hz{#$s{!P!3h!P!Q#&Y!Q!^!3h!^!_!Mh!_!`#-x!`!a#/_!a!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(r!3sb$c&j'vp'y!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(Q!5U`$c&j'y!b!RSOY!4{YZ&cZw!4{wx!6Wx!P!4{!P!Q!=o!Q!^!4{!^!_!?g!_!}!4{!}#O!Bn#O#P!<w#P#o!4{#o#p!?g#p;'S!4{;'S;=`!Cw<%lO!4{&n!6_^$c&j!RSOY!6WYZ&cZ!P!6W!P!Q!7Z!Q!^!6W!^!_!8g!_!}!6W!}#O!;U#O#P!<w#P#o!6W#o#p!8g#p;'S!6W;'S;=`!=i<%lO!6W&n!7ba$c&j!RSO!^&c!_#Z&c#Z#[!7Z#[#]&c#]#^!7Z#^#a&c#a#b!7Z#b#g&c#g#h!7Z#h#i&c#i#j!7Z#j#m&c#m#n!7Z#n#o&c#p;'S&c;'S;=`&w<%lO&cS!8lX!RSOY!8gZ!P!8g!P!Q!9X!Q!}!8g!}#O!9p#O#P!:o#P;'S!8g;'S;=`!;O<%lO!8gS!9^U!RS#Z#[!9X#]#^!9X#a#b!9X#g#h!9X#i#j!9X#m#n!9XS!9sVOY!9pZ#O!9p#O#P!:Y#P#Q!8g#Q;'S!9p;'S;=`!:i<%lO!9pS!:]SOY!9pZ;'S!9p;'S;=`!:i<%lO!9pS!:lP;=`<%l!9pS!:rSOY!8gZ;'S!8g;'S;=`!;O<%lO!8gS!;RP;=`<%l!8g&n!;Z[$c&jOY!;UYZ&cZ!^!;U!^!_!9p!_#O!;U#O#P!<P#P#Q!6W#Q#o!;U#o#p!9p#p;'S!;U;'S;=`!<q<%lO!;U&n!<UX$c&jOY!;UYZ&cZ!^!;U!^!_!9p!_#o!;U#o#p!9p#p;'S!;U;'S;=`!<q<%lO!;U&n!<tP;=`<%l!;U&n!<|X$c&jOY!6WYZ&cZ!^!6W!^!_!8g!_#o!6W#o#p!8g#p;'S!6W;'S;=`!=i<%lO!6W&n!=lP;=`<%l!6W(Q!=xi$c&j'y!b!RSOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#Z&}#Z#[!=o#[#]&}#]#^!=o#^#a&}#a#b!=o#b#g&}#g#h!=o#h#i&}#i#j!=o#j#m&}#m#n!=o#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!f!?nZ'y!b!RSOY!?gZw!?gwx!8gx!P!?g!P!Q!@a!Q!}!?g!}#O!Ap#O#P!:o#P;'S!?g;'S;=`!Bh<%lO!?g!f!@hb'y!b!RSOY'}Zw'}x#O'}#P#Z'}#Z#[!@a#[#]'}#]#^!@a#^#a'}#a#b!@a#b#g'}#g#h!@a#h#i'}#i#j!@a#j#m'}#m#n!@a#n;'S'};'S;=`(f<%lO'}!f!AuX'y!bOY!ApZw!Apwx!9px#O!Ap#O#P!:Y#P#Q!?g#Q;'S!Ap;'S;=`!Bb<%lO!Ap!f!BeP;=`<%l!Ap!f!BkP;=`<%l!?g(Q!Bu^$c&j'y!bOY!BnYZ&cZw!Bnwx!;Ux!^!Bn!^!_!Ap!_#O!Bn#O#P!<P#P#Q!4{#Q#o!Bn#o#p!Ap#p;'S!Bn;'S;=`!Cq<%lO!Bn(Q!CtP;=`<%l!Bn(Q!CzP;=`<%l!4{'`!DW`$c&j'vp!RSOY!C}YZ&cZr!C}rs!6Ws!P!C}!P!Q!EY!Q!^!C}!^!_!GQ!_!}!C}!}#O!JX#O#P!<w#P#o!C}#o#p!GQ#p;'S!C};'S;=`!Kb<%lO!C}'`!Eci$c&j'vp!RSOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#Z(r#Z#[!EY#[#](r#]#^!EY#^#a(r#a#b!EY#b#g(r#g#h!EY#h#i(r#i#j!EY#j#m(r#m#n!EY#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rt!GXZ'vp!RSOY!GQZr!GQrs!8gs!P!GQ!P!Q!Gz!Q!}!GQ!}#O!IZ#O#P!:o#P;'S!GQ;'S;=`!JR<%lO!GQt!HRb'vp!RSOY)rZr)rs#O)r#P#Z)r#Z#[!Gz#[#])r#]#^!Gz#^#a)r#a#b!Gz#b#g)r#g#h!Gz#h#i)r#i#j!Gz#j#m)r#m#n!Gz#n;'S)r;'S;=`*Z<%lO)rt!I`X'vpOY!IZZr!IZrs!9ps#O!IZ#O#P!:Y#P#Q!GQ#Q;'S!IZ;'S;=`!I{<%lO!IZt!JOP;=`<%l!IZt!JUP;=`<%l!GQ'`!J`^$c&j'vpOY!JXYZ&cZr!JXrs!;Us!^!JX!^!_!IZ!_#O!JX#O#P!<P#P#Q!C}#Q#o!JX#o#p!IZ#p;'S!JX;'S;=`!K[<%lO!JX'`!K_P;=`<%l!JX'`!KeP;=`<%l!C}(r!Ksk$c&j'vp'y!b!RSOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#Z%Z#Z#[!Kh#[#]%Z#]#^!Kh#^#a%Z#a#b!Kh#b#g%Z#g#h!Kh#h#i%Z#i#j!Kh#j#m%Z#m#n!Kh#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#W!Mq]'vp'y!b!RSOY!MhZr!Mhrs!?gsw!Mhwx!GQx!P!Mh!P!Q!Nj!Q!}!Mh!}#O#!U#O#P!:o#P;'S!Mh;'S;=`##U<%lO!Mh#W!Nse'vp'y!b!RSOY*gZr*grs'}sw*gwx)rx#O*g#P#Z*g#Z#[!Nj#[#]*g#]#^!Nj#^#a*g#a#b!Nj#b#g*g#g#h!Nj#h#i*g#i#j!Nj#j#m*g#m#n!Nj#n;'S*g;'S;=`+Z<%lO*g#W#!]Z'vp'y!bOY#!UZr#!Urs!Apsw#!Uwx!IZx#O#!U#O#P!:Y#P#Q!Mh#Q;'S#!U;'S;=`##O<%lO#!U#W##RP;=`<%l#!U#W##XP;=`<%l!Mh(r##e`$c&j'vp'y!bOY##[YZ&cZr##[rs!Bnsw##[wx!JXx!^##[!^!_#!U!_#O##[#O#P!<P#P#Q!3h#Q#o##[#o#p#!U#p;'S##[;'S;=`#$g<%lO##[(r#$jP;=`<%l##[(r#$pP;=`<%l!3h(CS#%Qb$c&j'vp'y!b'n(;d!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(CS#&e_$c&j'vp'y!bR(;dOY#&YYZ&cZr#&Yrs#'dsw#&Ywx#*tx!^#&Y!^!_#,s!_#O#&Y#O#P#(f#P#o#&Y#o#p#,s#p;'S#&Y;'S;=`#-r<%lO#&Y(Bb#'m]$c&j'y!bR(;dOY#'dYZ&cZw#'dwx#(fx!^#'d!^!_#)w!_#O#'d#O#P#(f#P#o#'d#o#p#)w#p;'S#'d;'S;=`#*n<%lO#'d(AO#(mX$c&jR(;dOY#(fYZ&cZ!^#(f!^!_#)Y!_#o#(f#o#p#)Y#p;'S#(f;'S;=`#)q<%lO#(f(;d#)_SR(;dOY#)YZ;'S#)Y;'S;=`#)k<%lO#)Y(;d#)nP;=`<%l#)Y(AO#)tP;=`<%l#(f(<v#*OW'y!bR(;dOY#)wZw#)wwx#)Yx#O#)w#O#P#)Y#P;'S#)w;'S;=`#*h<%lO#)w(<v#*kP;=`<%l#)w(Bb#*qP;=`<%l#'d(Ap#*}]$c&j'vpR(;dOY#*tYZ&cZr#*trs#(fs!^#*t!^!_#+v!_#O#*t#O#P#(f#P#o#*t#o#p#+v#p;'S#*t;'S;=`#,m<%lO#*t(<U#+}W'vpR(;dOY#+vZr#+vrs#)Ys#O#+v#O#P#)Y#P;'S#+v;'S;=`#,g<%lO#+v(<U#,jP;=`<%l#+v(Ap#,pP;=`<%l#*t(=h#,|Y'vp'y!bR(;dOY#,sZr#,srs#)wsw#,swx#+vx#O#,s#O#P#)Y#P;'S#,s;'S;=`#-l<%lO#,s(=h#-oP;=`<%l#,s(CS#-uP;=`<%l#&Y%#W#.Vb$c&j#z$Id'vp'y!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h+h#/lb$S#t$c&j'vp'y!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h$/l#1Pp$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!+g!P!Q%Z!Q![#3T![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S#3T#S#U%Z#U#V#6_#V#X%Z#X#Y!-Z#Y#b%Z#b#c#5T#c#d#9g#d#l%Z#l#m#<i#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#3`k$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!+g!P!Q%Z!Q![#3T![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S#3T#S#X%Z#X#Y!-Z#Y#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#5`_$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#6hd$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#7v!R!S#7v!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#7v#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#8Rf$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#7v!R!S#7v!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#7v#S#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#9pc$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#:{!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#:{#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#;We$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#:{!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#:{#S#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#<rg$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#>Z![!^%Z!^!_*g!_!c%Z!c!i#>Z!i#O%Z#O#P&c#P#R%Z#R#S#>Z#S#T%Z#T#Z#>Z#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#>fi$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#>Z![!^%Z!^!_*g!_!c%Z!c!i#>Z!i#O%Z#O#P&c#P#R%Z#R#S#>Z#S#T%Z#T#Z#>Z#Z#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#@b_!a$b$c&j#x%<f'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Al_^l$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS#Bz^'|!*v!e'.r'vp'y!b$T)d(lSOY*gZr*grs'}sw*gwx)rx!P*g!P!Q#Cv!Q!^*g!^!_#Dl!_!`#F^!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#DPX$e&j'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#DuZ#j$Id'vp'y!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Eh!`#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#EqX#z$Id'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#FgX#k$Id'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Gh#G_a#W%?x$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a#Hd!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#W#Ho_#c$Ih$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#I}adBf#k$Id$`#|$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`#KS!`!a#L^!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#K__#k$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#Lia#j$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`!a#Mn!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#My`#j$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h$ Wc(`$Ip$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P$!c!P!^%Z!^!_*g!_!a%Z!a!b$#m!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+`$!n_z'#p$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$#x`$c&j#u$Id'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&^$%V_!x!Ln$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^$&a_|(8n$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$'eZ$c&jO!^$(W!^!_$(n!_#i$(W#i#j$(s#j#l$(W#l#m$*f#m#o$(W#o#p$(n#p;'S$(W;'S;=`$,q<%lO$(W(n$(_T[#S$c&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$(sO[#S(n$(x[$c&jO!Q&c!Q![$)n![!^&c!_!c&c!c!i$)n!i#T&c#T#Z$)n#Z#o&c#o#p$,U#p;'S&c;'S;=`&w<%lO&c(n$)sZ$c&jO!Q&c!Q![$*f![!^&c!_!c&c!c!i$*f!i#T&c#T#Z$*f#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$*kZ$c&jO!Q&c!Q![$+^![!^&c!_!c&c!c!i$+^!i#T&c#T#Z$+^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$+cZ$c&jO!Q&c!Q![$(W![!^&c!_!c&c!c!i$(W!i#T&c#T#Z$(W#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$,XR!Q![$,b!c!i$,b#T#Z$,b#S$,eS!Q![$,b!c!i$,b#T#Z$,b#q#r$(n(n$,tP;=`<%l$(W!'l$-S_!SM|$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$.^`#r$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&,v$/k_$c&j'vp'y!b(Q&%WOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$0yk$c&j'vp'y!b(T!LY's&;d$X#tOY%ZYZ&cZr%Zrs&}st%Ztu$0juw%Zwx(rx}%Z}!O$2n!O!Q%Z!Q![$0j![!^%Z!^!_*g!_!c%Z!c!}$0j!}#O%Z#O#P&c#P#R%Z#R#S$0j#S#T%Z#T#o$0j#o#p*g#p$g%Z$g;'S$0j;'S;=`$4t<%lO$0j+d$2yk$c&j'vp'y!b$X#tOY%ZYZ&cZr%Zrs&}st%Ztu$2nuw%Zwx(rx}%Z}!O$2n!O!Q%Z!Q![$2n![!^%Z!^!_*g!_!c%Z!c!}$2n!}#O%Z#O#P&c#P#R%Z#R#S$2n#S#T%Z#T#o$2n#o#p*g#p$g%Z$g;'S$2n;'S;=`$4n<%lO$2n+d$4qP;=`<%l$2n(CS$4wP;=`<%l$0j!5p$5TX!X!3l'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Df$5{a(g%<v$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$#m#q;'S%Z;'S;=`+a<%lO%Z%#`$7__!W$I`o`$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(r$8i_!mS$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$9y|$c&j'vp'y!b'l(;d(T!LY's&;d$V#tOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$f%Z$f$g+g$g#BY>P#BY#BZ$9h#BZ$IS>P$IS$I_$9h$I_$JT>P$JT$JU$9h$JU$KV>P$KV$KW$9h$KW&FU>P&FU&FV$9h&FV;'S>P;'S;=`BZ<%l?HT>P?HT?HU$9h?HUO>P(CS$=Uk$c&j'vp'y!b'm(;d(T!LY's&;d$V#tOY%ZYZ&cZr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$g%Z$g;'S>P;'S;=`BZ<%lO>P",tokenizers:[b1,y1,2,3,4,5,6,7,8,9,10,11,12,13,O1,new xl("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOq~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!O~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(S~~",141,325),new xl("j~RQYZXz{^~^O'p~~aP!P!Qd~iO'q~~",25,307)],topRules:{Script:[0,5],SingleExpression:[1,266],SingleClassItem:[2,267]},dialects:{jsx:13213,ts:13215},dynamicPrecedences:{76:1,78:1,162:1,190:1},specialized:[{term:311,get:i=>k1[i]||-1},{term:327,get:i=>w1[i]||-1},{term:67,get:i=>x1[i]||-1}],tokenPrec:13238});function Wu(i){let e=Object.keys(i).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function P1(i){let e=Object.create(null),t=Object.create(null);for(let{label:r}of i){e[r[0]]=!0;for(let o=1;o<r.length;o++)t[r[o]]=!0}let n=Wu(e)+Wu(t)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function Q1(i){let e=i.map(r=>typeof r=="string"?{label:r}:r),[t,n]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:P1(e);return r=>{let o=r.matchBefore(n);return o||r.explicit?{from:o?o.from:r.pos,options:e,validFor:t}:null}}function C1(i,e){return t=>{for(let n=ut(t.state).resolveInner(t.pos,-1);n;n=n.parent){if(i.indexOf(n.name)>-1)return null;if(n.type.isTop)break}return e(t)}}const $1=vn.define(),A1=F.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class T1{constructor(e,t,n,r){this.field=e,this.line=t,this.from=n,this.to=r}}class cc{constructor(e,t,n){this.field=e,this.from=t,this.to=n}map(e){let t=e.mapPos(this.from,-1,_e.TrackDel),n=e.mapPos(this.to,1,_e.TrackDel);return t==null||n==null?null:new cc(this.field,t,n)}}class hc{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let n=[],r=[t],o=e.doc.lineAt(t),a=/^\s*/.exec(o.text)[0];for(let h of this.lines){if(n.length){let d=a,f=/^\t*/.exec(h)[0].length;for(let g=0;g<f;g++)d+=e.facet(Wi);r.push(t+d.length-f),h=d+h.slice(f)}n.push(h),t+=h.length+1}let l=this.fieldPositions.map(h=>new cc(h.field,r[h.line]+h.from,r[h.line]+h.to));return{text:n,ranges:l}}static parse(e){let t=[],n=[],r=[],o;for(let a of e.split(/\r\n?|\n/)){for(;o=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(a);){let l=o[1]?+o[1]:null,h=o[2]||o[3]||"",d=-1;for(let f=0;f<t.length;f++)(l!=null?t[f].seq==l:h&&t[f].name==h)&&(d=f);if(d<0){let f=0;for(;f<t.length&&(l==null||t[f].seq!=null&&t[f].seq<l);)f++;t.splice(f,0,{seq:l,name:h}),d=f;for(let g of r)g.field>=d&&g.field++}r.push(new T1(d,n.length,o.index,o.index+h.length)),a=a.slice(0,o.index)+h+a.slice(o.index+o[0].length)}for(let l;l=/\\([{}])/.exec(a);){a=a.slice(0,l.index)+l[1]+a.slice(l.index+l[0].length);for(let h of r)h.line==n.length&&h.from>l.index&&(h.from--,h.to--)}n.push(a)}return new hc(n,r)}}let M1=ne.widget({widget:new class extends ei{toDOM(){let i=document.createElement("span");return i.className="cm-snippetFieldPosition",i}ignoreEvent(){return!1}}}),D1=ne.mark({class:"cm-snippetField"});class Yi{constructor(e,t){this.ranges=e,this.active=t,this.deco=ne.set(e.map(n=>(n.from==n.to?M1:D1).range(n.from,n.to)))}map(e){let t=[];for(let n of this.ranges){let r=n.map(e);if(!r)return null;t.push(r)}return new Yi(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(n=>n.field==this.active&&n.from<=t.from&&n.to>=t.to))}}const Zr=re.define({map(i,e){return i&&i.map(e)}}),B1=re.define(),Tr=Ye.define({create(){return null},update(i,e){for(let t of e.effects){if(t.is(Zr))return t.value;if(t.is(B1)&&i)return new Yi(i.ranges,t.value)}return i&&e.docChanged&&(i=i.map(e.changes)),i&&e.selection&&!i.selectionInsideField(e.selection)&&(i=null),i},provide:i=>F.decorations.from(i,e=>e?e.deco:ne.none)});function uc(i,e){return j.create(i.filter(t=>t.field==e).map(t=>j.range(t.from,t.to)))}function R1(i){let e=hc.parse(i);return(t,n,r,o)=>{let{text:a,ranges:l}=e.instantiate(t.state,r),h={changes:{from:r,to:o,insert:ge.of(a)},scrollIntoView:!0,annotations:n?$1.of(n):void 0};if(l.length&&(h.selection=uc(l,0)),l.length>1){let d=new Yi(l,0),f=h.effects=[Zr.of(d)];t.state.field(Tr,!1)===void 0&&f.push(re.appendConfig.of([Tr,Z1,E1,A1]))}t.dispatch(t.state.update(h))}}function am(i){return({state:e,dispatch:t})=>{let n=e.field(Tr,!1);if(!n||i<0&&n.active==0)return!1;let r=n.active+i,o=i>0&&!n.ranges.some(a=>a.field==r+i);return t(e.update({selection:uc(n.ranges,r),effects:Zr.of(o?null:new Yi(n.ranges,r)),scrollIntoView:!0})),!0}}const j1=({state:i,dispatch:e})=>i.field(Tr,!1)?(e(i.update({effects:Zr.of(null)})),!0):!1,U1=am(1),N1=am(-1),L1=[{key:"Tab",run:U1,shift:N1},{key:"Escape",run:j1}],Xu=G.define({combine(i){return i.length?i[0]:L1}}),Z1=Jt.highest(zn.compute([Xu],i=>i.facet(Xu)));function Ct(i,e){return Object.assign(Object.assign({},e),{apply:R1(i)})}const E1=F.domEventHandlers({mousedown(i,e){let t=e.state.field(Tr,!1),n;if(!t||(n=e.posAtCoords({x:i.clientX,y:i.clientY}))==null)return!1;let r=t.ranges.find(o=>o.from<=n&&o.to>=n);return!r||r.field==t.active?!1:(e.dispatch({selection:uc(t.ranges,r.field),effects:Zr.of(t.ranges.some(o=>o.field>r.field)?new Yi(t.ranges,r.field):null),scrollIntoView:!0}),!0)}}),lm=new class extends Vn{};lm.startSide=1;lm.endSide=-1;const W1=1024;let X1=0;class qe{constructor(e={}){this.id=X1++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=$n.match(e)),t=>{let n=e(t);return n===void 0?null:[this,n]}}}qe.closedBy=new qe({deserialize:i=>i.split(" ")});qe.openedBy=new qe({deserialize:i=>i.split(" ")});qe.group=new qe({deserialize:i=>i.split(" ")});qe.contextHash=new qe({perNode:!0});qe.lookAhead=new qe({perNode:!0});qe.mounted=new qe({perNode:!0});const I1=Object.create(null);class $n{constructor(e,t,n,r=0){this.name=e,this.props=t,this.id=n,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):I1,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new $n(e.name||"",t,e.id,n);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(r)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[o[0].id]=o[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(qe.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let r of n.split(" "))t[r]=e[n];return n=>{for(let r=n.prop(qe.group),o=-1;o<(r?r.length:0);o++){let a=t[o<0?n.name:r[o]];if(a)return a}}}}$n.none=new $n("",Object.create(null),0,8);const go=new WeakMap,Iu=new WeakMap;var gt;(function(i){i[i.ExcludeBuffers=1]="ExcludeBuffers",i[i.IncludeAnonymous=2]="IncludeAnonymous",i[i.IgnoreMounts=4]="IgnoreMounts",i[i.IgnoreOverlays=8]="IgnoreOverlays"})(gt||(gt={}));class yn{constructor(e,t,n,r,o){if(this.type=e,this.children=t,this.positions=n,this.length=r,this.props=null,o&&o.length){this.props=Object.create(null);for(let[a,l]of o)this.props[typeof a=="number"?a:a.id]=l}}toString(){let e=this.prop(qe.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let n of this.children){let r=n.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new ws(this.topNode,e)}cursorAt(e,t=0,n=0){let r=go.get(this)||this.topNode,o=new ws(r);return o.moveTo(e,t),go.set(this,o._tree),o}get topNode(){return new Gt(this,0,0,null)}resolve(e,t=0){let n=Ii(go.get(this)||this.topNode,e,t,!1);return go.set(this,n),n}resolveInner(e,t=0){let n=Ii(Iu.get(this)||this.topNode,e,t,!0);return Iu.set(this,n),n}iterate(e){let{enter:t,leave:n,from:r=0,to:o=this.length}=e;for(let a=this.cursor((e.mode||0)|gt.IncludeAnonymous);;){let l=!1;if(a.from<=o&&a.to>=r&&(a.type.isAnonymous||t(a)!==!1)){if(a.firstChild())continue;l=!0}for(;l&&n&&!a.type.isAnonymous&&n(a),!a.nextSibling();){if(!a.parent())return;l=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:pc($n.none,this.children,this.positions,0,this.children.length,0,this.length,(t,n,r)=>new yn(this.type,t,n,r,this.propValues),e.makeTree||((t,n,r)=>new yn($n.none,t,n,r)))}static build(e){return V1(e)}}yn.empty=new yn($n.none,[],[],0);class dc{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new dc(this.buffer,this.index)}}class mi{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return $n.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],r=this.set.types[t],o=r.name;if(/\W/.test(o)&&!r.isError&&(o=JSON.stringify(o)),e+=4,n==e)return o;let a=[];for(;e<n;)a.push(this.childString(e)),e=this.buffer[e+3];return o+"("+a.join(",")+")"}findChild(e,t,n,r,o){let{buffer:a}=this,l=-1;for(let h=e;h!=t&&!(cm(o,r,a[h+1],a[h+2])&&(l=h,n>0));h=a[h+3]);return l}slice(e,t,n){let r=this.buffer,o=new Uint16Array(t-e),a=0;for(let l=e,h=0;l<t;){o[h++]=r[l++],o[h++]=r[l++]-n;let d=o[h++]=r[l++]-n;o[h++]=r[l++]-e,a=Math.max(a,d)}return new mi(o,a,this.set)}}function cm(i,e,t,n){switch(i){case-2:return t<e;case-1:return n>=e&&t<e;case 0:return t<e&&n>e;case 1:return t<=e&&n>e;case 2:return n>e;case 4:return!0}}function hm(i,e){let t=i.childBefore(e);for(;t;){let n=t.lastChild;if(!n||n.to!=t.to)break;n.type.isError&&n.from==n.to?(i=t,t=n.prevSibling):t=n}return i}function Ii(i,e,t,n){for(var r;i.from==i.to||(t<1?i.from>=e:i.from>e)||(t>-1?i.to<=e:i.to<e);){let a=!n&&i instanceof Gt&&i.index<0?null:i.parent;if(!a)return i;i=a}let o=n?0:gt.IgnoreOverlays;if(n)for(let a=i,l=a.parent;l;a=l,l=a.parent)a instanceof Gt&&a.index<0&&((r=l.enter(e,t,o))===null||r===void 0?void 0:r.from)!=a.from&&(i=l);for(;;){let a=i.enter(e,t,o);if(!a)return i;i=a}}class Gt{constructor(e,t,n,r){this._tree=e,this.from=t,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,r,o=0){for(let a=this;;){for(let{children:l,positions:h}=a._tree,d=t>0?l.length:-1;e!=d;e+=t){let f=l[e],g=h[e]+a.from;if(cm(r,n,g,g+f.length)){if(f instanceof mi){if(o&gt.ExcludeBuffers)continue;let y=f.findChild(0,f.buffer.length,t,n-g,r);if(y>-1)return new On(new F1(a,f,e,g),null,y)}else if(o&gt.IncludeAnonymous||!f.type.isAnonymous||fc(f)){let y;if(!(o&gt.IgnoreMounts)&&f.props&&(y=f.prop(qe.mounted))&&!y.overlay)return new Gt(y.tree,g,e,a);let v=new Gt(f,g,e,a);return o&gt.IncludeAnonymous||!v.type.isAnonymous?v:v.nextChild(t<0?f.children.length-1:0,t,n,r)}}}if(o&gt.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?e=a.index+t:e=t<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,n=0){let r;if(!(n&gt.IgnoreOverlays)&&(r=this._tree.prop(qe.mounted))&&r.overlay){let o=e-this.from;for(let{from:a,to:l}of r.overlay)if((t>0?a<=o:a<o)&&(t<0?l>=o:l>o))return new Gt(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new ws(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return Ii(this,e,t,!1)}resolveInner(e,t=0){return Ii(this,e,t,!0)}enterUnfinishedNodesBefore(e){return hm(this,e)}getChild(e,t=null,n=null){let r=vs(this,e,t,n);return r.length?r[0]:null}getChildren(e,t=null,n=null){return vs(this,e,t,n)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return ks(this,e)}}function vs(i,e,t,n){let r=i.cursor(),o=[];if(!r.firstChild())return o;if(t!=null){for(;!r.type.is(t);)if(!r.nextSibling())return o}for(;;){if(n!=null&&r.type.is(n))return o;if(r.type.is(e)&&o.push(r.node),!r.nextSibling())return n==null?o:[]}}function ks(i,e,t=e.length-1){for(let n=i.parent;t>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[t]&&e[t]!=n.name)return!1;t--}}return!0}class F1{constructor(e,t,n,r){this.parent=e,this.buffer=t,this.index=n,this.start=r}}class On{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,n);return o<0?null:new On(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n=0){if(n&gt.ExcludeBuffers)return null;let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new On(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new On(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new On(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new ws(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,r=this.index+4,o=n.buffer[this.index+3];if(o>r){let a=n.buffer[this.index+1];e.push(n.slice(r,o,a)),t.push(0)}return new yn(this.type,e,t,this.to-this.from)}resolve(e,t=0){return Ii(this,e,t,!1)}resolveInner(e,t=0){return Ii(this,e,t,!0)}enterUnfinishedNodesBefore(e){return hm(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,n=null){let r=vs(this,e,t,n);return r.length?r[0]:null}getChildren(e,t=null,n=null){return vs(this,e,t,n)}get node(){return this}matchContext(e){return ks(this,e)}}class ws{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Gt)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:n,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=n+r.buffer[e+1],this.to=n+r.buffer[e+2],!0}yield(e){return e?e instanceof Gt?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:r}=this.buffer,o=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,n);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?n&gt.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&gt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&gt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let r=n<0?0:this.stack[n]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{let r=t.buffer[this.index+3];if(r<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(r)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(r.buffer.buffer[o+3]<this.index)return!1;({index:t,parent:n}=r)}else({index:t,_parent:n}=this._tree);for(;n;{index:t,_parent:n}=n)if(t>-1)for(let o=t+e,a=e<0?-1:n._tree.children.length;o!=a;o+=e){let l=n._tree.children[o];if(this.mode&gt.IncludeAnonymous||l instanceof mi||!l.type.isAnonymous||fc(l))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let r=this.index,o=this.stack.length;o>=0;){for(let a=e;a;a=a._parent)if(a.index==r){if(r==this.index)return a;t=a,n=o+1;break e}r=this.stack[--o]}for(let r=n;r<this.stack.length;r++)t=new On(this.buffer,t,this.stack[r]);return this.bufferNode=new On(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,r=!0}}}matchContext(e){if(!this.buffer)return ks(this.node,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let r=e.length-1,o=this.stack.length-1;r>=0;o--){if(o<0)return ks(this.node,e,r);let a=n[t.buffer[this.stack[o]]];if(!a.isAnonymous){if(e[r]&&e[r]!=a.name)return!1;r--}}return!0}}function fc(i){return i.children.some(e=>e instanceof mi||!e.type.isAnonymous||fc(e))}function V1(i){var e;let{buffer:t,nodeSet:n,maxBufferLength:r=W1,reused:o=[],minRepeatType:a=n.types.length}=i,l=Array.isArray(t)?new dc(t,t.length):t,h=n.types,d=0,f=0;function g(N,B,U,E,H){let{id:q,start:V,end:_,size:K}=l,se=f;for(;K<0;)if(l.next(),K==-1){let Pe=o[q];U.push(Pe),E.push(V-N);return}else if(K==-3){d=q;return}else if(K==-4){f=q;return}else throw new RangeError(`Unrecognized record size: ${K}`);let ae=h[q],le,ce,We=V-N;if(_-V<=r&&(ce=C(l.pos-B,H))){let Pe=new Uint16Array(ce.size-ce.skip),fe=l.pos-ce.size,de=Pe.length;for(;l.pos>fe;)de=$(ce.start,Pe,de);le=new mi(Pe,_-ce.start,n),We=ce.start-N}else{let Pe=l.pos-K;l.next();let fe=[],de=[],Xe=q>=a?q:-1,Qe=0,Pt=_;for(;l.pos>Pe;)Xe>=0&&l.id==Xe&&l.size>=0?(l.end<=Pt-r&&(v(fe,de,V,Qe,l.end,Pt,Xe,se),Qe=fe.length,Pt=l.end),l.next()):g(V,Pe,fe,de,Xe);if(Xe>=0&&Qe>0&&Qe<fe.length&&v(fe,de,V,Qe,V,Pt,Xe,se),fe.reverse(),de.reverse(),Xe>-1&&Qe>0){let Nt=y(ae);le=pc(ae,fe,de,0,fe.length,0,_-V,Nt,Nt)}else le=w(ae,fe,de,_-V,se-_)}U.push(le),E.push(We)}function y(N){return(B,U,E)=>{let H=0,q=B.length-1,V,_;if(q>=0&&(V=B[q])instanceof yn){if(!q&&V.type==N&&V.length==E)return V;(_=V.prop(qe.lookAhead))&&(H=U[q]+V.length+_)}return w(N,B,U,E,H)}}function v(N,B,U,E,H,q,V,_){let K=[],se=[];for(;N.length>E;)K.push(N.pop()),se.push(B.pop()+U-H);N.push(w(n.types[V],K,se,q-H,_-q)),B.push(H-U)}function w(N,B,U,E,H=0,q){if(d){let V=[qe.contextHash,d];q=q?[V].concat(q):[V]}if(H>25){let V=[qe.lookAhead,H];q=q?[V].concat(q):[V]}return new yn(N,B,U,E,q)}function C(N,B){let U=l.fork(),E=0,H=0,q=0,V=U.end-r,_={size:0,start:0,skip:0};e:for(let K=U.pos-N;U.pos>K;){let se=U.size;if(U.id==B&&se>=0){_.size=E,_.start=H,_.skip=q,q+=4,E+=4,U.next();continue}let ae=U.pos-se;if(se<0||ae<K||U.start<V)break;let le=U.id>=a?4:0,ce=U.start;for(U.next();U.pos>ae;){if(U.size<0)if(U.size==-3)le+=4;else break e;else U.id>=a&&(le+=4);U.next()}H=ce,E+=se,q+=le}return(B<0||E==N)&&(_.size=E,_.start=H,_.skip=q),_.size>4?_:void 0}function $(N,B,U){let{id:E,start:H,end:q,size:V}=l;if(l.next(),V>=0&&E<a){let _=U;if(V>4){let K=l.pos-(V-4);for(;l.pos>K;)U=$(N,B,U)}B[--U]=_,B[--U]=q-N,B[--U]=H-N,B[--U]=E}else V==-3?d=E:V==-4&&(f=E);return U}let M=[],Z=[];for(;l.pos>0;)g(i.start||0,i.bufferStart||0,M,Z,-1);let W=(e=i.length)!==null&&e!==void 0?e:M.length?Z[0]+M[0].length:0;return new yn(h[i.topID],M.reverse(),Z.reverse(),W)}const Fu=new WeakMap;function Do(i,e){if(!i.isAnonymous||e instanceof mi||e.type!=i)return 1;let t=Fu.get(e);if(t==null){t=1;for(let n of e.children){if(n.type!=i||!(n instanceof yn)){t=1;break}t+=Do(i,n)}Fu.set(e,t)}return t}function pc(i,e,t,n,r,o,a,l,h){let d=0;for(let w=n;w<r;w++)d+=Do(i,e[w]);let f=Math.ceil(d*1.5/8),g=[],y=[];function v(w,C,$,M,Z){for(let W=$;W<M;){let N=W,B=C[W],U=Do(i,w[W]);for(W++;W<M;W++){let E=Do(i,w[W]);if(U+E>=f)break;U+=E}if(W==N+1){if(U>f){let E=w[N];v(E.children,E.positions,0,E.children.length,C[N]+Z);continue}g.push(w[N])}else{let E=C[W-1]+w[W-1].length-B;g.push(pc(i,w,C,N,W,B,E,null,h))}y.push(B+Z-o)}}return v(e,t,n,r,0),(l||h)(g,y,a)}class q1{constructor(){this.map=new WeakMap}setBuffer(e,t,n){let r=this.map.get(e);r||this.map.set(e,r=new Map),r.set(t,n)}getBuffer(e,t){let n=this.map.get(e);return n&&n.get(t)}set(e,t){e instanceof On?this.setBuffer(e.context.buffer,e.index,t):e instanceof Gt&&this.map.set(e.tree,t)}get(e){return e instanceof On?this.getBuffer(e.context.buffer,e.index):e instanceof Gt?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}new qe({perNode:!0});const um=[Ct("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Ct("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Ct("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Ct("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Ct("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Ct(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Ct("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Ct(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Ct(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Ct('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Ct('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],Y1=um.concat([Ct("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Ct("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Ct("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),Vu=new q1,dm=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function rr(i){return(e,t)=>{let n=e.node.getChild("VariableDefinition");return n&&t(n,i),!0}}const _1=["FunctionDeclaration"],z1={FunctionDeclaration:rr("function"),ClassDeclaration:rr("class"),ClassExpression:()=>!0,EnumDeclaration:rr("constant"),TypeAliasDeclaration:rr("type"),NamespaceDeclaration:rr("namespace"),VariableDefinition(i,e){i.matchContext(_1)||e(i,"variable")},TypeDefinition(i,e){e(i,"type")},__proto__:null};function fm(i,e){let t=Vu.get(e);if(t)return t;let n=[],r=!0;function o(a,l){let h=i.sliceString(a.from,a.to);n.push({label:h,type:l})}return e.cursor(gt.IncludeAnonymous).iterate(a=>{if(r)r=!1;else if(a.name){let l=z1[a.name];if(l&&l(a,o)||dm.has(a.name))return!1}else if(a.to-a.from>8192){for(let l of fm(i,a.node))n.push(l);return!1}}),Vu.set(e,n),n}const qu=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,pm=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function G1(i){let e=ut(i.state).resolveInner(i.pos,-1);if(pm.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&qu.test(i.state.sliceDoc(e.from,e.to));if(!t&&!i.explicit)return null;let n=[];for(let r=e;r;r=r.parent)dm.has(r.name)&&(n=n.concat(fm(i.state.doc,r)));return{options:n,from:t?e.from:i.pos,validFor:qu}}const ui=Vo.define({name:"javascript",parser:S1.configure({props:[zf.add({IfStatement:fa({except:/^\s*({|else\b)/}),TryStatement:fa({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:ay,SwitchBody:i=>{let e=i.textAfter,t=/^\s*\}/.test(e),n=/^\s*(case|default)\b/.test(e);return i.baseIndent+(t?0:n?1:2)*i.unit},Block:sy({closing:"}"}),ArrowFunction:i=>i.baseIndent+i.unit,"TemplateString BlockComment":()=>null,"Statement Property":fa({except:/^{/}),JSXElement(i){let e=/^\s*<\//.test(i.textAfter);return i.lineIndent(i.node.from)+(e?0:i.unit)},JSXEscape(i){let e=/\s*\}/.test(i.textAfter);return i.lineIndent(i.node.from)+(e?0:i.unit)},"JSXOpenTag JSXSelfClosingTag"(i){return i.column(i.node.from)+i.unit}}),Kf.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":cy,BlockComment(i){return{from:i.from+2,to:i.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),mm={test:i=>/^JSX/.test(i.name),facet:Vf({commentTokens:{block:{open:"{/*",close:"*/}"}}})},H1=ui.configure({dialect:"ts"},"typescript"),K1=ui.configure({dialect:"jsx",props:[Gl.add(i=>i.isTop?[mm]:void 0)]}),J1=ui.configure({dialect:"jsx ts",props:[Gl.add(i=>i.isTop?[mm]:void 0)]},"typescript");let gm=i=>({label:i,type:"keyword"});const Om="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(gm),ek=Om.concat(["declare","implements","private","protected","public"].map(gm));function tk(i={}){let e=i.jsx?i.typescript?J1:K1:i.typescript?H1:ui,t=i.typescript?Y1.concat(ek):um.concat(Om);return new K0(e,[ui.data.of({autocomplete:C1(pm,Q1(t))}),ui.data.of({autocomplete:G1}),i.jsx?rk:[]])}function nk(i){for(;;){if(i.name=="JSXOpenTag"||i.name=="JSXSelfClosingTag"||i.name=="JSXFragmentTag")return i;if(i.name=="JSXEscape"||!i.parent)return null;i=i.parent}}function Yu(i,e,t=i.length){for(let n=e?.firstChild;n;n=n.nextSibling)if(n.name=="JSXIdentifier"||n.name=="JSXBuiltin"||n.name=="JSXNamespacedName"||n.name=="JSXMemberExpression")return i.sliceString(n.from,Math.min(n.to,t));return""}const ik=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),rk=F.inputHandler.of((i,e,t,n,r)=>{if((ik?i.composing:i.compositionStarted)||i.state.readOnly||e!=t||n!=">"&&n!="/"||!ui.isActiveAt(i.state,e,-1))return!1;let o=r(),{state:a}=o,l=a.changeByRange(h=>{var d;let{head:f}=h,g=ut(a).resolveInner(f-1,-1),y;if(g.name=="JSXStartTag"&&(g=g.parent),!(a.doc.sliceString(f-1,f)!=n||g.name=="JSXAttributeValue"&&g.to>f)){if(n==">"&&g.name=="JSXFragmentTag")return{range:h,changes:{from:f,insert:"</>"}};if(n=="/"&&g.name=="JSXStartCloseTag"){let v=g.parent,w=v.parent;if(w&&v.from==f-2&&((y=Yu(a.doc,w.firstChild,f))||((d=w.firstChild)===null||d===void 0?void 0:d.name)=="JSXFragmentTag")){let C=`${y}>`;return{range:j.cursor(f+C.length,-1),changes:{from:f,insert:C}}}}else if(n==">"){let v=nk(g);if(v&&!/^\/?>|^<\//.test(a.doc.sliceString(f,f+2))&&(y=Yu(a.doc,v,f)))return{range:h,changes:{from:f,insert:`</${y}>`}}}}return{range:h}});return l.changes.empty?!1:(i.dispatch([o,a.update(l,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),ok=typeof DOMParser<"u"?new DOMParser:null;let sk=i=>ok?.parseFromString(i,"text/html").querySelectorAll("*"),_u=i=>Array.isArray(i)?i.flat().join(""):i===void 0?"":i,ak=(i,...e)=>{let t="";for(let n in i)t+=_u(i[n]),t+=_u(e[n]);return sk(t)};function lk(i){const e=document.createElement("div");return e.innerText=i,e.innerHTML}const Bo=i=>i.name||i.longname,ck=i=>{var e=document.createElement("div");return e.innerHTML=i,e.textContent||e.innerText||""};function bm({doc:i,label:e}){return ak`<div class="prose dark:prose-invert max-h-[400px] overflow-auto p-2">
<h1 class="pt-0 mt-0">${e||Bo(i)}</h1>
${i.description}
<ul>
  ${i.params?.map(({name:t,type:n,description:r})=>`<li>${t} : ${n.names?.join(" | ")} ${r?` - ${ck(r)}`:""}</li>`)}
</ul>
<div>
  ${i.examples?.map(t=>`<div><pre>${lk(t)}</pre></div>`)}
</div>
</div>`[0]}const hk=Ca.docs.filter(i=>Bo(i)&&!Bo(i).startsWith("_")&&!["package"].includes(i.kind)&&!["superdirtOnly","noAutocomplete"].some(e=>i.tags?.find(t=>t.originalTitle===e))).map(i=>({label:Bo(i),info:()=>bm({doc:i}),type:"function"})),uk=i=>{let e=i.matchBefore(/\w*/);return e.from==e.to&&!i.explicit?null:{from:e.from,options:hk}};function dk(i){return i?[hv({override:[uk]})]:[]}const fk=i=>i.name||i.longname;let Sl=!1;typeof window<"u"&&(window.addEventListener("keyup",function(i){i.key=="Control"&&(Sl=!1)},!0),window.addEventListener("keydown",function(i){i.key=="Control"&&(Sl=!0)},!0));const pk=Tf((i,e,t)=>{if(!Sl)return null;let{from:n,to:r,text:o}=i.state.doc.lineAt(e),a=e,l=e;for(;a>n&&/\w/.test(o[a-n-1]);)a--;for(;l<r&&/\w/.test(o[l-n]);)l++;if(a==e&&t<0||l==e&&t>0)return null;let h=o.slice(a-n,l-n),d=Ca.docs.filter(f=>fk(f)===h)[0];return!d&&(d=Ca.docs.filter(f=>f.synonyms&&f.synonyms.includes(h))[0],!d)?null:{pos:a,end:l,above:!1,arrow:!0,create(f){let g=document.createElement("div");g.className="strudel-tooltip";const y=bm({doc:d,label:h});return g.appendChild(y),{dom:g}}}},{hoverTime:10}),mk=i=>i?pk:[],Pl=re.define(),gk=Ye.define({create(){return ne.none},update(i,e){try{for(let t of e.effects)if(t.is(Pl))if(t.value&&e.newDoc.length>0){const n=ne.mark({attributes:{style:"background-color: #FFCA2880"}});i=ne.set([n.range(0,e.newDoc.length)])}else i=ne.set([]);return i}catch(t){return console.warn("flash error",t),i}},provide:i=>F.decorations.from(i)}),Ok=(i,e=200)=>{i.dispatch({effects:Pl.of(!0)}),setTimeout(()=>{i.dispatch({effects:Pl.of(!1)})},e)},bk=i=>i?gk:[],ym=re.define(),vm=re.define(),Ql=(i,e)=>{i.dispatch({effects:ym.of(e)})},yk=(i,e,t)=>{i.dispatch({effects:vm.of({atTime:e,haps:t})})},Cl=Ye.define({create(){return ne.none},update(i,e){e.docChanged&&(i=i.map(e.changes));for(let t of e.effects)if(t.is(ym)){const n=t.value.filter(([r])=>r<e.newDoc.length).map(([r,o])=>[r,Math.min(o,e.newDoc.length)]).map(r=>ne.mark({id:r.join(":"),attributes:{style:"background-color: #00CA2880"}}).range(...r));i=ne.set(n,!0)}return i}}),$l=Ye.define({create(){return{atTime:0,haps:new Map}},update(i,e){for(let t of e.effects)if(t.is(vm)){const n=new Map;for(let r of t.value.haps)if(!(!r.context?.locations||!r.whole))for(let{start:o,end:a}of r.context.locations){let l=`${o}:${a}`;(!n.has(l)||n.get(l).whole.begin.lt(r.whole.begin))&&n.set(l,r)}i={atTime:t.value.atTime,haps:n}}return i}}),vk=F.decorations.compute([Cl,$l],i=>{const e=i.field(Cl).iter(),{haps:t}=i.field($l),n=new qn;for(;e.value;){const{from:r,to:o,value:{spec:{id:a}}}=e;if(t.has(a)){const h=t.get(a).context.color??"var(--foreground)";n.add(r,o,ne.mark({attributes:{style:`outline: solid 2px ${h}`}}))}e.next()}return n.finish()}),kk=[Cl,$l,vk],wk=(i,e)=>(i&&e&&setTimeout(()=>{Ql(e.editor,e.miniLocations)},100),i?kk:[]);function ft(){var i=arguments[0];typeof i=="string"&&(i=document.createElement(i));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];typeof r=="string"?i.setAttribute(n,r):r!=null&&(i[n]=r)}e++}for(;e<arguments.length;e++)km(i,arguments[e]);return i}function km(i,e){if(typeof e=="string")i.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)i.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)km(i,e[t]);else throw new RangeError("Unsupported child node: "+e)}const zu=typeof String.prototype.normalize=="function"?i=>i.normalize("NFKD"):i=>i;class Mr{constructor(e,t,n=0,r=e.length,o,a){this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,r),this.bufferStart=n,this.normalize=o?l=>o(zu(l)):zu,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return mt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=Rl(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=Et(e);let r=this.normalize(t);for(let o=0,a=n;;o++){let l=r.charCodeAt(o),h=this.match(l,a);if(o==r.length-1){if(h)return this.value=h,this;break}a==n&&o<t.length&&t.charCodeAt(o)==l&&a++}}}match(e,t){let n=null;for(let r=0;r<this.matches.length;r+=2){let o=this.matches[r],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?n={from:this.matches[r+1],to:t+1}:(this.matches[r]++,a=!0)),a||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?n={from:t,to:t+1}:this.matches.push(1,t)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferStart)&&(n=null),n}}typeof Symbol<"u"&&(Mr.prototype[Symbol.iterator]=function(){return this});const wm={from:-1,to:-1,match:/.*/.exec("")},mc="gm"+(/x/.unicode==null?"":"u");class gc{constructor(e,t,n,r=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=wm,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new xm(e,t,n,r,o);this.re=new RegExp(t,mc+(n?.ignoreCase?"i":"")),this.test=n?.test,this.iter=e.iter();let a=e.lineAt(r);this.curLineStart=a.from,this.matchPos=xs(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,r=n+t[0].length;if(this.matchPos=xs(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const ka=new WeakMap;class Bi{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let r=ka.get(e);if(!r||r.from>=n||r.to<=t){let l=new Bi(t,e.sliceString(t,n));return ka.set(e,l),l}if(r.from==t&&r.to==n)return r;let{text:o,from:a}=r;return a>t&&(o=e.sliceString(t,a)+o,a=t),r.to<n&&(o+=e.sliceString(r.to,n)),ka.set(e,new Bi(a,o)),new Bi(t,o.slice(t-a,n-a))}}class xm{constructor(e,t,n,r,o){this.text=e,this.to=o,this.done=!1,this.value=wm,this.matchPos=xs(e,r),this.re=new RegExp(t,mc+(n?.ignoreCase?"i":"")),this.test=n?.test,this.flat=Bi.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let n=this.flat.from+t.index,r=n+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this.matchPos=xs(this.text,r+(n==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Bi.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(gc.prototype[Symbol.iterator]=xm.prototype[Symbol.iterator]=function(){return this});function xk(i){try{return new RegExp(i,mc),!0}catch{return!1}}function xs(i,e){if(e>=i.length)return e;let t=i.lineAt(e),n;for(;e<t.to&&(n=t.text.charCodeAt(e-t.from))>=56320&&n<57344;)e++;return e}function Al(i){let e=String(i.state.doc.lineAt(i.state.selection.main.head).number),t=ft("input",{class:"cm-textfield",name:"line",value:e}),n=ft("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),i.dispatch({effects:Ss.of(!1)}),i.focus()):o.keyCode==13&&(o.preventDefault(),r())},onsubmit:o=>{o.preventDefault(),r()}},ft("label",i.state.phrase("Go to line"),": ",t)," ",ft("button",{class:"cm-button",type:"submit"},i.state.phrase("go")));function r(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!o)return;let{state:a}=i,l=a.doc.lineAt(a.selection.main.head),[,h,d,f,g]=o,y=f?+f.slice(1):0,v=d?+d:l.number;if(d&&g){let $=v/100;h&&($=$*(h=="-"?-1:1)+l.number/a.doc.lines),v=Math.round(a.doc.lines*$)}else d&&h&&(v=v*(h=="-"?-1:1)+l.number);let w=a.doc.line(Math.max(1,Math.min(a.doc.lines,v))),C=j.cursor(w.from+Math.max(0,Math.min(y,w.length)));i.dispatch({effects:[Ss.of(!1),F.scrollIntoView(C.from,{y:"center"})],selection:C}),i.focus()}return{dom:n}}const Ss=re.define(),Gu=Ye.define({create(){return!0},update(i,e){for(let t of e.effects)t.is(Ss)&&(i=t.value);return i},provide:i=>Gn.from(i,e=>e?Al:null)}),Sk=i=>{let e=Pr(i,Al);if(!e){let t=[Ss.of(!0)];i.state.field(Gu,!1)==null&&t.push(re.appendConfig.of([Gu,Pk])),i.dispatch({effects:t}),e=Pr(i,Al)}return e&&e.dom.querySelector("input").select(),!0},Pk=F.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Qk=({state:i,dispatch:e})=>{let{selection:t}=i,n=j.create(t.ranges.map(r=>i.wordAt(r.head)||j.cursor(r.head)),t.mainIndex);return n.eq(t)?!1:(e(i.update({selection:n})),!0)};function Ck(i,e){let{main:t,ranges:n}=i.selection,r=i.wordAt(t.head),o=r&&r.from==t.from&&r.to==t.to;for(let a=!1,l=new Mr(i.doc,e,n[n.length-1].to);;)if(l.next(),l.done){if(a)return null;l=new Mr(i.doc,e,0,Math.max(0,n[n.length-1].from-1)),a=!0}else{if(a&&n.some(h=>h.from==l.value.from))continue;if(o){let h=i.wordAt(l.value.from);if(!h||h.from!=l.value.from||h.to!=l.value.to)continue}return l.value}}const $k=({state:i,dispatch:e})=>{let{ranges:t}=i.selection;if(t.some(o=>o.from===o.to))return Qk({state:i,dispatch:e});let n=i.sliceDoc(t[0].from,t[0].to);if(i.selection.ranges.some(o=>i.sliceDoc(o.from,o.to)!=n))return!1;let r=Ck(i,n);return r?(e(i.update({selection:i.selection.addRange(j.range(r.from,r.to),!1),effects:F.scrollIntoView(r.to)})),!0):!1},_i=G.define({combine(i){return pi(i,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Nk(e),scrollToMatch:e=>F.scrollIntoView(e)})}});class Oc{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||xk(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,n)=>n=="n"?`
`:n=="r"?"\r":n=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new Dk(this):new Tk(this)}getCursor(e,t=0,n){let r=e.doc?e:Oe.create({doc:e});return n==null&&(n=r.doc.length),this.regexp?vi(this,r,t,n):yi(this,r,t,n)}}class Sm{constructor(e){this.spec=e}}function yi(i,e,t,n){return new Mr(e.doc,i.unquoted,t,n,i.caseSensitive?void 0:r=>r.toLowerCase(),i.wholeWord?Ak(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function Ak(i,e){return(t,n,r,o)=>((o>t||o+r.length<n)&&(o=Math.max(0,t-2),r=i.sliceString(o,Math.min(i.length,n+2))),(e(Ps(r,t-o))!=ze.Word||e(Qs(r,t-o))!=ze.Word)&&(e(Qs(r,n-o))!=ze.Word||e(Ps(r,n-o))!=ze.Word))}class Tk extends Sm{constructor(e){super(e)}nextMatch(e,t,n){let r=yi(this.spec,e,n,e.doc.length).nextOverlapping();return r.done&&(r=yi(this.spec,e,0,t).nextOverlapping()),r.done?null:r.value}prevMatchInRange(e,t,n){for(let r=n;;){let o=Math.max(t,r-1e4-this.spec.unquoted.length),a=yi(this.spec,e,o,r),l=null;for(;!a.nextOverlapping().done;)l=a.value;if(l)return l;if(o==t)return null;r-=1e4}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let n=yi(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let o=yi(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}function vi(i,e,t,n){return new gc(e.doc,i.search,{ignoreCase:!i.caseSensitive,test:i.wholeWord?Mk(e.charCategorizer(e.selection.main.head)):void 0},t,n)}function Ps(i,e){return i.slice(ct(i,e,!1),e)}function Qs(i,e){return i.slice(e,ct(i,e))}function Mk(i){return(e,t,n)=>!n[0].length||(i(Ps(n.input,n.index))!=ze.Word||i(Qs(n.input,n.index))!=ze.Word)&&(i(Qs(n.input,n.index+n[0].length))!=ze.Word||i(Ps(n.input,n.index+n[0].length))!=ze.Word)}class Dk extends Sm{nextMatch(e,t,n){let r=vi(this.spec,e,n,e.doc.length).next();return r.done&&(r=vi(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,n){for(let r=1;;r++){let o=Math.max(t,n-r*1e4),a=vi(this.spec,e,o,n),l=null;for(;!a.next().done;)l=a.value;if(l&&(o==t||l.from>o+10))return l;if(o==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(t,n)=>n=="$"?"$":n=="&"?e.match[0]:n!="0"&&+n<e.match.length?e.match[n]:t)}matchAll(e,t){let n=vi(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let o=vi(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}const Jn=re.define(),bc=re.define(),Fn=Ye.define({create(i){return new wa(Tl(i).create(),null)},update(i,e){for(let t of e.effects)t.is(Jn)?i=new wa(t.value.create(),i.panel):t.is(bc)&&(i=new wa(i.query,t.value?yc:null));return i},provide:i=>Gn.from(i,e=>e.panel)});class wa{constructor(e,t){this.query=e,this.panel=t}}const Bk=ne.mark({class:"cm-searchMatch"}),Rk=ne.mark({class:"cm-searchMatch cm-searchMatch-selected"}),jk=nt.fromClass(class{constructor(i){this.view=i,this.decorations=this.highlight(i.state.field(Fn))}update(i){let e=i.state.field(Fn);(e!=i.startState.field(Fn)||i.docChanged||i.selectionSet||i.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:i,panel:e}){if(!e||!i.spec.valid)return ne.none;let{view:t}=this,n=new qn;for(let r=0,o=t.visibleRanges,a=o.length;r<a;r++){let{from:l,to:h}=o[r];for(;r<a-1&&h>o[r+1].from-2*250;)h=o[++r].to;i.highlight(t.state,l,h,(d,f)=>{let g=t.state.selection.ranges.some(y=>y.from==d&&y.to==f);n.add(d,f,g?Rk:Bk)})}return n.finish()}},{decorations:i=>i.decorations});function Er(i){return e=>{let t=e.state.field(Fn,!1);return t&&t.query.spec.valid?i(e,t):Am(e)}}const Hu=Er((i,{query:e})=>{let{to:t}=i.state.selection.main,n=e.nextMatch(i.state,t,t);if(!n)return!1;let r=j.single(n.from,n.to),o=i.state.facet(_i);return i.dispatch({selection:r,effects:[vc(i,n),o.scrollToMatch(r.main,i)],userEvent:"select.search"}),$m(i),!0}),Ku=Er((i,{query:e})=>{let{state:t}=i,{from:n}=t.selection.main,r=e.prevMatch(t,n,n);if(!r)return!1;let o=j.single(r.from,r.to),a=i.state.facet(_i);return i.dispatch({selection:o,effects:[vc(i,r),a.scrollToMatch(o.main,i)],userEvent:"select.search"}),$m(i),!0}),Pm=Er((i,{query:e})=>{let t=e.matchAll(i.state,1e3);return!t||!t.length?!1:(i.dispatch({selection:j.create(t.map(n=>j.range(n.from,n.to))),userEvent:"select.search.matches"}),!0)}),Uk=({state:i,dispatch:e})=>{let t=i.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:n,to:r}=t.main,o=[],a=0;for(let l=new Mr(i.doc,i.sliceDoc(n,r));!l.next().done;){if(o.length>1e3)return!1;l.value.from==n&&(a=o.length),o.push(j.range(l.value.from,l.value.to))}return e(i.update({selection:j.create(o,a),userEvent:"select.search.matches"})),!0},Ju=Er((i,{query:e})=>{let{state:t}=i,{from:n,to:r}=t.selection.main;if(t.readOnly)return!1;let o=e.nextMatch(t,n,n);if(!o)return!1;let a=[],l,h,d=[];if(o.from==n&&o.to==r&&(h=t.toText(e.getReplacement(o)),a.push({from:o.from,to:o.to,insert:h}),o=e.nextMatch(t,o.from,o.to),d.push(F.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(n).number)+"."))),o){let f=a.length==0||a[0].from>=o.to?0:o.to-o.from-h.length;l=j.single(o.from-f,o.to-f),d.push(vc(i,o)),d.push(t.facet(_i).scrollToMatch(l.main,i))}return i.dispatch({changes:a,selection:l,effects:d,userEvent:"input.replace"}),!0}),Qm=Er((i,{query:e})=>{if(i.state.readOnly)return!1;let t=e.matchAll(i.state,1e9).map(r=>{let{from:o,to:a}=r;return{from:o,to:a,insert:e.getReplacement(r)}});if(!t.length)return!1;let n=i.state.phrase("replaced $ matches",t.length)+".";return i.dispatch({changes:t,effects:F.announce.of(n),userEvent:"input.replace.all"}),!0});function yc(i){return i.state.facet(_i).createPanel(i)}function Tl(i,e){var t,n,r,o,a;let l=i.selection.main,h=l.empty||l.to>l.from+100?"":i.sliceDoc(l.from,l.to);if(e&&!h)return e;let d=i.facet(_i);return new Oc({search:((t=e?.literal)!==null&&t!==void 0?t:d.literal)?h:h.replace(/\n/g,"\\n"),caseSensitive:(n=e?.caseSensitive)!==null&&n!==void 0?n:d.caseSensitive,literal:(r=e?.literal)!==null&&r!==void 0?r:d.literal,regexp:(o=e?.regexp)!==null&&o!==void 0?o:d.regexp,wholeWord:(a=e?.wholeWord)!==null&&a!==void 0?a:d.wholeWord})}function Cm(i){let e=Pr(i,yc);return e&&e.dom.querySelector("[main-field]")}function $m(i){let e=Cm(i);e&&e==i.root.activeElement&&e.select()}const Am=i=>{let e=i.state.field(Fn,!1);if(e&&e.panel){let t=Cm(i);if(t&&t!=i.root.activeElement){let n=Tl(i.state,e.query.spec);n.valid&&i.dispatch({effects:Jn.of(n)}),t.focus(),t.select()}}else i.dispatch({effects:[bc.of(!0),e?Jn.of(Tl(i.state,e.query.spec)):re.appendConfig.of(Zk)]});return!0},Tm=i=>{let e=i.state.field(Fn,!1);if(!e||!e.panel)return!1;let t=Pr(i,yc);return t&&t.dom.contains(i.root.activeElement)&&i.focus(),i.dispatch({effects:bc.of(!1)}),!0};class Nk{constructor(e){this.view=e;let t=this.query=e.state.field(Fn).query.spec;this.commit=this.commit.bind(this),this.searchField=ft("input",{value:t.search,placeholder:Mt(e,"Find"),"aria-label":Mt(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=ft("input",{value:t.replace,placeholder:Mt(e,"Replace"),"aria-label":Mt(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=ft("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=ft("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=ft("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function n(r,o,a){return ft("button",{class:"cm-button",name:r,onclick:o,type:"button"},a)}this.dom=ft("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,n("next",()=>Hu(e),[Mt(e,"next")]),n("prev",()=>Ku(e),[Mt(e,"previous")]),n("select",()=>Pm(e),[Mt(e,"all")]),ft("label",null,[this.caseField,Mt(e,"match case")]),ft("label",null,[this.reField,Mt(e,"regexp")]),ft("label",null,[this.wordField,Mt(e,"by word")]),...e.state.readOnly?[]:[ft("br"),this.replaceField,n("replace",()=>Ju(e),[Mt(e,"replace")]),n("replaceAll",()=>Qm(e),[Mt(e,"replace all")])],ft("button",{name:"close",onclick:()=>Tm(e),"aria-label":Mt(e,"close"),type:"button"},["×"])])}commit(){let e=new Oc({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Jn.of(e)}))}keydown(e){t0(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Ku:Hu)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Ju(this.view))}update(e){for(let t of e.transactions)for(let n of t.effects)n.is(Jn)&&!n.value.eq(this.query)&&this.setQuery(n.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(_i).top}}function Mt(i,e){return i.state.phrase(e)}const Oo=30,bo=/[\s\.,:;?!]/;function vc(i,{from:e,to:t}){let n=i.state.doc.lineAt(e),r=i.state.doc.lineAt(t).to,o=Math.max(n.from,e-Oo),a=Math.min(r,t+Oo),l=i.state.sliceDoc(o,a);if(o!=n.from){for(let h=0;h<Oo;h++)if(!bo.test(l[h+1])&&bo.test(l[h])){l=l.slice(h);break}}if(a!=r){for(let h=l.length-1;h>l.length-Oo;h--)if(!bo.test(l[h-1])&&bo.test(l[h])){l=l.slice(0,h);break}}return F.announce.of(`${i.state.phrase("current match")}. ${l} ${i.state.phrase("on line")} ${n.number}.`)}const Lk=F.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Zk=[Fn,Jt.low(jk),Lk];let Ek=class{constructor(e,t,n,r,o,a){this.left=e,this.top=t,this.height=n,this.className=r,this.letter=o,this.partial=a}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",e.style.height=this.height+"px",e.style.lineHeight=this.height+"px",e.style.color=this.partial?"transparent":"",e.className=this.className,e.textContent=this.letter}eq(e){return this.left==e.left&&this.top==e.top&&this.letter==e.letter&&this.height==e.height&&this.className==e.className}},Wk=class{constructor(e){this.view=e,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer cm-vimCursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration="1200ms"}update(e){(e.selectionSet||e.geometryChanged||e.viewportChanged)&&(this.view.requestMeasure(this.measureReq),this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink")}scheduleRedraw(){this.view.requestMeasure(this.measureReq)}readPos(){let{state:e}=this.view,t=[];for(let n of e.selection.ranges){let r=n==e.selection.main,o=Vk(null,this.view,n,r);o&&t.push(o)}return{cursors:t}}drawSel({cursors:e}){if(e.length!=this.cursors.length||e.some((t,n)=>!t.eq(this.cursors[n]))){let t=this.cursorLayer.children;if(t.length!==e.length){this.cursorLayer.textContent="";for(const n of e)this.cursorLayer.appendChild(n.draw())}else e.forEach((n,r)=>n.adjust(t[r]));this.cursors=e}}destroy(){this.cursorLayer.remove()}};const Xk={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-fat-cursor":{position:"absolute",background:"#ff9696",border:"none",whiteSpace:"pre"},"&:not(.cm-focused) .cm-fat-cursor":{background:"none",outline:"solid 1px #ff9696"}},Ik=Jt.highest(F.theme(Xk));function Fk(i){let e=i.scrollDOM.getBoundingClientRect();return{left:(i.textDirection==Se.LTR?e.left:e.right-i.scrollDOM.clientWidth)-i.scrollDOM.scrollLeft,top:e.top-i.scrollDOM.scrollTop}}function Vk(i,e,t,n){let r=t.head;var o=1;let a=e.coordsAtPos(r,1);if(!a)return null;let l=Fk(e),h=r<e.state.doc.length&&e.state.sliceDoc(r,r+1);(!h||h==`
`||h=="\r")&&(h=" ");let d=a.bottom-a.top;return new Ek(a.left-l.left,a.top-l.top+d*(1-o),d*o,n?"cm-fat-cursor cm-cursor-primary":"cm-fat-cursor cm-cursor-secondary",h,o!=1)}const qk=F.theme({".cm-emacsMode .cm-cursorLayer:not(.cm-vimCursorLayer)":{display:"none"},".cm-vim-panel":{padding:"5px 10px",backgroundColor:"#fffa8f",fontFamily:"monospace"},".cm-vim-panel input":{border:"none",outline:"none",backgroundColor:"#fffa8f"}}),Yk=nt.fromClass(class{constructor(i){this.status="",this.view=i,this.em=new ci(i),this.blockCursor=new Wk(i),this.view.scrollDOM.classList.add("cm-emacsMode")}update(i){i.docChanged&&(this.em.$emacsMark=null,this.em.updateMarksOnChange(i.changes)),this.blockCursor.update(i)}destroy(){this.view.scrollDOM.classList.remove("cm-emacsMode"),this.blockCursor.destroy()}},{eventHandlers:{mousedown:function(){this.em.$emacsMark=null}},provide:i=>zn.of([{any:function(e,t){var n;return!!(!((n=e.plugin(i))===null||n===void 0)&&n.em.handleKeyboard(t))}}])}),_k=re.define(),zk=Ye.define({create:()=>!1,update(i,e){for(let t of e.effects)t.is(_k)&&(i=t.value);return i},provide:i=>Gn.from(i,e=>e?Gk:null)});function Gk(i){let e=document.createElement("div");return e.className="cm-vim-panel",{top:!1,dom:e}}function Hk(i={}){return[qk,Yk,Ik,zk]}var Kk={Return:"Return",Escape:"Esc",Insert:"Ins",ArrowLeft:"Left",ArrowRight:"Right",ArrowUp:"Up",ArrowDown:"Down",Enter:"Return",Divide:"/",Slash:"/",Multiply:"*",Subtract:"-",Minus:"-",Equal:"="},Jk={Shift:1,Alt:1,Command:1,Control:1,CapsLock:1};const xa={};class ci{constructor(e){this.view=e,this.$data={count:0,keyChain:"",lastCommand:""},this.$emacsMarkRing=[],this.$emacsMark=null}static bindKey(e,t){e.split("|").forEach(function(n){let r="",o=n.split(/\s+/);o.forEach(function(a,l){let h=a.split(/-(?=.)/),d=h.pop();h.length&&(r+=h.sort().join("-")+"-"),r+=d,l===o.length-1?xa[r]=t:(xa[r]="null",r+=" ")})})}static getKey(e){var t=e.code,n=e.key;if(Jk[n])return["","",""];t.length>1&&(t[0]=="N"&&(t=t.replace(/^Numpad/,"")),t[0]=="K"&&(t=t.replace(/^Key/,""))),t=Kk[t]||t,t.length==1&&(t=t.toLowerCase());var r="";return e.ctrlKey&&(r+="C-"),e.metaKey&&(r+="CMD-"),e.altKey&&(r+="M-"),e.shiftKey&&(r+="S-"),[t,r,n]}static addCommands(e){Object.keys(e).forEach(function(t){var n=e[t];typeof n=="function"&&(n={exec:n}),ci.commands[t]=n})}static execCommand(e,t,n,r=1){var o=void 0;if(typeof e=="function")for(var a=0;a<r;a++)e(t.view);else if(e!=="null")if(e.exec){r>1&&e.handlesCount&&(n||(n={}),typeof n=="object"&&(n.count=r),r=1);for(var a=0;a<r;a++)o=e.exec(t,n||{})}else throw new Error("missformed command");return o}handleKeyboard(e){var t=ci.getKey(e),n=this.findCommand(t);if(n&&n.command){var r=ci.execCommand(n.command,this,n.args,n.count);if(r===!1)return}return n}findCommand([e,t,n]){if(e){var r=this,o=this.$data;if(!t&&e.length==1&&(r.pushEmacsMark(),o.count)){var a=new Array(o.count+1).join(n);return o.count=null,{command:"insertstring",args:a}}if(t=="C-"||o.count){var d=parseInt(e[e.length-1]);if(typeof d=="number"&&!isNaN(d))return o.count=Math.max(o.count||0,0),o.count=10*o.count+d,{command:"null"}}t&&(e=t+e),o.keyChain&&(e=o.keyChain+=" "+e);var l=xa[e];if(o.keyChain=l=="null"?e:"",!!l){if(l==="null")return{command:"null"};if(l==="universalArgument")return o.count=-4,{command:"null"};var h;if(typeof l!="string"&&(h=l.args,l.command&&(l=l.command)),(l==="insertstring"||l===sc||l===nc)&&r.pushEmacsMark(),!(typeof l=="string"&&(l=ci.commands[l],!l))){!l.readOnly&&!l.isYank&&(o.lastCommand=null);var d=o.count||1;return o.count&&(o.count=0),{command:l,args:h,count:d}}}}}showCommandLine(e){console.error("TODO")}updateMarksOnChange(e){this.$emacsMark&&(this.$emacsMark=this.updateMark(this.$emacsMark,e)),this.$emacsMarkRing=this.$emacsMarkRing.map(t=>this.updateMark(t,e)).filter(Boolean)}updateMark(e,t){if(e){var n=e.map(function(r){return t.mapPos(r,1,_e.TrackDel)}).filter(r=>r!=null);return n.length==0?null:n}}emacsMark(){return this.$emacsMark}setEmacsMark(e){this.$emacsMark=e}pushEmacsMark(e,t){var n=this.$emacsMark;n&&this.$emacsMarkRing.push(n),!e||t?this.setEmacsMark(e):this.$emacsMarkRing.push(e)}popEmacsMark(){var e=this.emacsMark();return e?(this.setEmacsMark(null),e):this.$emacsMarkRing.pop()}getLastEmacsMark(){return this.$emacsMark||this.$emacsMarkRing.slice(-1)[0]}getCopyText(){var e=this.view.state;return e.selection.ranges.map(t=>e.sliceDoc(t.from,t.to)).join(`
`)}clearSelection(){var e=this.view,t=e.state.selection,n=!t.ranges.some(o=>o.from!=o.to);if(n)return!1;var r=t.ranges.map(o=>j.range(o.head,o.head));return e.dispatch({selection:j.create(r,t.mainIndex)}),!0}onPaste(e){var t=this.view,n=t.state.selection,r;if(n.ranges.length>1){var o=e.split(`
`);o.length==n.ranges.length&&(r=o)}var a=0,l=t.state.changeByRange(h=>{var d=r?r[a]:e;return a++,{changes:{from:h.from,to:h.to,insert:d},range:j.cursor(h.from+d.length)}});t.dispatch(l)}}ci.commands={};function ew(i){var e=i.Pos;function t(c,u){var p=c.state.vim;if(!p||p.insertMode)return u.head;var m=p.sel.head;if(!m)return u.head;if(!(p.visualBlock&&u.head.line!=m.line))return u.from()==u.anchor&&!u.empty()&&u.head.line==m.line&&u.head.ch!=m.ch?new e(u.head.line,u.head.ch-1):u.head}function n(c,u,p){if(u.line===p.line&&u.ch>=p.ch-1){var m=c.getLine(u.line),O=m.charCodeAt(u.ch);55296<=O&&O<=55551&&(p.ch+=1)}return{start:u,end:p}}var r=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"g<Up>",type:"keyToKey",toKeys:"gk"},{keys:"g<Down>",type:"keyToKey",toKeys:"gj"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h"},{keys:"<Del>",type:"keyToKey",toKeys:"x"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<Ins>",type:"keyToKey",toKeys:"i",context:"normal"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"(",type:"motion",motion:"moveBySentence",motionArgs:{forward:!1}},{keys:")",type:"motion",motion:"moveBySentence",motionArgs:{forward:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"g$",type:"motion",motion:"moveToEndOfDisplayLine"},{keys:"g^",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"g0",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:"=",type:"operator",operator:"indentAuto"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"gn",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!0}},{keys:"gN",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!1}},{keys:"gq",type:"operator",operator:"hardWrap"},{keys:"gw",type:"operator",operator:"hardWrap",operatorArgs:{keepCursor:!0}},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-u>",type:"operatorMotion",operator:"delete",motion:"moveToStartOfLine",context:"insert"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-w>",type:"idle",context:"normal"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"gi",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"lastEdit"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"gI",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"bol"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"gJ",type:"action",action:"joinLines",actionArgs:{keepSpaces:!0},isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<character>",type:"action",action:"replayMacro"},{keys:"q<character>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0},context:"normal"},{keys:"R",type:"operator",operator:"change",operatorArgs:{linewise:!0,fullLine:!0},context:"visual",exitVisualBlock:!0},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<character>",type:"action",action:"setMark"},{keys:'"<character>',type:"action",action:"setRegister"},{keys:"<C-r><character>",type:"action",action:"insertRegister",context:"insert",isEdit:!0},{keys:"<C-o>",type:"action",action:"oneNormalCommand",context:"insert"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<character>",type:"motion",motion:"textObjectManipulation"},{keys:"i<character>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],o=r.length,a=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"omap",shortName:"om"},{name:"noremap",shortName:"no"},{name:"nnoremap",shortName:"nn"},{name:"vnoremap",shortName:"vn"},{name:"inoremap",shortName:"ino"},{name:"onoremap",shortName:"ono"},{name:"unmap"},{name:"mapclear",shortName:"mapc"},{name:"nmapclear",shortName:"nmapc"},{name:"vmapclear",shortName:"vmapc"},{name:"imapclear",shortName:"imapc"},{name:"omapclear",shortName:"omapc"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"startinsert",shortName:"start"},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"vglobal",shortName:"v"},{name:"delete",shortName:"d"},{name:"join",shortName:"j"},{name:"normal",shortName:"norm"},{name:"global",shortName:"g"}];function l(c){c.setOption("disableInput",!0),c.setOption("showCursorWhenSelecting",!1),i.signal(c,"vim-mode-change",{mode:"normal"}),c.on("cursorActivity",Gc),An(c),i.on(c.getInputField(),"paste",$(c))}function h(c){c.setOption("disableInput",!1),c.off("cursorActivity",Gc),i.off(c.getInputField(),"paste",$(c)),c.state.vim=null,qr&&clearTimeout(qr)}function d(c,u){this==i.keyMap.vim&&(c.options.$customCursor=null,i.rmClass(c.getWrapperElement(),"cm-fat-cursor")),(!u||u.attach!=f)&&h(c)}function f(c,u){this==i.keyMap.vim&&(c.curOp&&(c.curOp.selectionChanged=!0),c.options.$customCursor=t,i.addClass(c.getWrapperElement(),"cm-fat-cursor")),(!u||u.attach!=f)&&l(c)}i.defineOption("vimMode",!1,function(c,u,p){u&&c.getOption("keyMap")!="vim"?c.setOption("keyMap","vim"):!u&&p!=i.Init&&/^vim/.test(c.getOption("keyMap"))&&c.setOption("keyMap","default")});function g(c,u){if(u){if(this[c])return this[c];var p=C(c);if(!p)return!1;var m=Qt.findKey(u,p);return typeof m=="function"&&i.signal(u,"vim-keypress",p),m}}var y={Shift:"S",Ctrl:"C",Alt:"A",Cmd:"D",Mod:"A",CapsLock:""},v={Enter:"CR",Backspace:"BS",Delete:"Del",Insert:"Ins"},w={};"Left|Right|Up|Down|End|Home".split("|").concat(Object.keys(v)).forEach(function(c){w[(v[c]||"").toLowerCase()]=w[c.toLowerCase()]=c});function C(c){if(c.charAt(0)=="'")return c.charAt(1);var u=c.split(/-(?!$)/),p=u[u.length-1];if(u.length==1&&u[0].length==1)return!1;if(u.length==2&&u[0]=="Shift"&&p.length==1)return!1;for(var m=!1,O=0;O<u.length;O++){var b=u[O];b in y?u[O]=y[b]:m=!0,b in v&&(u[O]=v[b])}return m?(le(p)&&(u[u.length-1]=p.toLowerCase()),"<"+u.join("-")+">"):!1}function $(c){var u=c.state.vim;return u.onPasteFn||(u.onPasteFn=function(){u.insertMode||(c.setCursor(Ge(c.getCursor(),0,1)),gi.enterInsertMode(c,{},u))}),u.onPasteFn}var M=/[\d]/,Z=[i.isWordChar,function(c){return c&&!i.isWordChar(c)&&!/\s/.test(c)}],W=[function(c){return/\S/.test(c)}];function N(c,u){for(var p=[],m=c;m<c+u;m++)p.push(String.fromCharCode(m));return p}var B=N(65,26),U=N(97,26),E=N(48,10),H=[].concat(B,U,E,["<",">"]),q=[].concat(B,U,E,["-",'"',".",":","_","/","+"]),V;try{V=new RegExp("^[\\p{Lu}]$","u")}catch{V=/^[A-Z]$/}function _(c,u){return u>=c.firstLine()&&u<=c.lastLine()}function K(c){return/^[a-z]$/.test(c)}function se(c){return"()[]{}".indexOf(c)!=-1}function ae(c){return M.test(c)}function le(c){return V.test(c)}function ce(c){return/^\s*$/.test(c)}function We(c){return".?!".indexOf(c)!=-1}function Pe(c,u){for(var p=0;p<u.length;p++)if(u[p]==c)return!0;return!1}var fe={};function de(c,u,p,m,O){if(u===void 0&&!O)throw Error("defaultValue is required unless callback is provided");if(p||(p="string"),fe[c]={type:p,defaultValue:u,callback:O},m)for(var b=0;b<m.length;b++)fe[m[b]]=fe[c];u&&Xe(c,u)}function Xe(c,u,p,m){var O=fe[c];m=m||{};var b=m.scope;if(!O)return new Error("Unknown option: "+c);if(O.type=="boolean"){if(u&&u!==!0)return new Error("Invalid argument: "+c+"="+u);u!==!1&&(u=!0)}O.callback?(b!=="local"&&O.callback(u,void 0),b!=="global"&&p&&O.callback(u,p)):(b!=="local"&&(O.value=O.type=="boolean"?!!u:u),b!=="global"&&p&&(p.state.vim.options[c]={value:u}))}function Qe(c,u,p){var m=fe[c];p=p||{};var O=p.scope;if(!m)return new Error("Unknown option: "+c);if(m.callback){var b=u&&m.callback(void 0,u);return O!=="global"&&b!==void 0?b:O!=="local"?m.callback():void 0}else{var b=O!=="global"&&u&&u.state.vim.options[c];return(b||O!=="local"&&m||{}).value}}de("filetype",void 0,"string",["ft"],function(c,u){if(u!==void 0)if(c===void 0){var p=u.getOption("mode");return p=="null"?"":p}else{var p=c==""?"null":c;u.setOption("mode",p)}}),de("textwidth",80,"number",["tw"],function(c,u){if(u!==void 0)if(c===void 0){var p=u.getOption("textwidth");return p}else{var m=Math.round(c);m>1&&u.setOption("textwidth",m)}});var Pt=function(){var c=100,u=-1,p=0,m=0,O=new Array(c);function b(x,P,Q){var D=u%c,R=O[D];function T(X){var L=++u%c,ee=O[L];ee&&ee.clear(),O[L]=x.setBookmark(X)}if(R){var A=R.find();A&&!Lt(A,P)&&T(P)}else T(P);T(Q),p=u,m=u-c+1,m<0&&(m=0)}function k(x,P){u+=P,u>p?u=p:u<m&&(u=m);var Q=O[(c+u)%c];if(Q&&!Q.find()){var D=P>0?1:-1,R,T=x.getCursor();do if(u+=D,Q=O[(c+u)%c],Q&&(R=Q.find())&&!Lt(T,R))break;while(u<p&&u>m)}return Q}function S(x,P){var Q=u,D=k(x,P);return u=Q,D&&D.find()}return{cachedCursor:void 0,add:b,find:S,move:k}},Nt=function(c){return c?{changes:c.changes,expectCursorActivityForChange:c.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};function ni(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=Nt()}ni.prototype={exitMacroRecordMode:function(){var c=Y.macroModeState;c.onRecordingDone&&c.onRecordingDone(),c.onRecordingDone=void 0,c.isRecording=!1},enterMacroRecordMode:function(c,u){var p=Y.registerController.getRegister(u);if(p){if(p.clear(),this.latestRegister=u,c.openDialog){var m=Mn("span",{class:"cm-vim-message"},"recording @"+u);this.onRecordingDone=c.openDialog(m,null,{bottom:!0})}this.isRecording=!0}}};function An(c){return c.state.vim||(c.state.vim={inputState:new Ir,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},insertMode:!1,insertModeReturn:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:null,sel:{},options:{}}),c.state.vim}var Y;function wc(){Y={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:Pt(),macroModeState:new ni,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new xc({}),searchHistoryController:new Ws,exCommandHistoryController:new Ws};for(var c in fe){var u=fe[c];u.value=u.defaultValue}}var zi,Qt={enterVimMode:l,leaveVimMode:h,buildKeyMap:function(){},getRegisterController:function(){return Y.registerController},resetVimGlobalState_:wc,getVimGlobalState_:function(){return Y},maybeInitVimState_:An,suppressErrorLogging:!1,InsertModeKey:zs,map:function(c,u,p){_t.map(c,u,p)},unmap:function(c,u){return _t.unmap(c,u)},noremap:function(c,u,p){_t.map(c,u,p,!0)},mapclear:function(c){var u=r.length,p=o,m=r.slice(0,u-p);if(r=r.slice(u-p),c)for(var O=m.length-1;O>=0;O--){var b=m[O];if(c!==b.context)if(b.context)this._mapCommand(b);else{var k=["normal","insert","visual"];for(var S in k)if(k[S]!==c){var x={};for(var P in b)x[P]=b[P];x.context=k[S],this._mapCommand(x)}}}},setOption:Xe,getOption:Qe,defineOption:de,defineEx:function(c,u,p){if(!u)u=c;else if(c.indexOf(u)!==0)throw new Error('(Vim.defineEx) "'+u+'" is not a prefix of "'+c+'", command not registered');Yc[c]=p,_t.commandMap_[u]={name:c,shortName:u,type:"api"}},handleKey:function(c,u,p){var m=this.findKey(c,u,p);if(typeof m=="function")return m()},multiSelectHandleKey:qg,findKey:function(c,u,p){var m=An(c);function O(){var P=Y.macroModeState;if(P.isRecording){if(u=="q")return P.exitMacroRecordMode(),ot(c),!0;p!="mapping"&&Ig(P,u)}}function b(){if(u=="<Esc>"){if(m.visualMode)tn(c);else if(m.insertMode)Dn(c);else return;return ot(c),!0}}function k(){if(b())return!0;m.inputState.keyBuffer.push(u);var P=m.inputState.keyBuffer.join(""),Q=u.length==1,D=ii.matchCommand(P,r,m.inputState,"insert"),R=m.inputState.changeQueue;if(D.type=="none")return ot(c),!1;if(D.type=="partial"){if(zi&&window.clearTimeout(zi),zi=Q&&window.setTimeout(function(){m.insertMode&&m.inputState.keyBuffer.length&&ot(c)},Qe("insertModeEscKeysTimeout")),Q){var T=c.listSelections();(!R||R.removed.length!=T.length)&&(R=m.inputState.changeQueue=new og),R.inserted+=u;for(var A=0;A<T.length;A++){var X=Tt(T[A].anchor,T[A].head),L=Tn(T[A].anchor,T[A].head),ee=c.getRange(X,c.state.overwrite?Ge(L,0,1):L);R.removed[A]=(R.removed[A]||"")+ee}}return!Q}if(zi&&window.clearTimeout(zi),D.command&&R){for(var T=c.listSelections(),A=0;A<T.length;A++){var te=T[A].head;c.replaceRange(R.removed[A]||"",Ge(te,0,-R.inserted.length),te,"+input")}Y.macroModeState.lastInsertModeChanges.changes.pop()}return D.command||ot(c),D.command}function S(){if(O()||b())return!0;m.inputState.keyBuffer.push(u);var P=m.inputState.keyBuffer.join("");if(/^[1-9]\d*$/.test(P))return!0;var Q=/^(\d*)(.*)$/.exec(P);if(!Q)return ot(c),!1;var D=m.visualMode?"visual":"normal",R=Q[2]||Q[1];m.inputState.operatorShortcut&&m.inputState.operatorShortcut.slice(-1)==R&&(R=m.inputState.operatorShortcut);var T=ii.matchCommand(R,r,m.inputState,D);return T.type=="none"?(ot(c),!1):T.type=="partial"?!0:T.type=="clear"?(ot(c),!0):(m.inputState.keyBuffer.length=0,Q=/^(\d*)(.*)$/.exec(P),Q[1]&&Q[1]!="0"&&m.inputState.pushRepeatDigit(Q[1]),T.command)}var x;return m.insertMode?x=k():x=S(),x===!1?!m.insertMode&&u.length===1?function(){return!0}:void 0:x===!0?function(){return!0}:function(){return c.operation(function(){c.curOp.isVimOp=!0;try{x.type=="keyToKey"?Xr(c,x.toKeys,x):ii.processCommand(c,m,x)}catch(P){throw c.state.vim=void 0,An(c),Qt.suppressErrorLogging||console.log(P),P}return!0})}},handleEx:function(c,u){_t.processCommand(c,u)},defineMotion:ag,defineAction:cg,defineOperator:lg,mapCommand:Wg,_mapCommand:_c,defineRegister:sg,exitVisualMode:tn,exitInsertMode:Dn},Wr=[],Gi=!1;function Xr(c,u,p){var m=Gi;if(p){if(Wr.indexOf(p)!=-1)return;Wr.push(p),Gi=p.noremap!=!1}try{for(var O=An(c),b=/<(?:[CSMA]-)*\w+>|./gi,k;k=b.exec(u);){var S=k[0],x=O.insertMode,P=Qt.handleKey(c,S,"mapping");if(!P&&x&&O.insertMode){if(S[0]=="<"){var Q=S.toLowerCase().slice(1,-1),D=Q.split("-");if(Q=D.pop()||"",Q=="lt")S="<";else if(Q=="space")S=" ";else if(Q=="cr")S=`
`;else if(w.hasOwnProperty(Q)){S=w[Q],eh(c,S);continue}else S=S[0],b.lastIndex=k.index+1}c.replaceSelection(S)}}}finally{Wr.pop(),Gi=Wr.length?m:!1}}function Ir(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=null,this.changeQueue=null}Ir.prototype.pushRepeatDigit=function(c){this.operator?this.motionRepeat=this.motionRepeat.concat(c):this.prefixRepeat=this.prefixRepeat.concat(c)},Ir.prototype.getRepeat=function(){var c=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(c=1,this.prefixRepeat.length>0&&(c*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(c*=parseInt(this.motionRepeat.join(""),10))),c};function ot(c,u){c.state.vim.inputState=new Ir,i.signal(c,"vim-command-done",u)}function og(){this.removed=[],this.inserted=""}function Yt(c,u,p){this.clear(),this.keyBuffer=[c||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!u,this.blockwise=!!p}Yt.prototype={setText:function(c,u,p){this.keyBuffer=[c||""],this.linewise=!!u,this.blockwise=!!p},pushText:function(c,u){u&&(this.linewise||this.keyBuffer.push(`
`),this.linewise=!0),this.keyBuffer.push(c)},pushInsertModeChanges:function(c){this.insertModeChanges.push(Nt(c))},pushSearchQuery:function(c){this.searchQueries.push(c)},clear:function(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1},toString:function(){return this.keyBuffer.join("")}};function sg(c,u){var p=Y.registerController.registers;if(!c||c.length!=1)throw Error("Register name must be 1 character");if(p[c])throw Error("Register already defined "+c);p[c]=u,q.push(c)}function xc(c){this.registers=c,this.unnamedRegister=c['"']=new Yt,c["."]=new Yt,c[":"]=new Yt,c["/"]=new Yt,c["+"]=new Yt}xc.prototype={pushText:function(c,u,p,m,O){if(c!=="_"){m&&p.charAt(p.length-1)!==`
`&&(p+=`
`);var b=this.isValidRegister(c)?this.getRegister(c):null;if(!b){switch(u){case"yank":this.registers[0]=new Yt(p,m,O);break;case"delete":case"change":p.indexOf(`
`)==-1?this.registers["-"]=new Yt(p,m):(this.shiftNumericRegisters_(),this.registers[1]=new Yt(p,m));break}this.unnamedRegister.setText(p,m,O);return}var k=le(c);k?b.pushText(p,m):b.setText(p,m,O),c==="+"&&navigator.clipboard.writeText(p),this.unnamedRegister.setText(b.toString(),m)}},getRegister:function(c){return this.isValidRegister(c)?(c=c.toLowerCase(),this.registers[c]||(this.registers[c]=new Yt),this.registers[c]):this.unnamedRegister},isValidRegister:function(c){return c&&Pe(c,q)},shiftNumericRegisters_:function(){for(var c=9;c>=2;c--)this.registers[c]=this.getRegister(""+(c-1))}};function Ws(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}Ws.prototype={nextMatch:function(c,u){var p=this.historyBuffer,m=u?-1:1;this.initialPrefix===null&&(this.initialPrefix=c);for(var O=this.iterator+m;u?O>=0:O<p.length;O+=m)for(var b=p[O],k=0;k<=b.length;k++)if(this.initialPrefix==b.substring(0,k))return this.iterator=O,b;if(O>=p.length)return this.iterator=p.length,this.initialPrefix;if(O<0)return c},pushInput:function(c){var u=this.historyBuffer.indexOf(c);u>-1&&this.historyBuffer.splice(u,1),c.length&&this.historyBuffer.push(c)},reset:function(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}};var ii={matchCommand:function(c,u,p,m){var O=hg(c,u,m,p);if(!O.full&&!O.partial)return{type:"none"};if(!O.full&&O.partial)return{type:"partial"};for(var b,k=0;k<O.full.length;k++){var S=O.full[k];b||(b=S)}if(b.keys.slice(-11)=="<character>"){var x=dg(c);if(!x||x.length>1)return{type:"clear"};p.selectedCharacter=x}return{type:"full",command:b}},processCommand:function(c,u,p){switch(u.inputState.repeatOverride=p.repeatOverride,p.type){case"motion":this.processMotion(c,u,p);break;case"operator":this.processOperator(c,u,p);break;case"operatorMotion":this.processOperatorMotion(c,u,p);break;case"action":this.processAction(c,u,p);break;case"search":this.processSearch(c,u,p);break;case"ex":case"keyToEx":this.processEx(c,u,p);break}},processMotion:function(c,u,p){u.inputState.motion=p.motion,u.inputState.motionArgs=Fr(p.motionArgs),this.evalInput(c,u)},processOperator:function(c,u,p){var m=u.inputState;if(m.operator)if(m.operator==p.operator){m.motion="expandToLine",m.motionArgs={linewise:!0},this.evalInput(c,u);return}else ot(c);m.operator=p.operator,m.operatorArgs=Fr(p.operatorArgs),p.keys.length>1&&(m.operatorShortcut=p.keys),p.exitVisualBlock&&(u.visualBlock=!1,Oi(c)),u.visualMode&&this.evalInput(c,u)},processOperatorMotion:function(c,u,p){var m=u.visualMode,O=Fr(p.operatorMotionArgs);O&&m&&O.visualLine&&(u.visualLine=!0),this.processOperator(c,u,p),m||this.processMotion(c,u,p)},processAction:function(c,u,p){var m=u.inputState,O=m.getRepeat(),b=!!O,k=Fr(p.actionArgs)||{};m.selectedCharacter&&(k.selectedCharacter=m.selectedCharacter),p.operator&&this.processOperator(c,u,p),p.motion&&this.processMotion(c,u,p),(p.motion||p.operator)&&this.evalInput(c,u),k.repeat=O||1,k.repeatIsExplicit=b,k.registerName=m.registerName,ot(c),u.lastMotion=null,p.isEdit&&this.recordLastEdit(u,m,p),gi[p.action](c,k,u)},processSearch:function(c,u,p){if(!c.getSearchCursor)return;var m=p.searchArgs.forward,O=p.searchArgs.wholeWordOnly;rn(c).setReversed(!m);var b=m?"/":"?",k=rn(c).getQuery(),S=c.getScrollInfo();function x(L,ee,te){Y.searchHistoryController.pushInput(L),Y.searchHistoryController.reset();try{Hi(c,L,ee,te)}catch{ye(c,"Invalid regex: "+L),ot(c);return}ii.processMotion(c,u,{type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:p.searchArgs.toJumplist}})}function P(L){c.scrollTo(S.left,S.top),x(L,!0,!0);var ee=Y.macroModeState;ee.isRecording&&Vg(ee,L)}function Q(L,ee,te){var J=i.keyName(L),ve,dt;J=="Up"||J=="Down"?(ve=J=="Up",dt=L.target?L.target.selectionEnd:0,ee=Y.searchHistoryController.nextMatch(ee,ve)||"",te(ee),dt&&L.target&&(L.target.selectionEnd=L.target.selectionStart=Math.min(dt,L.target.value.length))):J!="Left"&&J!="Right"&&J!="Ctrl"&&J!="Alt"&&J!="Shift"&&Y.searchHistoryController.reset();var Fe;try{Fe=Hi(c,ee,!0,!0)}catch{}Fe?c.scrollIntoView(Fc(c,!m,Fe),30):(Ys(c),c.scrollTo(S.left,S.top))}function D(L,ee,te){var J=i.keyName(L);J=="Esc"||J=="Ctrl-C"||J=="Ctrl-["||J=="Backspace"&&ee==""?(Y.searchHistoryController.pushInput(ee),Y.searchHistoryController.reset(),Hi(c,k),Ys(c),c.scrollTo(S.left,S.top),i.e_stop(L),ot(c),te(),c.focus()):J=="Up"||J=="Down"?i.e_stop(L):J=="Ctrl-U"&&(i.e_stop(L),te(""))}switch(p.searchArgs.querySrc){case"prompt":var R=Y.macroModeState;if(R.isPlaying){var X=R.replaySearchQueries.shift();x(X,!0,!1)}else Vr(c,{onClose:P,prefix:b,desc:"(JavaScript regexp)",onKeyUp:Q,onKeyDown:D});break;case"wordUnderCursor":var T=Vs(c,{noSymbol:!0}),A=!0;if(T||(T=Vs(c,{noSymbol:!1}),A=!1),!T){ye(c,"No word under cursor"),ot(c);return}var X=c.getLine(T.start.line).substring(T.start.ch,T.end.ch);A&&O?X="\\b"+X+"\\b":X=fg(X),Y.jumpList.cachedCursor=c.getCursor(),c.setCursor(T.start),x(X,!0,!1);break}},processEx:function(c,u,p){function m(b){Y.exCommandHistoryController.pushInput(b),Y.exCommandHistoryController.reset(),_t.processCommand(c,b),c.state.vim&&ot(c)}function O(b,k,S){var x=i.keyName(b),P,Q;(x=="Esc"||x=="Ctrl-C"||x=="Ctrl-["||x=="Backspace"&&k=="")&&(Y.exCommandHistoryController.pushInput(k),Y.exCommandHistoryController.reset(),i.e_stop(b),ot(c),S(),c.focus()),x=="Up"||x=="Down"?(i.e_stop(b),P=x=="Up",Q=b.target?b.target.selectionEnd:0,k=Y.exCommandHistoryController.nextMatch(k,P)||"",S(k),Q&&b.target&&(b.target.selectionEnd=b.target.selectionStart=Math.min(Q,b.target.value.length))):x=="Ctrl-U"?(i.e_stop(b),S("")):x!="Left"&&x!="Right"&&x!="Ctrl"&&x!="Alt"&&x!="Shift"&&Y.exCommandHistoryController.reset()}p.type=="keyToEx"?_t.processCommand(c,p.exArgs.input):u.visualMode?Vr(c,{onClose:m,prefix:":",value:"'<,'>",onKeyDown:O,selectValueOnOpen:!1}):Vr(c,{onClose:m,prefix:":",onKeyDown:O})},evalInput:function(c,u){var p=u.inputState,m=p.motion,O=p.motionArgs||{},b=p.operator,k=p.operatorArgs||{},S=p.registerName,x=u.sel,P=Ce(u.visualMode?vt(c,x.head):c.getCursor("head")),Q=Ce(u.visualMode?vt(c,x.anchor):c.getCursor("anchor")),D=Ce(P),R=Ce(Q),T,A,X;if(b&&this.recordLastEdit(u,p),p.repeatOverride!==void 0?X=p.repeatOverride:X=p.getRepeat(),X>0&&O.explicitRepeat?O.repeatIsExplicit=!0:(O.noRepeat||!O.explicitRepeat&&X===0)&&(X=1,O.repeatIsExplicit=!1),p.selectedCharacter&&(O.selectedCharacter=k.selectedCharacter=p.selectedCharacter),O.repeat=X,ot(c),m){var L=wn[m](c,P,O,u,p);if(u.lastMotion=wn[m],!L)return;if(O.toJumplist){var ee=Y.jumpList,te=ee.cachedCursor;te?(Tc(c,te,L),delete ee.cachedCursor):Tc(c,P,L)}L instanceof Array?(A=L[0],T=L[1]):T=L,T||(T=Ce(P)),u.visualMode?(u.visualBlock&&T.ch===1/0||(T=vt(c,T,D)),A&&(A=vt(c,A)),A=A||R,x.anchor=A,x.head=T,Oi(c),xn(c,u,"<",Ie(A,T)?A:T),xn(c,u,">",Ie(A,T)?T:A)):b||(T=vt(c,T,D),c.setCursor(T.line,T.ch))}if(b){if(k.lastSel){A=R;var J=k.lastSel,ve=Math.abs(J.head.line-J.anchor.line),dt=Math.abs(J.head.ch-J.anchor.ch);J.visualLine?T=new e(R.line+ve,R.ch):J.visualBlock?T=new e(R.line+ve,R.ch+dt):J.head.line==J.anchor.line?T=new e(R.line,R.ch+dt):T=new e(R.line+ve,R.ch),u.visualMode=!0,u.visualLine=J.visualLine,u.visualBlock=J.visualBlock,x=u.sel={anchor:A,head:T},Oi(c)}else u.visualMode&&(k.lastSel={anchor:Ce(x.anchor),head:Ce(x.head),visualBlock:u.visualBlock,visualLine:u.visualLine});var Fe,it,pe,me,kt;if(u.visualMode){Fe=Tt(x.head,x.anchor),it=Tn(x.head,x.anchor),pe=u.visualLine||k.linewise,me=u.visualBlock?"block":pe?"line":"char";var He=n(c,Fe,it);if(kt=Fs(c,{anchor:He.start,head:He.end},me),pe){var Ke=kt.ranges;if(me=="block")for(var Bn=0;Bn<Ke.length;Bn++)Ke[Bn].head.ch=st(c,Ke[Bn].head.line);else me=="line"&&(Ke[0].head=new e(Ke[0].head.line+1,0))}}else{if(Fe=Ce(A||R),it=Ce(T||D),Ie(it,Fe)){var Yg=Fe;Fe=it,it=Yg}pe=O.linewise||k.linewise,pe?vg(c,Fe,it):O.forward&&yg(c,Fe,it),me="char";var _g=!O.inclusive||pe,He=n(c,Fe,it);kt=Fs(c,{anchor:He.start,head:He.end},me,_g)}c.setSelections(kt.ranges,kt.primary),u.lastMotion=null,k.repeat=X,k.registerName=S,k.linewise=pe;var Hs=Xs[b](c,k,kt.ranges,R,T);u.visualMode&&tn(c,Hs!=null),Hs&&c.setCursor(Hs)}},recordLastEdit:function(c,u,p){var m=Y.macroModeState;m.isPlaying||(c.lastEditInputState=u,c.lastEditActionCommand=p,m.lastInsertModeChanges.changes=[],m.lastInsertModeChanges.expectCursorActivityForChange=!1,m.lastInsertModeChanges.visualBlock=c.visualBlock?c.sel.head.line-c.sel.anchor.line:0)}},wn={moveToTopLine:function(c,u,p){var m=_s(c).top+p.repeat-1;return new e(m,nn(c.getLine(m)))},moveToMiddleLine:function(c){var u=_s(c),p=Math.floor((u.top+u.bottom)*.5);return new e(p,nn(c.getLine(p)))},moveToBottomLine:function(c,u,p){var m=_s(c).bottom-p.repeat+1;return new e(m,nn(c.getLine(m)))},expandToLine:function(c,u,p){var m=u;return new e(m.line+p.repeat-1,1/0)},findNext:function(c,u,p){var m=rn(c),O=m.getQuery();if(O){var b=!p.forward;return b=m.isReversed()?!b:b,Ic(c,O),Fc(c,b,O,p.repeat)}},findAndSelectNextInclusive:function(c,u,p,m,O){var b=rn(c),k=b.getQuery();if(k){var S=!p.forward;S=b.isReversed()?!S:S;var x=Lg(c,S,k,p.repeat,m);if(x){if(O.operator)return x;var P=x[0],Q=new e(x[1].line,x[1].ch-1);if(m.visualMode){(m.visualLine||m.visualBlock)&&(m.visualLine=!1,m.visualBlock=!1,i.signal(c,"vim-mode-change",{mode:"visual",subMode:""}));var D=m.sel.anchor;if(D)return b.isReversed()?p.forward?[D,P]:[D,Q]:p.forward?[D,Q]:[D,P]}else m.visualMode=!0,m.visualLine=!1,m.visualBlock=!1,i.signal(c,"vim-mode-change",{mode:"visual",subMode:""});return S?[Q,P]:[P,Q]}}},goToMark:function(c,u,p,m){var O=Yr(c,m,p.selectedCharacter);return O?p.linewise?{line:O.line,ch:nn(c.getLine(O.line))}:O:null},moveToOtherHighlightedEnd:function(c,u,p,m){if(m.visualBlock&&p.sameLine){var O=m.sel;return[vt(c,new e(O.anchor.line,O.head.ch)),vt(c,new e(O.head.line,O.anchor.ch))]}else return[m.sel.head,m.sel.anchor]},jumpToMark:function(c,u,p,m){for(var O=u,b=0;b<p.repeat;b++){var k=O;for(var S in m.marks)if(K(S)){var x=m.marks[S].find(),P=p.forward?Ie(x,k):Ie(k,x);if(!P&&!(p.linewise&&x.line==k.line)){var Q=Lt(k,O),D=p.forward?Qc(k,x,O):Qc(O,x,k);(Q||D)&&(O=x)}}}return p.linewise&&(O=new e(O.line,nn(c.getLine(O.line)))),O},moveByCharacters:function(c,u,p){var m=u,O=p.repeat,b=p.forward?m.ch+O:m.ch-O;return new e(m.line,b)},moveByLines:function(c,u,p,m){var O=u,b=O.ch;switch(m.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:b=m.lastHPos;break;default:m.lastHPos=b}var k=p.repeat+(p.repeatOffset||0),S=p.forward?O.line+k:O.line-k,x=c.firstLine(),P=c.lastLine(),Q=c.findPosV(O,p.forward?k:-k,"line",m.lastHSPos),D=p.forward?Q.line>S:Q.line<S;return D&&(S=Q.line,b=Q.ch),S<x&&O.line==x?this.moveToStartOfLine(c,u,p,m):S>P&&O.line==P?Rc(c,u,p,m,!0):(p.toFirstChar&&(b=nn(c.getLine(S)),m.lastHPos=b),m.lastHSPos=c.charCoords(new e(S,b),"div").left,new e(S,b))},moveByDisplayLines:function(c,u,p,m){var O=u;switch(m.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:m.lastHSPos=c.charCoords(O,"div").left}var b=p.repeat,k=c.findPosV(O,p.forward?b:-b,"line",m.lastHSPos);if(k.hitSide)if(p.forward)var S=c.charCoords(k,"div"),x={top:S.top+8,left:m.lastHSPos},k=c.coordsChar(x,"div");else{var P=c.charCoords(new e(c.firstLine(),0),"div");P.left=m.lastHSPos,k=c.coordsChar(P,"div")}return m.lastHPos=k.ch,k},moveByPage:function(c,u,p){var m=u,O=p.repeat;return c.findPosV(m,p.forward?O:-O,"page")},moveByParagraph:function(c,u,p){var m=p.forward?1:-1;return jc(c,u,p.repeat,m)},moveBySentence:function(c,u,p){var m=p.forward?1:-1;return Cg(c,u,p.repeat,m)},moveByScroll:function(c,u,p,m){var O=c.getScrollInfo(),b=null,k=p.repeat;k||(k=O.clientHeight/(2*c.defaultTextHeight()));var S=c.charCoords(u,"local");if(p.repeat=k,b=wn.moveByDisplayLines(c,u,p,m),!b)return null;var x=c.charCoords(b,"local");return c.scrollTo(null,O.top+x.top-S.top),b},moveByWords:function(c,u,p){return Sg(c,u,p.repeat,!!p.forward,!!p.wordEnd,!!p.bigWord)},moveTillCharacter:function(c,u,p){var m=p.repeat,O=qs(c,m,p.forward,p.selectedCharacter,u),b=p.forward?-1:1;return Mc(b,p),O?(O.ch+=b,O):null},moveToCharacter:function(c,u,p){var m=p.repeat;return Mc(0,p),qs(c,m,p.forward,p.selectedCharacter,u)||u},moveToSymbol:function(c,u,p){var m=p.repeat;return xg(c,m,p.forward,p.selectedCharacter)||u},moveToColumn:function(c,u,p,m){var O=p.repeat;return m.lastHPos=O-1,m.lastHSPos=c.charCoords(u,"div").left,Pg(c,O)},moveToEol:function(c,u,p,m){return Rc(c,u,p,m,!1)},moveToFirstNonWhiteSpaceCharacter:function(c,u){var p=u;return new e(p.line,nn(c.getLine(p.line)))},moveToMatchedSymbol:function(c,u){for(var p=u,m=p.line,O=p.ch,b=c.getLine(m),k;O<b.length;O++)if(k=b.charAt(O),k&&se(k)){var S=c.getTokenTypeAt(new e(m,O+1));if(S!=="string"&&S!=="comment")break}if(O<b.length){var x=O==="<"||O===">"?/[(){}[\]<>]/:/[(){}[\]]/,P=c.findMatchingBracket(new e(m,O),{bracketRegex:x});return P.to}else return p},moveToStartOfLine:function(c,u){return new e(u.line,0)},moveToLineOrEdgeOfDocument:function(c,u,p){var m=p.forward?c.lastLine():c.firstLine();return p.repeatIsExplicit&&(m=p.repeat-c.getOption("firstLineNumber")),new e(m,nn(c.getLine(m)))},moveToStartOfDisplayLine:function(c){return c.execCommand("goLineLeft"),c.getCursor()},moveToEndOfDisplayLine:function(c){c.execCommand("goLineRight");var u=c.getCursor();return u.sticky=="before"&&u.ch--,u},textObjectManipulation:function(c,u,p,m){var O={"(":")",")":"(","{":"}","}":"{","[":"]","]":"[","<":">",">":"<"},b={"'":!0,'"':!0,"`":!0},k=p.selectedCharacter;k=="b"?k="(":k=="B"&&(k="{");var S=!p.textObjectInner,x,P;if(O[k]){if(P=!0,x=Nc(c,u,k,S),!x){var Q=c.getSearchCursor(new RegExp("\\"+k,"g"),u);Q.find()&&(x=Nc(c,Q.from(),k,S))}}else if(b[k])P=!0,x=$g(c,u,k,S);else if(k==="W"||k==="w")for(var D=p.repeat||1;D-- >0;){var R=Vs(c,{inclusive:S,innerWord:!S,bigWord:k==="W",noSymbol:k==="W",multiline:!0},x&&x.end);R&&(x||(x=R),x.end=R.end)}else if(k==="p")if(x=jc(c,u,p.repeat,0,S),p.linewise=!0,m.visualMode)m.visualLine||(m.visualLine=!0);else{var T=m.inputState.operatorArgs;T&&(T.linewise=!0),x.end.line--}else if(k==="t")x=kg(c,u,S);else if(k==="s"){var A=c.getLine(u.line);u.ch>0&&We(A[u.ch])&&(u.ch-=1);var X=Uc(c,u,p.repeat,1,S),L=Uc(c,u,p.repeat,-1,S);ce(c.getLine(L.line)[L.ch])&&ce(c.getLine(X.line)[X.ch-1])&&(L={line:L.line,ch:L.ch+1}),x={start:L,end:X}}return x?c.state.vim.visualMode?Og(c,x.start,x.end,P):[x.start,x.end]:null},repeatLastCharacterSearch:function(c,u,p){var m=Y.lastCharacterSearch,O=p.repeat,b=p.forward===m.forward,k=(m.increment?1:0)*(b?-1:1);c.moveH(-k,"char"),p.inclusive=!!b;var S=qs(c,O,b,m.selectedCharacter);return S?(S.ch+=k,S):(c.moveH(k,"char"),u)}};function ag(c,u){wn[c]=u}function Sc(c,u){for(var p=[],m=0;m<u;m++)p.push(c);return p}var Xs={change:function(c,u,p){var m,O,b=c.state.vim,k=p[0].anchor,S=p[0].head;if(b.visualMode)if(u.fullLine)S.ch=Number.MAX_VALUE,S.line--,c.setSelection(k,S),O=c.getSelection(),c.replaceSelection(""),m=k;else{O=c.getSelection();var Q=Sc("",p.length);c.replaceSelections(Q),m=Tt(p[0].head,p[0].anchor)}else{O=c.getRange(k,S);var x=b.lastEditInputState||{};if(x.motion=="moveByWords"&&!ce(O)){var P=/\s+$/.exec(O);P&&x.motionArgs&&x.motionArgs.forward&&(S=Ge(S,0,-P[0].length),O=O.slice(0,-P[0].length))}u.linewise&&(k=new e(k.line,nn(c.getLine(k.line))),S.line>k.line&&(S=new e(S.line-1,Number.MAX_VALUE))),c.replaceRange("",k,S),m=k}Y.registerController.pushText(u.registerName,"change",O,u.linewise,p.length>1),gi.enterInsertMode(c,{head:m},c.state.vim)},delete:function(c,u,p){var m,O,b=c.state.vim;if(b.visualBlock){O=c.getSelection();var x=Sc("",p.length);c.replaceSelections(x),m=Tt(p[0].head,p[0].anchor)}else{var k=p[0].anchor,S=p[0].head;u.linewise&&S.line!=c.firstLine()&&k.line==c.lastLine()&&k.line==S.line-1&&(k.line==c.firstLine()?k.ch=0:k=new e(k.line-1,st(c,k.line-1))),O=c.getRange(k,S),c.replaceRange("",k,S),m=k,u.linewise&&(m=wn.moveToFirstNonWhiteSpaceCharacter(c,k))}return Y.registerController.pushText(u.registerName,"delete",O,u.linewise,b.visualBlock),vt(c,m)},indent:function(c,u,p){var m=c.state.vim;if(c.indentMore)for(var O=m.visualMode?u.repeat:1,b=0;b<O;b++)u.indentRight?c.indentMore():c.indentLess();else{var k=p[0].anchor.line,S=m.visualBlock?p[p.length-1].anchor.line:p[0].head.line,O=m.visualMode?u.repeat:1;u.linewise&&S--;for(var x=k;x<=S;x++)for(var b=0;b<O;b++)c.indentLine(x,u.indentRight)}return wn.moveToFirstNonWhiteSpaceCharacter(c,p[0].anchor)},indentAuto:function(c,u,p){return c.execCommand("indentAuto"),wn.moveToFirstNonWhiteSpaceCharacter(c,p[0].anchor)},hardWrap:function(c,u,p,m,O){if(c.hardWrap){var b=p[0].anchor.line,k=p[0].head.line;u.linewise&&k--;var S=c.hardWrap({from:b,to:k});return S>b&&u.linewise&&S--,u.keepCursor?m:new e(S,0)}},changeCase:function(c,u,p,m,O){for(var b=c.getSelections(),k=[],S=u.toLower,x=0;x<b.length;x++){var P=b[x],Q="";if(S===!0)Q=P.toLowerCase();else if(S===!1)Q=P.toUpperCase();else for(var D=0;D<P.length;D++){var R=P.charAt(D);Q+=le(R)?R.toLowerCase():R.toUpperCase()}k.push(Q)}return c.replaceSelections(k),u.shouldMoveCursor?O:!c.state.vim.visualMode&&u.linewise&&p[0].anchor.line+1==p[0].head.line?wn.moveToFirstNonWhiteSpaceCharacter(c,m):u.linewise?m:Tt(p[0].anchor,p[0].head)},yank:function(c,u,p,m){var O=c.state.vim,b=c.getSelection(),k=O.visualMode?Tt(O.sel.anchor,O.sel.head,p[0].head,p[0].anchor):m;return Y.registerController.pushText(u.registerName,"yank",b,u.linewise,O.visualBlock),k}};function lg(c,u){Xs[c]=u}var gi={jumpListWalk:function(c,u,p){if(!p.visualMode){var m=u.repeat,O=u.forward,b=Y.jumpList,k=b.move(c,O?m:-m),S=k?k.find():void 0;S=S||c.getCursor(),c.setCursor(S)}},scroll:function(c,u,p){if(!p.visualMode){var m=u.repeat||1,O=c.defaultTextHeight(),b=c.getScrollInfo().top,k=O*m,S=u.forward?b+k:b-k,x=Ce(c.getCursor()),P=c.charCoords(x,"local");if(u.forward)S>P.top?(x.line+=(S-P.top)/O,x.line=Math.ceil(x.line),c.setCursor(x),P=c.charCoords(x,"local"),c.scrollTo(null,P.top)):c.scrollTo(null,S);else{var Q=S+c.getScrollInfo().clientHeight;Q<P.bottom?(x.line-=(P.bottom-Q)/O,x.line=Math.floor(x.line),c.setCursor(x),P=c.charCoords(x,"local"),c.scrollTo(null,P.bottom-c.getScrollInfo().clientHeight)):c.scrollTo(null,S)}}},scrollToCursor:function(c,u){var p=c.getCursor().line,m=c.charCoords(new e(p,0),"local"),O=c.getScrollInfo().clientHeight,b=m.top;switch(u.position){case"center":b=m.bottom-O/2;break;case"bottom":var k=new e(p,c.getLine(p).length-1),S=c.charCoords(k,"local"),x=S.bottom-b;b=b-O+x;break}c.scrollTo(null,b)},replayMacro:function(c,u,p){var m=u.selectedCharacter,O=u.repeat,b=Y.macroModeState;for(m=="@"?m=b.latestRegister:b.latestRegister=m;O--;)Xg(c,p,b,m)},enterMacroRecordMode:function(c,u){var p=Y.macroModeState,m=u.selectedCharacter;Y.registerController.isValidRegister(m)&&p.enterMacroRecordMode(c,m)},toggleOverwrite:function(c){c.state.overwrite?(c.toggleOverwrite(!1),c.setOption("keyMap","vim-insert"),i.signal(c,"vim-mode-change",{mode:"insert"})):(c.toggleOverwrite(!0),c.setOption("keyMap","vim-replace"),i.signal(c,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(c,u,p){if(!c.getOption("readOnly")){p.insertMode=!0,p.insertModeRepeat=u&&u.repeat||1;var m=u?u.insertAt:null,O=p.sel,b=u.head||c.getCursor("head"),k=c.listSelections().length;if(m=="eol")b=new e(b.line,st(c,b.line));else if(m=="bol")b=new e(b.line,0);else if(m=="charAfter"){var S=n(c,b,Ge(b,0,1));b=S.end}else if(m=="firstNonBlank"){var S=n(c,b,wn.moveToFirstNonWhiteSpaceCharacter(c,b));b=S.end}else if(m=="startOfSelectedArea"){if(!p.visualMode)return;p.visualBlock?(b=new e(Math.min(O.head.line,O.anchor.line),Math.min(O.head.ch,O.anchor.ch)),k=Math.abs(O.head.line-O.anchor.line)+1):O.head.line<O.anchor.line?b=O.head:b=new e(O.anchor.line,0)}else if(m=="endOfSelectedArea"){if(!p.visualMode)return;p.visualBlock?(b=new e(Math.min(O.head.line,O.anchor.line),Math.max(O.head.ch,O.anchor.ch)+1),k=Math.abs(O.head.line-O.anchor.line)+1):O.head.line>=O.anchor.line?b=Ge(O.head,0,1):b=new e(O.anchor.line,0)}else if(m=="inplace"){if(p.visualMode)return}else m=="lastEdit"&&(b=Vc(c)||b);c.setOption("disableInput",!1),u&&u.replace?(c.toggleOverwrite(!0),c.setOption("keyMap","vim-replace"),i.signal(c,"vim-mode-change",{mode:"replace"})):(c.toggleOverwrite(!1),c.setOption("keyMap","vim-insert"),i.signal(c,"vim-mode-change",{mode:"insert"})),Y.macroModeState.isPlaying||(c.on("change",zc),p.insertEnd&&p.insertEnd.clear(),p.insertEnd=c.setBookmark(b,{insertLeft:!0}),i.on(c.getInputField(),"keydown",Kc)),p.visualMode&&tn(c),$c(c,b,k)}},toggleVisualMode:function(c,u,p){var m=u.repeat,O=c.getCursor(),b;if(p.visualMode)p.visualLine^u.linewise||p.visualBlock^u.blockwise?(p.visualLine=!!u.linewise,p.visualBlock=!!u.blockwise,i.signal(c,"vim-mode-change",{mode:"visual",subMode:p.visualLine?"linewise":p.visualBlock?"blockwise":""}),Oi(c)):tn(c);else{p.visualMode=!0,p.visualLine=!!u.linewise,p.visualBlock=!!u.blockwise,b=vt(c,new e(O.line,O.ch+m-1));var k=n(c,O,b);p.sel={anchor:k.start,head:k.end},i.signal(c,"vim-mode-change",{mode:"visual",subMode:p.visualLine?"linewise":p.visualBlock?"blockwise":""}),Oi(c),xn(c,p,"<",Tt(O,b)),xn(c,p,">",Tn(O,b))}},reselectLastSelection:function(c,u,p){var m=p.lastSelection;if(p.visualMode&&Ac(c,p),m){var O=m.anchorMark.find(),b=m.headMark.find();if(!O||!b)return;p.sel={anchor:O,head:b},p.visualMode=!0,p.visualLine=m.visualLine,p.visualBlock=m.visualBlock,Oi(c),xn(c,p,"<",Tt(O,b)),xn(c,p,">",Tn(O,b)),i.signal(c,"vim-mode-change",{mode:"visual",subMode:p.visualLine?"linewise":p.visualBlock?"blockwise":""})}},joinLines:function(c,u,p){var m,O;if(p.visualMode){if(m=c.getCursor("anchor"),O=c.getCursor("head"),Ie(O,m)){var b=O;O=m,m=b}O.ch=st(c,O.line)-1}else{var k=Math.max(u.repeat,2);m=c.getCursor(),O=vt(c,new e(m.line+k-1,1/0))}for(var S=0,x=m.line;x<O.line;x++){S=st(c,m.line);var P="",Q=0;if(!u.keepSpaces){var D=c.getLine(m.line+1);Q=D.search(/\S/),Q==-1?Q=D.length:P=" "}c.replaceRange(P,new e(m.line,S),new e(m.line+1,Q))}var R=vt(c,new e(m.line,S));p.visualMode&&tn(c,!1),c.setCursor(R)},newLineAndEnterInsertMode:function(c,u,p){p.insertMode=!0;var m=Ce(c.getCursor());if(m.line===c.firstLine()&&!u.after)c.replaceRange(`
`,new e(c.firstLine(),0)),c.setCursor(c.firstLine(),0);else{m.line=u.after?m.line:m.line-1,m.ch=st(c,m.line),c.setCursor(m);var O=i.commands.newlineAndIndentContinueComment||i.commands.newlineAndIndent;O(c)}this.enterInsertMode(c,{repeat:u.repeat},p)},paste:function(c,u,p){var m=Y.registerController.getRegister(u.registerName);if(u.registerName==="+")navigator.clipboard.readText().then(b=>{this.continuePaste(c,u,p,b,m)});else{var O=m.toString();this.continuePaste(c,u,p,O,m)}},continuePaste:function(c,u,p,m,O){var b=Ce(c.getCursor());if(m){if(u.matchIndent){var k=c.getOption("tabSize"),S=function(He){var Ke=He.split("	").length-1,Bn=He.split(" ").length-1;return Ke*k+Bn*1},x=c.getLine(c.getCursor().line),P=S(x.match(/^\s*/)[0]),Q=m.replace(/\n$/,""),D=m!==Q,R=S(m.match(/^\s*/)[0]),m=Q.replace(/^\s*/gm,function(He){var Ke=P+(S(He)-R);if(Ke<0)return"";if(c.getOption("indentWithTabs")){var Bn=Math.floor(Ke/k);return Array(Bn+1).join("	")}else return Array(Ke+1).join(" ")});m+=D?`
`:""}if(u.repeat>1)var m=Array(u.repeat+1).join(m);var T=O.linewise,A=O.blockwise;if(A){m=m.split(`
`),T&&m.pop();for(var X=0;X<m.length;X++)m[X]=m[X]==""?" ":m[X];b.ch+=u.after?1:0,b.ch=Math.min(st(c,b.line),b.ch)}else T?p.visualMode?m=p.visualLine?m.slice(0,-1):`
`+m.slice(0,m.length-1)+`
`:u.after?(m=`
`+m.slice(0,m.length-1),b.ch=st(c,b.line)):b.ch=0:b.ch+=u.after?1:0;var L;if(p.visualMode){p.lastPastedText=m;var ee,te=gg(c,p),J=te[0],ve=te[1],dt=c.getSelection(),Fe=c.listSelections(),it=new Array(Fe.length).join("1").split("1");p.lastSelection&&(ee=p.lastSelection.headMark.find()),Y.registerController.unnamedRegister.setText(dt),A?(c.replaceSelections(it),ve=new e(J.line+m.length-1,J.ch),c.setCursor(J),Cc(c,ve),c.replaceSelections(m),L=J):p.visualBlock?(c.replaceSelections(it),c.setCursor(J),c.replaceRange(m,J,J),L=J):(c.replaceRange(m,J,ve),L=c.posFromIndex(c.indexFromPos(J)+m.length-1)),ee&&(p.lastSelection.headMark=c.setBookmark(ee)),T&&(L.ch=0)}else if(A){c.setCursor(b);for(var X=0;X<m.length;X++){var pe=b.line+X;pe>c.lastLine()&&c.replaceRange(`
`,new e(pe,0));var me=st(c,pe);me<b.ch&&pg(c,pe,b.ch)}c.setCursor(b),Cc(c,new e(b.line+m.length-1,b.ch)),c.replaceSelections(m),L=b}else if(c.replaceRange(m,b),T){var pe=u.after?b.line+1:b.line;L=new e(pe,nn(c.getLine(pe)))}else L=Ce(b),/\n/.test(m)||(L.ch+=m.length-(u.after?1:0));p.visualMode&&tn(c,!1),c.setCursor(L)}},undo:function(c,u){c.operation(function(){Pc(c,i.commands.undo,u.repeat)(),c.setCursor(vt(c,c.getCursor("start")))})},redo:function(c,u){Pc(c,i.commands.redo,u.repeat)()},setRegister:function(c,u,p){p.inputState.registerName=u.selectedCharacter},insertRegister:function(c,u,p){var m=u.selectedCharacter,O=Y.registerController.getRegister(m),b=O&&O.toString();b&&c.replaceSelection(b)},oneNormalCommand:function(c,u,p){Dn(c,!0),p.insertModeReturn=!0,i.on(c,"vim-command-done",function m(){p.visualMode||(p.insertModeReturn&&(p.insertModeReturn=!1,p.insertMode||gi.enterInsertMode(c,{},p)),i.off(c,"vim-command-done",m))})},setMark:function(c,u,p){var m=u.selectedCharacter;xn(c,p,m,c.getCursor())},replace:function(c,u,p){var m=u.selectedCharacter,O=c.getCursor(),b,k,S=c.listSelections();if(p.visualMode)O=c.getCursor("start"),k=c.getCursor("end");else{var x=c.getLine(O.line);b=O.ch+u.repeat,b>x.length&&(b=x.length),k=new e(O.line,b)}var P=n(c,O,k);if(O=P.start,k=P.end,m==`
`)p.visualMode||c.replaceRange("",O,k),(i.commands.newlineAndIndentContinueComment||i.commands.newlineAndIndent)(c);else{var Q=c.getRange(O,k);if(Q=Q.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m),Q=Q.replace(/[^\n]/g,m),p.visualBlock){var D=new Array(c.getOption("tabSize")+1).join(" ");Q=c.getSelection(),Q=Q.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m),Q=Q.replace(/\t/g,D).replace(/[^\n]/g,m).split(`
`),c.replaceSelections(Q)}else c.replaceRange(Q,O,k);p.visualMode?(O=Ie(S[0].anchor,S[0].head)?S[0].anchor:S[0].head,c.setCursor(O),tn(c,!1)):c.setCursor(Ge(k,0,-1))}},incrementNumberToken:function(c,u){for(var p=c.getCursor(),m=c.getLine(p.line),O=/(-?)(?:(0x)([\da-f]+)|(0b|0|)(\d+))/gi,b,k,S,x;(b=O.exec(m))!==null&&(k=b.index,S=k+b[0].length,!(p.ch<S)););if(!(!u.backtrack&&S<=p.ch)){if(b){var P=b[2]||b[4],Q=b[3]||b[5],D=u.increase?1:-1,R={"0b":2,0:8,"":10,"0x":16}[P.toLowerCase()],T=parseInt(b[1]+Q,R)+D*u.repeat;x=T.toString(R);var A=P?new Array(Q.length-x.length+1+b[1].length).join("0"):"";x.charAt(0)==="-"?x="-"+P+A+x.substr(1):x=P+A+x;var X=new e(p.line,k),L=new e(p.line,S);c.replaceRange(x,X,L)}else return;c.setCursor(new e(p.line,k+x.length-1))}},repeatLastEdit:function(c,u,p){var m=p.lastEditInputState;if(m){var O=u.repeat;O&&u.repeatIsExplicit?p.lastEditInputState.repeatOverride=O:O=p.lastEditInputState.repeatOverride||O,Jc(c,p,O,!1)}},indent:function(c,u){c.indentLine(c.getCursor().line,u.indentRight)},exitInsertMode:Dn};function cg(c,u){gi[c]=u}function vt(c,u,p){var m=c.state.vim,O=m.insertMode||m.visualMode,b=Math.min(Math.max(c.firstLine(),u.line),c.lastLine()),k=c.getLine(b),S=k.length-1+ +!!O,x=Math.min(Math.max(0,u.ch),S),P=k.charCodeAt(x);if(56320<=P&&P<=57343){var Q=1;p&&p.line==b&&p.ch>x&&(Q=-1),x+=Q,x>S&&(x-=2)}return new e(b,x)}function Fr(c){var u={};for(var p in c)c.hasOwnProperty(p)&&(u[p]=c[p]);return u}function Ge(c,u,p){return typeof u=="object"&&(p=u.ch,u=u.line),new e(c.line+u,c.ch+p)}function hg(c,u,p,m){m.operator&&(p="operatorPending");for(var O,b=[],k=[],S=Gi?u.length-o:0,x=S;x<u.length;x++){var P=u[x];p=="insert"&&P.context!="insert"||P.context&&P.context!=p||m.operator&&P.type=="action"||!(O=ug(c,P.keys))||(O=="partial"&&b.push(P),O=="full"&&k.push(P))}return{partial:b.length&&b,full:k.length&&k}}function ug(c,u){if(u.slice(-11)=="<character>"){var p=u.length-11,m=c.slice(0,p),O=u.slice(0,p);return m==O&&c.length>p?"full":O.indexOf(m)==0?"partial":!1}else return c==u?"full":u.indexOf(c)==0?"partial":!1}function dg(c){var u=/^.*(<[^>]+>)$/.exec(c),p=u?u[1]:c.slice(-1);if(p.length>1)switch(p){case"<CR>":p=`
`;break;case"<Space>":p=" ";break;default:p="";break}return p}function Pc(c,u,p){return function(){for(var m=0;m<p;m++)u(c)}}function Ce(c){return new e(c.line,c.ch)}function Lt(c,u){return c.ch==u.ch&&c.line==u.line}function Ie(c,u){return c.line<u.line||c.line==u.line&&c.ch<u.ch}function Tt(c,u){return arguments.length>2&&(u=Tt.apply(void 0,Array.prototype.slice.call(arguments,1))),Ie(c,u)?c:u}function Tn(c,u){return arguments.length>2&&(u=Tn.apply(void 0,Array.prototype.slice.call(arguments,1))),Ie(c,u)?u:c}function Qc(c,u,p){var m=Ie(c,u),O=Ie(u,p);return m&&O}function st(c,u){return c.getLine(u).length}function Is(c){return c.trim?c.trim():c.replace(/^\s+|\s+$/g,"")}function fg(c){return c.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}function pg(c,u,p){var m=st(c,u),O=new Array(p-m+1).join(" ");c.setCursor(new e(u,m)),c.replaceRange(O,c.getCursor())}function Cc(c,u){var p=[],m=c.listSelections(),O=Ce(c.clipPos(u)),b=!Lt(u,O),k=c.getCursor("head"),S=mg(m,k),x=Lt(m[S].head,m[S].anchor),P=m.length-1,Q=P-S>S?P:0,D=m[Q].anchor,R=Math.min(D.line,O.line),T=Math.max(D.line,O.line),A=D.ch,X=O.ch,L=m[Q].head.ch-A,ee=X-A;L>0&&ee<=0?(A++,b||X--):L<0&&ee>=0?(A--,x||X++):L<0&&ee==-1&&(A--,X++);for(var te=R;te<=T;te++){var J={anchor:new e(te,A),head:new e(te,X)};p.push(J)}return c.setSelections(p),u.ch=X,D.ch=A,D}function $c(c,u,p){for(var m=[],O=0;O<p;O++){var b=Ge(u,O,0);m.push({anchor:b,head:b})}c.setSelections(m,0)}function mg(c,u,p){for(var m=0;m<c.length;m++){var O=p!="head"&&Lt(c[m].anchor,u),b=p!="anchor"&&Lt(c[m].head,u);if(O||b)return m}return-1}function gg(c,u){var p=u.lastSelection,m=function(){var b=c.listSelections(),k=b[0],S=b[b.length-1],x=Ie(k.anchor,k.head)?k.anchor:k.head,P=Ie(S.anchor,S.head)?S.head:S.anchor;return[x,P]},O=function(){var b=c.getCursor(),k=c.getCursor(),S=p.visualBlock;if(S){var x=S.width,P=S.height;k=new e(b.line+P,b.ch+x);for(var Q=[],D=b.line;D<k.line;D++){var R=new e(D,b.ch),T=new e(D,k.ch),A={anchor:R,head:T};Q.push(A)}c.setSelections(Q)}else{var X=p.anchorMark.find(),L=p.headMark.find(),ee=L.line-X.line,te=L.ch-X.ch;k={line:k.line+ee,ch:ee?k.ch:te+k.ch},p.visualLine&&(b=new e(b.line,0),k=new e(k.line,st(c,k.line))),c.setSelection(b,k)}return[b,k]};return u.visualMode?m():O()}function Ac(c,u){var p=u.sel.anchor,m=u.sel.head;u.lastPastedText&&(m=c.posFromIndex(c.indexFromPos(p)+u.lastPastedText.length),u.lastPastedText=null),u.lastSelection={anchorMark:c.setBookmark(p),headMark:c.setBookmark(m),anchor:Ce(p),head:Ce(m),visualMode:u.visualMode,visualLine:u.visualLine,visualBlock:u.visualBlock}}function Og(c,u,p,m){var O=c.state.vim.sel,b=m?u:O.head,k=m?u:O.anchor,S;return Ie(p,u)&&(S=p,p=u,u=S),Ie(b,k)?(b=Tt(u,b),k=Tn(k,p)):(k=Tt(u,k),b=Tn(b,p),b=Ge(b,0,-1),b.ch==-1&&b.line!=c.firstLine()&&(b=new e(b.line-1,st(c,b.line-1)))),[k,b]}function Oi(c,u,O){var m=c.state.vim;u=u||m.sel;var O=O||m.visualLine?"line":m.visualBlock?"block":"char",b=Fs(c,u,O);c.setSelections(b.ranges,b.primary)}function Fs(c,u,p,m){var O=Ce(u.head),b=Ce(u.anchor);if(p=="char"){var k=!m&&!Ie(u.head,u.anchor)?1:0,S=Ie(u.head,u.anchor)?1:0;return O=Ge(u.head,0,k),b=Ge(u.anchor,0,S),{ranges:[{anchor:b,head:O}],primary:0}}else if(p=="line"){if(Ie(u.head,u.anchor))O.ch=0,b.ch=st(c,b.line);else{b.ch=0;var x=c.lastLine();O.line>x&&(O.line=x),O.ch=st(c,O.line)}return{ranges:[{anchor:b,head:O}],primary:0}}else if(p=="block"){var P=Math.min(b.line,O.line),Q=b.ch,D=Math.max(b.line,O.line),R=O.ch;Q<R?R+=1:Q+=1;for(var T=D-P+1,A=O.line==P?0:T-1,X=[],L=0;L<T;L++)X.push({anchor:new e(P+L,Q),head:new e(P+L,R)});return{ranges:X,primary:A}}}function bg(c){var u=c.getCursor("head");return c.getSelection().length==1&&(u=Tt(u,c.getCursor("anchor"))),u}function tn(c,u){var p=c.state.vim;u!==!1&&c.setCursor(vt(c,p.sel.head)),Ac(c,p),p.visualMode=!1,p.visualLine=!1,p.visualBlock=!1,p.insertMode||i.signal(c,"vim-mode-change",{mode:"normal"})}function yg(c,u,p){var m=c.getRange(u,p);if(/\n\s*$/.test(m)){var O=m.split(`
`);O.pop();for(var b,b=O.pop();O.length>0&&b&&ce(b);b=O.pop())p.line--,p.ch=0;b?(p.line--,p.ch=st(c,p.line)):p.ch=0}}function vg(c,u,p){u.ch=0,p.ch=0,p.line++}function nn(c){if(!c)return 0;var u=c.search(/\S/);return u==-1?c.length:u}function Vs(c,{inclusive:u,innerWord:p,bigWord:m,noSymbol:O,multiline:b},k){var S=k||bg(c),x=c.getLine(S.line),P=x,Q=S.line,D=Q,R=S.ch,T,A=O?Z[0]:W[0];if(p&&/\s/.test(x.charAt(R)))A=function(ve){return/\s/.test(ve)};else{for(;!A(x.charAt(R));)if(R++,R>=x.length){if(!b)return null;R--,T=Bc(c,S,!0,m,!0);break}m?A=W[0]:(A=Z[0],A(x.charAt(R))||(A=Z[1]))}for(var X=R,L=R;A(x.charAt(L))&&L>=0;)L--;if(L++,T)X=T.to,D=T.line,P=c.getLine(D),!P&&X==0&&X++;else for(;A(x.charAt(X))&&X<x.length;)X++;if(u){var ee=X,te=S.ch<=L&&/\s/.test(x.charAt(S.ch));if(!te)for(;/\s/.test(P.charAt(X))&&X<P.length;)X++;if(ee==X||te){for(var J=L;/\s/.test(x.charAt(L-1))&&L>0;)L--;!L&&!te&&(L=J)}}return{start:new e(Q,L),end:new e(D,X)}}function kg(c,u,p){var m=u;if(!i.findMatchingTag||!i.findEnclosingTag)return{start:m,end:m};var O=i.findMatchingTag(c,u)||i.findEnclosingTag(c,u);return!O||!O.open||!O.close?{start:m,end:m}:p?{start:O.open.from,end:O.close.to}:{start:O.open.to,end:O.close.from}}function Tc(c,u,p){Lt(u,p)||Y.jumpList.add(c,u,p)}function Mc(c,u){Y.lastCharacterSearch.increment=c,Y.lastCharacterSearch.forward=u.forward,Y.lastCharacterSearch.selectedCharacter=u.selectedCharacter}var wg={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},Dc={bracket:{isComplete:function(c){if(c.nextCh===c.symb){if(c.depth++,c.depth>=1)return!0}else c.nextCh===c.reverseSymb&&c.depth--;return!1}},section:{init:function(c){c.curMoveThrough=!0,c.symb=(c.forward?"]":"[")===c.symb?"{":"}"},isComplete:function(c){return c.index===0&&c.nextCh===c.symb}},comment:{isComplete:function(c){var u=c.lastCh==="*"&&c.nextCh==="/";return c.lastCh=c.nextCh,u}},method:{init:function(c){c.symb=c.symb==="m"?"{":"}",c.reverseSymb=c.symb==="{"?"}":"{"},isComplete:function(c){return c.nextCh===c.symb}},preprocess:{init:function(c){c.index=0},isComplete:function(c){if(c.nextCh==="#"){var u=c.lineText.match(/^#(\w+)/)[1];if(u==="endif"){if(c.forward&&c.depth===0)return!0;c.depth++}else if(u==="if"){if(!c.forward&&c.depth===0)return!0;c.depth--}if(u==="else"&&c.depth===0)return!0}return!1}}};function xg(c,u,p,m){var O=Ce(c.getCursor()),b=p?1:-1,k=p?c.lineCount():-1,S=O.ch,x=O.line,P=c.getLine(x),Q={lineText:P,nextCh:P.charAt(S),lastCh:null,index:S,symb:m,reverseSymb:(p?{")":"(","}":"{"}:{"(":")","{":"}"})[m],forward:p,depth:0,curMoveThrough:!1},D=wg[m];if(!D)return O;var R=Dc[D].init,T=Dc[D].isComplete;for(R&&R(Q);x!==k&&u;){if(Q.index+=b,Q.nextCh=Q.lineText.charAt(Q.index),!Q.nextCh){if(x+=b,Q.lineText=c.getLine(x)||"",b>0)Q.index=0;else{var A=Q.lineText.length;Q.index=A>0?A-1:0}Q.nextCh=Q.lineText.charAt(Q.index)}T(Q)&&(O.line=x,O.ch=Q.index,u--)}return Q.nextCh||Q.curMoveThrough?new e(x,Q.index):O}function Bc(c,u,p,m,O){var b=u.line,k=u.ch,S=c.getLine(b),x=p?1:-1,P=m?W:Z;if(O&&S==""){if(b+=x,S=c.getLine(b),!_(c,b))return null;k=p?0:S.length}for(;;){if(O&&S=="")return{from:0,to:0,line:b};for(var Q=x>0?S.length:-1,D=Q,R=Q;k!=Q;){for(var T=!1,A=0;A<P.length&&!T;++A)if(P[A](S.charAt(k))){for(D=k;k!=Q&&P[A](S.charAt(k));)k+=x;if(R=k,T=D!=R,D==u.ch&&b==u.line&&R==D+x)continue;return{from:Math.min(D,R+1),to:Math.max(D,R),line:b}}T||(k+=x)}if(b+=x,!_(c,b))return null;S=c.getLine(b),k=x>0?0:S.length}}function Sg(c,u,p,m,O,b){var k=Ce(u),S=[];(m&&!O||!m&&O)&&p++;for(var x=!(m&&O),P=0;P<p;P++){var Q=Bc(c,u,m,b,x);if(!Q){var D=st(c,c.lastLine());S.push(m?{line:c.lastLine(),from:D,to:D}:{line:0,from:0,to:0});break}S.push(Q),u=new e(Q.line,m?Q.to-1:Q.from)}var R=S.length!=p,T=S[0],A=S.pop();return m&&!O?(!R&&(T.from!=k.ch||T.line!=k.line)&&(A=S.pop()),new e(A.line,A.from)):m&&O?new e(A.line,A.to-1):!m&&O?(!R&&(T.to!=k.ch||T.line!=k.line)&&(A=S.pop()),new e(A.line,A.to)):new e(A.line,A.from)}function Rc(c,u,p,m,O){var b=u,k=new e(b.line+p.repeat-1,1/0),S=c.clipPos(k);return S.ch--,O||(m.lastHPos=1/0,m.lastHSPos=c.charCoords(S,"div").left),k}function qs(c,u,p,m,O){for(var b=O||c.getCursor(),k=b.ch,S,x=0;x<u;x++){var P=c.getLine(b.line);if(S=Qg(k,P,m,p,!0),S==-1)return null;k=S}return new e(c.getCursor().line,S)}function Pg(c,u){var p=c.getCursor().line;return vt(c,new e(p,u-1))}function xn(c,u,p,m){Pe(p,H)&&(u.marks[p]&&u.marks[p].clear(),u.marks[p]=c.setBookmark(m))}function Qg(c,u,p,m,O){var b;return m?(b=u.indexOf(p,c+1),b!=-1&&!O&&(b-=1)):(b=u.lastIndexOf(p,c-1),b!=-1&&!O&&(b+=1)),b}function jc(c,u,p,m,O){var b=u.line,k=c.firstLine(),S=c.lastLine(),x,P,Q=b;function D(L){return!c.getLine(L)}function R(L,ee,te){return te?D(L)!=D(L+ee):!D(L)&&D(L+ee)}if(m){for(;k<=Q&&Q<=S&&p>0;)R(Q,m)&&p--,Q+=m;return new e(Q,0)}var T=c.state.vim;if(T.visualLine&&R(b,1,!0)){var A=T.sel.anchor;R(A.line,-1,!0)&&(!O||A.line!=b)&&(b+=1)}var X=D(b);for(Q=b;Q<=S&&p;Q++)R(Q,1,!0)&&(!O||D(Q)!=X)&&p--;for(P=new e(Q,0),Q>S&&!X?X=!0:O=!1,Q=b;Q>k&&!((!O||D(Q)==X||Q==b)&&R(Q,-1,!0));Q--);return x=new e(Q,0),{start:x,end:P}}function Uc(c,u,p,m,O){function b(P){P.pos+P.dir<0||P.pos+P.dir>=P.line.length?P.line=null:P.pos+=P.dir}function k(P,Q,D,R){var T=P.getLine(Q),A={line:T,ln:Q,pos:D,dir:R};if(A.line==="")return{ln:A.ln,pos:A.pos};var X=A.pos;for(b(A);A.line!==null;){if(X=A.pos,We(A.line[A.pos]))if(O){for(b(A);A.line!==null&&ce(A.line[A.pos]);)X=A.pos,b(A);return{ln:A.ln,pos:X+1}}else return{ln:A.ln,pos:A.pos+1};b(A)}return{ln:A.ln,pos:X+1}}function S(P,Q,D,R){var T=P.getLine(Q),A={line:T,ln:Q,pos:D,dir:R};if(A.line==="")return{ln:A.ln,pos:A.pos};var X=A.pos;for(b(A);A.line!==null;){if(!ce(A.line[A.pos])&&!We(A.line[A.pos]))X=A.pos;else if(We(A.line[A.pos]))return O?ce(A.line[A.pos+1])?{ln:A.ln,pos:A.pos+1}:{ln:A.ln,pos:X}:{ln:A.ln,pos:X};b(A)}return A.line=T,O&&ce(A.line[A.pos])?{ln:A.ln,pos:A.pos}:{ln:A.ln,pos:X}}for(var x={ln:u.line,pos:u.ch};p>0;)m<0?x=S(c,x.ln,x.pos,m):x=k(c,x.ln,x.pos,m),p--;return new e(x.ln,x.pos)}function Cg(c,u,p,m){function O(x,P){if(P.pos+P.dir<0||P.pos+P.dir>=P.line.length){if(P.ln+=P.dir,!_(x,P.ln)){P.line=null,P.ln=null,P.pos=null;return}P.line=x.getLine(P.ln),P.pos=P.dir>0?0:P.line.length-1}else P.pos+=P.dir}function b(x,P,Q,D){var L=x.getLine(P),R=L==="",T={line:L,ln:P,pos:Q,dir:D},A={ln:T.ln,pos:T.pos},X=T.line==="";for(O(x,T);T.line!==null;){if(A.ln=T.ln,A.pos=T.pos,T.line===""&&!X)return{ln:T.ln,pos:T.pos};if(R&&T.line!==""&&!ce(T.line[T.pos]))return{ln:T.ln,pos:T.pos};We(T.line[T.pos])&&!R&&(T.pos===T.line.length-1||ce(T.line[T.pos+1]))&&(R=!0),O(x,T)}var L=x.getLine(A.ln);A.pos=0;for(var ee=L.length-1;ee>=0;--ee)if(!ce(L[ee])){A.pos=ee;break}return A}function k(x,P,Q,D){var X=x.getLine(P),R={line:X,ln:P,pos:Q,dir:D},T={ln:R.ln,pos:null},A=R.line==="";for(O(x,R);R.line!==null;){if(R.line===""&&!A)return T.pos!==null?T:{ln:R.ln,pos:R.pos};if(We(R.line[R.pos])&&T.pos!==null&&!(R.ln===T.ln&&R.pos+1===T.pos))return T;R.line!==""&&!ce(R.line[R.pos])&&(A=!1,T={ln:R.ln,pos:R.pos}),O(x,R)}var X=x.getLine(T.ln);T.pos=0;for(var L=0;L<X.length;++L)if(!ce(X[L])){T.pos=L;break}return T}for(var S={ln:u.line,pos:u.ch};p>0;)m<0?S=k(c,S.ln,S.pos,m):S=b(c,S.ln,S.pos,m),p--;return new e(S.ln,S.pos)}function Nc(c,u,p,m){var O=u,b,k,S={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/,"<":/[<>]/,">":/[<>]/}[p],x={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{","<":"<",">":"<"}[p],P=c.getLine(O.line).charAt(O.ch),Q=P===x?1:0;if(b=c.scanForBracket(new e(O.line,O.ch+Q),-1,void 0,{bracketRegex:S}),k=c.scanForBracket(new e(O.line,O.ch+Q),1,void 0,{bracketRegex:S}),!b||!k)return null;if(b=b.pos,k=k.pos,b.line==k.line&&b.ch>k.ch||b.line>k.line){var D=b;b=k,k=D}return m?k.ch+=1:b.ch+=1,{start:b,end:k}}function $g(c,u,p,m){var O=Ce(u),b=c.getLine(O.line),k=b.split(""),S,x,P,Q,D=k.indexOf(p);if(O.ch<D)O.ch=D;else if(D<O.ch&&k[O.ch]==p){var R=/string/.test(c.getTokenTypeAt(Ge(u,0,1))),T=/string/.test(c.getTokenTypeAt(u)),A=R&&!T;A||(x=O.ch,--O.ch)}if(k[O.ch]==p&&!x)S=O.ch+1;else for(P=O.ch;P>-1&&!S;P--)k[P]==p&&(S=P+1);if(S&&!x)for(P=S,Q=k.length;P<Q&&!x;P++)k[P]==p&&(x=P);return!S||!x?{start:O,end:O}:(m&&(--S,++x),{start:new e(O.line,S),end:new e(O.line,x)})}de("pcre",!0,"boolean");function Lc(){}Lc.prototype={getQuery:function(){return Y.query},setQuery:function(c){Y.query=c},getOverlay:function(){return this.searchOverlay},setOverlay:function(c){this.searchOverlay=c},isReversed:function(){return Y.isReversed},setReversed:function(c){Y.isReversed=c},getScrollbarAnnotate:function(){return this.annotate},setScrollbarAnnotate:function(c){this.annotate=c}};function rn(c){var u=c.state.vim;return u.searchState_||(u.searchState_=new Lc)}function Ag(c){return Zc(c,"/")}function Tg(c){return Ec(c,"/")}function Zc(c,u){var p=Ec(c,u)||[];if(!p.length)return[];var m=[];if(p[0]===0){for(var O=0;O<p.length;O++)typeof p[O]=="number"&&m.push(c.substring(p[O]+1,p[O+1]));return m}}function Ec(c,u){u||(u="/");for(var p=!1,m=[],O=0;O<c.length;O++){var b=c.charAt(O);!p&&b==u&&m.push(O),p=!p&&b=="\\"}return m}function Mg(c){for(var u="|(){",p="}",m=!1,O=[],b=-1;b<c.length;b++){var k=c.charAt(b)||"",S=c.charAt(b+1)||"",x=S&&u.indexOf(S)!=-1;m?((k!=="\\"||!x)&&O.push(k),m=!1):k==="\\"?(m=!0,S&&p.indexOf(S)!=-1&&(x=!0),(!x||S==="\\")&&O.push(k)):(O.push(k),x&&S!=="\\"&&O.push("\\"))}return O.join("")}var Wc={"\\n":`
`,"\\r":"\r","\\t":"	"};function Dg(c){for(var u=!1,p=[],m=-1;m<c.length;m++){var O=c.charAt(m)||"",b=c.charAt(m+1)||"";Wc[O+b]?(p.push(Wc[O+b]),m++):u?(p.push(O),u=!1):O==="\\"?(u=!0,ae(b)||b==="$"?p.push("$"):b!=="/"&&b!=="\\"&&p.push("\\")):(O==="$"&&p.push("$"),p.push(O),b==="/"&&p.push("\\"))}return p.join("")}var Xc={"\\/":"/","\\\\":"\\","\\n":`
`,"\\r":"\r","\\t":"	","\\&":"&"};function Bg(c){for(var u=new i.StringStream(c),p=[];!u.eol();){for(;u.peek()&&u.peek()!="\\";)p.push(u.next());var m=!1;for(var O in Xc)if(u.match(O,!0)){m=!0,p.push(Xc[O]);break}m||p.push(u.next())}return p.join("")}function Rg(c,u,p){var m=Y.registerController.getRegister("/");if(m.setText(c),c instanceof RegExp)return c;var O=Tg(c),b,k;if(!O.length)b=c;else{b=c.substring(0,O[0]);var S=c.substring(O[0]);k=S.indexOf("i")!=-1}if(!b)return null;Qe("pcre")||(b=Mg(b)),p&&(u=/^[^A-Z]*$/.test(b));var x=new RegExp(b,u||k?"im":"m");return x}function Mn(c){typeof c=="string"&&(c=document.createElement(c));for(var u,p=1;p<arguments.length;p++)if(u=arguments[p])if(typeof u!="object"&&(u=document.createTextNode(u)),u.nodeType)c.appendChild(u);else for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(m[0]==="$"?c.style[m.slice(1)]=u[m]:c.setAttribute(m,u[m]));return c}function ye(c,u){var p=Mn("div",{$color:"red",$whiteSpace:"pre",class:"cm-vim-message"},u);c.openNotification?c.openNotification(p,{bottom:!0,duration:5e3}):alert(p.innerText)}function jg(c,u){return Mn("div",{$display:"flex"},Mn("span",{$fontFamily:"monospace",$whiteSpace:"pre",$flex:1},c,Mn("input",{type:"text",autocorrect:"off",autocapitalize:"off",spellcheck:"false",$width:"100%"})),u&&Mn("span",{$color:"#888"},u))}function Vr(c,u){var p=jg(u.prefix,u.desc);if(c.openDialog)c.openDialog(p,u.onClose,{onKeyDown:u.onKeyDown,onKeyUp:u.onKeyUp,bottom:!0,selectValueOnOpen:!1,value:u.value});else{var m="";typeof u.prefix!="string"&&u.prefix&&(m+=u.prefix.textContent),u.desc&&(m+=" "+u.desc),u.onClose(prompt(m,""))}}function Ug(c,u){if(c instanceof RegExp&&u instanceof RegExp){for(var p=["global","multiline","ignoreCase","source"],m=0;m<p.length;m++){var O=p[m];if(c[O]!==u[O])return!1}return!0}return!1}function Hi(c,u,p,m){if(u){var O=rn(c),b=Rg(u,!!p,!!m);if(b)return Ic(c,b),Ug(b,O.getQuery())||O.setQuery(b),b}}function Ng(c){if(c.source.charAt(0)=="^")var u=!0;return{token:function(p){if(u&&!p.sol()){p.skipToEnd();return}var m=p.match(c,!1);if(m)return m[0].length==0?(p.next(),"searching"):!p.sol()&&(p.backUp(1),!c.exec(p.next()+m[0]))?(p.next(),null):(p.match(c),"searching");for(;!p.eol()&&(p.next(),!p.match(c,!1)););},query:c}}var qr=0;function Ic(c,u){clearTimeout(qr),qr=setTimeout(function(){if(c.state.vim){var p=rn(c),m=p.getOverlay();(!m||u!=m.query)&&(m&&c.removeOverlay(m),m=Ng(u),c.addOverlay(m),c.showMatchesOnScrollbar&&(p.getScrollbarAnnotate()&&p.getScrollbarAnnotate().clear(),p.setScrollbarAnnotate(c.showMatchesOnScrollbar(u))),p.setOverlay(m))}},50)}function Fc(c,u,p,m){return m===void 0&&(m=1),c.operation(function(){for(var O=c.getCursor(),b=c.getSearchCursor(p,O),k=0;k<m;k++){var S=b.find(u);if(k==0&&S&&Lt(b.from(),O)){var x=u?b.from():b.to();S=b.find(u),S&&!S[0]&&Lt(b.from(),x)&&c.getLine(x.line).length==x.ch&&(S=b.find(u))}if(!S&&(b=c.getSearchCursor(p,u?new e(c.lastLine()):new e(c.firstLine(),0)),!b.find(u)))return}return b.from()})}function Lg(c,u,p,m,O){return m===void 0&&(m=1),c.operation(function(){var b=c.getCursor(),k=c.getSearchCursor(p,b),S=k.find(!u);!O.visualMode&&S&&Lt(k.from(),b)&&k.find(!u);for(var x=0;x<m;x++)if(S=k.find(u),!S&&(k=c.getSearchCursor(p,u?new e(c.lastLine()):new e(c.firstLine(),0)),!k.find(u)))return;return[k.from(),k.to()]})}function Ys(c){var u=rn(c);c.removeOverlay(rn(c).getOverlay()),u.setOverlay(null),u.getScrollbarAnnotate()&&(u.getScrollbarAnnotate().clear(),u.setScrollbarAnnotate(null))}function Zg(c,u,p){return typeof c!="number"&&(c=c.line),u instanceof Array?Pe(c,u):typeof p=="number"?c>=u&&c<=p:c==u}function _s(c){var u=c.getScrollInfo(),p=6,m=10,O=c.coordsChar({left:0,top:p+u.top},"local"),b=u.clientHeight-m+u.top,k=c.coordsChar({left:0,top:b},"local");return{top:O.line,bottom:k.line}}function Yr(c,u,p){if(p=="'"||p=="`")return Y.jumpList.find(c,-1)||new e(0,0);if(p==".")return Vc(c);var m=u.marks[p];return m&&m.find()}function Vc(c){if(c.getLastEditEnd)return c.getLastEditEnd();for(var u=c.doc.history.done,p=u.length;p--;)if(u[p].changes)return Ce(u[p].changes[0].to)}var qc=function(){this.buildCommandMap_()};qc.prototype={processCommand:function(c,u,p){var m=this;c.operation(function(){c.curOp.isVimOp=!0,m._processCommand(c,u,p)})},_processCommand:function(c,u,p){var m=c.state.vim,O=Y.registerController.getRegister(":"),b=O.toString(),k=new i.StringStream(u);O.setText(u);var S=p||{};S.input=u;try{this.parseInput_(c,k,S)}catch(D){throw ye(c,D.toString()),D}m.visualMode&&tn(c);var x,P;if(!S.commandName)S.line!==void 0&&(P="move");else if(x=this.matchCommand_(S.commandName),x){if(P=x.name,x.excludeFromCommandHistory&&O.setText(b),this.parseCommandArgs_(k,S,x),x.type=="exToKey"){for(var Q=0;Q<x.toKeys.length;Q++)Qt.handleKey(c,x.toKeys[Q],"mapping");return}else if(x.type=="exToEx"){this.processCommand(c,x.toInput);return}}if(!P){ye(c,'Not an editor command ":'+u+'"');return}try{Yc[P](c,S),(!x||!x.possiblyAsync)&&S.callback&&S.callback()}catch(D){throw ye(c,D.toString()),D}},parseInput_:function(c,u,p){u.eatWhile(":"),u.eat("%")?(p.line=c.firstLine(),p.lineEnd=c.lastLine()):(p.line=this.parseLineSpec_(c,u),p.line!==void 0&&u.eat(",")&&(p.lineEnd=this.parseLineSpec_(c,u))),p.line==null?c.state.vim.visualMode?(p.selectionLine=Yr(c,c.state.vim,"<")?.line,p.selectionLineEnd=Yr(c,c.state.vim,">")?.line):p.selectionLine=c.getCursor().line:(p.selectionLine=p.line,p.selectionLineEnd=p.lineEnd);var m=u.match(/^(\w+|!!|@@|[!#&*<=>@~])/);return m?p.commandName=m[1]:p.commandName=u.match(/.*/)[0],p},parseLineSpec_:function(c,u){var p=u.match(/^(\d+)/);if(p)return parseInt(p[1],10)-1;switch(u.next()){case".":return this.parseLineSpecOffset_(u,c.getCursor().line);case"$":return this.parseLineSpecOffset_(u,c.lastLine());case"'":var m=u.next(),O=Yr(c,c.state.vim,m);if(!O)throw new Error("Mark not set");return this.parseLineSpecOffset_(u,O.line);case"-":case"+":return u.backUp(1),this.parseLineSpecOffset_(u,c.getCursor().line);default:u.backUp(1);return}},parseLineSpecOffset_:function(c,u){var p=c.match(/^([+-])?(\d+)/);if(p){var m=parseInt(p[2],10);p[1]=="-"?u-=m:u+=m}return u},parseCommandArgs_:function(c,u,p){if(!c.eol()){u.argString=c.match(/.*/)[0];var m=p.argDelimiter||/\s+/,O=Is(u.argString).split(m);O.length&&O[0]&&(u.args=O)}},matchCommand_:function(c){for(var u=c.length;u>0;u--){var p=c.substring(0,u);if(this.commandMap_[p]){var m=this.commandMap_[p];if(m.name.indexOf(c)===0)return m}}return null},buildCommandMap_:function(){this.commandMap_={};for(var c=0;c<a.length;c++){var u=a[c],p=u.shortName||u.name;this.commandMap_[p]=u}},map:function(c,u,p,m){if(c!=":"&&c.charAt(0)==":"){if(p)throw Error("Mode not supported for ex mappings");var O=c.substring(1);u!=":"&&u.charAt(0)==":"?this.commandMap_[O]={name:O,type:"exToEx",toInput:u.substring(1),user:!0}:this.commandMap_[O]={name:O,type:"exToKey",toKeys:u,user:!0}}else if(u!=":"&&u.charAt(0)==":"){var b={keys:c,type:"keyToEx",exArgs:{input:u.substring(1)}};p&&(b.context=p),r.unshift(b)}else{var b={keys:c,type:"keyToKey",toKeys:u,noremap:!!m};p&&(b.context=p),r.unshift(b)}},unmap:function(c,u){if(c!=":"&&c.charAt(0)==":"){if(u)throw Error("Mode not supported for ex mappings");var p=c.substring(1);if(this.commandMap_[p]&&this.commandMap_[p].user)return delete this.commandMap_[p],!0}else for(var m=c,O=0;O<r.length;O++)if(m==r[O].keys&&r[O].context===u)return r.splice(O,1),!0}};var Yc={colorscheme:function(c,u){if(!u.args||u.args.length<1){ye(c,c.getOption("theme"));return}c.setOption("theme",u.args[0])},map:function(c,u,p,m){var O=u.args;if(!O||O.length<2){c&&ye(c,"Invalid mapping: "+u.input);return}_t.map(O[0],O[1],p,m)},imap:function(c,u){this.map(c,u,"insert")},nmap:function(c,u){this.map(c,u,"normal")},vmap:function(c,u){this.map(c,u,"visual")},omap:function(c,u){this.map(c,u,"operatorPending")},noremap:function(c,u){this.map(c,u,void 0,!0)},inoremap:function(c,u){this.map(c,u,"insert",!0)},nnoremap:function(c,u){this.map(c,u,"normal",!0)},vnoremap:function(c,u){this.map(c,u,"visual",!0)},onoremap:function(c,u){this.map(c,u,"operatorPending",!0)},unmap:function(c,u,p){var m=u.args;(!m||m.length<1||!_t.unmap(m[0],p))&&c&&ye(c,"No such mapping: "+u.input)},mapclear:function(c,u){Qt.mapclear()},imapclear:function(c,u){Qt.mapclear("insert")},nmapclear:function(c,u){Qt.mapclear("normal")},vmapclear:function(c,u){Qt.mapclear("visual")},omapclear:function(c,u){Qt.mapclear("operatorPending")},move:function(c,u){ii.processCommand(c,c.state.vim,{type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:u.line+1})},set:function(c,u){var p=u.args,m=u.setCfg||{};if(!p||p.length<1){c&&ye(c,"Invalid mapping: "+u.input);return}var O=p[0].split("="),b=O[0],k=O[1],S=!1,x=!1;if(b.charAt(b.length-1)=="?"){if(k)throw Error("Trailing characters: "+u.argString);b=b.substring(0,b.length-1),S=!0}else b.charAt(b.length-1)=="!"&&(b=b.substring(0,b.length-1),x=!0);k===void 0&&b.substring(0,2)=="no"&&(b=b.substring(2),k=!1);var P=fe[b]&&fe[b].type=="boolean";if(P&&(x?k=!Qe(b,c,m):k==null&&(k=!0)),!P&&k===void 0||S){var Q=Qe(b,c,m);Q instanceof Error?ye(c,Q.message):Q===!0||Q===!1?ye(c," "+(Q?"":"no")+b):ye(c,"  "+b+"="+Q)}else{var D=Xe(b,k,c,m);D instanceof Error&&ye(c,D.message)}},setlocal:function(c,u){u.setCfg={scope:"local"},this.set(c,u)},setglobal:function(c,u){u.setCfg={scope:"global"},this.set(c,u)},registers:function(c,u){var p=u.args,m=Y.registerController.registers,O=`----------Registers----------

`;if(p){var b;p=p.join("");for(var S=0;S<p.length;S++)if(b=p.charAt(S),!!Y.registerController.isValidRegister(b)){var x=m[b]||new Yt;O+='"'+b+"    "+x.toString()+`
`}}else for(var b in m){var k=m[b].toString();k.length&&(O+='"'+b+"    "+k+`
`)}ye(c,O)},sort:function(c,u){var p,m,O,b,k;function S(){if(u.argString){var pe=new i.StringStream(u.argString);if(pe.eat("!")&&(p=!0),pe.eol())return;if(!pe.eatSpace())return"Invalid arguments";var me=pe.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!me&&!pe.eol())return"Invalid arguments";if(me[1]){m=me[1].indexOf("i")!=-1,O=me[1].indexOf("u")!=-1;var kt=me[1].indexOf("d")!=-1||me[1].indexOf("n")!=-1&&1,He=me[1].indexOf("x")!=-1&&1,Ke=me[1].indexOf("o")!=-1&&1;if(kt+He+Ke>1)return"Invalid arguments";b=kt&&"decimal"||He&&"hex"||Ke&&"octal"}me[2]&&(k=new RegExp(me[2].substr(1,me[2].length-2),m?"i":""))}}var x=S();if(x){ye(c,x+": "+u.argString);return}var P=u.line||c.firstLine(),Q=u.lineEnd||u.line||c.lastLine();if(P==Q)return;var D=new e(P,0),R=new e(Q,st(c,Q)),T=c.getRange(D,R).split(`
`),A=k||(b=="decimal"?/(-?)([\d]+)/:b=="hex"?/(-?)(?:0x)?([0-9a-f]+)/i:b=="octal"?/([0-7]+)/:null),X=b=="decimal"?10:b=="hex"?16:b=="octal"?8:null,L=[],ee=[];if(b||k)for(var te=0;te<T.length;te++){var J=k?T[te].match(k):null;J&&J[0]!=""?L.push(J):!k&&A.exec(T[te])?L.push(T[te]):ee.push(T[te])}else ee=T;function ve(pe,me){if(p){var kt;kt=pe,pe=me,me=kt}m&&(pe=pe.toLowerCase(),me=me.toLowerCase());var He=b&&A.exec(pe),Ke=b&&A.exec(me);return He?(He=parseInt((He[1]+He[2]).toLowerCase(),X),Ke=parseInt((Ke[1]+Ke[2]).toLowerCase(),X),He-Ke):pe<me?-1:1}function dt(pe,me){if(p){var kt;kt=pe,pe=me,me=kt}return m&&(pe[0]=pe[0].toLowerCase(),me[0]=me[0].toLowerCase()),pe[0]<me[0]?-1:1}if(L.sort(k?dt:ve),k)for(var te=0;te<L.length;te++)L[te]=L[te].input;else b||ee.sort(ve);if(T=p?L.concat(ee):ee.concat(L),O){var Fe=T,it;T=[];for(var te=0;te<Fe.length;te++)Fe[te]!=it&&T.push(Fe[te]),it=Fe[te]}c.replaceRange(T.join(`
`),D,R)},vglobal:function(c,u){this.global(c,u)},normal:function(c,u){var p=u.argString;if(p&&p[0]=="!"&&(p=p.slice(1),Gi=!0),p=p.trimStart(),!p){ye(c,"Argument is required.");return}var m=u.line;if(typeof m=="number")for(var O=isNaN(u.lineEnd)?m:u.lineEnd,b=m;b<=O;b++)c.setCursor(b,0),Xr(c,u.argString.trimStart()),c.state.vim.insertMode&&Dn(c,!0);else Xr(c,u.argString.trimStart()),c.state.vim.insertMode&&Dn(c,!0)},global:function(c,u){var p=u.argString;if(!p){ye(c,"Regular Expression missing from global");return}var m=u.commandName[0]==="v";p[0]==="!"&&u.commandName[0]==="g"&&(m=!0,p=p.slice(1));var O=u.line!==void 0?u.line:c.firstLine(),b=u.lineEnd||u.line||c.lastLine(),k=Ag(p),S=p,x;if(k.length&&(S=k[0],x=k.slice(1,k.length).join("/")),S)try{Hi(c,S,!0,!0)}catch{ye(c,"Invalid regex: "+S);return}for(var P=rn(c).getQuery(),Q=[],D=O;D<=b;D++){var R=c.getLine(D),T=P.test(R);T!==m&&Q.push(x?c.getLineHandle(D):R)}if(!x){ye(c,Q.join(`
`));return}var A=0,X=function(){if(A<Q.length){var L=Q[A++],ee=c.getLineNumber(L);if(ee==null){X();return}var te=ee+1+x;_t.processCommand(c,te,{callback:X})}else c.releaseLineHandles&&c.releaseLineHandles()};X()},substitute:function(c,u){if(!c.getSearchCursor)throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var p=u.argString,m=p?Zc(p,p[0]):[],O,b="",k,S,x,P=!1,Q=!1;if(m.length)O=m[0],Qe("pcre")&&O!==""&&(O=new RegExp(O).source),b=m[1],b!==void 0&&(Qe("pcre")?b=Bg(b.replace(/([^\\])&/g,"$1$$&")):b=Dg(b),Y.lastSubstituteReplacePart=b),k=m[2]?m[2].split(" "):[];else if(p&&p.length){ye(c,"Substitutions should be of the form :s/pattern/replace/");return}if(k&&(S=k[0],x=parseInt(k[1]),S&&(S.indexOf("c")!=-1&&(P=!0),S.indexOf("g")!=-1&&(Q=!0),Qe("pcre")?O=O+"/"+S:O=O.replace(/\//g,"\\/")+"/"+S)),O)try{Hi(c,O,!0,!0)}catch{ye(c,"Invalid regex: "+O);return}if(b=b||Y.lastSubstituteReplacePart,b===void 0){ye(c,"No previous substitute regular expression");return}var D=rn(c),R=D.getQuery(),T=u.line!==void 0?u.line:c.getCursor().line,A=u.lineEnd||T;T==c.firstLine()&&A==c.lastLine()&&(A=1/0),x&&(T=A,A=T+x-1);var X=vt(c,new e(T,0)),L=c.getSearchCursor(R,X);Eg(c,P,Q,T,A,L,R,b,u.callback)},startinsert:function(c,u){Xr(c,u.argString=="!"?"A":"i",{})},redo:i.commands.redo,undo:i.commands.undo,write:function(c){i.commands.save?i.commands.save(c):c.save&&c.save()},nohlsearch:function(c){Ys(c)},yank:function(c){var u=Ce(c.getCursor()),p=u.line,m=c.getLine(p);Y.registerController.pushText("0","yank",m,!0,!0)},delete:function(c,u){var p=u.selectionLine,m=isNaN(u.selectionLineEnd)?p:u.selectionLineEnd;Xs.delete(c,{linewise:!0},[{anchor:new e(p,0),head:new e(m+1,0)}])},join:function(c,u){var p=u.selectionLine,m=isNaN(u.selectionLineEnd)?p:u.selectionLineEnd;c.setCursor(new e(p,0)),gi.joinLines(c,{repeat:m-p},c.state.vim)},delmarks:function(c,u){if(!u.argString||!Is(u.argString)){ye(c,"Argument required");return}for(var p=c.state.vim,m=new i.StringStream(Is(u.argString));!m.eol();){m.eatSpace();var O=m.pos;if(!m.match(/[a-zA-Z]/,!1)){ye(c,"Invalid argument: "+u.argString.substring(O));return}var b=m.next();if(m.match("-",!0)){if(!m.match(/[a-zA-Z]/,!1)){ye(c,"Invalid argument: "+u.argString.substring(O));return}var k=b,S=m.next();if(K(k)&&K(S)||le(k)&&le(S)){var x=k.charCodeAt(0),P=S.charCodeAt(0);if(x>=P){ye(c,"Invalid argument: "+u.argString.substring(O));return}for(var Q=0;Q<=P-x;Q++){var D=String.fromCharCode(x+Q);delete p.marks[D]}}else{ye(c,"Invalid argument: "+k+"-");return}}else delete p.marks[b]}}},_t=new qc;function Eg(c,u,p,m,O,b,k,S,x){c.state.vim.exMode=!0;var P=!1,Q,D,R;function T(){c.operation(function(){for(;!P;)A(),L();ee()})}function A(){var J=c.getRange(b.from(),b.to()),ve=J.replace(k,S),dt=b.to().line;b.replace(ve),D=b.to().line,O+=D-dt,R=D<dt}function X(){var J=Q&&Ce(b.to()),ve=b.findNext();return ve&&!ve[0]&&J&&Lt(b.from(),J)&&(ve=b.findNext()),ve}function L(){for(;X()&&Zg(b.from(),m,O);)if(!(!p&&b.from().line==D&&!R)){c.scrollIntoView(b.from(),30),c.setSelection(b.from(),b.to()),Q=b.from(),P=!1;return}P=!0}function ee(J){if(J&&J(),c.focus(),Q){c.setCursor(Q);var ve=c.state.vim;ve.exMode=!1,ve.lastHPos=ve.lastHSPos=Q.ch}x&&x()}function te(J,ve,dt){i.e_stop(J);var Fe=i.keyName(J);switch(Fe){case"Y":A(),L();break;case"N":L();break;case"A":var it=x;x=void 0,c.operation(T),x=it;break;case"L":A();case"Q":case"Esc":case"Ctrl-C":case"Ctrl-[":ee(dt);break}return P&&ee(dt),!0}if(L(),P){ye(c,"No matches for "+k.source);return}if(!u){T(),x&&x();return}Vr(c,{prefix:Mn("span","replace with ",Mn("strong",S)," (y/n/a/q/l)"),onKeyDown:te})}i.keyMap.vim={attach:f,detach:d,call:g};function Dn(c,u){var p=c.state.vim,m=Y.macroModeState,O=Y.registerController.getRegister("."),b=m.isPlaying,k=m.lastInsertModeChanges;b||(c.off("change",zc),p.insertEnd&&p.insertEnd.clear(),p.insertEnd=null,i.off(c.getInputField(),"keydown",Kc)),!b&&p.insertModeRepeat>1&&(Jc(c,p,p.insertModeRepeat-1,!0),p.lastEditInputState.repeatOverride=p.insertModeRepeat),delete p.insertModeRepeat,p.insertMode=!1,u||c.setCursor(c.getCursor().line,c.getCursor().ch-1),c.setOption("keyMap","vim"),c.setOption("disableInput",!0),c.toggleOverwrite(!1),O.setText(k.changes.join("")),i.signal(c,"vim-mode-change",{mode:"normal"}),m.isRecording&&Fg(m)}function _c(c){r.unshift(c)}function Wg(c,u,p,m,O){var b={keys:c,type:u};b[u]=p,b[u+"Args"]=m;for(var k in O)b[k]=O[k];_c(b)}de("insertModeEscKeysTimeout",200,"number"),i.keyMap["vim-insert"]={fallthrough:["default"],attach:f,detach:d,call:g},i.keyMap["vim-replace"]={Backspace:"goCharLeft",fallthrough:["vim-insert"],attach:f,detach:d};function Xg(c,u,p,m){var O=Y.registerController.getRegister(m);if(m==":"){O.keyBuffer[0]&&_t.processCommand(c,O.keyBuffer[0]),p.isPlaying=!1;return}var b=O.keyBuffer,k=0;p.isPlaying=!0,p.replaySearchQueries=O.searchQueries.slice(0);for(var S=0;S<b.length;S++)for(var x=b[S],P,Q;x;)if(P=/<\w+-.+?>|<\w+>|./.exec(x),Q=P[0],x=x.substring(P.index+Q.length),Qt.handleKey(c,Q,"macro"),u.insertMode){var D=O.insertModeChanges[k++].changes;Y.macroModeState.lastInsertModeChanges.changes=D,th(c,D,1),Dn(c)}p.isPlaying=!1}function Ig(c,u){if(!c.isPlaying){var p=c.latestRegister,m=Y.registerController.getRegister(p);m&&m.pushText(u)}}function Fg(c){if(!c.isPlaying){var u=c.latestRegister,p=Y.registerController.getRegister(u);p&&p.pushInsertModeChanges&&p.pushInsertModeChanges(c.lastInsertModeChanges)}}function Vg(c,u){if(!c.isPlaying){var p=c.latestRegister,m=Y.registerController.getRegister(p);m&&m.pushSearchQuery&&m.pushSearchQuery(u)}}function zc(c,u){var p=Y.macroModeState,m=p.lastInsertModeChanges;if(!p.isPlaying)for(var O=c.state.vim;u;){if(m.expectCursorActivityForChange=!0,m.ignoreCount>1)m.ignoreCount--;else if(u.origin=="+input"||u.origin=="paste"||u.origin===void 0){var b=c.listSelections().length;b>1&&(m.ignoreCount=b);var k=u.text.join(`
`);if(m.maybeReset&&(m.changes=[],m.maybeReset=!1),k)if(c.state.overwrite&&!/\n/.test(k))m.changes.push([k]);else{if(k.length>1){var S=O&&O.insertEnd&&O.insertEnd.find(),x=c.getCursor();if(S&&S.line==x.line){var P=S.ch-x.ch;P>0&&P<k.length&&(m.changes.push([k,P]),k="")}}k&&m.changes.push(k)}}u=u.next}}function Gc(c){var u=c.state.vim;if(u.insertMode){var p=Y.macroModeState;if(p.isPlaying)return;var m=p.lastInsertModeChanges;m.expectCursorActivityForChange?m.expectCursorActivityForChange=!1:(m.maybeReset=!0,u.insertEnd&&u.insertEnd.clear(),u.insertEnd=c.setBookmark(c.getCursor(),{insertLeft:!0}))}else c.curOp.isVimOp||Hc(c,u)}function Hc(c,u){var p=c.getCursor("anchor"),m=c.getCursor("head");if(u.visualMode&&!c.somethingSelected()?tn(c,!1):!u.visualMode&&!u.insertMode&&c.somethingSelected()&&(u.visualMode=!0,u.visualLine=!1,i.signal(c,"vim-mode-change",{mode:"visual"})),u.visualMode){var O=Ie(m,p)?0:-1,b=Ie(m,p)?-1:0;m=Ge(m,0,O),p=Ge(p,0,b),u.sel={anchor:p,head:m},xn(c,u,"<",Tt(m,p)),xn(c,u,">",Tn(m,p))}else u.insertMode||(u.lastHPos=c.getCursor().ch)}function zs(c){this.keyName=c}function Kc(c){var u=Y.macroModeState,p=u.lastInsertModeChanges,m=i.keyName(c);if(!m)return;function O(){return p.maybeReset&&(p.changes=[],p.maybeReset=!1),p.changes.push(new zs(m)),!0}(m.indexOf("Delete")!=-1||m.indexOf("Backspace")!=-1)&&i.lookupKey(m,"vim-insert",O)}function Jc(c,u,p,m){var O=Y.macroModeState;O.isPlaying=!0;var b=!!u.lastEditActionCommand,k=u.inputState;function S(){b?ii.processAction(c,u,u.lastEditActionCommand):ii.evalInput(c,u)}function x(Q){if(O.lastInsertModeChanges.changes.length>0){Q=u.lastEditActionCommand?Q:1;var D=O.lastInsertModeChanges;th(c,D.changes,Q)}}if(u.inputState=u.lastEditInputState,b&&u.lastEditActionCommand.interlaceInsertRepeat)for(var P=0;P<p;P++)S(),x(1);else m||S(),x(p);u.inputState=k,u.insertMode&&!m&&Dn(c),O.isPlaying=!1}function eh(c,u){i.lookupKey(u,"vim-insert",function(m){return typeof m=="string"?i.commands[m](c):m(c),!0})}function th(c,u,p){var m=c.getCursor("head"),O=Y.macroModeState.lastInsertModeChanges.visualBlock;O&&($c(c,m,O+1),p=c.listSelections().length,c.setCursor(m));for(var b=0;b<p;b++){O&&c.setCursor(Ge(m,b,0));for(var k=0;k<u.length;k++){var S=u[k];if(S instanceof zs)eh(c,S.keyName);else if(typeof S=="string")c.replaceSelection(S);else{var x=c.getCursor(),P=Ge(x,0,S[0].length-(S[1]||0));c.replaceRange(S[0],x,S[1]?x:P),c.setCursor(P)}}}O&&c.setCursor(Ge(m,0,1))}function Gs(c){var u=new c.constructor;return Object.keys(c).forEach(function(p){if(p!="insertEnd"){var m=c[p];Array.isArray(m)?m=m.slice():m&&typeof m=="object"&&m.constructor!=Object&&(m=Gs(m)),u[p]=m}}),c.sel&&(u.sel={head:c.sel.head&&Ce(c.sel.head),anchor:c.sel.anchor&&Ce(c.sel.anchor)}),u}function qg(c,u,p){var m=!1,O=Qt.maybeInitVimState_(c),b=O.visualBlock||O.wasInVisualBlock,k=c.isInMultiSelectMode();if(O.wasInVisualBlock&&!k?O.wasInVisualBlock=!1:k&&O.visualBlock&&(O.wasInVisualBlock=!0),u=="<Esc>"&&!O.insertMode&&!O.visualMode&&k&&O.status=="<Esc>")ot(c);else if(b||!k||c.inVirtualSelectionMode)m=Qt.handleKey(c,u,p);else{var S=Gs(O),x=O.inputState.changeQueueList||[];c.operation(function(){c.curOp.isVimOp=!0;var P=0;c.forEachSelection(function(){c.state.vim.inputState.changeQueue=x[P];var Q=c.getCursor("head"),D=c.getCursor("anchor"),R=Ie(Q,D)?0:-1,T=Ie(Q,D)?-1:0;Q=Ge(Q,0,R),D=Ge(D,0,T),c.state.vim.sel.head=Q,c.state.vim.sel.anchor=D,m=Qt.handleKey(c,u,p),c.virtualSelection&&(x[P]=c.state.vim.inputState.changeQueue,c.state.vim=Gs(S)),P++}),c.curOp.cursorActivity&&!m&&(c.curOp.cursorActivity=!1),c.state.vim=O,O.inputState.changeQueueList=x,O.inputState.changeQueue=null},!0)}return m&&!O.visualMode&&!O.insert&&O.visualMode!=c.somethingSelected()&&Hc(c,O),m}return wc(),Qt}function wt(i,e){var t=e.ch,n=e.line+1;n<1&&(n=1,t=0),n>i.lines&&(n=i.lines,t=Number.MAX_VALUE);var r=i.line(n);return Math.min(r.from+Math.max(0,t),r.to)}function Zt(i,e){let t=i.lineAt(e);return{line:t.number-1,ch:e-t.from}}class un{constructor(e,t){this.line=e,this.ch=t}}function Mm(i,e,t){if(i.addEventListener)i.addEventListener(e,t,!1);else{var n=i._handlers||(i._handlers={});n[e]=(n[e]||[]).concat(t)}}function Dm(i,e,t){if(i.removeEventListener)i.removeEventListener(e,t,!1);else{var n=i._handlers,r=n&&n[e];if(r){var o=r.indexOf(t);o>-1&&(n[e]=r.slice(0,o).concat(r.slice(o+1)))}}}function Bm(i,e,...t){var n,r=(n=i._handlers)===null||n===void 0?void 0:n[e];if(r)for(var o=0;o<r.length;++o)r[o](...t)}function ed(i,...e){if(i)for(var t=0;t<i.length;++t)i[t](...e)}var tw={Return:"CR",Backspace:"BS",Delete:"Del",Escape:"Esc",Insert:"Ins",ArrowLeft:"Left",ArrowRight:"Right",ArrowUp:"Up",ArrowDown:"Down",Enter:"CR"," ":"Space"},Rm={Shift:1,Alt:1,Command:1,Control:1,CapsLock:1,AltGraph:1,Dead:1,Unidentified:1};let Ml;try{Ml=new RegExp("[\\w\\p{Alphabetic}\\p{Number}_]","u")}catch{Ml=/[\w]/}function dr(i,e){var t=i.cm6,n="input.type.compose";if(i.curOp&&(i.curOp.lastChange||(n="input.type.compose.start")),e.annotations)try{e.annotations.some(function(r){r.value=="input"&&(r.value=n)})}catch(r){console.error(r)}else e.userEvent=n;return t.dispatch(e)}function td(i,e){var t;i.curOp&&(i.curOp.$changeStart=void 0),(e?Us:Xi)(i.cm6);let n=(t=i.curOp)===null||t===void 0?void 0:t.$changeStart;n!=null&&i.cm6.dispatch({selection:{anchor:n}})}var nw={};class ue{constructor(e){this.state={},this.marks=Object.create(null),this.$mid=0,this.options={},this._handlers={},this.$lastChangeEndOffset=0,this.virtualSelection=null,this.cm6=e,this.onChange=this.onChange.bind(this),this.onSelectionChange=this.onSelectionChange.bind(this)}openDialog(e,t,n){return rw(this,e,t,n)}openNotification(e,t){return iw(this,e,t)}on(e,t){Mm(this,e,t)}off(e,t){Dm(this,e,t)}signal(e,t,n){Bm(this,e,t,n)}indexFromPos(e){return wt(this.cm6.state.doc,e)}posFromIndex(e){return Zt(this.cm6.state.doc,e)}foldCode(e){let t=this.cm6,n=t.state.selection.ranges,r=this.cm6.state.doc,o=wt(r,e),a=j.create([j.range(o,o)],0).ranges;t.state.selection.ranges=a,rp(t),t.state.selection.ranges=n}firstLine(){return 0}lastLine(){return this.cm6.state.doc.lines-1}lineCount(){return this.cm6.state.doc.lines}setCursor(e,t){typeof e=="object"&&(t=e.ch,e=e.line);var n=wt(this.cm6.state.doc,{line:e,ch:t});this.cm6.dispatch({selection:{anchor:n}},{scrollIntoView:!this.curOp}),this.curOp&&!this.curOp.isVimOp&&this.onBeforeEndOperation()}getCursor(e){var t=this.cm6.state.selection.main,n=e=="head"||!e?t.head:e=="anchor"?t.anchor:e=="start"?t.from:e=="end"?t.to:null;if(n==null)throw new Error("Invalid cursor type");return this.posFromIndex(n)}listSelections(){var e=this.cm6.state.doc;return this.cm6.state.selection.ranges.map(t=>({anchor:Zt(e,t.anchor),head:Zt(e,t.head)}))}setSelections(e,t){var n=this.cm6.state.doc,r=e.map(o=>j.range(wt(n,o.anchor),wt(n,o.head)));this.cm6.dispatch({selection:j.create(r,t)})}setSelection(e,t,n){var r=this.cm6.state.doc,o=[j.range(wt(r,e),wt(r,t))];this.cm6.dispatch({selection:j.create(o,0)}),n&&n.origin=="*mouse"&&this.onBeforeEndOperation()}getLine(e){var t=this.cm6.state.doc;return e<0||e>=t.lines?"":this.cm6.state.doc.line(e+1).text}getLineHandle(e){return this.$lineHandleChanges||(this.$lineHandleChanges=[]),{row:e,index:this.indexFromPos(new un(e,0))}}getLineNumber(e){var t=this.$lineHandleChanges;if(!t)return null;for(var n=e.index,r=0;r<t.length;r++)if(n=t[r].changes.mapPos(n,1,_e.TrackAfter),n==null)return null;var o=this.posFromIndex(n);return o.ch==0?o.line:null}releaseLineHandles(){this.$lineHandleChanges=void 0}getRange(e,t){var n=this.cm6.state.doc;return this.cm6.state.sliceDoc(wt(n,e),wt(n,t))}replaceRange(e,t,n){n||(n=t);var r=this.cm6.state.doc,o=wt(r,t),a=wt(r,n);dr(this,{changes:{from:o,to:a,insert:e}})}replaceSelection(e){dr(this,this.cm6.state.replaceSelection(e))}replaceSelections(e){var t=this.cm6.state.selection.ranges,n=t.map((r,o)=>({from:r.from,to:r.to,insert:e[o]||""}));dr(this,{changes:n})}getSelection(){return this.getSelections().join(`
`)}getSelections(){var e=this.cm6;return e.state.selection.ranges.map(t=>e.state.sliceDoc(t.from,t.to))}somethingSelected(){return this.cm6.state.selection.ranges.some(e=>!e.empty)}getInputField(){return this.cm6.contentDOM}clipPos(e){var t=this.cm6.state.doc,n=e.ch,r=e.line+1;r<1&&(r=1,n=0),r>t.lines&&(r=t.lines,n=Number.MAX_VALUE);var o=t.line(r);return n=Math.min(Math.max(0,n),o.to-o.from),new un(r-1,n)}getValue(){return this.cm6.state.doc.toString()}setValue(e){var t=this.cm6;return t.dispatch({changes:{from:0,to:t.state.doc.length,insert:e},selection:j.range(0,0)})}focus(){return this.cm6.focus()}blur(){return this.cm6.contentDOM.blur()}defaultTextHeight(){return this.cm6.defaultLineHeight}findMatchingBracket(e){var t=this.cm6.state,n=wt(t.doc,e),r=En(t,n+1,-1);return r&&r.end?{to:Zt(t.doc,r.end.from)}:(r=En(t,n,1),r&&r.end?{to:Zt(t.doc,r.end.from)}:{to:void 0})}scanForBracket(e,t,n,r){return aw(this,e,t,n,r)}indentLine(e,t){t?this.indentMore():this.indentLess()}indentMore(){ms(this.cm6)}indentLess(){gs(this.cm6)}execCommand(e){if(e=="indentAuto")ue.commands.indentAuto(this);else if(e=="goLineLeft")ts(this.cm6);else if(e=="goLineRight"){es(this.cm6);let t=this.cm6.state,n=t.selection.main.head;n<t.doc.length&&t.sliceDoc(n,n+1)!==`
`&&Tv(this.cm6)}else console.log(e+" is not implemented")}setBookmark(e,t){var n=t?.insertLeft?1:-1,r=this.indexFromPos(e),o=new hw(this,r,n);return o}addOverlay({query:e}){let t=new Oc({regexp:!0,search:e.source,caseSensitive:!/i/.test(e.flags)});if(t.valid){t.forVim=!0,this.cm6Query=t;let n=Jn.of(t);return this.cm6.dispatch({effects:n}),t}}removeOverlay(e){if(!this.cm6Query)return;this.cm6Query.forVim=!1;let t=Jn.of(this.cm6Query);this.cm6.dispatch({effects:t})}getSearchCursor(e,t){var n=this,r=null,o=null;t.ch==null&&(t.ch=Number.MAX_VALUE);var a=wt(n.cm6.state.doc,t),l=e.source.replace(/(\\.|{(?:\d+(?:,\d*)?|,\d+)})|[{}]/g,function(y,v){return v||"\\"+y});function h(y,v=0,w=y.length){return new gc(y,l,{ignoreCase:e.ignoreCase},v,w)}function d(y){var v=n.cm6.state.doc;if(y>v.length)return null;let w=h(v,y).next();return w.done?null:w.value}var f=1e4;function g(y,v){var w=n.cm6.state.doc;for(let C=1;;C++){let $=Math.max(y,v-C*f),M=h(w,$,v),Z=null;for(;!M.next().done;)Z=M.value;if(Z&&($==y||Z.from>$+10))return Z;if($==y)return null}}return{findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(y){var v=n.cm6.state.doc;if(y){let w=r?r.from==r.to?r.to-1:r.from:a;r=g(0,w)}else{let w=r?r.from==r.to?r.to+1:r.to:a;r=d(w)}return o=r&&{from:Zt(v,r.from),to:Zt(v,r.to),match:r.match},r&&r.match},from:function(){return o?.from},to:function(){return o?.to},replace:function(y){r&&(dr(n,{changes:{from:r.from,to:r.to,insert:y}}),r.to=r.from+y.length,o&&(o.to=Zt(n.cm6.state.doc,r.to)))}}}findPosV(e,t,n,r){let{cm6:o}=this;const a=o.state.doc;let l=n=="page"?o.dom.clientHeight:0;const h=wt(a,e);let d=j.range(h,h,r),f=Math.round(Math.abs(t));for(let y=0;y<f;y++)n=="page"?d=o.moveVertically(d,t>0,l):n=="line"&&(d=o.moveVertically(d,t>0));let g=Zt(a,d.head);return(t<0&&d.head==0&&r!=0&&e.line==0&&e.ch!=0||t>0&&d.head==a.length&&g.ch!=r&&e.line==g.line)&&(g.hitSide=!0),g}charCoords(e,t){var n=this.cm6.contentDOM.getBoundingClientRect(),r=wt(this.cm6.state.doc,e),o=this.cm6.coordsAtPos(r),a=-n.top;return{left:(o?.left||0)-n.left,top:(o?.top||0)+a,bottom:(o?.bottom||0)+a}}coordsChar(e,t){var n=this.cm6.contentDOM.getBoundingClientRect(),r=this.cm6.posAtCoords({x:e.left+n.left,y:e.top+n.top})||0;return Zt(this.cm6.state.doc,r)}getScrollInfo(){var e=this.cm6.scrollDOM;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight,width:e.scrollWidth,clientHeight:e.clientHeight,clientWidth:e.clientWidth}}scrollTo(e,t){e!=null&&(this.cm6.scrollDOM.scrollLeft=e),t!=null&&(this.cm6.scrollDOM.scrollTop=t)}scrollIntoView(e,t){if(e){var n=this.indexFromPos(e);this.cm6.dispatch({effects:F.scrollIntoView(n)})}else this.cm6.dispatch({scrollIntoView:!0,userEvent:"scroll"})}getWrapperElement(){return this.cm6.dom}getMode(){return{name:this.getOption("mode")}}setSize(e,t){this.cm6.dom.style.width=e+4+"px",this.cm6.dom.style.height=t+"px",this.refresh()}refresh(){this.cm6.measure()}destroy(){this.removeOverlay()}getLastEditEnd(){return this.posFromIndex(this.$lastChangeEndOffset)}onChange(e){this.$lineHandleChanges&&this.$lineHandleChanges.push(e);for(let n in this.marks)this.marks[n].update(e.changes);this.virtualSelection&&(this.virtualSelection.ranges=this.virtualSelection.ranges.map(n=>n.map(e.changes)));var t=this.curOp=this.curOp||{};e.changes.iterChanges((n,r,o,a,l)=>{(t.$changeStart==null||t.$changeStart>o)&&(t.$changeStart=o),this.$lastChangeEndOffset=a;var h={text:l.toJSON()};t.lastChange?t.lastChange.next=t.lastChange=h:t.lastChange=t.change=h},!0),t.changeHandlers||(t.changeHandlers=this._handlers.change&&this._handlers.change.slice())}onSelectionChange(){var e=this.curOp=this.curOp||{};e.cursorActivityHandlers||(e.cursorActivityHandlers=this._handlers.cursorActivity&&this._handlers.cursorActivity.slice()),this.curOp.cursorActivity=!0}operation(e){this.curOp||(this.curOp={$d:0}),this.curOp.$d++;try{var t=e()}finally{this.curOp&&(this.curOp.$d--,this.curOp.$d||this.onBeforeEndOperation())}return t}onBeforeEndOperation(){var e=this.curOp,t=!1;e&&(e.change&&ed(e.changeHandlers,this,e.change),e&&e.cursorActivity&&(ed(e.cursorActivityHandlers,this,null),e.isVimOp&&(t=!0)),this.curOp=null),t&&this.scrollIntoView()}moveH(e,t){if(t=="char"){var n=this.getCursor();this.setCursor(n.line,n.ch+e)}}setOption(e,t){switch(e){case"keyMap":this.state.keyMap=t;break;case"textwidth":this.state.textwidth=t;break}}getOption(e){switch(e){case"firstLineNumber":return 1;case"tabSize":return this.cm6.state.tabSize||4;case"readonly":return this.cm6.state.readOnly;case"indentWithTabs":return this.cm6.state.facet(Wi)=="	";case"indentUnit":return this.cm6.state.facet(Wi).length||2;case"textwidth":return this.state.textwidth;case"keyMap":return this.state.keyMap||"vim"}}toggleOverwrite(e){this.state.overwrite=e}getTokenTypeAt(e){var t,n=this.indexFromPos(e),r=qf(this.cm6.state,n),o=r?.resolve(n),a=((t=o?.type)===null||t===void 0?void 0:t.name)||"";return/comment/i.test(a)?"comment":/string/i.test(a)?"string":""}overWriteSelection(e){var t=this.cm6.state.doc,n=this.cm6.state.selection,r=n.ranges.map(o=>{if(o.empty){var a=o.to<t.length?t.sliceString(o.from,o.to+1):"";if(a&&!/\n/.test(a))return j.range(o.from,o.to+1)}return o});this.cm6.dispatch({selection:j.create(r,n.mainIndex)}),this.replaceSelection(e)}isInMultiSelectMode(){return this.cm6.state.selection.ranges.length>1}virtualSelectionMode(){return!!this.virtualSelection}forEachSelection(e){var t=this.cm6.state.selection;this.virtualSelection=j.create(t.ranges,t.mainIndex);for(var n=0;n<this.virtualSelection.ranges.length;n++){var r=this.virtualSelection.ranges[n];r&&(this.cm6.dispatch({selection:j.create([r])}),e(),this.virtualSelection.ranges[n]=this.cm6.state.selection.ranges[0])}this.cm6.dispatch({selection:this.virtualSelection}),this.virtualSelection=null}hardWrap(e){return uw(this,e)}}ue.isMac=typeof navigator<"u"&&/Mac/.test(navigator.platform);ue.Pos=un;ue.StringStream=$y;ue.commands={cursorCharLeft:function(i){Ar(i.cm6)},redo:function(i){td(i,!1)},undo:function(i){td(i,!0)},newlineAndIndent:function(i){ps({state:i.cm6.state,dispatch:e=>dr(i,e)})},indentAuto:function(i){rm(i.cm6)}};ue.defineOption=function(i,e,t){};ue.isWordChar=function(i){return Ml.test(i)};ue.keys=nw;ue.keyMap={};ue.addClass=function(){};ue.rmClass=function(){};ue.e_preventDefault=function(i){i.preventDefault()};ue.e_stop=function(i){var e,t;(e=i?.stopPropagation)===null||e===void 0||e.call(i),(t=i?.preventDefault)===null||t===void 0||t.call(i)};ue.keyName=function(i){var e=i.key;if(!Rm[e]){e=="Escape"&&(e="Esc"),e==" "&&(e="Space"),e.length>1&&(e=e.replace(/Numpad|Arrow/,"")),e.length==1&&(e=e.toUpperCase());var t="";return i.ctrlKey&&(t+="Ctrl-"),i.altKey&&(t+="Alt-"),(t||e.length>1)&&i.shiftKey&&(t+="Shift-"),t+=e,t}};ue.vimKey=function(e){var t=e.key;if(!Rm[t]){t.length>1&&t[0]=="n"&&(t=t.replace("Numpad","")),t=tw[t]||t;var n="";return e.ctrlKey&&(n+="C-"),e.altKey&&(n+="A-"),e.metaKey&&(n+="M-"),ue.isMac&&e.altKey&&!e.metaKey&&!e.ctrlKey&&(n=n.slice(2)),(n||t.length>1)&&e.shiftKey&&(n+="S-"),n+=t,n.length>1&&(n="<"+n+">"),n}};ue.lookupKey=function(e,t,n){var r=ue.keys[e];r&&n(r)};ue.on=Mm;ue.off=Dm;ue.signal=Bm;ue.findMatchingTag=lw;ue.findEnclosingTag=cw;function jm(i,e,t){var n=document.createElement("div");return n.appendChild(e),n}function Um(i,e){i.state.currentNotificationClose&&i.state.currentNotificationClose(),i.state.currentNotificationClose=e}function iw(i,e,t){Um(i,l);var n=jm(i,e,t&&t.bottom),r=!1,o,a=t&&typeof t.duration<"u"?t.duration:5e3;function l(){r||(r=!0,clearTimeout(o),n.remove(),Lm(i,n))}return n.onclick=function(h){h.preventDefault(),l()},Nm(i,n),a&&(o=setTimeout(l,a)),l}function Nm(i,e){var t=i.state.dialog;i.state.dialog=e,e&&t!==e&&(t&&t.contains(document.activeElement)&&i.focus(),t&&t.parentElement?t.parentElement.replaceChild(e,t):t&&t.remove(),ue.signal(i,"dialog"))}function Lm(i,e){i.state.dialog==e&&(i.state.dialog=null,ue.signal(i,"dialog"))}function rw(i,e,t,n){n||(n={}),Um(i,void 0);var r=jm(i,e,n.bottom),o=!1;Nm(i,r);function a(h){if(typeof h=="string")l.value=h;else{if(o)return;o=!0,Lm(i,r),i.state.dialog||i.focus(),n.onClose&&n.onClose(r)}}var l=r.getElementsByTagName("input")[0];return l&&(n.value&&(l.value=n.value,n.selectValueOnOpen!==!1&&l.select()),n.onInput&&ue.on(l,"input",function(h){n.onInput(h,l.value,a)}),n.onKeyUp&&ue.on(l,"keyup",function(h){n.onKeyUp(h,l.value,a)}),ue.on(l,"keydown",function(h){n&&n.onKeyDown&&n.onKeyDown(h,l.value,a)||(h.keyCode==13&&t(l.value),(h.keyCode==27||n.closeOnEnter!==!1&&h.keyCode==13)&&(l.blur(),ue.e_stop(h),a()))}),n.closeOnBlur!==!1&&ue.on(l,"blur",function(){setTimeout(function(){document.activeElement!==l&&a()})}),l.focus()),a}var ow={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function sw(i){return i&&i.bracketRegex||/[(){}[\]]/}function aw(i,e,t,n,r){for(var o=r&&r.maxScanLineLength||1e4,a=r&&r.maxScanLines||1e3,l=[],h=sw(r),d=t>0?Math.min(e.line+a,i.lastLine()+1):Math.max(i.firstLine()-1,e.line-a),f=e.line;f!=d;f+=t){var g=i.getLine(f);if(g){var y=t>0?0:g.length-1,v=t>0?g.length:-1;if(!(g.length>o))for(f==e.line&&(y=e.ch-(t<0?1:0));y!=v;y+=t){var w=g.charAt(y);if(h.test(w)){var C=ow[w];if(C&&C.charAt(1)==">"==t>0)l.push(w);else if(l.length)l.pop();else return{pos:new un(f,y),ch:w}}}}}return f-t==(t>0?i.lastLine():i.firstLine())?!1:null}function lw(i,e){}function cw(i,e){var t,n,r=i.cm6.state,o=i.indexFromPos(e);if(o<r.doc.length){var a=r.sliceDoc(o,o+1);a=="<"&&o++}for(var l=qf(r,o),h=l?.resolve(o)||null;h;){if(((t=h.firstChild)===null||t===void 0?void 0:t.type.name)=="OpenTag"&&((n=h.lastChild)===null||n===void 0?void 0:n.type.name)=="CloseTag")return{open:nd(r.doc,h.firstChild),close:nd(r.doc,h.lastChild)};h=h.parent}}function nd(i,e){return{from:Zt(i,e.from),to:Zt(i,e.to)}}class hw{constructor(e,t,n){this.cm=e,this.id=e.$mid++,this.offset=t,this.assoc=n,e.marks[this.id]=this}clear(){delete this.cm.marks[this.id]}find(){return this.offset==null?null:this.cm.posFromIndex(this.offset)}update(e){this.offset!=null&&(this.offset=e.mapPos(this.offset,this.assoc,_e.TrackDel))}}function uw(i,e){for(var t=e.column||i.getOption("textwidth")||80,n=e.allowMerge!=!1,r=Math.min(e.from,e.to),o=Math.max(e.from,e.to);r<=o;){var a=i.getLine(r);if(a.length>t){var l=v(a,t,5);if(l){var h=/^\s*/.exec(a)[0];i.replaceRange(`
`+h,new un(r,l.start),new un(r,l.end))}o++}else if(n&&/\S/.test(a)&&r!=o){var d=i.getLine(r+1);if(d&&/\S/.test(d)){var f=a.replace(/\s+$/,""),g=d.replace(/^\s+/,""),y=f+" "+g,l=v(y,t,5);l&&l.start>f.length||y.length<t?(i.replaceRange(" ",new un(r,f.length),new un(r+1,d.length-g.length)),r--,o--):f.length<a.length&&i.replaceRange("",new un(r,f.length),new un(r,a.length))}}r++}return r;function v(w,C,$){if(!(w.length<C)){var M=w.slice(0,C),Z=w.slice(C),W=/^(?:(\s+)|(\S+)(\s+))/.exec(Z),N=/(?:(\s+)|(\s+)(\S+))$/.exec(M),B=0,U=0;if(N&&!N[2]&&(B=C-N[1].length,U=C),W&&!W[2]&&(B||(B=C),U=C+W[1].length),B)return{start:B,end:U};if(N&&N[2]&&N.index>$)return{start:N.index,end:N.index+N[2].length};if(W&&W[2])return B=C+W[2].length,{start:B,end:B+W[3].length}}}}let Dl=l0||function(){let i={cursorBlinkRate:1200};return function(){return i}}();class dw{constructor(e,t,n,r,o,a,l,h,d,f){this.left=e,this.top=t,this.height=n,this.fontFamily=r,this.fontSize=o,this.fontWeight=a,this.color=l,this.className=h,this.letter=d,this.partial=f}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",e.style.height=this.height+"px",e.style.lineHeight=this.height+"px",e.style.fontFamily=this.fontFamily,e.style.fontSize=this.fontSize,e.style.fontWeight=this.fontWeight,e.style.color=this.partial?"transparent":this.color,e.className=this.className,e.textContent=this.letter}eq(e){return this.left==e.left&&this.top==e.top&&this.height==e.height&&this.fontFamily==e.fontFamily&&this.fontSize==e.fontSize&&this.fontWeight==e.fontWeight&&this.color==e.color&&this.className==e.className&&this.letter==e.letter}}class fw{constructor(e,t){this.view=e,this.rangePieces=[],this.cursors=[],this.cm=t,this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer cm-vimCursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){let t=Dl(this.cm.cm6.state).cursorBlinkRate;this.cursorLayer.style.animationDuration=t+"ms"}update(e){(e.selectionSet||e.geometryChanged||e.viewportChanged)&&(this.view.requestMeasure(this.measureReq),this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink"),pw(e)&&this.setBlinkRate()}scheduleRedraw(){this.view.requestMeasure(this.measureReq)}readPos(){let{state:e}=this.view,t=[];for(let n of e.selection.ranges){let r=n==e.selection.main,o=bw(this.cm,this.view,n,r);o&&t.push(o)}return{cursors:t}}drawSel({cursors:e}){if(e.length!=this.cursors.length||e.some((t,n)=>!t.eq(this.cursors[n]))){let t=this.cursorLayer.children;if(t.length!==e.length){this.cursorLayer.textContent="";for(const n of e)this.cursorLayer.appendChild(n.draw())}else e.forEach((n,r)=>n.adjust(t[r]));this.cursors=e}}destroy(){this.cursorLayer.remove()}}function pw(i){return Dl(i.startState)!=Dl(i.state)}const mw={".cm-vimMode .cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-fat-cursor":{position:"absolute",background:"#ff9696",border:"none",whiteSpace:"pre"},"&:not(.cm-focused) .cm-fat-cursor":{background:"none",outline:"solid 1px #ff9696",color:"transparent !important"}},gw=Jt.highest(F.theme(mw));function Ow(i){let e=i.scrollDOM.getBoundingClientRect();return{left:(i.textDirection==Se.LTR?e.left:e.right-i.scrollDOM.clientWidth)-i.scrollDOM.scrollLeft,top:e.top-i.scrollDOM.scrollTop}}function bw(i,e,t,n){var r,o;let a=t.head,l=!1,h=1,d=i.state.vim;if(d&&(!d.insertMode||i.state.overwrite)){if(l=!0,d.visualBlock&&!n)return null;t.anchor<t.head&&a--,i.state.overwrite?h=.2:d.status&&(h=.5)}if(l){let g=a<e.state.doc.length&&e.state.sliceDoc(a,a+1);g&&/[\uDC00-\uDFFF]/.test(g)&&a>1&&(a--,g=e.state.sliceDoc(a,a+1));let y=e.coordsAtPos(a,1);if(!y)return null;let v=Ow(e),w=e.domAtPos(a),C=w?w.node:e.contentDOM;for(;w&&w.node instanceof HTMLElement;)C=w.node,w={node:w.node.childNodes[w.offset],offset:0};if(!(C instanceof HTMLElement)){if(!C.parentNode)return null;C=C.parentNode}let $=getComputedStyle(C),M=y.left,Z=(o=(r=e).coordsForChar)===null||o===void 0?void 0:o.call(r,a);if(Z&&(M=Z.left),!g||g==`
`||g=="\r")g=" ";else if(g=="	"){g=" ";var f=e.coordsAtPos(a+1,-1);f&&(M=f.left-(f.left-y.left)/parseInt($.tabSize))}else/[\uD800-\uDBFF]/.test(g)&&a<e.state.doc.length-1&&(g+=e.state.sliceDoc(a+1,a+2));let W=y.bottom-y.top;return new dw(M-v.left,y.top-v.top+W*(1-h),W*h,$.fontFamily,$.fontSize,$.fontWeight,$.color,n?"cm-fat-cursor cm-cursor-primary":"cm-fat-cursor cm-cursor-secondary",g,h!=1)}else return null}var yw=typeof navigator<"u"&&/linux/i.test(navigator.platform)&&/ Gecko\/\d+/.exec(navigator.userAgent);const or=ew(ue),vw=250,kw=F.baseTheme({".cm-vimMode .cm-cursorLayer:not(.cm-vimCursorLayer)":{display:"none"},".cm-vim-panel":{padding:"0px 10px",fontFamily:"monospace",minHeight:"1.3em"},".cm-vim-panel input":{border:"none",outline:"none",backgroundColor:"inherit"},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"}}),ww=nt.fromClass(class{constructor(i){this.status="",this.query=null,this.decorations=ne.none,this.waitForCopy=!1,this.lastKeydown="",this.useNextTextInput=!1,this.view=i;const e=this.cm=new ue(i);or.enterVimMode(this.cm),this.view.cm=this.cm,this.cm.state.vimPlugin=this,this.blockCursor=new fw(i,e),this.updateClass(),this.cm.on("vim-command-done",()=>{e.state.vim&&(e.state.vim.status=""),this.blockCursor.scheduleRedraw(),this.updateStatus()}),this.cm.on("vim-mode-change",t=>{e.state.vim.mode=t.mode,t.subMode&&(e.state.vim.mode+=" block"),e.state.vim.status="",this.blockCursor.scheduleRedraw(),this.updateClass(),this.updateStatus()}),this.cm.on("dialog",()=>{this.cm.state.statusbar?this.updateStatus():i.dispatch({effects:Zm.of(!!this.cm.state.dialog)})}),this.dom=document.createElement("span"),this.dom.style.cssText="position: absolute; right: 10px; top: 1px",this.statusButton=document.createElement("span"),this.statusButton.onclick=t=>{or.handleKey(this.cm,"<Esc>","user"),this.cm.focus()},this.statusButton.style.cssText="cursor: pointer"}update(i){var e;if((i.viewportChanged||i.docChanged)&&this.query&&this.highlight(this.query),i.docChanged&&this.cm.onChange(i),i.selectionSet&&this.cm.onSelectionChange(),i.viewportChanged,this.cm.curOp&&!this.cm.curOp.isVimOp&&this.cm.onBeforeEndOperation(),i.transactions){for(let t of i.transactions)for(let n of t.effects)if(n.is(Jn))if(!((e=n.value)===null||e===void 0?void 0:e.forVim))this.highlight(null);else{let o=n.value.create();this.highlight(o)}}this.blockCursor.update(i)}updateClass(){const i=this.cm.state;!i.vim||i.vim.insertMode&&!i.overwrite?this.view.scrollDOM.classList.remove("cm-vimMode"):this.view.scrollDOM.classList.add("cm-vimMode")}updateStatus(){let i=this.cm.state.statusbar,e=this.cm.state.vim;if(!i||!e)return;let t=this.cm.state.dialog;if(t)t.parentElement!=i&&(i.textContent="",i.appendChild(t));else{i.textContent="";var n=(e.mode||"normal").toUpperCase();e.insertModeReturn&&(n+="(C-O)"),this.statusButton.textContent=`--${n}--`,i.appendChild(this.statusButton)}this.dom.textContent=e.status,i.appendChild(this.dom)}destroy(){or.leaveVimMode(this.cm),this.updateClass(),this.blockCursor.destroy(),delete this.view.cm}highlight(i){if(this.query=i,!i)return this.decorations=ne.none;let{view:e}=this,t=new qn;for(let n=0,r=e.visibleRanges,o=r.length;n<o;n++){let{from:a,to:l}=r[n];for(;n<o-1&&l>r[n+1].from-2*vw;)l=r[++n].to;i.highlight(e.state,a,l,(h,d)=>{t.add(h,d,Sw)})}return this.decorations=t.finish()}handleKey(i,e){const t=ue.vimKey(i),n=this.cm;if(!t)return;let r=n.state.vim;if(!r)return;if(t=="<Esc>"&&!r.insertMode&&!r.visualMode&&this.query){const l=r.searchState_;l&&(n.removeOverlay(l.getOverlay()),l.setOverlay(null))}if(t==="<C-c>"&&!ue.isMac&&n.somethingSelected())return this.waitForCopy=!0,!0;r.status=(r.status||"")+t;let a=or.multiSelectHandleKey(n,t,"user");return r=n.state.vim,!a&&r.insertMode&&n.state.overwrite&&(i.key&&i.key.length==1&&!/\n/.test(i.key)?(a=!0,n.overWriteSelection(i.key)):i.key=="Backspace"&&(a=!0,ue.commands.cursorCharLeft(n))),a&&(ue.signal(this.cm,"vim-keypress",t),i.preventDefault(),i.stopPropagation(),this.blockCursor.scheduleRedraw()),this.updateStatus(),!!a}},{eventHandlers:{copy:function(i,e){this.waitForCopy&&(this.waitForCopy=!1,Promise.resolve().then(()=>{var t=this.cm,n=t.state.vim;n&&(n.insertMode?t.setSelection(t.getCursor(),t.getCursor()):t.operation(()=>{t.curOp&&(t.curOp.isVimOp=!0),or.handleKey(t,"<Esc>","user")}))}))},compositionstart:function(i,e){this.useNextTextInput=!0},keypress:function(i,e){this.lastKeydown=="Dead"&&this.handleKey(i,e)},keydown:function(i,e){this.lastKeydown=i.key,this.lastKeydown=="Unidentified"||this.lastKeydown=="Process"||this.lastKeydown=="Dead"?this.useNextTextInput=!0:(this.useNextTextInput=!1,this.handleKey(i,e))}},provide:()=>[F.inputHandler.of((i,e,t,n)=>{var r,o,a=Aw(i);if(!a)return!1;var l=(r=a.state)===null||r===void 0?void 0:r.vim,h=a.state.vimPlugin;if(l&&!l.insertMode&&!(!((o=a.curOp)===null||o===void 0)&&o.isVimOp)){if(n==="\0\0")return!0;if(n.length==1&&h.useNextTextInput)return h.handleKey({key:n,preventDefault:()=>{},stopPropagation:()=>{}}),xw(i),!0}return!1})],decorations:i=>i.decorations});function xw(i){var e=i.scrollDOM.parentElement;if(e){if(yw){i.contentDOM.textContent="\0\0",i.contentDOM.dispatchEvent(new CustomEvent("compositionend"));return}var t=i.scrollDOM.nextSibling,n=window.getSelection(),r=n&&{anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset};i.scrollDOM.remove(),e.insertBefore(i.scrollDOM,t);try{r&&n&&(n.setPosition(r.anchorNode,r.anchorOffset),r.focusNode&&n.extend(r.focusNode,r.focusOffset))}catch(o){console.error(o)}i.focus(),i.contentDOM.dispatchEvent(new CustomEvent("compositionend"))}}const Sw=ne.mark({class:"cm-searchMatch"}),Zm=re.define(),Pw=Ye.define({create:()=>!1,update(i,e){for(let t of e.effects)t.is(Zm)&&(i=t.value);return i},provide:i=>Gn.from(i,e=>e?Qw:null)});function Qw(i){let e=document.createElement("div");e.className="cm-vim-panel";let t=i.cm;return t.state.dialog&&e.appendChild(t.state.dialog),{top:!1,dom:e}}function Cw(i){let e=document.createElement("div");e.className="cm-vim-panel";let t=i.cm;return t.state.statusbar=e,t.state.vimPlugin.updateStatus(),{dom:e}}function $w(i={}){return[kw,ww,gw,i.status?Gn.of(Cw):Pw]}function Aw(i){return i.cm||null}function pn(){var i=arguments[0];typeof i=="string"&&(i=document.createElement(i));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];typeof r=="string"?i.setAttribute(n,r):r!=null&&(i[n]=r)}e++}for(;e<arguments.length;e++)Em(i,arguments[e]);return i}function Em(i,e){if(typeof e=="string")i.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)i.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)Em(i,e[t]);else throw new RangeError("Unsupported child node: "+e)}class Tw{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}}class si{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}static init(e,t,n){let r=e,o=n.facet(Im).markerFilter;o&&(r=o(r));let a=ne.set(r.map(l=>l.from==l.to||l.from==l.to-1&&n.doc.lineAt(l.from).to==l.from?ne.widget({widget:new Lw(l),diagnostic:l}).range(l.from):ne.mark({attributes:{class:"cm-lintRange cm-lintRange-"+l.severity+(l.markClass?" "+l.markClass:"")},diagnostic:l}).range(l.from,l.to)),!0);return new si(a,t,Fi(a))}}function Fi(i,e=null,t=0){let n=null;return i.between(t,1e9,(r,o,{spec:a})=>{if(!(e&&a.diagnostic!=e))return n=new Tw(r,o,a.diagnostic),!1}),n}function Mw(i,e){let t=i.startState.doc.lineAt(e.pos);return!!(i.effects.some(n=>n.is(Wm))||i.changes.touchesRange(t.from,t.to))}function Dw(i,e){return i.field(Ut,!1)?e:e.concat(re.appendConfig.of(Ww))}const Wm=re.define(),kc=re.define(),Xm=re.define(),Ut=Ye.define({create(){return new si(ne.none,null,null)},update(i,e){if(e.docChanged){let t=i.diagnostics.map(e.changes),n=null;if(i.selected){let r=e.changes.mapPos(i.selected.from,1);n=Fi(t,i.selected.diagnostic,r)||Fi(t,null,r)}i=new si(t,i.panel,n)}for(let t of e.effects)t.is(Wm)?i=si.init(t.value,i.panel,e.state):t.is(kc)?i=new si(i.diagnostics,t.value?Es.open:null,i.selected):t.is(Xm)&&(i=new si(i.diagnostics,i.panel,t.value));return i},provide:i=>[Gn.from(i,e=>e.panel),F.decorations.from(i,e=>e.diagnostics)]}),Bw=ne.mark({class:"cm-lintRange cm-lintRange-active"});function Rw(i,e,t){let{diagnostics:n}=i.state.field(Ut),r=[],o=2e8,a=0;n.between(e-(t<0?1:0),e+(t>0?1:0),(h,d,{spec:f})=>{e>=h&&e<=d&&(h==d||(e>h||t>0)&&(e<d||t<0))&&(r.push(f.diagnostic),o=Math.min(h,o),a=Math.max(d,a))});let l=i.state.facet(Im).tooltipFilter;return l&&(r=l(r)),r.length?{pos:o,end:a,above:i.state.doc.lineAt(o).to<a,create(){return{dom:jw(i,r)}}}:null}function jw(i,e){return pn("ul",{class:"cm-tooltip-lint"},e.map(t=>Vm(i,t,!1)))}const Uw=i=>{let e=i.state.field(Ut,!1);(!e||!e.panel)&&i.dispatch({effects:Dw(i.state,[kc.of(!0)])});let t=Pr(i,Es.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},id=i=>{let e=i.state.field(Ut,!1);return!e||!e.panel?!1:(i.dispatch({effects:kc.of(!1)}),!0)},Nw=i=>{let e=i.state.field(Ut,!1);if(!e)return!1;let t=i.state.selection.main,n=e.diagnostics.iter(t.to+1);return!n.value&&(n=e.diagnostics.iter(0),!n.value||n.from==t.from&&n.to==t.to)?!1:(i.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)},Im=G.define({combine(i){return Object.assign({sources:i.map(e=>e.source)},pi(i.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,t)=>e?t?n=>e(n)||t(n):e:t}))}});function Fm(i){let e=[];if(i)e:for(let{name:t}of i){for(let n=0;n<t.length;n++){let r=t[n];if(/[a-zA-Z]/.test(r)&&!e.some(o=>o.toLowerCase()==r.toLowerCase())){e.push(r);continue e}}e.push("")}return e}function Vm(i,e,t){var n;let r=t?Fm(e.actions):[];return pn("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},pn("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(n=e.actions)===null||n===void 0?void 0:n.map((o,a)=>{let l=!1,h=y=>{if(y.preventDefault(),l)return;l=!0;let v=Fi(i.state.field(Ut).diagnostics,e);v&&o.apply(i,v.from,v.to)},{name:d}=o,f=r[a]?d.indexOf(r[a]):-1,g=f<0?d:[d.slice(0,f),pn("u",d.slice(f,f+1)),d.slice(f+1)];return pn("button",{type:"button",class:"cm-diagnosticAction",onclick:h,onmousedown:h,"aria-label":` Action: ${d}${f<0?"":` (access key "${r[a]})"`}.`},g)}),e.source&&pn("div",{class:"cm-diagnosticSource"},e.source))}class Lw extends ei{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return pn("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class rd{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=Vm(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Es{constructor(e){this.view=e,this.items=[];let t=r=>{if(r.keyCode==27)id(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],a=Fm(o.actions);for(let l=0;l<a.length;l++)if(a[l].toUpperCase().charCodeAt(0)==r.keyCode){let h=Fi(this.view.state.field(Ut).diagnostics,o);h&&o.actions[l].apply(e,h.from,h.to)}}else return;r.preventDefault()},n=r=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(r.target)&&this.moveSelection(o)};this.list=pn("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:n}),this.dom=pn("div",{class:"cm-panel-lint"},this.list,pn("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>id(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(Ut).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Ut),n=0,r=!1,o=null;for(e.between(0,this.view.state.doc.length,(a,l,{spec:h})=>{let d=-1,f;for(let g=n;g<this.items.length;g++)if(this.items[g].diagnostic==h.diagnostic){d=g;break}d<0?(f=new rd(this.view,h.diagnostic),this.items.splice(n,0,f),r=!0):(f=this.items[d],d>n&&(this.items.splice(n,d-n),r=!0)),t&&f.diagnostic==t.diagnostic?f.dom.hasAttribute("aria-selected")||(f.dom.setAttribute("aria-selected","true"),o=f):f.dom.hasAttribute("aria-selected")&&f.dom.removeAttribute("aria-selected"),n++});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new rd(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:l})=>{let h=l.height/this.list.offsetHeight;a.top<l.top?this.list.scrollTop-=(l.top-a.top)/h:a.bottom>l.bottom&&(this.list.scrollTop+=(a.bottom-l.bottom)/h)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let n=e;e=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)t();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Ut),n=Fi(t.diagnostics,this.items[e].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:Xm.of(n)})}static open(e){return new Es(e)}}function Zw(i,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(i)}</svg>')`}function yo(i){return Zw(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${i}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Ew=F.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:yo("#d11")},".cm-lintRange-warning":{backgroundImage:yo("orange")},".cm-lintRange-info":{backgroundImage:yo("#999")},".cm-lintRange-hint":{backgroundImage:yo("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),Ww=[Ut,F.decorations.compute([Ut],i=>{let{selected:e,panel:t}=i.field(Ut);return!e||!t||e.from==e.to?ne.none:ne.set([Bw.range(e.from,e.to)])}),Tf(Rw,{hideOn:Mw}),Ew],qm=i=>e=>{const t=i==="down";let n=e.state.selection;for(const r of n.ranges)n=n.addRange(e.moveVertically(r,t));return e.dispatch({selection:n}),!0},Xw=qm("up"),Iw=qm("down"),Fw=i=>{let e=null;for(const t of i.state.selection.ranges)if(!t.empty)for(let n=t.from;n<=t.to;){const r=i.state.doc.lineAt(n),o=Math.min(r.to,t.to);e?e=e.addRange(j.range(o,o)):e=j.single(o),n=r.to+1}return e?(i.dispatch({selection:e}),!0):!1},Vw=[{key:"Ctrl-Space",run:pp},{key:"Escape",run:mp},{key:"ArrowDown",run:Wn(!0)},{key:"ArrowUp",run:Wn(!1)},{key:"PageDown",run:Wn(!0,"page")},{key:"PageUp",run:Wn(!1,"page")},{key:"Enter",run:bl},{key:"Tab",run:bl},{key:"Mod-f",run:Am,scope:"editor search-panel"},{key:"Escape",run:Tm,scope:"editor search-panel"},{key:"Alt-Enter",run:Pm,scope:"editor search-panel"},{key:"Mod-Alt-Enter",run:Qm,scope:"editor search-panel"},{key:"Ctrl-g",run:Sk},{key:"Mod-d",run:$k,preventDefault:!0},{key:"Shift-Mod-l",run:Uk},{key:"Enter",run:ps,shift:ps},{key:"ArrowLeft",run:Ar,shift:ns,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:$p,shift:Lp},{key:"ArrowRight",run:Ho,shift:is,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:Ap,shift:Zp},{key:"ArrowUp",run:Ko,shift:rs,preventDefault:!0},{key:"ArrowDown",run:Jo,shift:os,preventDefault:!0},{key:"Home",run:ts,shift:kl},{mac:"Cmd-ArrowLeft",run:ts,shift:kl},{key:"Mod-Home",run:ls,shift:hs},{mac:"Cmd-ArrowUp",run:ls,shift:hs},{key:"PageUp",run:Or,shift:ss},{mac:"Ctrl-ArrowUp",run:Or,shift:ss},{key:"PageDown",run:Ti,shift:as},{mac:"Ctrl-ArrowDown",run:Ti,shift:as},{key:"End",run:es,shift:vl},{mac:"Cmd-ArrowRight",run:es,shift:vl},{key:"Mod-Alt-ArrowUp",linux:"Shift-Alt-ArrowUp",run:Xw,preventDefault:!0},{key:"Mod-Alt-ArrowDown",linux:"Shift-Alt-ArrowDown",run:Iw,preventDefault:!0},{key:"Shift-Alt-i",run:Fw},{key:"Mod-End",run:cs,shift:us},{mac:"Cmd-ArrowDown",run:cs,shift:us},{key:"Mod-a",run:Fp},{key:"Backspace",run:iv},{key:"Backspace",run:Mi,shift:Mi},{key:"Delete",run:ds},{key:"Mod-Backspace",mac:"Alt-Backspace",run:fs},{key:"Mod-Delete",mac:"Alt-Delete",run:_p},{mac:"Mod-Backspace",run:Iv},{mac:"Mod-Delete",run:wl},{mac:"Ctrl-b",run:Ar,shift:ns,preventDefault:!0},{mac:"Ctrl-f",run:Ho,shift:is},{mac:"Ctrl-p",run:Ko,shift:rs},{mac:"Ctrl-n",run:Jo,shift:os},{mac:"Ctrl-a",run:Bp,shift:Xp},{mac:"Ctrl-e",run:Rp,shift:Ip},{mac:"Ctrl-d",run:ds},{mac:"Ctrl-h",run:Mi},{mac:"Ctrl-k",run:wl},{mac:"Ctrl-Alt-h",run:fs},{mac:"Ctrl-o",run:sc},{mac:"Ctrl-t",run:zp},{mac:"Ctrl-v",run:Ti},{mac:"Alt-v",run:Or},{key:"Shift-Mod-k",run:nm},{key:"Alt-ArrowDown",run:Kp},{key:"Alt-ArrowUp",run:Hp},{win:"Shift-Alt-ArrowDown",mac:"Shift-Alt-ArrowDown",run:tm},{win:"Shift-Alt-ArrowUp",mac:"Shift-Alt-ArrowUp",run:em},{key:"Mod-l",run:Vp,preventDefault:!0},{key:"Shift-Mod-\\",run:jp},{key:"Tab",run:ms,shift:gs,preventDefault:!0},{key:"Mod-[",run:gs},{key:"Mod-]",run:ms},{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:rp},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:fy},{key:"Mod-k Mod-0",run:py},{key:"Mod-k Mod-j",run:my},{key:"Mod-k Mod-c",run:pv},{key:"Mod-k Mod-u",run:mv},{key:"Mod-/",run:nc},{key:"Shift-Alt-a",run:vp},{key:"Mod-z",run:Us,preventDefault:!0},{key:"Mod-y",run:Xi,preventDefault:!0},{key:"Mod-Shift-z",run:Xi,preventDefault:!0},{key:"Mod-u",run:Sp,preventDefault:!0},{key:"Mod-Shift-m",run:Uw},{key:"F8",run:Nw}],qw=nt.fromClass(class{constructor(){}},{provide:()=>Jt.highest(zn.of([...Vw]))}),Yw=i=>[qw].concat(i??[]),_w={vim:$w,emacs:Hk,vscode:Yw};function zw(i){const e=_w[i];return[zn.of(Gv),zn.of(Av),e?e():[]]}function oe(){return oe=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},oe.apply(this,arguments)}var ie=i=>{var{theme:e,settings:t={},styles:n=[]}=i,r={".cm-gutters":{}},o={};t.background&&(o.backgroundColor=t.background),t.backgroundImage&&(o.backgroundImage=t.backgroundImage),t.foreground&&(o.color=t.foreground),(t.background||t.foreground)&&(r["&"]=o),t.fontFamily&&(r["&.cm-editor .cm-scroller"]={fontFamily:t.fontFamily}),t.gutterBackground&&(r[".cm-gutters"].backgroundColor=t.gutterBackground),t.gutterForeground&&(r[".cm-gutters"].color=t.gutterForeground),t.gutterBorder&&(r[".cm-gutters"].borderRightColor=t.gutterBorder),t.caret&&(r[".cm-content"]={caretColor:t.caret},r[".cm-cursor, .cm-dropCursor"]={borderLeftColor:t.caret});var a={};t.gutterActiveForeground&&(a.color=t.gutterActiveForeground),t.lineHighlight&&(r[".cm-activeLine"]={backgroundColor:t.lineHighlight},a.backgroundColor=t.lineHighlight),r[".cm-activeLineGutter"]=a,t.selection&&(r["&.cm-focused .cm-selectionBackground, & .cm-line::selection, & .cm-selectionLayer .cm-selectionBackground, .cm-content ::selection"]={background:t.selection+" !important"}),t.selectionMatch&&(r["& .cm-selectionMatch"]={backgroundColor:t.selectionMatch});var l=F.theme(r,{dark:e==="dark"}),h=Nr.define(n),d=[l,lp(h)];return d},Gw={background:"#0f0f0f",foreground:"#defdef",caret:"#00FF00",selection:"#515151",selectionMatch:"#515151",gutterBackground:"#555",gutterForeground:"#FFFFFF",lineHighlight:"#0a6bcb3d"},Hw=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},Gw,t),styles:[{tag:s.keyword,color:"darkgoldenrod",fontWeight:"bold"},{tag:s.atom,color:"#77F"},{tag:s.comment,color:"#7a7b7c",fontStyle:"italic"},{tag:s.number,color:"violet"},{tag:s.definition(s.variableName),color:"#fffabc"},{tag:s.variableName,color:"#abcdef"},{tag:s.function(s.variableName),color:"#fffabc"},{tag:s.typeName,color:"#FFDD44"},{tag:s.tagName,color:"#def"},{tag:s.string,color:"#2b4"},{tag:s.meta,color:"#C9F"},{tag:s.bracket,color:"#8a8a8a"},{tag:s.attributeName,color:"#DDFF00"},{tag:s.heading,color:"aquamarine",fontWeight:"bold"},{tag:s.link,color:"blueviolet",fontWeight:"bold"},...n]})},Kw=Hw(),$e={background:"#000c18",foreground:"#6688cc",selection:"#770811",selectionMatch:"#770811",cursor:"#ddbb88",dropdownBackground:"#181f2f",activeLine:"#0055ff30",matchingBracket:"#082050",keyword:"#225588",storage:"#225588",variable:"#2277ff",parameter:"#2277ff",function:"#9966b8",string:"#22aa44",constant:"#f280d0",type:"#9966b8",class:"#ddbb88",number:"#f280d0",comment:"#384887",heading:"#6688cc",invalid:"#A22D44",regexp:"#22aa44",tag:"#225588"},Jw={background:$e.background,foreground:$e.foreground,caret:$e.cursor,selection:$e.selection,selectionMatch:$e.selectionMatch,gutterBackground:$e.background,gutterForeground:$e.foreground,lineHighlight:$e.activeLine},ex=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},Jw,t),styles:[{tag:s.keyword,color:$e.keyword},{tag:[s.name,s.deleted,s.character,s.macroName],color:$e.variable},{tag:[s.propertyName],color:$e.function},{tag:[s.processingInstruction,s.string,s.inserted,s.special(s.string)],color:$e.string},{tag:[s.function(s.variableName),s.labelName],color:$e.function},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:$e.constant},{tag:[s.definition(s.name),s.separator],color:$e.variable},{tag:[s.className],color:$e.class},{tag:[s.number,s.changed,s.annotation,s.modifier,s.self,s.namespace],color:$e.number},{tag:[s.typeName],color:$e.type,fontStyle:$e.type},{tag:[s.operator,s.operatorKeyword],color:$e.keyword},{tag:[s.url,s.escape,s.regexp,s.link],color:$e.regexp},{tag:[s.meta,s.comment],color:$e.comment},{tag:s.tagName,color:$e.tag},{tag:s.strong,fontWeight:"bold"},{tag:s.emphasis,fontStyle:"italic"},{tag:s.link,textDecoration:"underline"},{tag:s.heading,fontWeight:"bold",color:$e.heading},{tag:[s.atom,s.bool,s.special(s.variableName)],color:$e.variable},{tag:s.invalid,color:$e.invalid},{tag:s.strikethrough,textDecoration:"line-through"},...n]})};ex();var tx={background:"#282b2e",foreground:"#a9b7c6",caret:"#00FF00",selection:"#4e5254",selectionMatch:"#4e5254",lineHighlight:"#7f85891f"},nx=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},tx,t),styles:[{tag:[s.keyword,s.deleted,s.className],color:"#cc7832"},{tag:[s.number,s.literal,s.derefOperator],color:"#6897bb"},{tag:[s.link,s.variableName],color:"#629755"},{tag:[s.comment,s.quote],color:"grey"},{tag:[s.meta,s.documentMeta],color:"#bbb529"},{tag:[s.string,s.propertyName,s.attributeValue],color:"#6a8759"},{tag:[s.heading,s.typeName],color:"#ffc66d"},{tag:[s.attributeName],color:"#a9b7c6"},{tag:[s.emphasis],fontStyle:"italic"},...n]})},ix=nx(),ke={background:"#23262E",foreground:"#D5CED9",selection:"#db45a280",selectionMatch:"#db45a280",cursor:"#FFF",dropdownBackground:"#2b303b",dropdownBorder:"#363c49",activeLine:"#596a992e",matchingBracket:"#746f77",keyword:"#c74ded",storage:"#c74ded",variable:"#00e8c6",parameter:"#00e8c6",function:"#FFE66D",string:"#96E072",constant:"#ee5d43",type:"#FFE66D",class:"#FFE66D",number:"#ee5d43",comment:"#A0A1A7cc",heading:"#ff00aa",invalid:null,regexp:"#96E072",tag:"#f92672"},rx={background:ke.background,foreground:ke.foreground,caret:ke.cursor,selection:ke.selection,selectionMatch:ke.selectionMatch,gutterBackground:ke.background,gutterForeground:ke.foreground,lineHighlight:ke.activeLine},ox=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},rx,t),styles:[{tag:s.keyword,color:ke.keyword},{tag:[s.name,s.deleted,s.character,s.macroName],color:ke.variable},{tag:[s.propertyName],color:ke.function},{tag:[s.processingInstruction,s.string,s.inserted,s.special(s.string)],color:ke.string},{tag:[s.function(s.variableName),s.labelName],color:ke.function},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:ke.constant},{tag:[s.definition(s.name),s.separator],color:ke.variable},{tag:[s.className],color:ke.class},{tag:[s.number,s.changed,s.annotation,s.modifier,s.self,s.namespace],color:ke.number},{tag:[s.typeName],color:ke.type,fontStyle:ke.type},{tag:[s.operator],color:ke.keyword},{tag:[s.url,s.escape,s.regexp,s.link],color:ke.regexp},{tag:[s.meta,s.comment],color:ke.comment},{tag:s.tagName,color:ke.tag},{tag:s.strong,fontWeight:"bold"},{tag:s.emphasis,fontStyle:"italic"},{tag:s.link,textDecoration:"underline"},{tag:s.heading,fontWeight:"bold",color:ke.heading},{tag:[s.atom,s.special(s.variableName)],color:ke.variable},{tag:s.invalid,color:ke.invalid},{tag:s.strikethrough,textDecoration:"line-through"},{tag:[s.operatorKeyword,s.bool,s.null,s.variableName],color:ke.constant},...n]})};ox();var sx={background:"#272C35",foreground:"#9d9b97",caret:"#797977",selection:"#3d4c64",selectionMatch:"#3d4c64",gutterBackground:"#272C35",gutterForeground:"#465063",gutterBorder:"transparent",lineHighlight:"#2e3f5940"},ax=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},sx,t),styles:[{tag:[s.function(s.variableName),s.function(s.propertyName),s.url,s.processingInstruction],color:"hsl(207, 82%, 66%)"},{tag:[s.tagName,s.heading],color:"#e06c75"},{tag:s.comment,color:"#54636D"},{tag:[s.propertyName],color:"hsl(220, 14%, 71%)"},{tag:[s.attributeName,s.number],color:"hsl( 29, 54%, 61%)"},{tag:s.className,color:"hsl( 39, 67%, 69%)"},{tag:s.keyword,color:"hsl(286, 60%, 67%)"},{tag:[s.string,s.regexp,s.special(s.propertyName)],color:"#98c379"},...n]})},lx=ax(),cx={background:"#21202e",foreground:"#edecee",caret:"#a277ff",selection:"#5a51898f",selectionMatch:"#5a51898f",gutterBackground:"#21202e",gutterForeground:"#edecee",gutterBorder:"transparent",lineHighlight:"#a394f033"},hx=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},cx,t),styles:[{tag:s.keyword,color:"#a277ff"},{tag:[s.name,s.deleted,s.character,s.macroName],color:"#edecee"},{tag:[s.propertyName],color:"#ffca85"},{tag:[s.processingInstruction,s.string,s.inserted,s.special(s.string)],color:"#61ffca"},{tag:[s.function(s.variableName),s.labelName],color:"#ffca85"},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:"#61ffca"},{tag:[s.definition(s.name),s.separator],color:"#edecee"},{tag:[s.className],color:"#82e2ff"},{tag:[s.number,s.changed,s.annotation,s.modifier,s.self,s.namespace],color:"#61ffca"},{tag:[s.typeName],color:"#82e2ff"},{tag:[s.operator,s.operatorKeyword],color:"#a277ff"},{tag:[s.url,s.escape,s.regexp,s.link],color:"#61ffca"},{tag:[s.meta,s.comment],color:"#6d6d6d"},{tag:s.strong,fontWeight:"bold"},{tag:s.emphasis,fontStyle:"italic"},{tag:s.link,textDecoration:"underline"},{tag:s.heading,fontWeight:"bold",color:"#a277ff"},{tag:[s.atom,s.bool,s.special(s.variableName)],color:"#edecee"},{tag:s.invalid,color:"#ff6767"},{tag:s.strikethrough,textDecoration:"line-through"},...n]})},ux=hx(),dx={background:"#2E3235",foreground:"#DDDDDD",caret:"#DDDDDD",selection:"#202325",selectionMatch:"#202325",gutterBackground:"#292d30",gutterForeground:"#808080",gutterBorder:"1px solid #ffffff10",lineHighlight:"#B9D2FF30"},fx=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},dx,t),styles:[{tag:s.keyword,color:"#fda331"},{tag:[s.name,s.deleted,s.character,s.propertyName,s.macroName],color:"#b5bd68"},{tag:[s.variableName],color:"#6fb3d2"},{tag:[s.function(s.variableName)],color:"#fda331"},{tag:[s.labelName],color:"#fc6d24"},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:"#fda331"},{tag:[s.definition(s.name),s.separator],color:"#cc99cc"},{tag:[s.brace],color:"#cc99cc"},{tag:[s.annotation],color:"#fc6d24"},{tag:[s.number,s.changed,s.annotation,s.modifier,s.self,s.namespace],color:"#fda331"},{tag:[s.typeName,s.className],color:"#6fb3d2"},{tag:[s.operator,s.operatorKeyword],color:"#cc99cc"},{tag:[s.tagName],color:"#fda331"},{tag:[s.squareBracket],color:"#cc99cc"},{tag:[s.angleBracket],color:"#cc99cc"},{tag:[s.attributeName],color:"#6fb3d2"},{tag:[s.regexp],color:"#fda331"},{tag:[s.quote],color:"#DDDDDD"},{tag:[s.string],color:"#b5bd68"},{tag:s.link,color:"#6987AF",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[s.url,s.escape,s.special(s.string)],color:"#8abeb7"},{tag:[s.meta],color:"#A54543"},{tag:[s.comment],color:"#808080",fontStyle:"italic"},{tag:s.monospace,color:"#DDDDDD"},{tag:s.strong,fontWeight:"bold",color:"#fda331"},{tag:s.emphasis,fontStyle:"italic",color:"#6fb3d2"},{tag:s.strikethrough,textDecoration:"line-through"},{tag:s.heading,fontWeight:"bold",color:"#DDDDDD"},{tag:s.special(s.heading1),fontWeight:"bold",color:"#DDDDDD"},{tag:s.heading1,fontWeight:"bold",color:"#DDDDDD"},{tag:[s.heading2,s.heading3,s.heading4],fontWeight:"bold",color:"#DDDDDD"},{tag:[s.heading5,s.heading6],color:"#DDDDDD"},{tag:[s.atom,s.bool,s.special(s.variableName)],color:"#8abeb7"},{tag:[s.processingInstruction,s.inserted],color:"#8abeb7"},{tag:[s.contentSeparator],color:"#6fb3d2"},{tag:s.invalid,color:"#B9D2FF",borderBottom:"1px dotted #fc6d24"},...n]})};fx();var px={background:"#ffffff",foreground:"#2e3440",caret:"#3b4252",selection:"#eceff4",selectionMatch:"#e5e9f0",gutterBackground:"#eceff4",gutterForeground:"#2e3440",gutterBorder:"none",lineHighlight:"#02255f11"},mx=i=>{var{theme:e="light",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},px,t),styles:[{tag:s.keyword,color:"#5e81ac"},{tag:[s.name,s.deleted,s.character,s.propertyName,s.macroName],color:"#d08770"},{tag:[s.variableName],color:"#d08770"},{tag:[s.function(s.variableName)],color:"#5e81ac"},{tag:[s.labelName],color:"#81a1c1"},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:"#5e81ac"},{tag:[s.definition(s.name),s.separator],color:"#a3be8c"},{tag:[s.brace],color:"#8fbcbb"},{tag:[s.annotation],color:"#d30102"},{tag:[s.number,s.changed,s.annotation,s.modifier,s.self,s.namespace],color:"#88c0d0"},{tag:[s.typeName,s.className],color:"#ebcb8b"},{tag:[s.operator,s.operatorKeyword],color:"#a3be8c"},{tag:[s.tagName],color:"#b48ead"},{tag:[s.squareBracket],color:"#bf616a"},{tag:[s.angleBracket],color:"#d08770"},{tag:[s.attributeName],color:"#ebcb8b"},{tag:[s.regexp],color:"#5e81ac"},{tag:[s.quote],color:"#3b4252"},{tag:[s.string],color:"#d08770"},{tag:s.link,color:"#8fbcbb",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[s.url,s.escape,s.special(s.string)],color:"#d08770"},{tag:[s.meta],color:"#88c0d0"},{tag:[s.comment],color:"#434c5e",fontStyle:"italic"},{tag:s.strong,fontWeight:"bold",color:"#5e81ac"},{tag:s.emphasis,fontStyle:"italic",color:"#5e81ac"},{tag:s.strikethrough,textDecoration:"line-through"},{tag:s.heading,fontWeight:"bold",color:"#5e81ac"},{tag:s.special(s.heading1),fontWeight:"bold",color:"#5e81ac"},{tag:s.heading1,fontWeight:"bold",color:"#5e81ac"},{tag:[s.heading2,s.heading3,s.heading4],fontWeight:"bold",color:"#5e81ac"},{tag:[s.heading5,s.heading6],color:"#5e81ac"},{tag:[s.atom,s.bool,s.special(s.variableName)],color:"#d08770"},{tag:[s.processingInstruction,s.inserted],color:"#8fbcbb"},{tag:[s.contentSeparator],color:"#ebcb8b"},{tag:s.invalid,color:"#434c5e",borderBottom:"1px dotted #d30102"},...n]})};mx();var gx={background:"#FFFFFF",foreground:"#000000",caret:"#FBAC52",selection:"#FFD420",selectionMatch:"#FFD420",gutterBackground:"#f5f5f5",gutterForeground:"#4D4D4C",gutterBorder:"transparent",lineHighlight:"#00000012"},Ox=i=>{var{theme:e="light",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},gx,t),styles:[{tag:[s.meta,s.comment],color:"#804000"},{tag:[s.keyword,s.strong],color:"#0000FF"},{tag:[s.number],color:"#FF0080"},{tag:[s.string],color:"#FF0080"},{tag:[s.variableName],color:"#006600"},{tag:[s.escape],color:"#33CC33"},{tag:[s.tagName],color:"#1C02FF"},{tag:[s.heading],color:"#0C07FF"},{tag:[s.quote],color:"#000000"},{tag:[s.list],color:"#B90690"},{tag:[s.documentMeta],color:"#888888"},{tag:[s.function(s.variableName)],color:"#0000A2"},{tag:[s.definition(s.typeName),s.typeName],color:"#6D79DE"},...n]})},bx=Ox(),yx={background:"#28211c",foreground:"#9d9b97",caret:"#797977",selection:"#4f382b",selectionMatch:"#4f382b",gutterBackground:"#28211c",gutterForeground:"#666666",lineHighlight:"#ffffff1a"},vx=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},yx,t),styles:[{tag:[s.atom,s.number,s.link,s.bool],color:"#9b859d"},{tag:s.comment,color:"#937121"},{tag:[s.keyword,s.tagName],color:"#cf6a4c"},{tag:s.string,color:"#f9ee98"},{tag:s.bracket,color:"#9d9b97"},{tag:[s.variableName],color:"#5ea6ea"},{tag:s.definition(s.variableName),color:"#cf7d34"},{tag:[s.function(s.variableName),s.className],color:"#cf7d34"},{tag:[s.propertyName,s.attributeName],color:"#54be0d"},...n]})},kx=vx(),we={background:"#232a2f",foreground:"#939da5",selection:"#204062",selectionMatch:"#204062",cursor:"#939da5",dropdownBackground:"#1a2023",activeLine:"#4469832b",matchingBracket:"#204062",keyword:"#ba8ef7",storage:"#ba8ef7",variable:"#939da5",parameter:"#939da5",function:"#ffea6b",string:"#5bec95",constant:"#939da5",type:"#89ddff",class:"#ffea6b",number:"#89ddff",comment:"#707a84",heading:"#5bec95",invalid:"#ff6a80",regexp:"#56adb7",tag:"#ff6a80"},wx={background:we.background,foreground:we.foreground,caret:we.cursor,selection:we.selection,selectionMatch:we.selectionMatch,gutterBackground:we.background,gutterForeground:we.foreground,lineHighlight:we.activeLine},xx=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},wx,t),styles:[{tag:s.keyword,color:we.keyword},{tag:[s.name,s.deleted,s.character,s.macroName],color:we.variable},{tag:[s.propertyName],color:we.function},{tag:[s.processingInstruction,s.string,s.inserted,s.special(s.string)],color:we.string},{tag:[s.function(s.variableName),s.labelName],color:we.function},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:we.constant},{tag:[s.definition(s.name),s.separator],color:we.variable},{tag:[s.className],color:we.class},{tag:[s.number,s.changed,s.annotation,s.modifier,s.self,s.namespace],color:we.number},{tag:[s.typeName],color:we.type,fontStyle:we.type},{tag:[s.operator],color:we.keyword},{tag:[s.url,s.escape,s.regexp,s.link],color:we.regexp},{tag:[s.meta,s.comment],color:we.comment},{tag:s.tagName,color:we.tag},{tag:s.strong,fontWeight:"bold"},{tag:s.emphasis,fontStyle:"italic"},{tag:s.link,textDecoration:"underline"},{tag:s.heading,fontWeight:"bold",color:we.heading},{tag:[s.atom,s.special(s.variableName)],color:we.variable},{tag:s.invalid,color:we.invalid},{tag:s.strikethrough,textDecoration:"line-through"},{tag:[s.operatorKeyword,s.bool,s.null,s.variableName],color:we.constant},...n]})};xx();var Sx={background:"#2B2B2B",foreground:"#f8f8f2",caret:"#FFFFFF",selection:"rgba(255, 255, 255, 0.1)",selectionMatch:"rgba(255, 255, 255, 0.2)",gutterBackground:"rgba(255, 255, 255, 0.1)",gutterForeground:"#999",gutterBorder:"transparent",lineHighlight:"rgba(255, 255, 255, 0.1)"},Px=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},Sx,t),styles:[{tag:[s.atom,s.number],color:"#bd93f9"},{tag:[s.comment],color:"#61A151"},{tag:[s.string],color:"#6A8759"},{tag:[s.variableName,s.operator],color:"#A9B7C6"},{tag:[s.meta,s.className],color:"#A9B7C6"},{tag:[s.propertyName],color:"#FFC66D"},{tag:[s.keyword],color:"#CC7832"},{tag:[s.tagName],color:"#ff79c6"},{tag:[s.typeName],color:"#ffb86c"},...n]})},Qx=Px(),Cx={background:"#282a36",foreground:"#f8f8f2",caret:"#f8f8f0",selection:"rgba(255, 255, 255, 0.1)",selectionMatch:"rgba(255, 255, 255, 0.2)",gutterBackground:"#282a36",gutterForeground:"#6D8A88",gutterBorder:"transparent",lineHighlight:"rgba(255, 255, 255, 0.1)"},$x=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},Cx,t),styles:[{tag:s.comment,color:"#6272a4"},{tag:s.string,color:"#f1fa8c"},{tag:s.atom,color:"#bd93f9"},{tag:s.meta,color:"#f8f8f2"},{tag:[s.keyword,s.operator,s.tagName],color:"#ff79c6"},{tag:[s.function(s.propertyName),s.propertyName],color:"#66d9ef"},{tag:[s.definition(s.variableName),s.function(s.variableName),s.className,s.attributeName],color:"#50fa7b"},{tag:s.atom,color:"#bd93f9"},...n]})},Ax=$x(),Tx={background:"#faf8f5",foreground:"#b29762",caret:"#93abdc",selection:"#e3dcce",selectionMatch:"#e3dcce",gutterBackground:"#faf8f5",gutterForeground:"#cdc4b1",gutterBorder:"transparent",lineHighlight:"#ddceb154"},Mx=i=>{var{theme:e="light",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},Tx,t),styles:[{tag:[s.comment,s.bracket],color:"#b6ad9a"},{tag:[s.atom,s.number,s.keyword,s.link,s.attributeName,s.quote],color:"#063289"},{tag:[s.emphasis,s.heading,s.tagName,s.propertyName,s.variableName],color:"#2d2006"},{tag:[s.typeName,s.url,s.string],color:"#896724"},{tag:[s.operator,s.string],color:"#1659df"},{tag:[s.propertyName],color:"#b29762"},{tag:[s.unit,s.punctuation],color:"#063289"},...n]})},Dx=Mx(),Bx={background:"#2a2734",foreground:"#6c6783",caret:"#ffad5c",selection:"#91ff6c26",selectionMatch:"#91ff6c26",gutterBackground:"#2a2734",gutterForeground:"#545167",lineHighlight:"#36334280"},Rx=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},Bx,t),styles:[{tag:[s.comment,s.bracket],color:"#6c6783"},{tag:[s.atom,s.number,s.keyword,s.link,s.attributeName,s.quote],color:"#ffcc99"},{tag:[s.emphasis,s.heading,s.tagName,s.propertyName,s.className,s.variableName],color:"#eeebff"},{tag:[s.typeName,s.url],color:"#7a63ee"},{tag:s.operator,color:"#ffad5c"},{tag:s.string,color:"#ffb870"},{tag:[s.propertyName],color:"#9a86fd"},{tag:[s.unit,s.punctuation],color:"#e09142"},...n]})},jx=Rx(),Ux={background:"#fff",foreground:"#000",caret:"#FFFFFF",selection:"#d7d4f0",selectionMatch:"#d7d4f0",gutterBackground:"#f7f7f7",gutterForeground:"#999",lineHighlight:"#006fff1c",gutterBorder:"transparent"},Nx=i=>{var{theme:e="light",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},Ux,t),styles:[{tag:[s.comment],color:"#3F7F5F"},{tag:[s.documentMeta],color:"#FF1717"},{tag:s.keyword,color:"#7F0055",fontWeight:"bold"},{tag:s.atom,color:"#00f"},{tag:s.number,color:"#164"},{tag:s.propertyName,color:"#164"},{tag:[s.variableName,s.definition(s.variableName)],color:"#0000C0"},{tag:s.function(s.variableName),color:"#0000C0"},{tag:s.string,color:"#2A00FF"},{tag:s.operator,color:"black"},{tag:s.tagName,color:"#170"},{tag:s.attributeName,color:"#00c"},{tag:s.link,color:"#219"},...n]})},Lx=Nx(),Zx={background:"#fff",foreground:"#24292e",selection:"#BBDFFF",selectionMatch:"#BBDFFF",gutterBackground:"#fff",gutterForeground:"#6e7781"},Ex=i=>{var{theme:e="light",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},Zx,t),styles:[{tag:[s.standard(s.tagName),s.tagName],color:"#116329"},{tag:[s.comment,s.bracket],color:"#6a737d"},{tag:[s.className,s.propertyName],color:"#6f42c1"},{tag:[s.variableName,s.attributeName,s.number,s.operator],color:"#005cc5"},{tag:[s.keyword,s.typeName,s.typeOperator,s.typeName],color:"#d73a49"},{tag:[s.string,s.meta,s.regexp],color:"#032f62"},{tag:[s.name,s.quote],color:"#22863a"},{tag:[s.heading,s.strong],color:"#24292e",fontWeight:"bold"},{tag:[s.emphasis],color:"#24292e",fontStyle:"italic"},{tag:[s.deleted],color:"#b31d28",backgroundColor:"ffeef0"},{tag:[s.atom,s.bool,s.special(s.variableName)],color:"#e36209"},{tag:[s.url,s.escape,s.regexp,s.link],color:"#032f62"},{tag:s.link,textDecoration:"underline"},{tag:s.strikethrough,textDecoration:"line-through"},{tag:s.invalid,color:"#cb2431"},...n]})},Wx=Ex(),Xx={background:"#0d1117",foreground:"#c9d1d9",caret:"#c9d1d9",selection:"#003d73",selectionMatch:"#003d73",lineHighlight:"#36334280"},Ix=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},Xx,t),styles:[{tag:[s.standard(s.tagName),s.tagName],color:"#7ee787"},{tag:[s.comment,s.bracket],color:"#8b949e"},{tag:[s.className,s.propertyName],color:"#d2a8ff"},{tag:[s.variableName,s.attributeName,s.number,s.operator],color:"#79c0ff"},{tag:[s.keyword,s.typeName,s.typeOperator,s.typeName],color:"#ff7b72"},{tag:[s.string,s.meta,s.regexp],color:"#a5d6ff"},{tag:[s.name,s.quote],color:"#7ee787"},{tag:[s.heading,s.strong],color:"#d2a8ff",fontWeight:"bold"},{tag:[s.emphasis],color:"#d2a8ff",fontStyle:"italic"},{tag:[s.deleted],color:"#ffdcd7",backgroundColor:"ffeef0"},{tag:[s.atom,s.bool,s.special(s.variableName)],color:"#ffab70"},{tag:s.link,textDecoration:"underline"},{tag:s.strikethrough,textDecoration:"line-through"},{tag:s.invalid,color:"#f97583"},...n]})},Fx=Ix(),Vx={background:"#282828",foreground:"#ebdbb2",caret:"#ebdbb2",selection:"#b99d555c",selectionMatch:"#b99d555c",lineHighlight:"#baa1602b",gutterBackground:"#282828",gutterForeground:"#7c6f64"},qx=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},Vx,t),styles:[{tag:s.keyword,color:"#fb4934"},{tag:[s.name,s.deleted,s.character,s.propertyName,s.macroName],color:"#8ec07c"},{tag:[s.variableName],color:"#83a598"},{tag:[s.function(s.variableName)],color:"#b8bb26",fontStyle:"bold"},{tag:[s.labelName],color:"#ebdbb2"},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:"#d3869b"},{tag:[s.definition(s.name),s.separator],color:"#ebdbb2"},{tag:[s.brace],color:"#ebdbb2"},{tag:[s.annotation],color:"#fb4934d"},{tag:[s.number,s.changed,s.annotation,s.modifier,s.self,s.namespace],color:"#d3869b"},{tag:[s.typeName,s.className],color:"#fabd2f"},{tag:[s.operator,s.operatorKeyword],color:"#fb4934"},{tag:[s.tagName],color:"#8ec07c",fontStyle:"bold"},{tag:[s.squareBracket],color:"#fe8019"},{tag:[s.angleBracket],color:"#83a598"},{tag:[s.attributeName],color:"#8ec07c"},{tag:[s.regexp],color:"#8ec07c"},{tag:[s.quote],color:"#928374"},{tag:[s.string],color:"#ebdbb2"},{tag:s.link,color:"#a89984",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[s.url,s.escape,s.special(s.string)],color:"#d3869b"},{tag:[s.meta],color:"#fabd2f"},{tag:[s.comment],color:"#928374",fontStyle:"italic"},{tag:s.strong,fontWeight:"bold",color:"#fe8019"},{tag:s.emphasis,fontStyle:"italic",color:"#b8bb26"},{tag:s.strikethrough,textDecoration:"line-through"},{tag:s.heading,fontWeight:"bold",color:"#b8bb26"},{tag:[s.heading1,s.heading2],fontWeight:"bold",color:"#b8bb26"},{tag:[s.heading3,s.heading4],fontWeight:"bold",color:"#fabd2f"},{tag:[s.heading5,s.heading6],color:"#fabd2f"},{tag:[s.atom,s.bool,s.special(s.variableName)],color:"#d3869b"},{tag:[s.processingInstruction,s.inserted],color:"#83a598"},{tag:[s.contentSeparator],color:"#fb4934"},{tag:s.invalid,color:"#fe8019",borderBottom:"1px dotted #fb4934d"},...n]})},Yx=qx(),_x={background:"#fbf1c7",foreground:"#3c3836",caret:"#af3a03",selection:"#bdae9391",selectionMatch:"#bdae9391",lineHighlight:"#a37f2238",gutterBackground:"#ebdbb2",gutterForeground:"#665c54",gutterBorder:"transparent"},zx=i=>{var{theme:e="light",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},_x,t),styles:[{tag:s.keyword,color:"#9d0006"},{tag:[s.name,s.deleted,s.character,s.propertyName,s.macroName],color:"#427b58"},{tag:[s.variableName],color:"#076678"},{tag:[s.function(s.variableName)],color:"#79740e",fontStyle:"bold"},{tag:[s.labelName],color:"#3c3836"},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:"#8f3f71"},{tag:[s.definition(s.name),s.separator],color:"#3c3836"},{tag:[s.brace],color:"#3c3836"},{tag:[s.annotation],color:"#9d0006"},{tag:[s.number,s.changed,s.annotation,s.modifier,s.self,s.namespace],color:"#8f3f71"},{tag:[s.typeName,s.className],color:"#b57614"},{tag:[s.operator,s.operatorKeyword],color:"#9d0006"},{tag:[s.tagName],color:"#427b58",fontStyle:"bold"},{tag:[s.squareBracket],color:"#af3a03"},{tag:[s.angleBracket],color:"#076678"},{tag:[s.attributeName],color:"#427b58"},{tag:[s.regexp],color:"#427b58"},{tag:[s.quote],color:"#928374"},{tag:[s.string],color:"#3c3836"},{tag:s.link,color:"#7c6f64",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[s.url,s.escape,s.special(s.string)],color:"#8f3f71"},{tag:[s.meta],color:"#b57614"},{tag:[s.comment],color:"#928374",fontStyle:"italic"},{tag:s.strong,fontWeight:"bold",color:"#af3a03"},{tag:s.emphasis,fontStyle:"italic",color:"#79740e"},{tag:s.strikethrough,textDecoration:"line-through"},{tag:s.heading,fontWeight:"bold",color:"#79740e"},{tag:[s.heading1,s.heading2],fontWeight:"bold",color:"#79740e"},{tag:[s.heading3,s.heading4],fontWeight:"bold",color:"#b57614"},{tag:[s.heading5,s.heading6],color:"#b57614"},{tag:[s.atom,s.bool,s.special(s.variableName)],color:"#8f3f71"},{tag:[s.processingInstruction,s.inserted],color:"#076678"},{tag:[s.contentSeparator],color:"#9d0006"},{tag:s.invalid,color:"#af3a03",borderBottom:"1px dotted #9d0006"},...n]})},Gx=zx(),Ae={background:"#221a0f",foreground:"#d3af86",selection:"#84613daa",selectionMatch:"#84613daa",cursor:"#d3af86",dropdownBackground:"#51412c",activeLine:"#5e452b52",matchingBracket:"#5e452b",keyword:"#98676a",storage:"#98676a",variable:"#dc3958",parameter:"#dc3958",function:"#7e602c",string:"#889b4a",constant:"#f79a32",type:"#f06431",class:"#f06431",number:"#f79a32",comment:"#a57a4c",heading:"#8ab1b0",invalid:"#dc3958",regexp:"#7e602c",tag:"#dc3958"},Hx={background:Ae.background,foreground:Ae.foreground,caret:Ae.cursor,selection:Ae.selection,selectionMatch:Ae.selection,gutterBackground:Ae.background,gutterForeground:Ae.foreground,lineHighlight:Ae.activeLine},Kx=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},Hx,t),styles:[{tag:s.keyword,color:Ae.keyword},{tag:[s.name,s.deleted,s.character,s.macroName],color:Ae.variable},{tag:[s.propertyName],color:Ae.function},{tag:[s.processingInstruction,s.string,s.inserted,s.special(s.string)],color:Ae.string},{tag:[s.function(s.variableName),s.labelName],color:Ae.function},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:Ae.constant},{tag:[s.definition(s.name),s.separator],color:Ae.variable},{tag:[s.className],color:Ae.class},{tag:[s.number,s.changed,s.annotation,s.modifier,s.self,s.namespace],color:Ae.number},{tag:[s.typeName],color:Ae.type,fontStyle:Ae.type},{tag:[s.operator,s.operatorKeyword],color:Ae.keyword},{tag:[s.url,s.escape,s.regexp,s.link],color:Ae.regexp},{tag:[s.meta,s.comment],color:Ae.comment},{tag:s.tagName,color:Ae.tag},{tag:s.strong,fontWeight:"bold"},{tag:s.emphasis,fontStyle:"italic"},{tag:s.link,textDecoration:"underline"},{tag:s.heading,fontWeight:"bold",color:Ae.heading},{tag:[s.atom,s.bool,s.special(s.variableName)],color:Ae.variable},{tag:s.invalid,color:Ae.invalid},{tag:s.strikethrough,textDecoration:"line-through"},...n]})};Kx();var Jx={background:"#2e3235",foreground:"#bdbdbd",caret:"#a0a4ae",selection:"#d7d4f063",selectionMatch:"#d7d4f063",gutterBackground:"#2e3235",gutterForeground:"#999",gutterActiveForeground:"#4f5b66",lineHighlight:"#545b6130"},Ym=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},Jx,t),styles:[{tag:s.keyword,color:"#cf6edf"},{tag:[s.name,s.deleted,s.character,s.macroName],color:"#56c8d8"},{tag:[s.propertyName],color:"#facf4e"},{tag:[s.variableName],color:"#bdbdbd"},{tag:[s.function(s.variableName)],color:"#56c8d8"},{tag:[s.labelName],color:"#cf6edf"},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:"#facf4e"},{tag:[s.definition(s.name),s.separator],color:"#fa5788"},{tag:[s.brace],color:"#cf6edf"},{tag:[s.annotation],color:"#ff5f52"},{tag:[s.number,s.changed,s.annotation,s.modifier,s.self,s.namespace],color:"#ffad42"},{tag:[s.typeName,s.className],color:"#ffad42"},{tag:[s.operator,s.operatorKeyword],color:"#7186f0"},{tag:[s.tagName],color:"#99d066"},{tag:[s.squareBracket],color:"#ff5f52"},{tag:[s.angleBracket],color:"#606f7a"},{tag:[s.attributeName],color:"#bdbdbd"},{tag:[s.regexp],color:"#ff5f52"},{tag:[s.quote],color:"#6abf69"},{tag:[s.string],color:"#99d066"},{tag:s.link,color:"#56c8d8",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[s.url,s.escape,s.special(s.string)],color:"#facf4e"},{tag:[s.meta],color:"#707d8b"},{tag:[s.comment],color:"#707d8b",fontStyle:"italic"},{tag:s.monospace,color:"#bdbdbd"},{tag:s.strong,fontWeight:"bold",color:"#ff5f52"},{tag:s.emphasis,fontStyle:"italic",color:"#99d066"},{tag:s.strikethrough,textDecoration:"line-through"},{tag:s.heading,fontWeight:"bold",color:"#facf4e"},{tag:s.heading1,fontWeight:"bold",color:"#facf4e"},{tag:[s.heading2,s.heading3,s.heading4],fontWeight:"bold",color:"#facf4e"},{tag:[s.heading5,s.heading6],color:"#facf4e"},{tag:[s.atom,s.bool,s.special(s.variableName)],color:"#56c8d8"},{tag:[s.processingInstruction,s.inserted],color:"#ff5f52"},{tag:[s.contentSeparator],color:"#56c8d8"},{tag:s.invalid,color:"#606f7a",borderBottom:"1px dotted #ff5f52"},...n]})},eS=Ym();Ym();var tS={background:"#FAFAFA",foreground:"#90A4AE",caret:"#272727",selection:"#80CBC440",selectionMatch:"#80CBC440",gutterBackground:"#FAFAFA",gutterForeground:"#90A4AE",gutterBorder:"transparent",lineHighlight:"#CCD7DA50"},nS=i=>{var{theme:e="light",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},tS,t),styles:[{tag:s.keyword,color:"#39ADB5"},{tag:[s.name,s.deleted,s.character,s.macroName],color:"#90A4AE"},{tag:[s.propertyName],color:"#6182B8"},{tag:[s.processingInstruction,s.string,s.inserted,s.special(s.string)],color:"#91B859"},{tag:[s.function(s.variableName),s.labelName],color:"#6182B8"},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:"#39ADB5"},{tag:[s.definition(s.name),s.separator],color:"#90A4AE"},{tag:[s.className],color:"#E2931D"},{tag:[s.number,s.changed,s.annotation,s.modifier,s.self,s.namespace],color:"#F76D47"},{tag:[s.typeName],color:"#E2931D",fontStyle:"#E2931D"},{tag:[s.operator,s.operatorKeyword],color:"#39ADB5"},{tag:[s.url,s.escape,s.regexp,s.link],color:"#91B859"},{tag:[s.meta,s.comment],color:"#90A4AE"},{tag:s.strong,fontWeight:"bold"},{tag:s.emphasis,fontStyle:"italic"},{tag:s.link,textDecoration:"underline"},{tag:s.heading,fontWeight:"bold",color:"#39ADB5"},{tag:[s.atom,s.bool,s.special(s.variableName)],color:"#90A4AE"},{tag:s.invalid,color:"#E5393570"},{tag:s.strikethrough,textDecoration:"line-through"},...n]})},iS=nS(),Te={background:"#272822",foreground:"#f8f8f2",selection:"#4a4a76",selectionMatch:"#4a4a76",cursor:"#f8f8f0",dropdownBackground:"#414339",activeLine:"#3e3d3257",matchingBracket:"#3e3d32",keyword:"#F92672",storage:"#F92672",variable:"#FD971F",parameter:"#FD971F",function:"#66D9EF",string:"#E6DB74",constant:"#AE81FF",type:"#66D9EF",class:"#A6E22E",number:"#AE81FF",comment:"#88846f",heading:"#A6E22E",invalid:"#F44747",regexp:"#E6DB74",tag:"#F92672"},rS={background:Te.background,foreground:Te.foreground,caret:Te.cursor,selection:Te.selection,selectionMatch:Te.selection,gutterBackground:Te.background,gutterForeground:Te.foreground,lineHighlight:Te.activeLine},oS=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},rS,t),styles:[{tag:s.keyword,color:Te.keyword},{tag:[s.name,s.deleted,s.character,s.macroName],color:Te.variable},{tag:[s.propertyName],color:Te.function},{tag:[s.processingInstruction,s.string,s.inserted,s.special(s.string)],color:Te.string},{tag:[s.function(s.variableName),s.labelName],color:Te.function},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:Te.constant},{tag:[s.definition(s.name),s.separator],color:Te.variable},{tag:[s.className],color:Te.class},{tag:[s.number,s.changed,s.annotation,s.modifier,s.self,s.namespace],color:Te.number},{tag:[s.typeName],color:Te.type,fontStyle:Te.type},{tag:[s.operator,s.operatorKeyword],color:Te.keyword},{tag:[s.url,s.escape,s.regexp,s.link],color:Te.regexp},{tag:[s.meta,s.comment],color:Te.comment},{tag:s.tagName,color:Te.tag},{tag:s.strong,fontWeight:"bold"},{tag:s.emphasis,fontStyle:"italic"},{tag:s.link,textDecoration:"underline"},{tag:s.heading,fontWeight:"bold",color:Te.heading},{tag:[s.atom,s.bool,s.special(s.variableName)],color:Te.variable},{tag:s.invalid,color:Te.invalid},{tag:s.strikethrough,textDecoration:"line-through"},...n]})};oS();var Me={background:"#1e1e1e",foreground:"#c5c8c6",selection:"#4747a1",selectionMatch:"#4747a1",cursor:"#c07020",dropdownBackground:"#525252",activeLine:"#30303078",matchingBracket:"#303030",keyword:"#676867",storage:"#676867",variable:"#c7444a",parameter:"#6089B4",function:"#9872A2",string:"#D08442",constant:"#8080FF",type:"#9B0000",class:"#CE6700",number:"#6089B4",comment:"#9A9B99",heading:"#D0B344",invalid:"#FF0B00",regexp:"#D08442",tag:"#6089B4"},sS={background:Me.background,foreground:Me.foreground,caret:Me.cursor,selection:Me.selection,selectionMatch:Me.selection,gutterBackground:Me.background,gutterForeground:Me.foreground,lineHighlight:Me.activeLine},aS=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},sS,t),styles:[{tag:s.keyword,color:Me.keyword},{tag:[s.name,s.deleted,s.character,s.macroName],color:Me.variable},{tag:[s.propertyName],color:Me.function},{tag:[s.processingInstruction,s.string,s.inserted,s.special(s.string)],color:Me.string},{tag:[s.function(s.variableName),s.labelName],color:Me.function},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:Me.constant},{tag:[s.definition(s.name),s.separator],color:Me.variable},{tag:[s.className],color:Me.class},{tag:[s.number,s.changed,s.annotation,s.modifier,s.self,s.namespace],color:Me.number},{tag:[s.typeName],color:Me.type,fontStyle:Me.type},{tag:[s.operator,s.operatorKeyword],color:Me.keyword},{tag:[s.url,s.escape,s.regexp,s.link],color:Me.regexp},{tag:[s.meta,s.comment],color:Me.comment},{tag:s.tagName,color:Me.tag},{tag:s.strong,fontWeight:"bold"},{tag:s.emphasis,fontStyle:"italic"},{tag:s.link,textDecoration:"underline"},{tag:s.heading,fontWeight:"bold",color:Me.heading},{tag:[s.atom,s.bool,s.special(s.variableName)],color:Me.variable},{tag:s.invalid,color:Me.invalid},{tag:s.strikethrough,textDecoration:"line-through"},...n]})};aS();var lS={background:"#f2f1f8",foreground:"#0c006b",caret:"#5c49e9",selection:"#d5d1f2",selectionMatch:"#d5d1f2",gutterBackground:"#f2f1f8",gutterForeground:"#0c006b70",lineHighlight:"#16067911"},cS=i=>{var{theme:e="light",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},lS,t),styles:[{tag:s.comment,color:"#9995b7"},{tag:s.keyword,color:"#ff5792",fontWeight:"bold"},{tag:[s.definitionKeyword,s.modifier],color:"#ff5792"},{tag:[s.className,s.tagName,s.definition(s.typeName)],color:"#0094f0"},{tag:[s.number,s.bool,s.null,s.special(s.brace)],color:"#5842ff"},{tag:[s.definition(s.propertyName),s.function(s.variableName)],color:"#0095a8"},{tag:s.typeName,color:"#b3694d"},{tag:[s.propertyName,s.variableName],color:"#fa8900"},{tag:s.operator,color:"#ff5792"},{tag:s.self,color:"#e64100"},{tag:[s.string,s.regexp],color:"#00b368"},{tag:[s.paren,s.bracket],color:"#0431fa"},{tag:s.labelName,color:"#00bdd6"},{tag:s.attributeName,color:"#e64100"},{tag:s.angleBracket,color:"#9995b7"},...n]})},hS=cS(),uS={background:"#2e3440",foreground:"#FFFFFF",caret:"#FFFFFF",selection:"#4b556a",selectionMatch:"#4b556a",gutterBackground:"#2e3440",gutterForeground:"#4c566a",gutterActiveForeground:"#d8dee9",lineHighlight:"#4c566a29"},dS=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},uS,t),styles:[{tag:s.keyword,color:"#5e81ac"},{tag:[s.name,s.deleted,s.character,s.propertyName,s.macroName],color:"#88c0d0"},{tag:[s.variableName],color:"#8fbcbb"},{tag:[s.function(s.variableName)],color:"#8fbcbb"},{tag:[s.labelName],color:"#81a1c1"},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:"#5e81ac"},{tag:[s.definition(s.name),s.separator],color:"#a3be8c"},{tag:[s.brace],color:"#8fbcbb"},{tag:[s.annotation],color:"#d30102"},{tag:[s.number,s.changed,s.annotation,s.modifier,s.self,s.namespace],color:"#b48ead"},{tag:[s.typeName,s.className],color:"#ebcb8b"},{tag:[s.operator,s.operatorKeyword],color:"#a3be8c"},{tag:[s.tagName],color:"#b48ead"},{tag:[s.squareBracket],color:"#bf616a"},{tag:[s.angleBracket],color:"#d08770"},{tag:[s.attributeName],color:"#ebcb8b"},{tag:[s.regexp],color:"#5e81ac"},{tag:[s.quote],color:"#b48ead"},{tag:[s.string],color:"#a3be8c"},{tag:s.link,color:"#a3be8c",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[s.url,s.escape,s.special(s.string)],color:"#8fbcbb"},{tag:[s.meta],color:"#88c0d0"},{tag:[s.monospace],color:"#d8dee9",fontStyle:"italic"},{tag:[s.comment],color:"#4c566a",fontStyle:"italic"},{tag:s.strong,fontWeight:"bold",color:"#5e81ac"},{tag:s.emphasis,fontStyle:"italic",color:"#5e81ac"},{tag:s.strikethrough,textDecoration:"line-through"},{tag:s.heading,fontWeight:"bold",color:"#5e81ac"},{tag:s.special(s.heading1),fontWeight:"bold",color:"#5e81ac"},{tag:s.heading1,fontWeight:"bold",color:"#5e81ac"},{tag:[s.heading2,s.heading3,s.heading4],fontWeight:"bold",color:"#5e81ac"},{tag:[s.heading5,s.heading6],color:"#5e81ac"},{tag:[s.atom,s.bool,s.special(s.variableName)],color:"#d08770"},{tag:[s.processingInstruction,s.inserted],color:"#8fbcbb"},{tag:[s.contentSeparator],color:"#ebcb8b"},{tag:s.invalid,color:"#434c5e",borderBottom:"1px dotted #d30102"},...n]})},fS=dS(),pS={background:"#272822",foreground:"#FFFFFF",caret:"#FFFFFF",selection:"#49483E",selectionMatch:"#49483E",gutterBackground:"#272822",gutterForeground:"#FFFFFF70",lineHighlight:"#0000003b"},mS=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},pS,t),styles:[{tag:[s.comment,s.documentMeta],color:"#8292a2"},{tag:[s.number,s.bool,s.null,s.atom],color:"#ae81ff"},{tag:[s.attributeValue,s.className,s.name],color:"#e6db74"},{tag:[s.propertyName,s.attributeName],color:"#a6e22e"},{tag:[s.variableName],color:"#9effff"},{tag:[s.squareBracket],color:"#bababa"},{tag:[s.string,s.special(s.brace)],color:"#e6db74"},{tag:[s.regexp,s.className,s.typeName,s.definition(s.typeName)],color:"#66d9ef"},{tag:[s.definition(s.variableName),s.definition(s.propertyName),s.function(s.variableName)],color:"#fd971f"},{tag:[s.keyword,s.definitionKeyword,s.modifier,s.tagName,s.angleBracket],color:"#f92672"},...n]})},gS=mS(),De={background:"#F5F5F5",foreground:"#333333",selection:"#C9D0D9",selectionMatch:"#C9D0D9",cursor:"#54494B",dropdownBackground:"#F5F5F5",activeLine:"#79ff002b",matchingBracket:"#E4F6D4",keyword:"#4B69C6",storage:"#4B69C6",variable:"#7A3E9D",parameter:"#7A3E9D",function:"#AA3731",string:"#448C27",constant:"#9C5D27",type:"#7A3E9D",class:"#AA3731",number:"#9C5D27",comment:"#AAAAAA",heading:"#AA3731",invalid:"#cd3131",regexp:"#4B69C6",tag:"#4B69C6"},OS={background:De.background,foreground:De.foreground,caret:De.cursor,selection:De.selection,selectionMatch:De.selection,gutterBackground:De.background,gutterForeground:De.foreground,gutterBorder:"transparent",lineHighlight:De.activeLine},bS=i=>{var{theme:e="light",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},OS,t),styles:[{tag:s.keyword,color:De.keyword},{tag:[s.name,s.deleted,s.character,s.macroName],color:De.variable},{tag:[s.propertyName],color:De.function},{tag:[s.processingInstruction,s.string,s.inserted,s.special(s.string)],color:De.string},{tag:[s.function(s.variableName),s.labelName],color:De.function},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:De.constant},{tag:[s.definition(s.name),s.separator],color:De.variable},{tag:[s.className],color:De.class},{tag:[s.number,s.changed,s.annotation,s.modifier,s.self,s.namespace],color:De.number},{tag:[s.typeName],color:De.type,fontStyle:De.type},{tag:[s.operator,s.operatorKeyword],color:De.keyword},{tag:[s.url,s.escape,s.regexp,s.link],color:De.regexp},{tag:[s.meta,s.comment],color:De.comment},{tag:s.tagName,color:De.tag},{tag:s.strong,fontWeight:"bold"},{tag:s.emphasis,fontStyle:"italic"},{tag:s.link,textDecoration:"underline"},{tag:s.heading,fontWeight:"bold",color:De.heading},{tag:[s.atom,s.bool,s.special(s.variableName)],color:De.variable},{tag:s.invalid,color:De.invalid},{tag:s.strikethrough,textDecoration:"line-through"},...n]})};bS();var Be={background:"#390000",foreground:"#F8F8F8",selection:"#750000",selectionMatch:"#750000",cursor:"#970000",dropdownBackground:"#580000",activeLine:"#ff000033",matchingBracket:"#ff000033",keyword:"#f12727ff",storage:"#ff6262ff",variable:"#edef7dff",parameter:"#edef7dff",function:"#ffb454ff",string:"#edef7dff",constant:"#ec0d1e",type:"#9df39fff",class:"#fec758ff",number:"#994646ff",comment:"#e7c0c0ff",heading:"#fec758ff",invalid:"#ffffffff",regexp:"#edef7dff",tag:"#aa5507ff"},yS={background:Be.background,foreground:Be.foreground,caret:Be.cursor,selection:Be.selection,selectionMatch:Be.selection,gutterBackground:Be.background,gutterForeground:Be.foreground,lineHighlight:Be.activeLine},vS=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},yS,t),styles:[{tag:s.keyword,color:Be.keyword},{tag:[s.name,s.deleted,s.character,s.macroName],color:Be.variable},{tag:[s.propertyName],color:Be.function},{tag:[s.processingInstruction,s.string,s.inserted,s.special(s.string)],color:Be.string},{tag:[s.function(s.variableName),s.labelName],color:Be.function},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:Be.constant},{tag:[s.definition(s.name),s.separator],color:Be.variable},{tag:[s.className],color:Be.class},{tag:[s.number,s.changed,s.annotation,s.modifier,s.self,s.namespace],color:Be.number},{tag:[s.typeName],color:Be.type,fontStyle:Be.type},{tag:[s.operator,s.operatorKeyword],color:Be.keyword},{tag:[s.url,s.escape,s.regexp,s.link],color:Be.regexp},{tag:[s.meta,s.comment],color:Be.comment},{tag:s.tagName,color:Be.tag},{tag:s.strong,fontWeight:"bold"},{tag:s.emphasis,fontStyle:"italic"},{tag:s.link,textDecoration:"underline"},{tag:s.heading,fontWeight:"bold",color:Be.heading},{tag:[s.atom,s.bool,s.special(s.variableName)],color:Be.variable},{tag:s.invalid,color:Be.invalid},{tag:s.strikethrough,textDecoration:"line-through"},...n]})};vS();var Re={background:"#002B36",foreground:"#839496",selection:"#004454AA",selectionMatch:"#005A6FAA",cursor:"#D30102",dropdownBackground:"#00212B",dropdownBorder:"#2AA19899",activeLine:"#00cafe11",matchingBracket:"#073642",keyword:"#859900",storage:"#93A1A1",variable:"#268BD2",parameter:"#268BD2",function:"#268BD2",string:"#2AA198",constant:"#CB4B16",type:"#859900",class:"#268BD2",number:"#D33682",comment:"#586E75",heading:"#268BD2",invalid:"#DC322F",regexp:"#DC322F",tag:"#268BD2"},kS={background:Re.background,foreground:Re.foreground,caret:Re.cursor,selection:Re.selection,selectionMatch:Re.selection,gutterBackground:Re.background,gutterForeground:Re.foreground,gutterBorder:"transparent",lineHighlight:Re.activeLine},wS=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},kS,t),styles:[{tag:s.keyword,color:Re.keyword},{tag:[s.name,s.deleted,s.character,s.macroName],color:Re.variable},{tag:[s.propertyName],color:Re.function},{tag:[s.processingInstruction,s.string,s.inserted,s.special(s.string)],color:Re.string},{tag:[s.function(s.variableName),s.labelName],color:Re.function},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:Re.constant},{tag:[s.definition(s.name),s.separator],color:Re.variable},{tag:[s.className],color:Re.class},{tag:[s.number,s.changed,s.annotation,s.modifier,s.self,s.namespace],color:Re.number},{tag:[s.typeName],color:Re.type,fontStyle:Re.type},{tag:[s.operator,s.operatorKeyword],color:Re.keyword},{tag:[s.url,s.escape,s.regexp,s.link],color:Re.regexp},{tag:[s.meta,s.comment],color:Re.comment},{tag:s.tagName,color:Re.tag},{tag:s.strong,fontWeight:"bold"},{tag:s.emphasis,fontStyle:"italic"},{tag:s.link,textDecoration:"underline"},{tag:s.heading,fontWeight:"bold",color:Re.heading},{tag:[s.atom,s.bool,s.special(s.variableName)],color:Re.variable},{tag:s.invalid,color:Re.invalid},{tag:s.strikethrough,textDecoration:"line-through"},...n]})},xS=wS(),je={background:"#FDF6E3",foreground:"#657B83",selection:"#EEE8D5",selectionMatch:"#EEE8D5",cursor:"#657B83",dropdownBackground:"#EEE8D5",dropdownBorder:"#D3AF86",activeLine:"#3d392d11",matchingBracket:"#EEE8D5",keyword:"#859900",storage:"#586E75",variable:"#268BD2",parameter:"#268BD2",function:"#268BD2",string:"#2AA198",constant:"#CB4B16",type:"#859900",class:"#268BD2",number:"#D33682",comment:"#93A1A1",heading:"#268BD2",invalid:"#DC322F",regexp:"#DC322F",tag:"#268BD2"},SS={background:je.background,foreground:je.foreground,caret:je.cursor,selection:je.selection,selectionMatch:je.selectionMatch,gutterBackground:je.background,gutterForeground:je.foreground,gutterBorder:"transparent",lineHighlight:je.activeLine},PS=i=>{var{theme:e="light",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},SS,t),styles:[{tag:s.keyword,color:je.keyword},{tag:[s.name,s.deleted,s.character,s.macroName],color:je.variable},{tag:[s.propertyName],color:je.function},{tag:[s.processingInstruction,s.string,s.inserted,s.special(s.string)],color:je.string},{tag:[s.function(s.variableName),s.labelName],color:je.function},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:je.constant},{tag:[s.definition(s.name),s.separator],color:je.variable},{tag:[s.className],color:je.class},{tag:[s.number,s.changed,s.annotation,s.modifier,s.self,s.namespace],color:je.number},{tag:[s.typeName],color:je.type,fontStyle:je.type},{tag:[s.operator,s.operatorKeyword],color:je.keyword},{tag:[s.url,s.escape,s.regexp,s.link],color:je.regexp},{tag:[s.meta,s.comment],color:je.comment},{tag:s.tagName,color:je.tag},{tag:s.strong,fontWeight:"bold"},{tag:s.emphasis,fontStyle:"italic"},{tag:s.link,textDecoration:"underline"},{tag:s.heading,fontWeight:"bold",color:je.heading},{tag:[s.atom,s.bool,s.special(s.variableName)],color:je.variable},{tag:s.invalid,color:je.invalid},{tag:s.strikethrough,textDecoration:"line-through"},...n]})},QS=PS(),CS={background:"#303841",foreground:"#FFFFFF",caret:"#FBAC52",selection:"#4C5964",selectionMatch:"#3A546E",gutterBackground:"#303841",gutterForeground:"#FFFFFF70",lineHighlight:"#00000059"};function $S(i){var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},CS,t),styles:[{tag:[s.meta,s.comment],color:"#A2A9B5"},{tag:[s.attributeName,s.keyword],color:"#B78FBA"},{tag:s.function(s.variableName),color:"#5AB0B0"},{tag:[s.string,s.regexp,s.attributeValue],color:"#99C592"},{tag:s.operator,color:"#f47954"},{tag:[s.tagName,s.modifier],color:"#E35F63"},{tag:[s.number,s.definition(s.tagName),s.className,s.definition(s.variableName)],color:"#fbac52"},{tag:[s.atom,s.bool,s.special(s.variableName)],color:"#E35F63"},{tag:s.variableName,color:"#539ac4"},{tag:[s.propertyName,s.typeName],color:"#629ccd"},{tag:s.propertyName,color:"#36b7b5"},...n]})}var AS=$S(),TS={background:"#1a1b26",foreground:"#787c99",caret:"#c0caf5",selection:"#515c7e40",selectionMatch:"#16161e",gutterBackground:"#1a1b26",gutterForeground:"#787c99",gutterBorder:"transparent",lineHighlight:"#474b6611"},MS=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},TS,t),styles:[{tag:s.keyword,color:"#bb9af7"},{tag:[s.name,s.deleted,s.character,s.macroName],color:"#c0caf5"},{tag:[s.propertyName],color:"#7aa2f7"},{tag:[s.processingInstruction,s.string,s.inserted,s.special(s.string)],color:"#9ece6a"},{tag:[s.function(s.variableName),s.labelName],color:"#7aa2f7"},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:"#bb9af7"},{tag:[s.definition(s.name),s.separator],color:"#c0caf5"},{tag:[s.className],color:"#c0caf5"},{tag:[s.number,s.changed,s.annotation,s.modifier,s.self,s.namespace],color:"#ff9e64"},{tag:[s.typeName],color:"#0db9d7"},{tag:[s.operator,s.operatorKeyword],color:"#bb9af7"},{tag:[s.url,s.escape,s.regexp,s.link],color:"#b4f9f8"},{tag:[s.meta,s.comment],color:"#444b6a"},{tag:s.strong,fontWeight:"bold"},{tag:s.emphasis,fontStyle:"italic"},{tag:s.link,textDecoration:"underline"},{tag:s.heading,fontWeight:"bold",color:"#89ddff"},{tag:[s.atom,s.bool,s.special(s.variableName)],color:"#c0caf5"},{tag:s.invalid,color:"#ff5370"},{tag:s.strikethrough,textDecoration:"line-through"},...n]})},DS=MS(),BS={background:"#24283b",foreground:"#7982a9",caret:"#c0caf5",selection:"#6f7bb630",selectionMatch:"#343b5f",gutterBackground:"#24283b",gutterForeground:"#7982a9",gutterBorder:"transparent",lineHighlight:"#292e427a"},RS=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},BS,t),styles:[{tag:s.keyword,color:"#bb9af7"},{tag:[s.name,s.deleted,s.character,s.macroName],color:"#c0caf5"},{tag:[s.propertyName],color:"#7aa2f7"},{tag:[s.processingInstruction,s.string,s.inserted,s.special(s.string)],color:"#9ece6a"},{tag:[s.function(s.variableName),s.labelName],color:"#7aa2f7"},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:"#bb9af7"},{tag:[s.definition(s.name),s.separator],color:"#c0caf5"},{tag:[s.className],color:"#c0caf5"},{tag:[s.number,s.changed,s.annotation,s.modifier,s.self,s.namespace],color:"#ff9e64"},{tag:[s.typeName],color:"#2ac3de",fontStyle:"#2ac3de"},{tag:[s.operator,s.operatorKeyword],color:"#bb9af7"},{tag:[s.url,s.escape,s.regexp,s.link],color:"#b4f9f8"},{tag:[s.meta,s.comment],color:"#565f89"},{tag:s.strong,fontWeight:"bold"},{tag:s.emphasis,fontStyle:"italic"},{tag:s.link,textDecoration:"underline"},{tag:s.heading,fontWeight:"bold",color:"#89ddff"},{tag:[s.atom,s.bool,s.special(s.variableName)],color:"#c0caf5"},{tag:s.invalid,color:"#ff5370"},{tag:s.strikethrough,textDecoration:"line-through"},...n]})},jS=RS(),US={background:"#e1e2e7",foreground:"#3760bf",caret:"#3760bf",selection:"#99a7df",selectionMatch:"#99a7df",gutterBackground:"#e1e2e7",gutterForeground:"#3760bf",gutterBorder:"transparent",lineHighlight:"#5f5faf11"},NS=i=>{var{theme:e="light",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},US,t),styles:[{tag:s.keyword,color:"#007197"},{tag:[s.name,s.deleted,s.character,s.macroName],color:"#3760bf"},{tag:[s.propertyName],color:"#3760bf"},{tag:[s.processingInstruction,s.string,s.inserted,s.special(s.string)],color:"#587539"},{tag:[s.function(s.variableName),s.labelName],color:"#3760bf"},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:"#3760bf"},{tag:[s.definition(s.name),s.separator],color:"#3760bf"},{tag:[s.className],color:"#3760bf"},{tag:[s.number,s.changed,s.annotation,s.modifier,s.self,s.namespace],color:"#b15c00"},{tag:[s.typeName],color:"#007197",fontStyle:"#007197"},{tag:[s.operator,s.operatorKeyword],color:"#007197"},{tag:[s.url,s.escape,s.regexp,s.link],color:"#587539"},{tag:[s.meta,s.comment],color:"#848cb5"},{tag:s.strong,fontWeight:"bold"},{tag:s.emphasis,fontStyle:"italic"},{tag:s.link,textDecoration:"underline"},{tag:s.heading,fontWeight:"bold",color:"#b15c00"},{tag:[s.atom,s.bool,s.special(s.variableName)],color:"#3760bf"},{tag:s.invalid,color:"#f52a65"},{tag:s.strikethrough,textDecoration:"line-through"},...n]})},LS=NS(),Ue={background:"#002451",foreground:"#ffffff",selection:"#003f8e",selectionMatch:"#003f8e",cursor:"#ffffff",dropdownBackground:"#001733",activeLine:"#00346e7a",matchingBracket:"#00346e",keyword:"#EBBBFF",storage:"#EBBBFF",variable:"#FFC58F",parameter:"#FFC58F",function:"#BBDAFF",string:"#D1F1A9",constant:"#FFC58F",type:"#FFEEAD",class:"#BBDAFF",number:"#FFC58F",comment:"#7285B7",heading:"#D1F1A9",invalid:"#a92049",regexp:"#D1F1A9",tag:"#FF9DA4"},ZS={background:Ue.background,foreground:Ue.foreground,caret:Ue.cursor,selection:Ue.selection,selectionMatch:Ue.selection,gutterBackground:Ue.background,gutterForeground:Ue.foreground,lineHighlight:Ue.activeLine},ES=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},ZS,t),styles:[{tag:s.keyword,color:Ue.keyword},{tag:[s.name,s.deleted,s.character,s.macroName],color:Ue.variable},{tag:[s.propertyName],color:Ue.function},{tag:[s.processingInstruction,s.string,s.inserted,s.special(s.string)],color:Ue.string},{tag:[s.function(s.variableName),s.labelName],color:Ue.function},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:Ue.constant},{tag:[s.definition(s.name),s.separator],color:Ue.variable},{tag:[s.className],color:Ue.class},{tag:[s.number,s.changed,s.annotation,s.modifier,s.self,s.namespace],color:Ue.number},{tag:[s.typeName],color:Ue.type,fontStyle:Ue.type},{tag:[s.operator,s.operatorKeyword],color:Ue.keyword},{tag:[s.url,s.escape,s.regexp,s.link],color:Ue.regexp},{tag:[s.meta,s.comment],color:Ue.comment},{tag:s.tagName,color:Ue.tag},{tag:s.strong,fontWeight:"bold"},{tag:s.emphasis,fontStyle:"italic"},{tag:s.link,textDecoration:"underline"},{tag:s.heading,fontWeight:"bold",color:Ue.heading},{tag:[s.atom,s.bool,s.special(s.variableName)],color:Ue.variable},{tag:s.invalid,color:Ue.invalid},{tag:s.strikethrough,textDecoration:"line-through"},...n]})};ES();var WS={background:"#1e1e1e",foreground:"#9cdcfe",caret:"#c6c6c6",selection:"#6199ff2f",selectionMatch:"#72a1ff59",lineHighlight:"#ffffff0f",gutterBackground:"#1e1e1e",gutterForeground:"#838383",gutterActiveForeground:"#fff",fontFamily:'Menlo, Monaco, Consolas, "Andale Mono", "Ubuntu Mono", "Courier New", monospace'};function XS(i){var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},WS,t),styles:[{tag:[s.keyword,s.operatorKeyword,s.modifier,s.color,s.constant(s.name),s.standard(s.name),s.standard(s.tagName),s.special(s.brace),s.atom,s.bool,s.special(s.variableName)],color:"#569cd6"},{tag:[s.controlKeyword,s.moduleKeyword],color:"#c586c0"},{tag:[s.name,s.deleted,s.character,s.macroName,s.propertyName,s.variableName,s.labelName,s.definition(s.name)],color:"#9cdcfe"},{tag:s.heading,fontWeight:"bold",color:"#9cdcfe"},{tag:[s.typeName,s.className,s.tagName,s.number,s.changed,s.annotation,s.self,s.namespace],color:"#4ec9b0"},{tag:[s.function(s.variableName),s.function(s.propertyName)],color:"#dcdcaa"},{tag:[s.number],color:"#b5cea8"},{tag:[s.operator,s.punctuation,s.separator,s.url,s.escape,s.regexp],color:"#d4d4d4"},{tag:[s.regexp],color:"#d16969"},{tag:[s.special(s.string),s.processingInstruction,s.string,s.inserted],color:"#ce9178"},{tag:[s.angleBracket],color:"#808080"},{tag:s.strong,fontWeight:"bold"},{tag:s.emphasis,fontStyle:"italic"},{tag:s.strikethrough,textDecoration:"line-through"},{tag:[s.meta,s.comment],color:"#6a9955"},{tag:s.link,color:"#6a9955",textDecoration:"underline"},{tag:s.invalid,color:"#ff0000"},...n]})}var IS=XS(),Ne={background:"#000",foreground:"#fff",selection:"#7d46fc3f",selectionMatch:"#7d46fc7f",cursor:"#7d46fc",dropdownBackground:"#0a0b0f",dropdownBorder:"#1e1d27",activeLine:"#00346eb0",matchingBracket:"#7d46fc7f",keyword:null,storage:null,variable:null,parameter:null,function:null,string:"#a8a8b1",constant:null,type:null,class:null,number:null,comment:"#2e2e37",heading:null,invalid:null,regexp:"#a8a8b1",tag:null},FS={background:Ne.background,foreground:Ne.foreground,caret:Ne.cursor,selection:Ne.selection,selectionMatch:Ne.selectionMatch,gutterBackground:Ne.background,gutterForeground:Ne.foreground,lineHighlight:Ne.activeLine},VS=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},FS,t),styles:[{tag:s.keyword,color:Ne.keyword,fontWeight:"bold"},{tag:[s.name,s.deleted,s.character,s.macroName],color:Ne.variable},{tag:[s.propertyName],color:Ne.function},{tag:[s.processingInstruction,s.string,s.inserted,s.special(s.string)],color:Ne.string},{tag:[s.function(s.variableName),s.labelName],color:Ne.function},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:Ne.constant},{tag:[s.definition(s.name),s.separator],color:Ne.variable},{tag:[s.className],color:Ne.class},{tag:[s.typeName],color:Ne.type,fontStyle:Ne.type},{tag:[s.url,s.escape,s.regexp,s.link],color:Ne.regexp},{tag:[s.meta,s.comment],color:Ne.comment},{tag:s.tagName,color:Ne.tag},{tag:s.strong,fontWeight:"bold"},{tag:s.emphasis,fontStyle:"italic"},{tag:s.link,textDecoration:"underline"},{tag:s.heading,fontWeight:"bold",color:Ne.heading},{tag:[s.atom,s.special(s.variableName)],color:Ne.variable},{tag:s.invalid,color:Ne.invalid},{tag:s.strikethrough,textDecoration:"line-through"},{tag:[s.operatorKeyword,s.bool,s.null,s.variableName],color:Ne.constant},{tag:[s.operator],color:"#bb9af7"},{tag:[s.number],color:"#a8a8b1"},{tag:[s.bracket],color:"#bb9af7"},...n]})};VS();var Le={background:"#fff",foreground:"#000",selection:"#0064ff26",selectionMatch:"#0064ff4c",cursor:"#004bff",dropdownBackground:"#f4f6fc",dropdownBorder:"#e7ecf2",activeLine:"#0064ff0c",matchingBracket:"#0064ff4c",keyword:null,storage:null,variable:null,parameter:null,function:null,string:"#6b7a88",constant:null,type:null,class:null,number:null,comment:"#bec9d3",heading:null,invalid:null,regexp:"#6b7a88",tag:null},qS={background:Le.background,foreground:Le.foreground,caret:Le.cursor,selection:Le.selection,selectionMatch:Le.selectionMatch,gutterBackground:Le.background,gutterForeground:Le.foreground,lineHighlight:Le.activeLine},YS=i=>{var{theme:e="light",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},qS,t),styles:[{tag:s.keyword,color:Le.keyword,fontWeight:"bold"},{tag:[s.name,s.deleted,s.character,s.macroName],color:Le.variable},{tag:[s.propertyName],color:Le.function},{tag:[s.processingInstruction,s.string,s.inserted,s.special(s.string)],color:Le.string},{tag:[s.function(s.variableName),s.labelName],color:Le.function},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:Le.constant},{tag:[s.definition(s.name),s.separator],color:Le.variable},{tag:[s.className],color:Le.class},{tag:[s.typeName],color:Le.type,fontStyle:Le.type},{tag:[s.url,s.escape,s.regexp,s.link],color:Le.regexp},{tag:[s.meta,s.comment],color:Le.comment},{tag:s.tagName,color:Le.tag},{tag:s.strong,fontWeight:"bold"},{tag:s.emphasis,fontStyle:"italic"},{tag:s.link,textDecoration:"underline"},{tag:s.heading,fontWeight:"bold",color:Le.heading},{tag:[s.atom,s.special(s.variableName)],color:Le.variable},{tag:s.invalid,color:Le.invalid},{tag:s.strikethrough,textDecoration:"line-through"},{tag:[s.operatorKeyword,s.bool,s.null,s.variableName],color:Le.constant},{tag:[s.operator],color:"#0431fa"},{tag:[s.number],color:"#a8a8b1"},{tag:[s.bracket],color:"#0431fa"},...n]})};YS();var _S={background:"#fff",foreground:"#3D3D3D",selection:"#BBDFFF",selectionMatch:"#BBDFFF",gutterBackground:"#fff",gutterForeground:"#AFAFAF",lineHighlight:"#d5e6ff69"};function zS(i){var{theme:e="light",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},_S,t),styles:[{tag:[s.comment,s.quote],color:"#707F8D"},{tag:[s.typeName,s.typeOperator],color:"#aa0d91"},{tag:[s.keyword],color:"#aa0d91",fontWeight:"bold"},{tag:[s.string,s.meta],color:"#D23423"},{tag:[s.name],color:"#032f62"},{tag:[s.typeName],color:"#522BB2"},{tag:[s.variableName],color:"#23575C"},{tag:[s.definition(s.variableName)],color:"#327A9E"},{tag:[s.regexp,s.link],color:"#0e0eff"},...n]})}var GS=zS(),HS={background:"#292A30",foreground:"#CECFD0",caret:"#fff",selection:"#727377",selectionMatch:"#727377",lineHighlight:"#ffffff0f"},KS=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ie({theme:e,settings:oe({},HS,t),styles:[{tag:[s.comment,s.quote],color:"#7F8C98"},{tag:[s.keyword],color:"#FF7AB2",fontWeight:"bold"},{tag:[s.string,s.meta],color:"#FF8170"},{tag:[s.typeName],color:"#DABAFF"},{tag:[s.definition(s.variableName)],color:"#6BDFFF"},{tag:[s.name],color:"#6BAA9F"},{tag:[s.variableName],color:"#ACF2E4"},{tag:[s.regexp,s.link],color:"#FF8170"},...n]})},JS=KS();const e2=ie({theme:"dark",settings:{background:"#222",foreground:"#75baff",caret:"#ffcc00",selection:"rgba(128, 203, 196, 0.5)",selectionMatch:"#036dd626",lineHighlight:"#00000050",gutterBackground:"transparent",gutterForeground:"#8a919966"},styles:[{tag:s.keyword,color:"#c792ea"},{tag:s.operator,color:"#89ddff"},{tag:s.special(s.variableName),color:"#eeffff"},{tag:s.typeName,color:"#c3e88d"},{tag:s.atom,color:"#f78c6c"},{tag:s.number,color:"#c3e88d"},{tag:s.definition(s.variableName),color:"#82aaff"},{tag:s.string,color:"#c3e88d"},{tag:s.special(s.string),color:"#c3e88d"},{tag:s.comment,color:"#7d8799"},{tag:s.variableName,color:"#c792ea"},{tag:s.tagName,color:"#c3e88d"},{tag:s.bracket,color:"#525154"},{tag:s.meta,color:"#ffcb6b"},{tag:s.attributeName,color:"#c792ea"},{tag:s.propertyName,color:"#c792ea"},{tag:s.className,color:"#decb6b"},{tag:s.invalid,color:"#ffffff"},{tag:[s.unit,s.punctuation],color:"#82aaff"}]}),_m={background:"#051DB5",lineBackground:"#051DB550",foreground:"white",caret:"white",selection:"rgba(128, 203, 196, 0.5)",selectionMatch:"#036dd626",lineHighlight:"#00000050",gutterBackground:"transparent",gutterForeground:"#8a919966"},t2=ie({theme:"dark",settings:_m,styles:[{tag:s.keyword,color:"white"},{tag:s.operator,color:"white"},{tag:s.special(s.variableName),color:"white"},{tag:s.typeName,color:"white"},{tag:s.atom,color:"white"},{tag:s.number,color:"white"},{tag:s.definition(s.variableName),color:"white"},{tag:s.string,color:"white"},{tag:s.special(s.string),color:"white"},{tag:s.comment,color:"white"},{tag:s.variableName,color:"white"},{tag:s.tagName,color:"white"},{tag:s.bracket,color:"white"},{tag:s.meta,color:"white"},{tag:s.attributeName,color:"white"},{tag:s.propertyName,color:"white"},{tag:s.className,color:"white"},{tag:s.invalid,color:"white"},{tag:[s.unit,s.punctuation],color:"white"}]}),zm={background:"black",foreground:"white",caret:"white",selection:"#ffffff20",selectionMatch:"#036dd626",lineHighlight:"#ffffff10",lineBackground:"#00000050",gutterBackground:"transparent",gutterForeground:"#8a919966"},n2=ie({theme:"dark",settings:zm,styles:[{tag:s.keyword,color:"white"},{tag:s.operator,color:"white"},{tag:s.special(s.variableName),color:"white"},{tag:s.typeName,color:"white"},{tag:s.atom,color:"white"},{tag:s.number,color:"white"},{tag:s.definition(s.variableName),color:"white"},{tag:s.string,color:"white"},{tag:s.special(s.string),color:"white"},{tag:s.comment,color:"white"},{tag:s.variableName,color:"white"},{tag:s.tagName,color:"white"},{tag:s.bracket,color:"white"},{tag:s.meta,color:"white"},{tag:s.attributeName,color:"white"},{tag:s.propertyName,color:"white"},{tag:s.className,color:"white"},{tag:s.invalid,color:"white"},{tag:[s.unit,s.punctuation],color:"white"}]}),Gm={background:"white",foreground:"black",caret:"black",selection:"rgba(128, 203, 196, 0.5)",selectionMatch:"#ffffff26",lineHighlight:"#cccccc50",lineBackground:"#ffffff50",gutterBackground:"transparent",gutterForeground:"black",light:!0},i2=ie({theme:"light",settings:Gm,styles:[{tag:s.keyword,color:"black"},{tag:s.operator,color:"black"},{tag:s.special(s.variableName),color:"black"},{tag:s.typeName,color:"black"},{tag:s.atom,color:"black"},{tag:s.number,color:"black"},{tag:s.definition(s.variableName),color:"black"},{tag:s.string,color:"black"},{tag:s.special(s.string),color:"black"},{tag:s.comment,color:"black"},{tag:s.variableName,color:"black"},{tag:s.tagName,color:"black"},{tag:s.bracket,color:"black"},{tag:s.meta,color:"black"},{tag:s.attributeName,color:"black"},{tag:s.propertyName,color:"black"},{tag:s.className,color:"black"},{tag:s.invalid,color:"black"}]});let Dt="#6edee4",r2="white",Hm="red",Km="#f8fc55";const Jm={background:"#000000",foreground:Dt,caret:Hm,selection:Km,selectionMatch:Dt,lineHighlight:"#6edee440",lineBackground:"#00000040",gutterBackground:"transparent",gutterForeground:"#8a919966",customStyle:".cm-line { line-height: 1 }"};let Sa=Km,vo=r2;const o2=ie({theme:"dark",settings:Jm,styles:[{tag:s.keyword,color:Dt},{tag:s.operator,color:vo},{tag:s.special(s.variableName),color:Dt},{tag:s.typeName,color:Dt},{tag:s.atom,color:Dt},{tag:s.number,color:vo},{tag:s.definition(s.variableName),color:Dt},{tag:s.string,color:vo},{tag:s.special(s.string),color:vo},{tag:s.comment,color:Sa},{tag:s.variableName,color:Dt},{tag:s.tagName,color:Dt},{tag:s.bracket,color:Sa},{tag:s.meta,color:Dt},{tag:s.attributeName,color:Dt},{tag:s.propertyName,color:Dt},{tag:s.className,color:Dt},{tag:s.invalid,color:Hm},{tag:[s.unit,s.punctuation],color:Sa}]}),eg={background:"#9bbc0f",foreground:"#0f380f",caret:"#0f380f",selection:"#306230",selectionMatch:"#ffffff26",lineHighlight:"#8bac0f",lineBackground:"#9bbc0f50",gutterBackground:"transparent",gutterForeground:"#0f380f",light:!0,customStyle:".cm-line { line-height: 1 }"},s2=ie({theme:"light",settings:eg,styles:[{tag:s.keyword,color:"#0f380f"},{tag:s.operator,color:"#0f380f"},{tag:s.special(s.variableName),color:"#0f380f"},{tag:s.typeName,color:"#0f380f"},{tag:s.atom,color:"#0f380f"},{tag:s.number,color:"#0f380f"},{tag:s.definition(s.variableName),color:"#0f380f"},{tag:s.string,color:"#0f380f"},{tag:s.special(s.string),color:"#0f380f"},{tag:s.comment,color:"#0f380f"},{tag:s.variableName,color:"#0f380f"},{tag:s.tagName,color:"#0f380f"},{tag:s.bracket,color:"#0f380f"},{tag:s.meta,color:"#0f380f"},{tag:s.attributeName,color:"#0f380f"},{tag:s.propertyName,color:"#0f380f"},{tag:s.className,color:"#0f380f"},{tag:s.invalid,color:"#0f380f"},{tag:[s.unit,s.punctuation],color:"#0f380f"}]}),tg={background:"black",foreground:"#41FF00",caret:"#41FF00",selection:"#ffffff20",selectionMatch:"#036dd626",lineHighlight:"#ffffff10",gutterBackground:"transparent",gutterForeground:"#8a919966"},a2=ie({theme:"dark",settings:tg,styles:[{tag:s.keyword,color:"#41FF00"},{tag:s.operator,color:"#41FF00"},{tag:s.special(s.variableName),color:"#41FF00"},{tag:s.typeName,color:"#41FF00"},{tag:s.atom,color:"#41FF00"},{tag:s.number,color:"#41FF00"},{tag:s.definition(s.variableName),color:"#41FF00"},{tag:s.string,color:"#41FF00"},{tag:s.special(s.string),color:"#41FF00"},{tag:s.comment,color:"#41FF00"},{tag:s.variableName,color:"#41FF00"},{tag:s.tagName,color:"#41FF00"},{tag:s.bracket,color:"#41FF00"},{tag:s.meta,color:"#41FF00"},{tag:s.attributeName,color:"#41FF00"},{tag:s.propertyName,color:"#41FF00"},{tag:s.className,color:"#41FF00"},{tag:s.invalid,color:"#41FF00"}]}),od={strudelTheme:e2,bluescreen:t2,blackscreen:n2,whitescreen:i2,teletext:o2,algoboy:s2,terminal:a2,abcdef:Kw,androidstudio:ix,atomone:lx,aura:ux,bespin:kx,darcula:Qx,dracula:Ax,duotoneDark:jx,eclipse:Lx,githubDark:Fx,gruvboxDark:Yx,materialDark:eS,nord:fS,okaidia:gS,solarizedDark:xS,sublime:AS,tokyoNight:DS,tokyoNightStorm:jS,vscodeDark:IS,xcodeDark:JS,bbedit:bx,duotoneLight:Dx,githubLight:Wx,gruvboxLight:Gx,materialLight:iS,noctisLilac:hS,solarizedLight:QS,tokyoNightDay:LS,xcodeLight:GS},Pa={strudelTheme:{background:"#222",lineBackground:"#22222299",foreground:"#fff",caret:"#ffcc00",selection:"rgba(128, 203, 196, 0.5)",selectionMatch:"#036dd626",lineHighlight:"#00000050",gutterBackground:"transparent",gutterForeground:"#8a919966"},bluescreen:_m,blackscreen:zm,whitescreen:Gm,teletext:Jm,algoboy:eg,terminal:tg,abcdef:{background:"#0f0f0f",lineBackground:"#0f0f0f99",foreground:"#defdef",caret:"#00FF00",selection:"#515151",selectionMatch:"#515151",gutterBackground:"#555",gutterForeground:"#FFFFFF",lineHighlight:"#314151"},androidstudio:{background:"#282b2e",lineBackground:"#282b2e99",foreground:"#a9b7c6",caret:"#00FF00",selection:"#343739",selectionMatch:"#343739",lineHighlight:"#343739"},atomone:{background:"#272C35",lineBackground:"#272C3599",foreground:"#9d9b97",caret:"#797977",selection:"#ffffff30",selectionMatch:"#2B323D",gutterBackground:"#272C35",gutterForeground:"#465063",gutterBorder:"transparent",lineHighlight:"#2B323D"},aura:{background:"#21202e",lineBackground:"#21202e99",foreground:"#edecee",caret:"#a277ff",selection:"#3d375e7f",selectionMatch:"#3d375e7f",gutterBackground:"#21202e",gutterForeground:"#edecee",gutterBorder:"transparent",lineHighlight:"#a394f033"},bbedit:{light:!0,background:"#FFFFFF",lineBackground:"#FFFFFF99",foreground:"#000000",caret:"#FBAC52",selection:"#FFD420",selectionMatch:"#FFD420",gutterBackground:"#f5f5f5",gutterForeground:"#4D4D4C",gutterBorder:"transparent",lineHighlight:"#00000012"},bespin:{background:"#28211c",lineBackground:"#28211c99",foreground:"#9d9b97",caret:"#797977",selection:"#36312e",selectionMatch:"#4f382b",gutterBackground:"#28211c",gutterForeground:"#666666",lineHighlight:"rgba(255, 255, 255, 0.1)"},darcula:{background:"#2B2B2B",lineBackground:"#2B2B2B99",foreground:"#f8f8f2",caret:"#FFFFFF",selection:"rgba(255, 255, 255, 0.1)",selectionMatch:"rgba(255, 255, 255, 0.2)",gutterBackground:"rgba(255, 255, 255, 0.1)",gutterForeground:"#999",gutterBorder:"transparent",lineHighlight:"rgba(255, 255, 255, 0.1)"},dracula:{background:"#282a36",lineBackground:"#282a3699",foreground:"#f8f8f2",caret:"#f8f8f0",selection:"rgba(255, 255, 255, 0.1)",selectionMatch:"rgba(255, 255, 255, 0.2)",gutterBackground:"#282a36",gutterForeground:"#6D8A88",gutterBorder:"transparent",lineHighlight:"rgba(255, 255, 255, 0.1)"},duotoneLight:{light:!0,background:"#faf8f5",lineBackground:"#faf8f599",foreground:"#b29762",caret:"#93abdc",selection:"#e3dcce",selectionMatch:"#e3dcce",gutterBackground:"#faf8f5",gutterForeground:"#cdc4b1",gutterBorder:"transparent",lineHighlight:"#EFEFEF"},duotoneDark:{background:"#2a2734",lineBackground:"#2a273499",foreground:"#6c6783",caret:"#ffad5c",selection:"rgba(255, 255, 255, 0.1)",gutterBackground:"#2a2734",gutterForeground:"#545167",lineHighlight:"#36334280"},eclipse:{light:!0,background:"#fff",lineBackground:"#ffffff99",foreground:"#000",caret:"#FFFFFF",selection:"#d7d4f0",selectionMatch:"#d7d4f0",gutterBackground:"#f7f7f7",gutterForeground:"#999",lineHighlight:"#e8f2ff",gutterBorder:"transparent"},githubLight:{light:!0,background:"#fff",lineBackground:"#ffffff99",foreground:"#24292e",selection:"#BBDFFF",selectionMatch:"#BBDFFF",gutterBackground:"#fff",gutterForeground:"#6e7781"},githubDark:{background:"#0d1117",lineBackground:"#0d111799",foreground:"#c9d1d9",caret:"#c9d1d9",selection:"#003d73",selectionMatch:"#003d73",lineHighlight:"#36334280"},gruvboxDark:{background:"#282828",lineBackground:"#28282899",foreground:"#ebdbb2",caret:"#ebdbb2",selection:"#bdae93",selectionMatch:"#bdae93",lineHighlight:"#3c3836",gutterBackground:"#282828",gutterForeground:"#7c6f64"},gruvboxLight:{light:!0,background:"#fbf1c7",lineBackground:"#fbf1c799",foreground:"#3c3836",caret:"#af3a03",selection:"#ebdbb2",selectionMatch:"#bdae93",lineHighlight:"#ebdbb2",gutterBackground:"#ebdbb2",gutterForeground:"#665c54",gutterBorder:"transparent"},materialDark:{background:"#2e3235",lineBackground:"#2e323599",foreground:"#bdbdbd",caret:"#a0a4ae",selection:"#d7d4f0",selectionMatch:"#d7d4f0",gutterBackground:"#2e3235",gutterForeground:"#999",gutterActiveForeground:"#4f5b66",lineHighlight:"#545b61"},materialLight:{light:!0,background:"#FAFAFA",lineBackground:"#FAFAFA99",foreground:"#90A4AE",caret:"#272727",selection:"#80CBC440",selectionMatch:"#FAFAFA",gutterBackground:"#FAFAFA",gutterForeground:"#90A4AE",gutterBorder:"transparent",lineHighlight:"#CCD7DA50"},noctisLilac:{light:!0,background:"#f2f1f8",lineBackground:"#f2f1f899",foreground:"#0c006b",caret:"#5c49e9",selection:"#d5d1f2",selectionMatch:"#d5d1f2",gutterBackground:"#f2f1f8",gutterForeground:"#0c006b70",lineHighlight:"#e1def3"},nord:{background:"#2e3440",lineBackground:"#2e344099",foreground:"#FFFFFF",caret:"#FFFFFF",selection:"#3b4252",selectionMatch:"#e5e9f0",gutterBackground:"#2e3440",gutterForeground:"#4c566a",gutterActiveForeground:"#d8dee9",lineHighlight:"#4c566a"},okaidia:{background:"#272822",lineBackground:"#27282299",foreground:"#FFFFFF",caret:"#FFFFFF",selection:"#49483E",selectionMatch:"#49483E",gutterBackground:"#272822",gutterForeground:"#FFFFFF70",lineHighlight:"#00000059"},solarizedLight:{light:!0,background:"#fdf6e3",lineBackground:"#fdf6e399",foreground:"#657b83",caret:"#586e75",selection:"#dfd9c8",selectionMatch:"#dfd9c8",gutterBackground:"#00000010",gutterForeground:"#657b83",lineHighlight:"#dfd9c8"},solarizedDark:{background:"#002b36",lineBackground:"#002b3699",foreground:"#93a1a1",caret:"#839496",selection:"#173541",selectionMatch:"#aafe661a",gutterBackground:"#00252f",gutterForeground:"#839496",lineHighlight:"#173541"},sublime:{background:"#303841",lineBackground:"#30384199",foreground:"#FFFFFF",caret:"#FBAC52",selection:"#4C5964",selectionMatch:"#3A546E",gutterBackground:"#303841",gutterForeground:"#FFFFFF70",lineHighlight:"#00000059"},tokyoNightDay:{light:!0,background:"#e1e2e7",lineBackground:"#e1e2e799",foreground:"#3760bf",caret:"#3760bf",selection:"#99a7df",selectionMatch:"#99a7df",gutterBackground:"#e1e2e7",gutterForeground:"#3760bf",gutterBorder:"transparent",lineHighlight:"#5f5faf11"},tokyoNightStorm:{background:"#24283b",lineBackground:"#24283b99",foreground:"#7982a9",caret:"#c0caf5",selection:"#6f7bb630",selectionMatch:"#1f2335",gutterBackground:"#24283b",gutterForeground:"#7982a9",gutterBorder:"transparent",lineHighlight:"#292e42"},tokyoNight:{background:"#1a1b26",lineBackground:"#1a1b2699",foreground:"#787c99",caret:"#c0caf5",selection:"#515c7e40",selectionMatch:"#16161e",gutterBackground:"#1a1b26",gutterForeground:"#787c99",gutterBorder:"transparent",lineHighlight:"#1e202e"},vscodeDark:{background:"#1e1e1e",lineBackground:"#1e1e1e99",foreground:"#9cdcfe",caret:"#c6c6c6",selection:"#6199ff2f",selectionMatch:"#72a1ff59",lineHighlight:"#ffffff0f",gutterBackground:"#1e1e1e",gutterForeground:"#838383",gutterActiveForeground:"#fff"},xcodeLight:{light:!0,background:"#fff",lineBackground:"#ffffff99",foreground:"#3D3D3D",selection:"#BBDFFF",selectionMatch:"#BBDFFF",gutterBackground:"#fff",gutterForeground:"#AFAFAF",lineHighlight:"#EDF4FF"},xcodeDark:{background:"#292A30",lineBackground:"#292A3099",foreground:"#CECFD0",caret:"#fff",selection:"#727377",selectionMatch:"#727377",lineHighlight:"#2F3239"}};function l2(i){const e=/#([0-9A-Fa-f]{6}|[0-9A-Fa-f]{3})/g,t=[];let n;for(;(n=e.exec(i))!==null;){const r=n[0];t.includes(r)||t.push(r)}return t}function N2(i){return l2(h2(i))}function c2(){const i=new WeakSet;return(e,t)=>{if(typeof t=="object"&&t!==null){if(i.has(t))return;i.add(t)}return t}}function h2(i){return JSON.stringify(i,c2())}const u2=i=>od[i]||od.strudelTheme;function d2(i){const e=document.createElement("style");document.head.appendChild(e);const t=e.sheet,n=t.insertRule(i,0);return()=>t.deleteRule(n)}let sd,Qa,Ro,ad="strudel-theme-vars";function f2(i){document.getElementById(ad)||(Ro=document.createElement("style"),Ro.id=ad,document.head.append(Ro)),ng(i)}function ng(i){if(sd===i)return;sd=i,Pa[i]||console.warn("theme",i,"has no settings.. defaulting to strudelTheme settings");const e=Pa[i]||Pa.strudelTheme;Ro.innerHTML=`:root {
      ${Object.entries(e).map(([t,n])=>`--${t}: ${n} !important;`).join(`
`)}
    }`,e.light?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark"),Qa?.(),Qa=void 0,e.customStyle&&(Qa=d2(e.customStyle))}let br={};const p2=i=>`slider_${i}`;class m2 extends ei{constructor(e,t,n,r,o,a,l){super(),this.value=e,this.min=t,this.max=n,this.from=r,this.originalFrom=r,this.to=o,this.step=a,this.view=l}eq(){return!1}toDOM(){let e=document.createElement("span");e.setAttribute("aria-hidden","true"),e.className="cm-slider";let t=e.appendChild(document.createElement("input"));return t.type="range",t.min=this.min,t.max=this.max,t.step=this.step??(this.max-this.min)/1e3,t.originalValue=this.value,t.value=t.originalValue,t.from=this.from,t.originalFrom=this.originalFrom,t.to=this.to,t.style="width:64px;margin-right:4px;transform:translateY(4px)",this.slider=t,t.addEventListener("input",n=>{const r=n.target.value;let o=r;const a=t.from+t.originalValue.length;let l={from:t.from,to:a,insert:o};t.originalValue=o,t.value=o,this.view.dispatch({changes:l});const h=p2(t.originalFrom);window.postMessage({type:"cm-slider",value:Number(r),id:h})}),e}ignoreEvent(e){return!0}}const ig=re.define(),g2=(i,e)=>{i.dispatch({effects:ig.of(e)})};function O2(i,e){return i.map(({from:t,to:n,value:r,min:o,max:a,step:l})=>ne.widget({widget:new m2(r,o,a,t,n,l,e),side:0}).range(t))}const b2=nt.fromClass(class{decorations;constructor(i){this.decorations=ne.set([])}update(i){i.transactions.forEach(e=>{if(e.docChanged){this.decorations=this.decorations.map(e.changes);const t=this.decorations.iter();for(;t.value;)t.value?.widget?.slider&&(t.value.widget.slider.from=t.from,t.value.widget.slider.to=t.to),t.next()}for(let t of e.effects)t.is(ig)&&(this.decorations=ne.set(O2(t.value,i.view)))})}},{decorations:i=>i.decorations});let L2=i=>(console.warn("slider will only work when the transpiler is used... passing value as is"),zg(i)),Z2=(i,e,t,n)=>(br[i]=e,Gg(()=>br[i]));typeof window<"u"&&window.addEventListener("message",i=>{i.data.type==="cm-slider"&&(br[i.data.id]!==void 0?br[i.data.id]=i.data.value:console.warn(`slider with id "${i.data.id}" is not registered. Only ${Object.keys(br)}`))});let Cs=i=>i,mn={},cn={addEventListener(){},removeEventListener(){}};function y2(){try{return typeof localStorage<"u"}catch{return!1}}y2()&&(mn=localStorage);let v2={addEventListener(i,e,t){window.addEventListener("storage",e),window.addEventListener("pageshow",t)},removeEventListener(i,e,t){window.removeEventListener("storage",e),window.removeEventListener("pageshow",t)}};typeof window<"u"&&(cn=v2);function k2(i,e=void 0,t={}){let n=t.encode||Cs,r=t.decode||Cs,o=Hg(e),a=o.set;o.set=d=>{typeof d>"u"?delete mn[i]:mn[i]=n(d),a(d)};function l(d){d.key===i?d.newValue===null?a(void 0):a(r(d.newValue)):mn[i]||a(void 0)}function h(){o.set(mn[i]?r(mn[i]):e)}return cd(o,()=>{if(h(),t.listen!==!1)return cn.addEventListener(i,l,h),()=>{cn.removeEventListener(i,l,h)}}),o}function E2(i,e={},t={}){let n=t.encode||Cs,r=t.decode||Cs,o=Kg(),a=o.setKey;o.setKey=(f,g)=>{typeof g>"u"?(t.listen!==!1&&cn.perKey&&cn.removeEventListener(i+f,h,d),delete mn[i+f]):(t.listen!==!1&&cn.perKey&&!(f in o.value)&&cn.addEventListener(i+f,h,d),mn[i+f]=n(g)),a(f,g)};let l=o.set;o.set=function(f){for(let g in f)o.setKey(g,f[g]);for(let g in o.value)g in f||o.setKey(g)};function h(f){f.key?f.key.startsWith(i)&&(f.newValue===null?a(f.key.slice(i.length),void 0):a(f.key.slice(i.length),r(f.newValue))):l({})}function d(){let f={...e};for(let g in mn)g.startsWith(i)&&(f[g.slice(i.length)]=r(mn[g]));o.set(f)}return cd(o,()=>{if(d(),t.listen!==!1)return cn.addEventListener(i,h,d),()=>{cn.removeEventListener(i,h,d);for(let f in o.value)cn.removeEventListener(i+f,h,d)}}),o}const Si={isLineWrappingEnabled:i=>i?F.lineWrapping:[],isLineNumbersDisplayed:i=>i?A0():[],theme:u2,isAutoCompletionEnabled:dk,isTooltipEnabled:mk,isPatternHighlightingEnabled:wk,isActiveLineHighlighted:i=>i?[d0(),D0()]:[],isFlashEnabled:bk,keybindings:zw},Bl=Object.fromEntries(Object.keys(Si).map(i=>[i,new Dr])),w2={keybindings:"codemirror",isLineNumbersDisplayed:!0,isActiveLineHighlighted:!1,isAutoCompletionEnabled:!1,isPatternHighlightingEnabled:!0,isFlashEnabled:!0,isTooltipEnabled:!1,isLineWrappingEnabled:!1,theme:"strudelTheme",fontFamily:"monospace",fontSize:18},jo=k2("codemirror-settings",w2,{encode:JSON.stringify,decode:JSON.parse});function x2({initialCode:i="",onChange:e,onEvaluate:t,onStop:n,root:r}){const o=jo.get(),a=Object.keys(Bl).map(h=>Bl[h].of(Si[h](rg(o[h]))));f2(o.theme);let l=Oe.create({doc:i,extensions:[...a,tk(),b2,ev(),lp(wy),kv(),F.updateListener.of(h=>e(h)),a0({cursorBlinkRate:0}),Jt.highest(zn.of([{key:"Ctrl-Enter",run:()=>t?.()},{key:"Alt-Enter",run:()=>t?.()},{key:"Ctrl-.",run:()=>n?.()},{key:"Alt-.",run:(h,d)=>{d.preventDefault(),n?.()}}]))]});return new F({state:l,parent:r})}class W2{constructor(e){const{root:t,id:n,initialCode:r="",onDraw:o,drawTime:a=[0,0],autodraw:l,prebake:h,bgFill:d=!0,...f}=e;this.code=r,this.root=t,this.miniLocations=[],this.widgets=[],this.painters=[],this.drawTime=a,this.onDraw=o;const g=this;this.id=n||S2(),this.drawer=new Jg((w,C)=>{const $=w.filter(M=>C>=M.whole.begin&&C<=M.endClipped);this.highlight($,C),this.onDraw?.(w,C,$,this.painters)},a),eO.prototype.onPaint=function(w){return g.painters.push(w),this},this.prebaked=h(),l&&this.drawFirstFrame(),this.repl=tO({...f,onToggle:w=>{f?.onToggle?.(w),w?(this.adjustDrawTime(),this.drawer.start(this.repl.scheduler),document.dispatchEvent(new CustomEvent("start-repl",{detail:this.id}))):(this.drawer.stop(),Ql(this.editor,[]),nh(!1))},beforeEval:async()=>{nh(),this.painters=[],await this.prebaked,await f?.beforeEval?.()},afterEval:w=>{this.miniLocations=w.meta?.miniLocations,this.widgets=w.meta?.widgets,g2(this.editor,this.widgets),Ql(this.editor,this.miniLocations),f?.afterEval?.(w),this.adjustDrawTime(),this.drawer.invalidate()}}),this.editor=x2({root:t,initialCode:r,onChange:w=>{w.docChanged&&(this.code=w.state.doc.toString(),this.repl.setCode?.(this.code))},onEvaluate:()=>this.evaluate(),onStop:()=>this.stop()});const y=this.root.querySelector(".cm-editor");y&&(this.root.style.display="block",d&&(this.root.style.backgroundColor="var(--background)"),y.style.backgroundColor="transparent");const v=jo.get();this.setFontSize(v.fontSize),this.setFontFamily(v.fontFamily),this.onStartRepl=w=>{w.detail!==this.id&&this.stop()},document.addEventListener("start-repl",this.onStartRepl)}adjustDrawTime(){this.drawer.setDrawTime(this.painters.length?this.drawTime:[0,0])}async drawFirstFrame(){if(this.onDraw){await this.prebaked;try{await this.repl.evaluate(this.code,!1),this.drawer.invalidate(this.repl.scheduler,-.001),this.onDraw?.(this.drawer.visibleHaps,-.001,[],this.painters)}catch{console.warn("first frame could not be painted")}}}async evaluate(){this.flash(),await this.repl.evaluate(this.code)}async stop(){this.repl.scheduler.stop()}async toggle(){this.repl.scheduler.started?this.repl.stop():this.evaluate()}flash(e){Ok(this.editor,e)}highlight(e,t){yk(this.editor,t,e)}setFontSize(e){this.root.style.fontSize=e+"px"}setFontFamily(e){this.root.style.fontFamily=e;const t=this.root.querySelector(".cm-scroller");t&&(t.style.fontFamily=e)}reconfigureExtension(e,t){if(!Si[e]){console.warn(`extension ${e} is not known`);return}t=rg(t);const n=Si[e](t,this);this.editor.dispatch({effects:Bl[e].reconfigure(n)}),e==="theme"&&ng(t)}setLineWrappingEnabled(e){this.reconfigureExtension("isLineWrappingEnabled",e)}setLineNumbersDisplayed(e){this.reconfigureExtension("isLineNumbersDisplayed",e)}setTheme(e){this.reconfigureExtension("theme",e)}setAutocompletionEnabled(e){this.reconfigureExtension("isAutoCompletionEnabled",e)}updateSettings(e){this.setFontSize(e.fontSize),this.setFontFamily(e.fontFamily);for(let n in Si)this.reconfigureExtension(n,e[n]);const t={...jo.get(),...e};jo.set(t)}changeSetting(e,t){if(Si[e]){this.reconfigureExtension(e,t);return}else e==="fontFamily"?this.setFontFamily(t):e==="fontSize"&&this.setFontSize(t)}setCode(e){const t={from:0,to:this.editor.state.doc.length,insert:e};this.editor.dispatch({changes:t})}clear(){this.onStartRepl&&document.removeEventListener("start-repl",this.onStartRepl)}}function rg(i){return{true:!0,false:!1}[i]??i}function S2(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}const P2="modulepreload",Q2=function(i){return"/"+i},ld={},X2=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){const o=document.getElementsByTagName("link");r=Promise.all(t.map(a=>{if(a=Q2(a),a in ld)return;ld[a]=!0;const l=a.endsWith(".css"),h=l?'[rel="stylesheet"]':"";if(!!n)for(let g=o.length-1;g>=0;g--){const y=o[g];if(y.href===a&&(!l||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${h}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":P2,l||(f.as="script",f.crossOrigin=""),f.href=a,document.head.appendChild(f),l)return new Promise((g,y)=>{f.addEventListener("load",g),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${a}`)))})}))}return r.then(()=>e()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})};export{N2 as A,u2 as B,d2 as C,ng as D,W2 as S,X2 as _,k2 as a,x2 as b,jo as c,w2 as d,vm as e,kk as f,wk as g,yk as h,f2 as i,Ca as j,Pl as k,gk as l,Ok as m,bk as n,br as o,E2 as p,m2 as q,ig as r,ym as s,od as t,Ql as u,g2 as v,b2 as w,L2 as x,Z2 as y,Pa as z};
