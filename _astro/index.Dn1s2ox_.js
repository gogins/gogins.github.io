import{_ as V,q as ym,C as F,O as Am,Q as om,A as E1,R as x1,S as Nm}from"./index.DeKTR5mX.js";import{a as At,c as o1,g as Nt}from"./_commonjsHelpers.BosuxZz1.js";var x=(m,t)=>Array(Math.abs(t)+1).join(m);function b(m,t,n){return function(...e){return console.warn(`${m} is deprecated. Use ${t}.`),n.apply(this,e)}}function X(m){return m!==null&&typeof m=="object"&&typeof m.name=="string"}function J(m){return m!==null&&typeof m=="object"&&typeof m.step=="number"&&typeof m.alt=="number"}var Im=[0,2,4,-1,1,3,5],$m=Im.map(m=>Math.floor(m*7/12));function u1(m){const{step:t,alt:n,oct:e,dir:r=1}=m,o=Im[t]+7*n;if(e===void 0)return[r*o];const M=e-$m[t]-4*n;return[r*o,r*M]}var It=[3,0,4,1,5,2,6];function d1(m){const[t,n,e]=m,r=It[$t(t)],o=Math.floor((t+1)/7);if(n===void 0)return{step:r,alt:o,dir:e};const M=n+4*o+$m[r];return{step:r,alt:o,oct:M,dir:e}}function $t(m){const t=(m+1)%7;return t<0?7+t:t}var jm={empty:!0,name:"",pc:"",acc:""},Mm=new Map,q1=m=>"CDEFGAB".charAt(m),R=m=>m<0?x("b",-m):x("#",m),Q=m=>m[0]==="b"?-m.length:m.length;function u(m){const t=JSON.stringify(m),n=Mm.get(t);if(n)return n;const e=typeof m=="string"?Tt(m):J(m)?u(_t(m)):X(m)?u(m.name):jm;return Mm.set(t,e),e}var jt=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function l1(m){const t=jt.exec(m);return[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]}function B1(m){return u(d1(m))}var St=(m,t)=>(m%t+t)%t,C1=[0,2,4,5,7,9,11];function Tt(m){const t=l1(m);if(t[0]===""||t[3]!=="")return jm;const n=t[0],e=t[1],r=t[2],o=(n.charCodeAt(0)+3)%7,M=Q(e),P=r.length?+r:void 0,i=u1({step:o,alt:M,oct:P}),a=n+e+r,s=n+e,d=(C1[o]+M+120)%12,c=P===void 0?St(C1[o]+M,12)-12*99:C1[o]+M+12*(P+1),l=c>=0&&c<=127?c:null,p=P===void 0?null:Math.pow(2,(c-69)/12)*440;return{empty:!1,acc:e,alt:M,chroma:d,coord:i,freq:p,height:c,letter:n,midi:l,name:a,oct:P,pc:s,step:o}}function _t(m){const{step:t,alt:n,oct:e}=m,r=q1(t);if(!r)return"";const o=r+R(n);return e||e===0?o+e:o}var k1={empty:!0,name:"",acc:""},Ct="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",Vt="(AA|A|P|M|m|d|dd)([-+]?\\d+)",wt=new RegExp("^"+Ct+"|"+Vt+"$");function L1(m){const t=wt.exec(`${m}`);return t===null?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}var Pm={};function f(m){return typeof m=="string"?Pm[m]||(Pm[m]=Dt(m)):J(m)?f(xt(m)):X(m)?f(m.name):k1}var im=[0,2,4,5,7,9,11],Sm="PMMPPMM";function Dt(m){const t=L1(m);if(t[0]==="")return k1;const n=+t[0],e=t[1],r=(Math.abs(n)-1)%7,o=Sm[r];if(o==="M"&&e==="P")return k1;const M=o==="M"?"majorable":"perfectable",P=""+n+e,i=n<0?-1:1,a=n===8||n===-8?n:i*(r+1),s=Et(M,e),d=Math.floor((Math.abs(n)-1)/7),c=i*(im[r]+s+12*d),l=(i*(im[r]+s)%12+12)%12,p=u1({step:r,alt:s,oct:d,dir:i});return{empty:!1,name:P,num:n,q:e,step:r,alt:s,dir:i,type:M,simple:a,semitones:c,chroma:l,coord:p,oct:d}}function W(m,t){const[n,e=0]=m,r=n*7+e*12<0,o=t||r?[-n,-e,-1]:[n,e,1];return f(d1(o))}function Et(m,t){return t==="M"&&m==="majorable"||t==="P"&&m==="perfectable"?0:t==="m"&&m==="majorable"?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*(m==="perfectable"?t.length:t.length+1):0}function xt(m){const{step:t,alt:n,oct:e=0,dir:r}=m;if(!r)return"";const o=t+1+7*e,M=o===0?t+1:o,P=r<0?"-":"",i=Sm[t]==="M"?"majorable":"perfectable";return P+M+kt(i,n)}function kt(m,t){return t===0?m==="majorable"?"M":"P":t===-1&&m==="majorable"?"m":t>0?x("A",t):x("d",m==="perfectable"?t:t+1)}function h(m,t){const n=u(m),e=Array.isArray(t)?t:f(t).coord;if(n.empty||!e||e.length<2)return"";const r=n.coord,o=r.length===1?[r[0]+e[0]]:[r[0]+e[0],r[1]+e[1]];return B1(o).name}function z(m,t){const n=m.length;return e=>{if(!t)return"";const r=e<0?(n- -e%n)%n:e%n,o=Math.floor(e/n),M=h(t,[0,o]);return h(M,m[r])}}function G(m,t){const n=u(m),e=u(t);if(n.empty||e.empty)return"";const r=n.coord,o=e.coord,M=o[0]-r[0],P=r.length===2&&o.length===2?o[1]-r[1]:-Math.floor(M*7/12),i=e.height===n.height&&e.midi!==null&&n.midi!==null&&n.step>e.step;return W([M,P],i).name}const Tm=Object.freeze(Object.defineProperty({__proto__:null,accToAlt:Q,altToAcc:R,coordToInterval:W,coordToNote:B1,decode:d1,deprecate:b,distance:G,encode:u1,fillStr:x,interval:f,isNamed:X,isPitch:J,note:u,stepToLetter:q1,tokenizeInterval:L1,tokenizeNote:l1,tonicIntervalsTransposer:z,transpose:h},Symbol.toStringTag,{value:"Module"}));var am=(m,t)=>Array(t+1).join(m),Ot=/^(_{1,}|=|\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function _m(m){const t=Ot.exec(m);return t?[t[1],t[2],t[3]]:["","",""]}function a1(m){const[t,n,e]=_m(m);if(n==="")return"";let r=4;for(let M=0;M<e.length;M++)r+=e.charAt(M)===","?-1:1;const o=t[0]==="_"?t.replace(/_/g,"b"):t[0]==="^"?t.replace(/\^/g,"#"):"";return n.charCodeAt(0)>96?n.toUpperCase()+o+(r+1):n+o+r}function Cm(m){const t=u(m);if(t.empty||!t.oct&&t.oct!==0)return"";const{letter:n,acc:e,oct:r}=t,o=e[0]==="b"?e.replace(/b/g,"_"):e.replace(/#/g,"^"),M=r>4?n.toLowerCase():n,P=r===5?"":r>4?am("'",r-5):am(",",4-r);return o+M+P}function Ft(m,t){return Cm(h(a1(m),t))}function Rt(m,t){return G(a1(m),a1(t))}var zt={abcToScientificNotation:a1,scientificToAbcNotation:Cm,tokenize:_m,transpose:Ft,distance:Rt};function Gt(m,t){const n=[];for(;t--;n[t]=t+m);return n}function qt(m,t){const n=[];for(;t--;n[t]=m-t);return n}function Bt(m,t){return m<t?Gt(m,t-m+1):qt(m,m-t+1)}function Lt(m,t){const n=t.length,e=(m%n+n)%n;return t.slice(e,n).concat(t.slice(0,e))}function Ht(m){return m.filter(t=>t===0||t)}function Vm(m){return m.map(n=>u(n)).filter(n=>!n.empty).sort((n,e)=>n.height-e.height).map(n=>n.name)}function Ut(m){return Vm(m).filter((t,n,e)=>n===0||t!==e[n-1])}function Kt(m,t=Math.random){let n,e,r=m.length;for(;r;)n=Math.floor(t()*r--),e=m[r],m[r]=m[n],m[n]=e;return m}function wm(m){return m.length===0?[[]]:wm(m.slice(1)).reduce((t,n)=>t.concat(m.map((e,r)=>{const o=n.slice();return o.splice(r,0,m[0]),o})),[])}const Xt=Object.freeze(Object.defineProperty({__proto__:null,compact:Ht,permutations:wm,range:Bt,rotate:Lt,shuffle:Kt,sortedNoteNames:Vm,sortedUniqNoteNames:Ut},Symbol.toStringTag,{value:"Module"}));function Jt(m,t){const n=[];for(;t--;n[t]=t+m);return n}function Qt(m,t){const n=[];for(;t--;n[t]=m-t);return n}function f1(m,t){return m<t?Jt(m,t-m+1):Qt(m,m-t+1)}function q(m,t){const n=t.length,e=(m%n+n)%n;return t.slice(e,n).concat(t.slice(0,e))}function H1(m){return m.filter(t=>t===0||t)}function Wt(m,t=Math.random){let n,e,r=m.length;for(;r;)n=Math.floor(t()*r--),e=m[r],m[r]=m[n],m[n]=e;return m}function Dm(m){return m.length===0?[[]]:Dm(m.slice(1)).reduce((t,n)=>t.concat(m.map((e,r)=>{const o=n.slice();return o.splice(r,0,m[0]),o})),[])}var Yt={compact:H1,permutations:Dm,range:f1,rotate:q,shuffle:Wt},w={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},U1=m=>Number(m).toString(2),sm=m=>parseInt(m,2),Zt=/^[01]{12}$/;function K1(m){return Zt.test(m)}var mn=m=>typeof m=="number"&&m>=0&&m<=4095,tn=m=>m&&K1(m.chroma),cm={[w.chroma]:w};function v(m){const t=K1(m)?m:mn(m)?U1(m):Array.isArray(m)?dn(m):tn(m)?m.chroma:w.chroma;return cm[t]=cm[t]||un(t)}var nn=b("Pcset.pcset","Pcset.get",v),Em=m=>v(m).chroma,en=m=>v(m).intervals,rn=m=>v(m).setNum,on=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function Mn(m){const t=[];for(let n=0;n<12;n++)m.charAt(n)==="1"&&t.push(on[n]);return t}function Pn(){return f1(2048,4095).map(U1)}function X1(m,t=!0){const e=v(m).chroma.split("");return H1(e.map((r,o)=>{const M=q(o,e);return t&&M[0]==="0"?null:M.join("")}))}function an(m,t){return v(m).setNum===v(t).setNum}function h1(m){const t=v(m).setNum;return n=>{const e=v(n).setNum;return t&&t!==e&&(e&t)===e}}function p1(m){const t=v(m).setNum;return n=>{const e=v(n).setNum;return t&&t!==e&&(e|t)===e}}function xm(m){const t=v(m);return n=>{const e=u(n);return t&&!e.empty&&t.chroma.charAt(e.chroma)==="1"}}function sn(m){const t=xm(m);return n=>n.filter(t)}var km={get:v,chroma:Em,num:rn,intervals:en,chromas:Pn,isSupersetOf:p1,isSubsetOf:h1,isNoteIncludedIn:xm,isEqual:an,filter:sn,modes:X1,pcset:nn};function cn(m){const t=m.split("");return t.map((n,e)=>q(e,t).join(""))}function un(m){const t=sm(m),n=cn(m).map(sm).filter(o=>o>=2048).sort()[0],e=U1(n),r=Mn(m);return{empty:!1,name:"",setNum:t,chroma:m,normalized:e,intervals:r}}function dn(m){if(m.length===0)return w.chroma;let t;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let e=0;e<m.length;e++)t=u(m[e]),t.empty&&(t=f(m[e])),t.empty||(n[t.chroma]=1);return n.join("")}var ln=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth/ninth","6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],fn=ln,hn={...w,name:"",quality:"Unknown",intervals:[],aliases:[]},B=[],_={};function J1(m){return _[m]||hn}var pn=b("ChordType.chordType","ChordType.get",J1);function vn(){return B.map(m=>m.name).filter(m=>m)}function gn(){return B.map(m=>m.aliases[0]).filter(m=>m)}function bn(){return Object.keys(_)}function L(){return B.slice()}var yn=b("ChordType.entries","ChordType.all",L);function An(){B=[],_={}}function Om(m,t,n){const e=In(m),r={...v(m),name:n||"",quality:e,intervals:m,aliases:t};B.push(r),r.name&&(_[r.name]=r),_[r.setNum]=r,_[r.chroma]=r,r.aliases.forEach(o=>Nn(r,o))}function Nn(m,t){_[t]=m}function In(m){const t=n=>m.indexOf(n)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}fn.forEach(([m,t,n])=>Om(m.split(" "),n.split(" "),t));B.sort((m,t)=>m.setNum-t.setNum);var Fm={names:vn,symbols:gn,get:J1,all:L,add:Om,removeAll:An,keys:bn,entries:yn,chordType:pn},$n=m=>{const t=m.reduce((n,e)=>{const r=u(e).chroma;return r!==void 0&&(n[r]=n[r]||u(e).name),n},{});return n=>t[n]};function jn(m,t={}){const n=m.map(r=>u(r).pc).filter(r=>r);return u.length===0?[]:Dn(n,1,t).filter(r=>r.weight).sort((r,o)=>o.weight-r.weight).map(r=>r.name)}var v1={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},g1=m=>t=>!!(t&m),Sn=g1(v1.anyThirds),Tn=g1(v1.perfectFifth),_n=g1(v1.anySeventh),Cn=g1(v1.nonPerfectFifths);function Vn(m){const t=parseInt(m.chroma,2);return Sn(t)&&Tn(t)&&_n(t)}function wn(m){const t=parseInt(m,2);return Cn(t)?m:(t|16).toString(2)}function Dn(m,t,n){const e=m[0],r=u(e).chroma,o=$n(m),M=X1(m,!1),P=[];return M.forEach((i,a)=>{const s=n.assumePerfectFifth&&wn(i);L().filter(c=>n.assumePerfectFifth&&Vn(c)?c.chroma===s:c.chroma===i).forEach(c=>{const l=c.aliases[0],p=o(a);a!==r?P.push({weight:.5*t,name:`${p}${l}/${e}`}):P.push({weight:1*t,name:`${p}${l}`})})}),P}var En=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],xn=En,kn={...w,intervals:[],aliases:[]},b1=[],C={};function Rm(){return b1.map(m=>m.name)}function y1(m){return C[m]||kn}var On=b("ScaleDictionary.scaleType","ScaleType.get",y1);function H(){return b1.slice()}var Fn=b("ScaleDictionary.entries","ScaleType.all",H);function Rn(){return Object.keys(C)}function zn(){b1=[],C={}}function zm(m,t,n=[]){const e={...v(m),name:t,intervals:m,aliases:n};return b1.push(e),C[e.name]=e,C[e.setNum]=e,C[e.chroma]=e,e.aliases.forEach(r=>Gn(e,r)),e}function Gn(m,t){C[t]=m}xn.forEach(([m,t,...n])=>zm(m.split(" "),t,n));var Gm={names:Rm,get:y1,all:H,add:zm,removeAll:zn,keys:Rn,entries:Fn,scaleType:On},O1={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]},qn=/^(6|64|7|9|11|13)$/;function A1(m){const[t,n,e,r]=l1(m);return t===""?["",m]:t==="A"&&r==="ug"?["","aug"]:!r&&(e==="4"||e==="5")?[t+n,e]:qn.test(e)?[t+n,e+r]:[t+n+e,r]}function E(m){if(m==="")return O1;if(Array.isArray(m)&&m.length===2)return M1(m[1],m[0]);{const[t,n]=A1(m),e=M1(n,t);return e.empty?M1(m):e}}function M1(m,t,n){const e=J1(m),r=u(t||""),o=u(n||"");if(e.empty||t&&r.empty||n&&o.empty)return O1;const M=G(r.pc,o.pc),P=e.intervals.indexOf(M)+1;if(!o.empty&&!P)return O1;const i=Array.from(e.intervals);for(let c=1;c<P;c++){const l=i[0][0],p=i[0][1],T=parseInt(l,10)+7;i.push(`${T}${p}`),i.shift()}const a=r.empty?[]:i.map(c=>h(r,c));m=e.aliases.indexOf(m)!==-1?m:e.aliases[0];const s=`${r.empty?"":r.pc}${m}${o.empty||P<=1?"":"/"+o.pc}`,d=`${t?r.pc+" ":""}${e.name}${P>1&&n?" over "+o.pc:""}`;return{...e,name:d,symbol:s,type:e.name,root:o.name,intervals:i,rootDegree:P,tonic:r.name,notes:a}}var Bn=b("Chord.chord","Chord.get",E);function Ln(m,t){const[n,e]=A1(m);return n?h(n,t)+e:m}function Hn(m){const t=E(m),n=p1(t.chroma);return H().filter(e=>n(e.chroma)).map(e=>e.name)}function Un(m){const t=E(m),n=p1(t.chroma);return L().filter(e=>n(e.chroma)).map(e=>t.tonic+e.aliases[0])}function Kn(m){const t=E(m),n=h1(t.chroma);return L().filter(e=>n(e.chroma)).map(e=>t.tonic+e.aliases[0])}function Xn(m){const{intervals:t,tonic:n}=E(m),e=z(t,n);return r=>r?e(r>0?r-1:r):""}function Jn(m){const{intervals:t,tonic:n}=E(m);return z(t,n)}var Qn={getChord:M1,get:E,detect:jn,chordScales:Hn,extended:Un,reduced:Kn,tokenize:A1,transpose:Ln,degrees:Xn,steps:Jn,chord:Bn},Wn=[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]],Yn=Wn,N1=[];Yn.forEach(([m,t,n])=>Me(m,t,n));var Zn={empty:!0,name:"",value:0,fraction:[0,0],shorthand:"",dots:"",names:[]};function me(){return N1.reduce((m,t)=>(t.names.forEach(n=>m.push(n)),m),[])}function te(){return N1.map(m=>m.shorthand)}var ne=/^([^.]+)(\.*)$/;function Q1(m){const[t,n,e]=ne.exec(m)||[],r=N1.find(P=>P.shorthand===n||P.names.includes(n));if(!r)return Zn;const o=Pe(r.fraction,e.length),M=o[0]/o[1];return{...r,name:m,dots:e,value:M,fraction:o}}var ee=m=>Q1(m).value,re=m=>Q1(m).fraction,oe={names:me,shorthands:te,get:Q1,value:ee,fraction:re};function Me(m,t,n){N1.push({empty:!1,dots:"",name:"",value:1/m,fraction:m<1?[1/m,1]:[1,m],shorthand:t,names:n})}function Pe(m,t){const n=Math.pow(2,t);let e=m[0]*n,r=m[1]*n;const o=e;for(let M=0;M<t;M++)e+=o/Math.pow(2,M+1);for(;e%2===0&&r%2===0;)e/=2,r/=2;return[e,r]}function ie(){return"1P 2M 3M 4P 5P 6m 7m".split(" ")}var qm=f,ae=m=>f(m).name,se=m=>f(m).semitones,ce=m=>f(m).q,ue=m=>f(m).num;function Bm(m){const t=f(m);return t.empty?"":t.simple+t.q}function de(m){const t=f(m);if(t.empty)return"";const n=(7-t.step)%7,e=t.type==="perfectable"?-t.alt:-(t.alt+1);return f({step:n,alt:e,oct:t.oct,dir:t.dir}).name}var le=[1,2,2,3,3,4,5,5,6,6,7,7],fe="P m M m M P d P m M m M".split(" ");function he(m){const t=m<0?-1:1,n=Math.abs(m),e=n%12,r=Math.floor(n/12);return t*(le[e]+7*r)+fe[e]}var pe=G,Lm=Um((m,t)=>[m[0]+t[0],m[1]+t[1]]),ve=m=>t=>Lm(m,t),ge=Um((m,t)=>[m[0]-t[0],m[1]-t[1]]);function Hm(m,t){const n=qm(m);if(n.empty)return"";const[e,r,o]=n.coord;return W([e+t,r,o]).name}var k={names:ie,get:qm,name:ae,num:ue,semitones:se,quality:ce,fromSemitones:he,distance:pe,invert:de,simplify:Bm,add:Lm,addTo:ve,substract:ge,transposeFifths:Hm};function Um(m){return(t,n)=>{const e=f(t).coord,r=f(n).coord;if(e&&r){const o=m(e,r);return W(o).name}}}function Km(m){return+m>=0&&+m<=127}function Xm(m){if(Km(m))return+m;const t=u(m);return t.empty?null:t.midi}function be(m,t=440){return Math.pow(2,(m-69)/12)*t}var ye=Math.log(2),Ae=Math.log(440);function W1(m){const t=12*(Math.log(m)-Ae)/ye+69;return Math.round(t*100)/100}var Ne="C C# D D# E F F# G G# A A# B".split(" "),Ie="C Db D Eb E F Gb G Ab A Bb B".split(" ");function S(m,t={}){if(isNaN(m)||m===-1/0||m===1/0)return"";m=Math.round(m);const e=(t.sharps===!0?Ne:Ie)[m%12];if(t.pitchClass)return e;const r=Math.floor(m/12)-1;return e+r}function Y1(m){return m%12}function $e(m){return m.split("").reduce((t,n,e)=>(e<12&&n==="1"&&t.push(e),t),[])}function je(m){return m.map(Y1).sort((t,n)=>t-n).filter((t,n,e)=>n===0||t!==e[n-1])}function Z1(m){return Array.isArray(m)?je(m):$e(m)}function Se(m){const t=Z1(m);return n=>{const e=Y1(n);for(let r=0;r<12;r++){if(t.includes(e+r))return n+r;if(t.includes(e-r))return n-r}}}function Jm(m,t){const n=Z1(m),e=n.length;return r=>{const o=r<0?(e- -r%e)%e:r%e,M=Math.floor(r/e);return n[o]+M*12+t}}function Te(m,t){const n=Jm(m,t);return e=>{if(e!==0)return n(e>0?e-1:e)}}var _e={chroma:Y1,freqToMidi:W1,isMidi:Km,midiToFreq:be,midiToNoteName:S,pcsetNearest:Se,pcset:Z1,pcsetDegrees:Te,pcsetSteps:Jm,toMidi:Xm},Ce=["C","D","E","F","G","A","B"],Qm=m=>m.name,Wm=m=>m.map(u).filter(t=>!t.empty);function Ve(m){return m===void 0?Ce.slice():Array.isArray(m)?Wm(m).map(Qm):[]}var A=u,we=m=>A(m).name,De=m=>A(m).pc,Ee=m=>A(m).acc,xe=m=>A(m).oct,ke=m=>A(m).midi,Oe=m=>A(m).freq,Fe=m=>A(m).chroma;function Ym(m){return S(m)}function Re(m){return S(W1(m))}function ze(m){return S(W1(m),{sharps:!0})}function Ge(m){return S(m,{sharps:!0})}var Y=h,qe=h,Zm=m=>t=>Y(t,m),Be=Zm,mt=m=>t=>Y(m,t),Le=mt;function s1(m,t){return Y(m,[t,0])}var He=s1;function Ue(m,t){return Y(m,[0,t])}var mm=(m,t)=>m.height-t.height,Ke=(m,t)=>t.height-m.height;function tt(m,t){return t=t||mm,Wm(m).sort(t).map(Qm)}function nt(m){return tt(m,mm).filter((t,n,e)=>n===0||t!==e[n-1])}var Xe=m=>{const t=A(m);return t.empty?"":S(t.midi||t.chroma,{sharps:t.alt>0,pitchClass:t.midi===null})};function et(m,t){const n=A(m);if(n.empty)return"";const e=A(t||S(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(e.empty||e.chroma!==n.chroma)return"";if(n.oct===void 0)return e.pc;const r=n.chroma-n.alt,o=e.chroma-e.alt,M=r>11||o<0?-1:r<0||o>11?1:0,P=n.oct+M;return e.pc+P}var I={names:Ve,get:A,name:we,pitchClass:De,accidentals:Ee,octave:xe,midi:ke,ascending:mm,descending:Ke,sortedNames:tt,sortedUniqNames:nt,fromMidi:Ym,fromMidiSharps:Ge,freq:Oe,fromFreq:Re,fromFreqSharps:ze,chroma:Fe,transpose:Y,tr:qe,transposeBy:Zm,trBy:Be,transposeFrom:mt,trFrom:Le,transposeFifths:s1,transposeOctaves:Ue,trFifths:He,simplify:Xe,enharmonic:et},rt={empty:!0,name:"",chordType:""},um={};function j(m){return typeof m=="string"?um[m]||(um[m]=tr(m)):typeof m=="number"?j(I1[m]||""):J(m)?We(m):X(m)?j(m.name):rt}var Je=b("RomanNumeral.romanNumeral","RomanNumeral.get",j);function Qe(m=!0){return(m?I1:mr).slice()}function We(m){return j(R(m.alt)+I1[m.step])}var Ye=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function Ze(m){return Ye.exec(m)||["","","",""]}var ot="I II III IV V VI VII",I1=ot.split(" "),mr=ot.toLowerCase().split(" ");function tr(m){const[t,n,e,r]=Ze(m);if(!e)return rt;const o=e.toUpperCase(),M=I1.indexOf(o),P=Q(n),i=1;return{empty:!1,name:t,roman:e,interval:f({step:M,alt:P,dir:i}).name,acc:n,chordType:r,alt:P,step:M,major:e===o,oct:0,dir:i}}var nr={names:Qe,get:j,romanNumeral:Je},g=Object.freeze([]),Mt={type:"major",tonic:"",alteration:0,keySignature:""},P1={tonic:"",grades:g,intervals:g,scale:g,triads:g,chords:g,chordsHarmonicFunction:g,chordScales:g},er={...Mt,...P1,type:"major",minorRelative:"",scale:g,secondaryDominants:g,secondaryDominantsMinorRelative:g,substituteDominants:g,substituteDominantsMinorRelative:g},rr={...Mt,type:"minor",relativeMajor:"",natural:P1,harmonic:P1,melodic:P1},V1=(m,t,n="")=>t.map((e,r)=>`${m[r]}${n}${e}`);function $1(m,t,n,e,r){return o=>{const M=m.map(i=>j(i).interval||""),P=M.map(i=>h(o,i));return{tonic:o,grades:m,intervals:M,scale:P,triads:V1(P,t),chords:V1(P,n),chordsHarmonicFunction:e.slice(),chordScales:V1(P,r," ")}}}var Pt=(m,t)=>{const n=u(m),e=u(t);return n.empty||e.empty?0:e.coord[0]-n.coord[0]},or=$1("I II III IV V VI VII".split(" ")," m m   m dim".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")),Mr=$1("I II bIII IV V bVI bVII".split(" "),"m dim  m m  ".split(" "),"m7 m7b5 maj7 m7 m7 maj7 7".split(" "),"T SD T SD D SD SD".split(" "),"minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")),Pr=$1("I II bIII IV V bVI VII".split(" "),"m dim aug m   dim".split(" "),"mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),"T SD T SD D SD D".split(" "),"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(",")),ir=$1("I II bIII IV V VI VII".split(" "),"m m aug   dim dim".split(" "),"m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),"T SD T SD D  ".split(" "),"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(","));function ar(m){const t=u(m).pc;if(!t)return er;const n=or(t),e=Pt("C",t),r=o=>{const M=j(o);return M.empty?"":h(m,M.interval)+M.chordType};return{...n,type:"major",minorRelative:h(t,"-3m"),alteration:e,keySignature:R(e),secondaryDominants:"- VI7 VII7 I7 II7 III7 -".split(" ").map(r),secondaryDominantsMinorRelative:"- IIIm7b5 IV#m7 Vm7 VIm7 VIIm7b5 -".split(" ").map(r),substituteDominants:"- bIII7 IV7 bV7 bVI7 bVII7 -".split(" ").map(r),substituteDominantsMinorRelative:"- IIIm7 Im7 IIbm7 VIm7 IVm7 -".split(" ").map(r)}}function sr(m){const t=u(m).pc;if(!t)return rr;const n=Pt("C",t)-3;return{type:"minor",tonic:t,relativeMajor:h(t,"3m"),alteration:n,keySignature:R(n),natural:Mr(t),harmonic:Pr(t),melodic:ir(t)}}function cr(m){return typeof m=="number"?s1("C",m):typeof m=="string"&&/^b+|#+$/.test(m)?s1("C",Q(m)):null}var ur={majorKey:ar,majorTonicFromKeySignature:cr,minorKey:sr},tm=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],dm={...w,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},nm=tm.map(hr),F1={};nm.forEach(m=>{F1[m.name]=m,m.aliases.forEach(t=>{F1[t]=m})});function D(m){return typeof m=="string"?F1[m.toLowerCase()]||dm:m&&m.name?D(m.name):dm}var dr=b("Mode.mode","Mode.get",D);function it(){return nm.slice()}var lr=b("Mode.mode","Mode.all",it);function fr(){return nm.map(m=>m.name)}function hr(m){const[t,n,e,r,o,M,P]=m,i=P?[P]:[],a=Number(n).toString(2);return{empty:!1,intervals:y1(r).intervals,modeNum:t,chroma:a,normalized:a,name:r,setNum:n,alt:e,triad:o,seventh:M,aliases:i}}function pr(m,t){return D(m).intervals.map(n=>h(t,n))}function at(m){return(t,n)=>{const e=D(t);if(e.empty)return[];const r=q(e.modeNum,m),o=e.intervals.map(M=>h(n,M));return r.map((M,P)=>o[P]+M)}}var vr=at(tm.map(m=>m[4])),gr=at(tm.map(m=>m[5]));function st(m,t){const n=D(t),e=D(m);return n.empty||e.empty?"":Bm(Hm("1P",e.alt-n.alt))}function br(m,t,n){return h(n,st(m,t))}var yr={get:D,names:fr,all:it,distance:st,relativeTonic:br,notes:pr,triads:vr,seventhChords:gr,entries:lr,mode:dr};function Ar(m,t){return t.map(j).map(e=>h(m,f(e))+e.chordType)}function Nr(m,t){return t.map(n=>{const[e,r]=A1(n),o=G(m,e);return j(f(o)).name+r})}var Ir={fromRomanNumerals:Ar,toRomanNumerals:Nr};function ct(m){const t=H1(m.map(n=>typeof n=="number"?n:Xm(n)));return!m.length||t.length!==m.length?[]:t.reduce((n,e)=>{const r=n[n.length-1];return n.concat(f1(r,e).slice(1))},[t[0]])}function $r(m,t){return ct(m).map(n=>S(n,t))}var jr={numeric:ct,chromatic:$r},Sr={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function ut(m){if(typeof m!="string")return["",""];const t=m.indexOf(" "),n=u(m.substring(0,t));if(n.empty){const r=u(m);return r.empty?["",m]:[r.name,""]}const e=m.substring(n.name.length+1);return[n.name,e.length?e:""]}var Tr=Rm;function $(m){const t=Array.isArray(m)?m:ut(m),n=u(t[0]).name,e=y1(t[1]);if(e.empty)return Sr;const r=e.name,o=n?e.intervals.map(P=>h(n,P)):[],M=n?n+" "+r:r;return{...e,name:M,type:r,tonic:n,notes:o}}var _r=b("Scale.scale","Scale.get",$);function Cr(m,t={}){const n=Em(m),e=u(t.tonic??m[0]??""),r=e.chroma;if(r===void 0)return[];const o=n.split("");o[r]="1";const M=q(r,o).join(""),P=H().find(a=>a.chroma===M),i=[];return P&&i.push(e.name+" "+P.name),t.match==="exact"||dt(M).forEach(a=>{i.push(e.name+" "+a)}),i}function Vr(m){const t=$(m),n=h1(t.chroma);return L().filter(e=>n(e.chroma)).map(e=>e.aliases[0])}function dt(m){const t=K1(m)?m:$(m).chroma,n=p1(t);return H().filter(e=>n(e.chroma)).map(e=>e.name)}function wr(m){const t=h1($(m).chroma);return H().filter(n=>t(n.chroma)).map(n=>n.name)}function lt(m){const t=m.map(r=>u(r).pc).filter(r=>r),n=t[0],e=nt(t);return q(e.indexOf(n),e)}function Dr(m){const t=$(m);if(t.empty)return[];const n=t.tonic?t.notes:t.intervals;return X1(t.chroma).map((e,r)=>{const o=$(e).name;return o?[n[r],o]:["",""]}).filter(e=>e[0])}function Er(m){const t=Array.isArray(m)?lt(m):$(m).notes,n=t.map(e=>u(e).chroma);return e=>{const r=u(typeof e=="number"?Ym(e):e),o=r.height;if(o===void 0)return;const M=o%12,P=n.indexOf(M);if(P!==-1)return et(r.name,t[P])}}function xr(m){const t=Er(m);return(n,e)=>{const r=u(n).height,o=u(e).height;return r===void 0||o===void 0?[]:f1(r,o).map(t).filter(M=>M)}}function kr(m){const{intervals:t,tonic:n}=$(m),e=z(t,n);return r=>r?e(r>0?r-1:r):""}function Or(m){const{intervals:t,tonic:n}=$(m);return z(t,n)}var O={degrees:kr,detect:Cr,extended:dt,get:$,modeNames:Dr,names:Tr,rangeOf:xr,reduced:wr,scaleChords:Vr,scaleNotes:lt,steps:Or,tokenize:ut,scale:_r},Fr={empty:!0,name:"",upper:void 0,lower:void 0,type:void 0,additive:[]},Rr=["4/4","3/4","2/4","2/2","12/8","9/8","6/8","3/8"];function zr(){return Rr.slice()}var Gr=/^(\d*\d(?:\+\d)*)\/(\d+)$/,lm=new Map;function qr(m){const t=JSON.stringify(m),n=lm.get(t);if(n)return n;const e=Hr(em(m));return lm.set(t,e),e}function em(m){if(typeof m=="string"){const[o,M,P]=Gr.exec(m)||[];return em([M,P])}const[t,n]=m,e=+n;if(typeof t=="number")return[t,e];const r=t.split("+").map(o=>+o);return r.length===1?[r[0],e]:[r,e]}var Br={names:zr,parse:em,get:qr},Lr=m=>Math.log(m)/Math.log(2)%1===0;function Hr([m,t]){const n=Array.isArray(m)?m.reduce((P,i)=>P+i,0):m,e=t;if(n===0||e===0)return Fr;const r=Array.isArray(m)?`${m.join("+")}/${t}`:`${m}/${t}`,o=Array.isArray(m)?m:[],M=e===4||e===2?"simple":e===8&&n%3===0?"compound":Lr(e)?"irregular":"irrational";return{empty:!1,name:r,type:M,upper:n,lower:e,additive:o}}var Ur=Tm,Kr=km,Xr=Fm,Jr=Gm;const Qr=Object.freeze(Object.defineProperty({__proto__:null,AbcNotation:zt,Array:Xt,Chord:Qn,ChordDictionary:Xr,ChordType:Fm,Collection:Yt,Core:Tm,DurationValue:oe,Interval:k,Key:ur,Midi:_e,Mode:yr,Note:I,PcSet:Kr,Pcset:km,Progression:Ir,Range:jr,RomanNumeral:nr,Scale:O,ScaleDictionary:Jr,ScaleType:Gm,TimeSignature:Br,Tonal:Ur,accToAlt:Q,altToAcc:R,coordToInterval:W,coordToNote:B1,decode:d1,deprecate:b,distance:G,encode:u1,fillStr:x,interval:f,isNamed:X,isPitch:J,note:u,stepToLetter:q1,tokenizeInterval:L1,tokenizeNote:l1,tonicIntervalsTransposer:z,transpose:h},Symbol.toStringTag,{value:"Module"})),Wr=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],Yr=["c","db","d","eb","e","f","gb","g","ab","a","bb","b"],Zr=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],mo={b:-1,"#":1},to=m=>{const[t,...n]=m.split("");return Yr.indexOf(t.toLowerCase())+n.reduce((e,r)=>e+mo[r],0)};function no(m){const t=(m||"").match(/^([A-G][b#]*)([^/]*)[/]?([A-G][b#]*)?$/);return t?t.slice(1):[]}const R1=m=>m%12,ft=m=>{let t=Number(m);return isNaN(t)?k.semitones(m):t},z1=(m,t)=>{if(typeof m=="number")return m;if(typeof m=="string")return ym(m,t)},eo=(m,t=!1)=>{const n=Math.floor(m/12)-1;return(t?Zr:Wr)[m%12]+n};function ro(m,t,n=1){m=m.map(r=>typeof r=="string"?ym(r):r);const e=Math.floor(t/m.length)*n*12;return t=V(t,m.length),m[t]+e}function oo(m,t,n){let e=0,r=1/0;return t.forEach((o,M)=>{const P=Math.abs(o-m);(!n&&P<r||n&&P<=r)&&(e=M,r=P)}),e}let w1={};function Mo(m,t,n,e){let[r,o]=O.tokenize(t);const M=z1(r),P=R1(M);if(!w1[o]){let{intervals:c}=O.get(`C ${o}`);w1[o]=c.map(ft)}const i=w1[o];if(!i)return null;let a=M;if(n){n=z1(n,3);const c=R1(n),l=V(c-P,12),p=oo(l,i,e);m=m+p,a=n-l}const s=Math.floor(m/i.length)*12;return m=V(m,i.length),i[m]+a+s}let fm={below:m=>m.slice(-1)[0],duck:m=>m.slice(-1)[0],above:m=>m[0],root:m=>m[0]};function Po({chord:m,dictionary:t,offset:n=0,n:e,mode:r="below",anchor:o="c5",octaves:M=1}){const[P,i]=no(m),a=to(P);o=z1(o?.note||o,4);const s=R1(o),d=t[i].map(N=>(typeof N=="string"?N.split(" "):N).map(ft));let c,l,p=d.map((N,T1)=>{const yt=fm[r](N),_1=V(s-yt-a,12);return(c===void 0||_1<c)&&(c=_1,l=T1),_1});r==="root"&&(l=0);const T=Math.ceil(n/d.length)*12,n1=V(l+n,d.length),e1=d[n1],y=fm[r](e1),S1=o-p[n1]+T,rm=e1.map(N=>S1-y+N);let r1=rm.map(N=>eo(N));return r==="duck"&&(r1=r1.filter((N,T1)=>rm[T1]!==o)),e!==void 0?[ro(r1,e,M)]:r1}const io=m=>(m<=0?-1:1)+m*7+"P";function ao(m,t){t=t.replaceAll(":"," "),m=Math.ceil(m);let{intervals:n,tonic:e,empty:r}=O.get(t);if(r&&Am(t)||!r&&!e)throw new Error('incomplete scale. Make sure to use ":" instead of spaces, example: .scale("C:major")');if(r)throw new Error(`invalid scale "${t}"`);e=e||"C";const{pc:o,oct:M=3}=I.get(e),P=Math.floor(m/n.length),i=V(m,n.length),a=k.add(n[i],io(P));return I.transpose(o+M,a)}function hm(m,t,n){let[e,r]=O.tokenize(m),{notes:o}=O.get(`${e} ${r}`);if(o=o.map(l=>I.get(l).pc),t=Number(t),isNaN(t))throw new Error(`scale offset "${t}" not a number`);const{pc:M,oct:P=3}=I.get(n),i=o.indexOf(M);if(i===-1)throw new Error(`note "${n}" is not in scale "${m}"`);let a=i,s=P,d=M;const c=Math.sign(t);for(;Math.abs(a-i)<Math.abs(t);){a+=c;const l=V(a,o.length);c<0&&d[0]==="C"&&(s+=c),d=o[l],c>0&&d[0]==="C"&&(s+=c)}return d+s}const jo=F("transpose",function(m,t){return t.withHap(n=>{const e=isNaN(Number(m))?String(m):k.fromSemitones(m);if(typeof n.value=="number"){const r=typeof e=="string"?k.semitones(e)||0:e;return n.withValue(()=>n.value+r)}return typeof n.value=="object"?n.withValue(()=>({...n.value,note:I.simplify(I.transpose(n.value.note,e))})):n.withValue(()=>I.simplify(I.transpose(n.value,e)))})}),So=F("scaleTranspose",function(m,t){return t.withHap(n=>{if(!n.context.scale)throw new Error("can only use scaleTranspose after .scale");if(typeof n.value=="object")return n.withValue(()=>({...n.value,note:hm(n.context.scale,Number(m),n.value.note)}));if(typeof n.value!="string")throw new Error("can only use scaleTranspose with notes");return n.withValue(()=>hm(n.context.scale,Number(m),n.value))})}),To=F("scale",function(m,t){return Array.isArray(m)&&(m=m.flat().join(" ")),t.fmap(n=>{const e=typeof n=="object";let r=e?n.n:n;if(e&&delete n.n,Am(r))return om(r);let o=Number(r),M=0;if(isNaN(o)){if(r=String(r),!/^[-+]?\d+(#*|b*){1}$/.test(r))return E1(`[tonal] invalid scale step "${r}", expected number or integer with optional # b suffixes`,"error"),x1;const P=r.indexOf("#");if(P>=0)o=Number(r.substring(0,P)),M=r.length-P;else{const i=r.indexOf("b");o=Number(r.substring(0,i)),M=i-r.length}}try{let P;e&&n.anchor?P=Mo(o,m,n.anchor):P=ao(o,m),M!=0&&(P=I.transpose(P,k.fromSemitones(M))),n=om(e?{...n,note:P}:P)}catch(P){E1(`[tonal] ${P.message}`,"error"),n=x1}return n}).outerJoin().withHap(n=>n.setContext({...n.context,scale:m}))});var ht={},D1={},Z={};Z.__esModule=!0;Z.getBestVoicing=void 0;function so(m){var t=m.chord,n=m.range,e=m.finder,r=m.picker,o=m.lastVoicing,M=e(t,n);return M.length?r(M,o):[]}Z.getBestVoicing=so;var U={};const pt=At(Qr);var m1={};m1.__esModule=!0;m1.tokenizeChord=void 0;function co(m){var t=(m||"").match(/^([A-G][b#]*)([^\/]*)[\/]?([A-G][b#]*)?$/);return t?t.slice(1):[]}m1.tokenizeChord=co;var pm;function uo(){if(pm)return U;pm=1,U.__esModule=!0,U.voicingsInRange=void 0;var m=pt,t=vt(),n=m1;function e(r,o,M){o===void 0&&(o=t.lefthand),M===void 0&&(M=["D3","A4"]);var P=(0,n.tokenizeChord)(r),i=P[0],a=P[1];if(!o[a])return[];var s=o[a].map(function(c){return c.split(" ")}),d=m.Range.chromatic(M);return s.reduce(function(c,l){var p=l.map(function(y){return m.Interval.substract(y,l[0])}),T=m.Note.transpose(i,l[0]),n1=d.filter(function(y){return m.Note.chroma(y)===m.Note.chroma(T)}).filter(function(y){return m.Note.midi(m.Note.transpose(y,p[p.length-1]))<=m.Note.midi(M[1])}).map(function(y){return m.Note.enharmonic(y,T)}),e1=n1.map(function(y){return p.map(function(S1){return m.Note.transpose(y,S1)})});return c.concat(e1)},[])}return U.voicingsInRange=e,U}var vm;function vt(){return vm||(vm=1,function(m){var t=o1&&o1.__assign||function(){return t=Object.assign||function(P){for(var i,a=1,s=arguments.length;a<s;a++){i=arguments[a];for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&(P[d]=i[d])}return P},t.apply(this,arguments)},n=o1&&o1.__rest||function(P,i){var a={};for(var s in P)Object.prototype.hasOwnProperty.call(P,s)&&i.indexOf(s)<0&&(a[s]=P[s]);if(P!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,s=Object.getOwnPropertySymbols(P);d<s.length;d++)i.indexOf(s[d])<0&&Object.prototype.propertyIsEnumerable.call(P,s[d])&&(a[s[d]]=P[s[d]]);return a};m.__esModule=!0,m.dictionaryVoicing=m.dictionaryVoicingFinder=m.triads=m.guidetones=m.lefthand=void 0;var e=Z,r=uo();m.lefthand={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},m.guidetones={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},m.triads={M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]};var o=function(P){return function(i,a){return(0,r.voicingsInRange)(i,P,a)}};m.dictionaryVoicingFinder=o;var M=function(P){var i=P.dictionary,a=P.range,s=n(P,["dictionary","range"]);return(0,e.getBestVoicing)(t(t({},s),{range:a,finder:(0,m.dictionaryVoicingFinder)(i)}))};m.dictionaryVoicing=M}(D1)),D1}var j1={};j1.__esModule=!0;j1.minTopNoteDiff=void 0;var gm=pt;function lo(m,t){if(!t)return m[0];var n=function(e){return Math.abs(gm.Note.midi(t[t.length-1])-gm.Note.midi(e[e.length-1]))};return m.reduce(function(e,r){return n(r)<n(e)?r:e},m[0])}j1.minTopNoteDiff=lo;(function(m){m.__esModule=!0;var t=vt(),n=j1,e=Z,r=m1;m.default={tokenizeChord:r.tokenizeChord,getBestVoicing:e.getBestVoicing,dictionaryVoicing:t.dictionaryVoicing,dictionaryVoicingFinder:t.dictionaryVoicingFinder,lefthand:t.lefthand,guidetones:t.guidetones,triads:t.triads,minTopNoteDiff:n.minTopNoteDiff}})(ht);const bm=Nt(ht),K={2:["1P 5P 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P"],5:["1P 5P 8P 12P","5P 8P 12P 15P"],6:["1P 5P 6M 8P 10M","1P 5P 8P 10M 13M","3M 5P 8P 10M 13M","5P 8P 10M 12P 13M"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M"],9:["1P 5P 7m 9M 10M","1P 7m 9M 10M 12P","3M 7m 8P 9M 12P","7m 9M 10M 14m 15P","3M 7m 8P 12P 16M","7m 10M 12P 15P 16M"],11:["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],13:["1P 6M 7m 9M 10M","1P 7m 9M 10M 13M","3M 7m 8P 9M 13M","7m 8P 9M 10M 13M","7m 9M 10M 13M 15P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 8P 9M 13M","5P 8P 9M 10M 13M"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 12P 17M"],"+":["1P 3M 6m 8P 10M","1P 6m 8P 10M 13m","3M 6m 8P 10M 13m","3M 8P 10M 13m 15P","6m 8P 10M 13m 15P","6m 10M 13m 15P 17M"],o:["1P 5d 8P 10m 12d","3m 8P 10m 12d 15P","5d 8P 10m 12d 15P"],h:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P","1P 4P 5P 8P 11P","5P 8P 11P 12P","5P 8P 11P 12P 15P"],"^":["1P 5P 8P 10M","1P 5P 8P 10M 12P","3M 5P 8P 10M 12P","3M 8P 10M 12P 15P","5P 8P 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 5P 8P 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 5P 7M 10M 12P","1P 10M 12P 14M","3M 8P 10M 12P 14M","5P 8P 10M 12P 14M","5P 8P 10M 14M 17M"],"-7":["1P 3m 5P 7m 10m","1P 5P 7m 10m 12P","3m 7m 8P 10m 12P","3m 7m 8P 10m 14m","5P 7m 8P 10m 14m","7m 10m 12P 14m 15P","5P 8P 10m 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 5P 7m 8P 11P","5P 8P 11P 12P 14m","7m 8P 11P 12P 14m","7m 11P 12P 14m 18P"],h7:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 5P 7M 9M 10M","1P 7M 9M 10M 12P","3M 7M 8P 9M 12P","3M 7M 8P 12P 16M","5P 8P 10M 14M 16M","7M 8P 10M 12P 16M"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 8P 13M 16M","7M 8P 10M 13M 16M"],"^7#11":["1P 5P 7M 10M 12d","3M 7M 8P 10M 12d","1P 7M 10M 12d 14M","3M 7M 8P 12d 14M","5P 8P 10M 12d 14M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 8P 9M 12d","3M 8P 9M 12d 14M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 8P 10M 13m","6m 7M 8P 10M 13m"],"-6":["1P 3m 5P 6M 8P","1P 5P 6M 8P 10m","3m 5P 6M 8P 10m","1P 5P 8P 10m 13M","3m 5P 8P 10m 13M","5P 8P 10m 12P 13M","5P 8P 10m 13M 15P"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 10m","1P 5P 7M 10m 12P","3m 7M 8P 10m 12P","5P 7M 8P 10m 14M","5P 8P 10m 14M 17m"],"-^9":["1P 3m 5P 7M 9M","1P 7M 9M 10m 12P","3m 7M 8P 9M 12P","5P 8P 9M 10m 14M"],"-9":["1P 3m 5P 7m 9M","3m 5P 7m 8P 9M","3m 7m 8P 9M 12P","5P 8P 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 12P 15P 16M"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["1P 3m 7m 9M 11P","3m 7m 8P 9M 11P","1P 4P 7m 10m 12P","5P 8P 11P 14m","3m 7m 9M 11P 15P","5P 8P 11P 14m 16M","7m 10m 12P 15P 18P"],"-7b5":["3m 5d 7m 8P 10m","1P 7m 10m 12d","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["1P 7m 9M 10m 12d","3m 7m 8P 9M 12d","5d 8P 9M 10m 14m","7m 10m 12d 15P 16M"],"-b6":["1P 5P 6m 8P 10m","1P 5P 8P 10m 13m","3m 5P 8P 10m 13m","5P 8P 10m 13m","5P 8P 10m 13m 15P"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 10m 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 8P 10m 14m","7m 10m 10M 14m 15P"],"7#11":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7b5":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"7#9#5":["1P 3M 7m 10m 13m","3M 7m 10m 13m 15P","7m 10M 13m 15P 17m"],"7#9b5":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7#9#11":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7b9#11":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9b5":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 8P 9m 10m","7m 8P 10M 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7alt":["3M 7m 8P 9m 12d","1P 7m 10m 10M 13m","3M 7m 8P 10m 13m","3M 7m 9m 12d 15P","3M 7m 10m 13m 15P","7m 10M 12d 15P 17m","7m 10M 13m 15P 17m"],"13#11":["1P 6M 7m 10M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["1P 3M 6M 7m 9m","1P 6M 7m 9m 10M","3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["1P 3M 6M 7m 10m","3M 7m 8P 10m 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","5P 7m 9M 11P 13M","7m 9M 11P 13M 15P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},c1={2:["1P 5P 6M 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P 13M","5P 8P 9M 12P 15P"],5:["1P 5P 8P 12P","1P 5P 8P 9M 12P","5P 8P 12P 15P","5P 8P 12P 15P 16M"],6:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M","7m 10M 14m 17M 19P"],9:["1P 6M 7m 9M 10M","3M 7m 9M 10M 12P","1P 7m 9M 10M 13M","3M 7m 9M 10M 13M","3M 7m 9M 12P 15P","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],11:["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],13:["3M 7m 9M 10M 13M","3M 7m 9M 13M 15P","3M 7m 10M 13M 16M","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 10M 15P","5P 8P 9M 12P 17M"],"+":["1P 6m 8P 9M 10M","1P 6m 8P 10M 13m","3M 8P 9M 10M 13m","3M 8P 10M 13m 15P","6m 10M 13m 15P 16M","6m 10M 13m 15P 17M"],o:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],h:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P 9M","1P 4P 5P 8P 11P","1P 5P 8P 9M 11P","5P 8P 9M 11P 12P","5P 8P 11P 12P 13M","5P 8P 11P 13M 15P"],"^":["1P 3M 5P 6M 9M","1P 5P 8P 10M 12P","3M 5P 9M 10M 12P","1P 5P 8P 10M 13M","3M 8P 10M 13M 15P","5P 9M 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 3m 5P 9M 11P","3m 5P 8P 9M 11P","5P 8P 9M 10m 11P","1P 5P 9M 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 6M 7M 9M 10M","3M 7M 9M 10M 12P","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"-7":["1P 3m 5P 7m 9M","1P 3m 5P 7m 10m","1P 5P 7m 10m 11P","3m 7m 8P 10m 11P","1P 5P 7m 10m 12P","3m 7m 9M 10m 12P","3m 7m 8P 10m 14m","5P 7m 9M 10m 14m","7m 10m 11P 14m 15P","7m 10m 12P 15P 16M","5P 8P 11P 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],h7:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^7#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 10M 12d 14M","7M 10M 12d 13M 14M","7M 10M 12d 13M 16M","7M 10M 12d 14M 17M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 9M 12d 14M","7M 10M 12d 14M 16M","7M 10M 12d 13M 16M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 9M 10M 13m","3M 7M 10M 13m 14M","7M 10M 13m 14M 16M","7M 10M 13m 14M 17M"],"-6":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","1P 5P 6M 10m 11P","3m 5P 6M 8P 11P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 10m 11P 13M","5P 8P 10m 13M 16M"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-^9":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-9":["1P 3m 5P 7m 9M","1P 3m 7m 9M 11P","3m 7m 9M 10m 11P","3m 7m 9M 10m 12P","3m 7m 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 11P 14m 16M","7m 10m 12P 16M 18P"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["3m 5P 7m 9M 11P","7m 9M 10m 11P","1P 4P 7m 10m 12P","3m 7m 9M 11P 12P","7m 9M 10m 11P 12P","3m 7m 9M 11P 14m","4P 10m 12P 14m","5P 8P 11P 14m","5P 8P 11P 14m 16M","7m 10m 12P 16M 18P","7m 10m 11P 16M 21m"],"-7b5":["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["3m 5d 7m 9M 11P","1P 7m 9M 10m 12d","3m 7m 9M 12d 14m","5d 8P 9M 10m 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 16M"],"-b6":["1P 3m 5P 6m 8P","3m 5P 8P 11P 13m","5P 8P 10m 11P 13m"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 11P 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 10m 10M 12P","3M 7m 10m 12P 14m","7m 10M 12P 14m 17m"],"7#11":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7b5":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"7#9#5":["3M 7m 10m 10M 13m","3M 7m 10m 13m 14m","7m 10M 13m 14m 17m"],"7#9b5":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7#9#11":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7b9#11":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9b5":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 10m 13m 16m","7m 10M 13m 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7alt":["3M 7m 8P 10m 13m","3M 7m 9m 12d 13m","3M 7m 9m 10m 13m","3M 7m 10m 13m 14m","3M 7m 9m 12d 14m","3M 7m 10m 13m 15P","3M 7m 10m 13m 16m","7m 10M 12d 14m 16m","7m 10M 12d 13m 16m","7m 10M 13m 15P 17m","7m 10M 13m 16m 17m","7m 10M 13m 16m 19d"],"13#11":["3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["3M 7m 10m 10M 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","4P 7m 9M 11P 13M","7m 9M 11P 13M 15P","7m 11P 13M 14m 16M","7m 11P 13M 16M 18P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},{dictionaryVoicing:fo,minTopNoteDiff:ho}=bm.default||bm,po={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},vo={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},go={"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]},bo={"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"],m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},t1={lefthand:{dictionary:po,range:["F3","A4"],mode:"below",anchor:"a4"},triads:{dictionary:go,mode:"below",anchor:"a4"},guidetones:{dictionary:vo,mode:"above",anchor:"a4"},legacy:{dictionary:bo,mode:"below",anchor:"a4"}};let gt="ireal";const yo=m=>gt=m,_o=(m,t)=>Ao(m,t1[m].dictionary,t),Ao=(m,t,n=["F3","A4"])=>{Object.assign(t1,{[m]:{dictionary:t,range:n}})},bt=(m,t,n={})=>{Object.assign(t1,{[m]:{dictionary:t,...n}})},No=(m,t,n)=>{const{dictionary:e,range:r}=t1[t];return fo({chord:m,dictionary:e,range:r,picker:ho,lastVoicing:n})};let i1;const Co=F("voicings",function(m,t){return t.fmap(n=>(i1=No(n,m,i1),Nm(...i1))).outerJoin()}),Vo=F("rootNotes",function(m,t){return t.fmap(n=>{const o=(n.chord||n).match(/^([a-gA-G][b#]?).*$/)[1]+m;return n.chord?{note:o}:o})}),wo=F("voicing",function(m){return m.fmap(t=>{t=typeof t=="string"?{chord:t}:t;let{dictionary:n=gt,chord:e,anchor:r,offset:o,mode:M,n:P,octaves:i,...a}=t;n=typeof n=="string"?t1[n]:{dictionary:n,mode:"below",anchor:"c5"};try{let s=Po({...n,chord:e,anchor:r,offset:o,mode:M,n:P,octaves:i});return Nm(...s).note().set(a)}catch{return E1(`[voicing]: unknown chord "${e}"`),x1}}).outerJoin()});function G1(m,t,n){n=Array.isArray(n)?n:[n],n.forEach(e=>{e[t]=e[m]})}G1("^","",[K,c1]);Object.keys(K).forEach(m=>{if(m.includes("-")){let t=m.replace("-","m");G1(m,t,[c1,K])}if(m.includes("^")){let t=m.replace("^","M");G1(m,t,[c1,K])}});bt("ireal",K);bt("ireal-ext",c1);function Do(){i1=void 0,yo("ireal")}const Eo="@strudel/tonal";export{Ao as addVoicings,Eo as packageName,bt as registerVoicings,Do as resetVoicings,Vo as rootNotes,To as scale,So as scaleTranspose,yo as setDefaultVoicings,_o as setVoicingRange,jo as transpose,wo as voicing,G1 as voicingAlias,t1 as voicingRegistry,Co as voicings};
//# sourceMappingURL=index.Dn1s2ox_.js.map
