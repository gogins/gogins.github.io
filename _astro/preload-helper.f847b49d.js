import{q as Tm,r as Mm,t as Rm,d as jm,D as Dm,P as Um,u as Zm,v as oc}from"./index.0c96e269.js";const Bm=5,ur=6,pr=10;let Lm=(i,e,t,n)=>(i.events=i.events||{},i.events[t+pr]||(i.events[t+pr]=n(r=>{i.events[t].reduceRight((s,o)=>(o(s),s),{shared:{},...r})})),i.events[t]=i.events[t]||[],i.events[t].push(e),()=>{let r=i.events[t],s=r.indexOf(e);r.splice(s,1),r.length||(delete i.events[t],i.events[t+pr](),delete i.events[t+pr])}),Xm=1e3,nu=(i,e)=>Lm(i,n=>{let r=e(n);r&&i.events[ur].push(r)},Bm,n=>{let r=i.listen;i.listen=(...o)=>(!i.lc&&!i.active&&(i.active=!0,n()),r(...o));let s=i.off;return i.events[ur]=[],i.off=()=>{s(),setTimeout(()=>{if(i.active&&!i.lc){i.active=!1;for(let o of i.events[ur])o();i.events[ur]=[]}},Xm)},()=>{i.listen=r,i.off=s}});class oe{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){let r=[];return this.decompose(0,e,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(t,this.length,r,1),Wt.from(r,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let n=[];return this.decompose(e,t,n,0),Wt.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),r=new Ui(this),s=new Ui(e);for(let o=t,a=t;;){if(r.next(o),s.next(o),o=0,r.lineBreak!=s.lineBreak||r.done!=s.done||r.value!=s.value)return!1;if(a+=r.value.length,r.done||a>=n)return!0}}iter(e=1){return new Ui(this,e)}iterRange(e,t=this.length){return new iu(this,e,t)}iterLines(e,t){let n;if(e==null)n=this.iter();else{t==null&&(t=this.lines+1);let r=this.line(e).from;n=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new ru(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?oe.empty:e.length<=32?new Se(e):Wt.from(Se.split(e,[]))}}class Se extends oe{constructor(e,t=Em(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,r){for(let s=0;;s++){let o=this.text[s],a=r+o.length;if((t?n:a)>=e)return new Wm(r,a,n,o);r=a+1,n++}}decompose(e,t,n,r){let s=e<=0&&t>=this.length?this:new Se(ac(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(r&1){let o=n.pop(),a=Dr(s.text,o.text.slice(),0,s.length);if(a.length<=32)n.push(new Se(a,o.length+s.length));else{let h=a.length>>1;n.push(new Se(a.slice(0,h)),new Se(a.slice(h)))}}else n.push(s)}replace(e,t,n){if(!(n instanceof Se))return super.replace(e,t,n);let r=Dr(this.text,Dr(n.text,ac(this.text,0,e)),t),s=this.length+n.length-(t-e);return r.length<=32?new Se(r,s):Wt.from(Se.split(r,[]),s)}sliceString(e,t=this.length,n=`
`){let r="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let a=this.text[o],h=s+a.length;s>e&&o&&(r+=n),e<h&&t>s&&(r+=a.slice(Math.max(0,e-s),t-s)),s=h+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],r=-1;for(let s of e)n.push(s),r+=s.length+1,n.length==32&&(t.push(new Se(n,r)),n=[],r=-1);return r>-1&&t.push(new Se(n,r)),t}}class Wt extends oe{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,t,n,r){for(let s=0;;s++){let o=this.children[s],a=r+o.length,h=n+o.lines-1;if((t?h:a)>=e)return o.lineInner(e,t,n,r);r=a+1,n=h+1}}decompose(e,t,n,r){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let a=this.children[s],h=o+a.length;if(e<=h&&t>=o){let p=r&((o<=e?1:0)|(h>=t?2:0));o>=e&&h<=t&&!p?n.push(a):a.decompose(e-o,t-o,n,p)}o=h+1}}replace(e,t,n){if(n.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.length;if(e>=s&&t<=a){let h=o.replace(e-s,t-s,n),p=this.lines-o.lines+h.lines;if(h.lines<p>>5-1&&h.lines>p>>5+1){let f=this.children.slice();return f[r]=h,new Wt(f,this.length-(t-e)+n.length)}return super.replace(s,a,h)}s=a+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n=`
`){let r="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let a=this.children[s],h=o+a.length;o>e&&s&&(r+=n),e<h&&t>o&&(r+=a.sliceString(e-o,t-o,n)),o=h+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Wt))return 0;let n=0,[r,s,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,s+=t){if(r==o||s==a)return n;let h=this.children[r],p=e.children[s];if(h!=p)return n+h.scanIdentical(p,t);n+=h.length+1}}static from(e,t=e.reduce((n,r)=>n+r.length+1,-1)){let n=0;for(let k of e)n+=k.lines;if(n<32){let k=[];for(let S of e)S.flatten(k);return new Se(k,t)}let r=Math.max(32,n>>5),s=r<<1,o=r>>1,a=[],h=0,p=-1,f=[];function g(k){let S;if(k.lines>s&&k instanceof Wt)for(let T of k.children)g(T);else k.lines>o&&(h>o||!h)?(b(),a.push(k)):k instanceof Se&&h&&(S=f[f.length-1])instanceof Se&&k.lines+S.lines<=32?(h+=k.lines,p+=k.length+1,f[f.length-1]=new Se(S.text.concat(k.text),S.length+1+k.length)):(h+k.lines>r&&b(),h+=k.lines,p+=k.length+1,f.push(k))}function b(){h!=0&&(a.push(f.length==1?f[0]:Wt.from(f,p)),p=-1,h=f.length=0)}for(let k of e)g(k);return b(),a.length==1?a[0]:new Wt(a,t)}}oe.empty=new Se([""],0);function Em(i){let e=-1;for(let t of i)e+=t.length+1;return e}function Dr(i,e,t=0,n=1e9){for(let r=0,s=0,o=!0;s<i.length&&r<=n;s++){let a=i[s],h=r+a.length;h>=t&&(h>n&&(a=a.slice(0,n-r)),r<t&&(a=a.slice(t-r)),o?(e[e.length-1]+=a,o=!1):e.push(a)),r=h+1}return e}function ac(i,e,t){return Dr(i,[""],e,t)}class Ui{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Se?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,r=this.nodes[n],s=this.offsets[n],o=s>>1,a=r instanceof Se?r.text.length:r.children.length;if(o==(t>0?a:0)){if(n==0)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[n]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof Se){let h=r.text[o+(t<0?-1:0)];if(this.offsets[n]+=t,h.length>Math.max(0,e))return this.value=e==0?h:t>0?h.slice(e):h.slice(0,h.length-e),this;e-=h.length}else{let h=r.children[o+(t<0?-1:0)];e>h.length?(e-=h.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(h),this.offsets.push(t>0?1:(h instanceof Se?h.text.length:h.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class iu{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new Ui(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=n?r:t<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class ru{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:r}=this.inner.next(e);return t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(oe.prototype[Symbol.iterator]=function(){return this.iter()},Ui.prototype[Symbol.iterator]=iu.prototype[Symbol.iterator]=ru.prototype[Symbol.iterator]=function(){return this});class Wm{constructor(e,t,n,r){this.from=e,this.to=t,this.number=n,this.text=r}get length(){return this.to-this.from}}let Jn="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(i=>i?parseInt(i,36):1);for(let i=1;i<Jn.length;i++)Jn[i]+=Jn[i-1];function Nm(i){for(let e=1;e<Jn.length;e+=2)if(Jn[e]>i)return Jn[e-1]<=i;return!1}function lc(i){return i>=127462&&i<=127487}const cc=8205;function Je(i,e,t=!0,n=!0){return(t?su:Im)(i,e,n)}function su(i,e,t){if(e==i.length)return e;e&&ou(i.charCodeAt(e))&&au(i.charCodeAt(e-1))&&e--;let n=_e(i,e);for(e+=wt(n);e<i.length;){let r=_e(i,e);if(n==cc||r==cc||t&&Nm(r))e+=wt(r),n=r;else if(lc(r)){let s=0,o=e-2;for(;o>=0&&lc(_e(i,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function Im(i,e,t){for(;e>0;){let n=su(i,e-2,t);if(n<e)return n;e--}return 0}function ou(i){return i>=56320&&i<57344}function au(i){return i>=55296&&i<56320}function _e(i,e){let t=i.charCodeAt(e);if(!au(t)||e+1==i.length)return t;let n=i.charCodeAt(e+1);return ou(n)?(t-55296<<10)+(n-56320)+65536:t}function Xa(i){return i<=65535?String.fromCharCode(i):(i-=65536,String.fromCharCode((i>>10)+55296,(i&1023)+56320))}function wt(i){return i<65536?1:2}const Io=/\r\n?|\n/;var Qe=function(i){return i[i.Simple=0]="Simple",i[i.TrackDel=1]="TrackDel",i[i.TrackBefore=2]="TrackBefore",i[i.TrackAfter=3]="TrackAfter",i}(Qe||(Qe={}));class Vt{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,r=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(n,r,s),r+=s):r+=o,n+=s}}iterChangedRanges(e,t=!1){Fo(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];r<0?e.push(n,r):e.push(r,n)}return new Vt(e)}composeDesc(e){return this.empty?e:e.empty?this:lu(this,e)}mapDesc(e,t=!1){return e.empty?this:Vo(this,e,t)}mapPos(e,t=-1,n=Qe.Simple){let r=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],h=this.sections[o++],p=r+a;if(h<0){if(p>e)return s+(e-r);s+=a}else{if(n!=Qe.Simple&&p>=e&&(n==Qe.TrackDel&&r<e&&p>e||n==Qe.TrackBefore&&r<e||n==Qe.TrackAfter&&p>e))return null;if(p>e||p==e&&t<0&&!a)return e==r||t<0?s:s+h;s+=h}r=p}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return s}touchesRange(e,t=e){for(let n=0,r=0;n<this.sections.length&&r<=t;){let s=this.sections[n++],o=this.sections[n++],a=r+s;if(o>=0&&r<=t&&a>=e)return r<e&&a>t?"cover":!0;r=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+n+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Vt(e)}static create(e){return new Vt(e)}}class De extends Vt{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Fo(this,(t,n,r,s,o)=>e=e.replace(r,r+(n-t),o),!1),e}mapDesc(e,t=!1){return Vo(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let r=0,s=0;r<t.length;r+=2){let o=t[r],a=t[r+1];if(a>=0){t[r]=a,t[r+1]=o;let h=r>>1;for(;n.length<h;)n.push(oe.empty);n.push(o?e.slice(s,s+o):oe.empty)}s+=o}return new De(t,n)}compose(e){return this.empty?e:e.empty?this:lu(this,e,!0)}map(e,t=!1){return e.empty?this:Vo(this,e,t,!0)}iterChanges(e,t=!1){Fo(this,e,t)}get desc(){return Vt.create(this.sections)}filter(e){let t=[],n=[],r=[],s=new Ei(this);e:for(let o=0,a=0;;){let h=o==e.length?1e9:e[o++];for(;a<h||a==h&&s.len==0;){if(s.done)break e;let f=Math.min(s.len,h-a);Ye(r,f,-1);let g=s.ins==-1?-1:s.off==0?s.ins:0;Ye(t,f,g),g>0&&pn(n,t,s.text),s.forward(f),a+=f}let p=e[o++];for(;a<p;){if(s.done)break e;let f=Math.min(s.len,p-a);Ye(t,f,-1),Ye(r,f,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(f),a+=f}}return{changes:new De(t,n),filtered:Vt.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],r=this.sections[t+1];r<0?e.push(n):r==0?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let r=[],s=[],o=0,a=null;function h(f=!1){if(!f&&!r.length)return;o<t&&Ye(r,t-o,-1);let g=new De(r,s);a=a?a.compose(g.map(a)):g,r=[],s=[],o=0}function p(f){if(Array.isArray(f))for(let g of f)p(g);else if(f instanceof De){if(f.length!=t)throw new RangeError(`Mismatched change set length (got ${f.length}, expected ${t})`);h(),a=a?a.compose(f.map(a)):f}else{let{from:g,to:b=g,insert:k}=f;if(g>b||g<0||b>t)throw new RangeError(`Invalid change range ${g} to ${b} (in doc of length ${t})`);let S=k?typeof k=="string"?oe.of(k.split(n||Io)):k:oe.empty,T=S.length;if(g==b&&T==0)return;g<o&&h(),g>o&&Ye(r,g-o,-1),Ye(r,b-g,T),pn(s,r,S),o=b}}return p(e),h(!a),a}static empty(e){return new De(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let r=0;r<e.length;r++){let s=e[r];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;n.length<r;)n.push(oe.empty);n[r]=oe.of(s.slice(1)),t.push(s[0],n[r].length)}}}return new De(t,n)}static createSet(e,t){return new De(e,t)}}function Ye(i,e,t,n=!1){if(e==0&&t<=0)return;let r=i.length-2;r>=0&&t<=0&&t==i[r+1]?i[r]+=e:e==0&&i[r]==0?i[r+1]+=t:n?(i[r]+=e,i[r+1]+=t):i.push(e,t)}function pn(i,e,t){if(t.length==0)return;let n=e.length-2>>1;if(n<i.length)i[i.length-1]=i[i.length-1].append(t);else{for(;i.length<n;)i.push(oe.empty);i.push(t)}}function Fo(i,e,t){let n=i.inserted;for(let r=0,s=0,o=0;o<i.sections.length;){let a=i.sections[o++],h=i.sections[o++];if(h<0)r+=a,s+=a;else{let p=r,f=s,g=oe.empty;for(;p+=a,f+=h,h&&n&&(g=g.append(n[o-2>>1])),!(t||o==i.sections.length||i.sections[o+1]<0);)a=i.sections[o++],h=i.sections[o++];e(r,p,s,f,g),r=p,s=f}}}function Vo(i,e,t,n=!1){let r=[],s=n?[]:null,o=new Ei(i),a=new Ei(e);for(let h=-1;;)if(o.ins==-1&&a.ins==-1){let p=Math.min(o.len,a.len);Ye(r,p,-1),o.forward(p),a.forward(p)}else if(a.ins>=0&&(o.ins<0||h==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!t))){let p=a.len;for(Ye(r,a.ins,-1);p;){let f=Math.min(o.len,p);o.ins>=0&&h<o.i&&o.len<=f&&(Ye(r,0,o.ins),s&&pn(s,r,o.text),h=o.i),o.forward(f),p-=f}a.next()}else if(o.ins>=0){let p=0,f=o.len;for(;f;)if(a.ins==-1){let g=Math.min(f,a.len);p+=g,f-=g,a.forward(g)}else if(a.ins==0&&a.len<f)f-=a.len,a.next();else break;Ye(r,p,h<o.i?o.ins:0),s&&h<o.i&&pn(s,r,o.text),h=o.i,o.forward(o.len-f)}else{if(o.done&&a.done)return s?De.createSet(r,s):Vt.create(r);throw new Error("Mismatched change set lengths")}}function lu(i,e,t=!1){let n=[],r=t?[]:null,s=new Ei(i),o=new Ei(e);for(let a=!1;;){if(s.done&&o.done)return r?De.createSet(n,r):Vt.create(n);if(s.ins==0)Ye(n,s.len,0,a),s.next();else if(o.len==0&&!o.done)Ye(n,0,o.ins,a),r&&pn(r,n,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let h=Math.min(s.len2,o.len),p=n.length;if(s.ins==-1){let f=o.ins==-1?-1:o.off?0:o.ins;Ye(n,h,f,a),r&&f&&pn(r,n,o.text)}else o.ins==-1?(Ye(n,s.off?0:s.len,h,a),r&&pn(r,n,s.textBit(h))):(Ye(n,s.off?0:s.len,o.off?0:o.ins,a),r&&!o.off&&pn(r,n,o.text));a=(s.ins>h||o.ins>=0&&o.len>h)&&(a||n.length>p),s.forward2(h),o.forward(h)}}}}class Ei{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?oe.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?oe.empty:t[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Rn{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,t=-1){let n,r;return this.empty?n=r=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new Rn(n,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return R.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return R.range(this.anchor,n)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return R.range(e.anchor,e.head)}static create(e,t,n){return new Rn(e,t,n)}}class R{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:R.create(this.ranges.map(n=>n.map(e,t)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new R([this.main],0)}addRange(e,t=!0){return R.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,R.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new R(e.ranges.map(t=>Rn.fromJSON(t)),e.main)}static single(e,t=e){return new R([R.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<e.length;r++){let s=e[r];if(s.empty?s.from<=n:s.from<n)return R.normalized(e.slice(),t);n=s.to}return new R(e,t)}static cursor(e,t=0,n,r){return Rn.create(e,e,(t==0?0:t<0?4:8)|(n==null?3:Math.min(2,n))|(r??33554431)<<5)}static range(e,t,n,r){let s=(n??33554431)<<5|(r==null?3:Math.min(2,r));return t<e?Rn.create(t,e,24|s):Rn.create(e,t,(t>e?4:0)|s)}static normalized(e,t=0){let n=e[t];e.sort((r,s)=>r.from-s.from),t=e.indexOf(n);for(let r=1;r<e.length;r++){let s=e[r],o=e[r-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,h=Math.max(s.to,o.to);r<=t&&t--,e.splice(--r,2,s.anchor>s.head?R.range(h,a):R.range(a,h))}}return new R(e,t)}}function cu(i,e){for(let t of i.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let Ea=0;class q{constructor(e,t,n,r,s){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=r,this.id=Ea++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}static define(e={}){return new q(e.combine||(t=>t),e.compareInput||((t,n)=>t===n),e.compare||(e.combine?(t,n)=>t===n:Wa),!!e.static,e.enables)}of(e){return new Ur([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ur(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ur(e,this,2,t)}from(e,t){return t||(t=n=>n),this.compute([e],n=>t(n.field(e)))}}function Wa(i,e){return i==e||i.length==e.length&&i.every((t,n)=>t===e[n])}class Ur{constructor(e,t,n,r){this.dependencies=e,this.facet=t,this.type=n,this.value=r,this.id=Ea++}dynamicSlot(e){var t;let n=this.value,r=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,h=!1,p=!1,f=[];for(let g of this.dependencies)g=="doc"?h=!0:g=="selection"?p=!0:((t=e[g.id])!==null&&t!==void 0?t:1)&1||f.push(e[g.id]);return{create(g){return g.values[o]=n(g),1},update(g,b){if(h&&b.docChanged||p&&(b.docChanged||b.selection)||qo(g,f)){let k=n(g);if(a?!hc(k,g.values[o],r):!r(k,g.values[o]))return g.values[o]=k,1}return 0},reconfigure:(g,b)=>{let k,S=b.config.address[s];if(S!=null){let T=qr(b,S);if(this.dependencies.every(A=>A instanceof q?b.facet(A)===g.facet(A):A instanceof Pe?b.field(A,!1)==g.field(A,!1):!0)||(a?hc(k=n(g),T,r):r(k=n(g),T)))return g.values[o]=T,0}else k=n(g);return g.values[o]=k,1}}}}function hc(i,e,t){if(i.length!=e.length)return!1;for(let n=0;n<i.length;n++)if(!t(i[n],e[n]))return!1;return!0}function qo(i,e){let t=!1;for(let n of e)Zi(i,n)&1&&(t=!0);return t}function Fm(i,e,t){let n=t.map(h=>i[h.id]),r=t.map(h=>h.type),s=n.filter(h=>!(h&1)),o=i[e.id]>>1;function a(h){let p=[];for(let f=0;f<n.length;f++){let g=qr(h,n[f]);if(r[f]==2)for(let b of g)p.push(b);else p.push(g)}return e.combine(p)}return{create(h){for(let p of n)Zi(h,p);return h.values[o]=a(h),1},update(h,p){if(!qo(h,s))return 0;let f=a(h);return e.compare(f,h.values[o])?0:(h.values[o]=f,1)},reconfigure(h,p){let f=qo(h,n),g=p.config.facets[e.id],b=p.facet(e);if(g&&!f&&Wa(t,g))return h.values[o]=b,0;let k=a(h);return e.compare(k,b)?(h.values[o]=b,0):(h.values[o]=k,1)}}}const uc=q.define({static:!0});class Pe{constructor(e,t,n,r,s){this.id=e,this.createF=t,this.updateF=n,this.compareF=r,this.spec=s,this.provides=void 0}static define(e){let t=new Pe(Ea++,e.create,e.update,e.compare||((n,r)=>n===r),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(uc).find(n=>n.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:n=>(n.values[t]=this.create(n),1),update:(n,r)=>{let s=n.values[t],o=this.updateF(s,r);return this.compareF(s,o)?0:(n.values[t]=o,1)},reconfigure:(n,r)=>r.config.address[this.id]!=null?(n.values[t]=r.field(this),0):(n.values[t]=this.create(n),1)}}init(e){return[this,uc.of({field:this,create:e})]}get extension(){return this}}const Tn={lowest:4,low:3,default:2,high:1,highest:0};function xi(i){return e=>new hu(e,i)}const Yt={highest:xi(Tn.highest),high:xi(Tn.high),default:xi(Tn.default),low:xi(Tn.low),lowest:xi(Tn.lowest)};class hu{constructor(e,t){this.inner=e,this.prec=t}}class Ki{of(e){return new Yo(this,e)}reconfigure(e){return Ki.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Yo{constructor(e,t){this.compartment=e,this.inner=t}}class Vr{constructor(e,t,n,r,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=r,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let r=[],s=Object.create(null),o=new Map;for(let b of Vm(e,t,o))b instanceof Pe?r.push(b):(s[b.facet.id]||(s[b.facet.id]=[])).push(b);let a=Object.create(null),h=[],p=[];for(let b of r)a[b.id]=p.length<<1,p.push(k=>b.slot(k));let f=n?.config.facets;for(let b in s){let k=s[b],S=k[0].facet,T=f&&f[b]||[];if(k.every(A=>A.type==0))if(a[S.id]=h.length<<1|1,Wa(T,k))h.push(n.facet(S));else{let A=S.combine(k.map(D=>D.value));h.push(n&&S.compare(A,n.facet(S))?n.facet(S):A)}else{for(let A of k)A.type==0?(a[A.id]=h.length<<1|1,h.push(A.value)):(a[A.id]=p.length<<1,p.push(D=>A.dynamicSlot(D)));a[S.id]=p.length<<1,p.push(A=>Fm(A,S,k))}}let g=p.map(b=>b(a));return new Vr(e,o,g,a,h,s)}}function Vm(i,e,t){let n=[[],[],[],[],[]],r=new Map;function s(o,a){let h=r.get(o);if(h!=null){if(h<=a)return;let p=n[h].indexOf(o);p>-1&&n[h].splice(p,1),o instanceof Yo&&t.delete(o.compartment)}if(r.set(o,a),Array.isArray(o))for(let p of o)s(p,a);else if(o instanceof Yo){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let p=e.get(o.compartment)||o.inner;t.set(o.compartment,p),s(p,a)}else if(o instanceof hu)s(o.inner,o.prec);else if(o instanceof Pe)n[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof Ur)n[a].push(o),o.facet.extensions&&s(o.facet.extensions,Tn.default);else{let p=o.extension;if(!p)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(p,a)}}return s(i,Tn.default),n.reduce((o,a)=>o.concat(a))}function Zi(i,e){if(e&1)return 2;let t=e>>1,n=i.status[t];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;i.status[t]=4;let r=i.computeSlot(i,i.config.dynamicSlots[t]);return i.status[t]=2|r}function qr(i,e){return e&1?i.config.staticValues[e>>1]:i.values[e>>1]}const uu=q.define(),pu=q.define({combine:i=>i.some(e=>e),static:!0}),du=q.define({combine:i=>i.length?i[0]:void 0,static:!0}),fu=q.define(),mu=q.define(),gu=q.define(),Ou=q.define({combine:i=>i.length?i[0]:!1});class nn{constructor(e,t){this.type=e,this.value=t}static define(){return new qm}}class qm{of(e){return new nn(this,e)}}class Ym{constructor(e){this.map=e}of(e){return new G(this,e)}}class G{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new G(this.type,t)}is(e){return this.type==e}static define(e={}){return new Ym(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let r of e){let s=r.map(t);s&&n.push(s)}return n}}G.reconfigure=G.define();G.appendConfig=G.define();class Ue{constructor(e,t,n,r,s,o){this.startState=e,this.changes=t,this.selection=n,this.effects=r,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,n&&cu(n,t.newLength),s.some(a=>a.type==Ue.time)||(this.annotations=s.concat(Ue.time.of(Date.now())))}static create(e,t,n,r,s,o){return new Ue(e,t,n,r,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Ue.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Ue.time=nn.define();Ue.userEvent=nn.define();Ue.addToHistory=nn.define();Ue.remote=nn.define();function _m(i,e){let t=[];for(let n=0,r=0;;){let s,o;if(n<i.length&&(r==e.length||e[r]>=i[n]))s=i[n++],o=i[n++];else if(r<e.length)s=e[r++],o=e[r++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function yu(i,e,t){var n;let r,s,o;return t?(r=e.changes,s=De.empty(e.changes.length),o=i.changes.compose(e.changes)):(r=e.changes.map(i.changes),s=i.changes.mapDesc(e.changes,!0),o=i.changes.compose(r)),{changes:o,selection:e.selection?e.selection.map(s):(n=i.selection)===null||n===void 0?void 0:n.map(r),effects:G.mapEffects(i.effects,r).concat(G.mapEffects(e.effects,s)),annotations:i.annotations.length?i.annotations.concat(e.annotations):e.annotations,scrollIntoView:i.scrollIntoView||e.scrollIntoView}}function _o(i,e,t){let n=e.selection,r=ei(e.annotations);return e.userEvent&&(r=r.concat(Ue.userEvent.of(e.userEvent))),{changes:e.changes instanceof De?e.changes:De.of(e.changes||[],t,i.facet(du)),selection:n&&(n instanceof R?n:R.single(n.anchor,n.head)),effects:ei(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function bu(i,e,t){let n=_o(i,e.length?e[0]:{},i.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;n=yu(n,_o(i,e[s],o?n.changes.newLength:i.doc.length),o)}let r=Ue.create(i,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return Gm(t?zm(r):r)}function zm(i){let e=i.startState,t=!0;for(let r of e.facet(fu)){let s=r(i);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:_m(t,s))}if(t!==!0){let r,s;if(t===!1)s=i.changes.invertedDesc,r=De.empty(e.doc.length);else{let o=i.changes.filter(t);r=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}i=Ue.create(e,r,i.selection&&i.selection.map(s),G.mapEffects(i.effects,s),i.annotations,i.scrollIntoView)}let n=e.facet(mu);for(let r=n.length-1;r>=0;r--){let s=n[r](i);s instanceof Ue?i=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Ue?i=s[0]:i=bu(e,ei(s),!1)}return i}function Gm(i){let e=i.startState,t=e.facet(gu),n=i;for(let r=t.length-1;r>=0;r--){let s=t[r](i);s&&Object.keys(s).length&&(n=yu(n,_o(e,s,i.changes.newLength),!0))}return n==i?i:Ue.create(e,i.changes,i.selection,n.effects,n.annotations,n.scrollIntoView)}const Hm=[];function ei(i){return i==null?Hm:Array.isArray(i)?i:[i]}var Ce=function(i){return i[i.Word=0]="Word",i[i.Space=1]="Space",i[i.Other=2]="Other",i}(Ce||(Ce={}));const Km=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let zo;try{zo=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Jm(i){if(zo)return zo.test(i);for(let e=0;e<i.length;e++){let t=i[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Km.test(t)))return!0}return!1}function eg(i){return e=>{if(!/\S/.test(e))return Ce.Space;if(Jm(e))return Ce.Word;for(let t=0;t<i.length;t++)if(e.indexOf(i[t])>-1)return Ce.Word;return Ce.Other}}class ae{constructor(e,t,n,r,s,o){this.config=e,this.doc=t,this.selection=n,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Zi(this,a<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(n==null){if(t)throw new RangeError("Field is not present in this state");return}return Zi(this,n),qr(this,n)}update(...e){return bu(this,e,!0)}applyTransaction(e){let t=this.config,{base:n,compartments:r}=t;for(let o of e.effects)o.is(Ki.reconfigure)?(t&&(r=new Map,t.compartments.forEach((a,h)=>r.set(h,a)),t=null),r.set(o.value.compartment,o.value.extension)):o.is(G.reconfigure)?(t=null,n=o.value):o.is(G.appendConfig)&&(t=null,n=ei(n).concat(o.value));let s;t?s=e.startState.values.slice():(t=Vr.resolve(n,r,this),s=new ae(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(a,h)=>h.reconfigure(a,this),null).values),new ae(t,e.newDoc,e.newSelection,s,(o,a)=>a.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:R.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),r=this.changes(n.changes),s=[n.range],o=ei(n.effects);for(let a=1;a<t.ranges.length;a++){let h=e(t.ranges[a]),p=this.changes(h.changes),f=p.map(r);for(let b=0;b<a;b++)s[b]=s[b].map(f);let g=r.mapDesc(p,!0);s.push(h.range.map(g)),r=r.compose(f),o=G.mapEffects(o,f).concat(G.mapEffects(ei(h.effects),g))}return{changes:r,selection:R.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof De?e:De.of(e,this.doc.length,this.facet(ae.lineSeparator))}toText(e){return oe.of(e.split(this.facet(ae.lineSeparator)||Io))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Zi(this,t),qr(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let r=e[n];r instanceof Pe&&this.config.address[r.id]!=null&&(t[n]=r.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n){for(let s in n)if(Object.prototype.hasOwnProperty.call(e,s)){let o=n[s],a=e[s];r.push(o.init(h=>o.spec.fromJSON(a,h)))}}return ae.create({doc:e.doc,selection:R.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=Vr.resolve(e.extensions||[],new Map),n=e.doc instanceof oe?e.doc:oe.of((e.doc||"").split(t.staticFacet(ae.lineSeparator)||Io)),r=e.selection?e.selection instanceof R?e.selection:R.single(e.selection.anchor,e.selection.head):R.single(0);return cu(r,n.length),t.staticFacet(pu)||(r=r.asSingle()),new ae(t,n,r,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(ae.tabSize)}get lineBreak(){return this.facet(ae.lineSeparator)||`
`}get readOnly(){return this.facet(Ou)}phrase(e,...t){for(let n of this.facet(ae.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(n,r)=>{if(r=="$")return"$";let s=+(r||1);return!s||s>t.length?n:t[s-1]})),e}languageDataAt(e,t,n=-1){let r=[];for(let s of this.facet(uu))for(let o of s(this,t,n))Object.prototype.hasOwnProperty.call(o,e)&&r.push(o[e]);return r}charCategorizer(e){return eg(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:n,length:r}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-n,a=e-n;for(;o>0;){let h=Je(t,o,!1);if(s(t.slice(h,o))!=Ce.Word)break;o=h}for(;a<r;){let h=Je(t,a);if(s(t.slice(a,h))!=Ce.Word)break;a=h}return o==a?null:R.range(o+n,a+n)}}ae.allowMultipleSelections=pu;ae.tabSize=q.define({combine:i=>i.length?i[0]:4});ae.lineSeparator=du;ae.readOnly=Ou;ae.phrases=q.define({compare(i,e){let t=Object.keys(i),n=Object.keys(e);return t.length==n.length&&t.every(r=>i[r]==e[r])}});ae.languageData=uu;ae.changeFilter=fu;ae.transactionFilter=mu;ae.transactionExtender=gu;Ki.reconfigure=G.define();function gi(i,e,t={}){let n={};for(let r of i)for(let s of Object.keys(r)){let o=r[s],a=n[s];if(a===void 0)n[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(t,s))n[s]=t[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let r in e)n[r]===void 0&&(n[r]=e[r]);return n}class Ln{eq(e){return this==e}range(e,t=e){return Go.create(e,t,this)}}Ln.prototype.startSide=Ln.prototype.endSide=0;Ln.prototype.point=!1;Ln.prototype.mapMode=Qe.TrackDel;let Go=class vu{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new vu(e,t,n)}};function Ho(i,e){return i.from-e.from||i.value.startSide-e.value.startSide}class Na{constructor(e,t,n,r){this.from=e,this.to=t,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,r=0){let s=n?this.to:this.from;for(let o=r,a=s.length;;){if(o==a)return o;let h=o+a>>1,p=s[h]-e||(n?this.value[h].endSide:this.value[h].startSide)-t;if(h==o)return p>=0?o:a;p>=0?a=h:o=h+1}}between(e,t,n,r){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(n,1e9,!1,s);s<o;s++)if(r(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let n=[],r=[],s=[],o=-1,a=-1;for(let h=0;h<this.value.length;h++){let p=this.value[h],f=this.from[h]+e,g=this.to[h]+e,b,k;if(f==g){let S=t.mapPos(f,p.startSide,p.mapMode);if(S==null||(b=k=S,p.startSide!=p.endSide&&(k=t.mapPos(f,p.endSide),k<b)))continue}else if(b=t.mapPos(f,p.startSide),k=t.mapPos(g,p.endSide),b>k||b==k&&p.startSide>0&&p.endSide<=0)continue;(k-b||p.endSide-p.startSide)<0||(o<0&&(o=b),p.point&&(a=Math.max(a,k-b)),n.push(p),r.push(b-o),s.push(k-o))}return{mapped:n.length?new Na(r,s,n,a):null,pos:o}}}class he{constructor(e,t,n,r){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=r}static create(e,t,n,r){return new he(e,t,n,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:r=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(n&&(t=t.slice().sort(Ho)),this.isEmpty)return t.length?he.of(t):this;let a=new ku(this,null,-1).goto(0),h=0,p=[],f=new bn;for(;a.value||h<t.length;)if(h<t.length&&(a.from-t[h].from||a.startSide-t[h].value.startSide)>=0){let g=t[h++];f.addInner(g.from,g.to,g.value)||p.push(g)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(h==t.length||this.chunkEnd(a.chunkIndex)<t[h].from)&&(!o||r>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&f.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||r>a.to||s<a.from||o(a.from,a.to,a.value))&&(f.addInner(a.from,a.to,a.value)||p.push(Go.create(a.from,a.to,a.value))),a.next());return f.finishInner(this.nextLayer.isEmpty&&!p.length?he.empty:this.nextLayer.update({add:p,filter:o,filterFrom:r,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],r=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],h=this.chunk[o],p=e.touchesRange(a,a+h.length);if(p===!1)r=Math.max(r,h.maxPoint),t.push(h),n.push(e.mapPos(a));else if(p===!0){let{mapped:f,pos:g}=h.map(a,e);f&&(r=Math.max(r,f.maxPoint),t.push(f),n.push(g))}}let s=this.nextLayer.map(e);return t.length==0?s:new he(n,t,s||he.empty,r)}between(e,t,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],o=this.chunk[r];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,n)===!1)return}this.nextLayer.between(e,t,n)}}iter(e=0){return Wi.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Wi.from(e).goto(t)}static compare(e,t,n,r,s=-1){let o=e.filter(g=>g.maxPoint>0||!g.isEmpty&&g.maxPoint>=s),a=t.filter(g=>g.maxPoint>0||!g.isEmpty&&g.maxPoint>=s),h=pc(o,a,n),p=new Si(o,h,s),f=new Si(a,h,s);n.iterGaps((g,b,k)=>dc(p,g,f,b,k,r)),n.empty&&n.length==0&&dc(p,0,f,0,0,r)}static eq(e,t,n=0,r){r==null&&(r=1e9-1);let s=e.filter(f=>!f.isEmpty&&t.indexOf(f)<0),o=t.filter(f=>!f.isEmpty&&e.indexOf(f)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=pc(s,o),h=new Si(s,a,0).goto(n),p=new Si(o,a,0).goto(n);for(;;){if(h.to!=p.to||!Ko(h.active,p.active)||h.point&&(!p.point||!h.point.eq(p.point)))return!1;if(h.to>r)return!0;h.next(),p.next()}}static spans(e,t,n,r,s=-1){let o=new Si(e,null,s).goto(t),a=t,h=o.openStart;for(;;){let p=Math.min(o.to,n);if(o.point){let f=o.activeForPoint(o.to),g=o.pointFrom<t?f.length+1:Math.min(f.length,h);r.point(a,p,o.point,f,g,o.pointRank),h=Math.min(o.openEnd(p),f.length)}else p>a&&(r.span(a,p,o.active,h),h=o.openEnd(p));if(o.to>n)return h+(o.point&&o.to>n?1:0);a=o.to,o.next()}}static of(e,t=!1){let n=new bn;for(let r of e instanceof Go?[e]:t?tg(e):e)n.add(r.from,r.to,r.value);return n.finish()}}he.empty=new he([],[],null,-1);function tg(i){if(i.length>1)for(let e=i[0],t=1;t<i.length;t++){let n=i[t];if(Ho(e,n)>0)return i.slice().sort(Ho);e=n}return i}he.empty.nextLayer=he.empty;class bn{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new Na(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new bn)).add(e,t,n)}addInner(e,t,n){let r=e-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(he.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=he.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function pc(i,e,t){let n=new Map;for(let s of i)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&n.set(s.chunk[o],s.chunkPos[o]);let r=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=n.get(s.chunk[o]);a!=null&&(t?t.mapPos(a):a)==s.chunkPos[o]&&!t?.touchesRange(a,a+s.chunk[o].length)&&r.add(s.chunk[o])}return r}class ku{constructor(e,t,n,r=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Wi{constructor(e){this.heap=e}static from(e,t=null,n=-1){let r=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=n&&r.push(new ku(o,t,n,s));return r.length==1?r[0]:new Wi(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let n=this.heap.length>>1;n>=0;n--)fo(this.heap,n);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let n=this.heap.length>>1;n>=0;n--)fo(this.heap,n);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),fo(this.heap,0)}}}function fo(i,e){for(let t=i[e];;){let n=(e<<1)+1;if(n>=i.length)break;let r=i[n];if(n+1<i.length&&r.compare(i[n+1])>=0&&(r=i[n+1],n++),t.compare(r)<0)break;i[n]=t,i[e]=r,e=n}}class Si{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Wi.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){dr(this.active,e),dr(this.activeTo,e),dr(this.activeRank,e),this.minActive=fc(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:r,rank:s}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=s;)t++;fr(this.active,t,n),fr(this.activeTo,t,r),fr(this.activeRank,t,s),e&&fr(e,t,this.cursor.from),this.minActive=fc(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&dr(n,r)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(n),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let r=n.length-1;r>=0&&n[r]<e;r--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function dc(i,e,t,n,r,s){i.goto(e),t.goto(n);let o=n+r,a=n,h=n-e;for(;;){let p=i.to+h-t.to||i.endSide-t.endSide,f=p<0?i.to+h:t.to,g=Math.min(f,o);if(i.point||t.point?i.point&&t.point&&(i.point==t.point||i.point.eq(t.point))&&Ko(i.activeForPoint(i.to+h),t.activeForPoint(t.to))||s.comparePoint(a,g,i.point,t.point):g>a&&!Ko(i.active,t.active)&&s.compareRange(a,g,i.active,t.active),f>o)break;a=f,p<=0&&i.next(),p>=0&&t.next()}}function Ko(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!=e[t]&&!i[t].eq(e[t]))return!1;return!0}function dr(i,e){for(let t=e,n=i.length-1;t<n;t++)i[t]=i[t+1];i.pop()}function fr(i,e,t){for(let n=i.length-1;n>=e;n--)i[n+1]=i[n];i[e]=t}function fc(i,e){let t=-1,n=1e9;for(let r=0;r<e.length;r++)(e[r]-n||i[r].endSide-i[t].endSide)<0&&(t=r,n=e[r]);return t}function Ia(i,e,t=i.length){let n=0;for(let r=0;r<t;)i.charCodeAt(r)==9?(n+=e-n%e,r++):(n++,r=Je(i,r));return n}function ng(i,e,t,n){for(let r=0,s=0;;){if(s>=e)return r;if(r==i.length)break;s+=i.charCodeAt(r)==9?t-s%t:1,r=Je(i,r)}return n===!0?-1:i.length}const Jo="ͼ",mc=typeof Symbol>"u"?"__"+Jo:Symbol.for(Jo),ea=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class vn{constructor(e,t){this.rules=[];let{finish:n}=t||{};function r(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,h,p){let f=[],g=/^@(\w+)\b/.exec(o[0]),b=g&&g[1]=="keyframes";if(g&&a==null)return h.push(o[0]+";");for(let k in a){let S=a[k];if(/&/.test(k))s(k.split(/,\s*/).map(T=>o.map(A=>T.replace(/&/,A))).reduce((T,A)=>T.concat(A)),S,h);else if(S&&typeof S=="object"){if(!g)throw new RangeError("The value of a property ("+k+") should be a primitive value.");s(r(k),S,f,b)}else S!=null&&f.push(k.replace(/_.*/,"").replace(/[A-Z]/g,T=>"-"+T.toLowerCase())+": "+S+";")}(f.length||b)&&h.push((n&&!g&&!p?o.map(n):o).join(", ")+" {"+f.join(" ")+"}")}for(let o in e)s(r(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=gc[mc]||1;return gc[mc]=e+1,Jo+e.toString(36)}static mount(e,t){(e[ea]||new ig(e)).mount(Array.isArray(t)?t:[t])}}let mr=null;class ig{constructor(e){if(!e.head&&e.adoptedStyleSheets&&typeof CSSStyleSheet<"u"){if(mr)return e.adoptedStyleSheets=[mr.sheet].concat(e.adoptedStyleSheets),e[ea]=mr;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),mr=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[ea]=this}mount(e){let t=this.sheet,n=0,r=0;for(let s=0;s<e.length;s++){let o=e[s],a=this.modules.indexOf(o);if(a<r&&a>-1&&(this.modules.splice(a,1),r--,a=-1),a==-1){if(this.modules.splice(r++,0,o),t)for(let h=0;h<o.rules.length;h++)t.insertRule(o.rules[h],n++)}else{for(;r<a;)n+=this.modules[r++].rules.length;n+=o.rules.length,r++}}if(!t){let s="";for(let o=0;o<this.modules.length;o++)s+=this.modules[o].getRules()+`
`;this.styleTag.textContent=s}}}var kn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ni={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Oc=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),rg=typeof navigator<"u"&&/Mac/.test(navigator.platform),sg=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),og=rg||Oc&&+Oc[1]<57;for(var Ne=0;Ne<10;Ne++)kn[48+Ne]=kn[96+Ne]=String(Ne);for(var Ne=1;Ne<=24;Ne++)kn[Ne+111]="F"+Ne;for(var Ne=65;Ne<=90;Ne++)kn[Ne]=String.fromCharCode(Ne+32),Ni[Ne]=String.fromCharCode(Ne);for(var mo in kn)Ni.hasOwnProperty(mo)||(Ni[mo]=kn[mo]);function ag(i){var e=og&&(i.ctrlKey||i.altKey||i.metaKey)||sg&&i.shiftKey&&i.key&&i.key.length==1||i.key=="Unidentified",t=!e&&i.key||(i.shiftKey?Ni:kn)[i.keyCode]||i.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Yr(i){let e;return i.nodeType==11?e=i.getSelection?i:i.ownerDocument:e=i,e.getSelection()}function ai(i,e){return e?i==e||i.contains(e.nodeType!=1?e.parentNode:e):!1}function lg(i){let e=i.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Zr(i,e){if(!e.anchorNode)return!1;try{return ai(i,e.anchorNode)}catch{return!1}}function Ii(i){return i.nodeType==3?li(i,0,i.nodeValue.length).getClientRects():i.nodeType==1?i.getClientRects():[]}function _r(i,e,t,n){return t?yc(i,e,t,n,-1)||yc(i,e,t,n,1):!1}function zr(i){for(var e=0;;e++)if(i=i.previousSibling,!i)return e}function yc(i,e,t,n,r){for(;;){if(i==t&&e==n)return!0;if(e==(r<0?0:Fi(i))){if(i.nodeName=="DIV")return!1;let s=i.parentNode;if(!s||s.nodeType!=1)return!1;e=zr(i)+(r<0?0:1),i=s}else if(i.nodeType==1){if(i=i.childNodes[e+(r<0?-1:0)],i.nodeType==1&&i.contentEditable=="false")return!1;e=r<0?Fi(i):0}else return!1}}function Fi(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function Fa(i,e){let t=e?i.left:i.right;return{left:t,right:t,top:i.top,bottom:i.bottom}}function cg(i){return{left:0,right:i.innerWidth,top:0,bottom:i.innerHeight}}function hg(i,e,t,n,r,s,o,a){let h=i.ownerDocument,p=h.defaultView||window;for(let f=i;f;)if(f.nodeType==1){let g,b=f==h.body;if(b)g=cg(p);else{if(f.scrollHeight<=f.clientHeight&&f.scrollWidth<=f.clientWidth){f=f.assignedSlot||f.parentNode;continue}let T=f.getBoundingClientRect();g={left:T.left,right:T.left+f.clientWidth,top:T.top,bottom:T.top+f.clientHeight}}let k=0,S=0;if(r=="nearest")e.top<g.top?(S=-(g.top-e.top+o),t>0&&e.bottom>g.bottom+S&&(S=e.bottom-g.bottom+S+o)):e.bottom>g.bottom&&(S=e.bottom-g.bottom+o,t<0&&e.top-S<g.top&&(S=-(g.top+S-e.top+o)));else{let T=e.bottom-e.top,A=g.bottom-g.top;S=(r=="center"&&T<=A?e.top+T/2-A/2:r=="start"||r=="center"&&t<0?e.top-o:e.bottom-A+o)-g.top}if(n=="nearest"?e.left<g.left?(k=-(g.left-e.left+s),t>0&&e.right>g.right+k&&(k=e.right-g.right+k+s)):e.right>g.right&&(k=e.right-g.right+s,t<0&&e.left<g.left+k&&(k=-(g.left+k-e.left+s))):k=(n=="center"?e.left+(e.right-e.left)/2-(g.right-g.left)/2:n=="start"==a?e.left-s:e.right-(g.right-g.left)+s)-g.left,k||S)if(b)p.scrollBy(k,S);else{let T=0,A=0;if(S){let D=f.scrollTop;f.scrollTop+=S,A=f.scrollTop-D}if(k){let D=f.scrollLeft;f.scrollLeft+=k,T=f.scrollLeft-D}e={left:e.left-T,top:e.top-A,right:e.right-T,bottom:e.bottom-A},T&&Math.abs(T-k)<1&&(n="nearest"),A&&Math.abs(A-S)<1&&(r="nearest")}if(b)break;f=f.assignedSlot||f.parentNode}else if(f.nodeType==11)f=f.host;else break}function ug(i){let e=i.ownerDocument;for(let t=i.parentNode;t&&t!=e.body;)if(t.nodeType==1){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)return t;t=t.assignedSlot||t.parentNode}else if(t.nodeType==11)t=t.host;else break;return null}class pg{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,n,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=r}}let Vn=null;function wu(i){if(i.setActive)return i.setActive();if(Vn)return i.focus(Vn);let e=[];for(let t=i;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(i.focus(Vn==null?{get preventScroll(){return Vn={preventScroll:!0},!0}}:void 0),!Vn){Vn=!1;for(let t=0;t<e.length;){let n=e[t++],r=e[t++],s=e[t++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=s&&(n.scrollLeft=s)}}}let bc;function li(i,e,t=e){let n=bc||(bc=document.createRange());return n.setEnd(i,t),n.setStart(i,e),n}function ti(i,e,t){let n={key:e,code:e,keyCode:t,which:t,cancelable:!0},r=new KeyboardEvent("keydown",n);r.synthetic=!0,i.dispatchEvent(r);let s=new KeyboardEvent("keyup",n);return s.synthetic=!0,i.dispatchEvent(s),r.defaultPrevented||s.defaultPrevented}function dg(i){for(;i;){if(i&&(i.nodeType==9||i.nodeType==11&&i.host))return i;i=i.assignedSlot||i.parentNode}return null}function xu(i){for(;i.attributes.length;)i.removeAttributeNode(i.attributes[0])}function fg(i,e){let t=e.focusNode,n=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=n)return!1;for(;;)if(n){if(t.nodeType!=1)return!1;let r=t.childNodes[n-1];r.contentEditable=="false"?n--:(t=r,n=Fi(t))}else{if(t==i)return!0;n=zr(t),t=t.parentNode}}class Ie{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new Ie(e.parentNode,zr(e),t)}static after(e,t){return new Ie(e.parentNode,zr(e)+1,t)}}const Va=[];class fe{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.dirty&2){let n=this.dom,r=null,s;for(let o of this.children){if(o.dirty){if(!o.dom&&(s=r?r.nextSibling:n.firstChild)){let a=fe.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,t),o.dirty=0}if(s=r?r.nextSibling:n.firstChild,t&&!t.written&&t.node==n&&s!=o.dom&&(t.written=!0),o.dom.parentNode==n)for(;s&&s!=o.dom;)s=vc(s);else n.insertBefore(o.dom,s);r=o.dom}for(s=r?r.nextSibling:n.firstChild,s&&t&&t.node==n&&(t.written=!0);s;)s=vc(s)}else if(this.dirty&1)for(let n of this.children)n.dirty&&(n.sync(e,t),n.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let r=Fi(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;r==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?r=-1:r=1),e=s}r<0?n=e:n=e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!fe.get(n);)n=n.nextSibling;if(!n)return this.length;for(let r=0,s=0;;r++){let o=this.children[r];if(o.dom==n)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,n=0){let r=-1,s=-1,o=-1,a=-1;for(let h=0,p=n,f=n;h<this.children.length;h++){let g=this.children[h],b=p+g.length;if(p<e&&b>t)return g.domBoundsAround(e,t,p);if(b>=e&&r==-1&&(r=h,s=p),p>t&&g.dom.parentNode==this.dom){o=h,a=f;break}f=b,p=b+g.breakAfter}return{from:s,to:a<0?n+this.length:a,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),t.dirty&1)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=Va){this.markDirty();for(let r=e;r<t;r++){let s=this.children[r];s.parent==this&&s.destroy()}this.children.splice(e,t-e,...n);for(let r=0;r<n.length;r++)n[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Su(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,n,r,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}fe.prototype.breakAfter=0;function vc(i){let e=i.nextSibling;return i.parentNode.removeChild(i),e}class Su{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function Pu(i,e,t,n,r,s,o,a,h){let{children:p}=i,f=p.length?p[e]:null,g=s.length?s[s.length-1]:null,b=g?g.breakAfter:o;if(!(e==n&&f&&!o&&!b&&s.length<2&&f.merge(t,r,s.length?g:null,t==0,a,h))){if(n<p.length){let k=p[n];k&&r<k.length?(e==n&&(k=k.split(r),r=0),!b&&g&&k.merge(0,r,g,!0,0,h)?s[s.length-1]=k:(r&&k.merge(0,r,null,!1,0,h),s.push(k))):k?.breakAfter&&(g?g.breakAfter=1:o=1),n++}for(f&&(f.breakAfter=o,t>0&&(!o&&s.length&&f.merge(t,f.length,s[0],!1,a,0)?f.breakAfter=s.shift().breakAfter:(t<f.length||f.children.length&&f.children[f.children.length-1].length==0)&&f.merge(t,f.length,null,!1,a,0),e++));e<n&&s.length;)if(p[n-1].become(s[s.length-1]))n--,s.pop(),h=s.length?0:a;else if(p[e].become(s[0]))e++,s.shift(),a=s.length?0:h;else break;!s.length&&e&&n<p.length&&!p[e-1].breakAfter&&p[n].merge(0,0,p[e-1],!1,a,h)&&e--,(e<n||s.length)&&i.replaceChildren(e,n,s)}}function Qu(i,e,t,n,r,s){let o=i.childCursor(),{i:a,off:h}=o.findPos(t,1),{i:p,off:f}=o.findPos(e,-1),g=e-t;for(let b of n)g+=b.length;i.length+=g,Pu(i,p,f,a,h,n,0,r,s)}let mt=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},ta=typeof document<"u"?document:{documentElement:{style:{}}};const na=/Edge\/(\d+)/.exec(mt.userAgent),Cu=/MSIE \d/.test(mt.userAgent),ia=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(mt.userAgent),Ws=!!(Cu||ia||na),kc=!Ws&&/gecko\/(\d+)/i.test(mt.userAgent),go=!Ws&&/Chrome\/(\d+)/.exec(mt.userAgent),wc="webkitFontSmoothing"in ta.documentElement.style,$u=!Ws&&/Apple Computer/.test(mt.vendor),xc=$u&&(/Mobile\/\w+/.test(mt.userAgent)||mt.maxTouchPoints>2);var N={mac:xc||/Mac/.test(mt.platform),windows:/Win/.test(mt.platform),linux:/Linux|X11/.test(mt.platform),ie:Ws,ie_version:Cu?ta.documentMode||6:ia?+ia[1]:na?+na[1]:0,gecko:kc,gecko_version:kc?+(/Firefox\/(\d+)/.exec(mt.userAgent)||[0,0])[1]:0,chrome:!!go,chrome_version:go?+go[1]:0,ios:xc,android:/Android\b/.test(mt.userAgent),webkit:wc,safari:$u,webkit_version:wc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:ta.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const mg=256;class Xn extends fe{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,n){return n&&(!(n instanceof Xn)||this.length-(t-e)+n.length>mg)?!1:(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Xn(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Ie(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return ra(this.dom,e,t)}}class tn extends fe{constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let r of t)r.setParent(this)}setAttrs(e){if(xu(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,t){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,n,r,s,o){return n&&(!(n instanceof tn&&n.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(Qu(this,e,t,n?n.children:[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],n=0,r=-1,s=0;for(let a of this.children){let h=n+a.length;h>e&&t.push(n<e?a.split(e-n):a),r<0&&n>=e&&(r=s),n=h,s++}let o=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new tn(this.mark,t,o)}domAtPos(e){return ju(this,e)}coordsAt(e,t){return Uu(this,e,t)}}function ra(i,e,t){let n=i.nodeValue.length;e>n&&(e=n);let r=e,s=e,o=0;e==0&&t<0||e==n&&t>=0?N.chrome||N.gecko||(e?(r--,o=1):s<n&&(s++,o=-1)):t<0?r--:s<n&&s++;let a=li(i,r,s).getClientRects();if(!a.length)return null;let h=a[(o?o<0:t>=0)?0:a.length-1];return N.safari&&!o&&h.width==0&&(h=Array.prototype.find.call(a,p=>p.width)||h),o?Fa(h,o<0):h||null}class dn extends fe{constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}static create(e,t,n){return new(e.customView||dn)(e,t,n)}split(e){let t=dn.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,n,r,s,o){return n&&(!(n instanceof dn)||!this.widget.compare(n.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}become(e){return e instanceof dn&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return oe.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,n=t&&t.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):oe.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Ie.before(this.dom):Ie.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);if(n)return n;let r=this.dom.getClientRects(),s=null;if(!r.length)return null;for(let o=e>0?r.length-1:0;s=r[o],!(e>0?o==0:o==r.length-1||s.top<s.bottom);o+=e>0?-1:1);return this.length?s:Fa(s,this.side>0)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Au extends dn{domAtPos(e){let{topView:t,text:n}=this.widget;return t?sa(e,0,t,n,this.length-t.length,(r,s)=>r.domAtPos(s),(r,s)=>new Ie(r,Math.min(s,r.nodeValue.length))):new Ie(n,Math.min(e,n.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:n,text:r}=this.widget;return n?Mu(e,t,n,r,this.length-n.length):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:n,text:r}=this.widget;return n?sa(e,t,n,r,this.length-n.length,(s,o,a)=>s.coordsAt(o,a),(s,o,a)=>ra(s,o,a)):ra(r,e,t)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function sa(i,e,t,n,r,s,o){if(t instanceof tn){for(let a=t.dom.firstChild;a;a=a.nextSibling){let h=fe.get(a);if(h){let p=ai(a,n),f=h.length+(p?r:0);if(i<f||i==f&&h.getSide()<=0)return p?sa(i,e,h,n,r,s,o):s(h,i,e);i-=f}else{let p=Tu(i,e,a,o);if(typeof p!="number")return p;i=p}}return s(t,t.length,-1)}else return t.dom==n?o(n,i,e):s(t,i,e)}function Tu(i,e,t,n){if(t.nodeType==3){let r=t.nodeValue.length;if(i<=r)return n(t,i,e);i-=r}else if(t.nodeType==1&&t.contentEditable!="false")for(let r=t.firstChild;r;r=r.nextSibling){let s=Tu(i,e,r,n);if(typeof s!="number")return s;i=s}return i}function Mu(i,e,t,n,r){if(t instanceof tn){let s=0;for(let o=t.dom.firstChild;o;o=o.nextSibling){let a=fe.get(o);if(a){let h=ai(o,n);if(ai(o,i))return s+(h?Mu(i,e,a,n,r):a.localPosFromDOM(i,e));s+=a.length+(h?r:0)}else{let h=Ru(i,e,o);if(h.result!=null)return s+h.result;s+=h.size}}}else if(t.dom==n)return Math.min(e,n.nodeValue.length);return t.localPosFromDOM(i,e)}function Ru(i,e,t){if(t.nodeType==3)return i==t?{result:e}:{size:t.nodeValue.length};if(t.nodeType==1&&t.contentEditable!="false"){let n=0;for(let r=t.firstChild,s=0;;r=r.nextSibling,s++){if(i==t&&s==e)return{result:n};if(!r)return{size:n};let o=Ru(i,e,r);if(o.result!=null)return{result:e+o.result};n+=o.size}}else return t.contains(i)?{result:0}:{size:0}}class ci extends fe{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof ci&&e.side==this.side}split(){return new ci(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Ie.before(this.dom):Ie.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return oe.empty}get isHidden(){return!0}}Xn.prototype.children=dn.prototype.children=ci.prototype.children=Va;function ju(i,e){let t=i.dom,{children:n}=i,r=0;for(let s=0;r<n.length;r++){let o=n[r],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==t)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=r;s>0;s--){let o=n[s-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let s=r;s<n.length;s++){let o=n[s];if(o.dom.parentNode==t)return o.domAtPos(0)}return new Ie(t,0)}function Du(i,e,t){let n,{children:r}=i;t>0&&e instanceof tn&&r.length&&(n=r[r.length-1])instanceof tn&&n.mark.eq(e.mark)?Du(n,e.children[0],t-1):(r.push(e),e.setParent(i)),i.length+=e.length}function Uu(i,e,t){let n=null,r=-1,s=null,o=-1;function a(p,f){for(let g=0,b=0;g<p.children.length&&b<=f;g++){let k=p.children[g],S=b+k.length;S>=f&&(k.children.length?a(k,f-b):(!s||s.isHidden&&t>0)&&(S>f||b==S&&k.getSide()>0)?(s=k,o=f-b):(b<f||b==S&&k.getSide()<0&&!k.isHidden)&&(n=k,r=f-b)),b=S}}a(i,e);let h=(t<0?n:s)||n||s;return h?h.coordsAt(Math.max(0,h==n?r:o),t):gg(i)}function gg(i){let e=i.dom.lastChild;if(!e)return i.dom.getBoundingClientRect();let t=Ii(e);return t[t.length-1]||null}function oa(i,e){for(let t in i)t=="class"&&e.class?e.class+=" "+i.class:t=="style"&&e.style?e.style+=";"+i.style:e[t]=i[t];return e}function qa(i,e){if(i==e)return!0;if(!i||!e)return!1;let t=Object.keys(i),n=Object.keys(e);if(t.length!=n.length)return!1;for(let r of t)if(n.indexOf(r)==-1||i[r]!==e[r])return!1;return!0}function aa(i,e,t){let n=null;if(e)for(let r in e)t&&r in t||i.removeAttribute(n=r);if(t)for(let r in t)e&&e[r]==t[r]||i.setAttribute(n=r,t[r]);return!!n}class Qn{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}coordsAt(e,t,n){return null}get customView(){return null}get isHidden(){return!1}destroy(e){}}var ke=function(i){return i[i.Text=0]="Text",i[i.WidgetBefore=1]="WidgetBefore",i[i.WidgetAfter=2]="WidgetAfter",i[i.WidgetRange=3]="WidgetRange",i}(ke||(ke={}));class z extends Ln{constructor(e,t,n,r){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(e){return new Ns(e)}static widget(e){let t=e.side||0,n=!!e.block;return t+=n?t>0?3e8:-4e8:t>0?1e8:-1e8,new En(e,t,t,n,e.widget||null,!1)}static replace(e){let t=!!e.block,n,r;if(e.isBlockGap)n=-5e8,r=4e8;else{let{start:s,end:o}=Zu(e,t);n=(s?t?-3e8:-1:5e8)-1,r=(o?t?2e8:1:-6e8)+1}return new En(e,n,r,t,e.widget||null,!0)}static line(e){return new Ji(e)}static set(e,t=!1){return he.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}z.none=he.empty;class Ns extends z{constructor(e){let{start:t,end:n}=Zu(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof Ns&&this.tagName==e.tagName&&this.class==e.class&&qa(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Ns.prototype.point=!1;class Ji extends z{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Ji&&this.spec.class==e.spec.class&&qa(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Ji.prototype.mapMode=Qe.TrackBefore;Ji.prototype.point=!0;class En extends z{constructor(e,t,n,r,s,o){super(t,n,s,e),this.block=r,this.isReplace=o,this.mapMode=r?t<=0?Qe.TrackBefore:Qe.TrackAfter:Qe.TrackDel}get type(){return this.startSide<this.endSide?ke.WidgetRange:this.startSide<=0?ke.WidgetBefore:ke.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof En&&Og(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}En.prototype.point=!0;function Zu(i,e=!1){let{inclusiveStart:t,inclusiveEnd:n}=i;return t==null&&(t=i.inclusive),n==null&&(n=i.inclusive),{start:t??e,end:n??e}}function Og(i,e){return i==e||!!(i&&e&&i.compare(e))}function la(i,e,t,n=0){let r=t.length-1;r>=0&&t[r]+n>=i?t[r]=Math.max(t[r],e):t.push(i,e)}class et extends fe{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,r,s,o){if(n){if(!(n instanceof et))return!1;this.dom||n.transferDOM(this)}return r&&this.setDeco(n?n.attrs:null),Qu(this,e,t,n?n.children:[],s,o),!0}split(e){let t=new et;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:n,off:r}=this.childPos(e);r&&(t.append(this.children[n].split(r),0),this.children[n].merge(r,this.children[n].length,null,!1,0,0),n++);for(let s=n;s<this.children.length;s++)t.append(this.children[s],0);for(;n>0&&this.children[n-1].length==0;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){qa(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){Du(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=oa(t,this.attrs||{})),n&&(this.attrs=oa({class:n},this.attrs||{}))}domAtPos(e){return ju(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e,t){var n;this.dom?this.dirty&4&&(xu(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(aa(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let r=this.dom.lastChild;for(;r&&fe.get(r)instanceof tn;)r=r.lastChild;if(!r||!this.length||r.nodeName!="BR"&&((n=fe.get(r))===null||n===void 0?void 0:n.isEditable)==!1&&(!N.ios||!this.children.some(s=>s instanceof Xn))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let n of this.children){if(!(n instanceof Xn)||/[^ -~]/.test(n.text))return null;let r=Ii(n.dom);if(r.length!=1)return null;e+=r[0].width,t=r[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let n=Uu(this,e,t);if(!this.children.length&&n&&this.parent){let{heightOracle:r}=this.parent.view.viewState,s=n.bottom-n.top;if(Math.abs(s-r.lineHeight)<2&&r.textHeight<s){let o=(s-r.textHeight)/2;return{top:n.top+o,bottom:n.bottom-o,left:n.left,right:n.left}}}return n}become(e){return!1}get type(){return ke.Text}static find(e,t){for(let n=0,r=0;n<e.children.length;n++){let s=e.children[n],o=r+s.length;if(o>=t){if(s instanceof et)return s;if(o>t)break}r=o+s.breakAfter}return null}}class Un extends fe{constructor(e,t,n){super(),this.widget=e,this.length=t,this.type=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,r,s,o){return n&&(!(n instanceof Un)||!this.widget.compare(n.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Ie.before(this.dom):Ie.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new Un(this.widget,t,this.type);return n.breakAfter=this.breakAfter,n}get children(){return Va}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):oe.empty}domBoundsAround(){return null}become(e){return e instanceof Un&&e.type==this.type&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Ya{constructor(e,t,n,r){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof Un&&e.type==ke.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new et),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(gr(new ci(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(gr(new Xn(this.text.slice(this.textOff,this.textOff+r)),t),n),this.atCursorPos=!0,this.textOff+=r,e-=r,n=0}}span(e,t,n,r){this.buildText(t-e,n,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,n,r,s,o){if(this.disallowBlockEffectsFor[o]&&n instanceof En){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(n instanceof En)if(n.block){let{type:h}=n;h==ke.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Un(n.widget||new Sc("div"),a,h))}else{let h=dn.create(n.widget||new Sc("span"),a,a?0:n.startSide),p=this.atCursorPos&&!h.isEditable&&s<=r.length&&(e<t||n.startSide>0),f=!h.isEditable&&(e<t||s>r.length||n.startSide<=0),g=this.getLine();this.pendingBuffer==2&&!p&&!h.isEditable&&(this.pendingBuffer=0),this.flushBuffer(r),p&&(g.append(gr(new ci(1),r),s),s=r.length+Math.max(0,s-r.length)),g.append(gr(h,r),s),this.atCursorPos=f,this.pendingBuffer=f?e<t||s>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,n,r,s){let o=new Ya(e,t,n,s);return o.openEnd=he.spans(r,t,n,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function gr(i,e){for(let t of e)i=new tn(t,[i],i.length);return i}class Sc extends Qn{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const Bu=q.define(),Lu=q.define(),Xu=q.define(),Eu=q.define(),ca=q.define(),Wu=q.define(),Nu=q.define(),Iu=q.define({combine:i=>i.some(e=>e)}),yg=q.define({combine:i=>i.some(e=>e)});class Gr{constructor(e,t="nearest",n="nearest",r=5,s=5){this.range=e,this.y=t,this.x=n,this.yMargin=r,this.xMargin=s}map(e){return e.empty?this:new Gr(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const Pc=G.define({map:(i,e)=>i.map(e)});function Ot(i,e,t){let n=i.facet(Eu);n.length?n[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const Is=q.define({combine:i=>i.length?i[0]:!0});let bg=0;const Ti=q.define();class Xe{constructor(e,t,n,r){this.id=e,this.create=t,this.domEventHandlers=n,this.extension=r(this)}static define(e,t){const{eventHandlers:n,provide:r,decorations:s}=t||{};return new Xe(bg++,e,n,o=>{let a=[Ti.of(o)];return s&&a.push(Vi.of(h=>{let p=h.plugin(o);return p?s(p):z.none})),r&&a.push(r(o)),a})}static fromClass(e,t){return Xe.define(n=>new e(n),t)}}class Oo{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(n){if(Ot(t.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Ot(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(n){Ot(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Fu=q.define(),_a=q.define(),Vi=q.define(),Vu=q.define(),qu=q.define(),Mi=q.define();class qt{constructor(e,t,n,r){this.fromA=e,this.toA=t,this.fromB=n,this.toB=r}join(e){return new qt(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(t.length==0)return e;let n=[];for(let r=0,s=0,o=0,a=0;;r++){let h=r==e.length?null:e[r],p=o-a,f=h?h.fromB:1e9;for(;s<t.length&&t[s]<f;){let g=t[s],b=t[s+1],k=Math.max(a,g),S=Math.min(f,b);if(k<=S&&new qt(k+p,S+p,k,S).addToSet(n),b>f)break;s+=2}if(!h)return n;new qt(h.fromA,h.toA,h.fromB,h.toB).addToSet(n),o=h.toA,a=h.toB}}}class Hr{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=De.empty(this.startState.doc.length);for(let s of n)this.changes=this.changes.compose(s.changes);let r=[];this.changes.iterChangedRanges((s,o,a,h)=>r.push(new qt(s,o,a,h))),this.changedRanges=r}static create(e,t,n){return new Hr(e,t,n)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var we=function(i){return i[i.LTR=0]="LTR",i[i.RTL=1]="RTL",i}(we||(we={}));const ha=we.LTR,vg=we.RTL;function Yu(i){let e=[];for(let t=0;t<i.length;t++)e.push(1<<+i[t]);return e}const kg=Yu("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),wg=Yu("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),ua=Object.create(null),Ut=[];for(let i of["()","[]","{}"]){let e=i.charCodeAt(0),t=i.charCodeAt(1);ua[e]=t,ua[t]=-e}function xg(i){return i<=247?kg[i]:1424<=i&&i<=1524?2:1536<=i&&i<=1785?wg[i-1536]:1774<=i&&i<=2220?4:8192<=i&&i<=8203?256:64336<=i&&i<=65023?4:i==8204?256:1}const Sg=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class ni{constructor(e,t,n){this.from=e,this.to=t,this.level=n}get dir(){return this.level%2?vg:ha}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,n,r){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=t&&a.to>=t){if(a.level==n)return o;(s<0||(r!=0?r<0?a.from<t:a.to>t:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}const ye=[];function Pg(i,e){let t=i.length,n=e==ha?1:2,r=e==ha?2:1;if(!i||n==1&&!Sg.test(i))return _u(t);for(let o=0,a=n,h=n;o<t;o++){let p=xg(i.charCodeAt(o));p==512?p=a:p==8&&h==4&&(p=16),ye[o]=p==4?2:p,p&7&&(h=p),a=p}for(let o=0,a=n,h=n;o<t;o++){let p=ye[o];if(p==128)o<t-1&&a==ye[o+1]&&a&24?p=ye[o]=a:ye[o]=256;else if(p==64){let f=o+1;for(;f<t&&ye[f]==64;)f++;let g=o&&a==8||f<t&&ye[f]==8?h==1?1:8:256;for(let b=o;b<f;b++)ye[b]=g;o=f-1}else p==8&&h==1&&(ye[o]=1);a=p,p&7&&(h=p)}for(let o=0,a=0,h=0,p,f,g;o<t;o++)if(f=ua[p=i.charCodeAt(o)])if(f<0){for(let b=a-3;b>=0;b-=3)if(Ut[b+1]==-f){let k=Ut[b+2],S=k&2?n:k&4?k&1?r:n:0;S&&(ye[o]=ye[Ut[b]]=S),a=b;break}}else{if(Ut.length==189)break;Ut[a++]=o,Ut[a++]=p,Ut[a++]=h}else if((g=ye[o])==2||g==1){let b=g==n;h=b?0:1;for(let k=a-3;k>=0;k-=3){let S=Ut[k+2];if(S&2)break;if(b)Ut[k+2]|=2;else{if(S&4)break;Ut[k+2]|=4}}}for(let o=0;o<t;o++)if(ye[o]==256){let a=o+1;for(;a<t&&ye[a]==256;)a++;let h=(o?ye[o-1]:n)==1,p=(a<t?ye[a]:n)==1,f=h==p?h?1:2:n;for(let g=o;g<a;g++)ye[g]=f;o=a-1}let s=[];if(n==1)for(let o=0;o<t;){let a=o,h=ye[o++]!=1;for(;o<t&&h==(ye[o]!=1);)o++;if(h)for(let p=o;p>a;){let f=p,g=ye[--p]!=2;for(;p>a&&g==(ye[p-1]!=2);)p--;s.push(new ni(p,f,g?2:1))}else s.push(new ni(a,o,0))}else for(let o=0;o<t;){let a=o,h=ye[o++]==2;for(;o<t&&h==(ye[o]==2);)o++;s.push(new ni(a,o,h?1:2))}return s}function _u(i){return[new ni(0,i,0)]}let zu="";function Qg(i,e,t,n,r){var s;let o=n.head-i.from,a=-1;if(o==0){if(!r||!i.length)return null;e[0].level!=t&&(o=e[0].side(!1,t),a=0)}else if(o==i.length){if(r)return null;let b=e[e.length-1];b.level!=t&&(o=b.side(!0,t),a=e.length-1)}a<0&&(a=ni.find(e,o,(s=n.bidiLevel)!==null&&s!==void 0?s:-1,n.assoc));let h=e[a];o==h.side(r,t)&&(h=e[a+=r?1:-1],o=h.side(!r,t));let p=r==(h.dir==t),f=Je(i.text,o,p);if(zu=i.text.slice(Math.min(o,f),Math.max(o,f)),f!=h.side(r,t))return R.cursor(f+i.from,p?-1:1,h.level);let g=a==(r?e.length-1:0)?null:e[a+(r?1:-1)];return!g&&h.level!=t?R.cursor(r?i.to:i.from,r?-1:1,t):g&&g.level<h.level?R.cursor(g.side(!r,t)+i.from,r?1:-1,g.level):R.cursor(f+i.from,r?-1:1,h.level)}const fn="￿";class Gu{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(ae.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=fn}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let r=e;;){this.findPointBefore(n,r),this.readNode(r);let s=r.nextSibling;if(s==t)break;let o=fe.get(r),a=fe.get(s);(o&&a?o.breakAfter:(o?o.breakAfter:Qc(r))||Qc(s)&&(r.nodeName!="BR"||r.cmIgnore))&&this.lineBreak(),r=s}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,n),o=this.lineSeparator.length):(a=r.exec(t))&&(s=a.index,o=a[0].length),this.append(t.slice(n,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let h of this.points)h.node==e&&h.pos>this.text.length&&(h.pos-=o-1);n=s+o}}readNode(e){if(e.cmIgnore)return;let t=fe.get(e),n=t&&t.overrideDOMText;if(n!=null){this.findPointInside(e,n.length);for(let r=n.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(e.nodeType==3?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+Math.min(t,n.offset))}}function Qc(i){return i.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(i.nodeName)}class Cc{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class $c extends fe{constructor(e){super(),this.view=e,this.compositionDeco=z.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new et],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new qt(0,0,0,e.state.doc.length)],0)}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:o,toA:a})=>a<this.minWidthFrom||o>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=z.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=$g(this.view,e.changes)),(N.ie||N.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let n=this.decorations,r=this.updateDeco(),s=Rg(n,r,e.changes);return t=qt.extendWithRanges(t,s),this.dirty==0&&t.length==0?!1:(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:n}=this.view;n.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=N.chrome||N.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.dirty=0,s&&(s.written||n.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""});let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof Un&&s.widget instanceof Ac&&r.push(s.dom);n.updateGaps(r)}updateChildren(e,t){let n=this.childCursor(t);for(let r=e.length-1;;r--){let s=r>=0?e[r]:null;if(!s)break;let{fromA:o,toA:a,fromB:h,toB:p}=s,{content:f,breakAtStart:g,openStart:b,openEnd:k}=Ya.build(this.view.state.doc,h,p,this.decorations,this.dynamicDecorationMap),{i:S,off:T}=n.findPos(a,1),{i:A,off:D}=n.findPos(o,-1);Pu(this,A,D,S,T,f,g,b,k)}}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let n=this.view.root.activeElement,r=n==this.dom,s=!r&&Zr(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(r||t||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,h=this.domAtPos(a.anchor),p=a.empty?h:this.domAtPos(a.head);if(N.gecko&&a.empty&&!this.compositionDeco.size&&Cg(h)){let g=document.createTextNode("");this.view.observer.ignore(()=>h.node.insertBefore(g,h.node.childNodes[h.offset]||null)),h=p=new Ie(g,0),o=!0}let f=this.view.observer.selectionRange;(o||!f.focusNode||!_r(h.node,h.offset,f.anchorNode,f.anchorOffset)||!_r(p.node,p.offset,f.focusNode,f.focusOffset))&&(this.view.observer.ignore(()=>{N.android&&N.chrome&&this.dom.contains(f.focusNode)&&jg(f.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let g=Yr(this.view.root);if(g)if(a.empty){if(N.gecko){let b=Tg(h.node,h.offset);if(b&&b!=3){let k=Ku(h.node,h.offset,b==1?1:-1);k&&(h=new Ie(k,b==1?0:k.nodeValue.length))}}g.collapse(h.node,h.offset),a.bidiLevel!=null&&f.cursorBidiLevel!=null&&(f.cursorBidiLevel=a.bidiLevel)}else if(g.extend){g.collapse(h.node,h.offset);try{g.extend(p.node,p.offset)}catch{}}else{let b=document.createRange();a.anchor>a.head&&([h,p]=[p,h]),b.setEnd(p.node,p.offset),b.setStart(h.node,h.offset),g.removeAllRanges(),g.addRange(b)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(h,p)),this.impreciseAnchor=h.precise?null:new Ie(f.anchorNode,f.anchorOffset),this.impreciseHead=p.precise?null:new Ie(f.focusNode,f.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,t=e.state.selection.main,n=Yr(e.root),{anchorNode:r,anchorOffset:s}=e.observer.selectionRange;if(!n||!t.empty||!t.assoc||!n.modify)return;let o=et.find(this,t.head);if(!o)return;let a=o.posAtStart;if(t.head==a||t.head==a+o.length)return;let h=this.coordsAt(t.head,-1),p=this.coordsAt(t.head,1);if(!h||!p||h.bottom>p.top)return;let f=this.domAtPos(t.head+t.assoc);n.collapse(f.node,f.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let g=e.observer.selectionRange;e.docView.posFromDOM(g.anchorNode,g.anchorOffset)!=t.from&&n.collapse(r,s)}nearest(e){for(let t=e;t;){let n=fe.get(t);if(n&&n.rootView==this)return n;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let r=this.children[t];if(n<r.length||r instanceof et)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){for(let n=this.length,r=this.children.length-1;;r--){let s=this.children[r],o=n-s.breakAfter-s.length;if(e>o||e==o&&s.type!=ke.WidgetBefore&&s.type!=ke.WidgetAfter&&(!r||t==2||this.children[r-1].breakAfter||this.children[r-1].type==ke.WidgetBefore&&t>-2))return s.coordsAt(e-o,t);n=o}}measureVisibleLineHeights(e){let t=[],{from:n,to:r}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,h=this.view.textDirection==we.LTR;for(let p=0,f=0;f<this.children.length;f++){let g=this.children[f],b=p+g.length;if(b>r)break;if(p>=n){let k=g.dom.getBoundingClientRect();if(t.push(k.height),o){let S=g.dom.lastChild,T=S?Ii(S):[];if(T.length){let A=T[T.length-1],D=h?A.right-k.left:k.right-A.left;D>a&&(a=D,this.minWidth=s,this.minWidthFrom=p,this.minWidthTo=b)}}}p=b+g.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?we.RTL:we.LTR}measureTextSize(){for(let s of this.children)if(s instanceof et){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),t,n,r;return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Ii(e.firstChild)[0];t=e.getBoundingClientRect().height,n=s?s.width/27:7,r=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:n,textHeight:r}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new Su(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,r=0;;r++){let s=r==t.viewports.length?null:t.viewports[r],o=s?s.from-1:this.length;if(o>n){let a=t.lineBlockAt(o).bottom-t.lineBlockAt(n).top;e.push(z.replace({widget:new Ac(a),block:!0,inclusive:!0,isBlockGap:!0}).range(n,o))}if(!s)break;n=s.to+1}return z.set(e)}updateDeco(){let e=this.view.state.facet(Vi).map((t,n)=>(this.dynamicDecorationMap[n]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:t}=e,n=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),r;if(!n)return;!t.empty&&(r=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(n={left:Math.min(n.left,r.left),top:Math.min(n.top,r.top),right:Math.max(n.right,r.right),bottom:Math.max(n.bottom,r.bottom)});let s=0,o=0,a=0,h=0;for(let f of this.view.state.facet(qu).map(g=>g(this.view)))if(f){let{left:g,right:b,top:k,bottom:S}=f;g!=null&&(s=Math.max(s,g)),b!=null&&(o=Math.max(o,b)),k!=null&&(a=Math.max(a,k)),S!=null&&(h=Math.max(h,S))}let p={left:n.left-s,top:n.top-a,right:n.right+o,bottom:n.bottom+h};hg(this.view.scrollDOM,p,t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==we.LTR)}}function Cg(i){return i.node.nodeType==1&&i.node.firstChild&&(i.offset==0||i.node.childNodes[i.offset-1].contentEditable=="false")&&(i.offset==i.node.childNodes.length||i.node.childNodes[i.offset].contentEditable=="false")}class Ac extends Qn{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function Hu(i){let e=i.observer.selectionRange,t=e.focusNode&&Ku(e.focusNode,e.focusOffset,0);if(!t)return null;let n=i.docView.nearest(t);if(!n)return null;if(n instanceof et){let r=t;for(;r.parentNode!=n.dom;)r=r.parentNode;let s=r.previousSibling;for(;s&&!fe.get(s);)s=s.previousSibling;let o=s?fe.get(s).posAtEnd:n.posAtStart;return{from:o,to:o,node:r,text:t}}else{for(;;){let{parent:s}=n;if(!s)return null;if(s instanceof et)break;n=s}let r=n.posAtStart;return{from:r,to:r+n.length,node:n.dom,text:t}}}function $g(i,e){let t=Hu(i);if(!t)return z.none;let{from:n,to:r,node:s,text:o}=t,a=e.mapPos(n,1),h=Math.max(a,e.mapPos(r,-1)),{state:p}=i,f=s.nodeType==3?s.nodeValue:new Gu([],p).readRange(s.firstChild,null).text;if(h-a<f.length)if(p.doc.sliceString(a,Math.min(p.doc.length,a+f.length),fn)==f)h=a+f.length;else if(p.doc.sliceString(Math.max(0,h-f.length),h,fn)==f)a=h-f.length;else return z.none;else if(p.doc.sliceString(a,h,fn)!=f)return z.none;let g=fe.get(s);return g instanceof Au?g=g.widget.topView:g&&(g.parent=null),z.set(z.replace({widget:new Ag(s,o,g),inclusive:!0}).range(a,h))}class Ag extends Qn{constructor(e,t,n){super(),this.top=e,this.text=t,this.topView=n}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return Au}}function Ku(i,e,t){if(t<=0)for(let n=i,r=e;;){if(n.nodeType==3)return n;if(n.nodeType==1&&r>0)n=n.childNodes[r-1],r=Fi(n);else break}if(t>=0)for(let n=i,r=e;;){if(n.nodeType==3)return n;if(n.nodeType==1&&r<n.childNodes.length&&t>=0)n=n.childNodes[r],r=0;else break}return null}function Tg(i,e){return i.nodeType!=1?0:(e&&i.childNodes[e-1].contentEditable=="false"?1:0)|(e<i.childNodes.length&&i.childNodes[e].contentEditable=="false"?2:0)}class Mg{constructor(){this.changes=[]}compareRange(e,t){la(e,t,this.changes)}comparePoint(e,t){la(e,t,this.changes)}}function Rg(i,e,t){let n=new Mg;return he.compare(i,e,t,n),n.changes}function jg(i,e){for(let t=i;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function Dg(i,e,t=1){let n=i.charCategorizer(e),r=i.doc.lineAt(e),s=e-r.from;if(r.length==0)return R.cursor(e);s==0?t=1:s==r.length&&(t=-1);let o=s,a=s;t<0?o=Je(r.text,s,!1):a=Je(r.text,s);let h=n(r.text.slice(o,a));for(;o>0;){let p=Je(r.text,o,!1);if(n(r.text.slice(p,o))!=h)break;o=p}for(;a<r.length;){let p=Je(r.text,a);if(n(r.text.slice(a,p))!=h)break;a=p}return R.range(o+r.from,a+r.from)}function Ug(i,e){return e.left>i?e.left-i:Math.max(0,i-e.right)}function Zg(i,e){return e.top>i?e.top-i:Math.max(0,i-e.bottom)}function yo(i,e){return i.top<e.bottom-1&&i.bottom>e.top+1}function Tc(i,e){return e<i.top?{top:e,left:i.left,right:i.right,bottom:i.bottom}:i}function Mc(i,e){return e>i.bottom?{top:i.top,left:i.left,right:i.right,bottom:e}:i}function pa(i,e,t){let n,r,s,o,a=!1,h,p,f,g;for(let S=i.firstChild;S;S=S.nextSibling){let T=Ii(S);for(let A=0;A<T.length;A++){let D=T[A];r&&yo(r,D)&&(D=Tc(Mc(D,r.bottom),r.top));let B=Ug(e,D),I=Zg(t,D);if(B==0&&I==0)return S.nodeType==3?Rc(S,e,t):pa(S,e,t);if(!n||o>I||o==I&&s>B){n=S,r=D,s=B,o=I;let L=I?t<D.top?-1:1:B?e<D.left?-1:1:0;a=!L||(L>0?A<T.length-1:A>0)}B==0?t>D.bottom&&(!f||f.bottom<D.bottom)?(h=S,f=D):t<D.top&&(!g||g.top>D.top)&&(p=S,g=D):f&&yo(f,D)?f=Mc(f,D.bottom):g&&yo(g,D)&&(g=Tc(g,D.top))}}if(f&&f.bottom>=t?(n=h,r=f):g&&g.top<=t&&(n=p,r=g),!n)return{node:i,offset:0};let b=Math.max(r.left,Math.min(r.right,e));if(n.nodeType==3)return Rc(n,b,t);if(a&&n.contentEditable!="false")return pa(n,b,t);let k=Array.prototype.indexOf.call(i.childNodes,n)+(e>=(r.left+r.right)/2?1:0);return{node:i,offset:k}}function Rc(i,e,t){let n=i.nodeValue.length,r=-1,s=1e9,o=0;for(let a=0;a<n;a++){let h=li(i,a,a+1).getClientRects();for(let p=0;p<h.length;p++){let f=h[p];if(f.top==f.bottom)continue;o||(o=e-f.left);let g=(f.top>t?f.top-t:t-f.bottom)-1;if(f.left-1<=e&&f.right+1>=e&&g<s){let b=e>=(f.left+f.right)/2,k=b;if((N.chrome||N.gecko)&&li(i,a).getBoundingClientRect().left==f.right&&(k=!b),g<=0)return{node:i,offset:a+(k?1:0)};r=a+(k?1:0),s=g}}}return{node:i,offset:r>-1?r:o>0?i.nodeValue.length:0}}function Ju(i,e,t,n=-1){var r,s;let o=i.contentDOM.getBoundingClientRect(),a=o.top+i.viewState.paddingTop,h,{docHeight:p}=i.viewState,{x:f,y:g}=e,b=g-a;if(b<0)return 0;if(b>p)return i.state.doc.length;for(let L=i.defaultLineHeight/2,F=!1;h=i.elementAtHeight(b),h.type!=ke.Text;)for(;b=n>0?h.bottom+L:h.top-L,!(b>=0&&b<=p);){if(F)return t?null:0;F=!0,n=-n}g=a+b;let k=h.from;if(k<i.viewport.from)return i.viewport.from==0?0:t?null:jc(i,o,h,f,g);if(k>i.viewport.to)return i.viewport.to==i.state.doc.length?i.state.doc.length:t?null:jc(i,o,h,f,g);let S=i.dom.ownerDocument,T=i.root.elementFromPoint?i.root:S,A=T.elementFromPoint(f,g);A&&!i.contentDOM.contains(A)&&(A=null),A||(f=Math.max(o.left+1,Math.min(o.right-1,f)),A=T.elementFromPoint(f,g),A&&!i.contentDOM.contains(A)&&(A=null));let D,B=-1;if(A&&((r=i.docView.nearest(A))===null||r===void 0?void 0:r.isEditable)!=!1){if(S.caretPositionFromPoint){let L=S.caretPositionFromPoint(f,g);L&&({offsetNode:D,offset:B}=L)}else if(S.caretRangeFromPoint){let L=S.caretRangeFromPoint(f,g);L&&({startContainer:D,startOffset:B}=L,(!i.contentDOM.contains(D)||N.safari&&Bg(D,B,f)||N.chrome&&Lg(D,B,f))&&(D=void 0))}}if(!D||!i.docView.dom.contains(D)){let L=et.find(i.docView,k);if(!L)return b>h.top+h.height/2?h.to:h.from;({node:D,offset:B}=pa(L.dom,f,g))}let I=i.docView.nearest(D);if(!I)return null;if(I.isWidget&&((s=I.dom)===null||s===void 0?void 0:s.nodeType)==1){let L=I.dom.getBoundingClientRect();return e.y<L.top||e.y<=L.bottom&&e.x<=(L.left+L.right)/2?I.posAtStart:I.posAtEnd}else return I.localPosFromDOM(D,B)+I.posAtStart}function jc(i,e,t,n,r){let s=Math.round((n-e.left)*i.defaultCharacterWidth);if(i.lineWrapping&&t.height>i.defaultLineHeight*1.5){let a=Math.floor((r-t.top)/i.defaultLineHeight);s+=a*i.viewState.heightOracle.lineLength}let o=i.state.sliceDoc(t.from,t.to);return t.from+ng(o,s,i.state.tabSize)}function Bg(i,e,t){let n;if(i.nodeType!=3||e!=(n=i.nodeValue.length))return!1;for(let r=i.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return li(i,n-1,n).getBoundingClientRect().left>t}function Lg(i,e,t){if(e!=0)return!1;for(let r=i;;){let s=r.parentNode;if(!s||s.nodeType!=1||s.firstChild!=r)return!1;if(s.classList.contains("cm-line"))break;r=s}let n=i.nodeType==1?i.getBoundingClientRect():li(i,0,Math.max(i.nodeValue.length,1)).getBoundingClientRect();return t-n.left>5}function Xg(i,e,t,n){let r=i.state.doc.lineAt(e.head),s=!n||!i.lineWrapping?null:i.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(s){let h=i.dom.getBoundingClientRect(),p=i.textDirectionAt(r.from),f=i.posAtCoords({x:t==(p==we.LTR)?h.right-1:h.left+1,y:(s.top+s.bottom)/2});if(f!=null)return R.cursor(f,t?-1:1)}let o=et.find(i.docView,e.head),a=o?t?o.posAtEnd:o.posAtStart:t?r.to:r.from;return R.cursor(a,t?-1:1)}function Dc(i,e,t,n){let r=i.state.doc.lineAt(e.head),s=i.bidiSpans(r),o=i.textDirectionAt(r.from);for(let a=e,h=null;;){let p=Qg(r,s,o,a,t),f=zu;if(!p){if(r.number==(t?i.state.doc.lines:1))return a;f=`
`,r=i.state.doc.line(r.number+(t?1:-1)),s=i.bidiSpans(r),p=R.cursor(t?r.from:r.to)}if(h){if(!h(f))return a}else{if(!n)return p;h=n(f)}a=p}}function Eg(i,e,t){let n=i.state.charCategorizer(e),r=n(t);return s=>{let o=n(s);return r==Ce.Space&&(r=o),r==o}}function Wg(i,e,t,n){let r=e.head,s=t?1:-1;if(r==(t?i.state.doc.length:0))return R.cursor(r,e.assoc);let o=e.goalColumn,a,h=i.contentDOM.getBoundingClientRect(),p=i.coordsAtPos(r),f=i.documentTop;if(p)o==null&&(o=p.left-h.left),a=s<0?p.top:p.bottom;else{let k=i.viewState.lineBlockAt(r);o==null&&(o=Math.min(h.right-h.left,i.defaultCharacterWidth*(r-k.from))),a=(s<0?k.top:k.bottom)+f}let g=h.left+o,b=n??i.defaultLineHeight>>1;for(let k=0;;k+=10){let S=a+(b+k)*s,T=Ju(i,{x:g,y:S},!1,s);if(S<h.top||S>h.bottom||(s<0?T<r:T>r))return R.cursor(T,e.assoc,void 0,o)}}function bo(i,e,t){let n=i.state.facet(Vu).map(r=>r(i));for(;;){let r=!1;for(let s of n)s.between(t.from-1,t.from+1,(o,a,h)=>{t.from>o&&t.from<a&&(t=e.head>t.from?R.cursor(o,1):R.cursor(a,-1),r=!0)});if(!r)return t}}class Ng{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null;let t=(n,r)=>{this.ignoreDuringComposition(r)||r.type=="keydown"&&this.keydown(e,r)||(this.mustFlushObserver(r)&&e.observer.forceFlush(),this.runCustomHandlers(r.type,e,r)?r.preventDefault():n(e,r))};for(let n in $e){let r=$e[n];e.contentDOM.addEventListener(n,s=>{Uc(e,s)&&t(r,s)},da[n]),this.registeredEvents.push(n)}e.scrollDOM.addEventListener("mousedown",n=>{if(n.target==e.scrollDOM&&n.clientY>e.contentDOM.getBoundingClientRect().bottom&&(t($e.mousedown,n),!n.defaultPrevented&&n.button==2)){let r=e.contentDOM.style.minHeight;e.contentDOM.style.minHeight="100%",setTimeout(()=>e.contentDOM.style.minHeight=r,200)}}),e.scrollDOM.addEventListener("drop",n=>{n.target==e.scrollDOM&&n.clientY>e.contentDOM.getBoundingClientRect().bottom&&t($e.drop,n)}),N.chrome&&N.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,N.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var n;let r;this.customHandlers=[];for(let s of t)if(r=(n=s.update(e).spec)===null||n===void 0?void 0:n.domEventHandlers){this.customHandlers.push({plugin:s.value,handlers:r});for(let o in r)this.registeredEvents.indexOf(o)<0&&o!="scroll"&&(this.registeredEvents.push(o),e.contentDOM.addEventListener(o,a=>{Uc(e,a)&&this.runCustomHandlers(o,e,a)&&a.preventDefault()}))}}runCustomHandlers(e,t,n){for(let r of this.customHandlers){let s=r.handlers[e];if(s)try{if(s.call(r.plugin,n,t)||n.defaultPrevented)return!0}catch(o){Ot(t.state,o)}}return!1}runScrollHandlers(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let n of this.customHandlers){let r=n.handlers.scroll;if(r)try{r.call(n.plugin,t,e)}catch(s){Ot(e.state,s)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(t.keyCode!=27&&tp.indexOf(t.keyCode)<0&&(e.inputState.lastEscPress=0),N.android&&N.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let n;return N.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((n=ep.find(r=>r.keyCode==t.keyCode))&&!t.ctrlKey||Ig.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=n||t,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let t=this.pendingIOSKey;return t?(this.pendingIOSKey=void 0,ti(e.contentDOM,t.key,t.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:N.safari&&!N.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const ep=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Ig="dthko",tp=[16,17,18,20,91,92,224,225],Or=6;function yr(i){return Math.max(0,i)*.7+8}class Fg{constructor(e,t,n,r){this.view=e,this.style=n,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=ug(e.contentDOM);let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(ae.allowMultipleSelections)&&Vg(e,t),this.dragMove=qg(e,t),this.dragging=Yg(e,t)&&sp(t)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var t;if(e.buttons==0)return this.destroy();if(this.dragging!==!1)return;this.select(this.lastEvent=e);let n=0,r=0,s=((t=this.scrollParent)===null||t===void 0?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight};e.clientX<=s.left+Or?n=-yr(s.left-e.clientX):e.clientX>=s.right-Or&&(n=yr(e.clientX-s.right)),e.clientY<=s.top+Or?r=-yr(s.top-e.clientY):e.clientY>=s.bottom-Or&&(r=yr(e.clientY-s.bottom)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}select(e){let t=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!t.eq(this.view.state.selection)||t.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:t,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Vg(i,e){let t=i.state.facet(Bu);return t.length?t[0](e):N.mac?e.metaKey:e.ctrlKey}function qg(i,e){let t=i.state.facet(Lu);return t.length?t[0](e):N.mac?!e.altKey:!e.ctrlKey}function Yg(i,e){let{main:t}=i.state.selection;if(t.empty)return!1;let n=Yr(i.root);if(!n||n.rangeCount==0)return!0;let r=n.getRangeAt(0).getClientRects();for(let s=0;s<r.length;s++){let o=r[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function Uc(i,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,n;t!=i.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(n=fe.get(t))&&n.ignoreEvent(e))return!1;return!0}const $e=Object.create(null),da=Object.create(null),np=N.ie&&N.ie_version<15||N.ios&&N.webkit_version<604;function _g(i){let e=i.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{i.focus(),t.remove(),ip(i,t.value)},50)}function ip(i,e){let{state:t}=i,n,r=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(fa!=null&&t.selection.ranges.every(h=>h.empty)&&fa==s.toString()){let h=-1;n=t.changeByRange(p=>{let f=t.doc.lineAt(p.from);if(f.from==h)return{range:p};h=f.from;let g=t.toText((o?s.line(r++).text:e)+t.lineBreak);return{changes:{from:f.from,insert:g},range:R.cursor(p.from+g.length)}})}else o?n=t.changeByRange(h=>{let p=s.line(r++);return{changes:{from:h.from,to:h.to,insert:p.text},range:R.cursor(h.from+p.length)}}):n=t.replaceSelection(s);i.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}$e.keydown=(i,e)=>{i.inputState.setSelectionOrigin("select"),e.keyCode==27&&(i.inputState.lastEscPress=Date.now())};$e.touchstart=(i,e)=>{i.inputState.lastTouchTime=Date.now(),i.inputState.setSelectionOrigin("select.pointer")};$e.touchmove=i=>{i.inputState.setSelectionOrigin("select.pointer")};da.touchstart=da.touchmove={passive:!0};$e.mousedown=(i,e)=>{if(i.observer.flush(),i.inputState.lastTouchTime>Date.now()-2e3)return;let t=null;for(let n of i.state.facet(Xu))if(t=n(i,e),t)break;if(!t&&e.button==0&&(t=Hg(i,e)),t){let n=i.root.activeElement!=i.contentDOM;i.inputState.startMouseSelection(new Fg(i,e,t,n)),n&&i.observer.ignore(()=>wu(i.contentDOM)),i.inputState.mouseSelection&&i.inputState.mouseSelection.start(e)}};function Zc(i,e,t,n){if(n==1)return R.cursor(e,t);if(n==2)return Dg(i.state,e,t);{let r=et.find(i.docView,e),s=i.state.doc.lineAt(r?r.posAtEnd:e),o=r?r.posAtStart:s.from,a=r?r.posAtEnd:s.to;return a<i.state.doc.length&&a==s.to&&a++,R.range(o,a)}}let rp=(i,e)=>i>=e.top&&i<=e.bottom,Bc=(i,e,t)=>rp(e,t)&&i>=t.left&&i<=t.right;function zg(i,e,t,n){let r=et.find(i.docView,e);if(!r)return 1;let s=e-r.posAtStart;if(s==0)return 1;if(s==r.length)return-1;let o=r.coordsAt(s,-1);if(o&&Bc(t,n,o))return-1;let a=r.coordsAt(s,1);return a&&Bc(t,n,a)?1:o&&rp(n,o)?-1:1}function Lc(i,e){let t=i.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:zg(i,t,e.clientX,e.clientY)}}const Gg=N.ie&&N.ie_version<=11;let Xc=null,Ec=0,Wc=0;function sp(i){if(!Gg)return i.detail;let e=Xc,t=Wc;return Xc=i,Wc=Date.now(),Ec=!e||t>Date.now()-400&&Math.abs(e.clientX-i.clientX)<2&&Math.abs(e.clientY-i.clientY)<2?(Ec+1)%3:1}function Hg(i,e){let t=Lc(i,e),n=sp(e),r=i.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),r=r.map(s.changes))},get(s,o,a){let h=Lc(i,s),p,f=Zc(i,h.pos,h.bias,n);if(t.pos!=h.pos&&!o){let g=Zc(i,t.pos,t.bias,n),b=Math.min(g.from,f.from),k=Math.max(g.to,f.to);f=b<f.from?R.range(b,k):R.range(k,b)}return o?r.replaceRange(r.main.extend(f.from,f.to)):a&&n==1&&r.ranges.length>1&&(p=Kg(r,h.pos))?p:a?r.addRange(f):R.create([f])}}}function Kg(i,e){for(let t=0;t<i.ranges.length;t++){let{from:n,to:r}=i.ranges[t];if(n<=e&&r>=e)return R.create(i.ranges.slice(0,t).concat(i.ranges.slice(t+1)),i.mainIndex==t?0:i.mainIndex-(i.mainIndex>t?1:0))}return null}$e.dragstart=(i,e)=>{let{selection:{main:t}}=i.state,{mouseSelection:n}=i.inputState;n&&(n.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",i.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")};function Nc(i,e,t,n){if(!t)return;let r=i.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:s}=i.inputState,o=n&&s&&s.dragging&&s.dragMove?{from:s.dragging.from,to:s.dragging.to}:null,a={from:r,insert:t},h=i.state.changes(o?[o,a]:a);i.focus(),i.dispatch({changes:h,selection:{anchor:h.mapPos(r,-1),head:h.mapPos(r,1)},userEvent:o?"move.drop":"input.drop"})}$e.drop=(i,e)=>{if(!e.dataTransfer)return;if(i.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let n=Array(t.length),r=0,s=()=>{++r==t.length&&Nc(i,e,n.filter(o=>o!=null).join(i.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(n[o]=a.result),s()},a.readAsText(t[o])}}else Nc(i,e,e.dataTransfer.getData("Text"),!0)};$e.paste=(i,e)=>{if(i.state.readOnly)return e.preventDefault();i.observer.flush();let t=np?null:e.clipboardData;t?(ip(i,t.getData("text/plain")||t.getData("text/uri-text")),e.preventDefault()):_g(i)};function Jg(i,e){let t=i.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),i.focus()},50)}function eO(i){let e=[],t=[],n=!1;for(let r of i.selection.ranges)r.empty||(e.push(i.sliceDoc(r.from,r.to)),t.push(r));if(!e.length){let r=-1;for(let{from:s}of i.selection.ranges){let o=i.doc.lineAt(s);o.number>r&&(e.push(o.text),t.push({from:o.from,to:Math.min(i.doc.length,o.to+1)})),r=o.number}n=!0}return{text:e.join(i.lineBreak),ranges:t,linewise:n}}let fa=null;$e.copy=$e.cut=(i,e)=>{let{text:t,ranges:n,linewise:r}=eO(i.state);if(!t&&!r)return;fa=r?t:null;let s=np?null:e.clipboardData;s?(e.preventDefault(),s.clearData(),s.setData("text/plain",t)):Jg(i,t),e.type=="cut"&&!i.state.readOnly&&i.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"})};const op=nn.define();function ap(i,e){let t=[];for(let n of i.facet(Nu)){let r=n(i,e);r&&t.push(r)}return t?i.update({effects:t,annotations:op.of(!0)}):null}function lp(i){setTimeout(()=>{let e=i.hasFocus;if(e!=i.inputState.notifiedFocused){let t=ap(i.state,e);t?i.dispatch(t):i.update([])}},10)}$e.focus=i=>{i.inputState.lastFocusTime=Date.now(),!i.scrollDOM.scrollTop&&(i.inputState.lastScrollTop||i.inputState.lastScrollLeft)&&(i.scrollDOM.scrollTop=i.inputState.lastScrollTop,i.scrollDOM.scrollLeft=i.inputState.lastScrollLeft),lp(i)};$e.blur=i=>{i.observer.clearSelectionRange(),lp(i)};$e.compositionstart=$e.compositionupdate=i=>{i.inputState.compositionFirstChange==null&&(i.inputState.compositionFirstChange=!0),i.inputState.composing<0&&(i.inputState.composing=0)};$e.compositionend=i=>{i.inputState.composing=-1,i.inputState.compositionEndedAt=Date.now(),i.inputState.compositionPendingKey=!0,i.inputState.compositionPendingChange=i.observer.pendingRecords().length>0,i.inputState.compositionFirstChange=null,N.chrome&&N.android?i.observer.flushSoon():i.inputState.compositionPendingChange?Promise.resolve().then(()=>i.observer.flush()):setTimeout(()=>{i.inputState.composing<0&&i.docView.compositionDeco.size&&i.update([])},50)};$e.contextmenu=i=>{i.inputState.lastContextMenu=Date.now()};$e.beforeinput=(i,e)=>{var t;let n;if(N.chrome&&N.android&&(n=ep.find(r=>r.inputType==e.inputType))&&(i.observer.delayAndroidKey(n.key,n.keyCode),n.key=="Backspace"||n.key=="Delete")){let r=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>r+10&&i.hasFocus&&(i.contentDOM.blur(),i.focus())},100)}};const Ic=["pre-wrap","normal","pre-line","break-spaces"];class tO{constructor(e){this.lineWrapping=e,this.doc=oe.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Ic.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let r=e[n];r<0?n++:this.heightSamples[Math.floor(r*10)]||(t=!0,this.heightSamples[Math.floor(r*10)]=!0)}return t}refresh(e,t,n,r,s,o){let a=Ic.indexOf(e)>-1,h=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=n,this.textHeight=r,this.lineLength=s,h){this.heightSamples={};for(let p=0;p<o.length;p++){let f=o[p];f<0?p++:this.heightSamples[Math.floor(f*10)]=!0}}return h}}class nO{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class en{constructor(e,t,n,r,s){this.from=e,this.length=t,this.top=n,this.height=r,this.type=s}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new en(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var ge=function(i){return i[i.ByPos=0]="ByPos",i[i.ByHeight=1]="ByHeight",i[i.ByPosNoHeight=2]="ByPosNoHeight",i}(ge||(ge={}));const Br=.001;class tt{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>Br&&(e.heightChanged=!0),this.height=t)}replace(e,t,n){return tt.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,r){let s=this,o=n.doc;for(let a=r.length-1;a>=0;a--){let{fromA:h,toA:p,fromB:f,toB:g}=r[a],b=s.lineAt(h,ge.ByPosNoHeight,n.setDoc(t),0,0),k=b.to>=p?b:s.lineAt(p,ge.ByPosNoHeight,n,0,0);for(g+=k.to-p,p=k.to;a>0&&b.from<=r[a-1].toA;)h=r[a-1].fromA,f=r[a-1].fromB,a--,h<b.from&&(b=s.lineAt(h,ge.ByPosNoHeight,n,0,0));f+=b.from-h,h=b.from;let S=za.build(n.setDoc(o),e,f,g);s=s.replace(h,p,S)}return s.updateHeight(n,0)}static empty(){return new ft(0,0)}static of(e){if(e.length==1)return e[0];let t=0,n=e.length,r=0,s=0;for(;;)if(t==n)if(r>s*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),n+=1+a.break,r-=a.size}else if(s>r*2){let a=e[n];a.break?e.splice(n,1,a.left,null,a.right):e.splice(n,1,a.left,a.right),n+=2+a.break,s-=a.size}else break;else if(r<s){let a=e[t++];a&&(r+=a.size)}else{let a=e[--n];a&&(s+=a.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,n++),new iO(tt.of(e.slice(0,t)),o,tt.of(e.slice(n)))}}tt.prototype.size=1;class cp extends tt{constructor(e,t,n){super(e,t),this.type=n}blockAt(e,t,n,r){return new en(r,this.length,n,this.height,this.type)}lineAt(e,t,n,r,s){return this.blockAt(0,n,r,s)}forEachLine(e,t,n,r,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,n,r,s))}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ft extends cp{constructor(e,t){super(e,t,ke.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,n){let r=n[0];return n.length==1&&(r instanceof ft||r instanceof We&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof We?r=new ft(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):tt.of(n)}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(n||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class We extends tt{constructor(e){super(e,0)}heightMetrics(e,t){let n=e.doc.lineAt(t).number,r=e.doc.lineAt(t+this.length).number,s=r-n+1,o,a=0;if(e.lineWrapping){let h=Math.min(this.height,e.lineHeight*s);o=h/s,this.length>s+1&&(a=(this.height-h)/(this.length-s-1))}else o=this.height/s;return{firstLine:n,lastLine:r,perLine:o,perChar:a}}blockAt(e,t,n,r){let{firstLine:s,lastLine:o,perLine:a,perChar:h}=this.heightMetrics(t,r);if(t.lineWrapping){let p=r+Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length),f=t.doc.lineAt(p),g=a+f.length*h,b=Math.max(n,e-g/2);return new en(f.from,f.length,b,g,ke.Text)}else{let p=Math.max(0,Math.min(o-s,Math.floor((e-n)/a))),{from:f,length:g}=t.doc.line(s+p);return new en(f,g,n+a*p,a,ke.Text)}}lineAt(e,t,n,r,s){if(t==ge.ByHeight)return this.blockAt(e,n,r,s);if(t==ge.ByPosNoHeight){let{from:k,to:S}=n.doc.lineAt(e);return new en(k,S-k,0,0,ke.Text)}let{firstLine:o,perLine:a,perChar:h}=this.heightMetrics(n,s),p=n.doc.lineAt(e),f=a+p.length*h,g=p.number-o,b=r+a*g+h*(p.from-s-g);return new en(p.from,p.length,Math.max(r,Math.min(b,r+this.height-f)),f,ke.Text)}forEachLine(e,t,n,r,s,o){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:a,perLine:h,perChar:p}=this.heightMetrics(n,s);for(let f=e,g=r;f<=t;){let b=n.doc.lineAt(f);if(f==e){let S=b.number-a;g+=h*S+p*(e-s-S)}let k=h+p*b.length;o(new en(b.from,b.length,g,k,ke.Text)),g+=k,f=b.to+1}}replace(e,t,n){let r=this.length-t;if(r>0){let s=n[n.length-1];s instanceof We?n[n.length-1]=new We(s.length+r):n.push(null,new We(r-1))}if(e>0){let s=n[0];s instanceof We?n[0]=new We(e+s.length):n.unshift(new We(e-1),null)}return tt.of(n)}decomposeLeft(e,t){t.push(new We(e-1),null)}decomposeRight(e,t){t.push(null,new We(this.length-e-1))}updateHeight(e,t=0,n=!1,r){let s=t+this.length;if(r&&r.from<=t+this.length&&r.more){let o=[],a=Math.max(t,r.from),h=-1;for(r.from>t&&o.push(new We(r.from-t-1).updateHeight(e,t));a<=s&&r.more;){let f=e.doc.lineAt(a).length;o.length&&o.push(null);let g=r.heights[r.index++];h==-1?h=g:Math.abs(g-h)>=Br&&(h=-2);let b=new ft(f,g);b.outdated=!1,o.push(b),a+=f+1}a<=s&&o.push(null,new We(s-a).updateHeight(e,a));let p=tt.of(o);return(h<0||Math.abs(p.height-this.height)>=Br||Math.abs(h-this.heightMetrics(e,t).perLine)>=Br)&&(e.heightChanged=!0),p}else(n||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class iO extends tt{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return this.flags&1}blockAt(e,t,n,r){let s=n+this.left.height;return e<s?this.left.blockAt(e,t,n,r):this.right.blockAt(e,t,s,r+this.left.length+this.break)}lineAt(e,t,n,r,s){let o=r+this.left.height,a=s+this.left.length+this.break,h=t==ge.ByHeight?e<o:e<a,p=h?this.left.lineAt(e,t,n,r,s):this.right.lineAt(e,t,n,o,a);if(this.break||(h?p.to<a:p.from>a))return p;let f=t==ge.ByPosNoHeight?ge.ByPosNoHeight:ge.ByPos;return h?p.join(this.right.lineAt(a,f,n,o,a)):this.left.lineAt(a,f,n,r,s).join(p)}forEachLine(e,t,n,r,s,o){let a=r+this.left.height,h=s+this.left.length+this.break;if(this.break)e<h&&this.left.forEachLine(e,t,n,r,s,o),t>=h&&this.right.forEachLine(e,t,n,a,h,o);else{let p=this.lineAt(h,ge.ByPos,n,r,s);e<p.from&&this.left.forEachLine(e,p.from-1,n,r,s,o),p.to>=e&&p.from<=t&&o(p),t>p.to&&this.right.forEachLine(p.to+1,t,n,a,h,o)}}replace(e,t,n){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,n));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of n)s.push(a);if(e>0&&Fc(s,o-1),t<this.length){let a=s.length;this.decomposeRight(t,s),Fc(s,a)}return tt.of(s)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,r=n+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?tt.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,r){let{left:s,right:o}=this,a=t+s.length+this.break,h=null;return r&&r.from<=t+s.length&&r.more?h=s=s.updateHeight(e,t,n,r):s.updateHeight(e,t,n),r&&r.from<=a+o.length&&r.more?h=o=o.updateHeight(e,a,n,r):o.updateHeight(e,a,n),h?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Fc(i,e){let t,n;i[e]==null&&(t=i[e-1])instanceof We&&(n=i[e+1])instanceof We&&i.splice(e-1,3,new We(t.length+1+n.length))}const rO=5;class za{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let n=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof ft?r.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new ft(n-this.pos,-1)),this.writtenTo=n,t>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let r=n.widget?n.widget.estimatedHeight:0;r<0&&(r=this.oracle.lineHeight);let s=t-e;n.block?this.addBlock(new cp(s,r,n.type)):(s||r>=rO)&&this.addLineDeco(r,s)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new ft(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new We(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof ft)return e;let t=new ft(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type==ke.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=ke.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let n=this.ensureLine();n.length+=t,n.collapsed+=t,n.widgetHeight=Math.max(n.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof ft)&&!this.isCovered?this.nodes.push(new ft(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=e;for(let r of this.nodes)r instanceof ft&&r.updateHeight(this.oracle,n),n+=r?r.length:1;return this.nodes}static build(e,t,n,r){let s=new za(n,e);return he.spans(t,n,r,s,0),s.finish(n)}}function sO(i,e,t){let n=new oO;return he.compare(i,e,t,n,0),n.changes}class oO{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,r){(e<t||n&&n.heightRelevant||r&&r.heightRelevant)&&la(e,t,this.changes,5)}}function aO(i,e){let t=i.getBoundingClientRect(),n=i.ownerDocument,r=n.defaultView||window,s=Math.max(0,t.left),o=Math.min(r.innerWidth,t.right),a=Math.max(0,t.top),h=Math.min(r.innerHeight,t.bottom);for(let p=i.parentNode;p&&p!=n.body;)if(p.nodeType==1){let f=p,g=window.getComputedStyle(f);if((f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth)&&g.overflow!="visible"){let b=f.getBoundingClientRect();s=Math.max(s,b.left),o=Math.min(o,b.right),a=Math.max(a,b.top),h=p==i.parentNode?b.bottom:Math.min(h,b.bottom)}p=g.position=="absolute"||g.position=="fixed"?f.offsetParent:f.parentNode}else if(p.nodeType==11)p=p.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:a-(t.top+e),bottom:Math.max(a,h)-(t.top+e)}}function lO(i,e){let t=i.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class vo{constructor(e,t,n){this.from=e,this.to=t,this.size=n}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],s=t[n];if(r.from!=s.from||r.to!=s.to||r.size!=s.size)return!1}return!0}draw(e){return z.replace({widget:new cO(this.size,e)}).range(this.from,this.to)}}class cO extends Qn{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Vc{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=qc,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=we.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(_a).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new tO(t),this.stateDeco=e.facet(Vi).filter(n=>typeof n!="function"),this.heightMap=tt.empty().applyChanges(this.stateDeco,oe.empty,this.heightOracle.setDoc(e.doc),[new qt(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=z.set(this.lineGaps.map(n=>n.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let r=n?t.head:t.anchor;if(!e.some(({from:s,to:o})=>r>=s&&r<=o)){let{from:s,to:o}=this.lineBlockAt(r);e.push(new br(s,o))}}this.viewports=e.sort((n,r)=>n.from-r.from),this.scaler=this.heightMap.height<=7e6?qc:new pO(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Ri(e,this.scaler))})}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(Vi).filter(p=>typeof p!="function");let r=e.changedRanges,s=qt.extendWithRanges(r,sO(n,this.stateDeco,e?e.changes:De.empty(this.state.doc.length))),o=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(e.flags|=2);let a=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<a.from||t.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,t));let h=!e.changes.empty||e.flags&2||a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,this.updateForViewport(),h&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(yg)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),r=this.heightOracle,s=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?we.RTL:we.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=t.getBoundingClientRect(),h=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let p=0,f=0,g=parseInt(n.paddingTop)||0,b=parseInt(n.paddingBottom)||0;(this.paddingTop!=g||this.paddingBottom!=b)&&(this.paddingTop=g,this.paddingBottom=b,p|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(h=!0),this.editorWidth=e.scrollDOM.clientWidth,p|=8);let k=(this.printing?lO:aO)(t,this.paddingTop),S=k.top-this.pixelViewport.top,T=k.bottom-this.pixelViewport.bottom;this.pixelViewport=k;let A=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(A!=this.inView&&(this.inView=A,A&&(h=!0)),!this.inView&&!this.scrollTarget)return 0;let D=a.width;if((this.contentDOMWidth!=D||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,p|=8),h){let I=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(I)&&(o=!0),o||r.lineWrapping&&Math.abs(D-this.contentDOMWidth)>r.charWidth){let{lineHeight:L,charWidth:F,textHeight:V}=e.docView.measureTextSize();o=L>0&&r.refresh(s,L,F,V,D/F,I),o&&(e.docView.minWidth=0,p|=8)}S>0&&T>0?f=Math.max(S,T):S<0&&T<0&&(f=Math.min(S,T)),r.heightChanged=!1;for(let L of this.viewports){let F=L.from==this.viewport.from?I:e.docView.measureVisibleLineHeights(L);this.heightMap=(o?tt.empty().applyChanges(this.stateDeco,oe.empty,this.heightOracle,[new qt(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,o,new nO(L.from,F))}r.heightChanged&&(p|=2)}let B=!this.viewportIsAppropriate(this.viewport,f)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return B&&(this.viewport=this.getViewport(f,this.scrollTarget)),this.updateForViewport(),(p&2||B)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),p|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),p}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,h=new br(r.lineAt(o-n*1e3,ge.ByHeight,s,0,0).from,r.lineAt(a+(1-n)*1e3,ge.ByHeight,s,0,0).to);if(t){let{head:p}=t.range;if(p<h.from||p>h.to){let f=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),g=r.lineAt(p,ge.ByPos,s,0,0),b;t.y=="center"?b=(g.top+g.bottom)/2-f/2:t.y=="start"||t.y=="nearest"&&p<h.from?b=g.top:b=g.bottom-f,h=new br(r.lineAt(b-1e3/2,ge.ByHeight,s,0,0).from,r.lineAt(b+f+1e3/2,ge.ByHeight,s,0,0).to)}}return h}mapViewport(e,t){let n=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new br(this.heightMap.lineAt(n,ge.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,ge.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,ge.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,ge.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||r<=o-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||s>=a+Math.max(10,Math.min(n,250)))&&r>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let r of e)t.touchesRange(r.from,r.to)||n.push(new vo(t.mapPos(r.from),t.mapPos(r.to),r.size));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,r=n?1e4:2e3,s=r>>1,o=r<<1;if(this.defaultTextDirection!=we.LTR&&!n)return[];let a=[],h=(p,f,g,b)=>{if(f-p<s)return;let k=this.state.selection.main,S=[k.from];k.empty||S.push(k.to);for(let A of S)if(A>p&&A<f){h(p,A-10,g,b),h(A+10,f,g,b);return}let T=uO(e,A=>A.from>=g.from&&A.to<=g.to&&Math.abs(A.from-p)<s&&Math.abs(A.to-f)<s&&!S.some(D=>A.from<D&&A.to>D));if(!T){if(f<g.to&&t&&n&&t.visibleRanges.some(A=>A.from<=f&&A.to>=f)){let A=t.moveToLineBoundary(R.cursor(f),!1,!0).head;A>p&&(f=A)}T=new vo(p,f,this.gapSize(g,p,f,b))}a.push(T)};for(let p of this.viewportLines){if(p.length<o)continue;let f=hO(p.from,p.to,this.stateDeco);if(f.total<o)continue;let g=this.scrollTarget?this.scrollTarget.range.head:null,b,k;if(n){let S=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,T,A;if(g!=null){let D=kr(f,g),B=((this.visibleBottom-this.visibleTop)/2+S)/p.height;T=D-B,A=D+B}else T=(this.visibleTop-p.top-S)/p.height,A=(this.visibleBottom-p.top+S)/p.height;b=vr(f,T),k=vr(f,A)}else{let S=f.total*this.heightOracle.charWidth,T=r*this.heightOracle.charWidth,A,D;if(g!=null){let B=kr(f,g),I=((this.pixelViewport.right-this.pixelViewport.left)/2+T)/S;A=B-I,D=B+I}else A=(this.pixelViewport.left-T)/S,D=(this.pixelViewport.right+T)/S;b=vr(f,A),k=vr(f,D)}b>p.from&&h(p.from,b,p,f),k<p.to&&h(k,p.to,p,f)}return a}gapSize(e,t,n,r){let s=kr(r,n)-kr(r,t);return this.heightOracle.lineWrapping?e.height*s:r.total*this.heightOracle.charWidth*s}updateLineGaps(e){vo.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=z.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];he.spans(e,this.viewport.from,this.viewport.to,{span(r,s){t.push({from:r,to:s})},point(){}},20);let n=t.length!=this.visibleRanges.length||this.visibleRanges.some((r,s)=>r.from!=t[s].from||r.to!=t[s].to);return this.visibleRanges=t,n?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Ri(this.heightMap.lineAt(e,ge.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Ri(this.heightMap.lineAt(this.scaler.fromDOM(e),ge.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(e){return Ri(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class br{constructor(e,t){this.from=e,this.to=t}}function hO(i,e,t){let n=[],r=i,s=0;return he.spans(t,i,e,{span(){},point(o,a){o>r&&(n.push({from:r,to:o}),s+=o-r),r=a}},20),r<e&&(n.push({from:r,to:e}),s+=e-r),{total:s,ranges:n}}function vr({total:i,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let n=Math.floor(i*t);for(let r=0;;r++){let{from:s,to:o}=e[r],a=o-s;if(n<=a)return s+n;n-=a}}function kr(i,e){let t=0;for(let{from:n,to:r}of i.ranges){if(e<=r){t+=e-n;break}t+=r-n}return t/i.total}function uO(i,e){for(let t of i)if(e(t))return t}const qc={toDOM(i){return i},fromDOM(i){return i},scale:1};class pO{constructor(e,t,n){let r=0,s=0,o=0;this.viewports=n.map(({from:a,to:h})=>{let p=t.lineAt(a,ge.ByPos,e,0,0).top,f=t.lineAt(h,ge.ByPos,e,0,0).bottom;return r+=f-p,{from:a,to:h,top:p,bottom:f,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let t=0,n=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return r+(e-n)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);n=s.bottom,r=s.domBottom}}fromDOM(e){for(let t=0,n=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return n+(e-r)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);n=s.bottom,r=s.domBottom}}}function Ri(i,e){if(e.scale==1)return i;let t=e.toDOM(i.top),n=e.toDOM(i.bottom);return new en(i.from,i.length,t,n-t,Array.isArray(i.type)?i.type.map(r=>Ri(r,e)):i.type)}const wr=q.define({combine:i=>i.join(" ")}),ma=q.define({combine:i=>i.indexOf(!0)>-1}),ga=vn.newName(),hp=vn.newName(),up=vn.newName(),pp={"&light":"."+hp,"&dark":"."+up};function Oa(i,e,t){return new vn(e,{finish(n){return/&/.test(n)?n.replace(/&\w*/,r=>{if(r=="&")return i;if(!t||!t[r])throw new RangeError(`Unsupported selector: ${r}`);return t[r]}):i+" "+n}})}const dO=Oa("."+ga,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},pp);class fO{constructor(e,t,n,r){this.typeOver=r,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,n,0))){let a=s||o?[]:gO(e),h=new Gu(a,e.state);h.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=h.text,this.newSel=OO(a,this.bounds.from)}else{let a=e.observer.selectionRange,h=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!ai(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),p=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!ai(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset);this.newSel=R.single(p,h)}}}function dp(i,e){let t,{newSel:n}=e,r=i.state.selection.main;if(e.bounds){let{from:s,to:o}=e.bounds,a=r.from,h=null;(i.inputState.lastKeyCode===8&&i.inputState.lastKeyTime>Date.now()-100||N.android&&e.text.length<o-s)&&(a=r.to,h="end");let p=mO(i.state.doc.sliceString(s,o,fn),e.text,a-s,h);p&&(N.chrome&&i.inputState.lastKeyCode==13&&p.toB==p.from+2&&e.text.slice(p.from,p.toB)==fn+fn&&p.toB--,t={from:s+p.from,to:s+p.toA,insert:oe.of(e.text.slice(p.from,p.toB).split(fn))})}else n&&(!i.hasFocus&&i.state.facet(Is)||n.main.eq(r))&&(n=null);if(!t&&!n)return!1;if(!t&&e.typeOver&&!r.empty&&n&&n.main.empty?t={from:r.from,to:r.to,insert:i.state.doc.slice(r.from,r.to)}:t&&t.from>=r.from&&t.to<=r.to&&(t.from!=r.from||t.to!=r.to)&&r.to-r.from-(t.to-t.from)<=4?t={from:r.from,to:r.to,insert:i.state.doc.slice(r.from,t.from).append(t.insert).append(i.state.doc.slice(t.to,r.to))}:(N.mac||N.android)&&t&&t.from==t.to&&t.from==r.head-1&&/^\. ?$/.test(t.insert.toString())&&i.contentDOM.getAttribute("autocorrect")=="off"?(n&&t.insert.length==2&&(n=R.single(n.main.anchor-1,n.main.head-1)),t={from:r.from,to:r.to,insert:oe.of([" "])}):N.chrome&&t&&t.from==t.to&&t.from==r.head&&t.insert.toString()==`
 `&&i.lineWrapping&&(n&&(n=R.single(n.main.anchor-1,n.main.head-1)),t={from:r.from,to:r.to,insert:oe.of([" "])}),t){let s=i.state;if(N.ios&&i.inputState.flushIOSKey(i)||N.android&&(t.from==r.from&&t.to==r.to&&t.insert.length==1&&t.insert.lines==2&&ti(i.contentDOM,"Enter",13)||t.from==r.from-1&&t.to==r.to&&t.insert.length==0&&ti(i.contentDOM,"Backspace",8)||t.from==r.from&&t.to==r.to+1&&t.insert.length==0&&ti(i.contentDOM,"Delete",46)))return!0;let o=t.insert.toString();if(i.state.facet(Wu).some(p=>p(i,t.from,t.to,o)))return!0;i.inputState.composing>=0&&i.inputState.composing++;let a;if(t.from>=r.from&&t.to<=r.to&&t.to-t.from>=(r.to-r.from)/3&&(!n||n.main.empty&&n.main.from==t.from+t.insert.length)&&i.inputState.composing<0){let p=r.from<t.from?s.sliceDoc(r.from,t.from):"",f=r.to>t.to?s.sliceDoc(t.to,r.to):"";a=s.replaceSelection(i.state.toText(p+t.insert.sliceString(0,void 0,i.state.lineBreak)+f))}else{let p=s.changes(t),f=n&&n.main.to<=p.newLength?n.main:void 0;if(s.selection.ranges.length>1&&i.inputState.composing>=0&&t.to<=r.to&&t.to>=r.to-10){let g=i.state.sliceDoc(t.from,t.to),b=Hu(i)||i.state.doc.lineAt(r.head),k=r.to-t.to,S=r.to-r.from;a=s.changeByRange(T=>{if(T.from==r.from&&T.to==r.to)return{changes:p,range:f||T.map(p)};let A=T.to-k,D=A-g.length;if(T.to-T.from!=S||i.state.sliceDoc(D,A)!=g||b&&T.to>=b.from&&T.from<=b.to)return{range:T};let B=s.changes({from:D,to:A,insert:t.insert}),I=T.to-r.to;return{changes:B,range:f?R.range(Math.max(0,f.anchor+I),Math.max(0,f.head+I)):T.map(B)}})}else a={changes:p,selection:f&&s.selection.replaceRange(f)}}let h="input.type";return(i.composing||i.inputState.compositionPendingChange&&i.inputState.compositionEndedAt>Date.now()-50)&&(i.inputState.compositionPendingChange=!1,h+=".compose",i.inputState.compositionFirstChange&&(h+=".start",i.inputState.compositionFirstChange=!1)),i.dispatch(a,{scrollIntoView:!0,userEvent:h}),!0}else if(n&&!n.main.eq(r)){let s=!1,o="select";return i.inputState.lastSelectionTime>Date.now()-50&&(i.inputState.lastSelectionOrigin=="select"&&(s=!0),o=i.inputState.lastSelectionOrigin),i.dispatch({selection:n,scrollIntoView:s,userEvent:o}),!0}else return!1}function mO(i,e,t,n){let r=Math.min(i.length,e.length),s=0;for(;s<r&&i.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==r&&i.length==e.length)return null;let o=i.length,a=e.length;for(;o>0&&a>0&&i.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(n=="end"){let h=Math.max(0,s-Math.min(o,a));t-=o+h-s}if(o<s&&i.length<e.length){let h=t<=s&&t>=o?s-t:0;s-=h,a=s+(a-o),o=s}else if(a<s){let h=t<=s&&t>=a?s-t:0;s-=h,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function gO(i){let e=[];if(i.root.activeElement!=i.contentDOM)return e;let{anchorNode:t,anchorOffset:n,focusNode:r,focusOffset:s}=i.observer.selectionRange;return t&&(e.push(new Cc(t,n)),(r!=t||s!=n)&&e.push(new Cc(r,s))),e}function OO(i,e){if(i.length==0)return null;let t=i[0].pos,n=i.length==2?i[1].pos:t;return t>-1&&n>-1?R.single(t+e,n+e):null}const yO={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},ko=N.ie&&N.ie_version<=11;class bO{constructor(e){this.view=e,this.active=!1,this.selectionRange=new pg,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let n of t)this.queue.push(n);(N.ie&&N.ie_version<=11||N.ios&&e.composing)&&t.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),ko&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,n)=>t!=e[n]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,r=this.selectionRange;if(n.state.facet(Is)?n.root.activeElement!=this.dom:!Zr(n.dom,r))return;let s=r.anchorNode&&n.docView.nearest(r.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(N.ie&&N.ie_version<=11||N.android&&N.chrome)&&!n.state.selection.main.empty&&r.focusNode&&_r(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=N.safari&&e.root.nodeType==11&&lg(this.dom.ownerDocument)==this.dom&&vO(this.view)||Yr(e.root);if(!t||this.selectionRange.eq(t))return!1;let n=Zr(this.dom,t);return n&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&fg(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),n&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(n.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=t)n.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,yO),ko&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),ko&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var n;if(!this.delayedAndroidKey){let r=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),!this.flush()&&s.force&&ti(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,n=-1,r=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(r=!0),t==-1?{from:t,to:n}=o:(t=Math.min(o.from,t),n=Math.max(o.to,n)))}return{from:t,to:n,typeOver:r}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),r=this.selectionChanged&&Zr(this.dom,this.selectionRange);return e<0&&!r?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new fO(this.view,e,t,n))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return!1;let n=this.view.state,r=dp(this.view,t);return this.view.state==n&&this.view.update([]),r}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.dirty|=4),e.type=="childList"){let n=Yc(t,e.previousSibling||e.target.previousSibling,-1),r=Yc(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect(),(r=this.resizeContent)===null||r===void 0||r.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function Yc(i,e,t){for(;e;){let n=fe.get(e);if(n&&n.parent==i)return n;let r=e.parentNode;e=r!=i.dom?r:t>0?e.nextSibling:e.previousSibling}return null}function vO(i){let e=null;function t(h){h.preventDefault(),h.stopImmediatePropagation(),e=h.getTargetRanges()[0]}if(i.contentDOM.addEventListener("beforeinput",t,!0),i.dom.ownerDocument.execCommand("indent"),i.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let n=e.startContainer,r=e.startOffset,s=e.endContainer,o=e.endOffset,a=i.docView.domAtPos(i.state.selection.main.anchor);return _r(a.node,a.offset,s,o)&&([n,r,s,o]=[s,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:o}}class W{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this._root=e.root||dg(e.parent)||document,this.viewState=new Vc(e.state||ae.create(e)),this.plugins=this.state.facet(Ti).map(t=>new Oo(t));for(let t of this.plugins)t.update(this);this.observer=new bO(this),this.inputState=new Ng(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new $c(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...e){this._dispatch(e.length==1&&e[0]instanceof Ue?e[0]:this.state.update(...e))}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,n=!1,r,s=this.state;for(let b of e){if(b.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=b.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,h=null;e.some(b=>b.annotation(op))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,h=ap(s,o),h||(a=1));let p=this.observer.delayedAndroidKey,f=null;if(p?(this.observer.clearDelayedAndroidKey(),f=this.observer.readChange(),(f&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(f=null)):this.observer.clear(),s.facet(ae.phrases)!=this.state.facet(ae.phrases))return this.setState(s);r=Hr.create(this,s,e),r.flags|=a;let g=this.viewState.scrollTarget;try{this.updateState=2;for(let b of e){if(g&&(g=g.map(b.changes)),b.scrollIntoView){let{main:k}=b.state.selection;g=new Gr(k.empty?k:R.cursor(k.head,k.head>k.anchor?-1:1))}for(let k of b.effects)k.is(Pc)&&(g=k.value)}this.viewState.update(r,g),this.bidiCache=Kr.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),t=this.docView.update(r),this.state.facet(Mi)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(b=>b.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(wr)!=r.state.facet(wr)&&(this.viewState.mustMeasureContent=!0),(t||n||g||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!r.empty)for(let b of this.state.facet(ca))b(r);(h||f)&&Promise.resolve().then(()=>{h&&this.state==h.startState&&this.dispatch(h),f&&!dp(this,f)&&p.force&&ti(this.contentDOM,p.key,p.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new Vc(e),this.plugins=e.facet(Ti).map(n=>new Oo(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView=new $c(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Ti),n=e.state.facet(Ti);if(t!=n){let r=[];for(let s of n){let o=t.indexOf(s);if(o<0)r.push(new Oo(s));else{let a=this.plugins[o];a.mustUpdate=e,r.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=r,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,{scrollHeight:n,scrollTop:r,clientHeight:s}=this.scrollDOM,o=r>n-s-4?n:r;try{for(let a=0;;a++){this.updateState=1;let h=this.viewport,p=this.viewState.lineBlockAtHeight(o),f=this.viewState.measure(this);if(!f&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let g=[];f&4||([this.measureRequests,g]=[g,this.measureRequests]);let b=g.map(A=>{try{return A.read(this)}catch(D){return Ot(this.state,D),_c}}),k=Hr.create(this,this.state,[]),S=!1,T=!1;k.flags|=f,t?t.flags|=f:t=k,this.updateState=2,k.empty||(this.updatePlugins(k),this.inputState.update(k),this.updateAttrs(),S=this.docView.update(k));for(let A=0;A<g.length;A++)if(b[A]!=_c)try{let D=g[A];D.write&&D.write(b[A],this)}catch(D){Ot(this.state,D)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,T=!0;else{let A=this.viewState.lineBlockAt(p.from).top-p.top;(A>1||A<-1)&&(this.scrollDOM.scrollTop+=A,T=!0)}if(S&&this.docView.updateSelection(!0),this.viewport.from==h.from&&this.viewport.to==h.to&&!T&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(ca))a(t)}get themeClasses(){return ga+" "+(this.state.facet(ma)?up:hp)+" "+this.state.facet(wr)}updateAttrs(){let e=zc(this,Fu,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Is)?"true":"false",class:"cm-content",style:`${N.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),zc(this,_a,t);let n=this.observer.ignore(()=>{let r=aa(this.contentDOM,this.contentAttrs,t),s=aa(this.dom,this.editorAttrs,e);return r||s});return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let r of n.effects)if(r.is(W.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(Mi),vn.mount(this.root,this.styleModules.concat(dO).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(n=>n.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return bo(this,e,Dc(this,e,t,n))}moveByGroup(e,t){return bo(this,e,Dc(this,e,t,n=>Eg(this,e.head,n)))}moveToLineBoundary(e,t,n=!0){return Xg(this,e,t,n)}moveVertically(e,t,n){return bo(this,e,Wg(this,e,t,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Ju(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let r=this.state.doc.lineAt(e),s=this.bidiSpans(r),o=s[ni.find(s,e-r.from,-1,t)];return Fa(n,o.dir==we.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Iu)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>kO)return _u(e.length);let t=this.textDirectionAt(e.from);for(let r of this.bidiCache)if(r.from==e.from&&r.dir==t)return r.order;let n=Pg(e.text,t);return this.bidiCache.push(new Kr(e.from,e.to,t,n)),n}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||N.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{wu(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Pc.of(new Gr(typeof e=="number"?R.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return Xe.define(()=>({}),{eventHandlers:e})}static theme(e,t){let n=vn.newName(),r=[wr.of(n),Mi.of(Oa(`.${n}`,e))];return t&&t.dark&&r.push(ma.of(!0)),r}static baseTheme(e){return Yt.lowest(Mi.of(Oa("."+ga,e,pp)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),r=n&&fe.get(n)||fe.get(e);return((t=r?.rootView)===null||t===void 0?void 0:t.view)||null}}W.styleModule=Mi;W.inputHandler=Wu;W.focusChangeEffect=Nu;W.perLineTextDirection=Iu;W.exceptionSink=Eu;W.updateListener=ca;W.editable=Is;W.mouseSelectionStyle=Xu;W.dragMovesSelection=Lu;W.clickAddsSelectionRange=Bu;W.decorations=Vi;W.atomicRanges=Vu;W.scrollMargins=qu;W.darkTheme=ma;W.contentAttributes=_a;W.editorAttributes=Fu;W.lineWrapping=W.contentAttributes.of({class:"cm-lineWrapping"});W.announce=G.define();const kO=4096,_c={};class Kr{constructor(e,t,n,r){this.from=e,this.to=t,this.dir=n,this.order=r}static update(e,t){if(t.empty)return e;let n=[],r=e.length?e[e.length-1].dir:we.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==r&&!t.touchesRange(o.from,o.to)&&n.push(new Kr(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.order))}return n}}function zc(i,e,t){for(let n=i.state.facet(e),r=n.length-1;r>=0;r--){let s=n[r],o=typeof s=="function"?s(i):s;o&&oa(o,t)}return t}const wO=N.mac?"mac":N.windows?"win":N.linux?"linux":"key";function xO(i,e){const t=i.split(/-(?!$)/);let n=t[t.length-1];n=="Space"&&(n=" ");let r,s,o,a;for(let h=0;h<t.length-1;++h){const p=t[h];if(/^(cmd|meta|m)$/i.test(p))a=!0;else if(/^a(lt)?$/i.test(p))r=!0;else if(/^(c|ctrl|control)$/i.test(p))s=!0;else if(/^s(hift)?$/i.test(p))o=!0;else if(/^mod$/i.test(p))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+p)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),a&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function xr(i,e,t){return e.altKey&&(i="Alt-"+i),e.ctrlKey&&(i="Ctrl-"+i),e.metaKey&&(i="Meta-"+i),t!==!1&&e.shiftKey&&(i="Shift-"+i),i}const SO=Yt.default(W.domEventHandlers({keydown(i,e){return mp(fp(e.state),i,e,"editor")}})),wn=q.define({enables:SO}),Gc=new WeakMap;function fp(i){let e=i.facet(wn),t=Gc.get(e);return t||Gc.set(e,t=CO(e.reduce((n,r)=>n.concat(r),[]))),t}function PO(i,e,t){return mp(fp(i.state),e,i,t)}let un=null;const QO=4e3;function CO(i,e=wO){let t=Object.create(null),n=Object.create(null),r=(o,a)=>{let h=n[o];if(h==null)n[o]=a;else if(h!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,h,p)=>{var f,g;let b=t[o]||(t[o]=Object.create(null)),k=a.split(/ (?!$)/).map(A=>xO(A,e));for(let A=1;A<k.length;A++){let D=k.slice(0,A).join(" ");r(D,!0),b[D]||(b[D]={preventDefault:!0,run:[B=>{let I=un={view:B,prefix:D,scope:o};return setTimeout(()=>{un==I&&(un=null)},QO),!0}]})}let S=k.join(" ");r(S,!1);let T=b[S]||(b[S]={preventDefault:!1,run:((g=(f=b._any)===null||f===void 0?void 0:f.run)===null||g===void 0?void 0:g.slice())||[]});h&&T.run.push(h),p&&(T.preventDefault=!0)};for(let o of i){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let p of a){let f=t[p]||(t[p]=Object.create(null));f._any||(f._any={preventDefault:!1,run:[]});for(let g in f)f[g].run.push(o.any)}let h=o[e]||o.key;if(h)for(let p of a)s(p,h,o.run,o.preventDefault),o.shift&&s(p,"Shift-"+h,o.shift,o.preventDefault)}return t}function mp(i,e,t,n){let r=ag(e),s=_e(r,0),o=wt(s)==r.length&&r!=" ",a="",h=!1;un&&un.view==t&&un.scope==n&&(a=un.prefix+" ",(h=tp.indexOf(e.keyCode)<0)&&(un=null));let p=new Set,f=S=>{if(S){for(let T of S.run)if(!p.has(T)&&(p.add(T),T(t,e)))return!0;S.preventDefault&&(h=!0)}return!1},g=i[n],b,k;if(g){if(f(g[a+xr(r,e,!o)]))return!0;if(o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(N.windows&&e.ctrlKey&&e.altKey)&&(b=kn[e.keyCode])&&b!=r){if(f(g[a+xr(b,e,!0)]))return!0;if(e.shiftKey&&(k=Ni[e.keyCode])!=r&&k!=b&&f(g[a+xr(k,e,!1)]))return!0}else if(o&&e.shiftKey&&f(g[a+xr(r,e,!0)]))return!0;if(f(g._any))return!0}return h}const $O=!N.ios,AO={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};$O&&(AO[".cm-line"].caretColor="transparent !important");function TO(){return RO}const MO=z.line({class:"cm-activeLine"}),RO=Xe.fromClass(class{constructor(i){this.decorations=this.getDeco(i)}update(i){(i.docChanged||i.selectionSet)&&(this.decorations=this.getDeco(i.view))}getDeco(i){let e=-1,t=[];for(let n of i.state.selection.ranges){let r=i.lineBlockAt(n.head);r.from>e&&(t.push(MO.range(r.from)),e=r.from)}return z.set(t)}},{decorations:i=>i.decorations}),Sr="-10000px";class gp{constructor(e,t,n){this.facet=t,this.createTooltipView=n,this.input=e.state.facet(t),this.tooltips=this.input.filter(r=>r),this.tooltipViews=this.tooltips.map(n)}update(e){var t;let n=e.state.facet(this.facet),r=n.filter(o=>o);if(n===this.input){for(let o of this.tooltipViews)o.update&&o.update(e);return!1}let s=[];for(let o=0;o<r.length;o++){let a=r[o],h=-1;if(a){for(let p=0;p<this.tooltips.length;p++){let f=this.tooltips[p];f&&f.create==a.create&&(h=p)}if(h<0)s[o]=this.createTooltipView(a);else{let p=s[o]=this.tooltipViews[h];p.update&&p.update(e)}}}for(let o of this.tooltipViews)s.indexOf(o)<0&&(o.dom.remove(),(t=o.destroy)===null||t===void 0||t.call(o));return this.input=n,this.tooltips=r,this.tooltipViews=s,!0}}function jO(i){let{win:e}=i;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const wo=q.define({combine:i=>{var e,t,n;return{position:N.ios?"absolute":((e=i.find(r=>r.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=i.find(r=>r.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((n=i.find(r=>r.tooltipSpace))===null||n===void 0?void 0:n.tooltipSpace)||jO}}}),Hc=new WeakMap,Op=Xe.fromClass(class{constructor(i){this.view=i,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let e=i.state.facet(wo);this.position=e.position,this.parent=e.parent,this.classes=i.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new gp(i,Ga,t=>this.createTooltip(t)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),i.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let i of this.manager.tooltipViews)this.intersectionObserver.observe(i.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(i){i.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(i);e&&this.observeIntersection();let t=e||i.geometryChanged,n=i.state.facet(wo);if(n.position!=this.position){this.position=n.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;t=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(i){let e=i.create(this.view);if(e.dom.classList.add("cm-tooltip"),i.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=Sr,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var i,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),(i=t.destroy)===null||i===void 0||i.call(t);(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let i=this.view.dom.getBoundingClientRect();return{editor:i,parent:this.parent?this.container.getBoundingClientRect():i,pos:this.manager.tooltips.map((e,t)=>{let n=this.manager.tooltipViews[t];return n.getCoords?n.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(wo).tooltipSpace(this.view)}}writeMeasure(i){var e;let{editor:t,space:n}=i,r=[];for(let s=0;s<this.manager.tooltips.length;s++){let o=this.manager.tooltips[s],a=this.manager.tooltipViews[s],{dom:h}=a,p=i.pos[s],f=i.size[s];if(!p||p.bottom<=Math.max(t.top,n.top)||p.top>=Math.min(t.bottom,n.bottom)||p.right<Math.max(t.left,n.left)-.1||p.left>Math.min(t.right,n.right)+.1){h.style.top=Sr;continue}let g=o.arrow?a.dom.querySelector(".cm-tooltip-arrow"):null,b=g?7:0,k=f.right-f.left,S=(e=Hc.get(a))!==null&&e!==void 0?e:f.bottom-f.top,T=a.offset||UO,A=this.view.textDirection==we.LTR,D=f.width>n.right-n.left?A?n.left:n.right-f.width:A?Math.min(p.left-(g?14:0)+T.x,n.right-k):Math.max(n.left,p.left-k+(g?14:0)-T.x),B=!!o.above;!o.strictSide&&(B?p.top-(f.bottom-f.top)-T.y<n.top:p.bottom+(f.bottom-f.top)+T.y>n.bottom)&&B==n.bottom-p.bottom>p.top-n.top&&(B=!B);let I=(B?p.top-n.top:n.bottom-p.bottom)-b;if(I<S&&a.resize!==!1){if(I<this.view.defaultLineHeight){h.style.top=Sr;continue}Hc.set(a,S),h.style.height=(S=I)+"px"}else h.style.height&&(h.style.height="");let L=B?p.top-S-b-T.y:p.bottom+b+T.y,F=D+k;if(a.overlap!==!0)for(let V of r)V.left<F&&V.right>D&&V.top<L+S&&V.bottom>L&&(L=B?V.top-S-2-b:V.bottom+b+2);this.position=="absolute"?(h.style.top=L-i.parent.top+"px",h.style.left=D-i.parent.left+"px"):(h.style.top=L+"px",h.style.left=D+"px"),g&&(g.style.left=`${p.left+(A?T.x:-T.x)-(D+14-7)}px`),a.overlap!==!0&&r.push({left:D,top:L,right:F,bottom:L+S}),h.classList.toggle("cm-tooltip-above",B),h.classList.toggle("cm-tooltip-below",!B),a.positioned&&a.positioned(i.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let i of this.manager.tooltipViews)i.dom.style.top=Sr}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),DO=W.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),UO={x:0,y:0},Ga=q.define({enables:[Op,DO]}),Jr=q.define();class Ha{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new gp(e,Jr,t=>this.createHostedView(t))}static create(e){return new Ha(e)}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}}const ZO=Ga.compute([Jr],i=>{let e=i.facet(Jr).filter(t=>t);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.filter(t=>t.end!=null).map(t=>t.end)),create:Ha.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class BO{constructor(e,t,n,r,s){this.view=e,this.source=t,this.field=n,this.setHover=r,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,t=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(t==null)return;let n=this.view.coordsAtPos(t);if(n==null||e.y<n.top||e.y>n.bottom||e.x<n.left-this.view.defaultCharacterWidth||e.x>n.right+this.view.defaultCharacterWidth)return;let r=this.view.bidiSpans(this.view.state.doc.lineAt(t)).find(a=>a.from<=t&&a.to>=t),s=r&&r.dir==we.RTL?-1:1,o=this.source(this.view,t,e.x<n.left?-s:s);if(o?.then){let a=this.pending={pos:t};o.then(h=>{this.pending==a&&(this.pending=null,h&&this.view.dispatch({effects:this.setHover.of(h)}))},h=>Ot(this.view.state,h,"hover tooltip"))}else o&&this.view.dispatch({effects:this.setHover.of(o)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let n=this.active;if(n&&!Kc(this.lastMove.target)||this.pending){let{pos:r}=n||this.pending,s=(t=n?.end)!==null&&t!==void 0?t:r;(r==s?this.view.posAtCoords(this.lastMove)!=r:!LO(this.view,r,s,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!Kc(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function Kc(i){for(let e=i;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function LO(i,e,t,n,r,s){let o=document.createRange(),a=i.domAtPos(e),h=i.domAtPos(t);o.setEnd(h.node,h.offset),o.setStart(a.node,a.offset);let p=o.getClientRects();o.detach();for(let f=0;f<p.length;f++){let g=p[f];if(Math.max(g.top-r,r-g.bottom,g.left-n,n-g.right)<=s)return!0}return!1}function yp(i,e={}){let t=G.define(),n=Pe.define({create(){return null},update(r,s){if(r&&(e.hideOnChange&&(s.docChanged||s.selection)||e.hideOn&&e.hideOn(s,r)))return null;if(r&&s.docChanged){let o=s.changes.mapPos(r.pos,-1,Qe.TrackDel);if(o==null)return null;let a=Object.assign(Object.create(null),r);a.pos=o,r.end!=null&&(a.end=s.changes.mapPos(r.end)),r=a}for(let o of s.effects)o.is(t)&&(r=o.value),o.is(XO)&&(r=null);return r},provide:r=>Jr.from(r)});return[n,Xe.define(r=>new BO(r,i,n,t,e.hoverTime||300)),ZO]}function bp(i,e){let t=i.plugin(Op);if(!t)return null;let n=t.manager.tooltips.indexOf(e);return n<0?null:t.manager.tooltipViews[n]}const XO=G.define(),Jc=q.define({combine(i){let e,t;for(let n of i)e=e||n.topContainer,t=t||n.bottomContainer;return{topContainer:e,bottomContainer:t}}});function qi(i,e){let t=i.plugin(vp),n=t?t.specs.indexOf(e):-1;return n>-1?t.panels[n]:null}const vp=Xe.fromClass(class{constructor(i){this.input=i.state.facet(xn),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(i));let e=i.state.facet(Jc);this.top=new Pr(i,!0,e.topContainer),this.bottom=new Pr(i,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(i){let e=i.state.facet(Jc);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Pr(i.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Pr(i.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=i.state.facet(xn);if(t!=this.input){let n=t.filter(h=>h),r=[],s=[],o=[],a=[];for(let h of n){let p=this.specs.indexOf(h),f;p<0?(f=h(i.view),a.push(f)):(f=this.panels[p],f.update&&f.update(i)),r.push(f),(f.top?s:o).push(f)}this.specs=n,this.panels=r,this.top.sync(s),this.bottom.sync(o);for(let h of a)h.dom.classList.add("cm-panel"),h.mount&&h.mount()}else for(let n of this.panels)n.update&&n.update(i)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:i=>W.scrollMargins.of(e=>{let t=e.plugin(i);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Pr{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=eh(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=eh(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function eh(i){let e=i.nextSibling;return i.remove(),e}const xn=q.define({enables:vp});class Sn extends Ln{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Sn.prototype.elementClass="";Sn.prototype.toDOM=void 0;Sn.prototype.mapMode=Qe.TrackBefore;Sn.prototype.startSide=Sn.prototype.endSide=-1;Sn.prototype.point=!0;const Lr=q.define(),Xr=q.define(),ya=q.define({combine:i=>i.some(e=>e)});function EO(i){let e=[WO];return i&&i.fixed===!1&&e.push(ya.of(!0)),e}const WO=Xe.fromClass(class{constructor(i){this.view=i,this.prevViewport=i.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=i.state.facet(Xr).map(e=>new nh(i,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!i.state.facet(ya),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),i.scrollDOM.insertBefore(this.dom,i.contentDOM)}update(i){if(this.updateGutters(i)){let e=this.prevViewport,t=i.view.viewport,n=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(n<(t.to-t.from)*.8)}i.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(ya)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=i.view.viewport}syncGutters(i){let e=this.dom.nextSibling;i&&this.dom.remove();let t=he.iter(this.view.state.facet(Lr),this.view.viewport.from),n=[],r=this.gutters.map(s=>new NO(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks){let o;if(Array.isArray(s.type)){for(let a of s.type)if(a.type==ke.Text){o=a;break}}else o=s.type==ke.Text?s:void 0;if(o){n.length&&(n=[]),kp(t,n,s.from);for(let a of r)a.line(this.view,o,n)}}for(let s of r)s.finish();i&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(i){let e=i.startState.facet(Xr),t=i.state.facet(Xr),n=i.docChanged||i.heightChanged||i.viewportChanged||!he.eq(i.startState.facet(Lr),i.state.facet(Lr),i.view.viewport.from,i.view.viewport.to);if(e==t)for(let r of this.gutters)r.update(i)&&(n=!0);else{n=!0;let r=[];for(let s of t){let o=e.indexOf(s);o<0?r.push(new nh(this.view,s)):(this.gutters[o].update(i),r.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),r.indexOf(s)<0&&s.destroy();for(let s of r)this.dom.appendChild(s.dom);this.gutters=r}return n}destroy(){for(let i of this.gutters)i.destroy();this.dom.remove()}},{provide:i=>W.scrollMargins.of(e=>{let t=e.plugin(i);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==we.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}})});function th(i){return Array.isArray(i)?i:[i]}function kp(i,e,t){for(;i.value&&i.from<=t;)i.from==t&&e.push(i.value),i.next()}class NO{constructor(e,t,n){this.gutter=e,this.height=n,this.i=0,this.cursor=he.iter(e.markers,t.from)}line(e,t,n){let r=[];kp(this.cursor,r,t.from),n.length&&(r=r.concat(n));let s=this.gutter.config.lineMarker(e,t,r);s&&r.unshift(s);let o=this.gutter;if(r.length==0&&!o.config.renderEmptyElements)return;let a=t.top-this.height;if(this.i==o.elements.length){let h=new wp(e,t.height,a,r);o.elements.push(h),o.dom.appendChild(h.dom)}else o.elements[this.i].update(e,t.height,a,r);this.height=t.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class nh{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,r=>{let s=r.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let h=s.getBoundingClientRect();o=(h.top+h.bottom)/2}else o=r.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[n](e,a,r)&&r.preventDefault()});this.markers=th(t.markers(e)),t.initialSpacer&&(this.spacer=new wp(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=th(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}let n=e.view.viewport;return!he.eq(this.markers,t,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class wp{constructor(e,t,n,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,r)}update(e,t,n,r){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),IO(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let n="cm-gutterElement",r=this.dom.firstChild;for(let s=0,o=0;;){let a=o,h=s<t.length?t[s++]:null,p=!1;if(h){let f=h.elementClass;f&&(n+=" "+f);for(let g=o;g<this.markers.length;g++)if(this.markers[g].compare(h)){a=g,p=!0;break}}else a=this.markers.length;for(;o<a;){let f=this.markers[o++];if(f.toDOM){f.destroy(r);let g=r.nextSibling;r.remove(),r=g}}if(!h)break;h.toDOM&&(p?r=r.nextSibling:this.dom.insertBefore(h.toDOM(e),r)),p&&o++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}function IO(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++)if(!i[t].compare(e[t]))return!1;return!0}const FO=q.define(),_n=q.define({combine(i){return gi(i,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let r in t){let s=n[r],o=t[r];n[r]=s?(a,h,p)=>s(a,h,p)||o(a,h,p):o}return n}})}});class xo extends Sn{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function So(i,e){return i.state.facet(_n).formatNumber(e,i.state)}const VO=Xr.compute([_n],i=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(FO)},lineMarker(e,t,n){return n.some(r=>r.toDOM)?null:new xo(So(e,e.state.doc.lineAt(t.from).number))},lineMarkerChange:e=>e.startState.facet(_n)!=e.state.facet(_n),initialSpacer(e){return new xo(So(e,ih(e.state.doc.lines)))},updateSpacer(e,t){let n=So(t.view,ih(t.view.state.doc.lines));return n==e.number?e:new xo(n)},domEventHandlers:i.facet(_n).domEventHandlers}));function qO(i={}){return[_n.of(i),EO(),VO]}function ih(i){let e=9;for(;e<i;)e=e*10+9;return e}const YO=new class extends Sn{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},_O=Lr.compute(["selection"],i=>{let e=[],t=-1;for(let n of i.selection.ranges){let r=i.doc.lineAt(n.head).from;r>t&&(t=r,e.push(YO.range(r)))}return he.of(e)});function zO(){return _O}const xp=1024;let GO=0;class Po{constructor(e,t){this.from=e,this.to=t}}class K{constructor(e={}){this.id=GO++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=ct.match(e)),t=>{let n=e(t);return n===void 0?null:[this,n]}}}K.closedBy=new K({deserialize:i=>i.split(" ")});K.openedBy=new K({deserialize:i=>i.split(" ")});K.group=new K({deserialize:i=>i.split(" ")});K.contextHash=new K({perNode:!0});K.lookAhead=new K({perNode:!0});K.mounted=new K({perNode:!0});const HO=Object.create(null);class ct{constructor(e,t,n,r=0){this.name=e,this.props=t,this.id=n,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):HO,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new ct(e.name||"",t,e.id,n);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(r)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(K.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let r of n.split(" "))t[r]=e[n];return n=>{for(let r=n.prop(K.group),s=-1;s<(r?r.length:0);s++){let o=t[s<0?n.name:r[s]];if(o)return o}}}}ct.none=new ct("",Object.create(null),0,8);class Ka{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let r=null;for(let s of e){let o=s(n);o&&(r||(r=Object.assign({},n.props)),r[o[0].id]=o[1])}t.push(r?new ct(n.name,r,n.id,n.flags):n)}return new Ka(t)}}const Qr=new WeakMap,rh=new WeakMap;var Le;(function(i){i[i.ExcludeBuffers=1]="ExcludeBuffers",i[i.IncludeAnonymous=2]="IncludeAnonymous",i[i.IgnoreMounts=4]="IgnoreMounts",i[i.IgnoreOverlays=8]="IgnoreOverlays"})(Le||(Le={}));class Ae{constructor(e,t,n,r,s){if(this.type=e,this.children=t,this.positions=n,this.length=r,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=this.prop(K.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let n of this.children){let r=n.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new ns(this.topNode,e)}cursorAt(e,t=0,n=0){let r=Qr.get(this)||this.topNode,s=new ns(r);return s.moveTo(e,t),Qr.set(this,s._tree),s}get topNode(){return new Mt(this,0,0,null)}resolve(e,t=0){let n=hi(Qr.get(this)||this.topNode,e,t,!1);return Qr.set(this,n),n}resolveInner(e,t=0){let n=hi(rh.get(this)||this.topNode,e,t,!0);return rh.set(this,n),n}iterate(e){let{enter:t,leave:n,from:r=0,to:s=this.length}=e;for(let o=this.cursor((e.mode||0)|Le.IncludeAnonymous);;){let a=!1;if(o.from<=s&&o.to>=r&&(o.type.isAnonymous||t(o)!==!1)){if(o.firstChild())continue;a=!0}for(;a&&n&&!o.type.isAnonymous&&n(o),!o.nextSibling();){if(!o.parent())return;a=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:tl(ct.none,this.children,this.positions,0,this.children.length,0,this.length,(t,n,r)=>new Ae(this.type,t,n,r,this.propValues),e.makeTree||((t,n,r)=>new Ae(ct.none,t,n,r)))}static build(e){return JO(e)}}Ae.empty=new Ae(ct.none,[],[],0);class Ja{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Ja(this.buffer,this.index)}}class Wn{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return ct.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],r=this.set.types[t],s=r.name;if(/\W/.test(s)&&!r.isError&&(s=JSON.stringify(s)),e+=4,n==e)return s;let o=[];for(;e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,n,r,s){let{buffer:o}=this,a=-1;for(let h=e;h!=t&&!(Sp(s,r,o[h+1],o[h+2])&&(a=h,n>0));h=o[h+3]);return a}slice(e,t,n){let r=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,h=0;a<t;){s[h++]=r[a++],s[h++]=r[a++]-n;let p=s[h++]=r[a++]-n;s[h++]=r[a++]-e,o=Math.max(o,p)}return new Wn(s,o,this.set)}}function Sp(i,e,t,n){switch(i){case-2:return t<e;case-1:return n>=e&&t<e;case 0:return t<e&&n>e;case 1:return t<=e&&n>e;case 2:return n>e;case 4:return!0}}function Pp(i,e){let t=i.childBefore(e);for(;t;){let n=t.lastChild;if(!n||n.to!=t.to)break;n.type.isError&&n.from==n.to?(i=t,t=n.prevSibling):t=n}return i}function hi(i,e,t,n){for(var r;i.from==i.to||(t<1?i.from>=e:i.from>e)||(t>-1?i.to<=e:i.to<e);){let o=!n&&i instanceof Mt&&i.index<0?null:i.parent;if(!o)return i;i=o}let s=n?0:Le.IgnoreOverlays;if(n)for(let o=i,a=o.parent;a;o=a,a=o.parent)o instanceof Mt&&o.index<0&&((r=a.enter(e,t,s))===null||r===void 0?void 0:r.from)!=o.from&&(i=a);for(;;){let o=i.enter(e,t,s);if(!o)return i;i=o}}class Mt{constructor(e,t,n,r){this._tree=e,this.from=t,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,r,s=0){for(let o=this;;){for(let{children:a,positions:h}=o._tree,p=t>0?a.length:-1;e!=p;e+=t){let f=a[e],g=h[e]+o.from;if(Sp(r,n,g,g+f.length)){if(f instanceof Wn){if(s&Le.ExcludeBuffers)continue;let b=f.findChild(0,f.buffer.length,t,n-g,r);if(b>-1)return new It(new KO(o,f,e,g),null,b)}else if(s&Le.IncludeAnonymous||!f.type.isAnonymous||el(f)){let b;if(!(s&Le.IgnoreMounts)&&f.props&&(b=f.prop(K.mounted))&&!b.overlay)return new Mt(b.tree,g,e,o);let k=new Mt(f,g,e,o);return s&Le.IncludeAnonymous||!k.type.isAnonymous?k:k.nextChild(t<0?f.children.length-1:0,t,n,r)}}}if(s&Le.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,n=0){let r;if(!(n&Le.IgnoreOverlays)&&(r=this._tree.prop(K.mounted))&&r.overlay){let s=e-this.from;for(let{from:o,to:a}of r.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Mt(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new ns(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return hi(this,e,t,!1)}resolveInner(e,t=0){return hi(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Pp(this,e)}getChild(e,t=null,n=null){let r=es(this,e,t,n);return r.length?r[0]:null}getChildren(e,t=null,n=null){return es(this,e,t,n)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return ts(this,e)}}function es(i,e,t,n){let r=i.cursor(),s=[];if(!r.firstChild())return s;if(t!=null){for(;!r.type.is(t);)if(!r.nextSibling())return s}for(;;){if(n!=null&&r.type.is(n))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return n==null?s:[]}}function ts(i,e,t=e.length-1){for(let n=i.parent;t>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[t]&&e[t]!=n.name)return!1;t--}}return!0}class KO{constructor(e,t,n,r){this.parent=e,this.buffer=t,this.index=n,this.start=r}}class It{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,n);return s<0?null:new It(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n=0){if(n&Le.ExcludeBuffers)return null;let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new It(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new It(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new It(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new ns(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,r=this.index+4,s=n.buffer[this.index+3];if(s>r){let o=n.buffer[this.index+1];e.push(n.slice(r,s,o)),t.push(0)}return new Ae(this.type,e,t,this.to-this.from)}resolve(e,t=0){return hi(this,e,t,!1)}resolveInner(e,t=0){return hi(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Pp(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,n=null){let r=es(this,e,t,n);return r.length?r[0]:null}getChildren(e,t=null,n=null){return es(this,e,t,n)}get node(){return this}matchContext(e){return ts(this,e)}}class ns{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Mt)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:n,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=n+r.buffer[e+1],this.to=n+r.buffer[e+2],!0}yield(e){return e?e instanceof Mt?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:r}=this.buffer,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,n);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?n&Le.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Le.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Le.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let r=n<0?0:this.stack[n]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{let r=t.buffer[this.index+3];if(r<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(r)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(r.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:n}=r)}else({index:t,_parent:n}=this._tree);for(;n;{index:t,_parent:n}=n)if(t>-1)for(let s=t+e,o=e<0?-1:n._tree.children.length;s!=o;s+=e){let a=n._tree.children[s];if(this.mode&Le.IncludeAnonymous||a instanceof Wn||!a.type.isAnonymous||el(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let r=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;t=o,n=s+1;break e}r=this.stack[--s]}for(let r=n;r<this.stack.length;r++)t=new It(this.buffer,t,this.stack[r]);return this.bufferNode=new It(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,r=!0}}}matchContext(e){if(!this.buffer)return ts(this.node,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let r=e.length-1,s=this.stack.length-1;r>=0;s--){if(s<0)return ts(this.node,e,r);let o=n[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}function el(i){return i.children.some(e=>e instanceof Wn||!e.type.isAnonymous||el(e))}function JO(i){var e;let{buffer:t,nodeSet:n,maxBufferLength:r=xp,reused:s=[],minRepeatType:o=n.types.length}=i,a=Array.isArray(t)?new Ja(t,t.length):t,h=n.types,p=0,f=0;function g(L,F,V,ee,Te){let{id:se,start:te,end:ue,size:Ze}=a,ht=f;for(;Ze<0;)if(a.next(),Ze==-1){let yt=s[se];V.push(yt),ee.push(te-L);return}else if(Ze==-3){p=se;return}else if(Ze==-4){f=se;return}else throw new RangeError(`Unrecognized record size: ${Ze}`);let rn=h[se],nt,Oe,zt=te-L;if(ue-te<=r&&(Oe=T(a.pos-F,Te))){let yt=new Uint16Array(Oe.size-Oe.skip),xe=a.pos-Oe.size,it=yt.length;for(;a.pos>xe;)it=A(Oe.start,yt,it);nt=new Wn(yt,ue-Oe.start,n),zt=Oe.start-L}else{let yt=a.pos-Ze;a.next();let xe=[],it=[],Qt=se>=o?se:-1,rt=0,Nn=ue;for(;a.pos>yt;)Qt>=0&&a.id==Qt&&a.size>=0?(a.end<=Nn-r&&(k(xe,it,te,rt,a.end,Nn,Qt,ht),rt=xe.length,Nn=a.end),a.next()):g(te,yt,xe,it,Qt);if(Qt>=0&&rt>0&&rt<xe.length&&k(xe,it,te,rt,te,Nn,Qt,ht),xe.reverse(),it.reverse(),Qt>-1&&rt>0){let bi=b(rn);nt=tl(rn,xe,it,0,xe.length,0,ue-te,bi,bi)}else nt=S(rn,xe,it,ue-te,ht-ue)}V.push(nt),ee.push(zt)}function b(L){return(F,V,ee)=>{let Te=0,se=F.length-1,te,ue;if(se>=0&&(te=F[se])instanceof Ae){if(!se&&te.type==L&&te.length==ee)return te;(ue=te.prop(K.lookAhead))&&(Te=V[se]+te.length+ue)}return S(L,F,V,ee,Te)}}function k(L,F,V,ee,Te,se,te,ue){let Ze=[],ht=[];for(;L.length>ee;)Ze.push(L.pop()),ht.push(F.pop()+V-Te);L.push(S(n.types[te],Ze,ht,se-Te,ue-se)),F.push(Te-V)}function S(L,F,V,ee,Te=0,se){if(p){let te=[K.contextHash,p];se=se?[te].concat(se):[te]}if(Te>25){let te=[K.lookAhead,Te];se=se?[te].concat(se):[te]}return new Ae(L,F,V,ee,se)}function T(L,F){let V=a.fork(),ee=0,Te=0,se=0,te=V.end-r,ue={size:0,start:0,skip:0};e:for(let Ze=V.pos-L;V.pos>Ze;){let ht=V.size;if(V.id==F&&ht>=0){ue.size=ee,ue.start=Te,ue.skip=se,se+=4,ee+=4,V.next();continue}let rn=V.pos-ht;if(ht<0||rn<Ze||V.start<te)break;let nt=V.id>=o?4:0,Oe=V.start;for(V.next();V.pos>rn;){if(V.size<0)if(V.size==-3)nt+=4;else break e;else V.id>=o&&(nt+=4);V.next()}Te=Oe,ee+=ht,se+=nt}return(F<0||ee==L)&&(ue.size=ee,ue.start=Te,ue.skip=se),ue.size>4?ue:void 0}function A(L,F,V){let{id:ee,start:Te,end:se,size:te}=a;if(a.next(),te>=0&&ee<o){let ue=V;if(te>4){let Ze=a.pos-(te-4);for(;a.pos>Ze;)V=A(L,F,V)}F[--V]=ue,F[--V]=se-L,F[--V]=Te-L,F[--V]=ee}else te==-3?p=ee:te==-4&&(f=ee);return V}let D=[],B=[];for(;a.pos>0;)g(i.start||0,i.bufferStart||0,D,B,-1);let I=(e=i.length)!==null&&e!==void 0?e:D.length?B[0]+D[0].length:0;return new Ae(h[i.topID],D.reverse(),B.reverse(),I)}const sh=new WeakMap;function Er(i,e){if(!i.isAnonymous||e instanceof Wn||e.type!=i)return 1;let t=sh.get(e);if(t==null){t=1;for(let n of e.children){if(n.type!=i||!(n instanceof Ae)){t=1;break}t+=Er(i,n)}sh.set(e,t)}return t}function tl(i,e,t,n,r,s,o,a,h){let p=0;for(let S=n;S<r;S++)p+=Er(i,e[S]);let f=Math.ceil(p*1.5/8),g=[],b=[];function k(S,T,A,D,B){for(let I=A;I<D;){let L=I,F=T[I],V=Er(i,S[I]);for(I++;I<D;I++){let ee=Er(i,S[I]);if(V+ee>=f)break;V+=ee}if(I==L+1){if(V>f){let ee=S[L];k(ee.children,ee.positions,0,ee.children.length,T[L]+B);continue}g.push(S[L])}else{let ee=T[I-1]+S[I-1].length-F;g.push(tl(i,S,T,L,I,F,ee,null,h))}b.push(F+B-s)}}return k(e,t,n,r,0),(a||h)(g,b,o)}class e0{constructor(){this.map=new WeakMap}setBuffer(e,t,n){let r=this.map.get(e);r||this.map.set(e,r=new Map),r.set(t,n)}getBuffer(e,t){let n=this.map.get(e);return n&&n.get(t)}set(e,t){e instanceof It?this.setBuffer(e.context.buffer,e.index,t):e instanceof Mt&&this.map.set(e.tree,t)}get(e){return e instanceof It?this.getBuffer(e.context.buffer,e.index):e instanceof Mt?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Zn{constructor(e,t,n,r,s=!1,o=!1){this.from=e,this.to=t,this.tree=n,this.offset=r,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],n=!1){let r=[new Zn(0,e.length,e,0,!1,n)];for(let s of t)s.to>e.length&&r.push(s);return r}static applyChanges(e,t,n=128){if(!t.length)return e;let r=[],s=1,o=e.length?e[0]:null;for(let a=0,h=0,p=0;;a++){let f=a<t.length?t[a]:null,g=f?f.fromA:1e9;if(g-h>=n)for(;o&&o.from<g;){let b=o;if(h>=b.from||g<=b.to||p){let k=Math.max(b.from,h)-p,S=Math.min(b.to,g)-p;b=k>=S?null:new Zn(k,S,b.tree,b.offset+p,a>0,!!f)}if(b&&r.push(b),o.to>g)break;o=s<e.length?e[s++]:null}if(!f)break;h=f.toA,p=f.toA-f.toB}return r}}class Qp{startParse(e,t,n){return typeof e=="string"&&(e=new t0(e)),n=n?n.length?n.map(r=>new Po(r.from,r.to)):[new Po(0,0)]:[new Po(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let r=this.startParse(e,t,n);for(;;){let s=r.advance();if(s)return s}}}class t0{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new K({perNode:!0});let n0=0;class Et{constructor(e,t,n){this.set=e,this.base=t,this.modified=n,this.id=n0++}static define(e){if(e?.base)throw new Error("Can not derive from a modified tag");let t=new Et([],null,[]);if(t.set.push(t),e)for(let n of e.set)t.set.push(n);return t}static defineModifier(){let e=new is;return t=>t.modified.indexOf(e)>-1?t:is.get(t.base||t,t.modified.concat(e).sort((n,r)=>n.id-r.id))}}let i0=0;class is{constructor(){this.instances=[],this.id=i0++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find(a=>a.base==e&&r0(t,a.modified));if(n)return n;let r=[],s=new Et(r,e,t);for(let a of t)a.instances.push(s);let o=s0(t);for(let a of e.set)if(!a.modified.length)for(let h of o)r.push(is.get(a,h));return s}}function r0(i,e){return i.length==e.length&&i.every((t,n)=>t==e[n])}function s0(i){let e=[[]];for(let t=0;t<i.length;t++)for(let n=0,r=e.length;n<r;n++)e.push(e[n].concat(i[t]));return e.sort((t,n)=>n.length-t.length)}function Cp(i){let e=Object.create(null);for(let t in i){let n=i[t];Array.isArray(n)||(n=[n]);for(let r of t.split(" "))if(r){let s=[],o=2,a=r;for(let g=0;;){if(a=="..."&&g>0&&g+3==r.length){o=1;break}let b=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!b)throw new RangeError("Invalid path: "+r);if(s.push(b[0]=="*"?"":b[0][0]=='"'?JSON.parse(b[0]):b[0]),g+=b[0].length,g==r.length)break;let k=r[g++];if(g==r.length&&k=="!"){o=0;break}if(k!="/")throw new RangeError("Invalid path: "+r);a=r.slice(g)}let h=s.length-1,p=s[h];if(!p)throw new RangeError("Invalid path: "+r);let f=new rs(n,o,h>0?s.slice(0,h):null);e[p]=f.sort(e[p])}}return $p.add(e)}const $p=new K;class rs{constructor(e,t,n,r){this.tags=e,this.mode=t,this.context=n,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}rs.empty=new rs([],2,null);function Ap(i,e){let t=Object.create(null);for(let s of i)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:n,all:r=null}=e||{};return{style:s=>{let o=r;for(let a of s)for(let h of a.set){let p=t[h.id];if(p){o=o?o+" "+p:p;break}}return o},scope:n}}function o0(i,e){let t=null;for(let n of i){let r=n.style(e);r&&(t=t?t+" "+r:r)}return t}function a0(i,e,t,n=0,r=i.length){let s=new l0(n,Array.isArray(e)?e:[e],t);s.highlightRange(i.cursor(),n,r,"",s.highlighters),s.flush(r)}class l0{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,r,s){let{type:o,from:a,to:h}=e;if(a>=n||h<=t)return;o.isTop&&(s=this.highlighters.filter(k=>!k.scope||k.scope(o)));let p=r,f=c0(e)||rs.empty,g=o0(s,f.tags);if(g&&(p&&(p+=" "),p+=g,f.mode==1&&(r+=(r?" ":"")+g)),this.startSpan(e.from,p),f.opaque)return;let b=e.tree&&e.tree.prop(K.mounted);if(b&&b.overlay){let k=e.node.enter(b.overlay[0].from+a,1),S=this.highlighters.filter(A=>!A.scope||A.scope(b.tree.type)),T=e.firstChild();for(let A=0,D=a;;A++){let B=A<b.overlay.length?b.overlay[A]:null,I=B?B.from+a:h,L=Math.max(t,D),F=Math.min(n,I);if(L<F&&T)for(;e.from<F&&(this.highlightRange(e,L,F,r,s),this.startSpan(Math.min(F,e.to),p),!(e.to>=I||!e.nextSibling())););if(!B||I>n)break;D=B.to+a,D>t&&(this.highlightRange(k.cursor(),Math.max(t,B.from+a),Math.min(n,D),r,S),this.startSpan(D,p))}T&&e.parent()}else if(e.firstChild()){do if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,r,s),this.startSpan(Math.min(n,e.to),p)}while(e.nextSibling());e.parent()}}}function c0(i){let e=i.type.prop($p);for(;e&&e.context&&!i.matchContext(e.context);)e=e.next;return e||null}const Z=Et.define,Cr=Z(),cn=Z(),oh=Z(cn),ah=Z(cn),hn=Z(),$r=Z(hn),Qo=Z(hn),Lt=Z(),An=Z(Lt),Zt=Z(),Bt=Z(),ba=Z(),Pi=Z(ba),Ar=Z(),l={comment:Cr,lineComment:Z(Cr),blockComment:Z(Cr),docComment:Z(Cr),name:cn,variableName:Z(cn),typeName:oh,tagName:Z(oh),propertyName:ah,attributeName:Z(ah),className:Z(cn),labelName:Z(cn),namespace:Z(cn),macroName:Z(cn),literal:hn,string:$r,docString:Z($r),character:Z($r),attributeValue:Z($r),number:Qo,integer:Z(Qo),float:Z(Qo),bool:Z(hn),regexp:Z(hn),escape:Z(hn),color:Z(hn),url:Z(hn),keyword:Zt,self:Z(Zt),null:Z(Zt),atom:Z(Zt),unit:Z(Zt),modifier:Z(Zt),operatorKeyword:Z(Zt),controlKeyword:Z(Zt),definitionKeyword:Z(Zt),moduleKeyword:Z(Zt),operator:Bt,derefOperator:Z(Bt),arithmeticOperator:Z(Bt),logicOperator:Z(Bt),bitwiseOperator:Z(Bt),compareOperator:Z(Bt),updateOperator:Z(Bt),definitionOperator:Z(Bt),typeOperator:Z(Bt),controlOperator:Z(Bt),punctuation:ba,separator:Z(ba),bracket:Pi,angleBracket:Z(Pi),squareBracket:Z(Pi),paren:Z(Pi),brace:Z(Pi),content:Lt,heading:An,heading1:Z(An),heading2:Z(An),heading3:Z(An),heading4:Z(An),heading5:Z(An),heading6:Z(An),contentSeparator:Z(Lt),list:Z(Lt),quote:Z(Lt),emphasis:Z(Lt),strong:Z(Lt),link:Z(Lt),monospace:Z(Lt),strikethrough:Z(Lt),inserted:Z(),deleted:Z(),changed:Z(),invalid:Z(),meta:Ar,documentMeta:Z(Ar),annotation:Z(Ar),processingInstruction:Z(Ar),definition:Et.defineModifier(),constant:Et.defineModifier(),function:Et.defineModifier(),standard:Et.defineModifier(),local:Et.defineModifier(),special:Et.defineModifier()};Ap([{tag:l.link,class:"tok-link"},{tag:l.heading,class:"tok-heading"},{tag:l.emphasis,class:"tok-emphasis"},{tag:l.strong,class:"tok-strong"},{tag:l.keyword,class:"tok-keyword"},{tag:l.atom,class:"tok-atom"},{tag:l.bool,class:"tok-bool"},{tag:l.url,class:"tok-url"},{tag:l.labelName,class:"tok-labelName"},{tag:l.inserted,class:"tok-inserted"},{tag:l.deleted,class:"tok-deleted"},{tag:l.literal,class:"tok-literal"},{tag:l.string,class:"tok-string"},{tag:l.number,class:"tok-number"},{tag:[l.regexp,l.escape,l.special(l.string)],class:"tok-string2"},{tag:l.variableName,class:"tok-variableName"},{tag:l.local(l.variableName),class:"tok-variableName tok-local"},{tag:l.definition(l.variableName),class:"tok-variableName tok-definition"},{tag:l.special(l.variableName),class:"tok-variableName2"},{tag:l.definition(l.propertyName),class:"tok-propertyName tok-definition"},{tag:l.typeName,class:"tok-typeName"},{tag:l.namespace,class:"tok-namespace"},{tag:l.className,class:"tok-className"},{tag:l.macroName,class:"tok-macroName"},{tag:l.propertyName,class:"tok-propertyName"},{tag:l.operator,class:"tok-operator"},{tag:l.comment,class:"tok-comment"},{tag:l.meta,class:"tok-meta"},{tag:l.invalid,class:"tok-invalid"},{tag:l.punctuation,class:"tok-punctuation"}]);var Co;const zn=new K;function Tp(i){return q.define({combine:i?e=>e.concat(i):void 0})}const nl=new K;class xt{constructor(e,t,n=[],r=""){this.data=e,this.name=r,ae.prototype.hasOwnProperty("tree")||Object.defineProperty(ae.prototype,"tree",{get(){return Fe(this)}}),this.parser=t,this.extension=[pi.of(this),ae.languageData.of((s,o,a)=>{let h=lh(s,o,a),p=h.type.prop(zn);if(!p)return[];let f=s.facet(p),g=h.type.prop(nl);if(g){let b=h.resolve(o-h.from,a);for(let k of g)if(k.test(b,s)){let S=s.facet(k.facet);return k.type=="replace"?S:S.concat(f)}}return f})].concat(n)}isActiveAt(e,t,n=-1){return lh(e,t,n).type.prop(zn)==this.data}findRegions(e){let t=e.facet(pi);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],r=(s,o)=>{if(s.prop(zn)==this.data){n.push({from:o,to:o+s.length});return}let a=s.prop(K.mounted);if(a){if(a.tree.prop(zn)==this.data){if(a.overlay)for(let h of a.overlay)n.push({from:h.from+o,to:h.to+o});else n.push({from:o,to:o+s.length});return}else if(a.overlay){let h=n.length;if(r(a.tree,a.overlay[0].from+o),n.length>h)return}}for(let h=0;h<s.children.length;h++){let p=s.children[h];p instanceof Ae&&r(p,s.positions[h]+o)}};return r(Fe(e),0),n}get allowsNesting(){return!0}}xt.setState=G.define();function lh(i,e,t){let n=i.facet(pi),r=Fe(i).topNode;if(!n||n.allowsNesting)for(let s=r;s;s=s.enter(e,t,Le.ExcludeBuffers))s.type.isTop&&(r=s);return r}class ss extends xt{constructor(e,t,n){super(e,t,[],n),this.parser=t}static define(e){let t=Tp(e.languageData);return new ss(t,e.parser.configure({props:[zn.add(n=>n.isTop?t:void 0)]}),e.name)}configure(e,t){return new ss(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Fe(i){let e=i.field(xt.state,!1);return e?e.tree:Ae.empty}function Mp(i,e,t=50){var n;let r=(n=i.field(xt.state,!1))===null||n===void 0?void 0:n.context;if(!r)return null;let s=r.viewport;r.updateViewport({from:0,to:e});let o=r.isDone(e)||r.work(t,e)?r.tree:null;return r.updateViewport(s),o}class h0{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let Qi=null;class os{constructor(e,t,n=[],r,s,o,a,h){this.parser=e,this.state=t,this.fragments=n,this.tree=r,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=h,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new os(e,t,[],Ae.empty,0,n,[],null)}startParse(){return this.parser.startParse(new h0(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Ae.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(Zn.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Zn.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Qi;Qi=this;try{return e()}finally{Qi=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=ch(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:r,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let h=[];if(e.iterChangedRanges((p,f,g,b)=>h.push({fromA:p,toA:f,fromB:g,toB:b})),n=Zn.applyChanges(n,h),r=Ae.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let p of this.skipped){let f=e.mapPos(p.from,1),g=e.mapPos(p.to,-1);f<g&&a.push({from:f,to:g})}}}return new os(this.parser,t,n,r,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:r,to:s}=this.skipped[n];r<e.to&&s>e.from&&(this.fragments=ch(this.fragments,r,s),this.skipped.splice(n--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Qp{createParse(t,n,r){let s=r[0].from,o=r[r.length-1].to;return{parsedPos:s,advance(){let h=Qi;if(h){for(let p of r)h.tempSkipped.push(p);e&&(h.scheduleOn=h.scheduleOn?Promise.all([h.scheduleOn,e]):e)}return this.parsedPos=o,new Ae(ct.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Qi}}function ch(i,e,t){return Zn.applyChanges(i,[{fromA:e,toA:t,fromB:e,toB:t}])}class ui{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new ui(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=os.create(e.facet(pi).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new ui(n)}}xt.state=Pe.define({create:ui.init,update(i,e){for(let t of e.effects)if(t.is(xt.setState))return t.value;return e.startState.facet(pi)!=e.state.facet(pi)?ui.init(e.state):i.apply(e)}});let Rp=i=>{let e=setTimeout(()=>i(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Rp=i=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(i,{timeout:500-100})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const $o=typeof navigator<"u"&&(!((Co=navigator.scheduling)===null||Co===void 0)&&Co.isInputPending)?()=>navigator.scheduling.isInputPending():null,u0=Xe.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(xt.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(xt.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=Rp(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,s=n.field(xt.state);if(s.tree==s.context.tree&&s.context.isDone(r+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!$o?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<r&&n.doc.length>r+1e3,h=s.context.work(()=>$o&&$o()||Date.now()>o,r+(a?0:1e5));this.chunkBudget-=Date.now()-t,(h||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:xt.setState.of(new ui(s.context))})),this.chunkBudget>0&&!(h&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Ot(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),pi=q.define({combine(i){return i.length?i[0]:null},enables:i=>[xt.state,u0,W.contentAttributes.compute([i],e=>{let t=e.facet(i);return t&&t.name?{"data-language":t.name}:{}})]});class p0{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const d0=q.define(),di=q.define({combine:i=>{if(!i.length)return"  ";let e=i[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(i[0]));return e}});function as(i){let e=i.facet(di);return e.charCodeAt(0)==9?i.tabSize*e.length:e.length}function ls(i,e){let t="",n=i.tabSize,r=i.facet(di)[0];if(r=="	"){for(;e>=n;)t+="	",e-=n;r=" "}for(let s=0;s<e;s++)t+=r;return t}function jp(i,e){i instanceof ae&&(i=new Fs(i));for(let n of i.state.facet(d0)){let r=n(i,e);if(r!==void 0)return r}let t=Fe(i.state);return t?f0(i,t,e):null}class Fs{constructor(e,t={}){this.state=e,this.options=t,this.unit=as(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:s}=this.options;return r!=null&&r>=n.from&&r<=n.to?s&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:r}=this.lineAt(e,t);return n.slice(e-r,Math.min(n.length,e+100-r))}column(e,t=1){let{text:n,from:r}=this.lineAt(e,t),s=this.countColumn(n,e-r),o=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return o>-1&&(s+=o-this.countColumn(n,n.search(/\S|$/))),s}countColumn(e,t=e.length){return Ia(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:r}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(r);if(o>-1)return o}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Dp=new K;function f0(i,e,t){return Up(e.resolveInner(t).enterUnfinishedNodesBefore(t),t,i)}function m0(i){return i.pos==i.options.simulateBreak&&i.options.simulateDoubleBreak}function g0(i){let e=i.type.prop(Dp);if(e)return e;let t=i.firstChild,n;if(t&&(n=t.type.prop(K.closedBy))){let r=i.lastChild,s=r&&n.indexOf(r.name)>-1;return o=>Zp(o,!0,1,void 0,s&&!m0(o)?r.from:void 0)}return i.parent==null?O0:null}function Up(i,e,t){for(;i;i=i.parent){let n=g0(i);if(n)return n(il.create(t,e,i))}return null}function O0(){return 0}class il extends Fs{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.node=n}static create(e,t,n){return new il(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if(y0(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?Up(e,this.pos,this.base):0}}function y0(i,e){for(let t=e;t;t=t.parent)if(i==t)return!0;return!1}function b0(i){let e=i.node,t=e.childAfter(e.from),n=e.lastChild;if(!t)return null;let r=i.options.simulateBreak,s=i.state.doc.lineAt(t.from),o=r==null||r<=s.from?s.to:Math.min(s.to,r);for(let a=t.to;;){let h=e.childAfter(a);if(!h||h==n)return null;if(!h.type.isSkipped)return h.from<o?t:null;a=h.to}}function v0({closing:i,align:e=!0,units:t=1}){return n=>Zp(n,e,t,i)}function Zp(i,e,t,n,r){let s=i.textAfter,o=s.match(/^\s*/)[0].length,a=n&&s.slice(o,o+n.length)==n||r==i.pos+o,h=e?b0(i):null;return h?a?i.column(h.from):i.column(h.to):i.baseIndent+(a?0:i.unit*t)}const k0=i=>i.baseIndent;function Ao({except:i,units:e=1}={}){return t=>{let n=i&&i.test(t.textAfter);return t.baseIndent+(n?0:e*t.unit)}}const w0=q.define(),Bp=new K;function x0(i){let e=i.firstChild,t=i.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?i.to:t.from}:null}function S0(i,e,t){let n=Fe(i);if(n.length<t)return null;let r=n.resolveInner(t,1),s=null;for(let o=r;o;o=o.parent){if(o.to<=t||o.from>t)continue;if(s&&o.from<e)break;let a=o.type.prop(Bp);if(a&&(o.to<n.length-50||n.length==i.doc.length||!P0(o))){let h=a(o,i);h&&h.from<=t&&h.from>=e&&h.to>t&&(s=h)}}return s}function P0(i){let e=i.lastChild;return e&&e.to==i.to&&e.type.isError}function Lp(i,e,t){for(let n of i.facet(w0)){let r=n(i,e,t);if(r)return r}return S0(i,e,t)}function Xp(i,e){let t=e.mapPos(i.from,1),n=e.mapPos(i.to,-1);return t>=n?void 0:{from:t,to:n}}const rl=G.define({map:Xp}),Vs=G.define({map:Xp});function Ep(i){let e=[];for(let{head:t}of i.state.selection.ranges)e.some(n=>n.from<=t&&n.to>=t)||e.push(i.lineBlockAt(t));return e}const er=Pe.define({create(){return z.none},update(i,e){i=i.map(e.changes);for(let t of e.effects)t.is(rl)&&!Q0(i,t.value.from,t.value.to)?i=i.update({add:[hh.range(t.value.from,t.value.to)]}):t.is(Vs)&&(i=i.update({filter:(n,r)=>t.value.from!=n||t.value.to!=r,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:n}=e.selection.main;i.between(n,n,(r,s)=>{r<n&&s>n&&(t=!0)}),t&&(i=i.update({filterFrom:n,filterTo:n,filter:(r,s)=>s<=n||r>=n}))}return i},provide:i=>W.decorations.from(i),toJSON(i,e){let t=[];return i.between(0,e.doc.length,(n,r)=>{t.push(n,r)}),t},fromJSON(i){if(!Array.isArray(i)||i.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<i.length;){let n=i[t++],r=i[t++];if(typeof n!="number"||typeof r!="number")throw new RangeError("Invalid JSON for fold state");e.push(hh.range(n,r))}return z.set(e,!0)}});function Wp(i,e,t){var n;let r=null;return(n=i.field(er,!1))===null||n===void 0||n.between(e,t,(s,o)=>{(!r||r.from>s)&&(r={from:s,to:o})}),r}function Q0(i,e,t){let n=!1;return i.between(e,e,(r,s)=>{r==e&&s==t&&(n=!0)}),n}function Np(i,e){return i.field(er,!1)?e:e.concat(G.appendConfig.of(M0()))}const Ip=i=>{for(let e of Ep(i)){let t=Lp(i.state,e.from,e.to);if(t)return i.dispatch({effects:Np(i.state,[rl.of(t),Fp(i,t)])}),!0}return!1},C0=i=>{if(!i.state.field(er,!1))return!1;let e=[];for(let t of Ep(i)){let n=Wp(i.state,t.from,t.to);n&&e.push(Vs.of(n),Fp(i,n,!1))}return e.length&&i.dispatch({effects:e}),e.length>0};function Fp(i,e,t=!0){let n=i.state.doc.lineAt(e.from).number,r=i.state.doc.lineAt(e.to).number;return W.announce.of(`${i.state.phrase(t?"Folded lines":"Unfolded lines")} ${n} ${i.state.phrase("to")} ${r}.`)}const $0=i=>{let{state:e}=i,t=[];for(let n=0;n<e.doc.length;){let r=i.lineBlockAt(n),s=Lp(e,r.from,r.to);s&&t.push(rl.of(s)),n=(s?i.lineBlockAt(s.to):r).to+1}return t.length&&i.dispatch({effects:Np(i.state,t)}),!!t.length},A0=i=>{let e=i.state.field(er,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,i.state.doc.length,(n,r)=>{t.push(Vs.of({from:n,to:r}))}),i.dispatch({effects:t}),!0},T0={placeholderDOM:null,placeholderText:"…"},Vp=q.define({combine(i){return gi(i,T0)}});function M0(i){let e=[er,R0];return i&&e.push(Vp.of(i)),e}const hh=z.replace({widget:new class extends Qn{toDOM(i){let{state:e}=i,t=e.facet(Vp),n=s=>{let o=i.lineBlockAt(i.posAtDOM(s.target)),a=Wp(i.state,o.from,o.to);a&&i.dispatch({effects:Vs.of(a)}),s.preventDefault()};if(t.placeholderDOM)return t.placeholderDOM(i,n);let r=document.createElement("span");return r.textContent=t.placeholderText,r.setAttribute("aria-label",e.phrase("folded code")),r.title=e.phrase("unfold"),r.className="cm-foldPlaceholder",r.onclick=n,r}}}),R0=W.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class tr{constructor(e,t){this.specs=e;let n;function r(a){let h=vn.newName();return(n||(n=Object.create(null)))["."+h]=a,h}const s=typeof t.all=="string"?t.all:t.all?r(t.all):void 0,o=t.scope;this.scope=o instanceof xt?a=>a.prop(zn)==o.data:o?a=>a==o:void 0,this.style=Ap(e.map(a=>({tag:a.tag,class:a.class||r(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=n?new vn(n):null,this.themeType=t.themeType}static define(e,t){return new tr(e,t||{})}}const va=q.define(),qp=q.define({combine(i){return i.length?[i[0]]:null}});function To(i){let e=i.facet(va);return e.length?e:i.facet(qp)}function Yp(i,e){let t=[D0],n;return i instanceof tr&&(i.module&&t.push(W.styleModule.of(i.module)),n=i.themeType),e?.fallback?t.push(qp.of(i)):n?t.push(va.computeN([W.darkTheme],r=>r.facet(W.darkTheme)==(n=="dark")?[i]:[])):t.push(va.of(i)),t}class j0{constructor(e){this.markCache=Object.create(null),this.tree=Fe(e.state),this.decorations=this.buildDeco(e,To(e.state))}update(e){let t=Fe(e.state),n=To(e.state),r=n!=To(e.startState);t.length<e.view.viewport.to&&!r&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n))}buildDeco(e,t){if(!t||!this.tree.length)return z.none;let n=new bn;for(let{from:r,to:s}of e.visibleRanges)a0(this.tree,t,(o,a,h)=>{n.add(o,a,this.markCache[h]||(this.markCache[h]=z.mark({class:h})))},r,s);return n.finish()}}const D0=Yt.high(Xe.fromClass(j0,{decorations:i=>i.decorations})),U0=tr.define([{tag:l.meta,color:"#404740"},{tag:l.link,textDecoration:"underline"},{tag:l.heading,textDecoration:"underline",fontWeight:"bold"},{tag:l.emphasis,fontStyle:"italic"},{tag:l.strong,fontWeight:"bold"},{tag:l.strikethrough,textDecoration:"line-through"},{tag:l.keyword,color:"#708"},{tag:[l.atom,l.bool,l.url,l.contentSeparator,l.labelName],color:"#219"},{tag:[l.literal,l.inserted],color:"#164"},{tag:[l.string,l.deleted],color:"#a11"},{tag:[l.regexp,l.escape,l.special(l.string)],color:"#e40"},{tag:l.definition(l.variableName),color:"#00f"},{tag:l.local(l.variableName),color:"#30a"},{tag:[l.typeName,l.namespace],color:"#085"},{tag:l.className,color:"#167"},{tag:[l.special(l.variableName),l.macroName],color:"#256"},{tag:l.definition(l.propertyName),color:"#00c"},{tag:l.comment,color:"#940"},{tag:l.invalid,color:"#f00"}]),Z0=1e4,B0="()[]{}",L0=new K;function ka(i,e,t){let n=i.prop(e<0?K.openedBy:K.closedBy);if(n)return n;if(i.name.length==1){let r=t.indexOf(i.name);if(r>-1&&r%2==(e<0?1:0))return[t[r+e]]}return null}function wa(i){let e=i.type.prop(L0);return e?e(i.node):i}function mn(i,e,t,n={}){let r=n.maxScanDistance||Z0,s=n.brackets||B0,o=Fe(i),a=o.resolveInner(e,t);for(let h=a;h;h=h.parent){let p=ka(h.type,t,s);if(p&&h.from<h.to){let f=wa(h);if(f&&(t>0?e>=f.from&&e<f.to:e>f.from&&e<=f.to))return X0(i,e,t,h,f,p,s)}}return E0(i,e,t,o,a.type,r,s)}function X0(i,e,t,n,r,s,o){let a=n.parent,h={from:r.from,to:r.to},p=0,f=a?.cursor();if(f&&(t<0?f.childBefore(n.from):f.childAfter(n.to)))do if(t<0?f.to<=n.from:f.from>=n.to){if(p==0&&s.indexOf(f.type.name)>-1&&f.from<f.to){let g=wa(f);return{start:h,end:g?{from:g.from,to:g.to}:void 0,matched:!0}}else if(ka(f.type,t,o))p++;else if(ka(f.type,-t,o)){if(p==0){let g=wa(f);return{start:h,end:g&&g.from<g.to?{from:g.from,to:g.to}:void 0,matched:!1}}p--}}while(t<0?f.prevSibling():f.nextSibling());return{start:h,matched:!1}}function E0(i,e,t,n,r,s,o){let a=t<0?i.sliceDoc(e-1,e):i.sliceDoc(e,e+1),h=o.indexOf(a);if(h<0||h%2==0!=t>0)return null;let p={from:t<0?e-1:e,to:t>0?e+1:e},f=i.doc.iterRange(e,t>0?i.doc.length:0),g=0;for(let b=0;!f.next().done&&b<=s;){let k=f.value;t<0&&(b+=k.length);let S=e+b*t;for(let T=t>0?0:k.length-1,A=t>0?k.length:-1;T!=A;T+=t){let D=o.indexOf(k[T]);if(!(D<0||n.resolveInner(S+T,1).type!=r))if(D%2==0==t>0)g++;else{if(g==1)return{start:p,end:{from:S+T,to:S+T+1},matched:D>>1==h>>1};g--}}t>0&&(b+=k.length)}return f.done?{start:p,matched:!1}:null}function uh(i,e,t,n=0,r=0){e==null&&(e=i.search(/[^\s\u00a0]/),e==-1&&(e=i.length));let s=r;for(let o=n;o<e;o++)i.charCodeAt(o)==9?s+=t-s%t:s++;return s}class W0{constructor(e,t,n,r){this.string=e,this.tabSize=t,this.indentUnit=n,this.overrideIndent=r,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let t=this.string.charAt(this.pos),n;if(typeof e=="string"?n=t==e:n=t&&(e instanceof RegExp?e.test(t):e(t)),n)return++this.pos,t}eatWhile(e){let t=this.pos;for(;this.eat(e););return this.pos>t}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=uh(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:uh(this.string,null,this.tabSize)}match(e,t,n){if(typeof e=="string"){let r=o=>n?o.toLowerCase():o,s=this.string.substr(this.pos,e.length);return r(s)==r(e)?(t!==!1&&(this.pos+=e.length),!0):null}else{let r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&t!==!1&&(this.pos+=r[0].length),r)}}current(){return this.string.slice(this.start,this.pos)}}const N0=Object.create(null),ph=[ct.none],dh=[],I0=Object.create(null);for(let[i,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])I0[i]=F0(N0,e);function Mo(i,e){dh.indexOf(i)>-1||(dh.push(i),console.warn(e))}function F0(i,e){let t=null;for(let s of e.split(".")){let o=i[s]||l[s];o?typeof o=="function"?t?t=o(t):Mo(s,`Modifier ${s} used at start of tag`):t?Mo(s,`Tag ${s} used as modifier`):t=o:Mo(s,`Unknown highlighting tag ${s}`)}if(!t)return 0;let n=e.replace(/ /g,"_"),r=ct.define({id:ph.length,name:n,props:[Cp({[n]:t})]});return ph.push(r),r.id}class _p{constructor(e,t,n){this.state=e,this.pos=t,this.explicit=n,this.abortListeners=[]}tokenBefore(e){let t=Fe(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),r=t.text.slice(n-t.from,this.pos-t.from),s=r.search(Gp(e,!1));return s<0?null:{from:n+s,to:this.pos,text:r.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t){e=="abort"&&this.abortListeners&&this.abortListeners.push(t)}}function fh(i){let e=Object.keys(i).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function V0(i){let e=Object.create(null),t=Object.create(null);for(let{label:r}of i){e[r[0]]=!0;for(let s=1;s<r.length;s++)t[r[s]]=!0}let n=fh(e)+fh(t)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function zp(i){let e=i.map(r=>typeof r=="string"?{label:r}:r),[t,n]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:V0(e);return r=>{let s=r.matchBefore(n);return s||r.explicit?{from:s?s.from:r.pos,options:e,validFor:t}:null}}function q0(i,e){return t=>{for(let n=Fe(t.state).resolveInner(t.pos,-1);n;n=n.parent){if(i.indexOf(n.name)>-1)return null;if(n.type.isTop)break}return e(t)}}class mh{constructor(e,t,n,r){this.completion=e,this.source=t,this.match=n,this.score=r}}function On(i){return i.selection.main.from}function Gp(i,e){var t;let{source:n}=i,r=e&&n[0]!="^",s=n[n.length-1]!="$";return!r&&!s?i:new RegExp(`${r?"^":""}(?:${n})${s?"$":""}`,(t=i.flags)!==null&&t!==void 0?t:i.ignoreCase?"i":"")}const Hp=nn.define();function Y0(i,e,t,n){let{main:r}=i.selection,s=t-r.from,o=n-r.from;return Object.assign(Object.assign({},i.changeByRange(a=>a!=r&&t!=n&&i.sliceDoc(a.from+s,a.from+o)!=i.sliceDoc(t,n)?{range:a}:{changes:{from:a.from+s,to:n==r.from?a.to:a.from+o,insert:e},range:R.cursor(a.from+s+e.length)})),{userEvent:"input.complete"})}function Kp(i,e){const t=e.completion.apply||e.completion.label;let n=e.source;typeof t=="string"?i.dispatch(Object.assign(Object.assign({},Y0(i.state,t,n.from,n.to)),{annotations:Hp.of(e.completion)})):t(i,e.completion,n.from,n.to)}const gh=new WeakMap;function _0(i){if(!Array.isArray(i))return i;let e=gh.get(i);return e||gh.set(i,e=zp(i)),e}const sl=G.define(),Yi=G.define();class z0{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let t=0;t<e.length;){let n=_e(e,t),r=wt(n);this.chars.push(n);let s=e.slice(t,t+r),o=s.toUpperCase();this.folded.push(_e(o==s?s.toLowerCase():o,0)),t+=r}this.astral=e.length!=this.chars.length}match(e){if(this.pattern.length==0)return[0];if(e.length<this.pattern.length)return null;let{chars:t,folded:n,any:r,precise:s,byWord:o}=this;if(t.length==1){let B=_e(e,0),I=wt(B),L=I==e.length?0:-100;if(B!=t[0])if(B==n[0])L+=-200;else return null;return[L,0,I]}let a=e.indexOf(this.pattern);if(a==0)return[e.length==this.pattern.length?0:-100,0,this.pattern.length];let h=t.length,p=0;if(a<0){for(let B=0,I=Math.min(e.length,200);B<I&&p<h;){let L=_e(e,B);(L==t[p]||L==n[p])&&(r[p++]=B),B+=wt(L)}if(p<h)return null}let f=0,g=0,b=!1,k=0,S=-1,T=-1,A=/[a-z]/.test(e),D=!0;for(let B=0,I=Math.min(e.length,200),L=0;B<I&&g<h;){let F=_e(e,B);a<0&&(f<h&&F==t[f]&&(s[f++]=B),k<h&&(F==t[k]||F==n[k]?(k==0&&(S=B),T=B+1,k++):k=0));let V,ee=F<255?F>=48&&F<=57||F>=97&&F<=122?2:F>=65&&F<=90?1:0:(V=Xa(F))!=V.toLowerCase()?1:V!=V.toUpperCase()?2:0;(!B||ee==1&&A||L==0&&ee!=0)&&(t[g]==F||n[g]==F&&(b=!0)?o[g++]=B:o.length&&(D=!1)),L=ee,B+=wt(F)}return g==h&&o[0]==0&&D?this.result(-100+(b?-200:0),o,e):k==h&&S==0?[-200-e.length+(T==e.length?0:-100),0,T]:a>-1?[-700-e.length,a,a+this.pattern.length]:k==h?[-200+-700-e.length,S,T]:g==h?this.result(-100+(b?-200:0)+-700+(D?0:-1100),o,e):t.length==2?null:this.result((r[0]?-700:0)+-200+-1100,r,e)}result(e,t,n){let r=[e-n.length],s=1;for(let o of t){let a=o+(this.astral?wt(_e(n,o)):1);s>1&&r[s-1]==o?r[s-1]=a:(r[s++]=o,r[s++]=a)}return r}}const at=q.define({combine(i){return gi(i,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:G0,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>n=>Oh(e(n),t(n)),optionClass:(e,t)=>n=>Oh(e(n),t(n)),addToOptions:(e,t)=>e.concat(t)})}});function Oh(i,e){return i?e?i+" "+e:i:e}function G0(i,e,t,n,r){let s=i.textDirection==we.RTL,o=s,a=!1,h="top",p,f,g=e.left-r.left,b=r.right-e.right,k=n.right-n.left,S=n.bottom-n.top;if(o&&g<Math.min(k,b)?o=!1:!o&&b<Math.min(k,g)&&(o=!0),k<=(o?g:b))p=Math.max(r.top,Math.min(t.top,r.bottom-S))-e.top,f=Math.min(400,o?g:b);else{a=!0,f=Math.min(400,(s?e.right:r.right-e.left)-30);let T=r.bottom-e.bottom;T>=S||T>e.top?p=t.bottom-e.top:(h="bottom",p=e.bottom-t.top)}return{style:`${h}: ${p}px; max-width: ${f}px`,class:"cm-completionInfo-"+(a?s?"left-narrow":"right-narrow":o?"left":"right")}}function H0(i){let e=i.addToOptions.slice();return i.icons&&e.push({render(t){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),t.type&&n.classList.add(...t.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),n.setAttribute("aria-hidden","true"),n},position:20}),e.push({render(t,n,r){let s=document.createElement("span");s.className="cm-completionLabel";let{label:o}=t,a=0;for(let h=1;h<r.length;){let p=r[h++],f=r[h++];p>a&&s.appendChild(document.createTextNode(o.slice(a,p)));let g=s.appendChild(document.createElement("span"));g.appendChild(document.createTextNode(o.slice(p,f))),g.className="cm-completionMatchedText",a=f}return a<o.length&&s.appendChild(document.createTextNode(o.slice(a))),s},position:50},{render(t){if(!t.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=t.detail,n},position:80}),e.sort((t,n)=>t.position-n.position).map(t=>t.render)}function yh(i,e,t){if(i<=t)return{from:0,to:i};if(e<0&&(e=0),e<=i>>1){let r=Math.floor(e/t);return{from:r*t,to:(r+1)*t}}let n=Math.floor((i-e)/t);return{from:i-(n+1)*t,to:i-n*t}}class K0{constructor(e,t){this.view=e,this.stateField=t,this.info=null,this.placeInfoReq={read:()=>this.measureInfo(),write:a=>this.placeInfo(a),key:this},this.space=null,this.currentClass="";let n=e.state.field(t),{options:r,selected:s}=n.open,o=e.state.facet(at);this.optionContent=H0(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=yh(r.length,s,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",a=>{for(let h=a.target,p;h&&h!=this.dom;h=h.parentNode)if(h.nodeName=="LI"&&(p=/-(\d+)$/.exec(h.id))&&+p[1]<r.length){Kp(e,r[+p[1]]),a.preventDefault();return}}),this.dom.addEventListener("focusout",a=>{let h=e.state.field(this.stateField,!1);h&&h.tooltip&&e.state.facet(at).closeOnBlur&&a.relatedTarget!=e.contentDOM&&e.dispatch({effects:Yi.of(null)})}),this.list=this.dom.appendChild(this.createListBox(r,n.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}mount(){this.updateSel()}update(e){var t,n,r;let s=e.state.field(this.stateField),o=e.startState.field(this.stateField);this.updateTooltipClass(e.state),s!=o&&(this.updateSel(),((t=s.open)===null||t===void 0?void 0:t.disabled)!=((n=o.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(!((r=s.open)===null||r===void 0)&&r.disabled)))}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let n of this.currentClass.split(" "))n&&this.dom.classList.remove(n);for(let n of t.split(" "))n&&this.dom.classList.add(n);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=yh(t.options.length,t.selected,this.view.state.facet(at).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})),this.updateSelectedOption(t.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:n}=t.options[t.selected],{info:r}=n;if(!r)return;let s=typeof r=="string"?document.createTextNode(r):r(n);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o)}).catch(o=>Ot(this.view.state,o,"completion info")):this.addInfoPane(s)}}addInfoPane(e){let t=this.info=document.createElement("div");t.className="cm-tooltip cm-completionInfo",t.appendChild(e),this.dom.appendChild(t),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)n.nodeName!="LI"||!n.id?r--:r==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return t&&ey(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:o.innerWidth,bottom:o.innerHeight}}return r.top>Math.min(s.bottom,t.bottom)-10||r.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(at).positionInfo(this.view,t,r,n,s)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,n){const r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));let s=null;for(let o=n.from;o<n.to;o++){let{completion:a,match:h}=e[o],{section:p}=a;if(p){let b=typeof p=="string"?p:p.name;if(b!=s&&(o>n.from||n.from==0))if(s=b,typeof p!="string"&&p.header)r.appendChild(p.header(p));else{let k=r.appendChild(document.createElement("completion-section"));k.textContent=b}}const f=r.appendChild(document.createElement("li"));f.id=t+"-"+o,f.setAttribute("role","option");let g=this.optionClass(a);g&&(f.className=g);for(let b of this.optionContent){let k=b(a,this.view.state,h);k&&f.appendChild(k)}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}}function J0(i){return e=>new K0(e,i)}function ey(i,e){let t=i.getBoundingClientRect(),n=e.getBoundingClientRect();n.top<t.top?i.scrollTop-=t.top-n.top:n.bottom>t.bottom&&(i.scrollTop+=n.bottom-t.bottom)}function bh(i){return(i.boost||0)*100+(i.apply?10:0)+(i.info?5:0)+(i.type?1:0)}function ty(i,e){let t=[],n=null,r=h=>{t.push(h);let{section:p}=h.completion;if(p){n||(n=[]);let f=typeof p=="string"?p:p.name;n.some(g=>g.name==f)||n.push(typeof p=="string"?{name:f}:p)}};for(let h of i)if(h.hasResult())if(h.result.filter===!1){let p=h.result.getMatch;for(let f of h.result.options){let g=[1e9-t.length];if(p)for(let b of p(f))g.push(b);r(new mh(f,h,g,g[0]))}}else{let p=new z0(e.sliceDoc(h.from,h.to)),f;for(let g of h.result.options)(f=p.match(g.label))&&r(new mh(g,h,f,f[0]+(g.boost||0)))}if(n){let h=Object.create(null),p=0,f=(g,b)=>{var k,S;return((k=g.rank)!==null&&k!==void 0?k:1e9)-((S=b.rank)!==null&&S!==void 0?S:1e9)||(g.name<b.name?-1:1)};for(let g of n.sort(f))p-=1e5,h[g.name]=p;for(let g of t){let{section:b}=g.completion;b&&(g.score+=h[typeof b=="string"?b:b.name])}}let s=[],o=null,a=e.facet(at).compareCompletions;for(let h of t.sort((p,f)=>f.score-p.score||a(p.completion,f.completion)))!o||o.label!=h.completion.label||o.detail!=h.completion.detail||o.type!=null&&h.completion.type!=null&&o.type!=h.completion.type||o.apply!=h.completion.apply?s.push(h):bh(h.completion)>bh(o)&&(s[s.length-1]=h),o=h.completion;return s}class Gn{constructor(e,t,n,r,s,o){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=r,this.selected=s,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Gn(this.options,vh(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,n,r,s){let o=ty(e,t);if(!o.length)return r&&e.some(h=>h.state==1)?new Gn(r.options,r.attrs,r.tooltip,r.timestamp,r.selected,!0):null;let a=t.facet(at).selectOnOpen?0:-1;if(r&&r.selected!=a&&r.selected!=-1){let h=r.options[r.selected].completion;for(let p=0;p<o.length;p++)if(o[p].completion==h){a=p;break}}return new Gn(o,vh(n,a),{pos:e.reduce((h,p)=>p.hasResult()?Math.min(h,p.from):h,1e8),create:J0(kt),above:s.aboveCursor},r?r.timestamp:Date.now(),a,!1)}map(e){return new Gn(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class cs{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new cs(ry,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,n=t.facet(at),s=(n.override||t.languageDataAt("autocomplete",On(t)).map(_0)).map(a=>(this.active.find(p=>p.source==a)||new ot(a,this.active.some(p=>p.state!=0)?1:0)).update(e,n));s.length==this.active.length&&s.every((a,h)=>a==this.active[h])&&(s=this.active);let o=this.open;o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!ny(s,this.active)?o=Gn.build(s,t,this.id,o,n):o&&o.disabled&&!s.some(a=>a.state==1)&&(o=null),!o&&s.every(a=>a.state!=1)&&s.some(a=>a.hasResult())&&(s=s.map(a=>a.hasResult()?new ot(a.source,0):a));for(let a of e.effects)a.is(ed)&&(o=o&&o.setSelected(a.value,this.id));return s==this.active&&o==this.open?this:new cs(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:iy}}function ny(i,e){if(i==e)return!0;for(let t=0,n=0;;){for(;t<i.length&&!i[t].hasResult;)t++;for(;n<e.length&&!e[n].hasResult;)n++;let r=t==i.length,s=n==e.length;if(r||s)return r==s;if(i[t++].result!=e[n++].result)return!1}}const iy={"aria-autocomplete":"list"};function vh(i,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":i};return e>-1&&(t["aria-activedescendant"]=i+"-"+e),t}const ry=[];function xa(i){return i.isUserEvent("input.type")?"input":i.isUserEvent("delete.backward")?"delete":null}class ot{constructor(e,t,n=-1){this.source=e,this.state=t,this.explicitPos=n}hasResult(){return!1}update(e,t){let n=xa(e),r=this;n?r=r.handleUserEvent(e,n,t):e.docChanged?r=r.handleChange(e):e.selection&&r.state!=0&&(r=new ot(r.source,0));for(let s of e.effects)if(s.is(sl))r=new ot(r.source,1,s.value?On(e.state):-1);else if(s.is(Yi))r=new ot(r.source,0);else if(s.is(Jp))for(let o of s.value)o.source==r.source&&(r=o);return r}handleUserEvent(e,t,n){return t=="delete"||!n.activateOnTyping?this.map(e.changes):new ot(this.source,1)}handleChange(e){return e.changes.touchesRange(On(e.startState))?new ot(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new ot(this.source,this.state,e.mapPos(this.explicitPos))}}class Bi extends ot{constructor(e,t,n,r,s){super(e,2,t),this.result=n,this.from=r,this.to=s}hasResult(){return!0}handleUserEvent(e,t,n){var r;let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=On(e.state);if((this.explicitPos<0?a<=s:a<this.from)||a>o||t=="delete"&&On(e.startState)==this.from)return new ot(this.source,t=="input"&&n.activateOnTyping?1:0);let h=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),p;return sy(this.result.validFor,e.state,s,o)?new Bi(this.source,h,this.result,s,o):this.result.update&&(p=this.result.update(this.result,s,o,new _p(e.state,a,h>=0)))?new Bi(this.source,h,p,p.from,(r=p.to)!==null&&r!==void 0?r:On(e.state)):new ot(this.source,1,h)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new ot(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new Bi(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function sy(i,e,t,n){if(!i)return!1;let r=e.sliceDoc(t,n);return typeof i=="function"?i(r,t,n,e):Gp(i,!0).test(r)}const Jp=G.define({map(i,e){return i.map(t=>t.map(e))}}),ed=G.define(),kt=Pe.define({create(){return cs.start()},update(i,e){return i.update(e)},provide:i=>[Ga.from(i,e=>e.tooltip),W.contentAttributes.from(i,e=>e.attrs)]});function gn(i,e="option"){return t=>{let n=t.state.field(kt,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<t.state.facet(at).interactionDelay)return!1;let r=1,s;e=="page"&&(s=bp(t,n.open.tooltip))&&(r=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=n.open.options,a=n.open.selected>-1?n.open.selected+r*(i?1:-1):i?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),t.dispatch({effects:ed.of(a)}),!0}}const Sa=i=>{let e=i.state.field(kt,!1);return i.state.readOnly||!e||!e.open||e.open.selected<0||Date.now()-e.open.timestamp<i.state.facet(at).interactionDelay?!1:(e.open.disabled||Kp(i,e.open.options[e.open.selected]),!0)},td=i=>i.state.field(kt,!1)?(i.dispatch({effects:sl.of(!0)}),!0):!1,nd=i=>{let e=i.state.field(kt,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(i.dispatch({effects:Yi.of(null)}),!0)};class oy{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const kh=50,ay=50,ly=1e3,cy=Xe.fromClass(class{constructor(i){this.view=i,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of i.state.field(kt).active)e.state==1&&this.startQuery(e)}update(i){let e=i.state.field(kt);if(!i.selectionSet&&!i.docChanged&&i.startState.field(kt)==e)return;let t=i.transactions.some(n=>(n.selection||n.docChanged)&&!xa(n));for(let n=0;n<this.running.length;n++){let r=this.running[n];if(t||r.updates.length+i.transactions.length>ay&&Date.now()-r.time>ly){for(let s of r.context.abortListeners)try{s()}catch(o){Ot(this.view.state,o)}r.context.abortListeners=null,this.running.splice(n--,1)}else r.updates.push(...i.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(n=>n.state==1&&!this.running.some(r=>r.active.source==n.source))?setTimeout(()=>this.startUpdate(),kh):-1,this.composing!=0)for(let n of i.transactions)xa(n)=="input"?this.composing=2:this.composing==2&&n.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:i}=this.view,e=i.field(kt);for(let t of e.active)t.state==1&&!this.running.some(n=>n.active.source==t.source)&&this.startQuery(t)}startQuery(i){let{state:e}=this.view,t=On(e),n=new _p(e,t,i.explicitPos==t),r=new oy(i,n);this.running.push(r),Promise.resolve(i.source(n)).then(s=>{r.context.aborted||(r.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Yi.of(null)}),Ot(this.view.state,s)})}scheduleAccept(){this.running.every(i=>i.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),kh))}accept(){var i;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(at);for(let n=0;n<this.running.length;n++){let r=this.running[n];if(r.done===void 0)continue;if(this.running.splice(n--,1),r.done){let o=new Bi(r.active.source,r.active.explicitPos,r.done,r.done.from,(i=r.done.to)!==null&&i!==void 0?i:On(r.updates.length?r.updates[0].startState:this.view.state));for(let a of r.updates)o=o.update(a,t);if(o.hasResult()){e.push(o);continue}}let s=this.view.state.field(kt).active.find(o=>o.source==r.active.source);if(s&&s.state==1)if(r.done==null){let o=new ot(r.active.source,0);for(let a of r.updates)o=o.update(a,t);o.state!=1&&e.push(o)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:Jp.of(e)})}},{eventHandlers:{blur(i){let e=this.view.state.field(kt,!1);if(e&&e.tooltip&&this.view.state.facet(at).closeOnBlur){let t=e.open&&bp(this.view,e.open.tooltip);(!t||!t.dom.contains(i.relatedTarget))&&this.view.dispatch({effects:Yi.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:sl.of(!1)}),20),this.composing=0}}}),id=W.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class hy{constructor(e,t,n,r){this.field=e,this.line=t,this.from=n,this.to=r}}class ol{constructor(e,t,n){this.field=e,this.from=t,this.to=n}map(e){let t=e.mapPos(this.from,-1,Qe.TrackDel),n=e.mapPos(this.to,1,Qe.TrackDel);return t==null||n==null?null:new ol(this.field,t,n)}}class al{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let n=[],r=[t],s=e.doc.lineAt(t),o=/^\s*/.exec(s.text)[0];for(let h of this.lines){if(n.length){let p=o,f=/^\t*/.exec(h)[0].length;for(let g=0;g<f;g++)p+=e.facet(di);r.push(t+p.length-f),h=p+h.slice(f)}n.push(h),t+=h.length+1}let a=this.fieldPositions.map(h=>new ol(h.field,r[h.line]+h.from,r[h.line]+h.to));return{text:n,ranges:a}}static parse(e){let t=[],n=[],r=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(o);){let a=s[1]?+s[1]:null,h=s[2]||s[3]||"",p=-1;for(let f=0;f<t.length;f++)(a!=null?t[f].seq==a:h&&t[f].name==h)&&(p=f);if(p<0){let f=0;for(;f<t.length&&(a==null||t[f].seq!=null&&t[f].seq<a);)f++;t.splice(f,0,{seq:a,name:h}),p=f;for(let g of r)g.field>=p&&g.field++}r.push(new hy(p,n.length,s.index,s.index+h.length)),o=o.slice(0,s.index)+h+o.slice(s.index+s[0].length)}for(let a;a=/\\([{}])/.exec(o);){o=o.slice(0,a.index)+a[1]+o.slice(a.index+a[0].length);for(let h of r)h.line==n.length&&h.from>a.index&&(h.from--,h.to--)}n.push(o)}return new al(n,r)}}let uy=z.widget({widget:new class extends Qn{toDOM(){let i=document.createElement("span");return i.className="cm-snippetFieldPosition",i}ignoreEvent(){return!1}}}),py=z.mark({class:"cm-snippetField"});class Oi{constructor(e,t){this.ranges=e,this.active=t,this.deco=z.set(e.map(n=>(n.from==n.to?uy:py).range(n.from,n.to)))}map(e){let t=[];for(let n of this.ranges){let r=n.map(e);if(!r)return null;t.push(r)}return new Oi(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(n=>n.field==this.active&&n.from<=t.from&&n.to>=t.to))}}const nr=G.define({map(i,e){return i&&i.map(e)}}),dy=G.define(),_i=Pe.define({create(){return null},update(i,e){for(let t of e.effects){if(t.is(nr))return t.value;if(t.is(dy)&&i)return new Oi(i.ranges,t.value)}return i&&e.docChanged&&(i=i.map(e.changes)),i&&e.selection&&!i.selectionInsideField(e.selection)&&(i=null),i},provide:i=>W.decorations.from(i,e=>e?e.deco:z.none)});function ll(i,e){return R.create(i.filter(t=>t.field==e).map(t=>R.range(t.from,t.to)))}function fy(i){let e=al.parse(i);return(t,n,r,s)=>{let{text:o,ranges:a}=e.instantiate(t.state,r),h={changes:{from:r,to:s,insert:oe.of(o)},scrollIntoView:!0,annotations:n?Hp.of(n):void 0};if(a.length&&(h.selection=ll(a,0)),a.length>1){let p=new Oi(a,0),f=h.effects=[nr.of(p)];t.state.field(_i,!1)===void 0&&f.push(G.appendConfig.of([_i,by,vy,id]))}t.dispatch(t.state.update(h))}}function rd(i){return({state:e,dispatch:t})=>{let n=e.field(_i,!1);if(!n||i<0&&n.active==0)return!1;let r=n.active+i,s=i>0&&!n.ranges.some(o=>o.field==r+i);return t(e.update({selection:ll(n.ranges,r),effects:nr.of(s?null:new Oi(n.ranges,r))})),!0}}const my=({state:i,dispatch:e})=>i.field(_i,!1)?(e(i.update({effects:nr.of(null)})),!0):!1,gy=rd(1),Oy=rd(-1),yy=[{key:"Tab",run:gy,shift:Oy},{key:"Escape",run:my}],wh=q.define({combine(i){return i.length?i[0]:yy}}),by=Yt.highest(wn.compute([wh],i=>i.facet(wh)));function At(i,e){return Object.assign(Object.assign({},e),{apply:fy(i)})}const vy=W.domEventHandlers({mousedown(i,e){let t=e.state.field(_i,!1),n;if(!t||(n=e.posAtCoords({x:i.clientX,y:i.clientY}))==null)return!1;let r=t.ranges.find(s=>s.from<=n&&s.to>=n);return!r||r.field==t.active?!1:(e.dispatch({selection:ll(t.ranges,r.field),effects:nr.of(t.ranges.some(s=>s.field>r.field)?new Oi(t.ranges,r.field):null)}),!0)}}),zi={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},jn=G.define({map(i,e){let t=e.mapPos(i,-1,Qe.TrackAfter);return t??void 0}}),cl=new class extends Ln{};cl.startSide=1;cl.endSide=-1;const sd=Pe.define({create(){return he.empty},update(i,e){if(e.selection){let t=e.state.doc.lineAt(e.selection.main.head).from,n=e.startState.doc.lineAt(e.startState.selection.main.head).from;t!=e.changes.mapPos(n,-1)&&(i=he.empty)}i=i.map(e.changes);for(let t of e.effects)t.is(jn)&&(i=i.update({add:[cl.range(t.value,t.value+1)]}));return i}});function ky(){return[xy,sd]}const Ro="()[]{}<>";function od(i){for(let e=0;e<Ro.length;e+=2)if(Ro.charCodeAt(e)==i)return Ro.charAt(e+1);return Xa(i<128?i:i+1)}function ad(i,e){return i.languageDataAt("closeBrackets",e)[0]||zi}const wy=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),xy=W.inputHandler.of((i,e,t,n)=>{if((wy?i.composing:i.compositionStarted)||i.state.readOnly)return!1;let r=i.state.selection.main;if(n.length>2||n.length==2&&wt(_e(n,0))==1||e!=r.from||t!=r.to)return!1;let s=Py(i.state,n);return s?(i.dispatch(s),!0):!1}),Sy=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let n=ad(i,i.selection.main.head).brackets||zi.brackets,r=null,s=i.changeByRange(o=>{if(o.empty){let a=Qy(i.doc,o.head);for(let h of n)if(h==a&&qs(i.doc,o.head)==od(_e(h,0)))return{changes:{from:o.head-h.length,to:o.head+h.length},range:R.cursor(o.head-h.length)}}return{range:r=o}});return r||e(i.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!r};function Py(i,e){let t=ad(i,i.selection.main.head),n=t.brackets||zi.brackets;for(let r of n){let s=od(_e(r,0));if(e==r)return s==r?Ay(i,r,n.indexOf(r+r+r)>-1,t):Cy(i,r,s,t.before||zi.before);if(e==s&&ld(i,i.selection.main.from))return $y(i,r,s)}return null}function ld(i,e){let t=!1;return i.field(sd).between(0,i.doc.length,n=>{n==e&&(t=!0)}),t}function qs(i,e){let t=i.sliceString(e,e+2);return t.slice(0,wt(_e(t,0)))}function Qy(i,e){let t=i.sliceString(e-2,e);return wt(_e(t,0))==t.length?t:t.slice(1)}function Cy(i,e,t,n){let r=null,s=i.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:jn.of(o.to+e.length),range:R.range(o.anchor+e.length,o.head+e.length)};let a=qs(i.doc,o.head);return!a||/\s/.test(a)||n.indexOf(a)>-1?{changes:{insert:e+t,from:o.head},effects:jn.of(o.head+e.length),range:R.cursor(o.head+e.length)}:{range:r=o}});return r?null:i.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function $y(i,e,t){let n=null,r=i.changeByRange(s=>s.empty&&qs(i.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:R.cursor(s.head+t.length)}:n={range:s});return n?null:i.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function Ay(i,e,t,n){let r=n.stringPrefixes||zi.stringPrefixes,s=null,o=i.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:jn.of(a.to+e.length),range:R.range(a.anchor+e.length,a.head+e.length)};let h=a.head,p=qs(i.doc,h),f;if(p==e){if(xh(i,h))return{changes:{insert:e+e,from:h},effects:jn.of(h+e.length),range:R.cursor(h+e.length)};if(ld(i,h)){let b=t&&i.sliceDoc(h,h+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:h,to:h+b.length,insert:b},range:R.cursor(h+b.length)}}}else{if(t&&i.sliceDoc(h-2*e.length,h)==e+e&&(f=Sh(i,h-2*e.length,r))>-1&&xh(i,f))return{changes:{insert:e+e+e+e,from:h},effects:jn.of(h+e.length),range:R.cursor(h+e.length)};if(i.charCategorizer(h)(p)!=Ce.Word&&Sh(i,h,r)>-1&&!Ty(i,h,e,r))return{changes:{insert:e+e,from:h},effects:jn.of(h+e.length),range:R.cursor(h+e.length)}}return{range:s=a}});return s?null:i.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function xh(i,e){let t=Fe(i).resolveInner(e+1);return t.parent&&t.from==e}function Ty(i,e,t,n){let r=Fe(i).resolveInner(e,-1),s=n.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=i.sliceDoc(r.from,Math.min(r.to,r.from+t.length+s)),h=a.indexOf(t);if(!h||h>-1&&n.indexOf(a.slice(0,h))>-1){let f=r.firstChild;for(;f&&f.from==r.from&&f.to-f.from>t.length+h;){if(i.sliceDoc(f.to-t.length,f.to)==t)return!1;f=f.firstChild}return!0}let p=r.to==e&&r.parent;if(!p)break;r=p}return!1}function Sh(i,e,t){let n=i.charCategorizer(e);if(n(i.sliceDoc(e-1,e))!=Ce.Word)return e;for(let r of t){let s=e-r.length;if(i.sliceDoc(s,e)==r&&n(i.sliceDoc(s-1,s))!=Ce.Word)return s}return-1}function My(i={}){return[kt,at.of(i),cy,jy,id]}const Ry=[{key:"Ctrl-Space",run:td},{key:"Escape",run:nd},{key:"ArrowDown",run:gn(!0)},{key:"ArrowUp",run:gn(!1)},{key:"PageDown",run:gn(!0,"page")},{key:"PageUp",run:gn(!1,"page")},{key:"Enter",run:Sa}],jy=Yt.highest(wn.computeN([at],i=>i.facet(at).defaultKeymap?[Ry]:[])),hl=i=>{let{state:e}=i,t=e.doc.lineAt(e.selection.main.from),n=ul(i.state,t.from);return n.line?Dy(i):n.block?By(i):!1};function ir(i,e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let r=i(e,t);return r?(n(t.update(r)),!0):!1}}const Dy=ir(pl,0),Uy=ir(pl,1),Zy=ir(pl,2),cd=ir(hd,0),By=ir((i,e)=>hd(i,e,Xy(e)),0);function ul(i,e){let t=i.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const Ci=50;function Ly(i,{open:e,close:t},n,r){let s=i.sliceDoc(n-Ci,n),o=i.sliceDoc(r,r+Ci),a=/\s*$/.exec(s)[0].length,h=/^\s*/.exec(o)[0].length,p=s.length-a;if(s.slice(p-e.length,p)==e&&o.slice(h,h+t.length)==t)return{open:{pos:n-a,margin:a&&1},close:{pos:r+h,margin:h&&1}};let f,g;r-n<=2*Ci?f=g=i.sliceDoc(n,r):(f=i.sliceDoc(n,n+Ci),g=i.sliceDoc(r-Ci,r));let b=/^\s*/.exec(f)[0].length,k=/\s*$/.exec(g)[0].length,S=g.length-k-t.length;return f.slice(b,b+e.length)==e&&g.slice(S,S+t.length)==t?{open:{pos:n+b+e.length,margin:/\s/.test(f.charAt(b+e.length))?1:0},close:{pos:r-k-t.length,margin:/\s/.test(g.charAt(S-1))?1:0}}:null}function Xy(i){let e=[];for(let t of i.selection.ranges){let n=i.doc.lineAt(t.from),r=t.to<=n.to?n:i.doc.lineAt(t.to),s=e.length-1;s>=0&&e[s].to>n.from?e[s].to=r.to:e.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:r.to})}return e}function hd(i,e,t=e.selection.ranges){let n=t.map(s=>ul(e,s.from).block);if(!n.every(s=>s))return null;let r=t.map((s,o)=>Ly(e,n[o],s.from,s.to));if(i!=2&&!r.every(s=>s))return{changes:e.changes(t.map((s,o)=>r[o]?[]:[{from:s.from,insert:n[o].open+" "},{from:s.to,insert:" "+n[o].close}]))};if(i!=1&&r.some(s=>s)){let s=[];for(let o=0,a;o<r.length;o++)if(a=r[o]){let h=n[o],{open:p,close:f}=a;s.push({from:p.pos-h.open.length,to:p.pos+p.margin},{from:f.pos-f.margin,to:f.pos+h.close.length})}return{changes:s}}return null}function pl(i,e,t=e.selection.ranges){let n=[],r=-1;for(let{from:s,to:o}of t){let a=n.length,h=1e9,p=ul(e,s).line;if(p){for(let f=s;f<=o;){let g=e.doc.lineAt(f);if(g.from>r&&(s==o||o>g.from)){r=g.from;let b=/^\s*/.exec(g.text)[0].length,k=b==g.length,S=g.text.slice(b,b+p.length)==p?b:-1;b<g.text.length&&b<h&&(h=b),n.push({line:g,comment:S,token:p,indent:b,empty:k,single:!1})}f=g.to+1}if(h<1e9)for(let f=a;f<n.length;f++)n[f].indent<n[f].line.text.length&&(n[f].indent=h);n.length==a+1&&(n[a].single=!0)}}if(i!=2&&n.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:h,indent:p,empty:f,single:g}of n)(g||!f)&&s.push({from:a.from+p,insert:h+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(i!=1&&n.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:h}of n)if(a>=0){let p=o.from+a,f=p+h.length;o.text[f-o.from]==" "&&f++,s.push({from:p,to:f})}return{changes:s}}return null}const Pa=nn.define(),Ey=nn.define(),Wy=q.define(),ud=q.define({combine(i){return gi(i,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(n,r)=>e(n,r)||t(n,r)})}});function Ny(i){let e=0;return i.iterChangedRanges((t,n)=>e=n),e}const pd=Pe.define({create(){return Ft.empty},update(i,e){let t=e.state.facet(ud),n=e.annotation(Pa);if(n){let h=e.docChanged?R.single(Ny(e.changes)):void 0,p=lt.fromTransaction(e,h),f=n.side,g=f==0?i.undone:i.done;return p?g=hs(g,g.length,t.minDepth,p):g=md(g,e.startState.selection),new Ft(f==0?n.rest:g,f==0?g:n.rest)}let r=e.annotation(Ey);if((r=="full"||r=="before")&&(i=i.isolate()),e.annotation(Ue.addToHistory)===!1)return e.changes.empty?i:i.addMapping(e.changes.desc);let s=lt.fromTransaction(e),o=e.annotation(Ue.time),a=e.annotation(Ue.userEvent);return s?i=i.addChanges(s,o,a,t,e):e.selection&&(i=i.addSelection(e.startState.selection,o,a,t.newGroupDelay)),(r=="full"||r=="after")&&(i=i.isolate()),i},toJSON(i){return{done:i.done.map(e=>e.toJSON()),undone:i.undone.map(e=>e.toJSON())}},fromJSON(i){return new Ft(i.done.map(lt.fromJSON),i.undone.map(lt.fromJSON))}});function Iy(i={}){return[pd,ud.of(i),W.domEventHandlers({beforeinput(e,t){let n=e.inputType=="historyUndo"?_s:e.inputType=="historyRedo"?fi:null;return n?(e.preventDefault(),n(t)):!1}})]}function Ys(i,e){return function({state:t,dispatch:n}){if(!e&&t.readOnly)return!1;let r=t.field(pd,!1);if(!r)return!1;let s=r.pop(i,t,e);return s?(n(s),!0):!1}}const _s=Ys(0,!1),fi=Ys(1,!1),dd=Ys(0,!0),Fy=Ys(1,!0);class lt{constructor(e,t,n,r,s){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=r,this.selectionsAfter=s}setSelAfter(e){return new lt(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(e){return new lt(e.changes&&De.fromJSON(e.changes),[],e.mapped&&Vt.fromJSON(e.mapped),e.startSelection&&R.fromJSON(e.startSelection),e.selectionsAfter.map(R.fromJSON))}static fromTransaction(e,t){let n=St;for(let r of e.startState.facet(Wy)){let s=r(e);s.length&&(n=n.concat(s))}return!n.length&&e.changes.empty?null:new lt(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,St)}static selection(e){return new lt(void 0,St,void 0,void 0,e)}}function hs(i,e,t,n){let r=e+1>t+20?e-t-1:0,s=i.slice(r,e);return s.push(n),s}function Vy(i,e){let t=[],n=!1;return i.iterChangedRanges((r,s)=>t.push(r,s)),e.iterChangedRanges((r,s,o,a)=>{for(let h=0;h<t.length;){let p=t[h++],f=t[h++];a>=p&&o<=f&&(n=!0)}}),n}function qy(i,e){return i.ranges.length==e.ranges.length&&i.ranges.filter((t,n)=>t.empty!=e.ranges[n].empty).length===0}function fd(i,e){return i.length?e.length?i.concat(e):i:e}const St=[],Yy=200;function md(i,e){if(i.length){let t=i[i.length-1],n=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-Yy));return n.length&&n[n.length-1].eq(e)?i:(n.push(e),hs(i,i.length-1,1e9,t.setSelAfter(n)))}else return[lt.selection([e])]}function _y(i){let e=i[i.length-1],t=i.slice();return t[i.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function jo(i,e){if(!i.length)return i;let t=i.length,n=St;for(;t;){let r=zy(i[t-1],e,n);if(r.changes&&!r.changes.empty||r.effects.length){let s=i.slice(0,t);return s[t-1]=r,s}else e=r.mapped,t--,n=r.selectionsAfter}return n.length?[lt.selection(n)]:St}function zy(i,e,t){let n=fd(i.selectionsAfter.length?i.selectionsAfter.map(a=>a.map(e)):St,t);if(!i.changes)return lt.selection(n);let r=i.changes.map(e),s=e.mapDesc(i.changes,!0),o=i.mapped?i.mapped.composeDesc(s):s;return new lt(r,G.mapEffects(i.effects,e),o,i.startSelection.map(s),n)}const Gy=/^(input\.type|delete)($|\.)/;class Ft{constructor(e,t,n=0,r=void 0){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=r}isolate(){return this.prevTime?new Ft(this.done,this.undone):this}addChanges(e,t,n,r,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!n||Gy.test(n))&&(!a.selectionsAfter.length&&t-this.prevTime<r.newGroupDelay&&r.joinToEvent(s,Vy(a.changes,e.changes))||n=="input.type.compose")?o=hs(o,o.length-1,r.minDepth,new lt(e.changes.compose(a.changes),fd(e.effects,a.effects),a.mapped,a.startSelection,St)):o=hs(o,o.length,r.minDepth,e),new Ft(o,St,t,n)}addSelection(e,t,n,r){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:St;return s.length>0&&t-this.prevTime<r&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&qy(s[s.length-1],e)?this:new Ft(md(this.done,e),this.undone,t,n)}addMapping(e){return new Ft(jo(this.done,e),jo(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let r=e==0?this.done:this.undone;if(r.length==0)return null;let s=r[r.length-1];if(n&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:Pa.of({side:e,rest:_y(r)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let o=r.length==1?St:r.slice(0,r.length-1);return s.mapped&&(o=jo(o,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:Pa.of({side:e,rest:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Ft.empty=new Ft(St,St);const Hy=[{key:"Mod-z",run:_s,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:fi,preventDefault:!0},{linux:"Ctrl-Shift-z",run:fi,preventDefault:!0},{key:"Mod-u",run:dd,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Fy,preventDefault:!0}];function yi(i,e){return R.create(i.ranges.map(e),i.mainIndex)}function _t(i,e){return i.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Rt({state:i,dispatch:e},t){let n=yi(i.selection,t);return n.eq(i.selection)?!1:(e(_t(i,n)),!0)}function zs(i,e){return R.cursor(e?i.to:i.from)}function dl(i,e){return Rt(i,t=>t.empty?i.moveByChar(t,e):zs(t,e))}function ze(i){return i.textDirectionAt(i.state.selection.main.head)==we.LTR}const Gi=i=>dl(i,!ze(i)),us=i=>dl(i,ze(i)),Ky=i=>dl(i,!1);function gd(i,e){return Rt(i,t=>t.empty?i.moveByGroup(t,e):zs(t,e))}const Od=i=>gd(i,!ze(i)),yd=i=>gd(i,ze(i));function Jy(i,e,t){if(e.type.prop(t))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(i.sliceDoc(e.from,e.to)))||e.firstChild}function Gs(i,e,t){let n=Fe(i).resolveInner(e.head),r=t?K.closedBy:K.openedBy;for(let h=e.head;;){let p=t?n.childAfter(h):n.childBefore(h);if(!p)break;Jy(i,p,r)?n=p:h=t?p.to:p.from}let s=n.type.prop(r),o,a;return s&&(o=t?mn(i,n.from,1):mn(i,n.to,-1))&&o.matched?a=t?o.end.to:o.end.from:a=t?n.to:n.from,R.cursor(a,t?-1:1)}const eb=i=>Rt(i,e=>Gs(i.state,e,!ze(i))),tb=i=>Rt(i,e=>Gs(i.state,e,ze(i)));function bd(i,e){return Rt(i,t=>{if(!t.empty)return zs(t,e);let n=i.moveVertically(t,e);return n.head!=t.head?n:i.moveToLineBoundary(t,e)})}const ps=i=>bd(i,!1),ds=i=>bd(i,!0);function vd(i){let e=i.scrollDOM.clientHeight<i.scrollDOM.scrollHeight-2,t=0,n=0,r;if(e){for(let s of i.state.facet(W.scrollMargins)){let o=s(i);o?.top&&(t=Math.max(o?.top,t)),o?.bottom&&(n=Math.max(o?.bottom,n))}r=i.scrollDOM.clientHeight-t-n}else r=(i.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:n,selfScroll:e,height:Math.max(i.defaultLineHeight,r-5)}}function kd(i,e){let t=vd(i),{state:n}=i,r=yi(n.selection,o=>o.empty?i.moveVertically(o,e,t.height):zs(o,e));if(r.eq(n.selection))return!1;let s;if(t.selfScroll){let o=i.coordsAtPos(n.selection.main.head),a=i.scrollDOM.getBoundingClientRect(),h=a.top+t.marginTop,p=a.bottom-t.marginBottom;o&&o.top>h&&o.bottom<p&&(s=W.scrollIntoView(r.main.head,{y:"start",yMargin:o.top-h}))}return i.dispatch(_t(n,r),{effects:s}),!0}const Li=i=>kd(i,!1),ii=i=>kd(i,!0);function Cn(i,e,t){let n=i.lineBlockAt(e.head),r=i.moveToLineBoundary(e,t);if(r.head==e.head&&r.head!=(t?n.to:n.from)&&(r=i.moveToLineBoundary(e,t,!1)),!t&&r.head==n.from&&n.length){let s=/^\s*/.exec(i.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;s&&e.head!=n.from+s&&(r=R.cursor(n.from+s))}return r}const fs=i=>Rt(i,e=>Cn(i,e,!0)),ms=i=>Rt(i,e=>Cn(i,e,!1)),nb=i=>Rt(i,e=>Cn(i,e,!ze(i))),ib=i=>Rt(i,e=>Cn(i,e,ze(i))),wd=i=>Rt(i,e=>R.cursor(i.lineBlockAt(e.head).from,1)),xd=i=>Rt(i,e=>R.cursor(i.lineBlockAt(e.head).to,-1));function rb(i,e,t){let n=!1,r=yi(i.selection,s=>{let o=mn(i,s.head,-1)||mn(i,s.head,1)||s.head>0&&mn(i,s.head-1,1)||s.head<i.doc.length&&mn(i,s.head+1,-1);if(!o||!o.end)return s;n=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return t?R.range(s.anchor,a):R.cursor(a)});return n?(e(_t(i,r)),!0):!1}const Sd=({state:i,dispatch:e})=>rb(i,e,!1);function Pt(i,e){let t=yi(i.state.selection,n=>{let r=e(n);return R.range(n.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return t.eq(i.state.selection)?!1:(i.dispatch(_t(i.state,t)),!0)}function Pd(i,e){return Pt(i,t=>i.moveByChar(t,e))}const gs=i=>Pd(i,!ze(i)),Os=i=>Pd(i,ze(i));function Qd(i,e){return Pt(i,t=>i.moveByGroup(t,e))}const Cd=i=>Qd(i,!ze(i)),$d=i=>Qd(i,ze(i)),sb=i=>Pt(i,e=>Gs(i.state,e,!ze(i))),ob=i=>Pt(i,e=>Gs(i.state,e,ze(i)));function Ad(i,e){return Pt(i,t=>i.moveVertically(t,e))}const ys=i=>Ad(i,!1),bs=i=>Ad(i,!0);function Td(i,e){return Pt(i,t=>i.moveVertically(t,e,vd(i).height))}const vs=i=>Td(i,!1),ks=i=>Td(i,!0),Qa=i=>Pt(i,e=>Cn(i,e,!0)),Ca=i=>Pt(i,e=>Cn(i,e,!1)),ab=i=>Pt(i,e=>Cn(i,e,!ze(i))),lb=i=>Pt(i,e=>Cn(i,e,ze(i))),Md=i=>Pt(i,e=>R.cursor(i.lineBlockAt(e.head).from)),Rd=i=>Pt(i,e=>R.cursor(i.lineBlockAt(e.head).to)),ws=({state:i,dispatch:e})=>(e(_t(i,{anchor:0})),!0),xs=({state:i,dispatch:e})=>(e(_t(i,{anchor:i.doc.length})),!0),Ss=({state:i,dispatch:e})=>(e(_t(i,{anchor:i.selection.main.anchor,head:0})),!0),Ps=({state:i,dispatch:e})=>(e(_t(i,{anchor:i.selection.main.anchor,head:i.doc.length})),!0),jd=({state:i,dispatch:e})=>(e(i.update({selection:{anchor:0,head:i.doc.length},userEvent:"select"})),!0),Dd=({state:i,dispatch:e})=>{let t=Ks(i).map(({from:n,to:r})=>R.range(n,Math.min(r+1,i.doc.length)));return e(i.update({selection:R.create(t),userEvent:"select"})),!0},cb=({state:i,dispatch:e})=>{let t=yi(i.selection,n=>{var r;let s=Fe(i).resolveInner(n.head,1);for(;!(s.from<n.from&&s.to>=n.to||s.to>n.to&&s.from<=n.from||!(!((r=s.parent)===null||r===void 0)&&r.parent));)s=s.parent;return R.range(s.to,s.from)});return e(_t(i,t)),!0},hb=({state:i,dispatch:e})=>{let t=i.selection,n=null;return t.ranges.length>1?n=R.create([t.main]):t.main.empty||(n=R.create([R.cursor(t.main.head)])),n?(e(_t(i,n)),!0):!1};function Hs(i,e){if(i.state.readOnly)return!1;let t="delete.selection",{state:n}=i,r=n.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let h=e(o);h<o?(t="delete.backward",h=Tr(i,h,!1)):h>o&&(t="delete.forward",h=Tr(i,h,!0)),o=Math.min(o,h),a=Math.max(a,h)}else o=Tr(i,o,!1),a=Tr(i,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:R.cursor(o)}});return r.changes.empty?!1:(i.dispatch(n.update(r,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?W.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function Tr(i,e,t){if(i instanceof W)for(let n of i.state.facet(W.atomicRanges).map(r=>r(i)))n.between(e,e,(r,s)=>{r<e&&s>e&&(e=t?s:r)});return e}const Ud=(i,e)=>Hs(i,t=>{let{state:n}=i,r=n.doc.lineAt(t),s,o;if(!e&&t>r.from&&t<r.from+200&&!/[^ \t]/.test(s=r.text.slice(0,t-r.from))){if(s[s.length-1]=="	")return t-1;let a=Ia(s,n.tabSize),h=a%as(n)||as(n);for(let p=0;p<h&&s[s.length-1-p]==" ";p++)t--;o=t}else o=Je(r.text,t-r.from,e,e)+r.from,o==t&&r.number!=(e?n.doc.lines:1)&&(o+=e?1:-1);return o}),ri=i=>Ud(i,!1),Qs=i=>Ud(i,!0),Zd=(i,e)=>Hs(i,t=>{let n=t,{state:r}=i,s=r.doc.lineAt(n),o=r.charCategorizer(n);for(let a=null;;){if(n==(e?s.to:s.from)){n==t&&s.number!=(e?r.doc.lines:1)&&(n+=e?1:-1);break}let h=Je(s.text,n-s.from,e)+s.from,p=s.text.slice(Math.min(n,h)-s.from,Math.max(n,h)-s.from),f=o(p);if(a!=null&&f!=a)break;(p!=" "||n!=t)&&(a=f),n=h}return n}),Cs=i=>Zd(i,!1),Bd=i=>Zd(i,!0),$s=i=>Hs(i,e=>{let t=i.lineBlockAt(e).to;return e<t?t:Math.min(i.state.doc.length,e+1)}),Ld=i=>Hs(i,e=>{let t=i.lineBlockAt(e).from;return e>t?t:Math.max(0,e-1)}),fl=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let t=i.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:oe.of(["",""])},range:R.cursor(n.from)}));return e(i.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},Xd=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let t=i.changeByRange(n=>{if(!n.empty||n.from==0||n.from==i.doc.length)return{range:n};let r=n.from,s=i.doc.lineAt(r),o=r==s.from?r-1:Je(s.text,r-s.from,!1)+s.from,a=r==s.to?r+1:Je(s.text,r-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:i.doc.slice(r,a).append(i.doc.slice(o,r))},range:R.cursor(a)}});return t.changes.empty?!1:(e(i.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Ks(i){let e=[],t=-1;for(let n of i.selection.ranges){let r=i.doc.lineAt(n.from),s=i.doc.lineAt(n.to);if(!n.empty&&n.to==s.from&&(s=i.doc.lineAt(n.to-1)),t>=r.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(n)}else e.push({from:r.from,to:s.to,ranges:[n]});t=s.number+1}return e}function Ed(i,e,t){if(i.readOnly)return!1;let n=[],r=[];for(let s of Ks(i)){if(t?s.to==i.doc.length:s.from==0)continue;let o=i.doc.lineAt(t?s.to+1:s.from-1),a=o.length+1;if(t){n.push({from:s.to,to:o.to},{from:s.from,insert:o.text+i.lineBreak});for(let h of s.ranges)r.push(R.range(Math.min(i.doc.length,h.anchor+a),Math.min(i.doc.length,h.head+a)))}else{n.push({from:o.from,to:s.from},{from:s.to,insert:i.lineBreak+o.text});for(let h of s.ranges)r.push(R.range(h.anchor-a,h.head-a))}}return n.length?(e(i.update({changes:n,scrollIntoView:!0,selection:R.create(r,i.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Wd=({state:i,dispatch:e})=>Ed(i,e,!1),Nd=({state:i,dispatch:e})=>Ed(i,e,!0);function Id(i,e,t){if(i.readOnly)return!1;let n=[];for(let r of Ks(i))t?n.push({from:r.from,insert:i.doc.slice(r.from,r.to)+i.lineBreak}):n.push({from:r.to,insert:i.lineBreak+i.doc.slice(r.from,r.to)});return e(i.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Fd=({state:i,dispatch:e})=>Id(i,e,!1),Vd=({state:i,dispatch:e})=>Id(i,e,!0),qd=i=>{if(i.state.readOnly)return!1;let{state:e}=i,t=e.changes(Ks(e).map(({from:r,to:s})=>(r>0?r--:s<e.doc.length&&s++,{from:r,to:s}))),n=yi(e.selection,r=>i.moveVertically(r,!0)).map(t);return i.dispatch({changes:t,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function ub(i,e){if(/\(\)|\[\]|\{\}/.test(i.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Fe(i).resolveInner(e),n=t.childBefore(e),r=t.childAfter(e),s;return n&&r&&n.to<=e&&r.from>=e&&(s=n.type.prop(K.closedBy))&&s.indexOf(r.name)>-1&&i.doc.lineAt(n.to).from==i.doc.lineAt(r.from).from?{from:n.to,to:r.from}:null}const As=Yd(!1),pb=Yd(!0);function Yd(i){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(r=>{let{from:s,to:o}=r,a=e.doc.lineAt(s),h=!i&&s==o&&ub(e,s);i&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let p=new Fs(e,{simulateBreak:s,simulateDoubleBreak:!!h}),f=jp(p,s);for(f==null&&(f=/^\s*/.exec(e.doc.lineAt(s).text)[0].length);o<a.to&&/\s/.test(a.text[o-a.from]);)o++;h?{from:s,to:o}=h:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let g=["",ls(e,f)];return h&&g.push(ls(e,p.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:oe.of(g)},range:R.cursor(s+1+g[1].length)}});return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function ml(i,e){let t=-1;return i.changeByRange(n=>{let r=[];for(let o=n.from;o<=n.to;){let a=i.doc.lineAt(o);a.number>t&&(n.empty||n.to>a.from)&&(e(a,r,n),t=a.number),o=a.to+1}let s=i.changes(r);return{changes:r,range:R.range(s.mapPos(n.anchor,1),s.mapPos(n.head,1))}})}const _d=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let t=Object.create(null),n=new Fs(i,{overrideIndentation:s=>{let o=t[s];return o??-1}}),r=ml(i,(s,o,a)=>{let h=jp(n,s.from);if(h==null)return;/\S/.test(s.text)||(h=0);let p=/^\s*/.exec(s.text)[0],f=ls(i,h);(p!=f||a.from<s.from+p.length)&&(t[s.from]=h,o.push({from:s.from,to:s.from+p.length,insert:f}))});return r.changes.empty||e(i.update(r,{userEvent:"indent"})),!0},Ts=({state:i,dispatch:e})=>i.readOnly?!1:(e(i.update(ml(i,(t,n)=>{n.push({from:t.from,insert:i.facet(di)})}),{userEvent:"input.indent"})),!0),Ms=({state:i,dispatch:e})=>i.readOnly?!1:(e(i.update(ml(i,(t,n)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let s=Ia(r,i.tabSize),o=0,a=ls(i,Math.max(0,s-as(i)));for(;o<r.length&&o<a.length&&r.charCodeAt(o)==a.charCodeAt(o);)o++;n.push({from:t.from+o,to:t.from+r.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),db=[{key:"Ctrl-b",run:Gi,shift:gs,preventDefault:!0},{key:"Ctrl-f",run:us,shift:Os},{key:"Ctrl-p",run:ps,shift:ys},{key:"Ctrl-n",run:ds,shift:bs},{key:"Ctrl-a",run:wd,shift:Md},{key:"Ctrl-e",run:xd,shift:Rd},{key:"Ctrl-d",run:Qs},{key:"Ctrl-h",run:ri},{key:"Ctrl-k",run:$s},{key:"Ctrl-Alt-h",run:Cs},{key:"Ctrl-o",run:fl},{key:"Ctrl-t",run:Xd},{key:"Ctrl-v",run:ii}],fb=[{key:"ArrowLeft",run:Gi,shift:gs,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:Od,shift:Cd,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:nb,shift:ab,preventDefault:!0},{key:"ArrowRight",run:us,shift:Os,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:yd,shift:$d,preventDefault:!0},{mac:"Cmd-ArrowRight",run:ib,shift:lb,preventDefault:!0},{key:"ArrowUp",run:ps,shift:ys,preventDefault:!0},{mac:"Cmd-ArrowUp",run:ws,shift:Ss},{mac:"Ctrl-ArrowUp",run:Li,shift:vs},{key:"ArrowDown",run:ds,shift:bs,preventDefault:!0},{mac:"Cmd-ArrowDown",run:xs,shift:Ps},{mac:"Ctrl-ArrowDown",run:ii,shift:ks},{key:"PageUp",run:Li,shift:vs},{key:"PageDown",run:ii,shift:ks},{key:"Home",run:ms,shift:Ca,preventDefault:!0},{key:"Mod-Home",run:ws,shift:Ss},{key:"End",run:fs,shift:Qa,preventDefault:!0},{key:"Mod-End",run:xs,shift:Ps},{key:"Enter",run:As},{key:"Mod-a",run:jd},{key:"Backspace",run:ri,shift:ri},{key:"Delete",run:Qs},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Cs},{key:"Mod-Delete",mac:"Alt-Delete",run:Bd},{mac:"Mod-Backspace",run:Ld},{mac:"Mod-Delete",run:$s}].concat(db.map(i=>({mac:i.key,run:i.run,shift:i.shift}))),mb=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:eb,shift:sb},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:tb,shift:ob},{key:"Alt-ArrowUp",run:Wd},{key:"Shift-Alt-ArrowUp",run:Fd},{key:"Alt-ArrowDown",run:Nd},{key:"Shift-Alt-ArrowDown",run:Vd},{key:"Escape",run:hb},{key:"Mod-Enter",run:pb},{key:"Alt-l",mac:"Ctrl-l",run:Dd},{key:"Mod-i",run:cb,preventDefault:!0},{key:"Mod-[",run:Ms},{key:"Mod-]",run:Ts},{key:"Mod-Alt-\\",run:_d},{key:"Shift-Mod-k",run:qd},{key:"Shift-Mod-\\",run:Sd},{key:"Mod-/",run:hl},{key:"Alt-A",run:cd}].concat(fb);class Rs{constructor(e,t,n,r,s,o,a,h,p,f=0,g){this.p=e,this.stack=t,this.state=n,this.reducePos=r,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=h,this.curContext=p,this.lookAhead=f,this.parent=g}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,n=0){let r=e.parser.context;return new Rs(e,[],t,n,n,0,[],0,r?new Ph(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){let t=e>>19,n=e&65535,{parser:r}=this.p,s=r.dynamicPrecedence(n);if(s&&(this.score+=s),t==0){this.pushState(r.getGoto(this.state,n,!0),this.reducePos),n<r.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,4,!0),this.reduceContext(n,this.reducePos);return}let o=this.stack.length-(t-1)*3-(e&262144?6:0),a=o?this.stack[o-2]:0,h=this.reducePos-a;h>=2e3&&(a==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=a,this.p.lastBigReductionSize=h));let p=o?this.stack[o-1]:0,f=this.bufferBase+this.buffer.length-p;if(n<r.minRepeatTerm||e&131072){let g=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,a,g,f+4,!0)}if(e&262144)this.state=this.stack[o];else{let g=this.stack[o-3];this.state=r.getGoto(g,n,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(n,a)}storeNode(e,t,n,r=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(t==n)return;if(o.buffer[a-2]>=t){o.buffer[a-2]=n;return}}}if(!s||this.pos==n)this.buffer.push(e,t,n,r);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0)for(;o>0&&this.buffer[o-2]>n;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,r>4&&(r-=4);this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=n,this.buffer[o+3]=r}}shift(e,t,n){let r=this.pos;if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=n,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,n,4);else{let s=e,{parser:o}=this.p;(n>this.pos||t<=o.maxNode)&&(this.pos=n,o.stateFlag(s,1)||(this.reducePos=n)),this.pushState(s,r),this.shiftContext(t,r),t<=o.maxNode&&this.buffer.push(t,r,n,4)}}apply(e,t,n){e&65536?this.reduce(e):this.shift(e,t,n)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(n,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new Rs(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new gb(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(n==0)return!1;if(!(n&65536))return!0;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let r=[];for(let s=0,o;s<t.length;s+=2)(o=t[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&r.push(t[s],o);if(this.stack.length<120)for(let s=0;r.length<8&&s<t.length;s+=2){let o=t[s+1];r.some((a,h)=>h&1&&a==o)||r.push(t[s],o)}t=r}let n=[];for(let r=0;r<t.length&&n.length<4;r+=2){let s=t[r+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[r],this.pos),o.score-=200,n.push(o)}return n}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if(!(e&65536))return!1;let{parser:t}=this.p;if(!t.validAction(this.state,e)){let n=e>>19,r=e&65535,s=this.stack.length-n*3;if(s<0||t.getGoto(this.stack[s],r,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new Ph(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Ph{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}var Qh;(function(i){i[i.Insert=200]="Insert",i[i.Delete=190]="Delete",i[i.Reduce=100]="Reduce",i[i.MaxNext=4]="MaxNext",i[i.MaxInsertStackDepth=300]="MaxInsertStackDepth",i[i.DampenInsertStackDepth=120]="DampenInsertStackDepth",i[i.MinBigReduction=2e3]="MinBigReduction"})(Qh||(Qh={}));class gb{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,n=e>>19;n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(n-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class js{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new js(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new js(this.stack,this.pos,this.index)}}function ji(i,e=Uint16Array){if(typeof i!="string")return i;let t=null;for(let n=0,r=0;n<i.length;){let s=0;for(;;){let o=i.charCodeAt(n++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let h=o-32;if(h>=46&&(h-=46,a=!0),s+=h,a)break;s*=46}t?t[r++]=s:t=new e(s)}return t}class Wr{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Ch=new Wr;class Ob{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Ch,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,r=this.rangeIndex,s=this.pos+e;for(;s<n.from;){if(!r)return null;let o=this.ranges[--r];s-=n.from-o.to,n=o}for(;t<0?s>n.to:s>=n.to;){if(r==this.ranges.length-1)return null;let o=this.ranges[++r];s+=o.from-n.to,n=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,n,r;if(t>=0&&t<this.chunk.length)n=this.pos+e,r=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(n=s,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=n;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-n)),r=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),r}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(n==null||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=Ch,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(n+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return n}}class si{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:n}=t.p;zd(this.data,e,t,this.id,n.data,n.tokenPrecTable)}}si.prototype.contextual=si.prototype.fallback=si.prototype.extend=!1;class $a{constructor(e,t,n){this.precTable=t,this.elseToken=n,this.data=typeof e=="string"?ji(e):e}token(e,t){let n=e.pos,r;for(;r=e.pos,zd(this.data,e,t,0,this.data,this.precTable),!(e.token.value>-1);){if(this.elseToken==null)return;if(e.next<0)break;e.advance(),e.reset(r+1,e.token)}r>n&&(e.reset(n,e.token),e.acceptToken(this.elseToken,r-n))}}$a.prototype.contextual=si.prototype.fallback=si.prototype.extend=!1;class gl{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function zd(i,e,t,n,r,s){let o=0,a=1<<n,{dialect:h}=t.p.parser;e:for(;a&i[o];){let p=i[o+1];for(let k=o+3;k<p;k+=2)if((i[k+1]&a)>0){let S=i[k];if(h.allows(S)&&(e.token.value==-1||e.token.value==S||yb(S,e.token.value,r,s))){e.acceptToken(S);break}}let f=e.next,g=0,b=i[o+2];if(e.next<0&&b>g&&i[p+b*3-3]==65535&&i[p+b*3-3]==65535){o=i[p+b*3-1];continue e}for(;g<b;){let k=g+b>>1,S=p+k+(k<<1),T=i[S],A=i[S+1]||65536;if(f<T)b=k;else if(f>=A)g=k+1;else{o=i[S+2],e.advance();continue e}}break}}function $h(i,e,t){for(let n=e,r;(r=i[n])!=65535;n++)if(r==t)return n-e;return-1}function yb(i,e,t,n){let r=$h(t,n,e);return r<0||$h(t,n,i)<r}const Tt=typeof process<"u"&&process.env&&/\bparse\b/.test({}.LOG);let Do=null;var Ah;(function(i){i[i.Margin=25]="Margin"})(Ah||(Ah={}));function Th(i,e,t){let n=i.cursor(Le.IncludeAnonymous);for(n.moveTo(e);;)if(!(t<0?n.childBefore(e):n.childAfter(e)))for(;;){if((t<0?n.to<e:n.from>e)&&!n.type.isError)return t<0?Math.max(0,Math.min(n.to-1,e-25)):Math.min(i.length,Math.max(n.from+1,e+25));if(t<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return t<0?0:i.length}}class bb{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Th(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Th(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],r=this.index[t];if(r==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=n.children[r],o=this.start[t]+n.positions[r];if(o>e)return this.nextStart=o,null;if(s instanceof Ae){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let h=s.prop(K.lookAhead);if(!h||a+h<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}}class vb{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(n=>new Wr)}getActions(e){let t=0,n=null,{parser:r}=e.p,{tokenizers:s}=r,o=r.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,h=0;for(let p=0;p<s.length;p++){if(!(1<<p&o))continue;let f=s[p],g=this.tokens[p];if(!(n&&!f.fallback)&&((f.contextual||g.start!=e.pos||g.mask!=o||g.context!=a)&&(this.updateCachedToken(g,f,e),g.mask=o,g.context=a),g.lookAhead>g.end+25&&(h=Math.max(g.lookAhead,h)),g.value!=0)){let b=t;if(g.extended>-1&&(t=this.addActions(e,g.extended,g.end,t)),t=this.addActions(e,g.value,g.end,t),!f.extend&&(n=g,t>b))break}}for(;this.actions.length>t;)this.actions.pop();return h&&e.setLookAhead(h),!n&&e.pos==this.stream.end&&(n=new Wr,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Wr,{pos:n,p:r}=e;return t.start=n,t.end=Math.min(n+1,r.stream.end),t.value=n==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,n){let r=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(r,e),n),e.value>-1){let{parser:s}=n.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),n);if(a>=0&&n.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,t,n,r){for(let s=0;s<r;s+=3)if(this.actions[s]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=n,r}addActions(e,t,n,r){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let h=0;h<2;h++)for(let p=o.stateSlot(s,h?2:1);;p+=3){if(a[p]==65535)if(a[p+1]==1)p=Jt(a,p+2);else{r==0&&a[p+1]==2&&(r=this.putAction(Jt(a,p+2),t,n,r));break}a[p]==t&&(r=this.putAction(Jt(a,p+1),t,n,r))}return r}}var Mh;(function(i){i[i.Distance=5]="Distance",i[i.MaxRemainingPerStep=3]="MaxRemainingPerStep",i[i.MinBufferLengthPrune=500]="MinBufferLengthPrune",i[i.ForceReduceLimit=10]="ForceReduceLimit",i[i.CutDepth=15e3]="CutDepth",i[i.CutTo=9e3]="CutTo",i[i.MaxLeftAssociativeReductionCount=1e3]="MaxLeftAssociativeReductionCount"})(Mh||(Mh={}));class kb{constructor(e,t,n,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Ob(t,r),this.tokens=new vb(e,this.stream),this.topTerm=e.top[1];let{from:s}=r[0];this.stacks=[Rs.start(this,e.top[0],s)],this.fragments=n.length&&this.stream.end-s>e.bufferLength*4?new bb(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,n=this.stacks=[],r,s;if(this.bigReductionCount>1e3&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>t)n.push(a);else{if(this.advanceStack(a,n,e))continue;{r||(r=[],s=[]),r.push(a);let h=this.tokens.getMainToken(a);s.push(h.value,h.end)}}break}}if(!n.length){let o=r&&Sb(r);if(o)return this.stackToTree(o);if(this.parser.strict)throw Tt&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&r){let o=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,s,n);if(o)return this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(n.length>o)for(n.sort((a,h)=>h.score-a.score);n.length>o;)n.pop();n.some(a=>a.reducePos>t)&&this.recovering--}else if(n.length>1)e:for(let o=0;o<n.length-1;o++){let a=n[o];for(let h=o+1;h<n.length;h++){let p=n[h];if(a.sameState(p)||a.buffer.length>500&&p.buffer.length>500)if((a.score-p.score||a.buffer.length-p.buffer.length)>0)n.splice(h--,1);else{n.splice(o--,1);continue e}}}this.minStackPos=n[0].pos;for(let o=1;o<n.length;o++)n[o].pos<this.minStackPos&&(this.minStackPos=n[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let r=e.pos,{parser:s}=this,o=Tt?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let p=e.curContext&&e.curContext.tracker.strict,f=p?e.curContext.hash:0;for(let g=this.fragments.nodeAt(r);g;){let b=this.parser.nodeSet.types[g.type.id]==g.type?s.getGoto(e.state,g.type.id):-1;if(b>-1&&g.length&&(!p||(g.prop(K.contextHash)||0)==f))return e.useNode(g,b),Tt&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(g.type.id)})`),!0;if(!(g instanceof Ae)||g.children.length==0||g.positions[0]>0)break;let k=g.children[0];if(k instanceof Ae&&g.positions[0]==0)g=k;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),Tt&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let h=this.tokens.getActions(e);for(let p=0;p<h.length;){let f=h[p++],g=h[p++],b=h[p++],k=p==h.length||!n,S=k?e:e.split();if(S.apply(f,g,b),Tt&&console.log(o+this.stackID(S)+` (via ${f&65536?`reduce of ${s.getName(f&65535)}`:"shift"} for ${s.getName(g)} @ ${r}${S==e?"":", split"})`),k)return!0;S.pos>r?t.push(S):n.push(S)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return Rh(e,t),!0}}runRecovery(e,t,n){let r=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],h=t[o<<1],p=t[(o<<1)+1],f=Tt?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),Tt&&console.log(f+this.stackID(a)+" (restarted)"),this.advanceFully(a,n))))continue;let g=a.split(),b=f;for(let k=0;g.forceReduce()&&k<10&&(Tt&&console.log(b+this.stackID(g)+" (via force-reduce)"),!this.advanceFully(g,n));k++)Tt&&(b=this.stackID(g)+" -> ");for(let k of a.recoverByInsert(h))Tt&&console.log(f+this.stackID(k)+" (via recover-insert)"),this.advanceFully(k,n);this.stream.end>a.pos?(p==a.pos&&(p++,h=0),a.recoverByDelete(h,p),Tt&&console.log(f+this.stackID(a)+` (via recover-delete ${this.parser.getName(h)})`),Rh(a,n)):(!r||r.score<a.score)&&(r=a)}return r}stackToTree(e){return e.close(),Ae.build({buffer:js.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Do||(Do=new WeakMap)).get(e);return t||Do.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function Rh(i,e){for(let t=0;t<e.length;t++){let n=e[t];if(n.pos==i.pos&&n.sameState(i)){e[t].score<i.score&&(e[t]=i);return}}e.push(i)}class wb{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||this.disabled[e]==0}}const Uo=i=>i;class xb{constructor(e){this.start=e.start,this.shift=e.shift||Uo,this.reduce=e.reduce||Uo,this.reuse=e.reuse||Uo,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Ds extends Qp{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let a=0;a<e.repeatNodeCount;a++)t.push("");let n=Object.keys(e.topRules).map(a=>e.topRules[a][1]),r=[];for(let a=0;a<t.length;a++)r.push([]);function s(a,h,p){r[a].push([h,h.deserialize(String(p))])}if(e.nodeProps)for(let a of e.nodeProps){let h=a[0];typeof h=="string"&&(h=K[h]);for(let p=1;p<a.length;){let f=a[p++];if(f>=0)s(f,h,a[p++]);else{let g=a[p+-f];for(let b=-f;b>0;b--)s(a[p++],h,g);p++}}}this.nodeSet=new Ka(t.map((a,h)=>ct.define({name:h>=this.minRepeatTerm?void 0:a,id:h,props:r[h],top:n.indexOf(h)>-1,error:h==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(h)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=xp;let o=ji(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(jh),this.states=ji(e.states,Uint32Array),this.data=ji(e.stateData),this.goto=ji(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new si(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let r=new kb(this,e,t,n);for(let s of this.wrappers)r=s(r,e,t,n);return r}getGoto(e,t,n=!1){let r=this.goto;if(t>=r[0])return-1;for(let s=r[t+1];;){let o=r[s++],a=o&1,h=r[s++];if(a&&n)return h;for(let p=s+(o>>1);s<p;s++)if(r[s]==e)return h;if(a)return-1}}hasAction(e,t){let n=this.data;for(let r=0;r<2;r++)for(let s=this.stateSlot(e,r?2:1),o;;s+=3){if((o=n[s])==65535)if(n[s+1]==1)o=n[s=Jt(n,s+2)];else{if(n[s+1]==2)return Jt(n,s+2);break}if(o==t||o==0)return Jt(n,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){if(t==this.stateSlot(e,4))return!0;for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=Jt(this.data,n+2);else return!1;if(t==Jt(this.data,n+1))return!0}}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=Jt(this.data,n+2);else break;if(!(this.data[n+2]&1)){let r=this.data[n+1];t.some((s,o)=>o&1&&s==r)||t.push(this.data[n],r)}}return t}configure(e){let t=Object.assign(Object.create(Ds.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(n=>{let r=e.tokenizers.find(s=>s.from==n);return r?r.to:n})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((n,r)=>{let s=e.specializers.find(a=>a.from==n.external);if(!s)return n;let o=Object.assign(Object.assign({},n),{external:s.to});return t.specializers[r]=jh(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map(()=>!1);if(e)for(let s of e.split(" ")){let o=t.indexOf(s);o>=0&&(n[o]=!0)}let r=null;for(let s=0;s<t.length;s++)if(!n[s])for(let o=this.dialects[t[s]],a;(a=this.data[o++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[a]=1;return new wb(e,n,r)}static deserialize(e){return new Ds(e)}}function Jt(i,e){return i[e]|i[e+1]<<16}function Sb(i){let e=null;for(let t of i){let n=t.p.stoppedAt;(t.pos==t.p.stream.end||n!=null&&t.pos>n)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function jh(i){if(i.external){let e=i.extend?1:0;return(t,n)=>i.external(t,n)<<1|e}return i.get}const Dh=301,Uh=1,Pb=2,Zh=302,Qb=304,Cb=305,$b=3,Ab=4,Tb=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],Gd=125,Mb=59,Bh=47,Rb=42,jb=43,Db=45,Ub=new xb({start:!1,shift(i,e){return e==$b||e==Ab||e==Qb?i:e==Cb},strict:!1}),Zb=new gl((i,e)=>{let{next:t}=i;(t==Gd||t==-1||e.context)&&e.canShift(Zh)&&i.acceptToken(Zh)},{contextual:!0,fallback:!0}),Bb=new gl((i,e)=>{let{next:t}=i,n;Tb.indexOf(t)>-1||t==Bh&&((n=i.peek(1))==Bh||n==Rb)||t!=Gd&&t!=Mb&&t!=-1&&!e.context&&e.canShift(Dh)&&i.acceptToken(Dh)},{contextual:!0}),Lb=new gl((i,e)=>{let{next:t}=i;if((t==jb||t==Db)&&(i.advance(),t==i.next)){i.advance();let n=!e.context&&e.canShift(Uh);i.acceptToken(n?Uh:Pb)}},{contextual:!0}),Xb=Cp({"get set async static":l.modifier,"for while do if else switch try catch finally return throw break continue default case":l.controlKeyword,"in of await yield void typeof delete instanceof":l.operatorKeyword,"let var const function class extends":l.definitionKeyword,"import export from":l.moduleKeyword,"with debugger as new":l.keyword,TemplateString:l.special(l.string),super:l.atom,BooleanLiteral:l.bool,this:l.self,null:l.null,Star:l.modifier,VariableName:l.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":l.function(l.variableName),VariableDefinition:l.definition(l.variableName),Label:l.labelName,PropertyName:l.propertyName,PrivatePropertyName:l.special(l.propertyName),"CallExpression/MemberExpression/PropertyName":l.function(l.propertyName),"FunctionDeclaration/VariableDefinition":l.function(l.definition(l.variableName)),"ClassDeclaration/VariableDefinition":l.definition(l.className),PropertyDefinition:l.definition(l.propertyName),PrivatePropertyDefinition:l.definition(l.special(l.propertyName)),UpdateOp:l.updateOperator,LineComment:l.lineComment,BlockComment:l.blockComment,Number:l.number,String:l.string,Escape:l.escape,ArithOp:l.arithmeticOperator,LogicOp:l.logicOperator,BitOp:l.bitwiseOperator,CompareOp:l.compareOperator,RegExp:l.regexp,Equals:l.definitionOperator,Arrow:l.function(l.punctuation),": Spread":l.punctuation,"( )":l.paren,"[ ]":l.squareBracket,"{ }":l.brace,"InterpolationStart InterpolationEnd":l.special(l.brace),".":l.derefOperator,", ;":l.separator,"@":l.meta,TypeName:l.typeName,TypeDefinition:l.definition(l.typeName),"type enum interface implements namespace module declare":l.definitionKeyword,"abstract global Privacy readonly override":l.modifier,"is keyof unique infer":l.operatorKeyword,JSXAttributeValue:l.attributeValue,JSXText:l.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":l.angleBracket,"JSXIdentifier JSXNameSpacedName":l.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":l.attributeName,"JSXBuiltin/JSXIdentifier":l.standard(l.tagName)}),Eb={__proto__:null,export:14,as:19,from:27,default:30,async:35,function:36,extends:46,this:50,true:58,false:58,null:70,void:74,typeof:78,super:96,new:130,delete:146,yield:155,await:159,class:164,public:219,private:219,protected:219,readonly:221,instanceof:240,satisfies:243,in:244,const:246,import:278,keyof:333,unique:337,infer:343,is:379,abstract:399,implements:401,type:403,let:406,var:408,interface:415,enum:419,namespace:425,module:427,declare:431,global:435,for:456,of:465,while:468,with:472,do:476,if:480,else:482,switch:486,case:492,try:498,catch:502,finally:506,return:510,throw:514,break:518,continue:522,debugger:526},Wb={__proto__:null,async:117,get:119,set:121,public:181,private:181,protected:181,static:183,abstract:185,override:187,readonly:193,accessor:195,new:383},Nb={__proto__:null,"<":137},Ib=Ds.deserialize({version:14,states:"$BhO`QUOOO%QQUOOO'TQWOOP(_OSOOO*mQ(CjO'#CfO*tOpO'#CgO+SO!bO'#CgO+bO07`O'#DZO-sQUO'#DaO.TQUO'#DlO%QQUO'#DvO0[QUO'#EOOOQ(CY'#EW'#EWO0rQSO'#ETOOQO'#I_'#I_O0zQSO'#GjOOQO'#Eh'#EhO1VQSO'#EgO1[QSO'#EgO3^Q(CjO'#JbO5}Q(CjO'#JcO6kQSO'#FVO6pQ#tO'#FnOOQ(CY'#F_'#F_O6{O&jO'#F_O7ZQ,UO'#FuO8qQSO'#FtOOQ(CY'#Jc'#JcOOQ(CW'#Jb'#JbOOQQ'#J|'#J|O8vQSO'#IOO8{Q(C[O'#IPOOQQ'#JO'#JOOOQQ'#IT'#ITQ`QUOOO%QQUO'#DnO9TQUO'#DzO%QQUO'#D|O9[QSO'#GjO9aQ,UO'#ClO9oQSO'#EfO9zQSO'#EqO:PQ,UO'#F^O:nQSO'#GjO:sQSO'#GnO;OQSO'#GnO;^QSO'#GqO;^QSO'#GrO;^QSO'#GtO9[QSO'#GwO;}QSO'#GzO=`QSO'#CbO=pQSO'#HXO=xQSO'#H_O=xQSO'#HaO`QUO'#HcO=xQSO'#HeO=xQSO'#HhO=}QSO'#HnO>SQ(C]O'#HtO%QQUO'#HvO>_Q(C]O'#HxO>jQ(C]O'#HzO8{Q(C[O'#H|O>uQ(CjO'#CfO?wQWO'#DfQOQSOOO@_QSO'#EPO9aQ,UO'#EfO@jQSO'#EfO@uQ`O'#F^OOQQ'#Cd'#CdOOQ(CW'#Dk'#DkOOQ(CW'#Jf'#JfO%QQUO'#JfOBOQWO'#E_OOQ(CW'#E^'#E^OBYQ(C`O'#E_OBtQWO'#ESOOQO'#Ji'#JiOCYQWO'#ESOCgQWO'#E_OC}QWO'#EeODQQWO'#E_O@}QWO'#E_OBtQWO'#E_PDkO?MpO'#C`POOO)CDm)CDmOOOO'#IU'#IUODvOpO,59ROOQ(CY,59R,59ROOOO'#IV'#IVOEUO!bO,59RO%QQUO'#D]OOOO'#IX'#IXOEdO07`O,59uOOQ(CY,59u,59uOErQUO'#IYOFVQSO'#JdOHXQbO'#JdO+pQUO'#JdOH`QSO,59{OHvQSO'#EhOITQSO'#JqOI`QSO'#JpOI`QSO'#JpOIhQSO,5;UOImQSO'#JoOOQ(CY,5:W,5:WOItQUO,5:WOKuQ(CjO,5:bOLfQSO,5:jOLkQSO'#JmOMeQ(C[O'#JnO:sQSO'#JmOMlQSO'#JmOMtQSO,5;TOMyQSO'#JmOOQ(CY'#Cf'#CfO%QQUO'#EOONmQ`O,5:oOOQO'#Jj'#JjOOQO-E<]-E<]O9[QSO,5=UO! TQSO,5=UO! YQUO,5;RO!#]Q,UO'#EcO!$pQSO,5;RO!&YQ,UO'#DpO!&aQUO'#DuO!&kQWO,5;[O!&sQWO,5;[O%QQUO,5;[OOQQ'#E}'#E}OOQQ'#FP'#FPO%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]OOQQ'#FT'#FTO!'RQUO,5;nOOQ(CY,5;s,5;sOOQ(CY,5;t,5;tO!)UQSO,5;tOOQ(CY,5;u,5;uO%QQUO'#IeO!)^Q(C[O,5<bO!#]Q,UO,5;]O!){Q,UO,5;]O%QQUO,5;qO!*SQ#tO'#FdO!+PQ#tO'#JuO!*kQ#tO'#JuO!+WQ#tO'#JuOOQO'#Ju'#JuO!+lQ#tO,5;|OOOO,5<Y,5<YO!+}QUO'#FpOOOO'#Id'#IdO6{O&jO,5;yO!,UQ#tO'#FrOOQ(CY,5;y,5;yO!,uQ7[O'#CrOOQ(CY'#Cv'#CvO!-YQSO'#CvO!-_O07`O'#CzO!-{Q,UO,5<_O!.SQSO,5<aO!/iQMhO'#GPO!/vQSO'#GQO!/{QSO'#GQO!0QQMhO'#GUO!1PQWO'#GYO!1rQ7[O'#J]OOQ(CY'#J]'#J]O!1|QSO'#J[O!2[QSO'#JZO!2dQSO'#CqOOQ(CY'#Ct'#CtOOQ(CY'#DO'#DOOOQ(CY'#DQ'#DQO0uQSO'#DSO!$uQ,UO'#FwO!$uQ,UO'#FyO!2lQSO'#F{O!2qQSO'#F|O!/{QSO'#GSO!$uQ,UO'#GXO!2vQSO'#EiO!3bQSO,5<`O`QUO,5>jOOQQ'#JW'#JWOOQQ,5>k,5>kOOQQ-E<R-E<RO!5aQ(CjO,5:YO!7}Q(CjO,5:fO%QQUO,5:fO!:hQ(CjO,5:hOOQ(CW'#Co'#CoO!;XQ,UO,5=UO!;gQ(C[O'#JXO8qQSO'#JXO=}QSO,59WO!;xQWO,59WO!<QQ,UO,59WO9aQ,UO,59WO!<]QSO,5;RO!<eQSO'#HWO!<vQSO'#KQO%QQUO,5;vO!=OQWO,5;xO!=TQSO,5=qO!=YQSO,5=qO!=_QSO,5=qO8{Q(C[O,5=qO!=mQSO'#EjO!>gQWO'#EkOOQ(CW'#Jo'#JoO!>nQ(C[O'#J}O8{Q(C[O,5=YO;^QSO,5=`OOQO'#Cr'#CrO!>yQWO,5=]O!?RQ,UO,5=^O!?^QSO,5=`O!?cQ`O,5=cO=}QSO'#G|O9[QSO'#HOO!?kQSO'#HOO9aQ,UO'#HRO!?pQSO'#HROOQQ,5=f,5=fO!?uQSO'#HSO!?}QSO'#ClO!@SQSO,58|O!@^QSO,58|O!BfQUO,58|OOQQ,58|,58|O!BsQ(C[O,58|O%QQUO,58|O!COQUO'#HZOOQQ'#H['#H[OOQQ'#H]'#H]O`QUO,5=sO!C`QSO,5=sO`QUO,5=yO`QUO,5={O!CeQSO,5=}O`QUO,5>PO!CjQSO,5>SO!CoQUO,5>YOOQQ,5>`,5>`O%QQUO,5>`O8{Q(C[O,5>bOOQQ,5>d,5>dO!GvQSO,5>dOOQQ,5>f,5>fO!GvQSO,5>fOOQQ,5>h,5>hO!G{QWO'#DXO%QQUO'#JfO!HjQWO'#JfO!IXQWO'#DgO!IjQWO'#DgO!K{QUO'#DgO!LSQSO'#JeO!L[QSO,5:QO!LaQSO'#ElO!LoQSO'#JrO!LwQSO,5;VO!L|QWO'#DgO!MZQWO'#EROOQ(CY,5:k,5:kO%QQUO,5:kO!MbQSO,5:kO=}QSO,5;QO!;xQWO,5;QO!<QQ,UO,5;QO9aQ,UO,5;QO!MjQSO,5@QO!MoQ!LQO,5:oO!NrQ(C`O,5:yOBtQWO,5:nO# ^QWO,5:nO# kQWO,5:yO#!RQWO,5:yO#!lQWO,5:yOBtQWO,5:yO=}QSO,5:nOOQ(CW'#Eb'#EbOOQO,5:y,5:yO%QQUO,5:yO##]Q(C[O,5:yO##hQ(C[O,5:yO!;xQWO,5:nOOQO,5;P,5;PO##vQ(C[O,5:yPOOO'#IS'#ISP#$[O?MpO,58zPOOO,58z,58zOOOO-E<S-E<SOOQ(CY1G.m1G.mOOOO-E<T-E<TO#$gQ`O,59wOOOO-E<V-E<VOOQ(CY1G/a1G/aO#$lQbO,5>tO+pQUO,5>tOOQO,5>z,5>zO#$vQUO'#IYOOQO-E<W-E<WO#%TQSO,5@OO#%]QbO,5@OO#%dQSO,5@[OOQ(CY1G/g1G/gO%QQUO,5@]O#%lQSO'#I`OOQO-E<^-E<^O#%dQSO,5@[OOQ(CW1G0p1G0pOOQ(CY1G/r1G/rOOQ(CY1G0U1G0UO#&QQSO,5@XO:sQSO,5@XO#&YQSO,5@XO%QQUO,5@YO#&hQ(C[O,5@YO#&yQ(C[O,5@YO#'QQSO'#IbO#&QQSO,5@XOOQ(CW1G0o1G0oO!&kQWO,5:qO!&vQWO,5:qOOQO,5:s,5:sO#'oQSO,5:sO#'wQ,UO1G2pO9[QSO1G2pOOQ(CY1G0m1G0mO#(VQ(CjO1G0mO#)[Q(ChO,5:}OOQ(CY'#GO'#GOO#)xQ(CjO'#J]O! YQUO1G0mO#,QQ,UO'#JgO#,[QSO,5:[O#,aQbO'#JhO%QQUO'#JhO#,kQSO,5:aOOQ(CY'#DX'#DXOOQ(CY1G0v1G0vO%QQUO1G0vOOQ(CY1G1`1G1`O#,pQSO1G0vO#/XQ(CjO1G0wO#/`Q(CjO1G0wO#1yQ(CjO1G0wO#2QQ(CjO1G0wO#4[Q(CjO1G0wO#4rQ(CjO1G0wO#7lQ(CjO1G0wO#7sQ(CjO1G0wO#:^Q(CjO1G0wO#:eQ(CjO1G0wO#<]Q(CjO1G0wO#?]Q$IUO'#CfO#AZQ$IUO1G1YO#CXQ$IUO'#JcO!)XQSO1G1`O#ClQ(CjO,5?POOQ(CW-E<c-E<cO#D`Q(CjO1G0wOOQ(CY1G0w1G0wO#FkQ(CjO1G1]O#G_Q#tO,5<QO#GgQ#tO,5<RO#GoQ#tO'#FiO#HWQSO'#FhOOQO'#Jv'#JvOOQO'#Ic'#IcO#H]Q#tO1G1hOOQ(CY1G1h1G1hOOOO1G1s1G1sO#HnQ$IUO'#JbO#HxQSO,5<[O!'RQUO,5<[OOOO-E<b-E<bOOQ(CY1G1e1G1eO#H}QWO'#JuOOQ(CY,5<^,5<^O#IVQWO,5<^OOQ(CY,59b,59bO!#]Q,UO'#C|OOOO'#IW'#IWO#I[O07`O,59fOOQ(CY,59f,59fO%QQUO1G1yO!2qQSO'#IgO#IgQSO,5<rOOQ(CY,5<o,5<oOOQO'#Ge'#GeO!$uQ,UO,5=OOOQO'#Gg'#GgO!$uQ,UO,5=QO!#]Q,UO,5=SOOQO1G1{1G1{O#IuQ`O'#CoO#JYQ`O,5<kO#JaQSO'#JyO9[QSO'#JyO#JoQSO,5<mO!$uQ,UO,5<lO#JtQSO'#GRO#KPQSO,5<lO#KUQ`O'#GOO#KcQ`O'#JzO#KmQSO'#JzO!#]Q,UO'#JzO#KrQSO,5<pO#KwQWO'#GZO!0zQWO'#GZO#LYQSO'#G]O#L_QSO'#G_O!/{QSO'#GbO#LdQ(C[O'#IiO#LoQWO,5<tOOQ(CY,5<t,5<tO#LvQWO'#GZO#MUQWO'#G[O#M^QWO'#G[OOQ(CY,5=T,5=TO!$uQ,UO,5?vO!$uQ,UO,5?vO#McQSO'#IjO#MnQSO,5?uO#MvQSO,59]O#NgQ,UO,59nOOQ(CY,59n,59nO$ YQ,UO,5<cO$ {Q,UO,5<eO?oQSO,5<gOOQ(CY,5<h,5<hO$!VQSO,5<nO$![Q,UO,5<sO! YQUO1G1zO$!lQSO1G1zOOQQ1G4U1G4UOOQ(CY1G/t1G/tO!)UQSO1G/tO$$kQ(CjO1G0QOOQQ1G2p1G2pO!#]Q,UO1G2pO%QQUO1G2pO$%[QSO1G2pO$%gQ,UO'#EcOOQ(CW,5?s,5?sO$%qQ(C[O,5?sOOQQ1G.r1G.rO=}QSO1G.rO!;xQWO1G.rO!<QQ,UO1G.rO$&SQSO1G0mO$&XQSO'#CfO$&dQSO'#KRO$&lQSO,5=rO$&qQSO'#KRO$&vQSO'#KRO$'RQSO'#IrO$'aQSO,5@lO$'iQbO1G1bOOQ(CY1G1d1G1dO9[QSO1G3]O?oQSO1G3]O$'pQSO1G3]O$'uQSO1G3]OOQQ1G3]1G3]O:sQSO'#JpO:sQSO'#ElO%QQUO'#ElO:sQSO'#IlO$'zQ(C[O,5@iOOQQ1G2t1G2tO!?^QSO1G2zO!#]Q,UO1G2wO$(VQSO1G2wOOQQ1G2x1G2xO!#]Q,UO1G2xO$([QSO1G2xO$(dQWO'#GvOOQQ1G2z1G2zO!0zQWO'#InO!?cQ`O1G2}OOQQ1G2}1G2}OOQQ,5=h,5=hO$(lQ,UO,5=jO9[QSO,5=jO#L_QSO,5=mO8qQSO,5=mO!;xQWO,5=mO!<QQ,UO,5=mO9aQ,UO,5=mO$(zQSO'#KPO$)VQSO,5=nOOQQ1G.h1G.hO$)[Q(C[O1G.hO?oQSO1G.hO$)gQSO1G.hO8{Q(C[O1G.hO$)rQbO,5@nO$*VQSO,5@nO$*bQUO,5=uO$*iQSO,5=uO:sQSO,5@nOOQQ1G3_1G3_O`QUO1G3_OOQQ1G3e1G3eOOQQ1G3g1G3gO=xQSO1G3iO$*nQUO1G3kO$.oQUO'#HjOOQQ1G3n1G3nO$.|QSO'#HpO=}QSO'#HrOOQQ1G3t1G3tO$/UQUO1G3tO8{Q(C[O1G3zOOQQ1G3|1G3|OOQ(CW'#GV'#GVO8{Q(C[O1G4OO8{Q(C[O1G4QO$3YQSO,5@QO!'RQUO,5;WO:sQSO,5;WO=}QSO,5:RO!'RQUO,5:RO!;xQWO,5:RO$3_Q$IUO,5:ROOQO,5;W,5;WO$3iQWO'#IZO$4PQSO,5@POOQ(CY1G/l1G/lO$4XQWO'#IaO$4cQSO,5@^OOQ(CW1G0q1G0qO!IjQWO,5:ROOQO'#I^'#I^O$4kQWO,5:mOOQ(CY,5:m,5:mO!MeQSO1G0VOOQ(CY1G0V1G0VO%QQUO1G0VOOQ(CY1G0l1G0lO=}QSO1G0lO!;xQWO1G0lO!<QQ,UO1G0lOOQ(CW1G5l1G5lO=}QSO1G0YOOQO1G0e1G0eO%QQUO1G0eO$4rQ(C[O1G0eO$4}Q(C[O1G0eO!;xQWO1G0YOBtQWO1G0YO$5]Q(C`O1G0eO$5wQWO1G0YOBtQWO1G0eO$6UQWO1G0eO$6lQWO1G0eO$7VQ(C[O1G0eOOQO1G0Y1G0YO$7kQ(CjO1G0ePOOO-E<Q-E<QPOOO1G.f1G.fOOOO1G/c1G/cO$7uQ`O,5<bO$7}QbO1G4`OOQO1G4f1G4fO%QQUO,5>tO$8XQSO1G5jO$8aQSO1G5vO$8iQbO1G5wO:sQSO,5>zO$8sQSO1G5sO$8sQSO1G5sO:sQSO1G5sO$8{Q(CjO1G5tO%QQUO1G5tO$9]Q(C[O1G5tO$9nQSO,5>|O:sQSO,5>|OOQO,5>|,5>|O$:SQSO,5>|OOQO-E<`-E<`OOQO1G0]1G0]OOQO1G0_1G0_O!)XQSO1G0_OOQQ7+([7+([O!#]Q,UO7+([O%QQUO7+([O$:bQSO7+([O$:mQ,UO7+([O$:{Q(CjO,59nO$=TQ(CjO,5<cO$?`Q(CjO,5<eO$AkQ(CjO,5<sOOQ(CY7+&X7+&XO$C|Q(CjO7+&XO$DpQ,UO'#I[O$DzQSO,5@ROOQ(CY1G/v1G/vO$ESQUO'#I]O$EaQSO,5@SO$EiQbO,5@SOOQ(CY1G/{1G/{O$EsQSO7+&bOOQ(CY7+&b7+&bO$ExQ$IUO,5:bO%QQUO7+&tO$FSQ$IUO,5:YO$FaQ$IUO,5:fO$FkQ$IUO,5:hOOQ(CY7+&z7+&zOOQO1G1l1G1lOOQO1G1m1G1mO$FuQ#tO,5<TO!'RQUO,5<SOOQO-E<a-E<aOOQ(CY7+'S7+'SOOOO7+'_7+'_OOOO1G1v1G1vO$GQQSO1G1vOOQ(CY1G1x1G1xO$GVQ`O,59hOOOO-E<U-E<UOOQ(CY1G/Q1G/QO$G^Q(CjO7+'eOOQ(CY,5?R,5?RO$HQQSO,5?ROOQ(CY1G2^1G2^P$HVQSO'#IgPOQ(CY-E<e-E<eO$HyQ,UO1G2jO$IlQ,UO1G2lO$IvQ`O1G2nOOQ(CY1G2V1G2VO$I}QSO'#IfO$J]QSO,5@eO$J]QSO,5@eO$JeQSO,5@eO$JpQSO,5@eOOQO1G2X1G2XO$KOQ,UO1G2WO!$uQ,UO1G2WO$K`QMhO'#IhO$KpQSO,5@fO!#]Q,UO,5@fO$KxQ`O,5@fOOQ(CY1G2[1G2[OOQ(CW,5<u,5<uOOQ(CW,5<v,5<vO$LSQSO,5<vOBoQSO,5<vO!;xQWO,5<uOOQO'#G^'#G^O$LXQSO,5<wOOQ(CW,5<y,5<yO$LSQSO,5<|OOQO,5?T,5?TOOQO-E<g-E<gOOQ(CY1G2`1G2`O!0zQWO,5<uO$LaQSO,5<vO#LYQSO,5<wO!0zQWO,5<vO$LlQ,UO1G5bO$LvQ,UO1G5bOOQO,5?U,5?UOOQO-E<h-E<hOOQO1G.w1G.wO!=OQWO,59pO%QQUO,59pO$MTQSO1G2RO!$uQ,UO1G2YO$MYQ(CjO7+'fOOQ(CY7+'f7+'fO! YQUO7+'fOOQ(CY7+%`7+%`O$M|Q`O'#J{O!MeQSO7+([O$NWQbO7+([O$:eQSO7+([O$N_Q(ChO'#CfO$NrQ(ChO,5<zO% dQSO,5<zOOQ(CW1G5_1G5_OOQQ7+$^7+$^O=}QSO7+$^O!;xQWO7+$^O! YQUO7+&XO% iQSO'#IqO% }QSO,5@mOOQO1G3^1G3^O9[QSO,5@mO% }QSO,5@mO%!VQSO,5@mOOQO,5?^,5?^OOQO-E<p-E<pOOQ(CY7+&|7+&|O%![QSO7+(wO8{Q(C[O7+(wO9[QSO7+(wO?oQSO7+(wO%!aQSO,5;WOOQ(CW,5?W,5?WOOQ(CW-E<j-E<jOOQQ7+(f7+(fO%!fQ(ChO7+(cO!#]Q,UO7+(cO%!pQ`O7+(dOOQQ7+(d7+(dO!#]Q,UO7+(dO%!wQSO'#KOO%#SQSO,5=bOOQO,5?Y,5?YOOQO-E<l-E<lOOQQ7+(i7+(iO%$`QWO'#HPOOQQ1G3U1G3UO!#]Q,UO1G3UO%QQUO1G3UO%$gQSO1G3UO%$rQ,UO1G3UO8{Q(C[O1G3XO#L_QSO1G3XO8qQSO1G3XO!;xQWO1G3XO!<QQ,UO1G3XO%%QQSO'#IpO%%]QSO,5@kO%%eQWO,5@kOOQ(CW1G3Y1G3YOOQQ7+$S7+$SO?oQSO7+$SO8{Q(C[O7+$SO%%pQSO7+$SO%QQUO1G6YO%QQUO1G6ZO%%uQUO1G3aO%%|QSO1G3aO%&RQUO1G3aO%&YQ(C[O1G6YOOQQ7+(y7+(yO8{Q(C[O7+)TO`QUO7+)VOOQQ'#KU'#KUOOQQ'#Is'#IsO%&dQUO,5>UOOQQ,5>U,5>UO%QQUO'#HkO%&qQSO'#HmOOQQ,5>[,5>[O:sQSO,5>[OOQQ,5>^,5>^OOQQ7+)`7+)`OOQQ7+)f7+)fOOQQ7+)j7+)jOOQQ7+)l7+)lO%&vQWO1G5lO%'[Q$IUO1G0rO%'fQSO1G0rOOQO1G/m1G/mO%'qQ$IUO1G/mO=}QSO1G/mO!'RQUO'#DgOOQO,5>u,5>uOOQO-E<X-E<XOOQO,5>{,5>{OOQO-E<_-E<_O!;xQWO1G/mOOQO-E<[-E<[OOQ(CY1G0X1G0XOOQ(CY7+%q7+%qO!MeQSO7+%qOOQ(CY7+&W7+&WO=}QSO7+&WO!;xQWO7+&WOOQO7+%t7+%tO$7kQ(CjO7+&POOQO7+&P7+&PO%QQUO7+&PO%'{Q(C[O7+&PO=}QSO7+%tO!;xQWO7+%tO%(WQ(C[O7+&POBtQWO7+%tO%(fQ(C[O7+&PO%(zQ(C`O7+&PO%)UQWO7+%tOBtQWO7+&PO%)cQWO7+&PO%)yQSO7++_O%)yQSO7++_O%*RQ(CjO7++`O%QQUO7++`OOQO1G4h1G4hO:sQSO1G4hO%*cQSO1G4hOOQO7+%y7+%yO!MeQSO<<KvO$NWQbO<<KvO%*qQSO<<KvOOQQ<<Kv<<KvO!#]Q,UO<<KvO%QQUO<<KvO%*yQSO<<KvO%+UQ(CjO1G2jO%-aQ(CjO1G2lO%/lQ(CjO1G2WO%1}Q,UO,5>vOOQO-E<Y-E<YO%2XQbO,5>wO%QQUO,5>wOOQO-E<Z-E<ZO%2cQSO1G5nOOQ(CY<<I|<<I|O%2kQ$IUO1G0mO%4uQ$IUO1G0wO%4|Q$IUO1G0wO%7QQ$IUO1G0wO%7XQ$IUO1G0wO%8|Q$IUO1G0wO%9dQ$IUO1G0wO%;wQ$IUO1G0wO%<OQ$IUO1G0wO%>SQ$IUO1G0wO%>ZQ$IUO1G0wO%@RQ$IUO1G0wO%@fQ(CjO<<J`O%AkQ$IUO1G0wO%CaQ$IUO'#J]O%EdQ$IUO1G1]O%EqQ$IUO1G0QO!'RQUO'#FkOOQO'#Jw'#JwOOQO1G1o1G1oO%E{QSO1G1nO%FQQ$IUO,5?POOOO7+'b7+'bOOOO1G/S1G/SOOQ(CY1G4m1G4mO!$uQ,UO7+(YO%F[QSO,5?QO9[QSO,5?QOOQO-E<d-E<dO%FjQSO1G6PO%FjQSO1G6PO%FrQSO1G6PO%F}Q,UO7+'rO%G_Q`O,5?SO%GiQSO,5?SO!#]Q,UO,5?SOOQO-E<f-E<fO%GnQ`O1G6QO%GxQSO1G6QOOQ(CW1G2b1G2bO$LSQSO1G2bOOQ(CW1G2a1G2aO%HQQSO1G2cO!#]Q,UO1G2cOOQ(CW1G2h1G2hO!;xQWO1G2aOBoQSO1G2bO%HVQSO1G2cO%H_QSO1G2bO!$uQ,UO7+*|OOQ(CY1G/[1G/[O%HjQSO1G/[OOQ(CY7+'m7+'mO%HoQ,UO7+'tO%IPQ(CjO<<KQOOQ(CY<<KQ<<KQO!#]Q,UO'#IkO%IsQSO,5@gO!#]Q,UO1G2fOOQQ<<Gx<<GxO=}QSO<<GxO%I{Q(CjO<<IsOOQ(CY<<Is<<IsOOQO,5?],5?]O%JoQSO,5?]O$&vQSO,5?]OOQO-E<o-E<oO%JtQSO1G6XO%JtQSO1G6XO9[QSO1G6XO?oQSO<<LcOOQQ<<Lc<<LcO%J|QSO<<LcO8{Q(C[O<<LcO%KRQSO1G0rOOQQ<<K}<<K}O%!fQ(ChO<<K}OOQQ<<LO<<LOO%!pQ`O<<LOO%KWQWO'#ImO%KcQSO,5@jO!'RQUO,5@jOOQQ1G2|1G2|O%KkQ(C`O'#JfO%LVQUO'#JfO%L^QWO'#E_O%LwQ(C[O'#E_OBYQ(C`O'#E_O(VQWO'#HQOOQO'#Io'#IoO8{Q(C[O'#IoO%M]QWO,5=kOOQQ,5=k,5=kO%MuQWO'#E_O%LmQWO'#E_O%M|QWO'#E_O%NgQWO'#E_O& WQWO'#HQO& iQSO7+(pO& nQSO7+(pOOQQ7+(p7+(pO!#]Q,UO7+(pO%QQUO7+(pO& vQSO7+(pOOQQ7+(s7+(sO8{Q(C[O7+(sO#L_QSO7+(sO8qQSO7+(sO!;xQWO7+(sO&!RQSO,5?[OOQO-E<n-E<nOOQO'#HT'#HTO&!^QSO1G6VO8{Q(C[O<<GnOOQQ<<Gn<<GnO?oQSO<<GnO&!fQSO7++tO&!kQSO7++uOOQQ7+({7+({O&!pQSO7+({O&!uQUO7+({O&!|QSO7+({O%QQUO7++tO%QQUO7++uOOQQ<<Lo<<LoOOQQ<<Lq<<LqOOQQ-E<q-E<qOOQQ1G3p1G3pO&#RQSO,5>VOOQQ,5>X,5>XO&#WQSO1G3vO:sQSO7+&^O!'RQUO7+&^OOQO7+%X7+%XO&#]Q$IUO1G5wO=}QSO7+%XOOQ(CY<<I]<<I]OOQ(CY<<Ir<<IrO=}QSO<<IrOOQO<<Ik<<IkO$7kQ(CjO<<IkO%QQUO<<IkOOQO<<I`<<I`O=}QSO<<I`O&#gQ(C[O<<IkO!;xQWO<<I`O&#rQ(C[O<<IkOBtQWO<<I`O&$QQ(C[O<<IkO&$fQ(C`O<<IkO&$pQWO<<I`OBtQWO<<IkO&$}QSO<<NyO&%VQ(CjO<<NzOOQO7+*S7+*SO:sQSO7+*SOOQQANAbANAbO&%gQSOANAbO!#]Q,UOANAbO!MeQSOANAbO$NWQbOANAbO%QQUOANAbO&%oQ(CjO7+'rO&(QQ(CjO7+'tO&*cQbO1G4cO&*mQ$IUO7+&XO&*zQ$IUO,59nO&,}Q$IUO,5<cO&/QQ$IUO,5<eO&1TQ$IUO,5<sO&2yQ$IUO7+'eO&3WQ$IUO7+'fO&3eQSO,5<VOOQO7+'Y7+'YO&3jQ,UO<<KtOOQO1G4l1G4lO&3qQSO1G4lO&3|QSO1G4lO&4[QSO7++kO&4[QSO7++kO!#]Q,UO1G4nO&4dQ`O1G4nO&4nQSO7++lOOQ(CW7+'|7+'|O$LSQSO7+'}O&4vQ`O7+'}OOQ(CW7+'{7+'{O$LSQSO7+'|O&4}QSO7+'}O!#]Q,UO7+'}OBoQSO7+'|O&5SQ,UO<<NhOOQ(CY7+$v7+$vO&5^Q`O,5?VOOQO-E<i-E<iO&5hQ(ChO7+(QOOQQAN=dAN=dO9[QSO1G4wOOQO1G4w1G4wO&5xQSO1G4wO&5}QSO7++sO&5}QSO7++sO8{Q(C[OANA}O?oQSOANA}OOQQANA}ANA}OOQQANAiANAiOOQQANAjANAjO&6VQSO,5?XOOQO-E<k-E<kO&6bQ$IUO1G6UO#L_QSO,5=lO8qQSO,5=lO&8rQbO'#CfO&8|QWO,5:yO&9WQWO,5:yO&9eQWO,5:yO!;xQWO,5=lOOQO,5?Z,5?ZOOQO-E<m-E<mOOQQ1G3V1G3VO%LVQUO,5<wO%KkQ(C`O,5=lO!NrQ(C`O,5:yO(VQWO,5=lO&9xQWO,5=lO&:ZQWO,5:yOOQQ<<L[<<L[O!#]Q,UO<<L[O& iQSO<<L[O&:tQSO<<L[O%QQUO<<L[OOQQ<<L_<<L_O8{Q(C[O<<L_O#L_QSO<<L_O8qQSO<<L_O&:|QWO1G4vO&;XQSO7++qOOQQAN=YAN=YO8{Q(C[OAN=YOOQQ<= `<= `OOQQ<= a<= aOOQQ<<Lg<<LgO&;aQSO<<LgO&;fQUO<<LgO&;mQSO<= `O&;rQSO<= aOOQQ1G3q1G3qO=}QSO7+)bO&;wQSO<<IxO&<SQ$IUO<<IxOOQO<<Hs<<HsOOQ(CYAN?^AN?^OOQOAN?VAN?VO$7kQ(CjOAN?VOOQOAN>zAN>zO%QQUOAN?VO=}QSOAN>zO&<^Q(C[OAN?VO!;xQWOAN>zO&<iQ(C[OAN?VOBtQWOAN>zO&<wQ(C[OAN?VOOQO<<Mn<<MnOOQQG26|G26|O!#]Q,UOG26|O!MeQSOG26|O&=]QSOG26|O$NWQbOG26|O&=eQ$IUO<<J`O&=rQ$IUO1G2WO&?hQ$IUO1G2jO&AkQ$IUO1G2lO&CnQ$IUO<<KQO&C{Q$IUO<<IsOOQO1G1q1G1qO!$uQ,UOANA`OOQO7+*W7+*WO&DYQSO7+*WO&DeQSO<= VO&DmQ`O7+*YOOQ(CW<<Ki<<KiO$LSQSO<<KiOOQ(CW<<Kh<<KhO&DwQ`O<<KiO$LSQSO<<KhOOQO7+*c7+*cO9[QSO7+*cO&EOQSO<= _OOQQG27iG27iO8{Q(C[OG27iO!'RQUO1G4sO&EWQSO7++pO8{Q(C[O1G3WO#L_QSO1G3WO&E`QWO1G0eO&EjQWO1G0eO8qQSO1G3WO!;xQWO1G3WO(VQWO1G3WO%KkQ(C`O1G3WO$5]Q(C`O1G0eO&EwQWO1G3WO& iQSOANAvOOQQANAvANAvO!#]Q,UOANAvO&FYQSOANAvOOQQANAyANAyO8{Q(C[OANAyO#L_QSOANAyOOQO'#HU'#HUOOQO7+*b7+*bOOQQG22tG22tOOQQANBRANBRO&FbQSOANBROOQQANDzANDzOOQQAND{AND{OOQQ<<L|<<L|O!'RQUOAN?dOOQOG24qG24qO$7kQ(CjOG24qOOQOG24fG24fO%QQUOG24qO=}QSOG24fO&FgQ(C[OG24qO!;xQWOG24fO&FrQ(C[OG24qO!MeQSOLD,hOOQQLD,hLD,hO!#]Q,UOLD,hO&GQQSOLD,hO&GYQ$IUO7+'rO&IOQ$IUO7+'tO&JtQ,UOG26zOOQO<<Mr<<MrOOQ(CWANATANATO$LSQSOANATOOQ(CWANASANASOOQO<<M}<<M}OOQQLD-TLD-TO&KUQ$IUO7+*_OOQO7+(r7+(rO8{Q(C[O7+(rO&K`QWO7+&PO#L_QSO7+(rO8qQSO7+(rO!;xQWO7+(rO(VQWO7+(rOOQQG27bG27bO& iQSOG27bO!#]Q,UOG27bOOQQG27eG27eO8{Q(C[OG27eOOQQG27mG27mO&KjQ$IUOG25OOOQOLD*]LD*]O$7kQ(CjOLD*]OOQOLD*QLD*QO%QQUOLD*]O=}QSOLD*QO&KtQ(C[OLD*]OOQQ!$(!S!$(!SO!MeQSO!$(!SO!#]Q,UO!$(!SO&LPQ(CjOG26zOOQ(CWG26oG26oOOQO<<L^<<L^O8{Q(C[O<<L^O#L_QSO<<L^O8qQSO<<L^O!;xQWO<<L^OOQQLD,|LD,|O& iQSOLD,|OOQQLD-PLD-POOQO!$'Mw!$'MwO$7kQ(CjO!$'MwOOQO!$'Ml!$'MlO%QQUO!$'MwOOQQ!)9En!)9EnO!MeQSO!)9EnOOQOANAxANAxO8{Q(C[OANAxO#L_QSOANAxO8qQSOANAxOOQQ!$(!h!$(!hOOQO!)9Cc!)9CcO$7kQ(CjO!)9CcOOQQ!.K;Y!.K;YO&NbQ$IUOG26zOOQOG27dG27dO8{Q(C[OG27dO#L_QSOG27dOOQO!.K8}!.K8}OOQOLD-OLD-OO8{Q(C[OLD-OOOQO!$(!j!$(!jO!'RQUO'#DvO0rQSO'#ETO'!WQbO'#JbO!'RQUO'#DnO'!_QUO'#DzO!'RQUO'#D|O'!fQbO'#CfO'$|QbO'#CfO'%^QUO,5;RO!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO'#IeO''aQSO,5<bO''iQ,UO,5;]O'(|Q,UO,5;]O!'RQUO,5;qO0uQSO'#DSO0uQSO'#DSO!#]Q,UO'#FwO''iQ,UO'#FwO!#]Q,UO'#FyO''iQ,UO'#FyO!#]Q,UO'#GXO''iQ,UO'#GXO!'RQUO,5:fO!'RQUO,5@]O'%^QUO1G0mO')TQ$IUO'#CfO!'RQUO1G1yO!#]Q,UO,5=OO''iQ,UO,5=OO!#]Q,UO,5=QO''iQ,UO,5=QO!#]Q,UO,5<lO''iQ,UO,5<lO'%^QUO1G1zO!'RQUO7+&tO!#]Q,UO1G2WO''iQ,UO1G2WO!#]Q,UO1G2YO''iQ,UO1G2YO'%^QUO7+'fO'%^QUO7+&XO!#]Q,UOANA`O''iQ,UOANA`O')_QSO'#EgO')dQSO'#EgO')lQSO'#FVO')qQSO'#EqO')vQSO'#JqO'*RQSO'#JoO'*^QSO,5;RO'*cQ,UO,5<_O'*jQSO'#GQO'*oQSO'#GQO'*tQSO,5<`O'*|QSO,5;RO'+UQ$IUO1G1YO'+]QSO,5<lO'+bQSO,5<lO'+gQSO,5<nO'+lQSO,5<nO'+qQSO1G1zO'+vQSO1G0mO'+{Q,UO<<KtO',SQ,UO<<KtO7ZQ,UO'#FuO8qQSO'#FtO@jQSO'#EfO!'RQUO,5;nO!/{QSO'#GQO!/{QSO'#GQO!/{QSO'#GSO!/{QSO'#GSO!$uQ,UO7+(YO!$uQ,UO7+(YO$IvQ`O1G2nO$IvQ`O1G2nO!#]Q,UO,5=SO!#]Q,UO,5=S",stateData:"'-[~O'lOS'mOSROS'nRQ~OPYOQYOV!TO^pOaxObwOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!XXO!csO!hZO!kYO!lYO!mYO!otO!quO!tvO!x]O#o}O$PzO$TfO%_{O%a!OO%c|O%d|O%g!PO%i!QO%l!RO%m!RO%o!SO%|!UO&S!VO&U!WO&W!XO&Y!YO&]!ZO&c![O&i!]O&k!^O&m!_O&o!`O&q!aO'sSO'uTO'xUO(QVO(_[O(liO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$P!hO$TfO's!bO'uTO'xUO(QVO(_[O(liO~O^!qOl!kO|!lO![!rO!]!pO!^!pO!x;oO!|!vO!}!tO#O!uO#P!sO#S!wO#T!wO't!iO'uTO'xUO(T!jO(_!nO~O'n!xO~OPYXXYX^YXkYXyYXzYX|YX!VYX!eYX!fYX!hYX!lYX#WYX#ccX#fYX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#pYX#rYX#tYX#uYX#zYX'jYX(QYX(`YX(gYX(hYX~O!a$yX~P(dO[!zO'u!|O'v!zO'w!|O~O[!}O'w!|O'x!|O'y!}O~Oq#PO!O#QO(R#QO(S#SO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$P!hO$TfO's;tO'uTO'xUO(QVO(_[O(liO~O!U#WO!V#TO!S(WP!S(dP~P+pO!W#`O~P`OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$P!hO$TfO'uTO'xUO(QVO(_[O(liO~O!U#fO!x]O#a#iO#b#fO's;uO!g(aP~P.[O!h#kO's#jO~O!t#oO!x]O%_#pO~O#c#qO~O!a#rO#c#qO~OP$YOX$aOk#}Oy#vOz#wO|#xO!V$^O!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO#t$UO#u$VO(QVO(`$WO(g#yO(h#zO~O^(UX'j(UX'h(UX!g(UX!S(UX!X(UX%`(UX!a(UX~P1dO#W$bO#z$bOP(VXX(VXk(VXy(VXz(VX|(VX!V(VX!e(VX!h(VX!l(VX#f(VX#g(VX#h(VX#i(VX#j(VX#k(VX#l(VX#m(VX#n(VX#p(VX#r(VX#t(VX#u(VX(Q(VX(`(VX(g(VX(h(VX!X(VX%`(VX~O^(VX!f(VX'j(VX'h(VX!S(VX!g(VXo(VX!a(VX~P3zO#W$bO~O$V$dO$X$cO$`$iO~O!X$jO$TfO$c$kO$e$mO~Oi%POk$qOl$pOm$pOs%QOu%ROw%SO|$xO!X$yO!c%XO!h$uO#b%YO$P%VO$l%TO$n%UO$q%WO's$oO'uTO'xUO'|%OO(Q$rOd'}P~O!h%ZO~O!a%]O~O^%^O'j%^O~O't!iO~P%QO's%eO~O!h%ZO's%eO't!iO'|%OO~Ob%lO!h%ZO's%eO~O#n$PO~Oy%qO!X%nO!h%pO%a%tO's%eO't!iO'uTO'xUO](tP~O!t#oO~O|%vO!X%wO's%eO~O|%vO!X%wO%i%{O's%eO~O's%|O~O#o}O%a!OO%c|O%d|O%g!PO%i!QO%l!RO%m!RO~Oa&VOb&UO!t&SO%_&TO%q&RO~P;cOa&YObwO!X&XO!tvO!x]O#o}O%_{O%c|O%d|O%g!PO%i!QO%l!RO%m!RO%o!SO~O_&]O#W&`O%a&ZO't!iO~P<bO!h&aO!q&eO~O!h#kO~O!XXO~O^%^O'i&mO'j%^O~O^%^O'i&pO'j%^O~O^%^O'i&rO'j%^O~O'hYX!SYXoYX!gYX&QYX!XYX%`YX!aYX~P(dO!['PO!]&xO!^&xO't!iO'uTO'xUO~Ol&vO|&uO!U&yO(T&tO!W(XP!W(fP~P?cOg'SO!X'QO's%eO~Ob'XO!h%ZO's%eO~Oy%qO!h%pO~Ol!kO|!lO!['^O!]']O!^']O!}'`O#O'`O#P'_O#S'bO#T'bO't!iO'uTO'xUO(T!jO(_!nO~O!x;oO!|'aO~P@}O^%^O!a#rO!h%ZO!l'hO#W'fO'j%^O'|%OO(`'dO~Ol!kO|!lO'uTO'xUO(T!jO(_!nO~O!]']O!^']O't!iO~PBtO!['^O!]']O!^']O#S'bO#T'bO't!iO~PBtO!XXO!['^O!]']O!^']O#P'_O#S'bO#T'bO't!iO~PBtO'o'lO'p'lO'q'nO~O[!zO'u'pO'v!zO'w'pO~O[!}O'w'pO'x'pO'y!}O~Oq#PO!O#QO(R#QO(S'tO~O!U'vO!S&|X!S'SX!V&|X!V'SX~P+pO!V'xO!S(WX~OP$YOX$aOk#}Oy#vOz#wO|#xO!V'xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO#t$UO#u$VO(QVO(`$WO(g#yO(h#zO~O!S(WX~PF_O!S'}O~O!S(cX!V(cX!a(cX!g(cX(`(cX~O#W(cX#c#[X!W(cX~PHeO#W(OO!S(eX!V(eX~O!V(PO!S(dX~O!S(SO~O#W$bO~PHeO!W(TO~P`Oy#vOz#wO|#xO!f#tO!h#uO(QVOP!jaX!jak!ja!V!ja!e!ja!l!ja#f!ja#g!ja#h!ja#i!ja#j!ja#k!ja#l!ja#m!ja#n!ja#p!ja#r!ja#t!ja#u!ja(`!ja(g!ja(h!ja~O^!ja'j!ja'h!ja!S!ja!g!jao!ja!X!ja%`!ja!a!ja~PI{O!g(UO~O|%vO!X%wO!x]O#a(XO#b(WO's%eO~O!a#rO#W(YO(`'dO!V(bX^(bX'j(bX~O!g(bX~PMPO!V(]O!g(aX~O!g(_O~O|%vO!X%wO#b(WO's%eO~Oy(`Oz(aO!f#tO!h#uO!x!wa|!wa~O!t!wa%_!wa!X!wa#a!wa#b!wa's!wa~PNXO!t(eO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!XXO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$P!hO$TfO's!bO'uTO'xUO(QVO(_[O(liO~Oi%POk$qOl$pOm$pOs%QOu%ROw<XO|$xO!X$yO!c=cO!h$uO#b<_O$P%VO$l<ZO$n<]O$q%WO's(iO'uTO'xUO'|%OO(Q$rO~O#c(kO~Oi%POk$qOl$pOm$pOs%QOu%ROw%SO|$xO!X$yO!c%XO!h$uO#b%YO$P%VO$l%TO$n%UO$q%WO's(iO'uTO'xUO'|%OO(Q$rO~Od(ZP~P!$uO!U(oO!g([P~P%QO(T(qO(_[O~O|(sO!h#uO(T(qO(_[O~OP;nOQ;nOa=_Ob!fOikOk;nOlkOmkOskOu;nOw;nO|WO!QkO!RkO!X!cO!c;qO!hZO!k;nO!l;nO!m;nO!o;rO!q;sO!t!eO$P!hO$TfO's)RO'uTO'xUO(QVO(_[O(l=]O~Oz)UO!h#uO~O!V$^O^$ja'j$ja'h$ja!g$ja!S$ja!X$ja%`$ja!a$ja~O#o)YO~P!#]Oy)]O!a)[O!X$WX$S$WX$V$WX$X$WX$`$WX~O!a)[O!X(iX$S(iX$V(iX$X(iX$`(iX~Oy)]O~P!*kOy)]O!X(iX$S(iX$V(iX$X(iX$`(iX~O!X)_O$S)cO$V)^O$X)^O$`)dO~O!U)gO~P!'RO$V$dO$X$cO$`)kO~Og$rXy$rX|$rX!f$rX(g$rX(h$rX~OdfXd$rXgfX!VfX#WfX~P!,aOl)mO~Oq)nO(R)oO(S)qO~Og)zOy)sO|)tO(g)vO(h)xO~Od)rO~P!-jOd){O~Oi%POk$qOl$pOm$pOs%QOu%ROw<XO|$xO!X$yO!c=cO!h$uO#b<_O$P%VO$l<ZO$n<]O$q%WO'uTO'xUO'|%OO(Q$rO~O!U*PO's)|O!g(mP~P!.XO#c*RO~O!h*SO~O!U*XO's*UO!S(nP~P!.XOk*eO|*]O![*cO!]*[O!^*[O!h*SO#S*dO%V*_O't!iO(T!jO~O!W*bO~P!0_O!f#tOg(PXy(PX|(PX(g(PX(h(PX!V(PX#W(PX~Od(PX#x(PX~P!1WOg*hO#W*gOd(OX!V(OX~O!V*iOd'}X~O's%|Od'}P~O!h*pO~O's(iO~O|%vO!U#fO!X%wO!x]O#a#iO#b#fO's%eO!g(aP~O!a#rO#c*tO~OP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO#t$UO#u$VO(QVO(`$WO(g#yO(h#zO~O^!ba!V!ba'j!ba'h!ba!S!ba!g!bao!ba!X!ba%`!ba!a!ba~P!3jOy#vOz#wO|#xO!f#tO!h#uO(QVOP!naX!nak!na!V!na!e!na!l!na#f!na#g!na#h!na#i!na#j!na#k!na#l!na#m!na#n!na#p!na#r!na#t!na#u!na(`!na(g!na(h!na~O^!na'j!na'h!na!S!na!g!nao!na!X!na%`!na!a!na~P!6TOy#vOz#wO|#xO!f#tO!h#uO(QVOP!paX!pak!pa!V!pa!e!pa!l!pa#f!pa#g!pa#h!pa#i!pa#j!pa#k!pa#l!pa#m!pa#n!pa#p!pa#r!pa#t!pa#u!pa(`!pa(g!pa(h!pa~O^!pa'j!pa'h!pa!S!pa!g!pao!pa!X!pa%`!pa!a!pa~P!8nOg*|O!X'QO%`*{O'|%OO~O!a+OO!X'{X^'{X!V'{X'j'{X~O!h%ZO'|%OO~O!h%ZO's%eO'|%OO~O!a#rO#c(kO~O%a+[O's+WO'uTO'xUO!W(uP~O!V+]O](tX~O(T(qO~OX+aO~O]+bO~O!X%nO's%eO't!iO](tP~O|%vO!U+fO!V(PO!X%wO's%eO!S(dP~Ol&|O|+hO!U+gO'uTO'xUO(T(qO~O!W(fP~P!>RO!V+iO^(qX'j(qX~O#W+mO'|%OO~Og+pO!X$yO'|%OO~O!X+rO~Oy+tO!XXO~O!t+yO~Ob,OO~O's#jO!W(sP~Ob%lO~O%a!OO's%|O~P<bOX,UO],TO~OPYOQYOaxObwOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!csO!hZO!kYO!lYO!mYO!otO!quO!tvO!x]O$TfO%_{O'uTO'xUO(QVO(_[O(liO~O!X!cO$P!hO's!bO~P!@fO],TO^%^O'j%^O~O^,YO#o,[O%c,[O%d,[O~P%QO!h&aO~O&S,aO~O!X,cO~O&e,eO&g,fOP&baQ&baV&ba^&baa&bab&bai&bak&bal&bam&bas&bau&baw&ba|&ba!Q&ba!R&ba!X&ba!c&ba!h&ba!k&ba!l&ba!m&ba!o&ba!q&ba!t&ba!x&ba#o&ba$P&ba$T&ba%_&ba%a&ba%c&ba%d&ba%g&ba%i&ba%l&ba%m&ba%o&ba%|&ba&S&ba&U&ba&W&ba&Y&ba&]&ba&c&ba&i&ba&k&ba&m&ba&o&ba&q&ba'h&ba's&ba'u&ba'x&ba(Q&ba(_&ba(l&ba!W&ba&Z&ba_&ba&`&ba~O's,kO~O!V{X!V!_X!W{X!W!_X!a{X!a!_X!h!_X#W{X'|!_X~O!a,pO#W,oO!V#`X!V(YX!W#`X!W(YX!a(YX!h(YX'|(YX~O!a,rO!h%ZO'|%OO!V!ZX!W!ZX~Ol!kO|!lO'uTO'xUO(T!jO~OP;nOQ;nOa=_Ob!fOikOk;nOlkOmkOskOu;nOw;nO|WO!QkO!RkO!X!cO!c;qO!hZO!k;nO!l;nO!m;nO!o;rO!q;sO!t!eO$P!hO$TfO'uTO'xUO(QVO(_[O(l=]O~O's<dO~P!I{O!V,vO!W(XX~O!W,xO~O!a,pO#W,oO!V#`X!W#`X~O!V,yO!W(fX~O!W,{O~O!],|O!^,|O't!iO~P!IjO!W-PO~P'TOg-SO!X'QO~O!S-XO~Ol!wa![!wa!]!wa!^!wa!|!wa!}!wa#O!wa#P!wa#S!wa#T!wa't!wa'u!wa'x!wa(T!wa(_!wa~PNXO^%^O!a#rO!h%ZO!l-^O#W-[O'j%^O'|%OO(`'dO~O!]-`O!^-`O't!iO~PBtO![-bO!]-`O!^-`O#S-cO#T-cO't!iO~PBtO![-bO!]-`O!^-`O#P-dO#S-cO#T-cO't!iO~PBtO![-bO!]-`O!^-`O!}-eO#O-eO#P-dO#S-cO#T-cO't!iO~PBtO^%^O#W-[O'j%^O~O^%^O!a#rO#W-[O'j%^O~O^%^O!a#rO!l-^O#W-[O'j%^O(`'dO~O'o'lO'p'lO'q-jO~Oo-kO~O!S&|a!V&|a~P!3jO!U-oO!S&|X!V&|X~P%QO!V'xO!S(Wa~O!S(Wa~PF_O!V(PO!S(da~O|%vO!U-sO!X%wO's%eO!S'SX!V'SX~O!V(]O!g(aa~O|%vO!X%wO#b-vO's%eO~O#W-xO!V(ba!g(ba^(ba'j(ba~O!a#rO~P#&hO|%vO!U-{O!X%wO!x]O#a-}O#b-{O's%eO!V'UX!g'UX~Oz.RO!h#uO~Og.UO!X'QO%`.TO'|%OO~O^#Zi!V#Zi'j#Zi'h#Zi!S#Zi!g#Zio#Zi!X#Zi%`#Zi!a#Zi~P!3jOg=iOy)sO|)tO(g)vO(h)xO~O#c#Va^#Va#W#Va'j#Va!V#Va!g#Va!X#Va!S#Va~P#(yO#c(PXP(PXX(PX^(PXk(PXz(PX!e(PX!h(PX!l(PX#f(PX#g(PX#h(PX#i(PX#j(PX#k(PX#l(PX#m(PX#n(PX#p(PX#r(PX#t(PX#u(PX'j(PX(Q(PX(`(PX!g(PX!S(PX'h(PXo(PX!X(PX%`(PX!a(PX~P!1WO!V._Od(ZX~P!-jOd.aO~O!V.bO!g([X~P!3jO!g.eO~O!S.gO~OP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO(QVOX#ei^#eik#ei!V#ei!e#ei#g#ei#h#ei#i#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei'j#ei(`#ei(g#ei(h#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~O#f#ei~P#,uO#f#{O~P#,uOP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O(QVOX#ei^#ei!V#ei!e#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei'j#ei(`#ei(g#ei(h#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~Ok#ei~P#/gOk#}O~P#/gOP$YOk#}Oy#vOz#wO|#xO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO(QVO^#ei!V#ei#p#ei#r#ei#t#ei#u#ei'j#ei(`#ei(g#ei(h#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~OX#ei!e#ei#k#ei#l#ei#m#ei#n#ei~P#2XOX$aO!e$PO#k$PO#l$PO#m$`O#n$PO~P#2XOP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO(QVO^#ei!V#ei#r#ei#t#ei#u#ei'j#ei(`#ei(h#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~O(g#ei~P#5YO(g#yO~P#5YOP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO(QVO(g#yO^#ei!V#ei#t#ei#u#ei'j#ei(`#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~O(h#ei~P#7zO(h#zO~P#7zOP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO#t$UO(QVO(g#yO(h#zO~O^#ei!V#ei#u#ei'j#ei(`#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~P#:lOPYXXYXkYXyYXzYX|YX!eYX!fYX!hYX!lYX#WYX#ccX#fYX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#pYX#rYX#tYX#uYX#zYX(QYX(`YX(gYX(hYX!VYX!WYX~O#xYX~P#=VOP$YOX<VOk;yOy#vOz#wO|#xO!e;{O!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO#k;{O#l;{O#m<UO#n;{O#p;|O#r<OO#t<QO#u<RO(QVO(`$WO(g#yO(h#zO~O#x.iO~P#?dOP(VXX(VXk(VXy(VXz(VX|(VX!e(VX!f(VX!h(VX!l(VX#f(VX#g(VX#h(VX#i(VX#j(VX#k(VX#l(VX#m(VX#p(VX#r(VX#t(VX#u(VX(Q(VX(`(VX(g(VX(h(VX!V(VX~O#W<WO#z<WO#n(VX#x(VX!W(VX~P#AbO^'Xa!V'Xa'j'Xa'h'Xa!g'Xa!S'Xao'Xa!X'Xa%`'Xa!a'Xa~P!3jOP#eiX#ei^#eik#eiz#ei!V#ei!e#ei!f#ei!h#ei!l#ei#f#ei#g#ei#h#ei#i#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei'j#ei(Q#ei(`#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~P#(yO^#yi!V#yi'j#yi'h#yi!S#yi!g#yio#yi!X#yi%`#yi!a#yi~P!3jO$V.nO$X.nO~O$V.oO$X.oO~O!a)[O#W.pO!X$]X$S$]X$V$]X$X$]X$`$]X~O!U.qO~O!X)_O$S.sO$V)^O$X)^O$`.tO~O!V<SO!W(UX~P#?dO!W.uO~O!a)[O$`(iX~O$`.wO~Oq)nO(R)oO(S.zO~Ol.}O!S/OO'uTO'xUO~O!VcX!acX!gcX!g$rX(`cX~P!,aO!g/UO~P#(yO!V/VO!a#rO(`'dO!g(mX~O!g/[O~O!U*PO's%eO!g(mP~O#c/^O~O!S$rX!V$rX!a$yX~P!,aO!V/_O!S(nX~P#(yO!a/aO~O!S/cO~Ok/gO!a#rO!h%ZO'|%OO(`'dO~O's/iO~O!a+OO~O^%^O!V/mO'j%^O~O!W/oO~P!0_O!]/pO!^/pO't!iO(T!jO~O|/rO(T!jO~O#S/sO~O's%|Od'^X!V'^X~O!V*iOd'}a~Od/xO~Oy/yOz/yO|/zOgva(gva(hva!Vva#Wva~Odva#xva~P#M{Oy)sO|)tOg$ka(g$ka(h$ka!V$ka#W$ka~Od$ka#x$ka~P#NqOy)sO|)tOg$ma(g$ma(h$ma!V$ma#W$ma~Od$ma#x$ma~P$ dO#c/|O~Od${a!V${a#W${a#x${a~P!-jO#c0PO~Oy#vOz#wO|#xO!f#tO!h#uO(QVOP!niX!nik!ni!V!ni!e!ni!l!ni#f!ni#g!ni#h!ni#i!ni#j!ni#k!ni#l!ni#m!ni#n!ni#p!ni#r!ni#t!ni#u!ni(`!ni(g!ni(h!ni~O^!ni'j!ni'h!ni!S!ni!g!nio!ni!X!ni%`!ni!a!ni~P$!qOg.UO!X'QO%`.TO~Oi0WO's0VO~P!.[O!a+OO!X'{a^'{a!V'{a'j'{a~O#c0^O~OXYX!VcX!WcX~O!V0_O!W(uX~O!W0aO~OX0bO~O's+WO'uTO'xUO~O!X%nO's%eO]'fX!V'fX~O!V+]O](ta~O!g0gO~P!3jOX0jO~O]0kO~O!V+iO^(qa'j(qa~O#W0qO~Og0tO!X$yO~O(T(qO!W(rP~Og0}O!X0zO%`0|O'|%OO~OX1XO!V1VO!W(sX~O!W1YO~O]1[O^%^O'j%^O~O's#jO'uTO'xUO~O#W$bO#n1_O#z$bO&Q1`O^(VX~P#AbO#W$bO#n1_O&Q1`O~O^1aO~P%QO^1cO~O&Z1gOP&XiQ&XiV&Xi^&Xia&Xib&Xii&Xik&Xil&Xim&Xis&Xiu&Xiw&Xi|&Xi!Q&Xi!R&Xi!X&Xi!c&Xi!h&Xi!k&Xi!l&Xi!m&Xi!o&Xi!q&Xi!t&Xi!x&Xi#o&Xi$P&Xi$T&Xi%_&Xi%a&Xi%c&Xi%d&Xi%g&Xi%i&Xi%l&Xi%m&Xi%o&Xi%|&Xi&S&Xi&U&Xi&W&Xi&Y&Xi&]&Xi&c&Xi&i&Xi&k&Xi&m&Xi&o&Xi&q&Xi'h&Xi's&Xi'u&Xi'x&Xi(Q&Xi(_&Xi(l&Xi!W&Xi_&Xi&`&Xi~O_1mO!W1kO&`1lO~P`O!XXO!h1oO~O&g,fOP&biQ&biV&bi^&bia&bib&bii&bik&bil&bim&bis&biu&biw&bi|&bi!Q&bi!R&bi!X&bi!c&bi!h&bi!k&bi!l&bi!m&bi!o&bi!q&bi!t&bi!x&bi#o&bi$P&bi$T&bi%_&bi%a&bi%c&bi%d&bi%g&bi%i&bi%l&bi%m&bi%o&bi%|&bi&S&bi&U&bi&W&bi&Y&bi&]&bi&c&bi&i&bi&k&bi&m&bi&o&bi&q&bi'h&bi's&bi'u&bi'x&bi(Q&bi(_&bi(l&bi!W&bi&Z&bi_&bi&`&bi~O!S1uO~O!V!Za!W!Za~P#?dOl!kO|!lO!U1{O(T!jO!V&}X!W&}X~P?cO!V,vO!W(Xa~O!V'TX!W'TX~P!>RO!V,yO!W(fa~O!W2SO~P'TO^%^O#W2]O'j%^O~O^%^O!a#rO#W2]O'j%^O~O^%^O!a#rO!h%ZO!l2aO#W2]O'j%^O'|%OO(`'dO~O!]2bO!^2bO't!iO~PBtO![2eO!]2bO!^2bO#S2fO#T2fO't!iO~PBtO![2eO!]2bO!^2bO#P2gO#S2fO#T2fO't!iO~PBtO^%^O!a#rO!l2aO#W2]O'j%^O(`'dO~O^%^O'j%^O~P!3jO!V$^Oo$ja~O!S&|i!V&|i~P!3jO!V'xO!S(Wi~O!V(PO!S(di~O!S(ei!V(ei~P!3jO!V(]O!g(ai~O!V(bi!g(bi^(bi'j(bi~P!3jO#W2kO!V(bi!g(bi^(bi'j(bi~O|%vO!X%wO!x]O#a2nO#b2mO's%eO~O|%vO!X%wO#b2mO's%eO~Og2uO!X'QO%`2tO~Og2uO!X'QO%`2tO'|%OO~O#cvaPvaXva^vakva!eva!fva!hva!lva#fva#gva#hva#iva#jva#kva#lva#mva#nva#pva#rva#tva#uva'jva(Qva(`va!gva!Sva'hvaova!Xva%`va!ava~P#M{O#c$kaP$kaX$ka^$kak$kaz$ka!e$ka!f$ka!h$ka!l$ka#f$ka#g$ka#h$ka#i$ka#j$ka#k$ka#l$ka#m$ka#n$ka#p$ka#r$ka#t$ka#u$ka'j$ka(Q$ka(`$ka!g$ka!S$ka'h$kao$ka!X$ka%`$ka!a$ka~P#NqO#c$maP$maX$ma^$mak$maz$ma!e$ma!f$ma!h$ma!l$ma#f$ma#g$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#p$ma#r$ma#t$ma#u$ma'j$ma(Q$ma(`$ma!g$ma!S$ma'h$mao$ma!X$ma%`$ma!a$ma~P$ dO#c${aP${aX${a^${ak${az${a!V${a!e${a!f${a!h${a!l${a#f${a#g${a#h${a#i${a#j${a#k${a#l${a#m${a#n${a#p${a#r${a#t${a#u${a'j${a(Q${a(`${a!g${a!S${a'h${a#W${ao${a!X${a%`${a!a${a~P#(yO^#Zq!V#Zq'j#Zq'h#Zq!S#Zq!g#Zqo#Zq!X#Zq%`#Zq!a#Zq~P!3jOd'OX!V'OX~P!$uO!V._Od(Za~O!U2}O!V'PX!g'PX~P%QO!V.bO!g([a~O!V.bO!g([a~P!3jO!S3QO~O#x!ja!W!ja~PI{O#x!ba!V!ba!W!ba~P#?dO#x!na!W!na~P!6TO#x!pa!W!pa~P!8nO!X3dO$TfO$^3eO~O!W3iO~Oo3jO~P#(yO^$gq!V$gq'j$gq'h$gq!S$gq!g$gqo$gq!X$gq%`$gq!a$gq~P!3jO!S3kO~Ol.}O'uTO'xUO~Oy)sO|)tO(h)xOg%Wi(g%Wi!V%Wi#W%Wi~Od%Wi#x%Wi~P$HbOy)sO|)tOg%Yi(g%Yi(h%Yi!V%Yi#W%Yi~Od%Yi#x%Yi~P$ITO(`$WO~P#(yO!U3nO's%eO!V'YX!g'YX~O!V/VO!g(ma~O!V/VO!a#rO!g(ma~O!V/VO!a#rO(`'dO!g(ma~Od$ti!V$ti#W$ti#x$ti~P!-jO!U3vO's*UO!S'[X!V'[X~P!.XO!V/_O!S(na~O!V/_O!S(na~P#(yO!a#rO~O!a#rO#n4OO~Ok4RO!a#rO(`'dO~Od(Oi!V(Oi~P!-jO#W4UOd(Oi!V(Oi~P!-jO!g4XO~O^$hq!V$hq'j$hq'h$hq!S$hq!g$hqo$hq!X$hq%`$hq!a$hq~P!3jO!V4]O!X(oX~P#(yO!f#tO~P3zO!X$rX%TYX^$rX!V$rX'j$rX~P!,aO%T4_OghXyhX|hX!XhX(ghX(hhX^hX!VhX'jhX~O%T4_O~O%a4fO's+WO'uTO'xUO!V'eX!W'eX~O!V0_O!W(ua~OX4jO~O]4kO~O!S4oO~O^%^O'j%^O~P#(yO!X$yO~P#(yO!V4tO#W4vO!W(rX~O!W4wO~Ol!kO|4yO![5WO!]4}O!^4}O!x;oO!|5VO!}5UO#O5UO#P5TO#S5SO#T!wO't!iO'uTO'xUO(T!jO(_!nO~O!W5RO~P%#XOg5]O!X0zO%`5[O~Og5]O!X0zO%`5[O'|%OO~O's#jO!V'dX!W'dX~O!V1VO!W(sa~O'uTO'xUO(T5fO~O]5jO~O!g5mO~P%QO^5oO~O^5oO~P%QO#n5qO&Q5rO~PMPO_1mO!W5vO&`1lO~P`O!a5xO~O!a5zO!V(Yi!W(Yi!a(Yi!h(Yi'|(Yi~O!V#`i!W#`i~P#?dO#W5{O!V#`i!W#`i~O!V!Zi!W!Zi~P#?dO^%^O#W6UO'j%^O~O^%^O!a#rO#W6UO'j%^O~O^%^O!a#rO!l6ZO#W6UO'j%^O(`'dO~O!h%ZO'|%OO~P%(fO!]6[O!^6[O't!iO~PBtO![6_O!]6[O!^6[O#S6`O#T6`O't!iO~PBtO!V(]O!g(aq~O!V(bq!g(bq^(bq'j(bq~P!3jO|%vO!X%wO#b6dO's%eO~O!X'QO%`6gO~Og6jO!X'QO%`6gO~O#c%WiP%WiX%Wi^%Wik%Wiz%Wi!e%Wi!f%Wi!h%Wi!l%Wi#f%Wi#g%Wi#h%Wi#i%Wi#j%Wi#k%Wi#l%Wi#m%Wi#n%Wi#p%Wi#r%Wi#t%Wi#u%Wi'j%Wi(Q%Wi(`%Wi!g%Wi!S%Wi'h%Wio%Wi!X%Wi%`%Wi!a%Wi~P$HbO#c%YiP%YiX%Yi^%Yik%Yiz%Yi!e%Yi!f%Yi!h%Yi!l%Yi#f%Yi#g%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#p%Yi#r%Yi#t%Yi#u%Yi'j%Yi(Q%Yi(`%Yi!g%Yi!S%Yi'h%Yio%Yi!X%Yi%`%Yi!a%Yi~P$ITO#c$tiP$tiX$ti^$tik$tiz$ti!V$ti!e$ti!f$ti!h$ti!l$ti#f$ti#g$ti#h$ti#i$ti#j$ti#k$ti#l$ti#m$ti#n$ti#p$ti#r$ti#t$ti#u$ti'j$ti(Q$ti(`$ti!g$ti!S$ti'h$ti#W$tio$ti!X$ti%`$ti!a$ti~P#(yOd'Oa!V'Oa~P!-jO!V'Pa!g'Pa~P!3jO!V.bO!g([i~O#x#Zi!V#Zi!W#Zi~P#?dOP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO(QVOX#eik#ei!e#ei#g#ei#h#ei#i#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei#x#ei(`#ei(g#ei(h#ei!V#ei!W#ei~O#f#ei~P%2xO#f;wO~P%2xOP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO(QVOX#ei!e#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei#x#ei(`#ei(g#ei(h#ei!V#ei!W#ei~Ok#ei~P%5TOk;yO~P%5TOP$YOk;yOy#vOz#wO|#xO!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO(QVO#p#ei#r#ei#t#ei#u#ei#x#ei(`#ei(g#ei(h#ei!V#ei!W#ei~OX#ei!e#ei#k#ei#l#ei#m#ei#n#ei~P%7`OX<VO!e;{O#k;{O#l;{O#m<UO#n;{O~P%7`OP$YOX<VOk;yOy#vOz#wO|#xO!e;{O!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO#k;{O#l;{O#m<UO#n;{O#p;|O(QVO#r#ei#t#ei#u#ei#x#ei(`#ei(h#ei!V#ei!W#ei~O(g#ei~P%9zO(g#yO~P%9zOP$YOX<VOk;yOy#vOz#wO|#xO!e;{O!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO#k;{O#l;{O#m<UO#n;{O#p;|O#r<OO(QVO(g#yO#t#ei#u#ei#x#ei(`#ei!V#ei!W#ei~O(h#ei~P%<VO(h#zO~P%<VOP$YOX<VOk;yOy#vOz#wO|#xO!e;{O!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO#k;{O#l;{O#m<UO#n;{O#p;|O#r<OO#t<QO(QVO(g#yO(h#zO~O#u#ei#x#ei(`#ei!V#ei!W#ei~P%>bO^#vy!V#vy'j#vy'h#vy!S#vy!g#vyo#vy!X#vy%`#vy!a#vy~P!3jOg=jOy)sO|)tO(g)vO(h)xO~OP#eiX#eik#eiz#ei!e#ei!f#ei!h#ei!l#ei#f#ei#g#ei#h#ei#i#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei#x#ei(Q#ei(`#ei!V#ei!W#ei~P%AYO!f#tOP(PXX(PXg(PXk(PXy(PXz(PX|(PX!e(PX!h(PX!l(PX#f(PX#g(PX#h(PX#i(PX#j(PX#k(PX#l(PX#m(PX#n(PX#p(PX#r(PX#t(PX#u(PX#x(PX(Q(PX(`(PX(g(PX(h(PX!V(PX!W(PX~O#x#yi!V#yi!W#yi~P#?dO#x!ni!W!ni~P$!qO!W6vO~O!V'Xa!W'Xa~P#?dO!a#rO(`'dO!V'Ya!g'Ya~O!V/VO!g(mi~O!V/VO!a#rO!g(mi~Od$tq!V$tq#W$tq#x$tq~P!-jO!S'[a!V'[a~P#(yO!a6}O~O!V/_O!S(ni~P#(yO!V/_O!S(ni~O!S7RO~O!a#rO#n7WO~Ok7XO!a#rO(`'dO~O!S7ZO~Od$vq!V$vq#W$vq#x$vq~P!-jO^$hy!V$hy'j$hy'h$hy!S$hy!g$hyo$hy!X$hy%`$hy!a$hy~P!3jO!V4]O!X(oa~O^#Zy!V#Zy'j#Zy'h#Zy!S#Zy!g#Zyo#Zy!X#Zy%`#Zy!a#Zy~P!3jOX7`O~O!V0_O!W(ui~O]7fO~O!a5zO~O(T(qO!V'aX!W'aX~O!V4tO!W(ra~O!h%ZO'|%OO^(YX!a(YX!l(YX#W(YX'j(YX(`(YX~O's7oO~P.[O!x;oO!|7rO!}7qO#O7qO#P7pO#S'bO#T'bO~PBtO^%^O!a#rO!l'hO#W'fO'j%^O(`'dO~O!W7vO~P%#XOl!kO'uTO'xUO(T!jO(_!nO~O|7wO~P%MdO![7{O!]7zO!^7zO#P7pO#S'bO#T'bO't!iO~PBtO![7{O!]7zO!^7zO!}7|O#O7|O#P7pO#S'bO#T'bO't!iO~PBtO!]7zO!^7zO't!iO(T!jO(_!nO~O!X0zO~O!X0zO%`8OO~Og8RO!X0zO%`8OO~OX8WO!V'da!W'da~O!V1VO!W(si~O!g8[O~O!g8]O~O!g8^O~O!g8^O~P%QO^8`O~O!a8cO~O!g8dO~O!V(ei!W(ei~P#?dO^%^O#W8lO'j%^O~O^%^O!a#rO#W8lO'j%^O~O^%^O!a#rO!l8pO#W8lO'j%^O(`'dO~O!h%ZO'|%OO~P&$QO!]8qO!^8qO't!iO~PBtO!V(]O!g(ay~O!V(by!g(by^(by'j(by~P!3jO!X'QO%`8uO~O#c$tqP$tqX$tq^$tqk$tqz$tq!V$tq!e$tq!f$tq!h$tq!l$tq#f$tq#g$tq#h$tq#i$tq#j$tq#k$tq#l$tq#m$tq#n$tq#p$tq#r$tq#t$tq#u$tq'j$tq(Q$tq(`$tq!g$tq!S$tq'h$tq#W$tqo$tq!X$tq%`$tq!a$tq~P#(yO#c$vqP$vqX$vq^$vqk$vqz$vq!V$vq!e$vq!f$vq!h$vq!l$vq#f$vq#g$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#p$vq#r$vq#t$vq#u$vq'j$vq(Q$vq(`$vq!g$vq!S$vq'h$vq#W$vqo$vq!X$vq%`$vq!a$vq~P#(yO!V'Pi!g'Pi~P!3jO#x#Zq!V#Zq!W#Zq~P#?dOy/yOz/yO|/zOPvaXvagvakva!eva!fva!hva!lva#fva#gva#hva#iva#jva#kva#lva#mva#nva#pva#rva#tva#uva#xva(Qva(`va(gva(hva!Vva!Wva~Oy)sO|)tOP$kaX$kag$kak$kaz$ka!e$ka!f$ka!h$ka!l$ka#f$ka#g$ka#h$ka#i$ka#j$ka#k$ka#l$ka#m$ka#n$ka#p$ka#r$ka#t$ka#u$ka#x$ka(Q$ka(`$ka(g$ka(h$ka!V$ka!W$ka~Oy)sO|)tOP$maX$mag$mak$maz$ma!e$ma!f$ma!h$ma!l$ma#f$ma#g$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#p$ma#r$ma#t$ma#u$ma#x$ma(Q$ma(`$ma(g$ma(h$ma!V$ma!W$ma~OP${aX${ak${az${a!e${a!f${a!h${a!l${a#f${a#g${a#h${a#i${a#j${a#k${a#l${a#m${a#n${a#p${a#r${a#t${a#u${a#x${a(Q${a(`${a!V${a!W${a~P%AYO#x$gq!V$gq!W$gq~P#?dO#x$hq!V$hq!W$hq~P#?dO!W9PO~O#x9QO~P!-jO!a#rO!V'Yi!g'Yi~O!a#rO(`'dO!V'Yi!g'Yi~O!V/VO!g(mq~O!S'[i!V'[i~P#(yO!V/_O!S(nq~O!S9WO~P#(yO!S9WO~Od(Oy!V(Oy~P!-jO!V'_a!X'_a~P#(yO!X%Sq^%Sq!V%Sq'j%Sq~P#(yOX9]O~O!V0_O!W(uq~O#W9aO!V'aa!W'aa~O!V4tO!W(ri~P#?dOPYXXYXkYXyYXzYX|YX!SYX!VYX!eYX!fYX!hYX!lYX#WYX#ccX#fYX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#pYX#rYX#tYX#uYX#zYX(QYX(`YX(gYX(hYX~O!a%QX#n%QX~P&6lO#S-cO#T-cO~PBtO#P9eO#S-cO#T-cO~PBtO!}9fO#O9fO#P9eO#S-cO#T-cO~PBtO!]9iO!^9iO't!iO(T!jO(_!nO~O![9lO!]9iO!^9iO#P9eO#S-cO#T-cO't!iO~PBtO!X0zO%`9oO~O'uTO'xUO(T9tO~O!V1VO!W(sq~O!g9wO~O!g9wO~P%QO!g9yO~O!g9zO~O#W9|O!V#`y!W#`y~O!V#`y!W#`y~P#?dO^%^O#W:QO'j%^O~O^%^O!a#rO#W:QO'j%^O~O^%^O!a#rO!l:UO#W:QO'j%^O(`'dO~O!X'QO%`:XO~O#x#vy!V#vy!W#vy~P#?dOP$tiX$tik$tiz$ti!e$ti!f$ti!h$ti!l$ti#f$ti#g$ti#h$ti#i$ti#j$ti#k$ti#l$ti#m$ti#n$ti#p$ti#r$ti#t$ti#u$ti#x$ti(Q$ti(`$ti!V$ti!W$ti~P%AYOy)sO|)tO(h)xOP%WiX%Wig%Wik%Wiz%Wi!e%Wi!f%Wi!h%Wi!l%Wi#f%Wi#g%Wi#h%Wi#i%Wi#j%Wi#k%Wi#l%Wi#m%Wi#n%Wi#p%Wi#r%Wi#t%Wi#u%Wi#x%Wi(Q%Wi(`%Wi(g%Wi!V%Wi!W%Wi~Oy)sO|)tOP%YiX%Yig%Yik%Yiz%Yi!e%Yi!f%Yi!h%Yi!l%Yi#f%Yi#g%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#p%Yi#r%Yi#t%Yi#u%Yi#x%Yi(Q%Yi(`%Yi(g%Yi(h%Yi!V%Yi!W%Yi~O#x$hy!V$hy!W$hy~P#?dO#x#Zy!V#Zy!W#Zy~P#?dO!a#rO!V'Yq!g'Yq~O!V/VO!g(my~O!S'[q!V'[q~P#(yO!S:`O~P#(yO!V0_O!W(uy~O!V4tO!W(rq~O#S2fO#T2fO~PBtO#P:gO#S2fO#T2fO~PBtO!]:kO!^:kO't!iO(T!jO(_!nO~O!X0zO%`:nO~O!g:qO~O^%^O#W:vO'j%^O~O^%^O!a#rO#W:vO'j%^O~O!X'QO%`:{O~OP$tqX$tqk$tqz$tq!e$tq!f$tq!h$tq!l$tq#f$tq#g$tq#h$tq#i$tq#j$tq#k$tq#l$tq#m$tq#n$tq#p$tq#r$tq#t$tq#u$tq#x$tq(Q$tq(`$tq!V$tq!W$tq~P%AYOP$vqX$vqk$vqz$vq!e$vq!f$vq!h$vq!l$vq#f$vq#g$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#p$vq#r$vq#t$vq#u$vq#x$vq(Q$vq(`$vq!V$vq!W$vq~P%AYOd%[!Z!V%[!Z#W%[!Z#x%[!Z~P!-jO!V'aq!W'aq~P#?dO#S6`O#T6`O~PBtO!V#`!Z!W#`!Z~P#?dO^%^O#W;ZO'j%^O~O#c%[!ZP%[!ZX%[!Z^%[!Zk%[!Zz%[!Z!V%[!Z!e%[!Z!f%[!Z!h%[!Z!l%[!Z#f%[!Z#g%[!Z#h%[!Z#i%[!Z#j%[!Z#k%[!Z#l%[!Z#m%[!Z#n%[!Z#p%[!Z#r%[!Z#t%[!Z#u%[!Z'j%[!Z(Q%[!Z(`%[!Z!g%[!Z!S%[!Z'h%[!Z#W%[!Zo%[!Z!X%[!Z%`%[!Z!a%[!Z~P#(yOP%[!ZX%[!Zk%[!Zz%[!Z!e%[!Z!f%[!Z!h%[!Z!l%[!Z#f%[!Z#g%[!Z#h%[!Z#i%[!Z#j%[!Z#k%[!Z#l%[!Z#m%[!Z#n%[!Z#p%[!Z#r%[!Z#t%[!Z#u%[!Z#x%[!Z(Q%[!Z(`%[!Z!V%[!Z!W%[!Z~P%AYOo(UX~P1dO't!iO~P!'RO!ScX!VcX#WcX~P&6lOPYXXYXkYXyYXzYX|YX!VYX!VcX!eYX!fYX!hYX!lYX#WYX#WcX#ccX#fYX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#pYX#rYX#tYX#uYX#zYX(QYX(`YX(gYX(hYX~O!acX!gYX!gcX(`cX~P'!sOP;nOQ;nOa=_Ob!fOikOk;nOlkOmkOskOu;nOw;nO|WO!QkO!RkO!XXO!c;qO!hZO!k;nO!l;nO!m;nO!o;rO!q;sO!t!eO$P!hO$TfO's)RO'uTO'xUO(QVO(_[O(l=]O~O!V<SO!W$ja~Oi%POk$qOl$pOm$pOs%QOu%ROw<YO|$xO!X$yO!c=dO!h$uO#b<`O$P%VO$l<[O$n<^O$q%WO's(iO'uTO'xUO'|%OO(Q$rO~O#o)YO~P''iO!WYX!WcX~P'!sO#c;vO~O!a#rO#c;vO~O#W<WO~O#n;{O~O#W<bO!V(eX!W(eX~O#W<WO!V(cX!W(cX~O#c<cO~Od<eO~P!-jO#c<jO~O#c<kO~O!a#rO#c<lO~O!a#rO#c<cO~O#x<mO~P#?dO#c<nO~O#c<oO~O#c<pO~O#c<qO~O#c<rO~O#c<sO~O#x<tO~P!-jO#x<uO~P!-jO$T~!f!|#O#P#S#a#b#m(l$l$n$q%T%_%`%a%g%i%l%m%o%q~'nR$T(l#g!R'l't#hl#f#iky'm(T'm's$V$X$V~",goto:"$/X(yPPPP(zP(}P)_P+a/fPPPP6iPP7OP<|@mPAQPAQPPPAQPBpPAQPAQPAQPBtPPByPCdPH`PPPHdPPPPHdKfPPPKlMlPHdP!!SPPPP!$eHdPPPHdPHdP!&vHdP!*]!+_!+dP!,U!,Y!,UPPPP!/f!1kPP!1t!3OP!+_HdHd!6b!9m!>v!>v!BnPPP!BuHdPPPPPPPPPPP!FTP!GiPPHd!HyPHdPHdHdHdHdPHd!J`PP!MiP#!nP#!r#!|##Q##QP!MfP##U##UP#&ZP#&_HdHd#&e#)iAQPAQPAQAQP#*sAQAQ#,mAQ#.zAQ#0nAQAQ#1[#3W#3W#3[#3d#3W#3lP#3WPAQ#4hAQ#5pAQAQ6iPPP#6{PP#7e#7eP#7eP#7z#7ePP#8QP#7wP#7w#8d!1p#7w#9O#9U6f(}#9X(}P#9`#9`#9`P(}P(}P(}P(}PP(}P#9f#9iP#9i(}P#9mP#9pP(}P(}P(}P(}P(}P(}(}PP#9v#9|#:W#:^#:d#:j#:p#;O#;U#;[#;f#;l#<h#<w#<}#=a#=g#=m#={#>b#?r#@Q#@W#@^#@d#@j#@t#@z#AQ#A[#An#AtPPPPPPPPPP#AzPPPPPPP#Bn#FYP#Gu#G|#HUPPPP#L`$ U$'t$'w$'z$)w$)z$)}$*UPP$*[$*`$+X$,X$,]$,qPP$,u$,{$-PP$-S$-W$-Z$.P$.g$.l$.o$.r$.x$.{$/P$/TR!yRmpOXr!X#a%]&d&f&g&i,^,c1g1jU!pQ'Q-OQ%ctQ%kwQ%rzQ&[!TS&x!c,vQ'W!f[']!m!r!s!t!u!vS*[$y*aQ+U%lQ+c%tQ+}&UQ,|'PQ-W'XW-`'^'_'`'aQ/p*cQ1U,OU2b-b-d-eS4}0z5QS6[2e2gU7z5U5V5WQ8q6_S9i7{7|Q:k9lR<a;r%QdOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t+h,Y,^,c-S-[-o-x.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2}4y5]5o5q5r6U7w8R8`8l:Q:v;ZS#m];o!r)T$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q*l%SQ+Z%nQ,P&XQ,W&aQ.X<XQ0T*|Q0X+OQ0d+[Q1^,UQ2q.UQ4e0_Q5d1VQ6i2uQ6o<YQ7b4fR8x6j'OkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`#S!kQ!m!p!r!s!t!u!v!w&x'P'Q']'^'_'`'a'b,v,|-O-`-b-c-d-e0z2b2e2f2g4z5Q5S5T5U5V6[6_6`7p7q7r7|8q9e9f:g$Y$pi#r#t$`$a$u$x%T%U%Y)n)w)y)z*R*X*g*h*{+O+m+p.T._/^/_/a/|0q0t0|2t3l3v4O4U4]4_5[6g6}7W8O8u9Q9o:X:n:{<U<V<Z<[<]<^<_<`<f<g<h<i<j<k<n<o<p<q<t<u=]=e=f=i=jQ%uzQ&v!cS&|%w,yQ+Z%nS.})t/PQ/{*pQ0d+[Q0i+bQ1],TQ1^,UQ4e0_Q4n0kQ5g1XQ5h1[Q7b4fQ7e4kQ8Z5jQ9`7fR9u8WpmOXr!T!X#a%]&Z&d&f&g&i,^,c1g1jR,R&]&x`OPXYrstux!X!^!g!l#P#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u'S'f'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=_=`[#YWZ#T#W&y'vQ%fvQ%jwS%oz%t!U%x|}#d#f#i%Z%v(P(W(X(]+f+g+i,[,p-s-v-z-{-}1o2m2n5z6dQ&Q!RQ'T!eQ'V!fQ(d#oS*O$u*SS+T%k%lQ+X%nQ+x&SQ+|&US-V'W'XQ.W(eQ/Z*PQ0]+UQ0c+[Q0e+]Q0h+aQ1P+yS1T+},OQ2X-WQ3m/VQ4d0_Q4h0bQ4m0jQ5c1UQ6z3nQ7a4fQ7d4jQ9[7`R:b9]v$wi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=f!`%hw!f!o%j%k%l&w'V'W'X'['i*Z+T+U,s-V-W-_-a/h0]2Q2X2`2d4Q6Y6^8o:TQ*}%fQ+n%}Q+q&OQ+{&UQ.V(dQ1O+xU1S+|+},OQ2v.WQ5^1PS5b1T1US7n4x4|Q8V5cU9g7s7x7yU:i9h9j9kQ;R:jQ;a;S!z=a#r$`$a$u$x)n)z*X*{+O+m+p.T/_/a0q0t0|2t3v4O4]4_5[6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jg=b<U<V<[<^<`<g<i<k<o<q<uW$|i%O*i=]S%}!O&ZQ&O!PQ&P!QR+l%{$Z${i#r#t$`$a$u$x%T%U%Y)n)w)y)z*R*X*g*h*{+O+m+p.T._/^/_/a/|0q0t0|2t3l3v4O4U4]4_5[6g6}7W8O8u9Q9o:X:n:{<U<V<Z<[<]<^<_<`<f<g<h<i<j<k<n<o<p<q<t<u=]=e=f=i=jT)o$r)pV*m%S<X<YU&|!c%w,yS(r#v#wQ+`%qS.P(`(aQ0u+rQ4V/yR7j4t'OkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`$o$]c#V#b%a%b%d'u'{(g(n(v(w(x(y(z({(|(})O)P)Q)S)V)Z)e*y+_,t-h-m-r-w.^.d.h.j.k.l.{/}1v1y2Z2j2|3R3S3T3U3V3W3X3Y3Z3[3]3^3_3b3c3h4Z4b5}6T6b6m6n6s6t7l8f8j8y8}9O:O:d:r:t;X;d;p=ST#QV#R'PkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q&z!cR1|,v!z!kQ!c!m!p!r!s!t!u!v!w&x'P'Q']'^'_'`'a'b,v,|-O-`-b-c-d-e2b2e2f2g4z5S5T6[6_6`7p7q7r8q9e9f:gS*Z$y*aS/h*[*cQ/q*dQ0w+tQ4Q/pQ4T/sS4x0z5QS7s4}5WS7x5U5VS9h7z7{Q9j7|S:j9i9lR;S:klpOXr!X#a%]&d&f&g&i,^,c1g1jQ&k![Q'j!tS(f#q;vQ+R%iQ+v&QQ+w&RQ-T'UQ-g'cS.](k<cS0O*t<lQ0Z+SQ0y+uQ1n,eQ1p,fQ1x,qQ2V-UQ2Y-YS4[0P<rQ4`0[S4c0^<sQ5|1zQ6Q2WQ6V2_Q7_4aQ8g6OQ8h6RQ8k6WQ9{8dQ:P8mQ:u:RR;Y:w$j$[c#V#b%b%d'u'{(g(n(v(w(x(y(z({(|(})O)P)Q)S)V)Z)e*y+_,t-h-m-r-w.^.d.h.k.l.{/}1v1y2Z2j2|3R3S3T3U3V3W3X3Y3Z3[3]3^3_3b3c3h4Z4b5}6T6b6m6n6s6t7l8f8j8y8}9O:O:d:r:t;X;d;p=SS(c#l'ZU*f$z(j3aS*x%a.jQ2r0TQ6f2qQ8w6iR:Y8x$j$Zc#V#b%b%d'u'{(g(n(v(w(x(y(z({(|(})O)P)Q)S)V)Z)e*y+_,t-h-m-r-w.^.d.h.k.l.{/}1v1y2Z2j2|3R3S3T3U3V3W3X3Y3Z3[3]3^3_3b3c3h4Z4b5}6T6b6m6n6s6t7l8f8j8y8}9O:O:d:r:t;X;d;p=SS(b#l'ZS(t#w$[S*w%a.jS.Q(a(cQ.m)UQ0Q*xR2o.R'OkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`S#m];oQ&f!VQ&g!WQ&i!YQ&j!ZR1f,aQ'R!eQ*z%fQ-R'TS.S(d*}Q2T-QW2s.V.W0S0UQ6P2UU6e2p2r2vS8t6f6hS:W8v8wS:y:V:YQ;[:zR;e;]V!qQ'Q-O!_^OQXZ_r!T!X!m#a#d%Z%]&Z&]&d&f&g&i'Q(],^,c-O-z0z1g1j4z5QT#m];o%[yOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;ZS(r#v#wS.P(`(a!s<y$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`U!oQ'Q-OY'[!m!s!t!u!vS'i!p!rW'k!w4z5S5TS-_']'^U-a'_'`'aW-f'b7p7q7rS2`-`-bU2c-c9e9fS2d-d-eS4|0z5QS6Y2b2eS6]2f:gQ6^2gS7s4}5WS7y5U5VS8o6[6_Q8r6`S9h7z7{Q9k7|Q:T8qS:j9i9lR;S:kU!qQ'Q-OT5O0z5QU'h!o4{4|S([#e1dU-^'['k7yQ/Y*OQ/f*ZU2a-a-f9kQ3r/ZS3{/g/qS6Z2c2dQ6y3mS7U4R4TS8p6]6^Q9S6zQ9Z7XR:U8rQ#sbU'g!o4{4|S(Z#e1dQ*u%[Q+P%gQ+V%mW-]'['h'k7yQ-y([Q/X*OQ/e*ZQ/k*^Q0Y+QQ1Q+zW2^-^-a-f9kS3q/Y/ZS3z/f/qQ3}/jQ4P/lQ5`1RU6X2a2c2dQ6x3mQ6|3rS7Q3{4TQ7V4SQ8T5aU8n6Z6]6^S9R6y6zQ9V7RQ9X7UQ9c7mQ9r8US:S8p8rQ:^9SQ:_9WQ:a9ZQ:f9dQ:p9sQ:x:UQ:}:`Q;P:hQ;_;QQ;h;`Q;l;iQ<|<wQ=X=QR=Y=R%[aOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;ZS#sx!g!r<v$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`R<|=_%[bOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;ZQ%[j!`%gw!f!o%j%k%l&w'V'W'X'['i*Z+T+U,s-V-W-_-a/h0]2Q2X2`2d4Q6Y6^8o:TS%mx!gQ+Q%hQ+z&UW1R+{+|+},OU5a1S1T1US7m4x4|S8U5b5cW9d7n7s7x7yQ9s8VW:h9g9h9j9kS;Q:i:jS;`;R;SQ;i;a!r<w$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q=Q=^R=R=_%OeOPXYrstu!X!^!l#P#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&d&f&g&i&m&u'S'f'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;ZY#_WZ#T#W'v!U%x|}#d#f#i%Z%v(P(W(X(]+f+g+i,[,p-s-v-z-{-}1o2m2n5z6dQ,X&a!p<x$X$j)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`R<{&yS&}!c%wR2O,y%QdOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t+h,Y,^,c-S-[-o-x.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2}4y5]5o5q5r6U7w8R8`8l:Q:v;Z!r)T$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q,W&aQ0T*|Q2q.UQ6i2uR8x6j!l$Rc#V%a'u'{(g(n(})O)P)Q)V)Z+_-h-m-r-w.^.d.{/}2Z2j2|3_4Z4b6T6b6m8j:O:t;X;d;p!T;})S)e,t.j1v1y3R3Z3[3]3^3b3h5}6n6s6t7l8f8y8}9O:d:r=S!h$Tc#V%a'u'{(g(n)P)Q)V)Z+_-h-m-r-w.^.d.{/}2Z2j2|3_4Z4b6T6b6m8j:O:t;X;d;p!P<P)S)e,t.j1v1y3R3]3^3b3h5}6n6s6t7l8f8y8}9O:d:r=S!d$Xc#V%a'u'{(g(n)V)Z+_-h-m-r-w.^.d.{/}2Z2j2|3_4Z4b6T6b6m8j:O:t;X;d;pQ3l/Tz=`)S)e,t.j1v1y3R3b3h5}6n6s6t7l8f8y8}9O:d:r=SQ=e=gR=f=h'OkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`S$kh$lR3e.p'VgOPWXYZhrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j$l%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.p.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`T$gf$mQ$efS)^$h)bR)j$mT$ff$mT)`$h)b'VhOPWXYZhrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j$l%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.p.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`T$kh$lQ$nhR)i$l%[jOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;Z!s=^$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`#alOPXZr!X!^!l#P#a#k#x$j%]&]&`&a&d&f&g&i&m&u'S(s)g*|+h,Y,^,c-S.U.q/z0}1_1`1a1c1g1j1l2u3d4y5]5o5q5r6j7w8R8`v$zi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=f!z(j#r$`$a$u$x)n)z*X*{+O+m+p.T/_/a0q0t0|2t3v4O4]4_5[6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jQ*q%WQ.|)sg3a<U<V<[<^<`<g<i<k<o<q<uv$vi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=fQ*T$wS*^$y*aQ*r%XQ/l*_!z=O#r$`$a$u$x)n)z*X*{+O+m+p.T/_/a0q0t0|2t3v4O4]4_5[6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jf=P<U<V<[<^<`<g<i<k<o<q<uQ=T=aQ=U=bQ=V=cR=W=dv$zi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=f!z(j#r$`$a$u$x)n)z*X*{+O+m+p.T/_/a0q0t0|2t3v4O4]4_5[6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jg3a<U<V<[<^<`<g<i<k<o<q<ulnOXr!X#a%]&d&f&g&i,^,c1g1jQ*W$xQ,l&pQ,m&rR3u/_$Y${i#r#t$`$a$u$x%T%U%Y)n)w)y)z*R*X*g*h*{+O+m+p.T._/^/_/a/|0q0t0|2t3l3v4O4U4]4_5[6g6}7W8O8u9Q9o:X:n:{<U<V<Z<[<]<^<_<`<f<g<h<i<j<k<n<o<p<q<t<u=]=e=f=i=jQ+o&OQ0s+qQ4r0rR7i4sT*`$y*aS*`$y*aT5P0z5QS/j*]4yT4S/r7wQ+P%gQ/k*^Q0Y+QQ1Q+zQ5`1RQ8T5aQ9c7mQ9r8UQ:f9dQ:p9sQ;P:hQ;_;QQ;h;`R;l;in)w$s(l*s/]/t/u2z3s4Y6w7Y:]<}=Z=[!W<f(h)X)}*V.[.x/T/b0R0p0r2y3t3x4q4s6k6l7O7S7[7^9U9Y:|=g=h]<g3`6r8z:Z:[;fp)y$s(l*s/R/]/t/u2z3s4Y6w7Y:]<}=Z=[!Y<h(h)X)}*V.[.x/T/b0R0p0r2w2y3t3x4q4s6k6l7O7S7[7^9U9Y:|=g=h_<i3`6r8z8{:Z:[;fpmOXr!T!X#a%]&Z&d&f&g&i,^,c1g1jQ&W!SR,Y&apmOXr!T!X#a%]&Z&d&f&g&i,^,c1g1jR&W!SQ+s&PR0o+lqmOXr!T!X#a%]&Z&d&f&g&i,^,c1g1jQ0{+xS5Z1O1PU7}5X5Y5^S9n8P8QS:l9m9pQ;T:mR;b;UQ&_!TR,S&ZR5g1XS%oz%tR0e+]Q&d!UR,^&eR,d&jT1h,c1jR,h&kQ,g&kR1q,hQ'm!xR-i'mQrOQ#aXT%`r#aQ!{TR'o!{Q#OUR'q#OQ)p$rR.y)pQ#RVR's#RQ#UWU'y#U'z-pQ'z#VR-p'{Q,w&zR1},wQ.`(lR2{.`Q.c(nS3O.c3PR3P.dQ-O'QR2R-Or_OXr!T!X#a%]&Z&]&d&f&g&i,^,c1g1jU!mQ'Q-OS#dZ%ZY#n_!m#d-z4zQ-z(]T4z0z5QS#[W%vU(Q#[(R-qQ(R#]R-q'|Q,z&}R2P,zQ(^#gQ-t(VW.O(^-t2h6aQ2h-uR6a2iQ)b$hR.r)bQ$lhR)h$lQ$_cU)W$_-l<TQ-l;pR<T)eQ/W*OW3o/W3p6{9TU3p/X/Y/ZS6{3q3rR9T6|#m)u$s(h(l)X)}*V*n*o*s.Y.Z.[.x/R/S/T/]/b/t/u0R0p0r2w2x2y2z3`3s3t3x4Y4q4s6k6l6p6q6r6w7O7S7Y7[7^8z8{8|9U9Y:Z:[:]:|;f<}=Z=[=g=hQ/`*VU3w/`3y7PQ3y/bR7P3xQ*a$yR/n*aQ*j$}R/w*jQ4^0RR7]4^Q+j%yR0n+jQ4u0uS7k4u9bR9b7lQ+u&QR0x+uQ5Q0zR7u5QQ1W,PS5e1W8XR8X5gQ0`+XW4g0`4i7c9^Q4i0cQ7c4hR9^7dQ+^%oR0f+^Q1j,cR5u1jWqOXr#aQ&h!XQ*v%]Q,]&dQ,_&fQ,`&gQ,b&iQ1e,^S1h,c1jR5t1gQ%_oQ&l!]Q&o!_Q&q!`Q&s!aU'e!o4{4|Q+e%uQ+k%zQ,R&_Q,j&nY-Z'['g'h'k7yQ/m*`S1Z,S,VQ1r,iQ1s,lQ1t,m[2[-]-^-a-f-h9kQ4l0iQ4p0pQ5_1QQ5i1]Q5s1fY6S2Z2^2a2c2dQ7g4nQ7h4qQ7t5PQ8S5`Q8Y5hY8i6T6X6Z6]6^Q9_7eQ9q8TQ9v8ZW9}8j8n8p8rQ:c9`Q:e9cQ:o9rU:s:O:S:UQ;O:fQ;V:pS;W:t:xQ;^;PQ;c;XQ;g;_Q;j;dQ;k;hR;m;lQ%iwQ'U!fQ'c!oU+S%j%k%lQ,q&wU-U'V'W'XS-Y'['iQ/d*ZS0[+T+UQ1z,sS2W-V-WS2_-_-aQ3|/hQ4a0]Q6O2QQ6R2XS6W2`2dQ7T4QS8m6Y6^Q:R8oR:w:TS$ti=]R*k%OU$}i%O=]R/v*iQ$siS(h#r+OQ(l#tS)X$`$aQ)}$uQ*V$xQ*n%TQ*o%UQ*s%YQ.Y<ZQ.Z<]Q.[<_Q.x)nQ/R)wQ/S)yQ/T)zQ/]*RQ/b*XQ/t*gQ/u*hh0R*{.T0|2t5[6g8O8u9o:X:n:{Q0p+mQ0r+pQ2w<fQ2x<hQ2y<jQ2z._S3`<U<VQ3s/^Q3t/_Q3x/aQ4Y/|Q4q0qQ4s0tQ6k<nQ6l<pQ6p<[Q6q<^Q6r<`Q6w3lQ7O3vQ7S4OQ7Y4UQ7[4]Q7^4_Q8z<kQ8{<gQ8|<iQ9U6}Q9Y7WQ:Z<oQ:[<qQ:]9QQ:|<tQ;f<uQ<}=]Q=Z=eQ=[=fQ=g=iR=h=jloOXr!X#a%]&d&f&g&i,^,c1g1jQ!dPS#cZ#kQ&n!^U'Y!l4y7wQ'r#PQ(u#xQ)f$jS,V&]&`Q,Z&aQ,i&mQ,n&uQ-Q'SQ.f(sQ.v)gQ0U*|Q0l+hQ1b,YQ2U-SQ2r.UQ3g.qQ4W/zQ5Y0}Q5k1_Q5l1`Q5n1aQ5p1cQ5w1lQ6f2uQ6u3dQ8Q5]Q8_5oQ8a5qQ8b5rQ8w6jQ9p8RR9x8`#UcOPXZr!X!^!l#a#k#x%]&]&`&a&d&f&g&i&m&u'S(s*|+h,Y,^,c-S.U/z0}1_1`1a1c1g1j1l2u4y5]5o5q5r6j7w8R8`Q#VWQ#bYQ%asQ%btQ%duS'u#T'xQ'{#WQ(g#qQ(n#uQ(v#{Q(w#|Q(x#}Q(y$OQ(z$PQ({$QQ(|$RQ(}$SQ)O$TQ)P$UQ)Q$VQ)S$XQ)V$^Q)Z$bW)e$j)g.q3dQ*y%cQ+_%pS,t&y1{Q-h'fS-m'v-oQ-r(OQ-w(YQ.^(kQ.d(oQ.h;nQ.j;qQ.k;rQ.l;sQ.{)rQ/}*tQ1v,oQ1y,rQ2Z-[Q2j-xQ2|.bQ3R;vQ3S;wQ3T;xQ3U;yQ3V;zQ3W;{Q3X;|Q3Y;}Q3Z<OQ3[<PQ3]<QQ3^<RQ3_.iQ3b<WQ3c<aQ3h<SQ4Z0PQ4b0^Q5}<bQ6T2]Q6b2kQ6m2}Q6n<cQ6s<eQ6t<lQ7l4vQ8f5{Q8j6UQ8y<mQ8}<rQ9O<sQ:O8lQ:d9aQ:r9|Q:t:QQ;X:vQ;d;ZQ;p#PR=S=`R#XWR&{!cU!oQ'Q-OS&w!c,vY'[!m!s!t!u!vS'i!p!r['k!w4z5S5T5U5VS,s&x'PS-_']'^U-a'_'`'aY-f'b7p7q7r7|Q2Q,|S2`-`-bU2c-c9e9fS2d-d-eS4{0z5QS6Y2b2eS6]2f:gQ6^2gS8o6[6_Q8r6`R:T8qR(m#tR(p#uQ!dQT,}'Q-OQ#l]R'Z;oT#hZ%ZS#gZ%ZU%y|},[U(V#d#f#iS-u(W(XQ-|(]Q0m+iQ2i-vU2l-z-{-}S6c2m2nR8s6d`#ZW#T#W%v'v(P+f-st#eZ|}#d#f#i%Z(W(X(]+i-v-z-{-}2m2n6dQ1d,[Q1w,pQ5y1oQ8e5zT<z&y+gT#^W%vS#]W%vS'w#T(PS'|#W+fS,u&y+gT-n'v-sT'O!c%wQ$hfR)l$mT)a$h)bR3f.pT*Q$u*SR*Y$xQ0S*{Q2p.TQ5X0|Q6h2tQ8P5[Q8v6gQ9m8OQ:V8uQ:m9oQ:z:XQ;U:nR;]:{lpOXr!X#a%]&d&f&g&i,^,c1g1jQ&^!TR,R&ZV%z|},[R0v+rR,Q&XQ%szR+d%tR+Y%nT&b!U&eT&c!U&eT1i,c1j",nodeNames:"⚠ ArithOp ArithOp LineComment BlockComment Script ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:362,context:Ub,nodeProps:[["group",-26,6,14,16,62,198,202,205,206,208,211,214,225,227,233,235,237,239,242,248,254,256,258,260,262,264,265,"Statement",-32,10,11,25,28,29,35,45,48,49,51,56,64,72,76,78,80,81,102,103,112,113,130,133,135,136,137,138,140,141,161,162,164,"Expression",-23,24,26,30,34,36,38,165,167,169,170,172,173,174,176,177,178,180,181,182,192,194,196,197,"Type",-3,84,95,101,"ClassItem"],["openedBy",31,"InterpolationStart",50,"[",54,"{",69,"(",142,"JSXStartTag",154,"JSXStartTag JSXStartCloseTag"],["closedBy",33,"InterpolationEnd",44,"]",55,"}",70,")",143,"JSXSelfCloseEndTag JSXEndTag",159,"JSXEndTag"]],propSources:[Xb],skippedNodes:[0,3,4,268],repeatNodeCount:32,tokenData:"$>y(CSR!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tu>PuvBavwDxwxGgxyMvyz! Qz{!![{|!%O|}!&]}!O!%O!O!P!'g!P!Q!1w!Q!R#0t!R![#3T![!]#@T!]!^#Aa!^!_#Bk!_!`#GS!`!a#In!a!b#N{!b!c$$z!c!}>P!}#O$&U#O#P$'`#P#Q$,w#Q#R$.R#R#S>P#S#T$/`#T#o$0j#o#p$4z#p#q$5p#q#r$7Q#r#s$8^#s$f%Z$f$g+g$g#BY>P#BY#BZ$9h#BZ$IS>P$IS$I_$9h$I_$I|>P$I|$I}$<s$I}$JO$<s$JO$JT>P$JT$JU$9h$JU$KV>P$KV$KW$9h$KW&FU>P&FU&FV$9h&FV;'S>P;'S;=`BZ<%l?HT>P?HT?HU$9h?HUO>P(n%d_$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$c&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$c&j'y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU'y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$c&j'vpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU'vpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z(CS+rq$c&j'vp'y!b'l(;dOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z(CS.ST'w#S$c&j'm(;dO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c(CS.n_$c&j'vp'y!b'm(;dOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`/x`$c&j!l$Ip'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S1V`#p$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S2d_#p$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b3l_'u$(n$c&j'y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k*r4r_$c&j'y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k)`5vX$c&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q)`6jT$^#t$c&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#t6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y#t7bO$^#t#t7eP;=`<%l6y)`7kP;=`<%l5q*r7w]$^#t$c&j'y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}%W8uZ'y!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p%W9oU$^#t'y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}%W:UP;=`<%l8p*r:[P;=`<%l4k#%|:hg$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}st%Ztu<Puw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}<P!}#O%Z#O#P&c#P#R%Z#R#S<P#S#T%Z#T#o<P#o#p*g#p$g%Z$g;'S<P;'S;=`=y<%lO<P#%|<[i$c&j(_!L^'vp'y!bOY%ZYZ&cZr%Zrs&}st%Ztu<Puw%Zwx(rx!Q%Z!Q![<P![!^%Z!^!_*g!_!c%Z!c!}<P!}#O%Z#O#P&c#P#R%Z#R#S<P#S#T%Z#T#o<P#o#p*g#p$g%Z$g;'S<P;'S;=`=y<%lO<P#%|=|P;=`<%l<P(CS>`k$c&j'vp'y!b(T!LY's&;d$V#tOY%ZYZ&cZr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$g%Z$g;'S>P;'S;=`BZ<%lO>P+d@`k$c&j'vp'y!b$V#tOY%ZYZ&cZr%Zrs&}st%Ztu@Tuw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![@T![!^%Z!^!_*g!_!c%Z!c!}@T!}#O%Z#O#P&c#P#R%Z#R#S@T#S#T%Z#T#o@T#o#p*g#p$g%Z$g;'S@T;'S;=`BT<%lO@T+dBWP;=`<%l@T(CSB^P;=`<%l>P%#SBl`$c&j'vp'y!b#h$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SCy_$c&j#z$Id'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%DfETa(h%<v$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sv%ZvwFYwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SFe`$c&j#t$Id'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2bGp_'x$)`$c&j'vpOYHoYZIuZrHorsIuswHowxKVx!^Ho!^!_LX!_#OHo#O#PIu#P#oHo#o#pLX#p;'SHo;'S;=`Mp<%lOHo*QHv_$c&j'vpOYHoYZIuZrHorsIuswHowxKVx!^Ho!^!_LX!_#OHo#O#PIu#P#oHo#o#pLX#p;'SHo;'S;=`Mp<%lOHo)`IzX$c&jOwIuwx6cx!^Iu!^!_Jg!_#oIu#o#pJg#p;'SIu;'S;=`KP<%lOIu#tJjTOwJgwx7]x;'SJg;'S;=`Jy<%lOJg#tJ|P;=`<%lJg)`KSP;=`<%lIu*QK`]$^#t$c&j'vpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r$fL^Z'vpOYLXYZJgZrLXrsJgswLXwxMPx#OLX#O#PJg#P;'SLX;'S;=`Mj<%lOLX$fMWU$^#t'vpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r$fMmP;=`<%lLX*QMsP;=`<%lHo(*QNR_!h(!b$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'l! ]_!gM|$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h!!ib$c&j'vp'y!b't#)d#i$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!#q{!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!#|`$c&j'vp'y!b#f$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&-O!%Z`$c&j'vp'y!bk&%`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&C[!&h_!V&;l$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!'rc$c&j'vp'y!by'<nOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!(}!P!Q%Z!Q![!+g![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!)Wa$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!*]!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!*h_!UMt$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!+rg$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!+g![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S!+g#S#X%Z#X#Y!-Z#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!-dg$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!.{|}%Z}!O!.{!O!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!/Uc$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!0lc$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!2Sf$c&j'vp'y!b#g$IdOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}xz!3hz{#$s{!P!3h!P!Q#&Y!Q!^!3h!^!_!Mh!_!`#-x!`!a#/_!a!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(r!3sb$c&j'vp'y!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(Q!5U`$c&j'y!b!RSOY!4{YZ&cZw!4{wx!6Wx!P!4{!P!Q!=o!Q!^!4{!^!_!?g!_!}!4{!}#O!Bn#O#P!<w#P#o!4{#o#p!?g#p;'S!4{;'S;=`!Cw<%lO!4{&n!6_^$c&j!RSOY!6WYZ&cZ!P!6W!P!Q!7Z!Q!^!6W!^!_!8g!_!}!6W!}#O!;U#O#P!<w#P#o!6W#o#p!8g#p;'S!6W;'S;=`!=i<%lO!6W&n!7ba$c&j!RSO!^&c!_#Z&c#Z#[!7Z#[#]&c#]#^!7Z#^#a&c#a#b!7Z#b#g&c#g#h!7Z#h#i&c#i#j!7Z#j#m&c#m#n!7Z#n#o&c#p;'S&c;'S;=`&w<%lO&cS!8lX!RSOY!8gZ!P!8g!P!Q!9X!Q!}!8g!}#O!9p#O#P!:o#P;'S!8g;'S;=`!;O<%lO!8gS!9^U!RS#Z#[!9X#]#^!9X#a#b!9X#g#h!9X#i#j!9X#m#n!9XS!9sVOY!9pZ#O!9p#O#P!:Y#P#Q!8g#Q;'S!9p;'S;=`!:i<%lO!9pS!:]SOY!9pZ;'S!9p;'S;=`!:i<%lO!9pS!:lP;=`<%l!9pS!:rSOY!8gZ;'S!8g;'S;=`!;O<%lO!8gS!;RP;=`<%l!8g&n!;Z[$c&jOY!;UYZ&cZ!^!;U!^!_!9p!_#O!;U#O#P!<P#P#Q!6W#Q#o!;U#o#p!9p#p;'S!;U;'S;=`!<q<%lO!;U&n!<UX$c&jOY!;UYZ&cZ!^!;U!^!_!9p!_#o!;U#o#p!9p#p;'S!;U;'S;=`!<q<%lO!;U&n!<tP;=`<%l!;U&n!<|X$c&jOY!6WYZ&cZ!^!6W!^!_!8g!_#o!6W#o#p!8g#p;'S!6W;'S;=`!=i<%lO!6W&n!=lP;=`<%l!6W(Q!=xi$c&j'y!b!RSOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#Z&}#Z#[!=o#[#]&}#]#^!=o#^#a&}#a#b!=o#b#g&}#g#h!=o#h#i&}#i#j!=o#j#m&}#m#n!=o#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!f!?nZ'y!b!RSOY!?gZw!?gwx!8gx!P!?g!P!Q!@a!Q!}!?g!}#O!Ap#O#P!:o#P;'S!?g;'S;=`!Bh<%lO!?g!f!@hb'y!b!RSOY'}Zw'}x#O'}#P#Z'}#Z#[!@a#[#]'}#]#^!@a#^#a'}#a#b!@a#b#g'}#g#h!@a#h#i'}#i#j!@a#j#m'}#m#n!@a#n;'S'};'S;=`(f<%lO'}!f!AuX'y!bOY!ApZw!Apwx!9px#O!Ap#O#P!:Y#P#Q!?g#Q;'S!Ap;'S;=`!Bb<%lO!Ap!f!BeP;=`<%l!Ap!f!BkP;=`<%l!?g(Q!Bu^$c&j'y!bOY!BnYZ&cZw!Bnwx!;Ux!^!Bn!^!_!Ap!_#O!Bn#O#P!<P#P#Q!4{#Q#o!Bn#o#p!Ap#p;'S!Bn;'S;=`!Cq<%lO!Bn(Q!CtP;=`<%l!Bn(Q!CzP;=`<%l!4{'`!DW`$c&j'vp!RSOY!C}YZ&cZr!C}rs!6Ws!P!C}!P!Q!EY!Q!^!C}!^!_!GQ!_!}!C}!}#O!JX#O#P!<w#P#o!C}#o#p!GQ#p;'S!C};'S;=`!Kb<%lO!C}'`!Eci$c&j'vp!RSOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#Z(r#Z#[!EY#[#](r#]#^!EY#^#a(r#a#b!EY#b#g(r#g#h!EY#h#i(r#i#j!EY#j#m(r#m#n!EY#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rt!GXZ'vp!RSOY!GQZr!GQrs!8gs!P!GQ!P!Q!Gz!Q!}!GQ!}#O!IZ#O#P!:o#P;'S!GQ;'S;=`!JR<%lO!GQt!HRb'vp!RSOY)rZr)rs#O)r#P#Z)r#Z#[!Gz#[#])r#]#^!Gz#^#a)r#a#b!Gz#b#g)r#g#h!Gz#h#i)r#i#j!Gz#j#m)r#m#n!Gz#n;'S)r;'S;=`*Z<%lO)rt!I`X'vpOY!IZZr!IZrs!9ps#O!IZ#O#P!:Y#P#Q!GQ#Q;'S!IZ;'S;=`!I{<%lO!IZt!JOP;=`<%l!IZt!JUP;=`<%l!GQ'`!J`^$c&j'vpOY!JXYZ&cZr!JXrs!;Us!^!JX!^!_!IZ!_#O!JX#O#P!<P#P#Q!C}#Q#o!JX#o#p!IZ#p;'S!JX;'S;=`!K[<%lO!JX'`!K_P;=`<%l!JX'`!KeP;=`<%l!C}(r!Ksk$c&j'vp'y!b!RSOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#Z%Z#Z#[!Kh#[#]%Z#]#^!Kh#^#a%Z#a#b!Kh#b#g%Z#g#h!Kh#h#i%Z#i#j!Kh#j#m%Z#m#n!Kh#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#W!Mq]'vp'y!b!RSOY!MhZr!Mhrs!?gsw!Mhwx!GQx!P!Mh!P!Q!Nj!Q!}!Mh!}#O#!U#O#P!:o#P;'S!Mh;'S;=`##U<%lO!Mh#W!Nse'vp'y!b!RSOY*gZr*grs'}sw*gwx)rx#O*g#P#Z*g#Z#[!Nj#[#]*g#]#^!Nj#^#a*g#a#b!Nj#b#g*g#g#h!Nj#h#i*g#i#j!Nj#j#m*g#m#n!Nj#n;'S*g;'S;=`+Z<%lO*g#W#!]Z'vp'y!bOY#!UZr#!Urs!Apsw#!Uwx!IZx#O#!U#O#P!:Y#P#Q!Mh#Q;'S#!U;'S;=`##O<%lO#!U#W##RP;=`<%l#!U#W##XP;=`<%l!Mh(r##e`$c&j'vp'y!bOY##[YZ&cZr##[rs!Bnsw##[wx!JXx!^##[!^!_#!U!_#O##[#O#P!<P#P#Q!3h#Q#o##[#o#p#!U#p;'S##[;'S;=`#$g<%lO##[(r#$jP;=`<%l##[(r#$pP;=`<%l!3h(CS#%Qb$c&j'vp'y!b'n(;d!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(CS#&e_$c&j'vp'y!bR(;dOY#&YYZ&cZr#&Yrs#'dsw#&Ywx#*tx!^#&Y!^!_#,s!_#O#&Y#O#P#(f#P#o#&Y#o#p#,s#p;'S#&Y;'S;=`#-r<%lO#&Y(Bb#'m]$c&j'y!bR(;dOY#'dYZ&cZw#'dwx#(fx!^#'d!^!_#)w!_#O#'d#O#P#(f#P#o#'d#o#p#)w#p;'S#'d;'S;=`#*n<%lO#'d(AO#(mX$c&jR(;dOY#(fYZ&cZ!^#(f!^!_#)Y!_#o#(f#o#p#)Y#p;'S#(f;'S;=`#)q<%lO#(f(;d#)_SR(;dOY#)YZ;'S#)Y;'S;=`#)k<%lO#)Y(;d#)nP;=`<%l#)Y(AO#)tP;=`<%l#(f(<v#*OW'y!bR(;dOY#)wZw#)wwx#)Yx#O#)w#O#P#)Y#P;'S#)w;'S;=`#*h<%lO#)w(<v#*kP;=`<%l#)w(Bb#*qP;=`<%l#'d(Ap#*}]$c&j'vpR(;dOY#*tYZ&cZr#*trs#(fs!^#*t!^!_#+v!_#O#*t#O#P#(f#P#o#*t#o#p#+v#p;'S#*t;'S;=`#,m<%lO#*t(<U#+}W'vpR(;dOY#+vZr#+vrs#)Ys#O#+v#O#P#)Y#P;'S#+v;'S;=`#,g<%lO#+v(<U#,jP;=`<%l#+v(Ap#,pP;=`<%l#*t(=h#,|Y'vp'y!bR(;dOY#,sZr#,srs#)wsw#,swx#+vx#O#,s#O#P#)Y#P;'S#,s;'S;=`#-l<%lO#,s(=h#-oP;=`<%l#,s(CS#-uP;=`<%l#&Y%#W#.Vb$c&j#z$Id'vp'y!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h+h#/lb$S#t$c&j'vp'y!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h$/l#1Pp$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!+g!P!Q%Z!Q![#3T![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S#3T#S#U%Z#U#V#6_#V#X%Z#X#Y!-Z#Y#b%Z#b#c#5T#c#d#9g#d#l%Z#l#m#<i#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#3`k$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!+g!P!Q%Z!Q![#3T![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S#3T#S#X%Z#X#Y!-Z#Y#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#5`_$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#6hd$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#7v!R!S#7v!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#7v#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#8Rf$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#7v!R!S#7v!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#7v#S#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#9pc$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#:{!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#:{#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#;We$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#:{!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#:{#S#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#<rg$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#>Z![!^%Z!^!_*g!_!c%Z!c!i#>Z!i#O%Z#O#P&c#P#R%Z#R#S#>Z#S#T%Z#T#Z#>Z#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#>fi$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#>Z![!^%Z!^!_*g!_!c%Z!c!i#>Z!i#O%Z#O#P&c#P#R%Z#R#S#>Z#S#T%Z#T#Z#>Z#Z#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#@b_!a$b$c&j#x%<f'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Al_^l$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS#Bz^'|!*v!e'.r'vp'y!b$T)d(lSOY*gZr*grs'}sw*gwx)rx!P*g!P!Q#Cv!Q!^*g!^!_#Dl!_!`#F^!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#DPX$e&j'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#DuZ#j$Id'vp'y!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Eh!`#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#EqX#z$Id'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#FgX#k$Id'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Gh#G_a#W%?x$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a#Hd!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#W#Ho_#c$Ih$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#I}adBf#k$Id$`#|$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`#KS!`!a#L^!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#K__#k$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#Lia#j$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`!a#Mn!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#My`#j$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h$ Wc(`$Ip$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P$!c!P!^%Z!^!_*g!_!a%Z!a!b$#m!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+`$!n_z'#p$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$#x`$c&j#u$Id'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&^$%V_!x!Ln$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^$&a_|(8n$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$'eZ$c&jO!^$(W!^!_$(n!_#i$(W#i#j$(s#j#l$(W#l#m$*f#m#o$(W#o#p$(n#p;'S$(W;'S;=`$,q<%lO$(W(n$(_T[#S$c&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$(sO[#S(n$(x[$c&jO!Q&c!Q![$)n![!^&c!_!c&c!c!i$)n!i#T&c#T#Z$)n#Z#o&c#o#p$,U#p;'S&c;'S;=`&w<%lO&c(n$)sZ$c&jO!Q&c!Q![$*f![!^&c!_!c&c!c!i$*f!i#T&c#T#Z$*f#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$*kZ$c&jO!Q&c!Q![$+^![!^&c!_!c&c!c!i$+^!i#T&c#T#Z$+^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$+cZ$c&jO!Q&c!Q![$(W![!^&c!_!c&c!c!i$(W!i#T&c#T#Z$(W#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$,XR!Q![$,b!c!i$,b#T#Z$,b#S$,eS!Q![$,b!c!i$,b#T#Z$,b#q#r$(n(n$,tP;=`<%l$(W!'l$-S_!SM|$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$.^`#r$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&,v$/k_$c&j'vp'y!b(Q&%WOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$0yk$c&j'vp'y!b(T!LY's&;d$X#tOY%ZYZ&cZr%Zrs&}st%Ztu$0juw%Zwx(rx}%Z}!O$2n!O!Q%Z!Q![$0j![!^%Z!^!_*g!_!c%Z!c!}$0j!}#O%Z#O#P&c#P#R%Z#R#S$0j#S#T%Z#T#o$0j#o#p*g#p$g%Z$g;'S$0j;'S;=`$4t<%lO$0j+d$2yk$c&j'vp'y!b$X#tOY%ZYZ&cZr%Zrs&}st%Ztu$2nuw%Zwx(rx}%Z}!O$2n!O!Q%Z!Q![$2n![!^%Z!^!_*g!_!c%Z!c!}$2n!}#O%Z#O#P&c#P#R%Z#R#S$2n#S#T%Z#T#o$2n#o#p*g#p$g%Z$g;'S$2n;'S;=`$4n<%lO$2n+d$4qP;=`<%l$2n(CS$4wP;=`<%l$0j!5p$5TX!X!3l'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Df$5{a(g%<v$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$#m#q;'S%Z;'S;=`+a<%lO%Z%#`$7__!W$I`o`$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(r$8i_!mS$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$9y|$c&j'vp'y!b'l(;d(T!LY's&;d$V#tOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$f%Z$f$g+g$g#BY>P#BY#BZ$9h#BZ$IS>P$IS$I_$9h$I_$JT>P$JT$JU$9h$JU$KV>P$KV$KW$9h$KW&FU>P&FU&FV$9h&FV;'S>P;'S;=`BZ<%l?HT>P?HT?HU$9h?HUO>P(CS$=Uk$c&j'vp'y!b'm(;d(T!LY's&;d$V#tOY%ZYZ&cZr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$g%Z$g;'S>P;'S;=`BZ<%lO>P",tokenizers:[Bb,Lb,2,3,4,5,6,7,8,9,10,11,12,13,Zb,new $a("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOq~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!O~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(S~~",141,325),new $a("j~RQYZXz{^~^O'p~~aP!P!Qd~iO'q~~",25,307)],topRules:{Script:[0,5],SingleExpression:[1,266],SingleClassItem:[2,267]},dialects:{jsx:13213,ts:13215},dynamicPrecedences:{76:1,78:1,162:1,190:1},specialized:[{term:311,get:i=>Eb[i]||-1},{term:327,get:i=>Wb[i]||-1},{term:67,get:i=>Nb[i]||-1}],tokenPrec:13238}),Fb=[At("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),At("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),At("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),At("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),At("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),At(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),At("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),At(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),At(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),At('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),At('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],Lh=new e0,Hd=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function $i(i){return(e,t)=>{let n=e.node.getChild("VariableDefinition");return n&&t(n,i),!0}}const Vb=["FunctionDeclaration"],qb={FunctionDeclaration:$i("function"),ClassDeclaration:$i("class"),ClassExpression:()=>!0,EnumDeclaration:$i("constant"),TypeAliasDeclaration:$i("type"),NamespaceDeclaration:$i("namespace"),VariableDefinition(i,e){i.matchContext(Vb)||e(i,"variable")},TypeDefinition(i,e){e(i,"type")},__proto__:null};function Kd(i,e){let t=Lh.get(e);if(t)return t;let n=[],r=!0;function s(o,a){let h=i.sliceString(o.from,o.to);n.push({label:h,type:a})}return e.cursor(Le.IncludeAnonymous).iterate(o=>{if(r)r=!1;else if(o.name){let a=qb[o.name];if(a&&a(o,s)||Hd.has(o.name))return!1}else if(o.to-o.from>8192){for(let a of Kd(i,o.node))n.push(a);return!1}}),Lh.set(e,n),n}const Xh=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,Jd=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName"];function Yb(i){let e=Fe(i.state).resolveInner(i.pos,-1);if(Jd.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&Xh.test(i.state.sliceDoc(e.from,e.to));if(!t&&!i.explicit)return null;let n=[];for(let r=e;r;r=r.parent)Hd.has(r.name)&&(n=n.concat(Kd(i.state.doc,r)));return{options:n,from:t?e.from:i.pos,validFor:Xh}}const Bn=ss.define({name:"javascript",parser:Ib.configure({props:[Dp.add({IfStatement:Ao({except:/^\s*({|else\b)/}),TryStatement:Ao({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:k0,SwitchBody:i=>{let e=i.textAfter,t=/^\s*\}/.test(e),n=/^\s*(case|default)\b/.test(e);return i.baseIndent+(t?0:n?1:2)*i.unit},Block:v0({closing:"}"}),ArrowFunction:i=>i.baseIndent+i.unit,"TemplateString BlockComment":()=>null,"Statement Property":Ao({except:/^{/}),JSXElement(i){let e=/^\s*<\//.test(i.textAfter);return i.lineIndent(i.node.from)+(e?0:i.unit)},JSXEscape(i){let e=/\s*\}/.test(i.textAfter);return i.lineIndent(i.node.from)+(e?0:i.unit)},"JSXOpenTag JSXSelfClosingTag"(i){return i.column(i.node.from)+i.unit}}),Bp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":x0,BlockComment(i){return{from:i.from+2,to:i.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),ef={test:i=>/^JSX/.test(i.name),facet:Tp({commentTokens:{block:{open:"{/*",close:"*/}"}}})},_b=Bn.configure({dialect:"ts"},"typescript"),zb=Bn.configure({dialect:"jsx",props:[nl.add(i=>i.isTop?[ef]:void 0)]}),Gb=Bn.configure({dialect:"jsx ts",props:[nl.add(i=>i.isTop?[ef]:void 0)]},"typescript"),Hb="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(i=>({label:i,type:"keyword"}));function Kb(i={}){let e=i.jsx?i.typescript?Gb:zb:i.typescript?_b:Bn;return new p0(e,[Bn.data.of({autocomplete:q0(Jd,zp(Fb.concat(Hb)))}),Bn.data.of({autocomplete:Yb}),i.jsx?nv:[]])}function Jb(i){for(;;){if(i.name=="JSXOpenTag"||i.name=="JSXSelfClosingTag"||i.name=="JSXFragmentTag")return i;if(i.name=="JSXEscape"||!i.parent)return null;i=i.parent}}function Eh(i,e,t=i.length){for(let n=e?.firstChild;n;n=n.nextSibling)if(n.name=="JSXIdentifier"||n.name=="JSXBuiltin"||n.name=="JSXNamespacedName"||n.name=="JSXMemberExpression")return i.sliceString(n.from,Math.min(n.to,t));return""}function ev(i){return i&&(i.name=="JSXEndTag"||i.name=="JSXSelfCloseEndTag")}const tv=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),nv=W.inputHandler.of((i,e,t,n)=>{if((tv?i.composing:i.compositionStarted)||i.state.readOnly||e!=t||n!=">"&&n!="/"||!Bn.isActiveAt(i.state,e,-1))return!1;let{state:r}=i,s=r.changeByRange(o=>{var a;let{head:h}=o,p=Fe(r).resolveInner(h,-1),f;if(p.name=="JSXStartTag"&&(p=p.parent),!(p.name=="JSXAttributeValue"&&p.to>h)){if(n==">"&&p.name=="JSXFragmentTag")return{range:R.cursor(h+1),changes:{from:h,insert:"></>"}};if(n=="/"&&p.name=="JSXFragmentTag"){let g=p.parent,b=g?.parent;if(g.from==h-1&&((a=b.lastChild)===null||a===void 0?void 0:a.name)!="JSXEndTag"&&(f=Eh(r.doc,b?.firstChild,h))){let k=`/${f}>`;return{range:R.cursor(h+k.length),changes:{from:h,insert:k}}}}else if(n==">"){let g=Jb(p);if(g&&!ev(g.lastChild)&&r.sliceDoc(h,h+2)!="</"&&(f=Eh(r.doc,g,h)))return{range:R.cursor(h+1),changes:{from:h,insert:`></${f}>`}}}}return{range:o}});return s.changes.empty?!1:(i.dispatch(s,{userEvent:"input.type",scrollIntoView:!0}),!0)}),iv=[{comment:`/**
 * Displays a slider widget to allow the user manipulate a value
 *
 * @name slider
 * @param {number} value Initial value
 * @param {number} min Minimum value - optional, defaults to 0
 * @param {number} max Maximum value - optional, defaults to 1
 * @param {number} step Step size - optional
 */`,meta:{filename:"slider.mjs",lineno:114,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/codemirror",code:{}},description:"<p>Displays a slider widget to allow the user manipulate a value</p>",name:"slider",params:[{type:{names:["number"]},description:"<p>Initial value</p>",name:"value"},{type:{names:["number"]},description:"<p>Minimum value - optional, defaults to 0</p>",name:"min"},{type:{names:["number"]},description:"<p>Maximum value - optional, defaults to 1</p>",name:"max"},{type:{names:["number"]},description:"<p>Step size - optional</p>",name:"step"}],longname:"slider",kind:"member",scope:"global"},{comment:`/**
   * Select a sound / sample by name. When using mininotation, you can also optionally supply 'n' and 'gain' parameters
   * separated by ':'.
   *
   * @name s
   * @param {string | Pattern} sound The sound / pattern of sounds to pick
   * @synonyms sound
   * @example
   * s("bd hh")
   * @example
   * s("bd:0 bd:1 bd:0:0.3 bd:1:1.4")
   *
   */`,meta:{filename:"controls.mjs",lineno:12,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Select a sound / sample by name. When using mininotation, you can also optionally supply 'n' and 'gain' parameters
separated by ':'.</p>`,name:"s",params:[{type:{names:["string","Pattern"]},description:"<p>The sound / pattern of sounds to pick</p>",name:"sound"}],synonyms_text:"sound",synonyms:["sound"],examples:['s("bd hh")','s("bd:0 bd:1 bd:0:0.3 bd:1:1.4")'],longname:"s",kind:"member",scope:"global"},{comment:`/**
   * Define a custom webaudio node to use as a sound source.
   *
   * @name source
   * @param {function} getSource
   * @synonyms src
   *
   */`,meta:{filename:"controls.mjs",lineno:26,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Define a custom webaudio node to use as a sound source.</p>",name:"source",params:[{type:{names:["function"]},name:"getSource"}],synonyms_text:"src",synonyms:["src"],longname:"source",kind:"member",scope:"global"},{comment:`/**
   * Selects the given index from the sample map.
   * Numbers too high will wrap around.
   * \`n\` can also be used to play midi numbers, but it is recommended to use \`note\` instead.
   *
   * @name n
   * @param {number | Pattern} value sample index starting from 0
   * @example
   * s("bd sd,hh*3").n("<0 1>")
   */`,meta:{filename:"controls.mjs",lineno:35,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Selects the given index from the sample map.
Numbers too high will wrap around.
<code>n</code> can also be used to play midi numbers, but it is recommended to use <code>note</code> instead.</p>`,name:"n",params:[{type:{names:["number","Pattern"]},description:"<p>sample index starting from 0</p>",name:"value"}],examples:['s("bd sd,hh*3").n("<0 1>")'],longname:"n",kind:"member",scope:"global"},{comment:`/**
   * Plays the given note name or midi number. A note name consists of
   *
   * - a letter (a-g or A-G)
   * - optional accidentals (b or #)
   * - optional octave number (0-9). Defaults to 3
   *
   * Examples of valid note names: \`c\`, \`bb\`, \`Bb\`, \`f#\`, \`c3\`, \`A4\`, \`Eb2\`, \`c#5\`
   *
   * You can also use midi numbers instead of note names, where 69 is mapped to A4 440Hz in 12EDO.
   *
   * @name note
   * @example
   * note("c a f e")
   * @example
   * note("c4 a4 f4 e4")
   * @example
   * note("60 69 65 64")
   */`,meta:{filename:"controls.mjs",lineno:47,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Plays the given note name or midi number. A note name consists of</p>
<ul>
<li>a letter (a-g or A-G)</li>
<li>optional accidentals (b or #)</li>
<li>optional octave number (0-9). Defaults to 3</li>
</ul>
<p>Examples of valid note names: <code>c</code>, <code>bb</code>, <code>Bb</code>, <code>f#</code>, <code>c3</code>, <code>A4</code>, <code>Eb2</code>, <code>c#5</code></p>
<p>You can also use midi numbers instead of note names, where 69 is mapped to A4 440Hz in 12EDO.</p>`,name:"note",examples:['note("c a f e")','note("c4 a4 f4 e4")','note("60 69 65 64")'],longname:"note",kind:"member",scope:"global"},{comment:`/**
   * A pattern of numbers that speed up (or slow down) samples while they play. Currently only supported by osc / superdirt.
   *
   * @name accelerate
   * @param {number | Pattern} amount acceleration.
   * @superdirtOnly
   * @example
   * s("sax").accelerate("<0 1 2 4 8 16>").slow(2).osc()
   *
   */`,meta:{filename:"controls.mjs",lineno:68,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>A pattern of numbers that speed up (or slow down) samples while they play. Currently only supported by osc / superdirt.</p>",name:"accelerate",params:[{type:{names:["number","Pattern"]},description:"<p>acceleration.</p>",name:"amount"}],tags:[{originalTitle:"superdirtOnly",title:"superdirtonly",text:""}],examples:['s("sax").accelerate("<0 1 2 4 8 16>").slow(2).osc()'],longname:"accelerate",kind:"member",scope:"global"},{comment:`/**
   * Controls the gain by an exponential amount.
   *
   * @name gain
   * @param {number | Pattern} amount gain.
   * @example
   * s("hh*8").gain(".4!2 1 .4!2 1 .4 1")
   *
   */`,meta:{filename:"controls.mjs",lineno:79,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Controls the gain by an exponential amount.</p>",name:"gain",params:[{type:{names:["number","Pattern"]},description:"<p>gain.</p>",name:"amount"}],examples:['s("hh*8").gain(".4!2 1 .4!2 1 .4 1")'],longname:"gain",kind:"member",scope:"global"},{comment:`/**
   * Gain applied after all effects have been processed.
   *
   * @name postgain
   * @example
   * s("bd sd,hh*4")
   * .compressor("-20:20:10:.002:.02").postgain(1.5)
   *
   */`,meta:{filename:"controls.mjs",lineno:89,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Gain applied after all effects have been processed.</p>",name:"postgain",examples:[`s("bd sd,hh*4")
.compressor("-20:20:10:.002:.02").postgain(1.5)`],longname:"postgain",kind:"member",scope:"global"},{comment:`/**
   * Like {@link gain}, but linear.
   *
   * @name amp
   * @param {number | Pattern} amount gain.
   * @superdirtOnly
   * @example
   * s("bd*8").amp(".1*2 .5 .1*2 .5 .1 .5").osc()
   *
   */`,meta:{filename:"controls.mjs",lineno:99,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Like {@link gain}, but linear.</p>",name:"amp",params:[{type:{names:["number","Pattern"]},description:"<p>gain.</p>",name:"amount"}],tags:[{originalTitle:"superdirtOnly",title:"superdirtonly",text:""}],examples:['s("bd*8").amp(".1*2 .5 .1*2 .5 .1 .5").osc()'],longname:"amp",kind:"member",scope:"global"},{comment:`/**
   * Amplitude envelope attack time: Specifies how long it takes for the sound to reach its peak value, relative to the onset.
   *
   * @name attack
   * @param {number | Pattern} attack time in seconds.
   * @synonyms att
   * @example
   * note("c3 e3").attack("<0 .1 .5>")
   *
   */`,meta:{filename:"controls.mjs",lineno:110,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Amplitude envelope attack time: Specifies how long it takes for the sound to reach its peak value, relative to the onset.</p>",name:"attack",params:[{type:{names:["number","Pattern"]},description:"<p>time in seconds.</p>",name:"attack"}],synonyms_text:"att",synonyms:["att"],examples:['note("c3 e3").attack("<0 .1 .5>")'],longname:"attack",kind:"member",scope:"global"},{comment:`/**
   * Sets the Frequency Modulation Harmonicity Ratio.
   * Controls the timbre of the sound.
   * Whole numbers and simple ratios sound more natural,
   * while decimal numbers and complex ratios sound metallic.
   *
   * @name fmh
   * @param {number | Pattern} harmonicity
   * @example
   * note("c e g b")
   * .fm(4)
   * .fmh("<1 2 1.5 1.61>")
   * .scope()
   *
   */`,meta:{filename:"controls.mjs",lineno:122,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Sets the Frequency Modulation Harmonicity Ratio.
Controls the timbre of the sound.
Whole numbers and simple ratios sound more natural,
while decimal numbers and complex ratios sound metallic.</p>`,name:"fmh",params:[{type:{names:["number","Pattern"]},name:"harmonicity"}],examples:[`note("c e g b")
.fm(4)
.fmh("<1 2 1.5 1.61>")
.scope()`],longname:"fmh",kind:"member",scope:"global"},{comment:`/**
   * Sets the Frequency Modulation of the synth.
   * Controls the modulation index, which defines the brightness of the sound.
   *
   * @name fm
   * @param {number | Pattern} brightness modulation index
   * @synonyms fmi
   * @example
   * note("c e g b")
   * .fm("<0 1 2 8 32>")
   * .scope()
   *
   */`,meta:{filename:"controls.mjs",lineno:138,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Sets the Frequency Modulation of the synth.
Controls the modulation index, which defines the brightness of the sound.</p>`,name:"fm",params:[{type:{names:["number","Pattern"]},description:"<p>modulation index</p>",name:"brightness"}],synonyms_text:"fmi",synonyms:["fmi"],examples:[`note("c e g b")
.fm("<0 1 2 8 32>")
.scope()`],longname:"fm",kind:"member",scope:"global"},{comment:`/**
   * Ramp type of fm envelope. Exp might be a bit broken..
   *
   * @name fmenv
   * @param {number | Pattern} type lin | exp
   * @example
   * note("c e g b")
   * .fm(4)
   * .fmdecay(.2)
   * .fmsustain(0)
   * .fmenv("<exp lin>")
   * .scope()
   *
   */`,meta:{filename:"controls.mjs",lineno:153,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Ramp type of fm envelope. Exp might be a bit broken..</p>",name:"fmenv",params:[{type:{names:["number","Pattern"]},description:"<p>lin | exp</p>",name:"type"}],examples:[`note("c e g b")
.fm(4)
.fmdecay(.2)
.fmsustain(0)
.fmenv("<exp lin>")
.scope()`],longname:"fmenv",kind:"member",scope:"global"},{comment:`/**
   * Attack time for the FM envelope: time it takes to reach maximum modulation
   *
   * @name fmattack
   * @param {number | Pattern} time attack time
   * @example
   * note("c e g b")
   * .fm(4)
   * .fmattack("<0 .05 .1 .2>")
   * .scope()
   *
   */`,meta:{filename:"controls.mjs",lineno:168,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Attack time for the FM envelope: time it takes to reach maximum modulation</p>",name:"fmattack",params:[{type:{names:["number","Pattern"]},description:"<p>attack time</p>",name:"time"}],examples:[`note("c e g b")
.fm(4)
.fmattack("<0 .05 .1 .2>")
.scope()`],longname:"fmattack",kind:"member",scope:"global"},{comment:`/**
   * Decay time for the FM envelope: seconds until the sustain level is reached after the attack phase.
   *
   * @name fmdecay
   * @param {number | Pattern} time decay time
   * @example
   * note("c e g b")
   * .fm(4)
   * .fmdecay("<.01 .05 .1 .2>")
   * .fmsustain(.4)
   * .scope()
   *
   */`,meta:{filename:"controls.mjs",lineno:181,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Decay time for the FM envelope: seconds until the sustain level is reached after the attack phase.</p>",name:"fmdecay",params:[{type:{names:["number","Pattern"]},description:"<p>decay time</p>",name:"time"}],examples:[`note("c e g b")
.fm(4)
.fmdecay("<.01 .05 .1 .2>")
.fmsustain(.4)
.scope()`],longname:"fmdecay",kind:"member",scope:"global"},{comment:`/**
   * Sustain level for the FM envelope: how much modulation is applied after the decay phase
   *
   * @name fmsustain
   * @param {number | Pattern} level sustain level
   * @example
   * note("c e g b")
   * .fm(4)
   * .fmdecay(.1)
   * .fmsustain("<1 .75 .5 0>")
   * .scope()
   *
   */`,meta:{filename:"controls.mjs",lineno:195,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sustain level for the FM envelope: how much modulation is applied after the decay phase</p>",name:"fmsustain",params:[{type:{names:["number","Pattern"]},description:"<p>sustain level</p>",name:"level"}],examples:[`note("c e g b")
.fm(4)
.fmdecay(.1)
.fmsustain("<1 .75 .5 0>")
.scope()`],longname:"fmsustain",kind:"member",scope:"global"},{comment:`/**
   * Select the sound bank to use. To be used together with \`s\`. The bank name (+ "_") will be prepended to the value of \`s\`.
   *
   * @name bank
   * @param {string | Pattern} bank the name of the bank
   * @example
   * s("bd sd").bank('RolandTR909') // = s("RolandTR909_bd RolandTR909_sd")
   *
   */`,meta:{filename:"controls.mjs",lineno:213,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Select the sound bank to use. To be used together with <code>s</code>. The bank name (+ &quot;_&quot;) will be prepended to the value of <code>s</code>.</p>",name:"bank",params:[{type:{names:["string","Pattern"]},description:"<p>the name of the bank</p>",name:"bank"}],examples:[`s("bd sd").bank('RolandTR909') // = s("RolandTR909_bd RolandTR909_sd")`],longname:"bank",kind:"member",scope:"global"},{comment:`/**
   * Amplitude envelope decay time: the time it takes after the attack time to reach the sustain level.
   * Note that the decay is only audible if the sustain value is lower than 1.
   *
   * @name decay
   * @param {number | Pattern} time decay time in seconds
   * @example
   * note("c3 e3").decay("<.1 .2 .3 .4>").sustain(0)
   *
   */`,meta:{filename:"controls.mjs",lineno:227,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Amplitude envelope decay time: the time it takes after the attack time to reach the sustain level.
Note that the decay is only audible if the sustain value is lower than 1.</p>`,name:"decay",params:[{type:{names:["number","Pattern"]},description:"<p>decay time in seconds</p>",name:"time"}],examples:['note("c3 e3").decay("<.1 .2 .3 .4>").sustain(0)'],longname:"decay",kind:"member",scope:"global"},{comment:`/**
   * Amplitude envelope sustain level: The level which is reached after attack / decay, being sustained until the offset.
   *
   * @name sustain
   * @param {number | Pattern} gain sustain level between 0 and 1
   * @synonyms sus
   * @example
   * note("c3 e3").decay(.2).sustain("<0 .1 .4 .6 1>")
   *
   */`,meta:{filename:"controls.mjs",lineno:238,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Amplitude envelope sustain level: The level which is reached after attack / decay, being sustained until the offset.</p>",name:"sustain",params:[{type:{names:["number","Pattern"]},description:"<p>sustain level between 0 and 1</p>",name:"gain"}],synonyms_text:"sus",synonyms:["sus"],examples:['note("c3 e3").decay(.2).sustain("<0 .1 .4 .6 1>")'],longname:"sustain",kind:"member",scope:"global"},{comment:`/**
   * Amplitude envelope release time: The time it takes after the offset to go from sustain level to zero.
   *
   * @name release
   * @param {number | Pattern} time release time in seconds
   * @synonyms rel
   * @example
   * note("c3 e3 g3 c4").release("<0 .1 .4 .6 1>/2")
   *
   */`,meta:{filename:"controls.mjs",lineno:249,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Amplitude envelope release time: The time it takes after the offset to go from sustain level to zero.</p>",name:"release",params:[{type:{names:["number","Pattern"]},description:"<p>release time in seconds</p>",name:"time"}],synonyms_text:"rel",synonyms:["rel"],examples:['note("c3 e3 g3 c4").release("<0 .1 .4 .6 1>/2")'],longname:"release",kind:"member",scope:"global"},{comment:`/**
   * Sets the center frequency of the **b**and-**p**ass **f**ilter. When using mininotation, you
   * can also optionally supply the 'bpq' parameter separated by ':'.
   *
   * @name bpf
   * @param {number | Pattern} frequency center frequency
   * @synonyms bandf, bp
   * @example
   * s("bd sd,hh*3").bpf("<1000 2000 4000 8000>")
   *
   */`,meta:{filename:"controls.mjs",lineno:262,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Sets the center frequency of the <strong>b</strong>and-<strong>p</strong>ass <strong>f</strong>ilter. When using mininotation, you
can also optionally supply the 'bpq' parameter separated by ':'.</p>`,name:"bpf",params:[{type:{names:["number","Pattern"]},description:"<p>center frequency</p>",name:"frequency"}],synonyms_text:"bandf, bp",synonyms:["bandf","bp"],examples:['s("bd sd,hh*3").bpf("<1000 2000 4000 8000>")'],longname:"bpf",kind:"member",scope:"global"},{comment:`/**
   * Sets the **b**and-**p**ass **q**-factor (resonance).
   *
   * @name bpq
   * @param {number | Pattern} q q factor
   * @synonyms bandq
   * @example
   * s("bd sd").bpf(500).bpq("<0 1 2 3>")
   *
   */`,meta:{filename:"controls.mjs",lineno:275,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the <strong>b</strong>and-<strong>p</strong>ass <strong>q</strong>-factor (resonance).</p>",name:"bpq",params:[{type:{names:["number","Pattern"]},description:"<p>q factor</p>",name:"q"}],synonyms_text:"bandq",synonyms:["bandq"],examples:['s("bd sd").bpf(500).bpq("<0 1 2 3>")'],longname:"bpq",kind:"member",scope:"global"},{comment:`/**
   * a pattern of numbers from 0 to 1. Skips the beginning of each sample, e.g. \`0.25\` to cut off the first quarter from each sample.
   *
   * @memberof Pattern
   * @name begin
   * @param {number | Pattern} amount between 0 and 1, where 1 is the length of the sample
   * @example
   * samples({ rave: 'rave/AREUREADY.wav' }, 'github:tidalcycles/Dirt-Samples/master/')
   * s("rave").begin("<0 .25 .5 .75>")
   *
   */`,meta:{filename:"controls.mjs",lineno:288,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>a pattern of numbers from 0 to 1. Skips the beginning of each sample, e.g. <code>0.25</code> to cut off the first quarter from each sample.</p>",memberof:"Pattern",name:"begin",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1, where 1 is the length of the sample</p>",name:"amount"}],examples:[`samples({ rave: 'rave/AREUREADY.wav' }, 'github:tidalcycles/Dirt-Samples/master/')
s("rave").begin("<0 .25 .5 .75>")`],scope:"static",longname:"Pattern.begin",kind:"member"},{comment:`/**
   * The same as .begin, but cuts off the end off each sample.
   *
   * @memberof Pattern
   * @name end
   * @param {number | Pattern} length 1 = whole sample, .5 = half sample, .25 = quarter sample etc..
   * @example
   * s("bd*2,oh*4").end("<.1 .2 .5 1>")
   *
   */`,meta:{filename:"controls.mjs",lineno:300,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>The same as .begin, but cuts off the end off each sample.</p>",memberof:"Pattern",name:"end",params:[{type:{names:["number","Pattern"]},description:"<p>1 = whole sample, .5 = half sample, .25 = quarter sample etc..</p>",name:"length"}],examples:['s("bd*2,oh*4").end("<.1 .2 .5 1>")'],scope:"static",longname:"Pattern.end",kind:"member"},{comment:`/**
   * Loops the sample.
   * Note that the tempo of the loop is not synced with the cycle tempo.
   * To change the loop region, use loopBegin / loopEnd.
   *
   * @name loop
   * @param {number | Pattern} on If 1, the sample is looped
   * @example
   * s("casio").loop(1)
   *
   */`,meta:{filename:"controls.mjs",lineno:311,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Loops the sample.
Note that the tempo of the loop is not synced with the cycle tempo.
To change the loop region, use loopBegin / loopEnd.</p>`,name:"loop",params:[{type:{names:["number","Pattern"]},description:"<p>If 1, the sample is looped</p>",name:"on"}],examples:['s("casio").loop(1)'],longname:"loop",kind:"member",scope:"global"},{comment:`/**
   * Begin to loop at a specific point in the sample (inbetween \`begin\` and \`end\`).
   * Note that the loop point must be inbetween \`begin\` and \`end\`, and before \`loopEnd\`!
   * Note: Samples starting with wt_ will automatically loop! (wt = wavetable)
   *
   * @name loopBegin
   * @param {number | Pattern} time between 0 and 1, where 1 is the length of the sample
   * @synonyms loopb
   * @example
   * s("space").loop(1)
   * .loopBegin("<0 .125 .25>").scope()
   */`,meta:{filename:"controls.mjs",lineno:323,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Begin to loop at a specific point in the sample (inbetween <code>begin</code> and <code>end</code>).
Note that the loop point must be inbetween <code>begin</code> and <code>end</code>, and before <code>loopEnd</code>!
Note: Samples starting with wt_ will automatically loop! (wt = wavetable)</p>`,name:"loopBegin",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1, where 1 is the length of the sample</p>",name:"time"}],synonyms_text:"loopb",synonyms:["loopb"],examples:[`s("space").loop(1)
.loopBegin("<0 .125 .25>").scope()`],longname:"loopBegin",kind:"member",scope:"global"},{comment:`/**
   *
   * End the looping section at a specific point in the sample (inbetween \`begin\` and \`end\`).
   * Note that the loop point must be inbetween \`begin\` and \`end\`, and after \`loopBegin\`!
   *
   * @name loopEnd
   * @param {number | Pattern} time between 0 and 1, where 1 is the length of the sample
   * @synonyms loope
   * @example
   * s("space").loop(1)
   * .loopEnd("<1 .75 .5 .25>").scope()
   */`,meta:{filename:"controls.mjs",lineno:336,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>End the looping section at a specific point in the sample (inbetween <code>begin</code> and <code>end</code>).
Note that the loop point must be inbetween <code>begin</code> and <code>end</code>, and after <code>loopBegin</code>!</p>`,name:"loopEnd",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1, where 1 is the length of the sample</p>",name:"time"}],synonyms_text:"loope",synonyms:["loope"],examples:[`s("space").loop(1)
.loopEnd("<1 .75 .5 .25>").scope()`],longname:"loopEnd",kind:"member",scope:"global"},{comment:`/**
   * bit crusher effect.
   *
   * @name crush
   * @param {number | Pattern} depth between 1 (for drastic reduction in bit-depth) to 16 (for barely no reduction).
   * @example
   * s("<bd sd>,hh*3").fast(2).crush("<16 8 7 6 5 4 3 2>")
   *
   */`,meta:{filename:"controls.mjs",lineno:349,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>bit crusher effect.</p>",name:"crush",params:[{type:{names:["number","Pattern"]},description:"<p>between 1 (for drastic reduction in bit-depth) to 16 (for barely no reduction).</p>",name:"depth"}],examples:['s("<bd sd>,hh*3").fast(2).crush("<16 8 7 6 5 4 3 2>")'],longname:"crush",kind:"member",scope:"global"},{comment:`/**
   * a pattern of numbers from 0 to 1. Skips the beginning of each sample, e.g. \`0.25\` to cut off the first quarter from each sample.
   *
   * @name legato
   * @param {number | Pattern} duration between 0 and 1, where 1 is the length of the whole hap time
   * @noAutocomplete
   * @example
   * "c4 eb4 g4 bb4".legato("<0.125 .25 .5 .75 1 2 4>")
   *
   */`,meta:{filename:"controls.mjs",lineno:360,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>a pattern of numbers from 0 to 1. Skips the beginning of each sample, e.g. <code>0.25</code> to cut off the first quarter from each sample.</p>",name:"legato",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1, where 1 is the length of the whole hap time</p>",name:"duration"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],examples:['"c4 eb4 g4 bb4".legato("<0.125 .25 .5 .75 1 2 4>")'],longname:"legato",kind:"member",scope:"global"},{comment:`/**
   * fake-resampling for lowering the sample rate. Caution: This effect seems to only work in chromium based browsers
   *
   * @name coarse
   * @param {number | Pattern} factor 1 for original 2 for half, 3 for a third and so on.
   * @example
   * s("bd sd,hh*4").coarse("<1 4 8 16 32>")
   *
   */`,meta:{filename:"controls.mjs",lineno:373,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>fake-resampling for lowering the sample rate. Caution: This effect seems to only work in chromium based browsers</p>",name:"coarse",params:[{type:{names:["number","Pattern"]},description:"<p>1 for original 2 for half, 3 for a third and so on.</p>",name:"factor"}],examples:['s("bd sd,hh*4").coarse("<1 4 8 16 32>")'],longname:"coarse",kind:"member",scope:"global"},{comment:`/**
   * Allows you to set the output channels on the interface
   *
   * @name channels
   * @synonyms ch
   *
   * @param {number | Pattern} channels pattern the output channels
   * @example
   * note("e a d b g").channels("3:4")
   *
   */`,meta:{filename:"controls.mjs",lineno:384,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Allows you to set the output channels on the interface</p>",name:"channels",synonyms_text:"ch",synonyms:["ch"],params:[{type:{names:["number","Pattern"]},description:"<p>pattern the output channels</p>",name:"channels"}],examples:['note("e a d b g").channels("3:4")'],longname:"channels",kind:"member",scope:"global"},{comment:`/**
   * Phaser audio effect that approximates popular guitar pedals.
   *
   * @name phaser
   * @synonyms ph
   * @param {number | Pattern} speed speed of modulation
   * @example
   * n(run(8)).scale("D:pentatonic").s("sawtooth").release(0.5)
   * .phaser("<1 2 4 8>")
   *
   */`,meta:{filename:"controls.mjs",lineno:399,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Phaser audio effect that approximates popular guitar pedals.</p>",name:"phaser",synonyms_text:"ph",synonyms:["ph"],params:[{type:{names:["number","Pattern"]},description:"<p>speed of modulation</p>",name:"speed"}],examples:[`n(run(8)).scale("D:pentatonic").s("sawtooth").release(0.5)
.phaser("<1 2 4 8>")`],longname:"phaser",kind:"member",scope:"global"},{comment:`/**
   * The frequency sweep range of the lfo for the phaser effect. Defaults to 2000
   *
   * @name phasersweep
   * @synonyms phs
   * @param {number | Pattern} phasersweep most useful values are between 0 and 4000
   * @example
   * n(run(8)).scale("D:pentatonic").s("sawtooth").release(0.5)
   * .phaser(2).phasersweep("<800 2000 4000>")
   *
   */`,meta:{filename:"controls.mjs",lineno:412,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>The frequency sweep range of the lfo for the phaser effect. Defaults to 2000</p>",name:"phasersweep",synonyms_text:"phs",synonyms:["phs"],params:[{type:{names:["number","Pattern"]},description:"<p>most useful values are between 0 and 4000</p>",name:"phasersweep"}],examples:[`n(run(8)).scale("D:pentatonic").s("sawtooth").release(0.5)
.phaser(2).phasersweep("<800 2000 4000>")`],longname:"phasersweep",kind:"member",scope:"global"},{comment:`/**
   *  The center frequency of the phaser in HZ. Defaults to 1000
   *
   * @name phasercenter
   * @synonyms phc
   * @param {number | Pattern} centerfrequency in HZ
   * @example
   * n(run(8)).scale("D:pentatonic").s("sawtooth").release(0.5)
   * .phaser(2).phasercenter("<800 2000 4000>")
   *
   */`,meta:{filename:"controls.mjs",lineno:425,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>The center frequency of the phaser in HZ. Defaults to 1000</p>",name:"phasercenter",synonyms_text:"phc",synonyms:["phc"],params:[{type:{names:["number","Pattern"]},description:"<p>in HZ</p>",name:"centerfrequency"}],examples:[`n(run(8)).scale("D:pentatonic").s("sawtooth").release(0.5)
.phaser(2).phasercenter("<800 2000 4000>")`],longname:"phasercenter",kind:"member",scope:"global"},{comment:`/**
   * The amount the signal is affected by the phaser effect. Defaults to 0.75
   *
   * @name phaserdepth
   * @synonyms phd
   * @param {number | Pattern} depth number between 0 and 1
   * @example
   * n(run(8)).scale("D:pentatonic").s("sawtooth").release(0.5)
   * .phaser(2).phaserdepth("<0 .5 .75 1>")
   *
   */`,meta:{filename:"controls.mjs",lineno:439,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>The amount the signal is affected by the phaser effect. Defaults to 0.75</p>",name:"phaserdepth",synonyms_text:"phd",synonyms:["phd"],params:[{type:{names:["number","Pattern"]},description:"<p>number between 0 and 1</p>",name:"depth"}],examples:[`n(run(8)).scale("D:pentatonic").s("sawtooth").release(0.5)
.phaser(2).phaserdepth("<0 .5 .75 1>")`],longname:"phaserdepth",kind:"member",scope:"global"},{comment:`/**
   * choose the channel the pattern is sent to in superdirt
   *
   * @name channel
   * @param {number | Pattern} channel channel number
   *
   */`,meta:{filename:"controls.mjs",lineno:452,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>choose the channel the pattern is sent to in superdirt</p>",name:"channel",params:[{type:{names:["number","Pattern"]},description:"<p>channel number</p>",name:"channel"}],longname:"channel",kind:"member",scope:"global"},{comment:`/**
   * In the style of classic drum-machines, \`cut\` will stop a playing sample as soon as another samples with in same cutgroup is to be played. An example would be an open hi-hat followed by a closed one, essentially muting the open.
   *
   * @name cut
   * @param {number | Pattern} group cut group number
   * @example
   * s("rd*4").cut(1)
   *
   */`,meta:{filename:"controls.mjs",lineno:460,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>In the style of classic drum-machines, <code>cut</code> will stop a playing sample as soon as another samples with in same cutgroup is to be played. An example would be an open hi-hat followed by a closed one, essentially muting the open.</p>",name:"cut",params:[{type:{names:["number","Pattern"]},description:"<p>cut group number</p>",name:"group"}],examples:['s("rd*4").cut(1)'],longname:"cut",kind:"member",scope:"global"},{comment:`/**
   * Applies the cutoff frequency of the **l**ow-**p**ass **f**ilter.
   *
   * When using mininotation, you can also optionally add the 'lpq' parameter, separated by ':'.
   *
   * @name lpf
   * @param {number | Pattern} frequency audible between 0 and 20000
   * @synonyms cutoff, ctf, lp
   * @example
   * s("bd sd,hh*3").lpf("<4000 2000 1000 500 200 100>")
   * @example
   * s("bd*8").lpf("1000:0 1000:10 1000:20 1000:30")
   *
   */`,meta:{filename:"controls.mjs",lineno:470,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Applies the cutoff frequency of the <strong>l</strong>ow-<strong>p</strong>ass <strong>f</strong>ilter.</p>
<p>When using mininotation, you can also optionally add the 'lpq' parameter, separated by ':'.</p>`,name:"lpf",params:[{type:{names:["number","Pattern"]},description:"<p>audible between 0 and 20000</p>",name:"frequency"}],synonyms_text:"cutoff, ctf, lp",synonyms:["cutoff","ctf","lp"],examples:['s("bd sd,hh*3").lpf("<4000 2000 1000 500 200 100>")','s("bd*8").lpf("1000:0 1000:10 1000:20 1000:30")'],longname:"lpf",kind:"member",scope:"global"},{comment:`/**
   * Sets the lowpass filter envelope modulation depth.
   * @name lpenv
   * @param {number | Pattern} modulation depth of the lowpass filter envelope between 0 and _n_
   * @synonyms lpe
   * @example
   * note("<c2 e2 f2 g2>")
   * .sound('sawtooth')
   * .lpf(500)
   * .lpa(.5)
   * .lpenv("<4 2 1 0 -1 -2 -4>/4")
   */`,meta:{filename:"controls.mjs",lineno:486,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the lowpass filter envelope modulation depth.</p>",name:"lpenv",params:[{type:{names:["number","Pattern"]},description:"<p>depth of the lowpass filter envelope between 0 and <em>n</em></p>",name:"modulation"}],synonyms_text:"lpe",synonyms:["lpe"],examples:[`note("<c2 e2 f2 g2>")
.sound('sawtooth')
.lpf(500)
.lpa(.5)
.lpenv("<4 2 1 0 -1 -2 -4>/4")`],longname:"lpenv",kind:"member",scope:"global"},{comment:`/**
   * Sets the highpass filter envelope modulation depth.
   * @name hpenv
   * @param {number | Pattern} modulation depth of the highpass filter envelope between 0 and _n_
   * @synonyms hpe
   * @example
   * note("<c2 e2 f2 g2>")
   * .sound('sawtooth')
   * .hpf(500)
   * .hpa(.5)
   * .hpenv("<4 2 1 0 -1 -2 -4>/4")
   */`,meta:{filename:"controls.mjs",lineno:499,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the highpass filter envelope modulation depth.</p>",name:"hpenv",params:[{type:{names:["number","Pattern"]},description:"<p>depth of the highpass filter envelope between 0 and <em>n</em></p>",name:"modulation"}],synonyms_text:"hpe",synonyms:["hpe"],examples:[`note("<c2 e2 f2 g2>")
.sound('sawtooth')
.hpf(500)
.hpa(.5)
.hpenv("<4 2 1 0 -1 -2 -4>/4")`],longname:"hpenv",kind:"member",scope:"global"},{comment:`/**
   * Sets the bandpass filter envelope modulation depth.
   * @name bpenv
   * @param {number | Pattern} modulation depth of the bandpass filter envelope between 0 and _n_
   * @synonyms bpe
   * @example
   * note("<c2 e2 f2 g2>")
   * .sound('sawtooth')
   * .bpf(500)
   * .bpa(.5)
   * .bpenv("<4 2 1 0 -1 -2 -4>/4")
   */`,meta:{filename:"controls.mjs",lineno:512,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the bandpass filter envelope modulation depth.</p>",name:"bpenv",params:[{type:{names:["number","Pattern"]},description:"<p>depth of the bandpass filter envelope between 0 and <em>n</em></p>",name:"modulation"}],synonyms_text:"bpe",synonyms:["bpe"],examples:[`note("<c2 e2 f2 g2>")
.sound('sawtooth')
.bpf(500)
.bpa(.5)
.bpenv("<4 2 1 0 -1 -2 -4>/4")`],longname:"bpenv",kind:"member",scope:"global"},{comment:`/**
   * Sets the attack duration for the lowpass filter envelope.
   * @name lpattack
   * @param {number | Pattern} attack time of the filter envelope
   * @synonyms lpa
   * @example
   * note("<c2 e2 f2 g2>")
   * .sound('sawtooth')
   * .lpf(500)
   * .lpa("<.5 .25 .1 .01>/4")
   * .lpenv(4)
   */`,meta:{filename:"controls.mjs",lineno:525,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the attack duration for the lowpass filter envelope.</p>",name:"lpattack",params:[{type:{names:["number","Pattern"]},description:"<p>time of the filter envelope</p>",name:"attack"}],synonyms_text:"lpa",synonyms:["lpa"],examples:[`note("<c2 e2 f2 g2>")
.sound('sawtooth')
.lpf(500)
.lpa("<.5 .25 .1 .01>/4")
.lpenv(4)`],longname:"lpattack",kind:"member",scope:"global"},{comment:`/**
   * Sets the attack duration for the highpass filter envelope.
   * @name hpattack
   * @param {number | Pattern} attack time of the highpass filter envelope
   * @synonyms hpa
   * @example
   * note("<c2 e2 f2 g2>")
   * .sound('sawtooth')
   * .hpf(500)
   * .hpa("<.5 .25 .1 .01>/4")
   * .hpenv(4)
   */`,meta:{filename:"controls.mjs",lineno:538,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the attack duration for the highpass filter envelope.</p>",name:"hpattack",params:[{type:{names:["number","Pattern"]},description:"<p>time of the highpass filter envelope</p>",name:"attack"}],synonyms_text:"hpa",synonyms:["hpa"],examples:[`note("<c2 e2 f2 g2>")
.sound('sawtooth')
.hpf(500)
.hpa("<.5 .25 .1 .01>/4")
.hpenv(4)`],longname:"hpattack",kind:"member",scope:"global"},{comment:`/**
   * Sets the attack duration for the bandpass filter envelope.
   * @name bpattack
   * @param {number | Pattern} attack time of the bandpass filter envelope
   * @synonyms bpa
   * @example
   * note("<c2 e2 f2 g2>")
   * .sound('sawtooth')
   * .bpf(500)
   * .bpa("<.5 .25 .1 .01>/4")
   * .bpenv(4)
   */`,meta:{filename:"controls.mjs",lineno:551,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the attack duration for the bandpass filter envelope.</p>",name:"bpattack",params:[{type:{names:["number","Pattern"]},description:"<p>time of the bandpass filter envelope</p>",name:"attack"}],synonyms_text:"bpa",synonyms:["bpa"],examples:[`note("<c2 e2 f2 g2>")
.sound('sawtooth')
.bpf(500)
.bpa("<.5 .25 .1 .01>/4")
.bpenv(4)`],longname:"bpattack",kind:"member",scope:"global"},{comment:`/**
   * Sets the decay duration for the lowpass filter envelope.
   * @name lpdecay
   * @param {number | Pattern} decay time of the filter envelope
   * @synonyms lpd
   * @example
   * note("<c2 e2 f2 g2>")
   * .sound('sawtooth')
   * .lpf(500)
   * .lpd("<.5 .25 .1 0>/4")
   * .lps(0.2)
   * .lpenv(4)
   */`,meta:{filename:"controls.mjs",lineno:564,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the decay duration for the lowpass filter envelope.</p>",name:"lpdecay",params:[{type:{names:["number","Pattern"]},description:"<p>time of the filter envelope</p>",name:"decay"}],synonyms_text:"lpd",synonyms:["lpd"],examples:[`note("<c2 e2 f2 g2>")
.sound('sawtooth')
.lpf(500)
.lpd("<.5 .25 .1 0>/4")
.lps(0.2)
.lpenv(4)`],longname:"lpdecay",kind:"member",scope:"global"},{comment:`/**
   * Sets the decay duration for the highpass filter envelope.
   * @name hpdecay
   * @param {number | Pattern} decay time of the highpass filter envelope
   * @synonyms hpd
   * @example
   * note("<c2 e2 f2 g2>")
   * .sound('sawtooth')
   * .hpf(500)
   * .hpd("<.5 .25 .1 0>/4")
   * .hps(0.2)
   * .hpenv(4)
   */`,meta:{filename:"controls.mjs",lineno:578,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the decay duration for the highpass filter envelope.</p>",name:"hpdecay",params:[{type:{names:["number","Pattern"]},description:"<p>time of the highpass filter envelope</p>",name:"decay"}],synonyms_text:"hpd",synonyms:["hpd"],examples:[`note("<c2 e2 f2 g2>")
.sound('sawtooth')
.hpf(500)
.hpd("<.5 .25 .1 0>/4")
.hps(0.2)
.hpenv(4)`],longname:"hpdecay",kind:"member",scope:"global"},{comment:`/**
   * Sets the decay duration for the bandpass filter envelope.
   * @name bpdecay
   * @param {number | Pattern} decay time of the bandpass filter envelope
   * @synonyms bpd
   * @example
   * note("<c2 e2 f2 g2>")
   * .sound('sawtooth')
   * .bpf(500)
   * .bpd("<.5 .25 .1 0>/4")
   * .bps(0.2)
   * .bpenv(4)
   */`,meta:{filename:"controls.mjs",lineno:592,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the decay duration for the bandpass filter envelope.</p>",name:"bpdecay",params:[{type:{names:["number","Pattern"]},description:"<p>time of the bandpass filter envelope</p>",name:"decay"}],synonyms_text:"bpd",synonyms:["bpd"],examples:[`note("<c2 e2 f2 g2>")
.sound('sawtooth')
.bpf(500)
.bpd("<.5 .25 .1 0>/4")
.bps(0.2)
.bpenv(4)`],longname:"bpdecay",kind:"member",scope:"global"},{comment:`/**
   * Sets the sustain amplitude for the lowpass filter envelope.
   * @name lpsustain
   * @param {number | Pattern} sustain amplitude of the lowpass filter envelope
   * @synonyms lps
   * @example
   * note("<c2 e2 f2 g2>")
   * .sound('sawtooth')
   * .lpf(500)
   * .lpd(.5)
   * .lps("<0 .25 .5 1>/4")
   * .lpenv(4)
   */`,meta:{filename:"controls.mjs",lineno:606,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the sustain amplitude for the lowpass filter envelope.</p>",name:"lpsustain",params:[{type:{names:["number","Pattern"]},description:"<p>amplitude of the lowpass filter envelope</p>",name:"sustain"}],synonyms_text:"lps",synonyms:["lps"],examples:[`note("<c2 e2 f2 g2>")
.sound('sawtooth')
.lpf(500)
.lpd(.5)
.lps("<0 .25 .5 1>/4")
.lpenv(4)`],longname:"lpsustain",kind:"member",scope:"global"},{comment:`/**
   * Sets the sustain amplitude for the highpass filter envelope.
   * @name hpsustain
   * @param {number | Pattern} sustain amplitude of the highpass filter envelope
   * @synonyms hps
   * @example
   * note("<c2 e2 f2 g2>")
   * .sound('sawtooth')
   * .hpf(500)
   * .hpd(.5)
   * .hps("<0 .25 .5 1>/4")
   * .hpenv(4)
   */`,meta:{filename:"controls.mjs",lineno:620,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the sustain amplitude for the highpass filter envelope.</p>",name:"hpsustain",params:[{type:{names:["number","Pattern"]},description:"<p>amplitude of the highpass filter envelope</p>",name:"sustain"}],synonyms_text:"hps",synonyms:["hps"],examples:[`note("<c2 e2 f2 g2>")
.sound('sawtooth')
.hpf(500)
.hpd(.5)
.hps("<0 .25 .5 1>/4")
.hpenv(4)`],longname:"hpsustain",kind:"member",scope:"global"},{comment:`/**
   * Sets the sustain amplitude for the bandpass filter envelope.
   * @name bpsustain
   * @param {number | Pattern} sustain amplitude of the bandpass filter envelope
   * @synonyms bps
   * @example
   * note("<c2 e2 f2 g2>")
   * .sound('sawtooth')
   * .bpf(500)
   * .bpd(.5)
   * .bps("<0 .25 .5 1>/4")
   * .bpenv(4)
   */`,meta:{filename:"controls.mjs",lineno:634,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the sustain amplitude for the bandpass filter envelope.</p>",name:"bpsustain",params:[{type:{names:["number","Pattern"]},description:"<p>amplitude of the bandpass filter envelope</p>",name:"sustain"}],synonyms_text:"bps",synonyms:["bps"],examples:[`note("<c2 e2 f2 g2>")
.sound('sawtooth')
.bpf(500)
.bpd(.5)
.bps("<0 .25 .5 1>/4")
.bpenv(4)`],longname:"bpsustain",kind:"member",scope:"global"},{comment:`/**
   * Sets the release time for the lowpass filter envelope.
   * @name lprelease
   * @param {number | Pattern} release time of the filter envelope
   * @synonyms lpr
   * @example
   * note("<c2 e2 f2 g2>")
   * .sound('sawtooth')
   * .clip(.5)
   * .lpf(500)
   * .lpenv(4)
   * .lpr("<.5 .25 .1 0>/4")
   * .release(.5)
   */`,meta:{filename:"controls.mjs",lineno:648,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the release time for the lowpass filter envelope.</p>",name:"lprelease",params:[{type:{names:["number","Pattern"]},description:"<p>time of the filter envelope</p>",name:"release"}],synonyms_text:"lpr",synonyms:["lpr"],examples:[`note("<c2 e2 f2 g2>")
.sound('sawtooth')
.clip(.5)
.lpf(500)
.lpenv(4)
.lpr("<.5 .25 .1 0>/4")
.release(.5)`],longname:"lprelease",kind:"member",scope:"global"},{comment:`/**
   * Sets the release time for the highpass filter envelope.
   * @name hprelease
   * @param {number | Pattern} release time of the highpass filter envelope
   * @synonyms hpr
   * @example
   * note("<c2 e2 f2 g2>")
   * .sound('sawtooth')
   * .clip(.5)
   * .hpf(500)
   * .hpenv(4)
   * .hpr("<.5 .25 .1 0>/4")
   * .release(.5)
   */`,meta:{filename:"controls.mjs",lineno:663,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the release time for the highpass filter envelope.</p>",name:"hprelease",params:[{type:{names:["number","Pattern"]},description:"<p>time of the highpass filter envelope</p>",name:"release"}],synonyms_text:"hpr",synonyms:["hpr"],examples:[`note("<c2 e2 f2 g2>")
.sound('sawtooth')
.clip(.5)
.hpf(500)
.hpenv(4)
.hpr("<.5 .25 .1 0>/4")
.release(.5)`],longname:"hprelease",kind:"member",scope:"global"},{comment:`/**
   * Sets the release time for the bandpass filter envelope.
   * @name bprelease
   * @param {number | Pattern} release time of the bandpass filter envelope
   * @synonyms bpr
   * @example
   * note("<c2 e2 f2 g2>")
   * .sound('sawtooth')
   * .clip(.5)
   * .bpf(500)
   * .bpenv(4)
   * .bpr("<.5 .25 .1 0>/4")
   * .release(.5)
   */`,meta:{filename:"controls.mjs",lineno:678,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the release time for the bandpass filter envelope.</p>",name:"bprelease",params:[{type:{names:["number","Pattern"]},description:"<p>time of the bandpass filter envelope</p>",name:"release"}],synonyms_text:"bpr",synonyms:["bpr"],examples:[`note("<c2 e2 f2 g2>")
.sound('sawtooth')
.clip(.5)
.bpf(500)
.bpenv(4)
.bpr("<.5 .25 .1 0>/4")
.release(.5)`],longname:"bprelease",kind:"member",scope:"global"},{comment:`/**
   * Sets the filter type. The 24db filter is more aggressive. More types might be added in the future.
   * @name ftype
   * @param {number | Pattern} type 12db (default) or 24db
   * @example
   * note("<c2 e2 f2 g2>")
   * .sound('sawtooth')
   * .lpf(500)
   * .bpenv(4)
   * .ftype("<12db 24db>")
   */`,meta:{filename:"controls.mjs",lineno:693,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the filter type. The 24db filter is more aggressive. More types might be added in the future.</p>",name:"ftype",params:[{type:{names:["number","Pattern"]},description:"<p>12db (default) or 24db</p>",name:"type"}],examples:[`note("<c2 e2 f2 g2>")
.sound('sawtooth')
.lpf(500)
.bpenv(4)
.ftype("<12db 24db>")`],longname:"ftype",kind:"member",scope:"global"},{comment:`/**
   * Applies the cutoff frequency of the **h**igh-**p**ass **f**ilter.
   *
   * When using mininotation, you can also optionally add the 'hpq' parameter, separated by ':'.
   *
   * @name hpf
   * @param {number | Pattern} frequency audible between 0 and 20000
   * @synonyms hp, hcutoff
   * @example
   * s("bd sd,hh*4").hpf("<4000 2000 1000 500 200 100>")
   * @example
   * s("bd sd,hh*4").hpf("<2000 2000:25>")
   *
   */`,meta:{filename:"controls.mjs",lineno:706,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Applies the cutoff frequency of the <strong>h</strong>igh-<strong>p</strong>ass <strong>f</strong>ilter.</p>
<p>When using mininotation, you can also optionally add the 'hpq' parameter, separated by ':'.</p>`,name:"hpf",params:[{type:{names:["number","Pattern"]},description:"<p>audible between 0 and 20000</p>",name:"frequency"}],synonyms_text:"hp, hcutoff",synonyms:["hp","hcutoff"],examples:['s("bd sd,hh*4").hpf("<4000 2000 1000 500 200 100>")','s("bd sd,hh*4").hpf("<2000 2000:25>")'],longname:"hpf",kind:"member",scope:"global"},{comment:`/**
   * Applies a vibrato to the frequency of the oscillator.
   *
   * @name vib
   * @synonyms vibrato, v
   * @param {number | Pattern} frequency of the vibrato in hertz
   * @example
   * note("a")
   * .vib("<.5 1 2 4 8 16>")
   * @example
   * // change the modulation depth with ":"
   * note("a")
   * .vib("<.5 1 2 4 8 16>:12")
   */`,meta:{filename:"controls.mjs",lineno:722,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Applies a vibrato to the frequency of the oscillator.</p>",name:"vib",synonyms_text:"vibrato, v",synonyms:["vibrato","v"],params:[{type:{names:["number","Pattern"]},description:"<p>of the vibrato in hertz</p>",name:"frequency"}],examples:[`note("a")
.vib("<.5 1 2 4 8 16>")`,`// change the modulation depth with ":"
note("a")
.vib("<.5 1 2 4 8 16>:12")`],longname:"vib",kind:"member",scope:"global"},{comment:`/**
   * Adds pink noise to the mix
   *
   * @name noise
   * @param {number | Pattern} wet wet amount
   * @example
   * sound("<white pink brown>/2")
   */`,meta:{filename:"controls.mjs",lineno:737,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Adds pink noise to the mix</p>",name:"noise",params:[{type:{names:["number","Pattern"]},description:"<p>wet amount</p>",name:"wet"}],examples:['sound("<white pink brown>/2")'],longname:"noise",kind:"member",scope:"global"},{comment:`/**
   * Sets the vibrato depth in semitones. Only has an effect if \`vibrato\` | \`vib\` | \`v\` is is also set
   *
   * @name vibmod
   * @synonyms vmod
   * @param {number | Pattern} depth of vibrato (in semitones)
   * @example
   * note("a").vib(4)
   * .vibmod("<.25 .5 1 2 12>")
   * @example
   * // change the vibrato frequency with ":"
   * note("a")
   * .vibmod("<.25 .5 1 2 12>:8")
   */`,meta:{filename:"controls.mjs",lineno:746,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the vibrato depth in semitones. Only has an effect if <code>vibrato</code> | <code>vib</code> | <code>v</code> is is also set</p>",name:"vibmod",synonyms_text:"vmod",synonyms:["vmod"],params:[{type:{names:["number","Pattern"]},description:"<p>of vibrato (in semitones)</p>",name:"depth"}],examples:[`note("a").vib(4)
.vibmod("<.25 .5 1 2 12>")`,`// change the vibrato frequency with ":"
note("a")
.vibmod("<.25 .5 1 2 12>:8")`],longname:"vibmod",kind:"member",scope:"global"},{comment:`/**
   * Controls the **h**igh-**p**ass **q**-value.
   *
   * @name hpq
   * @param {number | Pattern} q resonance factor between 0 and 50
   * @synonyms hresonance
   * @example
   * s("bd sd,hh*4").hpf(2000).hpq("<0 10 20 30>")
   *
   */`,meta:{filename:"controls.mjs",lineno:762,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Controls the <strong>h</strong>igh-<strong>p</strong>ass <strong>q</strong>-value.</p>",name:"hpq",params:[{type:{names:["number","Pattern"]},description:"<p>resonance factor between 0 and 50</p>",name:"q"}],synonyms_text:"hresonance",synonyms:["hresonance"],examples:['s("bd sd,hh*4").hpf(2000).hpq("<0 10 20 30>")'],longname:"hpq",kind:"member",scope:"global"},{comment:`/**
   * Controls the **l**ow-**p**ass **q**-value.
   *
   * @name lpq
   * @param {number | Pattern} q resonance factor between 0 and 50
   * @synonyms resonance
   * @example
   * s("bd sd,hh*4").lpf(2000).lpq("<0 10 20 30>")
   *
   */`,meta:{filename:"controls.mjs",lineno:773,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Controls the <strong>l</strong>ow-<strong>p</strong>ass <strong>q</strong>-value.</p>",name:"lpq",params:[{type:{names:["number","Pattern"]},description:"<p>resonance factor between 0 and 50</p>",name:"q"}],synonyms_text:"resonance",synonyms:["resonance"],examples:['s("bd sd,hh*4").lpf(2000).lpq("<0 10 20 30>")'],longname:"lpq",kind:"member",scope:"global"},{comment:`/**
   * DJ filter, below 0.5 is low pass filter, above is high pass filter.
   *
   * @name djf
   * @param {number | Pattern} cutoff below 0.5 is low pass filter, above is high pass filter
   * @example
   * n("0 3 7 [10,24]").s('superzow').octave(3).djf("<.5 .25 .5 .75>").osc()
   *
   */`,meta:{filename:"controls.mjs",lineno:785,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>DJ filter, below 0.5 is low pass filter, above is high pass filter.</p>",name:"djf",params:[{type:{names:["number","Pattern"]},description:"<p>below 0.5 is low pass filter, above is high pass filter</p>",name:"cutoff"}],examples:[`n("0 3 7 [10,24]").s('superzow').octave(3).djf("<.5 .25 .5 .75>").osc()`],longname:"djf",kind:"member",scope:"global"},{comment:`/**
   * Sets the level of the delay signal.
   *
   * When using mininotation, you can also optionally add the 'delaytime' and 'delayfeedback' parameter,
   * separated by ':'.
   *
   *
   * @name delay
   * @param {number | Pattern} level between 0 and 1
   * @example
   * s("bd").delay("<0 .25 .5 1>")
   * @example
   * s("bd bd").delay("0.65:0.25:0.9 0.65:0.125:0.7")
   *
   */`,meta:{filename:"controls.mjs",lineno:797,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Sets the level of the delay signal.</p>
<p>When using mininotation, you can also optionally add the 'delaytime' and 'delayfeedback' parameter,
separated by ':'.</p>`,name:"delay",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1</p>",name:"level"}],examples:['s("bd").delay("<0 .25 .5 1>")','s("bd bd").delay("0.65:0.25:0.9 0.65:0.125:0.7")'],longname:"delay",kind:"member",scope:"global"},{comment:`/**
   * Sets the level of the signal that is fed back into the delay.
   * Caution: Values >= 1 will result in a signal that gets louder and louder! Don't do it
   *
   * @name delayfeedback
   * @param {number | Pattern} feedback between 0 and 1
   * @synonyms delayfb, dfb
   * @example
   * s("bd").delay(.25).delayfeedback("<.25 .5 .75 1>").slow(2)
   *
   */`,meta:{filename:"controls.mjs",lineno:813,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Sets the level of the signal that is fed back into the delay.
Caution: Values &gt;= 1 will result in a signal that gets louder and louder! Don't do it</p>`,name:"delayfeedback",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1</p>",name:"feedback"}],synonyms_text:"delayfb, dfb",synonyms:["delayfb","dfb"],examples:['s("bd").delay(.25).delayfeedback("<.25 .5 .75 1>").slow(2)'],longname:"delayfeedback",kind:"member",scope:"global"},{comment:`/**
   * Sets the time of the delay effect.
   *
   * @name delaytime
   * @param {number | Pattern} seconds between 0 and Infinity
   * @synonyms delayt, dt
   * @example
   * s("bd").delay(.25).delaytime("<.125 .25 .5 1>").slow(2)
   *
   */`,meta:{filename:"controls.mjs",lineno:825,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the time of the delay effect.</p>",name:"delaytime",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and Infinity</p>",name:"seconds"}],synonyms_text:"delayt, dt",synonyms:["delayt","dt"],examples:['s("bd").delay(.25).delaytime("<.125 .25 .5 1>").slow(2)'],longname:"delaytime",kind:"member",scope:"global"},{comment:`/**
   * Set detune of oscillators. Works only with some synths, see <a target="_blank" href="https://tidalcycles.org/docs/patternlib/tutorials/synthesizers">tidal doc</a>
   *
   * @name detune
   * @param {number | Pattern} amount between 0 and 1
   * @synonyms det
   * @superdirtOnly
   * @example
   * n("0 3 7").s('superzow').octave(3).detune("<0 .25 .5 1 2>").osc()
   *
   */`,meta:{filename:"controls.mjs",lineno:846,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:'<p>Set detune of oscillators. Works only with some synths, see <a target="_blank" href="https://tidalcycles.org/docs/patternlib/tutorials/synthesizers">tidal doc</a></p>',name:"detune",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1</p>",name:"amount"}],synonyms_text:"det",synonyms:["det"],tags:[{originalTitle:"superdirtOnly",title:"superdirtonly",text:""}],examples:[`n("0 3 7").s('superzow').octave(3).detune("<0 .25 .5 1 2>").osc()`],longname:"detune",kind:"member",scope:"global"},{comment:`/**
   * Set dryness of reverb. See {@link room} and {@link size} for more information about reverb.
   *
   * @name dry
   * @param {number | Pattern} dry 0 = wet, 1 = dry
   * @example
   * n("[0,3,7](3,8)").s("superpiano").room(.7).dry("<0 .5 .75 1>").osc()
   * @superdirtOnly
   *
   */`,meta:{filename:"controls.mjs",lineno:858,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Set dryness of reverb. See {@link room} and {@link size} for more information about reverb.</p>",name:"dry",params:[{type:{names:["number","Pattern"]},description:"<p>0 = wet, 1 = dry</p>",name:"dry"}],examples:['n("[0,3,7](3,8)").s("superpiano").room(.7).dry("<0 .5 .75 1>").osc()'],tags:[{originalTitle:"superdirtOnly",title:"superdirtonly",text:""}],longname:"dry",kind:"member",scope:"global"},{comment:`/**
   * Set frequency of sound.
   *
   * @name freq
   * @param {number | Pattern} frequency in Hz. the audible range is between 20 and 20000 Hz
   * @example
   * freq("220 110 440 110").s("superzow").osc()
   * @example
   * freq("110".mul.out(".5 1.5 .6 [2 3]")).s("superzow").osc()
   *
   */`,meta:{filename:"controls.mjs",lineno:882,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Set frequency of sound.</p>",name:"freq",params:[{type:{names:["number","Pattern"]},description:"<p>in Hz. the audible range is between 20 and 20000 Hz</p>",name:"frequency"}],examples:['freq("220 110 440 110").s("superzow").osc()','freq("110".mul.out(".5 1.5 .6 [2 3]")).s("superzow").osc()'],longname:"freq",kind:"member",scope:"global"},{comment:`/**
   * Emulation of a Leslie speaker: speakers rotating in a wooden amplified cabinet.
   *
   * @name leslie
   * @param {number | Pattern} wet between 0 and 1
   * @example
   * n("0,4,7").s("supersquare").leslie("<0 .4 .6 1>").osc()
   * @superdirtOnly
   *
   */`,meta:{filename:"controls.mjs",lineno:905,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Emulation of a Leslie speaker: speakers rotating in a wooden amplified cabinet.</p>",name:"leslie",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1</p>",name:"wet"}],examples:['n("0,4,7").s("supersquare").leslie("<0 .4 .6 1>").osc()'],tags:[{originalTitle:"superdirtOnly",title:"superdirtonly",text:""}],longname:"leslie",kind:"member",scope:"global"},{comment:`/**
   * Rate of modulation / rotation for leslie effect
   *
   * @name lrate
   * @param {number | Pattern} rate 6.7 for fast, 0.7 for slow
   * @example
   * n("0,4,7").s("supersquare").leslie(1).lrate("<1 2 4 8>").osc()
   * @superdirtOnly
   *
   */`,meta:{filename:"controls.mjs",lineno:916,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Rate of modulation / rotation for leslie effect</p>",name:"lrate",params:[{type:{names:["number","Pattern"]},description:"<p>6.7 for fast, 0.7 for slow</p>",name:"rate"}],examples:['n("0,4,7").s("supersquare").leslie(1).lrate("<1 2 4 8>").osc()'],tags:[{originalTitle:"superdirtOnly",title:"superdirtonly",text:""}],longname:"lrate",kind:"member",scope:"global"},{comment:`/**
   * Physical size of the cabinet in meters. Be careful, it might be slightly larger than your computer. Affects the Doppler amount (pitch warble)
   *
   * @name lsize
   * @param {number | Pattern} meters somewhere between 0 and 1
   * @example
   * n("0,4,7").s("supersquare").leslie(1).lrate(2).lsize("<.1 .5 1>").osc()
   * @superdirtOnly
   *
   */`,meta:{filename:"controls.mjs",lineno:928,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Physical size of the cabinet in meters. Be careful, it might be slightly larger than your computer. Affects the Doppler amount (pitch warble)</p>",name:"lsize",params:[{type:{names:["number","Pattern"]},description:"<p>somewhere between 0 and 1</p>",name:"meters"}],examples:['n("0,4,7").s("supersquare").leslie(1).lrate(2).lsize("<.1 .5 1>").osc()'],tags:[{originalTitle:"superdirtOnly",title:"superdirtonly",text:""}],longname:"lsize",kind:"member",scope:"global"},{comment:`/**
   * Sets the displayed text for an event on the pianoroll
   *
   * @name label
   * @param {string} label text to display
   */`,meta:{filename:"controls.mjs",lineno:939,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the displayed text for an event on the pianoroll</p>",name:"label",params:[{type:{names:["string"]},description:"<p>text to display</p>",name:"label"}],longname:"label",kind:"member",scope:"global"},{comment:`/**
   * Sets the default octave of a synth.
   *
   * @name octave
   * @param {number | Pattern} octave octave number
   * @example
   * n("0,4,7").s('supersquare').octave("<3 4 5 6>").osc()
   * @superDirtOnly
   */`,meta:{filename:"controls.mjs",lineno:969,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the default octave of a synth.</p>",name:"octave",params:[{type:{names:["number","Pattern"]},description:"<p>octave number</p>",name:"octave"}],examples:[`n("0,4,7").s('supersquare').octave("<3 4 5 6>").osc()`],tags:[{originalTitle:"superDirtOnly",title:"superdirtonly",text:""}],longname:"octave",kind:"member",scope:"global"},{comment:`/**
   * An \`orbit\` is a global parameter context for patterns. Patterns with the same orbit will share the same global effects.
   *
   * @name orbit
   * @param {number | Pattern} number
   * @example
   * stack(
   *   s("hh*3").delay(.5).delaytime(.25).orbit(1),
   *   s("~ sd").delay(.5).delaytime(.125).orbit(2)
   * )
   */`,meta:{filename:"controls.mjs",lineno:982,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>An <code>orbit</code> is a global parameter context for patterns. Patterns with the same orbit will share the same global effects.</p>",name:"orbit",params:[{type:{names:["number","Pattern"]},name:"number"}],examples:[`stack(
  s("hh*3").delay(.5).delaytime(.25).orbit(1),
  s("~ sd").delay(.5).delaytime(.125).orbit(2)
)`],longname:"orbit",kind:"member",scope:"global"},{comment:`/**
   * Sets position in stereo.
   *
   * @name pan
   * @param {number | Pattern} pan between 0 and 1, from left to right (assuming stereo), once round a circle (assuming multichannel)
   * @example
   * s("[bd hh]*2").pan("<.5 1 .5 0>")
   *
   */`,meta:{filename:"controls.mjs",lineno:996,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets position in stereo.</p>",name:"pan",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1, from left to right (assuming stereo), once round a circle (assuming multichannel)</p>",name:"pan"}],examples:['s("[bd hh]*2").pan("<.5 1 .5 0>")'],longname:"pan",kind:"member",scope:"global"},{comment:`/**
   * Sets the level of reverb.
   *
   * When using mininotation, you can also optionally add the 'size' parameter, separated by ':'.
   *
   * @name room
   * @param {number | Pattern} level between 0 and 1
   * @example
   * s("bd sd").room("<0 .2 .4 .6 .8 1>")
   * @example
   * s("bd sd").room("<0.9:1 0.9:4>")
   *
   */`,meta:{filename:"controls.mjs",lineno:1052,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Sets the level of reverb.</p>
<p>When using mininotation, you can also optionally add the 'size' parameter, separated by ':'.</p>`,name:"room",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1</p>",name:"level"}],examples:['s("bd sd").room("<0 .2 .4 .6 .8 1>")','s("bd sd").room("<0.9:1 0.9:4>")'],longname:"room",kind:"member",scope:"global"},{comment:`/**
   * Reverb lowpass starting frequency (in hertz).
   * When this property is changed, the reverb will be recaculated, so only change this sparsely..
   *
   * @name roomlp
   * @synonyms rlp
   * @param {number} frequency between 0 and 20000hz
   * @example
   * s("bd sd").room(0.5).rlp(10000)
   * @example
   * s("bd sd").room(0.5).rlp(5000)
   */`,meta:{filename:"controls.mjs",lineno:1066,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Reverb lowpass starting frequency (in hertz).
When this property is changed, the reverb will be recaculated, so only change this sparsely..</p>`,name:"roomlp",synonyms_text:"rlp",synonyms:["rlp"],params:[{type:{names:["number"]},description:"<p>between 0 and 20000hz</p>",name:"frequency"}],examples:['s("bd sd").room(0.5).rlp(10000)','s("bd sd").room(0.5).rlp(5000)'],longname:"roomlp",kind:"member",scope:"global"},{comment:`/**
   * Reverb lowpass frequency at -60dB (in hertz).
   * When this property is changed, the reverb will be recaculated, so only change this sparsely..
   *
   * @name roomdim
   * @synonyms rdim
   * @param {number} frequency between 0 and 20000hz
   * @example
   * s("bd sd").room(0.5).rlp(10000).rdim(8000)
   * @example
   * s("bd sd").room(0.5).rlp(5000).rdim(400)
   *
   */`,meta:{filename:"controls.mjs",lineno:1079,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Reverb lowpass frequency at -60dB (in hertz).
When this property is changed, the reverb will be recaculated, so only change this sparsely..</p>`,name:"roomdim",synonyms_text:"rdim",synonyms:["rdim"],params:[{type:{names:["number"]},description:"<p>between 0 and 20000hz</p>",name:"frequency"}],examples:['s("bd sd").room(0.5).rlp(10000).rdim(8000)','s("bd sd").room(0.5).rlp(5000).rdim(400)'],longname:"roomdim",kind:"member",scope:"global"},{comment:`/**
   * Reverb fade time (in seconds).
   * When this property is changed, the reverb will be recaculated, so only change this sparsely..
   *
   * @name roomfade
   * @synonyms rfade
   * @param {number} seconds for the reverb to fade
   * @example
   * s("bd sd").room(0.5).rlp(10000).rfade(0.5)
   * @example
   * s("bd sd").room(0.5).rlp(5000).rfade(4)
   *
   */`,meta:{filename:"controls.mjs",lineno:1093,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Reverb fade time (in seconds).
When this property is changed, the reverb will be recaculated, so only change this sparsely..</p>`,name:"roomfade",synonyms_text:"rfade",synonyms:["rfade"],params:[{type:{names:["number"]},description:"<p>for the reverb to fade</p>",name:"seconds"}],examples:['s("bd sd").room(0.5).rlp(10000).rfade(0.5)','s("bd sd").room(0.5).rlp(5000).rfade(4)'],longname:"roomfade",kind:"member",scope:"global"},{comment:`/**
   * Sets the sample to use as an impulse response for the reverb.
   * @name iresponse
   * @param {string | Pattern} sample to use as an impulse response
   * @synonyms ir
   * @example
   * s("bd sd").room(.8).ir("<shaker_large:0 shaker_large:2>")
   *
   */`,meta:{filename:"controls.mjs",lineno:1107,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the sample to use as an impulse response for the reverb.</p>",name:"iresponse",params:[{type:{names:["string","Pattern"]},description:"<p>to use as an impulse response</p>",name:"sample"}],synonyms_text:"ir",synonyms:["ir"],examples:['s("bd sd").room(.8).ir("<shaker_large:0 shaker_large:2>")'],longname:"iresponse",kind:"member",scope:"global"},{comment:`/**
   * Sets the room size of the reverb, see {@link room}.
   * When this property is changed, the reverb will be recaculated, so only change this sparsely..
   *
   * @name roomsize
   * @param {number | Pattern} size between 0 and 10
   * @synonyms rsize, sz, size
   * @example
   * s("bd sd").room(.8).rsize(1)
   * @example
   * s("bd sd").room(.8).rsize(4)
   *
   */`,meta:{filename:"controls.mjs",lineno:1117,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Sets the room size of the reverb, see {@link room}.
When this property is changed, the reverb will be recaculated, so only change this sparsely..</p>`,name:"roomsize",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 10</p>",name:"size"}],synonyms_text:"rsize, sz, size",synonyms:["rsize","sz","size"],examples:['s("bd sd").room(.8).rsize(1)','s("bd sd").room(.8).rsize(4)'],longname:"roomsize",kind:"member",scope:"global"},{comment:`/**
   * Wave shaping distortion. CAUTION: it might get loud
   *
   * @name shape
   * @param {number | Pattern} distortion between 0 and 1
   * @example
   * s("bd sd,hh*4").shape("<0 .2 .4 .6 .8>")
   *
   */`,meta:{filename:"controls.mjs",lineno:1138,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Wave shaping distortion. CAUTION: it might get loud</p>",name:"shape",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1</p>",name:"distortion"}],examples:['s("bd sd,hh*4").shape("<0 .2 .4 .6 .8>")'],longname:"shape",kind:"member",scope:"global"},{comment:`/**
   * Dynamics Compressor. The params are \`compressor("threshold:ratio:knee:attack:release")\`
   * More info [here](https://developer.mozilla.org/en-US/docs/Web/API/DynamicsCompressorNode?retiredLocale=de#instance_properties)
   *
   * @name compressor
   * @example
   * s("bd sd,hh*4")
   * .compressor("-20:20:10:.002:.02")
   *
   */`,meta:{filename:"controls.mjs",lineno:1148,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Dynamics Compressor. The params are <code>compressor(&quot;threshold:ratio:knee:attack:release&quot;)</code>
More info <a href="https://developer.mozilla.org/en-US/docs/Web/API/DynamicsCompressorNode?retiredLocale=de#instance_properties">here</a></p>`,name:"compressor",examples:[`s("bd sd,hh*4")
.compressor("-20:20:10:.002:.02")`],longname:"compressor",kind:"member",scope:"global"},{comment:`/**
   * Changes the speed of sample playback, i.e. a cheap way of changing pitch.
   *
   * @name speed
   * @param {number | Pattern} speed -inf to inf, negative numbers play the sample backwards.
   * @example
   * s("bd").speed("<1 2 4 1 -2 -4>")
   * @example
   * speed("1 1.5*2 [2 1.1]").s("piano").clip(1)
   *
   */`,meta:{filename:"controls.mjs",lineno:1163,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Changes the speed of sample playback, i.e. a cheap way of changing pitch.</p>",name:"speed",params:[{type:{names:["number","Pattern"]},description:"<p>inf to inf, negative numbers play the sample backwards.</p>",name:"speed"}],examples:['s("bd").speed("<1 2 4 1 -2 -4>")','speed("1 1.5*2 [2 1.1]").s("piano").clip(1)'],longname:"speed",kind:"member",scope:"global"},{comment:'/**\n   * Used in conjunction with {@link speed}, accepts values of "r" (rate, default behavior), "c" (cycles), or "s" (seconds). Using `unit "c"` means `speed` will be interpreted in units of cycles, e.g. `speed "1"` means samples will be stretched to fill a cycle. Using `unit "s"` means the playback speed will be adjusted so that the duration is the number of seconds specified by `speed`.\n   *\n   * @name unit\n   * @param {number | string | Pattern} unit see description above\n   * @example\n   * speed("1 2 .5 3").s("bd").unit("c").osc()\n   * @superdirtOnly\n   *\n   */',meta:{filename:"controls.mjs",lineno:1175,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Used in conjunction with {@link speed}, accepts values of &quot;r&quot; (rate, default behavior), &quot;c&quot; (cycles), or &quot;s&quot; (seconds). Using <code>unit &quot;c&quot;</code> means <code>speed</code> will be interpreted in units of cycles, e.g. <code>speed &quot;1&quot;</code> means samples will be stretched to fill a cycle. Using <code>unit &quot;s&quot;</code> means the playback speed will be adjusted so that the duration is the number of seconds specified by <code>speed</code>.</p>",name:"unit",params:[{type:{names:["number","string","Pattern"]},description:"<p>see description above</p>",name:"unit"}],examples:['speed("1 2 .5 3").s("bd").unit("c").osc()'],tags:[{originalTitle:"superdirtOnly",title:"superdirtonly",text:""}],longname:"unit",kind:"member",scope:"global"},{comment:`/**
   * Made by Calum Gunn. Reminiscent of some weird mixture of filter, ring-modulator and pitch-shifter. The SuperCollider manual defines Squiz as:
   *
   * "A simplistic pitch-raising algorithm. It's not meant to sound natural; its sound is reminiscent of some weird mixture of filter, ring-modulator and pitch-shifter, depending on the input. The algorithm works by cutting the signal into fragments (delimited by upwards-going zero-crossings) and squeezing those fragments in the time domain (i.e. simply playing them back faster than they came in), leaving silences inbetween. All the parameters apart from memlen can be modulated."
   *
   * @name squiz
   * @param {number | Pattern} squiz Try passing multiples of 2 to it - 2, 4, 8 etc.
   * @example
   * squiz("2 4/2 6 [8 16]").s("bd").osc()
   * @superdirtOnly
   *
   */`,meta:{filename:"controls.mjs",lineno:1186,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Made by Calum Gunn. Reminiscent of some weird mixture of filter, ring-modulator and pitch-shifter. The SuperCollider manual defines Squiz as:</p>
<p>&quot;A simplistic pitch-raising algorithm. It's not meant to sound natural; its sound is reminiscent of some weird mixture of filter, ring-modulator and pitch-shifter, depending on the input. The algorithm works by cutting the signal into fragments (delimited by upwards-going zero-crossings) and squeezing those fragments in the time domain (i.e. simply playing them back faster than they came in), leaving silences inbetween. All the parameters apart from memlen can be modulated.&quot;</p>`,name:"squiz",params:[{type:{names:["number","Pattern"]},description:"<p>Try passing multiples of 2 to it - 2, 4, 8 etc.</p>",name:"squiz"}],examples:['squiz("2 4/2 6 [8 16]").s("bd").osc()'],tags:[{originalTitle:"superdirtOnly",title:"superdirtonly",text:""}],longname:"squiz",kind:"member",scope:"global"},{comment:`/**
   *
   * Formant filter to make things sound like vowels.
   *
   * @name vowel
   * @param {string | Pattern} vowel You can use a e i o u.
   * @example
   * note("c2 <eb2 <g2 g1>>").s('sawtooth')
   * .vowel("<a e i <o u>>")
   *
   */`,meta:{filename:"controls.mjs",lineno:1207,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Formant filter to make things sound like vowels.</p>",name:"vowel",params:[{type:{names:["string","Pattern"]},description:"<p>You can use a e i o u.</p>",name:"vowel"}],examples:[`note("c2 <eb2 <g2 g1>>").s('sawtooth')
.vowel("<a e i <o u>>")`],longname:"vowel",kind:"member",scope:"global"},{comment:`/**
   * Multiplies the duration with the given number. Also cuts samples off at the end if they exceed the duration.
   * In tidal, this would be done with legato, [which has a complicated history in strudel](https://github.com/tidalcycles/strudel/issues/111).
   * For now, if you're coming from tidal, just think clip = legato.
   *
   * @name clip
   * @param {number | Pattern} factor >= 0
   * @example
   * note("c a f e").s("piano").clip("<.5 1 2>")
   *
   */`,meta:{filename:"controls.mjs",lineno:1304,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Multiplies the duration with the given number. Also cuts samples off at the end if they exceed the duration.
In tidal, this would be done with legato, <a href="https://github.com/tidalcycles/strudel/issues/111">which has a complicated history in strudel</a>.
For now, if you're coming from tidal, just think clip = legato.</p>`,name:"clip",params:[{type:{names:["number","Pattern"]},description:`<blockquote>
<p>= 0</p>
</blockquote>`,name:"factor"}],examples:['note("c a f e").s("piano").clip("<.5 1 2>")'],longname:"clip",kind:"member",scope:"global"},{comment:`/**
 * ADSR envelope: Combination of Attack, Decay, Sustain, and Release.
 *
 * @name adsr
 * @param {number | Pattern} time attack time in seconds
 * @param {number | Pattern} time decay time in seconds
 * @param {number | Pattern} gain sustain level (0 to 1)
 * @param {number | Pattern} time release time in seconds
 * @example
 * note("<c3 bb2 f3 eb3>").sound("sawtooth").lpf(600).adsr(".1:.1:.5:.2")
 */`,meta:{filename:"controls.mjs",lineno:1381,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>ADSR envelope: Combination of Attack, Decay, Sustain, and Release.</p>",name:"adsr",params:[{type:{names:["number","Pattern"]},description:"<p>attack time in seconds</p>",name:"time"},{type:{names:["number","Pattern"]},description:"<p>decay time in seconds</p>",name:"time"},{type:{names:["number","Pattern"]},description:"<p>sustain level (0 to 1)</p>",name:"gain"},{type:{names:["number","Pattern"]},description:"<p>release time in seconds</p>",name:"time"}],examples:['note("<c3 bb2 f3 eb3>").sound("sawtooth").lpf(600).adsr(".1:.1:.5:.2")'],longname:"adsr",kind:"member",scope:"global"},{comment:`/**
 * Intended for a debugging, drawLine renders the pattern as a string, where each character represents the same time span.
 * Should only be used with single characters as values, otherwise the character slots will be messed up.
 * Character legend:
 *
 * - "|" cycle separator
 * - "-" hold previous value
 * - "." silence
 *
 * @param {Pattern} pattern the pattern to use
 * @param {number} chars max number of characters (approximately)
 * @returns string
 * @example
 * const line = drawLine("0 [1 2 3]", 10); // |0--123|0--123
 * console.log(line);
 * silence;
 */`,meta:{range:[1426,2796],filename:"drawLine.mjs",lineno:26,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100008911",name:"drawLine",type:"FunctionDeclaration",paramnames:["pat","chars"]},vars:{cycle:"drawLine~cycle",pos:"drawLine~pos",lines:"drawLine~lines",emptyLine:"drawLine~emptyLine",haps:"drawLine~haps",durations:"drawLine~durations","":null,charFraction:"drawLine~charFraction",totalSlots:"drawLine~totalSlots",i:"drawLine~i",undefined:null,matches:"drawLine~matches",missingLines:"drawLine~missingLines"}},description:`<p>Intended for a debugging, drawLine renders the pattern as a string, where each character represents the same time span.
Should only be used with single characters as values, otherwise the character slots will be messed up.
Character legend:</p>
<ul>
<li>&quot;|&quot; cycle separator</li>
<li>&quot;-&quot; hold previous value</li>
<li>&quot;.&quot; silence</li>
</ul>`,params:[{type:{names:["Pattern"]},description:"<p>the pattern to use</p>",name:"pattern"},{type:{names:["number"]},description:"<p>max number of characters (approximately)</p>",name:"chars"}],returns:[{description:"<p>string</p>"}],examples:[`const line = drawLine("0 [1 2 3]", 10); // |0--123|0--123
console.log(line);
silence;`],name:"drawLine",longname:"drawLine",kind:"function",scope:"global"},{comment:`/**
 * Changes the structure of the pattern to form an euclidean rhythm.
 * Euclidian rhythms are rhythms obtained using the greatest common
 * divisor of two numbers.  They were described in 2004 by Godfried
 * Toussaint, a canadian computer scientist.  Euclidian rhythms are
 * really useful for computer/algorithmic music because they can
 * describe a large number of rhythms with a couple of numbers.
 *
 * @memberof Pattern
 * @name euclid
 * @param {number} pulses the number of onsets / beats
 * @param {number} steps the number of steps to fill
 * @returns Pattern
 * @example
 * // The Cuban tresillo pattern.
 * note("c3").euclid(3,8)
 */`,meta:{filename:"euclid.mjs",lineno:51,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Changes the structure of the pattern to form an euclidean rhythm.
Euclidian rhythms are rhythms obtained using the greatest common
divisor of two numbers.  They were described in 2004 by Godfried
Toussaint, a canadian computer scientist.  Euclidian rhythms are
really useful for computer/algorithmic music because they can
describe a large number of rhythms with a couple of numbers.</p>`,memberof:"Pattern",name:"euclid",params:[{type:{names:["number"]},description:"<p>the number of onsets / beats</p>",name:"pulses"},{type:{names:["number"]},description:"<p>the number of steps to fill</p>",name:"steps"}],returns:[{description:"<p>Pattern</p>"}],examples:[`// The Cuban tresillo pattern.
note("c3").euclid(3,8)`],scope:"static",longname:"Pattern.euclid",kind:"member"},{comment:`/**
 * Like \`euclid\`, but has an additional parameter for 'rotating' the resulting sequence.
 * @memberof Pattern
 * @name euclidRot
 * @param {number} pulses the number of onsets / beats
 * @param {number} steps the number of steps to fill
 * @param {number} rotation offset in steps
 * @returns Pattern
 * @example
 * // A Samba rhythm necklace from Brazil
 * note("c3").euclidRot(3,16,14)
 */`,meta:{filename:"euclid.mjs",lineno:69,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Like <code>euclid</code>, but has an additional parameter for 'rotating' the resulting sequence.</p>",memberof:"Pattern",name:"euclidRot",params:[{type:{names:["number"]},description:"<p>the number of onsets / beats</p>",name:"pulses"},{type:{names:["number"]},description:"<p>the number of steps to fill</p>",name:"steps"},{type:{names:["number"]},description:"<p>offset in steps</p>",name:"rotation"}],returns:[{description:"<p>Pattern</p>"}],examples:[`// A Samba rhythm necklace from Brazil
note("c3").euclidRot(3,16,14)`],scope:"static",longname:"Pattern.euclidRot",kind:"member"},{comment:`/**
 * @example // A thirteenth century Persian rhythm called Khafif-e-ramal.
 * note("c3").euclid(2,5)
 * @example // The archetypal pattern of the Cumbia from Colombia, as well as a Calypso rhythm from Trinidad.
 * note("c3").euclid(3,4)
 * @example // Another thirteenth century Persian rhythm by the name of Khafif-e-ramal, as well as a Rumanian folk-dance rhythm.
 * note("c3").euclidRot(3,5,2)
 * @example // A Ruchenitza rhythm used in a Bulgarian folk-dance.
 * note("c3").euclid(3,7)
 * @example // The Cuban tresillo pattern.
 * note("c3").euclid(3,8)
 * @example // Another Ruchenitza Bulgarian folk-dance rhythm.
 * note("c3").euclid(4,7)
 * @example // The Aksak rhythm of Turkey.
 * note("c3").euclid(4,9)
 * @example // The metric pattern used by Frank Zappa in his piece titled Outside Now.
 * note("c3").euclid(4,11)
 * @example // Yields the York-Samai pattern, a popular Arab rhythm.
 * note("c3").euclid(5,6)
 * @example // The Nawakhat pattern, another popular Arab rhythm.
 * note("c3").euclid(5,7)
 * @example // The Cuban cinquillo pattern.
 * note("c3").euclid(5,8)
 * @example // A popular Arab rhythm called Agsag-Samai.
 * note("c3").euclid(5,9)
 * @example // The metric pattern used by Moussorgsky in Pictures at an Exhibition.
 * note("c3").euclid(5,11)
 * @example // The Venda clapping pattern of a South African children’s song.
 * note("c3").euclid(5,12)
 * @example // The Bossa-Nova rhythm necklace of Brazil.
 * note("c3").euclid(5,16)
 * @example // A typical rhythm played on the Bendir (frame drum).
 * note("c3").euclid(7,8)
 * @example // A common West African bell pattern.
 * note("c3").euclid(7,12)
 * @example // A Samba rhythm necklace from Brazil.
 * note("c3").euclidRot(7,16,14)
 * @example // A rhythm necklace used in the Central African Republic.
 * note("c3").euclid(9,16)
 * @example // A rhythm necklace of the Aka Pygmies of Central Africa.
 * note("c3").euclidRot(11,24,14)
 * @example // Another rhythm necklace of the Aka Pygmies of the upper Sangha.
 * note("c3").euclidRot(13,24,5)
 */`,meta:{range:[5141,5293],filename:"euclid.mjs",lineno:127,columnno:6,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100009381",name:"_euclidRot",type:"FunctionExpression"},vars:{b:"_euclidRot~b"}},examples:[`// A thirteenth century Persian rhythm called Khafif-e-ramal.
note("c3").euclid(2,5)`,`// The archetypal pattern of the Cumbia from Colombia, as well as a Calypso rhythm from Trinidad.
note("c3").euclid(3,4)`,`// Another thirteenth century Persian rhythm by the name of Khafif-e-ramal, as well as a Rumanian folk-dance rhythm.
note("c3").euclidRot(3,5,2)`,`// A Ruchenitza rhythm used in a Bulgarian folk-dance.
note("c3").euclid(3,7)`,`// The Cuban tresillo pattern.
note("c3").euclid(3,8)`,`// Another Ruchenitza Bulgarian folk-dance rhythm.
note("c3").euclid(4,7)`,`// The Aksak rhythm of Turkey.
note("c3").euclid(4,9)`,`// The metric pattern used by Frank Zappa in his piece titled Outside Now.
note("c3").euclid(4,11)`,`// Yields the York-Samai pattern, a popular Arab rhythm.
note("c3").euclid(5,6)`,`// The Nawakhat pattern, another popular Arab rhythm.
note("c3").euclid(5,7)`,`// The Cuban cinquillo pattern.
note("c3").euclid(5,8)`,`// A popular Arab rhythm called Agsag-Samai.
note("c3").euclid(5,9)`,`// The metric pattern used by Moussorgsky in Pictures at an Exhibition.
note("c3").euclid(5,11)`,`// The Venda clapping pattern of a South African children’s song.
note("c3").euclid(5,12)`,`// The Bossa-Nova rhythm necklace of Brazil.
note("c3").euclid(5,16)`,`// A typical rhythm played on the Bendir (frame drum).
note("c3").euclid(7,8)`,`// A common West African bell pattern.
note("c3").euclid(7,12)`,`// A Samba rhythm necklace from Brazil.
note("c3").euclidRot(7,16,14)`,`// A rhythm necklace used in the Central African Republic.
note("c3").euclid(9,16)`,`// A rhythm necklace of the Aka Pygmies of Central Africa.
note("c3").euclidRot(11,24,14)`,`// Another rhythm necklace of the Aka Pygmies of the upper Sangha.
note("c3").euclidRot(13,24,5)`],name:"_euclidRot",longname:"_euclidRot",kind:"function",scope:"global",params:[]},{comment:`/**
 * Similar to \`euclid\`, but each pulse is held until the next pulse,
 * so there will be no gaps.
 * @name euclidLegato
 * @memberof Pattern
 * @param {number} pulses the number of onsets / beats
 * @param {number} steps the number of steps to fill
 * @example
 * n("g2").decay(.1).sustain(.3).euclidLegato(3,8)
 */`,meta:{filename:"euclid.mjs",lineno:143,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Similar to <code>euclid</code>, but each pulse is held until the next pulse,
so there will be no gaps.</p>`,name:"euclidLegato",memberof:"Pattern",params:[{type:{names:["number"]},description:"<p>the number of onsets / beats</p>",name:"pulses"},{type:{names:["number"]},description:"<p>the number of steps to fill</p>",name:"steps"}],examples:['n("g2").decay(.1).sustain(.3).euclidLegato(3,8)'],scope:"static",longname:"Pattern.euclidLegato",kind:"member"},{comment:`/**
 * Similar to \`euclid\`, but each pulse is held until the next pulse,
 * so there will be no gaps, and has an additional parameter for 'rotating'
 * the resulting sequence
 * @name euclidLegatoRot
 * @memberof Pattern
 * @param {number} pulses the number of onsets / beats
 * @param {number} steps the number of steps to fill
 * @param {number} rotation offset in steps
 * @example
 * note("c3").euclidLegatoRot(3,5,2)
 */`,meta:{filename:"euclid.mjs",lineno:171,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Similar to <code>euclid</code>, but each pulse is held until the next pulse,
so there will be no gaps, and has an additional parameter for 'rotating'
the resulting sequence</p>`,name:"euclidLegatoRot",memberof:"Pattern",params:[{type:{names:["number"]},description:"<p>the number of onsets / beats</p>",name:"pulses"},{type:{names:["number"]},description:"<p>the number of steps to fill</p>",name:"steps"},{type:{names:["number"]},description:"<p>offset in steps</p>",name:"rotation"}],examples:['note("c3").euclidLegatoRot(3,5,2)'],scope:"static",longname:"Pattern.euclidLegatoRot",kind:"member"},{comment:"/** @class Class representing a pattern. */",meta:{range:[1532,25380],filename:"pattern.mjs",lineno:25,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100010922",name:"exports.Pattern",type:"ClassDeclaration"}},name:"Pattern",longname:"Pattern",kind:"class",classdesc:"<p>Class representing a pattern.</p>",scope:"global",description:"<p>Create a pattern. As an end user, you will most likely not create a Pattern directly.</p>",tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],memberof:"Pattern",params:[{type:{names:["function"]},description:"<p>The function that maps a {@link State} to an array of {@link Hap}.</p>",name:"query"}]},{comment:`/**
   * Returns a new pattern, with the function applied to the value of
   * each hap. It has the alias {@link Pattern#fmap}.
   * @synonyms fmap
   * @param {Function} func to to apply to the value
   * @returns Pattern
   * @example
   * "0 1 2".withValue(v => v + 10).log()
   */`,meta:{range:[2398,2507],filename:"pattern.mjs",lineno:49,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100010943",name:"Pattern#withValue",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:`<p>Returns a new pattern, with the function applied to the value of
each hap. It has the alias {@link Pattern#fmap}.</p>`,synonyms_text:"fmap",synonyms:["fmap"],params:[{type:{names:["function"]},description:"<p>to to apply to the value</p>",name:"func"}],returns:[{description:"<p>Pattern</p>"}],examples:['"0 1 2".withValue(v => v + 10).log()'],name:"withValue",longname:"Pattern#withValue",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * see {@link Pattern#withValue}
   * @noAutocomplete
   */`,meta:{range:[2579,2628],filename:"pattern.mjs",lineno:57,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100010968",name:"Pattern#fmap",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:"<p>see {@link Pattern#withValue}</p>",tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"fmap",longname:"Pattern#fmap",kind:"function",memberof:"Pattern",scope:"instance",params:[]},{comment:`/**
   * Assumes 'this' is a pattern of functions, and given a function to
   * resolve wholes, applies a given pattern of values to that
   * pattern of functions.
   * @param {Function} whole_func
   * @param {Function} func
   * @noAutocomplete
   * @returns Pattern
   */`,meta:{range:[2910,3652],filename:"pattern.mjs",lineno:70,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100010979",name:"Pattern#appWhole",type:"MethodDefinition",paramnames:["whole_func","pat_val"]},vars:{"":null}},description:`<p>Assumes 'this' is a pattern of functions, and given a function to
resolve wholes, applies a given pattern of values to that
pattern of functions.</p>`,params:[{type:{names:["function"]},name:"whole_func"},{type:{names:["function"]},name:"func"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],returns:[{description:"<p>Pattern</p>"}],name:"appWhole",longname:"Pattern#appWhole",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * When this method is called on a pattern of functions, it matches its haps
   * with those in the given pattern of values.  A new pattern is returned, with
   * each matching value applied to the corresponding function.
   *
   * In this \`_appBoth\` variant, where timespans of the function and value haps
   * are not the same but do intersect, the resulting hap has a timespan of the
   * intersection. This applies to both the part and the whole timespan.
   * @param {Pattern} pat_val
   * @noAutocomplete
   * @returns Pattern
   */`,meta:{range:[4203,4483],filename:"pattern.mjs",lineno:106,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100011086",name:"Pattern#appBoth",type:"MethodDefinition",paramnames:["pat_val"]},vars:{"":null}},description:`<p>When this method is called on a pattern of functions, it matches its haps
with those in the given pattern of values.  A new pattern is returned, with
each matching value applied to the corresponding function.</p>
<p>In this <code>_appBoth</code> variant, where timespans of the function and value haps
are not the same but do intersect, the resulting hap has a timespan of the
intersection. This applies to both the part and the whole timespan.</p>`,params:[{type:{names:["Pattern"]},name:"pat_val"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],returns:[{description:"<p>Pattern</p>"}],name:"appBoth",longname:"Pattern#appBoth",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * As with {@link Pattern#appBoth}, but the \`whole\` timespan is not the intersection,
   * but the timespan from the function of patterns that this method is called
   * on. In practice, this means that the pattern structure, including onsets,
   * are preserved from the pattern of functions (often referred to as the left
   * hand or inner pattern).
   * @param {Pattern} pat_val
   * @noAutocomplete
   * @returns Pattern
   */`,meta:{range:[4927,5671],filename:"pattern.mjs",lineno:127,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100011122",name:"Pattern#appLeft",type:"MethodDefinition",paramnames:["pat_val"]},vars:{"":null}},description:`<p>As with {@link Pattern#appBoth}, but the <code>whole</code> timespan is not the intersection,
but the timespan from the function of patterns that this method is called
on. In practice, this means that the pattern structure, including onsets,
are preserved from the pattern of functions (often referred to as the left
hand or inner pattern).</p>`,params:[{type:{names:["Pattern"]},name:"pat_val"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],returns:[{description:"<p>Pattern</p>"}],name:"appLeft",longname:"Pattern#appLeft",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * As with {@link Pattern#appLeft}, but \`whole\` timespans are instead taken from the
   * pattern of values, i.e. structure is preserved from the right hand/outer
   * pattern.
   * @param {Pattern} pat_val
   * @noAutocomplete
   * @returns Pattern
   */`,meta:{range:[5939,6684],filename:"pattern.mjs",lineno:158,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100011232",name:"Pattern#appRight",type:"MethodDefinition",paramnames:["pat_val"]},vars:{"":null}},description:`<p>As with {@link Pattern#appLeft}, but <code>whole</code> timespans are instead taken from the
pattern of values, i.e. structure is preserved from the right hand/outer
pattern.</p>`,params:[{type:{names:["Pattern"]},name:"pat_val"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],returns:[{description:"<p>Pattern</p>"}],name:"appRight",longname:"Pattern#appRight",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Query haps inside the given time span.
   *
   * @param {Fraction | number} begin from time
   * @param {Fraction | number} end to time
   * @returns Hap[]
   * @example
   * const pattern = sequence('a', ['b', 'c'])
   * const haps = pattern.queryArc(0, 1)
   * console.log(haps)
   * silence
   * @noAutocomplete
   */`,meta:{range:[12110,12301],filename:"pattern.mjs",lineno:343,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100011850",name:"Pattern#queryArc",type:"MethodDefinition",paramnames:["begin","end"]},vars:{"":null}},description:"<p>Query haps inside the given time span.</p>",params:[{type:{names:["Fraction","number"]},description:"<p>from time</p>",name:"begin"},{type:{names:["Fraction","number"]},description:"<p>to time</p>",name:"end"}],returns:[{description:"<p>Hap[]</p>"}],examples:[`const pattern = sequence('a', ['b', 'c'])
const haps = pattern.queryArc(0, 1)
console.log(haps)
silence`],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"queryArc",longname:"Pattern#queryArc",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Returns a new pattern, with queries split at cycle boundaries. This makes
   * some calculations easier to express, as all haps are then constrained to
   * happen within a cycle.
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[12545,12745],filename:"pattern.mjs",lineno:359,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100011882",name:"Pattern#splitQueries",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:`<p>Returns a new pattern, with queries split at cycle boundaries. This makes
some calculations easier to express, as all haps are then constrained to
happen within a cycle.</p>`,returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"splitQueries",longname:"Pattern#splitQueries",kind:"function",memberof:"Pattern",scope:"instance",params:[]},{comment:`/**
   * Returns a new pattern, where the given function is applied to the query
   * timespan before passing it to the original pattern.
   * @param {Function} func the function to apply
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[12988,13082],filename:"pattern.mjs",lineno:374,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100011922",name:"Pattern#withQuerySpan",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:`<p>Returns a new pattern, where the given function is applied to the query
timespan before passing it to the original pattern.</p>`,params:[{type:{names:["function"]},description:"<p>the function to apply</p>",name:"func"}],returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"withQuerySpan",longname:"Pattern#withQuerySpan",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * As with {@link Pattern#withQuerySpan}, but the function is applied to both the
   * begin and end time of the query timespan.
   * @param {Function} func the function to apply
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[13556,13675],filename:"pattern.mjs",lineno:396,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100011978",name:"Pattern#withQueryTime",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:`<p>As with {@link Pattern#withQuerySpan}, but the function is applied to both the
begin and end time of the query timespan.</p>`,params:[{type:{names:["function"]},description:"<p>the function to apply</p>",name:"func"}],returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"withQueryTime",longname:"Pattern#withQueryTime",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Similar to {@link Pattern#withQuerySpan}, but the function is applied to the timespans
   * of all haps returned by pattern queries (both \`part\` timespans, and where
   * present, \`whole\` timespans).
   * @param {Function} func
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[13967,14077],filename:"pattern.mjs",lineno:408,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012003",name:"Pattern#withHapSpan",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:`<p>Similar to {@link Pattern#withQuerySpan}, but the function is applied to the timespans
of all haps returned by pattern queries (both <code>part</code> timespans, and where
present, <code>whole</code> timespans).</p>`,params:[{type:{names:["function"]},name:"func"}],returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"withHapSpan",longname:"Pattern#withHapSpan",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * As with {@link Pattern#withHapSpan}, but the function is applied to both the
   * begin and end time of the hap timespans.
   * @param {Function} func the function to apply
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[14314,14397],filename:"pattern.mjs",lineno:419,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012028",name:"Pattern#withHapTime",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:`<p>As with {@link Pattern#withHapSpan}, but the function is applied to both the
begin and end time of the hap timespans.</p>`,params:[{type:{names:["function"]},description:"<p>the function to apply</p>",name:"func"}],returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"withHapTime",longname:"Pattern#withHapTime",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Returns a new pattern with the given function applied to the list of haps returned by every query.
   * @param {Function} func
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[14588,14668],filename:"pattern.mjs",lineno:429,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012045",name:"Pattern#withHaps",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:"<p>Returns a new pattern with the given function applied to the list of haps returned by every query.</p>",params:[{type:{names:["function"]},name:"func"}],returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"withHaps",longname:"Pattern#withHaps",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * As with {@link Pattern#withHaps}, but applies the function to every hap, rather than every list of haps.
   * @param {Function} func
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[14865,14936],filename:"pattern.mjs",lineno:439,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012062",name:"Pattern#withHap",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:"<p>As with {@link Pattern#withHaps}, but applies the function to every hap, rather than every list of haps.</p>",params:[{type:{names:["function"]},name:"func"}],returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"withHap",longname:"Pattern#withHap",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Returns a new pattern with the context field set to every hap set to the given value.
   * @param {*} context
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[15110,15194],filename:"pattern.mjs",lineno:449,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012079",name:"Pattern#setContext",type:"MethodDefinition",paramnames:["context"]},vars:{"":null}},description:"<p>Returns a new pattern with the context field set to every hap set to the given value.</p>",params:[{type:{names:["*"]},name:"context"}],returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"setContext",longname:"Pattern#setContext",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Returns a new pattern with the given function applied to the context field of every hap.
   * @param {Function} func
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[15375,15467],filename:"pattern.mjs",lineno:459,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012096",name:"Pattern#withContext",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:"<p>Returns a new pattern with the given function applied to the context field of every hap.</p>",params:[{type:{names:["function"]},name:"func"}],returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"withContext",longname:"Pattern#withContext",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Returns a new pattern with the context field of every hap set to an empty object.
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[15613,15687],filename:"pattern.mjs",lineno:468,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012117",name:"Pattern#stripContext",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:"<p>Returns a new pattern with the context field of every hap set to an empty object.</p>",returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"stripContext",longname:"Pattern#stripContext",kind:"function",memberof:"Pattern",scope:"instance",params:[]},{comment:`/**
   * Returns a new pattern with the given location information added to the
   * context of every hap.
   * @param {Number} start start offset
   * @param {Number} end end offset
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[15925,16165],filename:"pattern.mjs",lineno:480,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012133",name:"Pattern#withLoc",type:"MethodDefinition",paramnames:["start","end"]},vars:{"":null}},description:`<p>Returns a new pattern with the given location information added to the
context of every hap.</p>`,params:[{type:{names:["Number"]},description:"<p>start offset</p>",name:"start"},{type:{names:["Number"]},description:"<p>end offset</p>",name:"end"}],returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"withLoc",longname:"Pattern#withLoc",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Returns a new Pattern, which only returns haps that meet the given test.
   * @param {Function} hap_test - a function which returns false for haps to be removed from the pattern
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[16407,16504],filename:"pattern.mjs",lineno:497,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012174",name:"Pattern#filterHaps",type:"MethodDefinition",paramnames:["hap_test"]},vars:{"":null}},description:"<p>Returns a new Pattern, which only returns haps that meet the given test.</p>",params:[{type:{names:["function"]},description:"<p>a function which returns false for haps to be removed from the pattern</p>",name:"hap_test"}],returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"filterHaps",longname:"Pattern#filterHaps",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * As with {@link Pattern#filterHaps}, but the function is applied to values
   * inside haps.
   * @param {Function} value_test
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[16694,16817],filename:"pattern.mjs",lineno:508,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012193",name:"Pattern#filterValues",type:"MethodDefinition",paramnames:["value_test"]},vars:{"":null}},description:`<p>As with {@link Pattern#filterHaps}, but the function is applied to values
inside haps.</p>`,params:[{type:{names:["function"]},name:"value_test"}],returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"filterValues",longname:"Pattern#filterValues",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Returns a new pattern, with haps containing undefined values removed from
   * query results.
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[16975,17056],filename:"pattern.mjs",lineno:518,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012218",name:"Pattern#removeUndefineds",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:`<p>Returns a new pattern, with haps containing undefined values removed from
query results.</p>`,returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"removeUndefineds",longname:"Pattern#removeUndefineds",kind:"function",memberof:"Pattern",scope:"instance",params:[]},{comment:`/**
   * Returns a new pattern, with all haps without onsets filtered out. A hap
   * with an onset is one with a \`whole\` timespan that begins at the same time
   * as its \`part\` timespan.
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[17300,17565],filename:"pattern.mjs",lineno:529,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012232",name:"Pattern#onsetsOnly",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:`<p>Returns a new pattern, with all haps without onsets filtered out. A hap
with an onset is one with a <code>whole</code> timespan that begins at the same time
as its <code>part</code> timespan.</p>`,returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"onsetsOnly",longname:"Pattern#onsetsOnly",kind:"function",memberof:"Pattern",scope:"instance",params:[]},{comment:`/**
   * Returns a new pattern, with 'continuous' haps (those without 'whole'
   * timespans) removed from query results.
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[17742,17876],filename:"pattern.mjs",lineno:542,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012247",name:"Pattern#discreteOnly",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:`<p>Returns a new pattern, with 'continuous' haps (those without 'whole'
timespans) removed from query results.</p>`,returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"discreteOnly",longname:"Pattern#discreteOnly",kind:"function",memberof:"Pattern",scope:"instance",params:[]},{comment:`/**
   * Combines adjacent haps with the same value and whole.  Only
   * intended for use in tests.
   * @noAutocomplete
   */`,meta:{range:[18010,19455],filename:"pattern.mjs",lineno:552,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012261",name:"Pattern#defragmentHaps",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:`<p>Combines adjacent haps with the same value and whole.  Only
intended for use in tests.</p>`,tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"defragmentHaps",longname:"Pattern#defragmentHaps",kind:"function",memberof:"Pattern",scope:"instance",params:[]},{comment:`/**
   * Queries the pattern for the first cycle, returning Haps. Mainly of use when
   * debugging a pattern.
   * @param {Boolean} with_context - set to true, otherwise the context field
   * will be stripped from the resulting haps.
   * @returns [Hap]
   * @noAutocomplete
   */`,meta:{range:[19744,19942],filename:"pattern.mjs",lineno:607,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012492",name:"Pattern#firstCycle",type:"MethodDefinition",paramnames:["with_context"]},vars:{"":null}},description:`<p>Queries the pattern for the first cycle, returning Haps. Mainly of use when
debugging a pattern.</p>`,params:[{type:{names:["Boolean"]},description:`<p>set to true, otherwise the context field
will be stripped from the resulting haps.</p>`,name:"with_context",defaultvalue:!1}],returns:[{description:"<p>[Hap]</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"firstCycle",longname:"Pattern#firstCycle",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Accessor for a list of values returned by querying the first cycle.
   * @noAutocomplete
   */`,meta:{range:[20052,20134],filename:"pattern.mjs",lineno:619,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012529",name:"Pattern#firstCycleValues",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:"<p>Accessor for a list of values returned by querying the first cycle.</p>",tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"firstCycleValues",longname:"Pattern#firstCycleValues",kind:"member",memberof:"Pattern",scope:"instance",params:[]},{comment:`/**
   * More human-readable version of the {@link Pattern#firstCycleValues} accessor.
   * @noAutocomplete
   */`,meta:{range:[20254,20417],filename:"pattern.mjs",lineno:627,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012546",name:"Pattern#showFirstCycle",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:"<p>More human-readable version of the {@link Pattern#firstCycleValues} accessor.</p>",tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"showFirstCycle",longname:"Pattern#showFirstCycle",kind:"member",memberof:"Pattern",scope:"instance",params:[]},{comment:`/**
   * Returns a new pattern, which returns haps sorted in temporal order. Mainly
   * of use when comparing two patterns for equality, in tests.
   * @returns Pattern
   * @noAutocomplete
   */`,meta:{range:[20620,20893],filename:"pattern.mjs",lineno:639,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100012584",name:"Pattern#sortHapsByPart",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:`<p>Returns a new pattern, which returns haps sorted in temporal order. Mainly
of use when comparing two patterns for equality, in tests.</p>`,returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"sortHapsByPart",longname:"Pattern#sortHapsByPart",kind:"function",memberof:"Pattern",scope:"instance",params:[]},{comment:`/**
   * Layers the result of the given function(s). Like {@link Pattern.superimpose}, but without the original pattern:
   * @name layer
   * @memberof Pattern
   * @synonyms apply
   * @returns Pattern
   * @example
   * "<0 2 4 6 ~ 4 ~ 2 0!3 ~!5>*4"
   *   .layer(x=>x.add("0,2"))
   *   .scale('C minor').note()
   */`,meta:{filename:"pattern.mjs",lineno:693,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Layers the result of the given function(s). Like {@link Pattern.superimpose}, but without the original pattern:</p>",name:"layer",memberof:"Pattern",synonyms_text:"apply",synonyms:["apply"],returns:[{description:"<p>Pattern</p>"}],examples:[`"<0 2 4 6 ~ 4 ~ 2 0!3 ~!5>*4"
  .layer(x=>x.add("0,2"))
  .scale('C minor').note()`],scope:"static",longname:"Pattern.layer",kind:"member"},{comment:`/**
   * Superimposes the result of the given function(s) on top of the original pattern:
   * @name superimpose
   * @memberof Pattern
   * @returns Pattern
   * @example
   * "<0 2 4 6 ~ 4 ~ 2 0!3 ~!5>*4"
   *   .superimpose(x=>x.add(2))
   *   .scale('C minor').note()
   */`,meta:{filename:"pattern.mjs",lineno:708,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Superimposes the result of the given function(s) on top of the original pattern:</p>",name:"superimpose",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`"<0 2 4 6 ~ 4 ~ 2 0!3 ~!5>*4"
  .superimpose(x=>x.add(2))
  .scale('C minor').note()`],scope:"static",longname:"Pattern.superimpose",kind:"member"},{comment:`/**
   * Stacks the given pattern(s) to the current pattern.
   * @name stack
   * @memberof Pattern
   * @example
   * s("hh*2").stack(
   *   note("c2(3,8)")
   * )
   */`,meta:{filename:"pattern.mjs",lineno:725,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Stacks the given pattern(s) to the current pattern.</p>",name:"stack",memberof:"Pattern",examples:[`s("hh*2").stack(
  note("c2(3,8)")
)`],scope:"static",longname:"Pattern.stack",kind:"member"},{comment:`/**
   * Appends the given pattern(s) to the current pattern.
   * @name seq
   * @memberof Pattern
   * @synonyms sequence, fastcat
   * @example
   * s("hh*2").seq(
   *   note("c2(3,8)")
   * )
   */`,meta:{filename:"pattern.mjs",lineno:742,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Appends the given pattern(s) to the current pattern.</p>",name:"seq",memberof:"Pattern",synonyms_text:"sequence, fastcat",synonyms:["sequence","fastcat"],examples:[`s("hh*2").seq(
  note("c2(3,8)")
)`],scope:"static",longname:"Pattern.seq",kind:"member"},{comment:`/**
   * Appends the given pattern(s) to the next cycle.
   * @name cat
   * @memberof Pattern
   * @synonyms slowcat
   * @example
   * s("hh*2").cat(
   *   note("c2(3,8)")
   * )
   */`,meta:{filename:"pattern.mjs",lineno:756,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Appends the given pattern(s) to the next cycle.</p>",name:"cat",memberof:"Pattern",synonyms_text:"slowcat",synonyms:["slowcat"],examples:[`s("hh*2").cat(
  note("c2(3,8)")
)`],scope:"static",longname:"Pattern.cat",kind:"member"},{comment:`/**
 * Selects indices in in stacked notes.
 * @example
 * note("<[c,eb,g]!2 [c,f,ab] [d,f,ab]>")
 * .arpWith(haps => haps[2])
 * */`,meta:{range:[26350,26560],filename:"pattern.mjs",lineno:850,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100013205",name:"Pattern.prototype.arpWith",type:"FunctionExpression",paramnames:["func"]},vars:{"":null}},description:"<p>Selects indices in in stacked notes.</p>",examples:[`note("<[c,eb,g]!2 [c,f,ab] [d,f,ab]>")
.arpWith(haps => haps[2])`],name:"arpWith",longname:"Pattern#arpWith",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
 * Selects indices in in stacked notes.
 * @example
 * note("<[c,eb,g]!2 [c,f,ab] [d,f,ab]>")
 * .arp("0 [0,2] 1 [0,2]").slow(2)
 * */`,meta:{range:[26702,26817],filename:"pattern.mjs",lineno:863,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100013258",name:"Pattern.prototype.arp",type:"FunctionExpression",paramnames:["pat"]},vars:{"":null}},description:"<p>Selects indices in in stacked notes.</p>",examples:[`note("<[c,eb,g]!2 [c,f,ab] [d,f,ab]>")
.arp("0 [0,2] 1 [0,2]").slow(2)`],name:"arp",longname:"Pattern#arp",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
     *
     * Assumes a pattern of numbers. Adds the given number to each item in the pattern.
     * @name add
     * @memberof Pattern
     * @example
     * // Here, the triad 0, 2, 4 is shifted by different amounts
     * "0 2 4".add("<0 3 4 0>").scale('C major').note()
     * // Without add, the equivalent would be:
     * // "<[0 2 4] [3 5 7] [4 6 8] [0 2 4]>".scale('C major').note()
     * @example
     * // You can also use add with notes:
     * "c3 e3 g3".add("<0 5 7 0>").note()
     * // Behind the scenes, the notes are converted to midi numbers:
     * // "48 52 55".add("<0 5 7 0>").note()
     */`,meta:{filename:"pattern.mjs",lineno:925,columnno:4,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Assumes a pattern of numbers. Adds the given number to each item in the pattern.</p>",name:"add",memberof:"Pattern",examples:[`// Here, the triad 0, 2, 4 is shifted by different amounts
"0 2 4".add("<0 3 4 0>").scale('C major').note()
// Without add, the equivalent would be:
// "<[0 2 4] [3 5 7] [4 6 8] [0 2 4]>".scale('C major').note()`,`// You can also use add with notes:
"c3 e3 g3".add("<0 5 7 0>").note()
// Behind the scenes, the notes are converted to midi numbers:
// "48 52 55".add("<0 5 7 0>").note()`],scope:"static",longname:"Pattern.add",kind:"member"},{comment:`/**
     *
     * Like add, but the given numbers are subtracted.
     * @name sub
     * @memberof Pattern
     * @example
     * "0 2 4".sub("<0 1 2 3>").scale('C4 minor').note()
     * // See add for more information.
     */`,meta:{filename:"pattern.mjs",lineno:942,columnno:4,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Like add, but the given numbers are subtracted.</p>",name:"sub",memberof:"Pattern",examples:[`"0 2 4".sub("<0 1 2 3>").scale('C4 minor').note()
// See add for more information.`],scope:"static",longname:"Pattern.sub",kind:"member"},{comment:`/**
     *
     * Multiplies each number by the given factor.
     * @name mul
     * @memberof Pattern
     * @example
     * "1 1.5 [1.66, <2 2.33>]".mul(150).freq()
     */`,meta:{filename:"pattern.mjs",lineno:952,columnno:4,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Multiplies each number by the given factor.</p>",name:"mul",memberof:"Pattern",examples:['"1 1.5 [1.66, <2 2.33>]".mul(150).freq()'],scope:"static",longname:"Pattern.mul",kind:"member"},{comment:`/**
     *
     * Divides each number by the given factor.
     * @name div
     * @memberof Pattern
     */`,meta:{filename:"pattern.mjs",lineno:961,columnno:4,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Divides each number by the given factor.</p>",name:"div",memberof:"Pattern",scope:"static",longname:"Pattern.div",kind:"member"},{comment:`/**
   * Applies the given structure to the pattern:
   *
   * @example
   * note("c3,eb3,g3")
   *   .struct("x ~ x ~ ~ x ~ x ~ ~ ~ x ~ x ~ ~")
   *   .slow(4)
   */`,meta:{range:[32715,32803],filename:"pattern.mjs",lineno:1056,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100013784",name:"Pattern.prototype.struct",type:"FunctionExpression",paramnames:["args"]}},description:"<p>Applies the given structure to the pattern:</p>",examples:[`note("c3,eb3,g3")
  .struct("x ~ x ~ ~ x ~ x ~ ~ ~ x ~ x ~ ~")
  .slow(4)`],name:"struct",longname:"Pattern#struct",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Returns silence when mask is 0 or "~"
   *
   * @example
   * note("c [eb,g] d [eb,g]").mask("<1 [0 1]>").slow(2)
   */`,meta:{range:[33031,33116],filename:"pattern.mjs",lineno:1068,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100013824",name:"Pattern.prototype.mask",type:"FunctionExpression",paramnames:["args"]}},description:"<p>Returns silence when mask is 0 or &quot;~&quot;</p>",examples:['note("c [eb,g] d [eb,g]").mask("<1 [0 1]>").slow(2)'],name:"mask",longname:"Pattern#mask",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Resets the pattern to the start of the cycle for each onset of the reset pattern.
   *
   * @example
   * s("<bd lt> sd, hh*4").reset("<x@3 x(3,8)>")
   */`,meta:{range:[33377,33465],filename:"pattern.mjs",lineno:1080,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100013864",name:"Pattern.prototype.reset",type:"FunctionExpression",paramnames:["args"]}},description:"<p>Resets the pattern to the start of the cycle for each onset of the reset pattern.</p>",examples:['s("<bd lt> sd, hh*4").reset("<x@3 x(3,8)>")'],name:"reset",longname:"Pattern#reset",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
   * Restarts the pattern for each onset of the restart pattern.
   * While reset will only reset the current cycle, restart will start from cycle 0.
   *
   * @example
   * s("<bd lt> sd, hh*4").restart("<x@3 x(3,8)>")
   */`,meta:{range:[33794,33888],filename:"pattern.mjs",lineno:1093,columnno:2,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100013904",name:"Pattern.prototype.restart",type:"FunctionExpression",paramnames:["args"]}},description:`<p>Restarts the pattern for each onset of the restart pattern.
While reset will only reset the current cycle, restart will start from cycle 0.</p>`,examples:['s("<bd lt> sd, hh*4").restart("<x@3 x(3,8)>")'],name:"restart",longname:"Pattern#restart",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
 * Does absolutely nothing..
 * @name silence
 * @example
 * silence // "~"
 */`,meta:{filename:"pattern.mjs",lineno:1127,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Does absolutely nothing..</p>",name:"silence",examples:['silence // "~"'],longname:"silence",kind:"member",scope:"global"},{comment:`/** A discrete value that repeats once per cycle.
 *
 * @returns {Pattern}
 * @example
 * pure('e4') // "e4"
 * @noAutocomplete
 */`,meta:{range:[34813,35017],filename:"pattern.mjs",lineno:1142,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100013998",name:"exports.pure",type:"FunctionDeclaration",paramnames:["value"]}},description:"<p>A discrete value that repeats once per cycle.</p>",returns:[{type:{names:["Pattern"]}}],examples:[`pure('e4') // "e4"`],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"pure",longname:"pure",kind:"function",scope:"global"},{comment:`/** The given items are played at the same time at the same length.
 *
 * @return {Pattern}
 * @synonyms polyrhythm, pr
 * @example
 * stack("g3", "b3", ["e4", "d4"]).note() // "g3,b3,[e4,d4]".note()
 */`,meta:{range:[36175,36448],filename:"pattern.mjs",lineno:1183,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100014077",name:"exports.stack",type:"FunctionDeclaration",paramnames:["pats"]}},description:"<p>The given items are played at the same time at the same length.</p>",returns:[{type:{names:["Pattern"]}}],synonyms_text:"polyrhythm, pr",synonyms:["polyrhythm","pr"],examples:['stack("g3", "b3", ["e4", "d4"]).note() // "g3,b3,[e4,d4]".note()'],name:"stack",longname:"stack",kind:"function",scope:"global"},{comment:`/** Concatenation: combines a list of patterns, switching between them successively, one per cycle:
 *
 * synonyms: {@link cat}
 *
 * @return {Pattern}
 * @example
 * slowcat("e5", "b4", ["d5", "c5"])
 *
 */`,meta:{range:[36658,37569],filename:"pattern.mjs",lineno:1199,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100014127",name:"exports.slowcat",type:"FunctionDeclaration",paramnames:["pats"]}},description:`<p>Concatenation: combines a list of patterns, switching between them successively, one per cycle:</p>
<p>synonyms: {@link cat}</p>`,returns:[{type:{names:["Pattern"]}}],examples:['slowcat("e5", "b4", ["d5", "c5"])'],name:"slowcat",longname:"slowcat",kind:"function",scope:"global"},{comment:`/** Concatenation: combines a list of patterns, switching between them successively, one per cycle. Unlike slowcat, this version will skip cycles.
 * @param {...any} items - The items to concatenate
 * @return {Pattern}
 */`,meta:{range:[37795,38168],filename:"pattern.mjs",lineno:1224,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100014254",name:"exports.slowcatPrime",type:"FunctionDeclaration",paramnames:["pats"]}},description:"<p>Concatenation: combines a list of patterns, switching between them successively, one per cycle. Unlike slowcat, this version will skip cycles.</p>",params:[{type:{names:["any"]},variable:!0,description:"<p>The items to concatenate</p>",name:"items"}],returns:[{type:{names:["Pattern"]}}],name:"slowcatPrime",longname:"slowcatPrime",kind:"function",scope:"global"},{comment:`/** The given items are con**cat**enated, where each one takes one cycle.
 *
 * @param {...any} items - The items to concatenate
 * @synonyms slowcat
 * @return {Pattern}
 * @example
 * cat("e5", "b4", ["d5", "c5"]).note() // "<e5 b4 [d5 c5]>".note()
 *
 */`,meta:{range:[38428,38487],filename:"pattern.mjs",lineno:1243,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100014307",name:"exports.cat",type:"FunctionDeclaration",paramnames:["pats"]}},description:"<p>The given items are con<strong>cat</strong>enated, where each one takes one cycle.</p>",params:[{type:{names:["any"]},variable:!0,description:"<p>The items to concatenate</p>",name:"items"}],synonyms_text:"slowcat",synonyms:["slowcat"],returns:[{type:{names:["Pattern"]}}],examples:['cat("e5", "b4", ["d5", "c5"]).note() // "<e5 b4 [d5 c5]>".note()'],name:"cat",longname:"cat",kind:"function",scope:"global"},{comment:`/** Like {@link Pattern.seq}, but each step has a length, relative to the whole.
 * @return {Pattern}
 * @example
 * timeCat([3,"e3"],[1, "g3"]).note() // "e3@3 g3".note()
 */`,meta:{range:[38665,39024],filename:"pattern.mjs",lineno:1252,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100014318",name:"exports.timeCat",type:"FunctionDeclaration",paramnames:["timepats"]}},description:"<p>Like {@link Pattern.seq}, but each step has a length, relative to the whole.</p>",returns:[{type:{names:["Pattern"]}}],examples:['timeCat([3,"e3"],[1, "g3"]).note() // "e3@3 g3".note()'],name:"timeCat",longname:"timeCat",kind:"function",scope:"global"},{comment:`/**
 * Allows to arrange multiple patterns together over multiple cycles.
 * Takes a variable number of arrays with two elements specifying the number of cycles and the pattern to use.
 *
 * @return {Pattern}
 * @example
 * arrange([4, "<c a f e>(3,8)"],[2, "<g a>(5,8)"]).note()
 */`,meta:{range:[39310,39544],filename:"pattern.mjs",lineno:1272,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100014404",name:"exports.arrange",type:"FunctionDeclaration",paramnames:["sections"]}},description:`<p>Allows to arrange multiple patterns together over multiple cycles.
Takes a variable number of arrays with two elements specifying the number of cycles and the pattern to use.</p>`,returns:[{type:{names:["Pattern"]}}],examples:['arrange([4, "<c a f e>(3,8)"],[2, "<g a>(5,8)"]).note()'],name:"arrange",longname:"arrange",kind:"function",scope:"global"},{comment:"/** See {@link fastcat} */",meta:{range:[39657,39721],filename:"pattern.mjs",lineno:1283,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100014466",name:"exports.sequence",type:"FunctionDeclaration",paramnames:["pats"]}},description:"<p>See {@link fastcat}</p>",name:"sequence",longname:"sequence",kind:"function",scope:"global"},{comment:`/** Like **cat**, but the items are crammed into one cycle.
 * @synonyms fastcat, sequence
 * @example
 * seq("e5", "b4", ["d5", "c5"]).note() // "e5 b4 [d5 c5]".note()
 *
 */`,meta:{range:[39899,39958],filename:"pattern.mjs",lineno:1293,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100014477",name:"exports.seq",type:"FunctionDeclaration",paramnames:["pats"]}},description:"<p>Like <strong>cat</strong>, but the items are crammed into one cycle.</p>",synonyms_text:"fastcat, sequence",synonyms:["fastcat","sequence"],examples:['seq("e5", "b4", ["d5", "c5"]).note() // "e5 b4 [d5 c5]".note()'],name:"seq",longname:"seq",kind:"function",scope:"global"},{comment:`/**
 * Aligns one or more given sequences to the given number of steps per cycle.
 *
 * @name polymeterSteps
 * @param  {number} steps how many items are placed in one cycle
 * @param  {any[]} sequences one or more arrays of Patterns / values
 * @example
 * polymeterSteps(2, ["c", "d", "e", "f", "g", "f", "e", "d"])
 * .note().stack(s("bd")) // 1 cycle = 1 bd = 2 notes
 * // note("{c d e f g f e d}%2").stack(s("bd"))
 */`,meta:{filename:"pattern.mjs",lineno:1309,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Aligns one or more given sequences to the given number of steps per cycle.</p>",name:"polymeterSteps",params:[{type:{names:["number"]},description:"<p>how many items are placed in one cycle</p>",name:"steps"},{type:{names:["Array.<any>"]},description:"<p>one or more arrays of Patterns / values</p>",name:"sequences"}],examples:[`polymeterSteps(2, ["c", "d", "e", "f", "g", "f", "e", "d"])
.note().stack(s("bd")) // 1 cycle = 1 bd = 2 notes
// note("{c d e f g f e d}%2").stack(s("bd"))`],longname:"polymeterSteps",kind:"member",scope:"global"},{comment:`/**
 * Combines the given lists of patterns with the same pulse. This will create so called polymeters when different sized sequences are used.
 * @synonyms pm
 * @example
 * polymeter(["c", "eb", "g"], ["c2", "g2"]).note()
 * // "{c eb g, c2 g2}".note()
 *
 */`,meta:{range:[41390,41465],filename:"pattern.mjs",lineno:1350,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100014650",name:"exports.polymeter",type:"FunctionDeclaration",paramnames:["args"]}},description:"<p>Combines the given lists of patterns with the same pulse. This will create so called polymeters when different sized sequences are used.</p>",synonyms_text:"pm",synonyms:["pm"],examples:[`polymeter(["c", "eb", "g"], ["c2", "g2"]).note()
// "{c eb g, c2 g2}".note()`],name:"polymeter",longname:"polymeter",kind:"function",scope:"global"},{comment:`/**
 * Registers a new pattern method. The method is added to the Pattern class + the standalone function is returned from register.
 *
 * @param {string} name name of the function
 * @param {function} func function with 1 or more params, where last is the current pattern
 * @noAutocomplete
 *
 */`,meta:{range:[43312,45290],filename:"pattern.mjs",lineno:1393,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100015111",name:"exports.register",type:"FunctionDeclaration",paramnames:["name","func","patternify"]}},description:"<p>Registers a new pattern method. The method is added to the Pattern class + the standalone function is returned from register.</p>",params:[{type:{names:["string"]},description:"<p>name of the function</p>",name:"name"},{type:{names:["function"]},description:"<p>function with 1 or more params, where last is the current pattern</p>",name:"func"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"register",longname:"register",kind:"function",scope:"global"},{comment:`/**
 * Assumes a numerical pattern. Returns a new pattern with all values rounded
 * to the nearest integer.
 * @name round
 * @memberof Pattern
 * @returns Pattern
 * @example
 * "0.5 1.5 2.5".round().scale('C major').note()
 */`,meta:{filename:"pattern.mjs",lineno:1459,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Assumes a numerical pattern. Returns a new pattern with all values rounded
to the nearest integer.</p>`,name:"round",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`"0.5 1.5 2.5".round().scale('C major').note()`],scope:"static",longname:"Pattern.round",kind:"member"},{comment:`/**
 * Assumes a numerical pattern. Returns a new pattern with all values set to
 * their mathematical floor. E.g. \`3.7\` replaced with to \`3\`, and \`-4.2\`
 * replaced with \`-5\`.
 * @name floor
 * @memberof Pattern
 * @returns Pattern
 * @example
 * "42 42.1 42.5 43".floor().note()
 */`,meta:{filename:"pattern.mjs",lineno:1472,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Assumes a numerical pattern. Returns a new pattern with all values set to
their mathematical floor. E.g. <code>3.7</code> replaced with to <code>3</code>, and <code>-4.2</code>
replaced with <code>-5</code>.</p>`,name:"floor",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['"42 42.1 42.5 43".floor().note()'],scope:"static",longname:"Pattern.floor",kind:"member"},{comment:`/**
 * Assumes a numerical pattern. Returns a new pattern with all values set to
 * their mathematical ceiling. E.g. \`3.2\` replaced with \`4\`, and \`-4.2\`
 * replaced with \`-4\`.
 * @name ceil
 * @memberof Pattern
 * @returns Pattern
 * @example
 * "42 42.1 42.5 43".ceil().note()
 */`,meta:{filename:"pattern.mjs",lineno:1486,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Assumes a numerical pattern. Returns a new pattern with all values set to
their mathematical ceiling. E.g. <code>3.2</code> replaced with <code>4</code>, and <code>-4.2</code>
replaced with <code>-4</code>.</p>`,name:"ceil",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['"42 42.1 42.5 43".ceil().note()'],scope:"static",longname:"Pattern.ceil",kind:"member"},{comment:`/**
 * Assumes a numerical pattern, containing unipolar values in the range 0 ..
 * 1. Returns a new pattern with values scaled to the bipolar range -1 .. 1
 * @returns Pattern
 * @noAutocomplete
 */`,meta:{range:[46725,46829],filename:"pattern.mjs",lineno:1505,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100015465",name:"exports.toBipolar",type:"VariableDeclaration"}},description:`<p>Assumes a numerical pattern, containing unipolar values in the range 0 ..</p>
<ol>
<li>Returns a new pattern with values scaled to the bipolar range -1 .. 1</li>
</ol>`,returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"toBipolar",longname:"toBipolar",kind:"constant",scope:"global"},{comment:`/**
 * Assumes a numerical pattern, containing bipolar values in the range -1 .. 1
 * Returns a new pattern with values scaled to the unipolar range 0 .. 1
 * @returns Pattern
 * @noAutocomplete
 */`,meta:{range:[47030,47140],filename:"pattern.mjs",lineno:1515,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100015487",name:"exports.fromBipolar",type:"VariableDeclaration"}},description:`<p>Assumes a numerical pattern, containing bipolar values in the range -1 .. 1
Returns a new pattern with values scaled to the unipolar range 0 .. 1</p>`,returns:[{description:"<p>Pattern</p>"}],tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"fromBipolar",longname:"fromBipolar",kind:"constant",scope:"global"},{comment:`/**
 * Assumes a numerical pattern, containing unipolar values in the range 0 .. 1.
 * Returns a new pattern with values scaled to the given min/max range.
 * Most useful in combination with continuous patterns.
 * @name range
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("bd sd,hh*4").cutoff(sine.range(500,2000).slow(4))
 */`,meta:{filename:"pattern.mjs",lineno:1519,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Assumes a numerical pattern, containing unipolar values in the range 0 .. 1.
Returns a new pattern with values scaled to the given min/max range.
Most useful in combination with continuous patterns.</p>`,name:"range",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("bd sd,hh*4").cutoff(sine.range(500,2000).slow(4))'],scope:"static",longname:"Pattern.range",kind:"member"},{comment:`/**
 * Assumes a numerical pattern, containing unipolar values in the range 0 .. 1
 * Returns a new pattern with values scaled to the given min/max range,
 * following an exponential curve.
 * @name rangex
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("bd sd,hh*4").cutoff(sine.rangex(500,2000).slow(4))
 */`,meta:{filename:"pattern.mjs",lineno:1533,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Assumes a numerical pattern, containing unipolar values in the range 0 .. 1
Returns a new pattern with values scaled to the given min/max range,
following an exponential curve.</p>`,name:"rangex",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("bd sd,hh*4").cutoff(sine.rangex(500,2000).slow(4))'],scope:"static",longname:"Pattern.rangex",kind:"member"},{comment:`/**
 * Assumes a numerical pattern, containing bipolar values in the range -1 .. 1
 * Returns a new pattern with values scaled to the given min/max range.
 * @name range2
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("bd sd,hh*4").cutoff(sine2.range2(500,2000).slow(4))
 */`,meta:{filename:"pattern.mjs",lineno:1547,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Assumes a numerical pattern, containing bipolar values in the range -1 .. 1
Returns a new pattern with values scaled to the given min/max range.</p>`,name:"range2",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("bd sd,hh*4").cutoff(sine2.range2(500,2000).slow(4))'],scope:"static",longname:"Pattern.range2",kind:"member"},{comment:`/**
 * Allows dividing numbers via list notation using ":".
 * Returns a new pattern with just numbers.
 * @name ratio
 * @memberof Pattern
 * @returns Pattern
 * @example
 * ratio("1, 5:4, 3:2").mul(110).freq().s("piano").slow(2)
 */`,meta:{filename:"pattern.mjs",lineno:1560,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Allows dividing numbers via list notation using &quot;:&quot;.
Returns a new pattern with just numbers.</p>`,name:"ratio",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['ratio("1, 5:4, 3:2").mul(110).freq().s("piano").slow(2)'],scope:"static",longname:"Pattern.ratio",kind:"member"},{comment:`/** Compress each cycle into the given timespan, leaving a gap
 * @example
 * cat(
 *   s("bd sd").compress(.25,.75),
 *   s("~ bd sd ~")
 * )
 */`,meta:{range:[49137,49390],filename:"pattern.mjs",lineno:1588,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100015632",name:"exports.compress",type:"VariableDeclaration"}},description:"<p>Compress each cycle into the given timespan, leaving a gap</p>",examples:[`cat(
  s("bd sd").compress(.25,.75),
  s("~ bd sd ~")
)`],name:"compress",longname:"compress",kind:"constant",scope:"global"},{comment:`/**
 * speeds up a pattern like fast, but rather than it playing multiple times as fast would it instead leaves a gap in the remaining space of the cycle. For example, the following will play the sound pattern "bd sn" only once but compressed into the first half of the cycle, i.e. twice as fast.
 * @name fastGap
 * @synonyms fastgap
 * @example
 * s("bd sd").fastGap(2)
 */`,meta:{filename:"pattern.mjs",lineno:1601,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>speeds up a pattern like fast, but rather than it playing multiple times as fast would it instead leaves a gap in the remaining space of the cycle. For example, the following will play the sound pattern &quot;bd sn&quot; only once but compressed into the first half of the cycle, i.e. twice as fast.</p>",name:"fastGap",synonyms_text:"fastgap",synonyms:["fastgap"],examples:['s("bd sd").fastGap(2)'],longname:"fastGap",kind:"member",scope:"global"},{comment:`/**
 * Similar to compress, but doesn't leave gaps, and the 'focus' can be bigger than a cycle
 * @example
 * s("bd hh sd hh").focus(1/4, 3/4)
 */`,meta:{range:[51279,51448],filename:"pattern.mjs",lineno:1643,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100015974",name:"exports.focus",type:"VariableDeclaration"}},description:"<p>Similar to compress, but doesn't leave gaps, and the 'focus' can be bigger than a cycle</p>",examples:['s("bd hh sd hh").focus(1/4, 3/4)'],name:"focus",longname:"focus",kind:"constant",scope:"global"},{comment:`/** The ply function repeats each event the given number of times.
 * @example
 * s("bd ~ sd cp").ply("<1 2 3>")
 */`,meta:{range:[51715,51841],filename:"pattern.mjs",lineno:1657,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016049",name:"exports.ply",type:"VariableDeclaration"}},description:"<p>The ply function repeats each event the given number of times.</p>",examples:['s("bd ~ sd cp").ply("<1 2 3>")'],name:"ply",longname:"ply",kind:"constant",scope:"global"},{comment:`/**
 * Speed up a pattern by the given factor. Used by "*" in mini notation.
 *
 * @name fast
 * @synonyms density
 * @memberof Pattern
 * @param {number | Pattern} factor speed up factor
 * @returns Pattern
 * @example
 * s("<bd sd> hh").fast(2) // s("[<bd sd> hh]*2")
 */`,meta:{filename:"pattern.mjs",lineno:1661,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Speed up a pattern by the given factor. Used by &quot;*&quot; in mini notation.</p>",name:"fast",synonyms_text:"density",synonyms:["density"],memberof:"Pattern",params:[{type:{names:["number","Pattern"]},description:"<p>speed up factor</p>",name:"factor"}],returns:[{description:"<p>Pattern</p>"}],examples:['s("<bd sd> hh").fast(2) // s("[<bd sd> hh]*2")'],scope:"static",longname:"Pattern.fast",kind:"member"},{comment:`/**
 * Both speeds up the pattern (like 'fast') and the sample playback (like 'speed').
 * @example
 * s("bd sd:2").hurry("<1 2 4 3>").slow(1.5)
 */`,meta:{range:[52549,52658],filename:"pattern.mjs",lineno:1686,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016133",name:"exports.hurry",type:"VariableDeclaration"}},description:"<p>Both speeds up the pattern (like 'fast') and the sample playback (like 'speed').</p>",examples:['s("bd sd:2").hurry("<1 2 4 3>").slow(1.5)'],name:"hurry",longname:"hurry",kind:"constant",scope:"global"},{comment:`/**
 * Slow down a pattern over the given number of cycles. Like the "/" operator in mini notation.
 *
 * @name slow
 * @synonyms sparsity
 * @memberof Pattern
 * @param {number | Pattern} factor slow down factor
 * @returns Pattern
 * @example
 * s("<bd sd> hh").slow(2) // s("[<bd sd> hh]/2")
 */`,meta:{filename:"pattern.mjs",lineno:1690,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Slow down a pattern over the given number of cycles. Like the &quot;/&quot; operator in mini notation.</p>",name:"slow",synonyms_text:"sparsity",synonyms:["sparsity"],memberof:"Pattern",params:[{type:{names:["number","Pattern"]},description:"<p>slow down factor</p>",name:"factor"}],returns:[{description:"<p>Pattern</p>"}],examples:['s("<bd sd> hh").slow(2) // s("[<bd sd> hh]/2")'],scope:"static",longname:"Pattern.slow",kind:"member"},{comment:`/**
 * Carries out an operation 'inside' a cycle.
 * @example
 * "0 1 2 3 4 3 2 1".inside(4, rev).scale('C major').note()
 * // "0 1 2 3 4 3 2 1".slow(4).rev().fast(4).scale('C major').note()
 */`,meta:{range:[53341,53458],filename:"pattern.mjs",lineno:1714,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016194",name:"exports.inside",type:"VariableDeclaration"}},description:"<p>Carries out an operation 'inside' a cycle.</p>",examples:[`"0 1 2 3 4 3 2 1".inside(4, rev).scale('C major').note()
// "0 1 2 3 4 3 2 1".slow(4).rev().fast(4).scale('C major').note()`],name:"inside",longname:"inside",kind:"constant",scope:"global"},{comment:`/**
 * Carries out an operation 'outside' a cycle.
 * @example
 * "<[0 1] 2 [3 4] 5>".outside(4, rev).scale('C major').note()
 * // "<[0 1] 2 [3 4] 5>".fast(4).rev().slow(4).scale('C major').note()
 */`,meta:{range:[53662,53781],filename:"pattern.mjs",lineno:1724,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016218",name:"exports.outside",type:"VariableDeclaration"}},description:"<p>Carries out an operation 'outside' a cycle.</p>",examples:[`"<[0 1] 2 [3 4] 5>".outside(4, rev).scale('C major').note()
// "<[0 1] 2 [3 4] 5>".fast(4).rev().slow(4).scale('C major').note()`],name:"outside",longname:"outside",kind:"constant",scope:"global"},{comment:`/**
 * Applies the given function every n cycles, starting from the last cycle.
 * @name lastOf
 * @memberof Pattern
 * @param {number} n how many cycles
 * @param {function} func function to apply
 * @returns Pattern
 * @example
 * note("c3 d3 e3 g3").lastOf(4, x=>x.rev())
 */`,meta:{filename:"pattern.mjs",lineno:1728,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Applies the given function every n cycles, starting from the last cycle.</p>",name:"lastOf",memberof:"Pattern",params:[{type:{names:["number"]},description:"<p>how many cycles</p>",name:"n"},{type:{names:["function"]},description:"<p>function to apply</p>",name:"func"}],returns:[{description:"<p>Pattern</p>"}],examples:['note("c3 d3 e3 g3").lastOf(4, x=>x.rev())'],scope:"static",longname:"Pattern.lastOf",kind:"member"},{comment:`/**
 * Applies the given function every n cycles, starting from the first cycle.
 * @name firstOf
 * @memberof Pattern
 * @param {number} n how many cycles
 * @param {function} func function to apply
 * @returns Pattern
 * @example
 * note("c3 d3 e3 g3").firstOf(4, x=>x.rev())
 */`,meta:{filename:"pattern.mjs",lineno:1744,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Applies the given function every n cycles, starting from the first cycle.</p>",name:"firstOf",memberof:"Pattern",params:[{type:{names:["number"]},description:"<p>how many cycles</p>",name:"n"},{type:{names:["function"]},description:"<p>function to apply</p>",name:"func"}],returns:[{description:"<p>Pattern</p>"}],examples:['note("c3 d3 e3 g3").firstOf(4, x=>x.rev())'],scope:"static",longname:"Pattern.firstOf",kind:"member"},{comment:`/**
 * An alias for {@link firstOf}
 * @name every
 * @memberof Pattern
 * @param {number} n how many cycles
 * @param {function} func function to apply
 * @returns Pattern
 * @example
 * note("c3 d3 e3 g3").every(4, x=>x.rev())
 */`,meta:{filename:"pattern.mjs",lineno:1755,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>An alias for {@link firstOf}</p>",name:"every",memberof:"Pattern",params:[{type:{names:["number"]},description:"<p>how many cycles</p>",name:"n"},{type:{names:["function"]},description:"<p>function to apply</p>",name:"func"}],returns:[{description:"<p>Pattern</p>"}],examples:['note("c3 d3 e3 g3").every(4, x=>x.rev())'],scope:"static",longname:"Pattern.every",kind:"member"},{comment:`/**
 * Like layer, but with a single function:
 * @name apply
 * @memberof Pattern
 * @example
 * "<c3 eb3 g3>".scale('C minor').apply(scaleTranspose("0,2,4")).note()
 */`,meta:{filename:"pattern.mjs",lineno:1771,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Like layer, but with a single function:</p>",name:"apply",memberof:"Pattern",examples:[`"<c3 eb3 g3>".scale('C minor').apply(scaleTranspose("0,2,4")).note()`],scope:"static",longname:"Pattern.apply",kind:"member"},{comment:`/**
 * Plays the pattern at the given cycles per minute.
 * @example
 * s("<bd sd>,hh*2").cpm(90) // = 90 bpm
 */`,meta:{range:[55372,55462],filename:"pattern.mjs",lineno:1789,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016337",name:"exports.cpm",type:"VariableDeclaration"}},description:"<p>Plays the pattern at the given cycles per minute.</p>",examples:['s("<bd sd>,hh*2").cpm(90) // = 90 bpm'],name:"cpm",longname:"cpm",kind:"constant",scope:"global"},{comment:`/**
 * Nudge a pattern to start earlier in time. Equivalent of Tidal's <~ operator
 *
 * @name early
 * @memberof Pattern
 * @param {number | Pattern} cycles number of cycles to nudge left
 * @returns Pattern
 * @example
 * "bd ~".stack("hh ~".early(.1)).s()
 */`,meta:{filename:"pattern.mjs",lineno:1793,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Nudge a pattern to start earlier in time. Equivalent of Tidal's &lt;~ operator</p>",name:"early",memberof:"Pattern",params:[{type:{names:["number","Pattern"]},description:"<p>number of cycles to nudge left</p>",name:"cycles"}],returns:[{description:"<p>Pattern</p>"}],examples:['"bd ~".stack("hh ~".early(.1)).s()'],scope:"static",longname:"Pattern.early",kind:"member"},{comment:`/**
 * Nudge a pattern to start later in time. Equivalent of Tidal's ~> operator
 *
 * @name late
 * @memberof Pattern
 * @param {number | Pattern} cycles number of cycles to nudge right
 * @returns Pattern
 * @example
 * "bd ~".stack("hh ~".late(.1)).s()
 */`,meta:{filename:"pattern.mjs",lineno:1808,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Nudge a pattern to start later in time. Equivalent of Tidal's ~&gt; operator</p>",name:"late",memberof:"Pattern",params:[{type:{names:["number","Pattern"]},description:"<p>number of cycles to nudge right</p>",name:"cycles"}],returns:[{description:"<p>Pattern</p>"}],examples:['"bd ~".stack("hh ~".late(.1)).s()'],scope:"static",longname:"Pattern.late",kind:"member"},{comment:`/**
 * Plays a portion of a pattern, specified by the beginning and end of a time span. The new resulting pattern is played over the time period of the original pattern:
 *
 * @example
 * s("bd*2 hh*3 [sd bd]*2 perc").zoom(0.25, 0.75)
 * // s("hh*3 [sd bd]*2") // equivalent
 */`,meta:{range:[56590,56883],filename:"pattern.mjs",lineno:1830,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016424",name:"exports.zoom",type:"VariableDeclaration"}},description:"<p>Plays a portion of a pattern, specified by the beginning and end of a time span. The new resulting pattern is played over the time period of the original pattern:</p>",examples:[`s("bd*2 hh*3 [sd bd]*2 perc").zoom(0.25, 0.75)
// s("hh*3 [sd bd]*2") // equivalent`],name:"zoom",longname:"zoom",kind:"constant",scope:"global"},{comment:`/**
 * Selects the given fraction of the pattern and repeats that part to fill the remainder of the cycle.
 * @param {number} fraction fraction to select
 * @example
 * s("lt ht mt cp, [hh oh]*2").linger("<1 .5 .25 .125>")
 */`,meta:{range:[57241,57446],filename:"pattern.mjs",lineno:1850,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016529",name:"exports.linger",type:"VariableDeclaration"}},description:"<p>Selects the given fraction of the pattern and repeats that part to fill the remainder of the cycle.</p>",params:[{type:{names:["number"]},description:"<p>fraction to select</p>",name:"fraction"}],examples:['s("lt ht mt cp, [hh oh]*2").linger("<1 .5 .25 .125>")'],name:"linger",longname:"linger",kind:"constant",scope:"global"},{comment:`/**
 * Samples the pattern at a rate of n events per cycle. Useful for turning a continuous pattern into a discrete one.
 * @param {number} segments number of segments per cycle
 * @example
 * note(saw.range(0,12).segment(24)).add(40)
 */`,meta:{range:[57687,57801],filename:"pattern.mjs",lineno:1865,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016578",name:"exports.segment",type:"VariableDeclaration"}},description:"<p>Samples the pattern at a rate of n events per cycle. Useful for turning a continuous pattern into a discrete one.</p>",params:[{type:{names:["number"]},description:"<p>number of segments per cycle</p>",name:"segments"}],examples:["note(saw.range(0,12).segment(24)).add(40)"],name:"segment",longname:"segment",kind:"constant",scope:"global"},{comment:`/**
 * Swaps 1s and 0s in a binary pattern.
 * @name invert
 * @synonyms inv
 * @example
 * s("bd").struct("1 0 0 1 0 0 1 0".lastOf(4, invert))
 */`,meta:{filename:"pattern.mjs",lineno:1869,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Swaps 1s and 0s in a binary pattern.</p>",name:"invert",synonyms_text:"inv",synonyms:["inv"],examples:['s("bd").struct("1 0 0 1 0 0 1 0".lastOf(4, invert))'],longname:"invert",kind:"member",scope:"global"},{comment:`/**
 * Applies the given function whenever the given pattern is in a true state.
 * @name when
 * @memberof Pattern
 * @param {Pattern} binary_pat
 * @param {function} func
 * @returns Pattern
 * @example
 * "c3 eb3 g3".when("<0 1>/2", x=>x.sub(5)).note()
 */`,meta:{filename:"pattern.mjs",lineno:1881,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Applies the given function whenever the given pattern is in a true state.</p>",name:"when",memberof:"Pattern",params:[{type:{names:["Pattern"]},name:"binary_pat"},{type:{names:["function"]},name:"func"}],returns:[{description:"<p>Pattern</p>"}],examples:['"c3 eb3 g3".when("<0 1>/2", x=>x.sub(5)).note()'],scope:"static",longname:"Pattern.when",kind:"member"},{comment:`/**
 * Superimposes the function result on top of the original pattern, delayed by the given time.
 * @name off
 * @memberof Pattern
 * @param {Pattern | number} time offset time
 * @param {function} func function to apply
 * @returns Pattern
 * @example
 * "c3 eb3 g3".off(1/8, x=>x.add(7)).note()
 */`,meta:{filename:"pattern.mjs",lineno:1895,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Superimposes the function result on top of the original pattern, delayed by the given time.</p>",name:"off",memberof:"Pattern",params:[{type:{names:["Pattern","number"]},description:"<p>offset time</p>",name:"time"},{type:{names:["function"]},description:"<p>function to apply</p>",name:"func"}],returns:[{description:"<p>Pattern</p>"}],examples:['"c3 eb3 g3".off(1/8, x=>x.add(7)).note()'],scope:"static",longname:"Pattern.off",kind:"member"},{comment:`/**
 * Returns a new pattern where every other cycle is played once, twice as
 * fast, and offset in time by one quarter of a cycle. Creates a kind of
 * breakbeat feel.
 * @returns Pattern
 */`,meta:{range:[59080,59218],filename:"pattern.mjs",lineno:1915,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016668",name:"exports.brak",type:"VariableDeclaration"}},description:`<p>Returns a new pattern where every other cycle is played once, twice as
fast, and offset in time by one quarter of a cycle. Creates a kind of
breakbeat feel.</p>`,returns:[{description:"<p>Pattern</p>"}],name:"brak",longname:"brak",kind:"constant",scope:"global"},{comment:`/**
 * Reverse all haps in a pattern
 *
 * @name rev
 * @memberof Pattern
 * @returns Pattern
 * @example
 * note("c3 d3 e3 g3").rev()
 */`,meta:{filename:"pattern.mjs",lineno:1919,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Reverse all haps in a pattern</p>",name:"rev",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['note("c3 d3 e3 g3").rev()'],scope:"static",longname:"Pattern.rev",kind:"member"},{comment:`/** Like press, but allows you to specify the amount by which each
 * event is shifted. pressBy(0.5) is the same as press, while
 * pressBy(1/3) shifts each event by a third of its timespan.
 * @example
 * stack(s("hh*4"),
 *       s("bd mt sd ht").pressBy("<0 0.5 0.25>")
 *      ).slow(2)
 */`,meta:{range:[60372,60502],filename:"pattern.mjs",lineno:1955,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016816",name:"exports.pressBy",type:"VariableDeclaration"}},description:`<p>Like press, but allows you to specify the amount by which each
event is shifted. pressBy(0.5) is the same as press, while
pressBy(1/3) shifts each event by a third of its timespan.</p>`,examples:[`stack(s("hh*4"),
      s("bd mt sd ht").pressBy("<0 0.5 0.25>")
     ).slow(2)`],name:"pressBy",longname:"pressBy",kind:"constant",scope:"global"},{comment:`/**
 * Syncopates a rhythm, by shifting each event halfway into its timespan.
 * @example
 * stack(s("hh*4"),
 *       s("bd mt sd ht").every(4, press)
 *      ).slow(2)
 */`,meta:{range:[60678,60765],filename:"pattern.mjs",lineno:1966,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016845",name:"exports.press",type:"VariableDeclaration"}},description:"<p>Syncopates a rhythm, by shifting each event halfway into its timespan.</p>",examples:[`stack(s("hh*4"),
      s("bd mt sd ht").every(4, press)
     ).slow(2)`],name:"press",longname:"press",kind:"constant",scope:"global"},{comment:`/**
 * Silences a pattern.
 * @example
 * stack(
 *   s("bd").hush(),
 *   s("hh*3")
 * )
 */`,meta:{range:[60861,60919],filename:"pattern.mjs",lineno:1978,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016862",name:"Pattern.prototype.hush",type:"FunctionExpression",paramnames:[]}},description:"<p>Silences a pattern.</p>",examples:[`stack(
  s("bd").hush(),
  s("hh*3")
)`],name:"hush",longname:"Pattern#hush",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
 * Applies \`rev\` to a pattern every other cycle, so that the pattern alternates between forwards and backwards.
 * @example
 * note("c d e g").palindrome()
 */`,meta:{range:[61086,61184],filename:"pattern.mjs",lineno:1987,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016872",name:"exports.palindrome",type:"VariableDeclaration"}},description:"<p>Applies <code>rev</code> to a pattern every other cycle, so that the pattern alternates between forwards and backwards.</p>",examples:['note("c d e g").palindrome()'],name:"palindrome",longname:"palindrome",kind:"constant",scope:"global"},{comment:`/**
 * Jux with adjustable stereo width. 0 = mono, 1 = full stereo.
 * @name juxBy
 * @synonyms juxby
 * @example
 * s("lt ht mt ht hh").juxBy("<0 .5 1>/2", rev)
 */`,meta:{filename:"pattern.mjs",lineno:1991,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Jux with adjustable stereo width. 0 = mono, 1 = full stereo.</p>",name:"juxBy",synonyms_text:"juxby",synonyms:["juxby"],examples:['s("lt ht mt ht hh").juxBy("<0 .5 1>/2", rev)'],longname:"juxBy",kind:"member",scope:"global"},{comment:`/**
 * The jux function creates strange stereo effects, by applying a function to a pattern, but only in the right-hand channel.
 * @example
 * s("lt ht mt ht hh").jux(rev)
 */`,meta:{range:[61998,62094],filename:"pattern.mjs",lineno:2017,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100016985",name:"exports.jux",type:"VariableDeclaration"}},description:"<p>The jux function creates strange stereo effects, by applying a function to a pattern, but only in the right-hand channel.</p>",examples:['s("lt ht mt ht hh").jux(rev)'],name:"jux",longname:"jux",kind:"constant",scope:"global"},{comment:`/**
 * Superimpose and offset multiple times, applying the given function each time.
 * @name echoWith
 * @synonyms echowith, stutWith, stutwith
 * @param {number} times how many times to repeat
 * @param {number} time cycle offset between iterations
 * @param {function} func function to apply, given the pattern and the iteration index
 * @example
 * "<0 [2 4]>"
 * .echoWith(4, 1/8, (p,n) => p.add(n*2))
 * .scale('C minor').note().clip(.2)
 */`,meta:{filename:"pattern.mjs",lineno:2021,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Superimpose and offset multiple times, applying the given function each time.</p>",name:"echoWith",synonyms_text:"echowith, stutWith, stutwith",synonyms:["echowith","stutWith","stutwith"],params:[{type:{names:["number"]},description:"<p>how many times to repeat</p>",name:"times"},{type:{names:["number"]},description:"<p>cycle offset between iterations</p>",name:"time"},{type:{names:["function"]},description:"<p>function to apply, given the pattern and the iteration index</p>",name:"func"}],examples:[`"<0 [2 4]>"
.echoWith(4, 1/8, (p,n) => p.add(n*2))
.scale('C minor').note().clip(.2)`],longname:"echoWith",kind:"member",scope:"global"},{comment:`/**
 * Superimpose and offset multiple times, gradually decreasing the velocity
 * @name echo
 * @memberof Pattern
 * @returns Pattern
 * @param {number} times how many times to repeat
 * @param {number} time cycle offset between iterations
 * @param {number} feedback velocity multiplicator for each iteration
 * @example
 * s("bd sd").echo(3, 1/6, .8)
 */`,meta:{filename:"pattern.mjs",lineno:2040,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Superimpose and offset multiple times, gradually decreasing the velocity</p>",name:"echo",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],params:[{type:{names:["number"]},description:"<p>how many times to repeat</p>",name:"times"},{type:{names:["number"]},description:"<p>cycle offset between iterations</p>",name:"time"},{type:{names:["number"]},description:"<p>velocity multiplicator for each iteration</p>",name:"feedback"}],examples:['s("bd sd").echo(3, 1/6, .8)'],scope:"static",longname:"Pattern.echo",kind:"member"},{comment:`/**
 * Deprecated. Like echo, but the last 2 parameters are flipped.
 * @name stut
 * @param {number} times how many times to repeat
 * @param {number} feedback velocity multiplicator for each iteration
 * @param {number} time cycle offset between iterations
 * @example
 * s("bd sd").stut(3, .8, 1/6)
 */`,meta:{filename:"pattern.mjs",lineno:2055,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Deprecated. Like echo, but the last 2 parameters are flipped.</p>",name:"stut",params:[{type:{names:["number"]},description:"<p>how many times to repeat</p>",name:"times"},{type:{names:["number"]},description:"<p>velocity multiplicator for each iteration</p>",name:"feedback"},{type:{names:["number"]},description:"<p>cycle offset between iterations</p>",name:"time"}],examples:['s("bd sd").stut(3, .8, 1/6)'],longname:"stut",kind:"member",scope:"global"},{comment:`/**
 * Divides a pattern into a given number of subdivisions, plays the subdivisions in order, but increments the starting subdivision each cycle. The pattern wraps to the first subdivision after the last subdivision is played.
 * @name iter
 * @memberof Pattern
 * @returns Pattern
 * @example
 * note("0 1 2 3".scale('A minor')).iter(4)
 */`,meta:{filename:"pattern.mjs",lineno:2068,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Divides a pattern into a given number of subdivisions, plays the subdivisions in order, but increments the starting subdivision each cycle. The pattern wraps to the first subdivision after the last subdivision is played.</p>",name:"iter",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`note("0 1 2 3".scale('A minor')).iter(4)`],scope:"static",longname:"Pattern.iter",kind:"member"},{comment:`/**
 * Like \`iter\`, but plays the subdivisions in reverse order. Known as iter' in tidalcycles
 * @name iterBack
 * @synonyms iterback
 * @memberof Pattern
 * @returns Pattern
 * @example
 * note("0 1 2 3".scale('A minor')).iterBack(4)
 */`,meta:{filename:"pattern.mjs",lineno:2090,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Like <code>iter</code>, but plays the subdivisions in reverse order. Known as iter' in tidalcycles</p>",name:"iterBack",synonyms_text:"iterback",synonyms:["iterback"],memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`note("0 1 2 3".scale('A minor')).iterBack(4)`],scope:"static",longname:"Pattern.iterBack",kind:"member"},{comment:`/**
 * Repeats each cycle the given number of times.
 * @name repeatCycles
 * @memberof Pattern
 * @returns Pattern
 * @example
 * note(irand(12).add(34)).segment(4).repeatCycles(2).s("gm_acoustic_guitar_nylon")
 */`,meta:{filename:"pattern.mjs",lineno:2103,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Repeats each cycle the given number of times.</p>",name:"repeatCycles",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['note(irand(12).add(34)).segment(4).repeatCycles(2).s("gm_acoustic_guitar_nylon")'],scope:"static",longname:"Pattern.repeatCycles",kind:"member"},{comment:`/**
 * Divides a pattern into a given number of parts, then cycles through those parts in turn, applying the given function to each part in turn (one part per cycle).
 * @name chunk
 * @synonyms slowChunk, slowchunk
 * @memberof Pattern
 * @returns Pattern
 * @example
 * "0 1 2 3".chunk(4, x=>x.add(7)).scale('A minor').note()
 */`,meta:{filename:"pattern.mjs",lineno:2117,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Divides a pattern into a given number of parts, then cycles through those parts in turn, applying the given function to each part in turn (one part per cycle).</p>",name:"chunk",synonyms_text:"slowChunk, slowchunk",synonyms:["slowChunk","slowchunk"],memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`"0 1 2 3".chunk(4, x=>x.add(7)).scale('A minor').note()`],scope:"static",longname:"Pattern.chunk",kind:"member"},{comment:`/**
 * Like \`chunk\`, but cycles through the parts in reverse order. Known as chunk' in tidalcycles
 * @name chunkBack
 * @synonyms chunkback
 * @memberof Pattern
 * @returns Pattern
 * @example
 * "0 1 2 3".chunkBack(4, x=>x.add(7)).scale('A minor').note()
 */`,meta:{filename:"pattern.mjs",lineno:2142,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Like <code>chunk</code>, but cycles through the parts in reverse order. Known as chunk' in tidalcycles</p>",name:"chunkBack",synonyms_text:"chunkback",synonyms:["chunkback"],memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`"0 1 2 3".chunkBack(4, x=>x.add(7)).scale('A minor').note()`],scope:"static",longname:"Pattern.chunkBack",kind:"member"},{comment:`/**
 * Like \`chunk\`, but the cycles of the source pattern aren't repeated
 * for each set of chunks.
 * @name fastChunk
 * @synonyms fastchunk
 * @memberof Pattern
 * @returns Pattern
 * @example
 * "<0 8> 1 2 3 4 5 6 7".fastChunk(4, x => x.color('red')).slow(4).scale("C2:major").note()
  .s("folkharp")
 */`,meta:{filename:"pattern.mjs",lineno:2155,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Like <code>chunk</code>, but the cycles of the source pattern aren't repeated
for each set of chunks.</p>`,name:"fastChunk",synonyms_text:"fastchunk",synonyms:["fastchunk"],memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`"<0 8> 1 2 3 4 5 6 7".fastChunk(4, x => x.color('red')).slow(4).scale("C2:major").note()
  .s("folkharp")`],scope:"static",longname:"Pattern.fastChunk",kind:"member"},{comment:`/**
 * Loops the pattern inside at \`offset\` for \`cycles\`.
 * @param {number} offset start point of loop in cycles
 * @param {number} cycles loop length in cycles
 * @example
 * // Looping a portion of randomness
 * note(irand(8).segment(4).scale('C3 minor')).ribbon(1337, 2)
 */`,meta:{range:[67430,67545],filename:"pattern.mjs",lineno:2184,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100017413",name:"exports.ribbon",type:"VariableDeclaration"}},description:"<p>Loops the pattern inside at <code>offset</code> for <code>cycles</code>.</p>",params:[{type:{names:["number"]},description:"<p>start point of loop in cycles</p>",name:"offset"},{type:{names:["number"]},description:"<p>loop length in cycles</p>",name:"cycles"}],examples:[`// Looping a portion of randomness
note(irand(8).segment(4).scale('C3 minor')).ribbon(1337, 2)`],name:"ribbon",longname:"ribbon",kind:"constant",scope:"global"},{comment:`/**
 * Sets the color of the hap in visualizations like pianoroll or highlighting.
 * @name color
 * @synonyms colour
 * @param {string} color Hexadecimal or CSS color name
 */`,meta:{filename:"pattern.mjs",lineno:2200,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the color of the hap in visualizations like pianoroll or highlighting.</p>",name:"color",synonyms_text:"colour",synonyms:["colour"],params:[{type:{names:["string"]},description:"<p>Hexadecimal or CSS color name</p>",name:"color"}],longname:"color",kind:"member",scope:"global"},{comment:`/**
 *
 * Sets the velocity from 0 to 1. Is multiplied together with gain.
 * @name velocity
 * @example
 * s("hh*8")
 * .gain(".4!2 1 .4!2 1 .4 1")
 * .velocity(".4 1")
 */`,meta:{filename:"pattern.mjs",lineno:2211,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Sets the velocity from 0 to 1. Is multiplied together with gain.</p>",name:"velocity",examples:[`s("hh*8")
.gain(".4!2 1 .4!2 1 .4 1")
.velocity(".4 1")`],longname:"velocity",kind:"member",scope:"global"},{comment:`/**
 *
 * Multiplies the hap duration with the given factor.
 * With samples, \`clip\` might be a better function to use ([more info](https://github.com/tidalcycles/strudel/pull/598))
 * @name legato
 * @memberof Pattern
 * @example
 * note("c3 eb3 g3 c4").legato("<.25 .5 1 2>")
 */`,meta:{filename:"pattern.mjs",lineno:2224,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Multiplies the hap duration with the given factor.
With samples, <code>clip</code> might be a better function to use (<a href="https://github.com/tidalcycles/strudel/pull/598">more info</a>)</p>`,name:"legato",memberof:"Pattern",examples:['note("c3 eb3 g3 c4").legato("<.25 .5 1 2>")'],scope:"static",longname:"Pattern.legato",kind:"member"},{comment:`/**
 * Cuts each sample into the given number of parts, allowing you to explore a technique known as 'granular synthesis'.
 * It turns a pattern of samples into a pattern of parts of samples.
 * @name chop
 * @memberof Pattern
 * @returns Pattern
 * @example
 * samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })
 * s("rhodes")
 *  .chop(4)
 *  .rev() // reverse order of chops
 *  .loopAt(4) // fit sample into 4 cycles
 *
 */`,meta:{filename:"pattern.mjs",lineno:2243,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Cuts each sample into the given number of parts, allowing you to explore a technique known as 'granular synthesis'.
It turns a pattern of samples into a pattern of parts of samples.</p>`,name:"chop",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })
s("rhodes")
 .chop(4)
 .rev() // reverse order of chops
 .loopAt(4) // fit sample into 4 cycles`],scope:"static",longname:"Pattern.chop",kind:"member"},{comment:`/**
 * Cuts each sample into the given number of parts, triggering progressive portions of each sample at each loop.
 * @name striate
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("numbers:0 numbers:1 numbers:2").striate(6).slow(6)
 */`,meta:{filename:"pattern.mjs",lineno:2266,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Cuts each sample into the given number of parts, triggering progressive portions of each sample at each loop.</p>",name:"striate",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("numbers:0 numbers:1 numbers:2").striate(6).slow(6)'],scope:"static",longname:"Pattern.striate",kind:"member"},{comment:`/**
 * Makes the sample fit the given number of cycles by changing the speed.
 * @name loopAt
 * @memberof Pattern
 * @returns Pattern
 * @example
 * samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })
 * s("rhodes").loopAt(4)
 */`,meta:{filename:"pattern.mjs",lineno:2281,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Makes the sample fit the given number of cycles by changing the speed.</p>",name:"loopAt",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })
s("rhodes").loopAt(4)`],scope:"static",longname:"Pattern.loopAt",kind:"member"},{comment:`/**
 * Chops samples into the given number of slices, triggering those slices with a given pattern of slice numbers.
 * Instead of a number, it also accepts a list of numbers from 0 to 1 to slice at specific points.
 * @name slice
 * @memberof Pattern
 * @returns Pattern
 * @example
 * await samples('github:tidalcycles/Dirt-Samples/master')
 * s("breaks165").slice(8, "0 1 <2 2*2> 3 [4 0] 5 6 7".every(3, rev)).slow(1.5)
 * @example
 * await samples('github:tidalcycles/Dirt-Samples/master')
 * s("breaks125/2").fit().slice([0,.25,.5,.75], "0 1 1 <2 3>")
 */`,meta:{filename:"pattern.mjs",lineno:2298,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Chops samples into the given number of slices, triggering those slices with a given pattern of slice numbers.
Instead of a number, it also accepts a list of numbers from 0 to 1 to slice at specific points.</p>`,name:"slice",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`await samples('github:tidalcycles/Dirt-Samples/master')
s("breaks165").slice(8, "0 1 <2 2*2> 3 [4 0] 5 6 7".every(3, rev)).slow(1.5)`,`await samples('github:tidalcycles/Dirt-Samples/master')
s("breaks125/2").fit().slice([0,.25,.5,.75], "0 1 1 <2 3>")`],scope:"static",longname:"Pattern.slice",kind:"member"},{comment:`/**
 * Works the same as slice, but changes the playback speed of each slice to match the duration of its step.
 * @name splice
 * @example
 * await samples('github:tidalcycles/Dirt-Samples/master')
 * s("breaks165")
 * .splice(8,  "0 1 [2 3 0]@2 3 0@2 7")
 * .hurry(0.65)
 */`,meta:{filename:"pattern.mjs",lineno:2330,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Works the same as slice, but changes the playback speed of each slice to match the duration of its step.</p>",name:"splice",examples:[`await samples('github:tidalcycles/Dirt-Samples/master')
s("breaks165")
.splice(8,  "0 1 [2 3 0]@2 3 0@2 7")
.hurry(0.65)`],longname:"splice",kind:"member",scope:"global"},{comment:`/**
 * Makes the sample fit its event duration. Good for rhythmical loops like drum breaks.
 * Similar to loopAt.
 * @name fit
 * @example
 * samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })
 * s("rhodes/4").fit()
 */`,meta:{filename:"pattern.mjs",lineno:2366,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Makes the sample fit its event duration. Good for rhythmical loops like drum breaks.
Similar to loopAt.</p>`,name:"fit",examples:[`samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })
s("rhodes/4").fit()`],longname:"fit",kind:"member",scope:"global"},{comment:`/**
 * Makes the sample fit the given number of cycles and cps value, by
 * changing the speed. Please note that at some point cps will be
 * given by a global clock and this function will be
 * deprecated/removed.
 * @name loopAtCps
 * @memberof Pattern
 * @returns Pattern
 * @example
 * samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })
 * s("rhodes").loopAtCps(4,1.5).cps(1.5)
 */`,meta:{filename:"pattern.mjs",lineno:2384,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Makes the sample fit the given number of cycles and cps value, by
changing the speed. Please note that at some point cps will be
given by a global clock and this function will be
deprecated/removed.</p>`,name:"loopAtCps",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })
s("rhodes").loopAtCps(4,1.5).cps(1.5)`],scope:"static",longname:"Pattern.loopAtCps",kind:"member"},{comment:"/** exposes a custom value at query time. basically allows mutating state without evaluation */",meta:{range:[74551,74651],filename:"pattern.mjs",lineno:2402,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100018033",name:"exports.ref",type:"VariableDeclaration"}},description:"<p>exposes a custom value at query time. basically allows mutating state without evaluation</p>",name:"ref",longname:"ref",kind:"constant",scope:"global"},{comment:`/**
 * Cross-fades between left and right from 0 to 1:
 * - 0 = (full left, no right)
 * - .5 = (both equal)
 * - 1 = (no left, full right)
 *
 * @name xfade
 * @example
 * xfade(s("bd*2"), "<0 .25 .5 .75 1>", s("hh*8"))
 */`,meta:{filename:"pattern.mjs",lineno:2409,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Cross-fades between left and right from 0 to 1:</p>
<ul>
<li>0 = (full left, no right)</li>
<li>.5 = (both equal)</li>
<li>1 = (no left, full right)</li>
</ul>`,name:"xfade",examples:['xfade(s("bd*2"), "<0 .25 .5 .75 1>", s("hh*8"))'],longname:"xfade",kind:"member",scope:"global"},{comment:`/**
 * Displays a midi-style piano roll
 *
 * @name pianoroll
 * @param {Object} options Object containing all the optional following parameters as key value pairs:
 * @param {integer} cycles number of cycles to be displayed at the same time - defaults to 4
 * @param {number} playhead location of the active notes on the time axis - 0 to 1, defaults to 0.5
 * @param {boolean} vertical displays the roll vertically - 0 by default
 * @param {boolean} labels displays labels on individual notes (see the label function) - 0 by default
 * @param {boolean} flipTime reverse the direction of the roll - 0 by default
 * @param {boolean} flipValues reverse the relative location of notes on the value axis - 0 by default
 * @param {number} overscan lookup X cycles outside of the cycles window to display notes in advance - 1 by default
 * @param {boolean} hideNegative hide notes with negative time (before starting playing the pattern) - 0 by default
 * @param {boolean} smear notes leave a solid trace - 0 by default
 * @param {boolean} fold notes takes the full value axis width - 0 by default
 * @param {string} active hexadecimal or CSS color of the active notes - defaults to #FFCA28
 * @param {string} inactive hexadecimal or CSS color of the inactive notes - defaults to #7491D2
 * @param {string} background hexadecimal or CSS color of the background - defaults to transparent
 * @param {string} playheadColor hexadecimal or CSS color of the line representing the play head - defaults to white
 * @param {boolean} fill notes are filled with color (otherwise only the label is displayed) - 0 by default
 * @param {boolean} fillActive active notes are filled with color - 0 by default
 * @param {boolean} stroke notes are shown with colored borders - 0 by default
 * @param {boolean} strokeActive active notes are shown with colored borders - 0 by default
 * @param {boolean} hideInactive only active notes are shown - 0 by default
 * @param {boolean} colorizeInactive use note color for inactive notes - 1 by default
 * @param {string} fontFamily define the font used by notes labels - defaults to 'monospace'
 * @param {integer} minMidi minimum note value to display on the value axis - defaults to 10
 * @param {integer} maxMidi maximum note value to display on the value axis - defaults to 90
 * @param {boolean} autorange automatically calculate the minMidi and maxMidi parameters - 0 by default
 *
 * @example
 * note("C2 A2 G2").euclid(5,8).s('piano').clip(1).color('salmon').pianoroll({vertical:1, labels:1})
 */`,meta:{filename:"pianoroll.mjs",lineno:70,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Displays a midi-style piano roll</p>",name:"pianoroll",params:[{type:{names:["Object"]},description:"<p>Object containing all the optional following parameters as key value pairs:</p>",name:"options"},{type:{names:["integer"]},description:"<p>number of cycles to be displayed at the same time - defaults to 4</p>",name:"cycles"},{type:{names:["number"]},description:"<p>location of the active notes on the time axis - 0 to 1, defaults to 0.5</p>",name:"playhead"},{type:{names:["boolean"]},description:"<p>displays the roll vertically - 0 by default</p>",name:"vertical"},{type:{names:["boolean"]},description:"<p>displays labels on individual notes (see the label function) - 0 by default</p>",name:"labels"},{type:{names:["boolean"]},description:"<p>reverse the direction of the roll - 0 by default</p>",name:"flipTime"},{type:{names:["boolean"]},description:"<p>reverse the relative location of notes on the value axis - 0 by default</p>",name:"flipValues"},{type:{names:["number"]},description:"<p>lookup X cycles outside of the cycles window to display notes in advance - 1 by default</p>",name:"overscan"},{type:{names:["boolean"]},description:"<p>hide notes with negative time (before starting playing the pattern) - 0 by default</p>",name:"hideNegative"},{type:{names:["boolean"]},description:"<p>notes leave a solid trace - 0 by default</p>",name:"smear"},{type:{names:["boolean"]},description:"<p>notes takes the full value axis width - 0 by default</p>",name:"fold"},{type:{names:["string"]},description:"<p>hexadecimal or CSS color of the active notes - defaults to #FFCA28</p>",name:"active"},{type:{names:["string"]},description:"<p>hexadecimal or CSS color of the inactive notes - defaults to #7491D2</p>",name:"inactive"},{type:{names:["string"]},description:"<p>hexadecimal or CSS color of the background - defaults to transparent</p>",name:"background"},{type:{names:["string"]},description:"<p>hexadecimal or CSS color of the line representing the play head - defaults to white</p>",name:"playheadColor"},{type:{names:["boolean"]},description:"<p>notes are filled with color (otherwise only the label is displayed) - 0 by default</p>",name:"fill"},{type:{names:["boolean"]},description:"<p>active notes are filled with color - 0 by default</p>",name:"fillActive"},{type:{names:["boolean"]},description:"<p>notes are shown with colored borders - 0 by default</p>",name:"stroke"},{type:{names:["boolean"]},description:"<p>active notes are shown with colored borders - 0 by default</p>",name:"strokeActive"},{type:{names:["boolean"]},description:"<p>only active notes are shown - 0 by default</p>",name:"hideInactive"},{type:{names:["boolean"]},description:"<p>use note color for inactive notes - 1 by default</p>",name:"colorizeInactive"},{type:{names:["string"]},description:"<p>define the font used by notes labels - defaults to 'monospace'</p>",name:"fontFamily"},{type:{names:["integer"]},description:"<p>minimum note value to display on the value axis - defaults to 10</p>",name:"minMidi"},{type:{names:["integer"]},description:"<p>maximum note value to display on the value axis - defaults to 90</p>",name:"maxMidi"},{type:{names:["boolean"]},description:"<p>automatically calculate the minMidi and maxMidi parameters - 0 by default</p>",name:"autorange"}],examples:[`note("C2 A2 G2").euclid(5,8).s('piano').clip(1).color('salmon').pianoroll({vertical:1, labels:1})`],longname:"pianoroll",kind:"member",scope:"global"},{comment:`/**
 * Displays a vertical pianoroll with event labels.
 * Supports all the same options as pianoroll.
 *
 * @name wordfall
 */`,meta:{filename:"pianoroll.mjs",lineno:278,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Displays a vertical pianoroll with event labels.
Supports all the same options as pianoroll.</p>`,name:"wordfall",longname:"wordfall",kind:"member",scope:"global"},{comment:`/**
 *  A sawtooth signal between 0 and 1.
 *
 * @return {Pattern}
 * @example
 * "c3 [eb3,g3] g2 [g3,bb3]".note().clip(saw.slow(4))
 * @example
 * saw.range(0,8).segment(8).scale('C major').slow(4).note()
 *
 */`,meta:{range:[1592,1632],filename:"signal.mjs",lineno:35,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020213",name:"exports.saw",type:"VariableDeclaration"}},description:"<p>A sawtooth signal between 0 and 1.</p>",returns:[{type:{names:["Pattern"]}}],examples:['"c3 [eb3,g3] g2 [g3,bb3]".note().clip(saw.slow(4))',"saw.range(0,8).segment(8).scale('C major').slow(4).note()"],name:"saw",longname:"saw",kind:"constant",scope:"global"},{comment:`/**
 *  A sine signal between 0 and 1.
 *
 * @return {Pattern}
 * @example
 * sine.segment(16).range(0,15).slow(2).scale('C minor').note()
 *
 */`,meta:{range:[1881,1921],filename:"signal.mjs",lineno:48,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020251",name:"exports.sine",type:"VariableDeclaration"}},description:"<p>A sine signal between 0 and 1.</p>",returns:[{type:{names:["Pattern"]}}],examples:["sine.segment(16).range(0,15).slow(2).scale('C minor').note()"],name:"sine",longname:"sine",kind:"constant",scope:"global"},{comment:`/**
 *  A cosine signal between 0 and 1.
 *
 * @return {Pattern}
 * @example
 * stack(sine,cosine).segment(16).range(0,15).slow(2).scale('C minor').note()
 *
 */`,meta:{range:[2085,2139],filename:"signal.mjs",lineno:58,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020259",name:"exports.cosine",type:"VariableDeclaration"}},description:"<p>A cosine signal between 0 and 1.</p>",returns:[{type:{names:["Pattern"]}}],examples:["stack(sine,cosine).segment(16).range(0,15).slow(2).scale('C minor').note()"],name:"cosine",longname:"cosine",kind:"constant",scope:"global"},{comment:`/**
 *  A square signal between 0 and 1.
 *
 * @return {Pattern}
 * @example
 * square.segment(2).range(0,7).scale('C minor').note()
 *
 */`,meta:{range:[2338,2399],filename:"signal.mjs",lineno:69,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020289",name:"exports.square",type:"VariableDeclaration"}},description:"<p>A square signal between 0 and 1.</p>",returns:[{type:{names:["Pattern"]}}],examples:["square.segment(2).range(0,7).scale('C minor').note()"],name:"square",longname:"square",kind:"constant",scope:"global"},{comment:`/**
 *  A triangle signal between 0 and 1.
 *
 * @return {Pattern}
 * @example
 * tri.segment(8).range(0,7).scale('C minor').note()
 *
 */`,meta:{range:[2583,2621],filename:"signal.mjs",lineno:80,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020314",name:"exports.tri",type:"VariableDeclaration"}},description:"<p>A triangle signal between 0 and 1.</p>",returns:[{type:{names:["Pattern"]}}],examples:["tri.segment(8).range(0,7).scale('C minor').note()"],name:"tri",longname:"tri",kind:"constant",scope:"global"},{comment:`/**
 * A discrete pattern of numbers from 0 to n-1
 * @example
 * run(4).scale('C4 major').note()
 * // "0 1 2 3".scale('C4 major').note()
 */`,meta:{range:[3576,3637],filename:"signal.mjs",lineno:123,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020469",name:"exports.run",type:"VariableDeclaration"}},description:"<p>A discrete pattern of numbers from 0 to n-1</p>",examples:[`run(4).scale('C4 major').note()
// "0 1 2 3".scale('C4 major').note()`],name:"run",longname:"run",kind:"constant",scope:"global"},{comment:`/**
 * A continuous pattern of random numbers, between 0 and 1.
 *
 * @name rand
 * @example
 * // randomly change the cutoff
 * s("bd sd,hh*4").cutoff(rand.range(500,2000))
 *
 */`,meta:{filename:"signal.mjs",lineno:125,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>A continuous pattern of random numbers, between 0 and 1.</p>",name:"rand",examples:[`// randomly change the cutoff
s("bd sd,hh*4").cutoff(rand.range(500,2000))`],longname:"rand",kind:"member",scope:"global"},{comment:`/**
 * A continuous pattern of random numbers, between -1 and 1
 */`,meta:{range:[3928,3966],filename:"signal.mjs",lineno:138,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020495",name:"exports.rand2",type:"VariableDeclaration"}},description:"<p>A continuous pattern of random numbers, between -1 and 1</p>",name:"rand2",longname:"rand2",kind:"constant",scope:"global"},{comment:`/**
 * A continuous pattern of random integers, between 0 and n-1.
 *
 * @name irand
 * @param {number} n max value (exclusive)
 * @example
 * // randomly select scale notes from 0 - 7 (= C to C)
 * irand(8).struct("x(3,8)").scale('C minor').note()
 *
 */`,meta:{filename:"signal.mjs",lineno:146,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>A continuous pattern of random integers, between 0 and n-1.</p>",name:"irand",params:[{type:{names:["number"]},description:"<p>max value (exclusive)</p>",name:"n"}],examples:[`// randomly select scale notes from 0 - 7 (= C to C)
irand(8).struct("x(3,8)").scale('C minor').note()`],longname:"irand",kind:"member",scope:"global"},{comment:`/**
 * pick from the list of values (or patterns of values) via the index using the given
 * pattern of integers
 * @param {Pattern} pat
 * @param {*} xs
 * @returns {Pattern}
 * @example
 * note(pick("<0 1 [2!2] 3>", ["g a", "e f", "f g f g" , "g a c d"]))
 */`,meta:{range:[4790,5034],filename:"signal.mjs",lineno:168,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020576",name:"exports.pick",type:"VariableDeclaration"}},description:`<p>pick from the list of values (or patterns of values) via the index using the given
pattern of integers</p>`,params:[{type:{names:["Pattern"]},name:"pat"},{type:{names:["*"]},name:"xs"}],returns:[{type:{names:["Pattern"]}}],examples:['note(pick("<0 1 [2!2] 3>", ["g a", "e f", "f g f g" , "g a c d"]))'],name:"pick",longname:"pick",kind:"constant",scope:"global"},{comment:`/**
 * pick from the list of values (or patterns of values) via the index using the given
 * pattern of integers. The selected pattern will be compressed to fit the duration of the selecting event
 * @param {Pattern} pat
 * @param {*} xs
 * @returns {Pattern}
 * @example
 * note(squeeze("<0@2 [1!2] 2>", ["g a", "f g f g" , "g a c d"]))
 */`,meta:{range:[5379,5620],filename:"signal.mjs",lineno:191,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020632",name:"exports.squeeze",type:"VariableDeclaration"}},description:`<p>pick from the list of values (or patterns of values) via the index using the given
pattern of integers. The selected pattern will be compressed to fit the duration of the selecting event</p>`,params:[{type:{names:["Pattern"]},name:"pat"},{type:{names:["*"]},name:"xs"}],returns:[{type:{names:["Pattern"]}}],examples:['note(squeeze("<0@2 [1!2] 2>", ["g a", "f g f g" , "g a c d"]))'],name:"squeeze",longname:"squeeze",kind:"constant",scope:"global"},{comment:`/**
 * Choose from the list of values (or patterns of values) using the given
 * pattern of numbers, which should be in the range of 0..1
 * @param {Pattern} pat
 * @param {*} xs
 * @returns {Pattern}
 * @example
 * note("c2 g2!2 d2 f1").s(chooseWith(sine.fast(2), ["sawtooth", "triangle", "bd:6"]))
 */`,meta:{range:[6185,6272],filename:"signal.mjs",lineno:224,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020751",name:"exports.chooseWith",type:"VariableDeclaration"}},description:`<p>Choose from the list of values (or patterns of values) using the given
pattern of numbers, which should be in the range of 0..1</p>`,params:[{type:{names:["Pattern"]},name:"pat"},{type:{names:["*"]},name:"xs"}],returns:[{type:{names:["Pattern"]}}],examples:['note("c2 g2!2 d2 f1").s(chooseWith(sine.fast(2), ["sawtooth", "triangle", "bd:6"]))'],name:"chooseWith",longname:"chooseWith",kind:"constant",scope:"global"},{comment:`/**
 * As with {chooseWith}, but the structure comes from the chosen values, rather
 * than the pattern you're using to choose with.
 * @param {Pattern} pat
 * @param {*} xs
 * @returns {Pattern}
 */`,meta:{range:[6474,6563],filename:"signal.mjs",lineno:235,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020767",name:"exports.chooseInWith",type:"VariableDeclaration"}},description:`<p>As with {chooseWith}, but the structure comes from the chosen values, rather
than the pattern you're using to choose with.</p>`,params:[{type:{names:["Pattern"]},name:"pat"},{type:{names:["*"]},name:"xs"}],returns:[{type:{names:["Pattern"]}}],name:"chooseInWith",longname:"chooseInWith",kind:"constant",scope:"global"},{comment:`/**
 * Chooses randomly from the given list of elements.
 * @param  {...any} xs values / patterns to choose from.
 * @returns {Pattern} - a continuous pattern.
 */`,meta:{range:[6729,6783],filename:"signal.mjs",lineno:244,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020783",name:"exports.choose",type:"VariableDeclaration"}},description:"<p>Chooses randomly from the given list of elements.</p>",params:[{type:{names:["any"]},variable:!0,description:"<p>values / patterns to choose from.</p>",name:"xs"}],returns:[{type:{names:["Pattern"]},description:`<ul>
<li>a continuous pattern.</li>
</ul>`}],name:"choose",longname:"choose",kind:"constant",scope:"global"},{comment:`/**
 * Chooses from the given list of values (or patterns of values), according
 * to the pattern that the method is called on. The pattern should be in
 * the range 0 .. 1.
 * @param  {...any} xs
 * @returns {Pattern}
 */`,meta:{range:[7008,7086],filename:"signal.mjs",lineno:253,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020795",name:"Pattern.prototype.choose",type:"FunctionExpression",paramnames:["xs"]}},description:`<p>Chooses from the given list of values (or patterns of values), according
to the pattern that the method is called on. The pattern should be in
the range 0 .. 1.</p>`,params:[{type:{names:["any"]},variable:!0,name:"xs"}],returns:[{type:{names:["Pattern"]}}],name:"choose",longname:"Pattern#choose",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
 * As with choose, but the pattern that this method is called on should be
 * in the range -1 .. 1
 * @param  {...any} xs
 * @returns {Pattern}
 */`,meta:{range:[7241,7334],filename:"signal.mjs",lineno:263,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020811",name:"Pattern.prototype.choose2",type:"FunctionExpression",paramnames:["xs"]}},description:`<p>As with choose, but the pattern that this method is called on should be
in the range -1 .. 1</p>`,params:[{type:{names:["any"]},variable:!0,name:"xs"}],returns:[{type:{names:["Pattern"]}}],name:"choose2",longname:"Pattern#choose2",kind:"function",memberof:"Pattern",scope:"instance"},{comment:`/**
 * Picks one of the elements at random each cycle.
 * @returns {Pattern}
 * @example
 * chooseCycles("bd", "hh", "sd").s().fast(4)
 * @example
 * "bd | hh | sd".s().fast(4)
 */`,meta:{range:[7518,7591],filename:"signal.mjs",lineno:275,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100020829",name:"exports.chooseCycles",type:"VariableDeclaration"}},description:"<p>Picks one of the elements at random each cycle.</p>",returns:[{type:{names:["Pattern"]}}],examples:['chooseCycles("bd", "hh", "sd").s().fast(4)','"bd | hh | sd".s().fast(4)'],name:"chooseCycles",longname:"chooseCycles",kind:"constant",scope:"global"},{comment:`/**
 * Generates a continuous pattern of [perlin noise](https://en.wikipedia.org/wiki/Perlin_noise), in the range 0..1.
 *
 * @name perlin
 * @example
 * // randomly change the cutoff
 * s("bd sd,hh*4").cutoff(perlin.range(500,2000))
 *
 */`,meta:{filename:"signal.mjs",lineno:310,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:'<p>Generates a continuous pattern of <a href="https://en.wikipedia.org/wiki/Perlin_noise">perlin noise</a>, in the range 0..1.</p>',name:"perlin",examples:[`// randomly change the cutoff
s("bd sd,hh*4").cutoff(perlin.range(500,2000))`],longname:"perlin",kind:"member",scope:"global"},{comment:`/**
 * Randomly removes events from the pattern by a given amount.
 * 0 = 0% chance of removal
 * 1 = 100% chance of removal
 *
 * @name degradeBy
 * @memberof Pattern
 * @param {number} amount - a number between 0 and 1
 * @returns Pattern
 * @example
 * s("hh*8").degradeBy(0.2)
 * @example
 * s("[hh?0.2]*8")
 */`,meta:{filename:"signal.mjs",lineno:325,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Randomly removes events from the pattern by a given amount.
0 = 0% chance of removal
1 = 100% chance of removal</p>`,name:"degradeBy",memberof:"Pattern",params:[{type:{names:["number"]},description:"<p>a number between 0 and 1</p>",name:"amount"}],returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").degradeBy(0.2)','s("[hh?0.2]*8")'],scope:"static",longname:"Pattern.degradeBy",kind:"member"},{comment:`/**
 *
 * Randomly removes 50% of events from the pattern. Shorthand for \`.degradeBy(0.5)\`
 *
 * @name degrade
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("hh*8").degrade()
 * @example
 * s("[hh?]*8")
 */`,meta:{filename:"signal.mjs",lineno:343,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Randomly removes 50% of events from the pattern. Shorthand for <code>.degradeBy(0.5)</code></p>",name:"degrade",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").degrade()','s("[hh?]*8")'],scope:"static",longname:"Pattern.degrade",kind:"member"},{comment:`/**
 * Inverse of {@link Pattern#degradeBy}: Randomly removes events from the pattern by a given amount.
 * 0 = 100% chance of removal
 * 1 = 0% chance of removal
 * Events that would be removed by degradeBy are let through by undegradeBy and vice versa (see second example).
 *
 * @name undegradeBy
 * @memberof Pattern
 * @param {number} amount - a number between 0 and 1
 * @returns Pattern
 * @example
 * s("hh*8").undegradeBy(0.2)
 */`,meta:{filename:"signal.mjs",lineno:357,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Inverse of {@link Pattern#degradeBy}: Randomly removes events from the pattern by a given amount.
0 = 100% chance of removal
1 = 0% chance of removal
Events that would be removed by degradeBy are let through by undegradeBy and vice versa (see second example).</p>`,name:"undegradeBy",memberof:"Pattern",params:[{type:{names:["number"]},description:"<p>a number between 0 and 1</p>",name:"amount"}],returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").undegradeBy(0.2)'],scope:"static",longname:"Pattern.undegradeBy",kind:"member"},{comment:`/**
 *
 * Randomly applies the given function by the given probability.
 * Similar to {@link Pattern#someCyclesBy}
 *
 * @name sometimesBy
 * @memberof Pattern
 * @param {number | Pattern} probability - a number between 0 and 1
 * @param {function} function - the transformation to apply
 * @returns Pattern
 * @example
 * s("hh(3,8)").sometimesBy(.4, x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:379,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Randomly applies the given function by the given probability.
Similar to {@link Pattern#someCyclesBy}</p>`,name:"sometimesBy",memberof:"Pattern",params:[{type:{names:["number","Pattern"]},description:"<p>a number between 0 and 1</p>",name:"probability"},{type:{names:["function"]},description:"<p>the transformation to apply</p>",name:"function"}],returns:[{description:"<p>Pattern</p>"}],examples:['s("hh(3,8)").sometimesBy(.4, x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.sometimesBy",kind:"member"},{comment:`/**
 *
 * Applies the given function with a 50% chance
 *
 * @name sometimes
 * @memberof Pattern
 * @param {function} function - the transformation to apply
 * @returns Pattern
 * @example
 * s("hh*4").sometimes(x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:399,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Applies the given function with a 50% chance</p>",name:"sometimes",memberof:"Pattern",params:[{type:{names:["function"]},description:"<p>the transformation to apply</p>",name:"function"}],returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*4").sometimes(x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.sometimes",kind:"member"},{comment:`/**
 *
 * Randomly applies the given function by the given probability on a cycle by cycle basis.
 * Similar to {@link Pattern#sometimesBy}
 *
 * @name someCyclesBy
 * @memberof Pattern
 * @param {number | Pattern} probability - a number between 0 and 1
 * @param {function} function - the transformation to apply
 * @returns Pattern
 * @example
 * s("hh(3,8)").someCyclesBy(.3, x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:414,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:`<p>Randomly applies the given function by the given probability on a cycle by cycle basis.
Similar to {@link Pattern#sometimesBy}</p>`,name:"someCyclesBy",memberof:"Pattern",params:[{type:{names:["number","Pattern"]},description:"<p>a number between 0 and 1</p>",name:"probability"},{type:{names:["function"]},description:"<p>the transformation to apply</p>",name:"function"}],returns:[{description:"<p>Pattern</p>"}],examples:['s("hh(3,8)").someCyclesBy(.3, x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.someCyclesBy",kind:"member"},{comment:`/**
 *
 * Shorthand for \`.someCyclesBy(0.5, fn)\`
 *
 * @name someCycles
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("hh(3,8)").someCycles(x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:439,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Shorthand for <code>.someCyclesBy(0.5, fn)</code></p>",name:"someCycles",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("hh(3,8)").someCycles(x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.someCycles",kind:"member"},{comment:`/**
 *
 * Shorthand for \`.sometimesBy(0.75, fn)\`
 *
 * @name often
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("hh*8").often(x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:453,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Shorthand for <code>.sometimesBy(0.75, fn)</code></p>",name:"often",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").often(x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.often",kind:"member"},{comment:`/**
 *
 * Shorthand for \`.sometimesBy(0.25, fn)\`
 *
 * @name rarely
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("hh*8").rarely(x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:467,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Shorthand for <code>.sometimesBy(0.25, fn)</code></p>",name:"rarely",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").rarely(x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.rarely",kind:"member"},{comment:`/**
 *
 * Shorthand for \`.sometimesBy(0.1, fn)\`
 *
 * @name almostNever
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("hh*8").almostNever(x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:481,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Shorthand for <code>.sometimesBy(0.1, fn)</code></p>",name:"almostNever",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").almostNever(x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.almostNever",kind:"member"},{comment:`/**
 *
 * Shorthand for \`.sometimesBy(0.9, fn)\`
 *
 * @name almostAlways
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("hh*8").almostAlways(x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:495,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Shorthand for <code>.sometimesBy(0.9, fn)</code></p>",name:"almostAlways",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").almostAlways(x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.almostAlways",kind:"member"},{comment:`/**
 *
 * Shorthand for \`.sometimesBy(0, fn)\` (never calls fn)
 *
 * @name never
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("hh*8").never(x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:509,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Shorthand for <code>.sometimesBy(0, fn)</code> (never calls fn)</p>",name:"never",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").never(x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.never",kind:"member"},{comment:`/**
 *
 * Shorthand for \`.sometimesBy(1, fn)\` (always calls fn)
 *
 * @name always
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("hh*8").always(x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:523,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{}},description:"<p>Shorthand for <code>.sometimesBy(1, fn)</code> (always calls fn)</p>",name:"always",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").always(x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.always",kind:"member"},{comment:`/**
 * @deprecated does not appear to be referenced or invoked anywhere in the codebase
 * @noAutocomplete
 */`,meta:{range:[2576,2743],filename:"util.mjs",lineno:66,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100031909",name:"exports.getFreq",type:"VariableDeclaration"}},deprecated:"does not appear to be referenced or invoked anywhere in the codebase",tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"getFreq",longname:"getFreq",kind:"constant",scope:"global"},{comment:`/**
 * @deprecated only used in workshop (first-notes)
 * @noAutocomplete
 */`,meta:{range:[2902,3021],filename:"util.mjs",lineno:78,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/core",code:{id:"astnode100031948",name:"exports.midi2note",type:"VariableDeclaration"}},deprecated:"only used in workshop (first-notes)",tags:[{originalTitle:"noAutocomplete",title:"noautocomplete",text:""}],name:"midi2note",longname:"midi2note",kind:"constant",scope:"global"},{comment:`/**
 * Sends notes to Csound for rendering with MIDI semantics. The hap value is
 * translated to these Csound pfields:
 *
 *  p1 -- Csound instrument either as a number (1-based, can be a fraction),
 *        or as a string name.
 *  p2 -- time in beats (usually seconds) from start of performance.
 *  p3 -- duration in beats (usually seconds).
 *  p4 -- MIDI key number (as a real number, not an integer but in [0, 127].
 *  p5 -- MIDI velocity (as a real number, not an integer but in [0, 127].
 *  p6 -- Strudel controls, as a string.
 */`,meta:{range:[4583,5898],filename:"index.mjs",lineno:137,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/csound",code:{id:"astnode100033913",name:"exports.csoundm",type:"VariableDeclaration"}},description:`<p>Sends notes to Csound for rendering with MIDI semantics. The hap value is
translated to these Csound pfields:</p>
<p>p1 -- Csound instrument either as a number (1-based, can be a fraction),
or as a string name.
p2 -- time in beats (usually seconds) from start of performance.
p3 -- duration in beats (usually seconds).
p4 -- MIDI key number (as a real number, not an integer but in [0, 127].
p5 -- MIDI velocity (as a real number, not an integer but in [0, 127].
p6 -- Strudel controls, as a string.</p>`,name:"csoundm",longname:"csoundm",kind:"constant",scope:"global"},{comment:`/**
 *
 * Sends each hap as an OSC message, which can be picked up by SuperCollider or any other OSC-enabled software.
 * For more info, read [MIDI & OSC in the docs](https://strudel.cc/learn/input-output/)
 *
 * @name osc
 * @memberof Pattern
 * @returns Pattern
 */`,meta:{filename:"osc.mjs",lineno:37,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/osc",code:{}},description:`<p>Sends each hap as an OSC message, which can be picked up by SuperCollider or any other OSC-enabled software.
For more info, read <a href="https://strudel.cc/learn/input-output/">MIDI &amp; OSC in the docs</a></p>`,name:"osc",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],scope:"static",longname:"Pattern.osc",kind:"member"},{comment:`/** Generates a reverb impulse response.

 @param {!Object} params TODO: Document the properties.
 @param {!function(!AudioBuffer)} callback Function to call when
  the impulse response has been generated. The impulse response
  is passed to this function as its parameter. May be called
  immediately within the current execution context, or later. */`,meta:{range:[969,2138],filename:"reverbGen.mjs",lineno:24,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/superdough",code:{id:"astnode100057082",name:"reverbGen.generateReverb",type:"FunctionExpression",paramnames:["params","callback"]},vars:{audioContext:"reverbGen.generateReverb~audioContext",sampleRate:"reverbGen.generateReverb~sampleRate",numChannels:"reverbGen.generateReverb~numChannels",totalTime:"reverbGen.generateReverb~totalTime",decaySampleFrames:"reverbGen.generateReverb~decaySampleFrames",numSampleFrames:"reverbGen.generateReverb~numSampleFrames",fadeInSampleFrames:"reverbGen.generateReverb~fadeInSampleFrames",decayBase:"reverbGen.generateReverb~decayBase",reverbIR:"reverbGen.generateReverb~reverbIR",i:"reverbGen.generateReverb~i",chan:"reverbGen.generateReverb~chan",j:"reverbGen.generateReverb~j","chan[undefined]":"reverbGen.generateReverb~chan.undefined]"}},description:"<p>Generates a reverb impulse response.</p>",params:[{type:{names:["Object"]},nullable:!1,description:"<p>TODO: Document the properties.</p>",name:"params"},{type:{names:["function"]},nullable:!1,description:`<p>Function to call when
the impulse response has been generated. The impulse response
is passed to this function as its parameter. May be called
immediately within the current execution context, or later.</p>`,name:"callback"}],name:"generateReverb",longname:"reverbGen.generateReverb",kind:"function",memberof:"reverbGen",scope:"static"},{comment:`/** Creates a canvas element showing a graph of the given data.


 @param {!Float32Array} data An array of numbers, or a Float32Array.
 @param {number} width Width in pixels of the canvas.
 @param {number} height Height in pixels of the canvas.
 @param {number} min Minimum value of data for the graph (lower edge).
 @param {number} max Maximum value of data in the graph (upper edge).
 @return {!CanvasElement} The generated canvas element. */`,meta:{range:[2586,3097],filename:"reverbGen.mjs",lineno:58,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/superdough",code:{id:"astnode100057262",name:"reverbGen.generateGraph",type:"FunctionExpression",paramnames:["data","width","height","min","max"]},vars:{canvas:"reverbGen.generateGraph~canvas","canvas.width":"reverbGen.generateGraph~canvas.width","canvas.height":"reverbGen.generateGraph~canvas.height",gc:"reverbGen.generateGraph~gc","gc.fillStyle":"reverbGen.generateGraph~gc.fillStyle",xscale:"reverbGen.generateGraph~xscale",yscale:"reverbGen.generateGraph~yscale",i:"reverbGen.generateGraph~i"}},description:"<p>Creates a canvas element showing a graph of the given data.</p>",params:[{type:{names:["Float32Array"]},nullable:!1,description:"<p>An array of numbers, or a Float32Array.</p>",name:"data"},{type:{names:["number"]},description:"<p>Width in pixels of the canvas.</p>",name:"width"},{type:{names:["number"]},description:"<p>Height in pixels of the canvas.</p>",name:"height"},{type:{names:["number"]},description:"<p>Minimum value of data for the graph (lower edge).</p>",name:"min"},{type:{names:["number"]},description:"<p>Maximum value of data in the graph (upper edge).</p>",name:"max"}],returns:[{type:{names:["CanvasElement"]},nullable:!1,description:"<p>The generated canvas element.</p>"}],name:"generateGraph",longname:"reverbGen.generateGraph",kind:"function",memberof:"reverbGen",scope:"static"},{comment:`/** Applies a constantly changing lowpass filter to the given sound.

 @private
 @param {!AudioBuffer} input
 @param {number} lpFreqStart
 @param {number} lpFreqEnd
 @param {number} lpFreqEndAt
 @param {!function(!AudioBuffer)} callback May be called
  immediately within the current execution context, or later.*/`,meta:{range:[3419,4357],filename:"reverbGen.mjs",lineno:83,columnno:4,path:"/Users/michaelgogins/cloud-5/strudel/packages/superdough",code:{id:"astnode100057377",name:"applyGradualLowpass",type:"FunctionExpression"},vars:{channelData:"applyGradualLowpass~channelData",context:"applyGradualLowpass~context",player:"applyGradualLowpass~player","player.buffer":"applyGradualLowpass~player.buffer",filter:"applyGradualLowpass~filter",lpFreqStart:"applyGradualLowpass~lpFreqStart",lpFreqEnd:"applyGradualLowpass~lpFreqEnd","filter.type":"applyGradualLowpass~filter.type","filter.Q.value":"applyGradualLowpass~filter.Q.value","context.oncomplete":"applyGradualLowpass~context.oncomplete","":null,"window.filterNode":"window.filterNode"}},description:"<p>Applies a constantly changing lowpass filter to the given sound.</p>",access:"private",params:[{type:{names:["AudioBuffer"]},nullable:!1,name:"input"},{type:{names:["number"]},name:"lpFreqStart"},{type:{names:["number"]},name:"lpFreqEnd"},{type:{names:["number"]},name:"lpFreqEndAt"},{type:{names:["function"]},nullable:!1,description:`<p>May be called
immediately within the current execution context, or later.</p>`,name:"callback"}],name:"applyGradualLowpass",longname:"applyGradualLowpass",kind:"function",scope:"global"},{comment:`/** @private
 @param {!AudioBuffer} buffer
 @return {!Array.<!Float32Array>} An array containing the Float32Array of each channel's samples. */`,meta:{range:[4508,4691],filename:"reverbGen.mjs",lineno:116,columnno:4,path:"/Users/michaelgogins/cloud-5/strudel/packages/superdough",code:{id:"astnode100057541",name:"getAllChannelData",type:"FunctionExpression"},vars:{channels:"getAllChannelData~channels",i:"getAllChannelData~i","channels[undefined]":"getAllChannelData~channels.undefined]"}},access:"private",params:[{type:{names:["AudioBuffer"]},nullable:!1,name:"buffer"}],returns:[{type:{names:["Array.<!Float32Array>"]},nullable:!1,description:"<p>An array containing the Float32Array of each channel's samples.</p>"}],name:"getAllChannelData",longname:"getAllChannelData",kind:"function",scope:"global"},{comment:`/** @private
 @return {number} A random number from -1 to 1. */`,meta:{range:[4762,4824],filename:"reverbGen.mjs",lineno:126,columnno:4,path:"/Users/michaelgogins/cloud-5/strudel/packages/superdough",code:{id:"astnode100057576",name:"randomSample",type:"FunctionExpression"}},access:"private",returns:[{type:{names:["number"]},description:"<p>A random number from -1 to 1.</p>"}],name:"randomSample",longname:"randomSample",kind:"function",scope:"global",params:[]},{comment:`/**
 * Loads a collection of samples to use with \`s\`
 * @example
 * samples('github:tidalcycles/Dirt-Samples/master');
 * s("[bd ~]*2, [~ hh]*2, ~ sd")
 * @example
 * samples({
 *  bd: '808bd/BD0000.WAV',
 *  sd: '808sd/SD0010.WAV'
 *  }, 'https://raw.githubusercontent.com/tidalcycles/Dirt-Samples/master/');
 * s("[bd ~]*2, [~ hh]*2, ~ sd")
 * @example
 * samples('shabda:noise,chimp:2')
 * s("noise <chimp:0*2 chimp:1>")
 * @example
 * samples('shabda/speech/fr-FR/f:chocolat')
 * s("chocolat*4")
 */`,meta:{range:[5216,7513],filename:"sampler.mjs",lineno:158,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/superdough",code:{id:"astnode100058305",name:"exports.samples",type:"VariableDeclaration"}},description:"<p>Loads a collection of samples to use with <code>s</code></p>",examples:[`samples('github:tidalcycles/Dirt-Samples/master');
s("[bd ~]*2, [~ hh]*2, ~ sd")`,`samples({
 bd: '808bd/BD0000.WAV',
 sd: '808sd/SD0010.WAV'
 }, 'https://raw.githubusercontent.com/tidalcycles/Dirt-Samples/master/');
s("[bd ~]*2, [~ hh]*2, ~ sd")`,`samples('shabda:noise,chimp:2')
s("noise <chimp:0*2 chimp:1>")`,`samples('shabda/speech/fr-FR/f:chocolat')
s("chocolat*4")`],name:"samples",longname:"samples",kind:"constant",scope:"global"},{comment:`/**
 * Change the pitch of each value by the given amount. Expects numbers or note strings as values.
 * The amount can be given as a number of semitones or as a string in interval short notation.
 * If you don't care about enharmonic correctness, just use numbers. Otherwise, pass the interval of
 * the form: ST where S is the degree number and T the type of interval with
 *
 * - M = major
 * - m = minor
 * - P = perfect
 * - A = augmented
 * - d = diminished
 *
 * Examples intervals:
 *
 * - 1P = unison
 * - 3M = major third
 * - 3m = minor third
 * - 4P = perfect fourth
 * - 4A = augmented fourth
 * - 5P = perfect fifth
 * - 5d = diminished fifth
 *
 * @param {string | number} amount Either number of semitones or interval string.
 * @returns Pattern
 * @memberof Pattern
 * @name transpose
 * @example
 * "c2 c3".fast(2).transpose("<0 -2 5 3>".slow(2)).note()
 * @example
 * "c2 c3".fast(2).transpose("<1P -2M 4P 3m>".slow(2)).note()
 */`,meta:{filename:"tonal.mjs",lineno:58,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/tonal",code:{}},description:`<p>Change the pitch of each value by the given amount. Expects numbers or note strings as values.
The amount can be given as a number of semitones or as a string in interval short notation.
If you don't care about enharmonic correctness, just use numbers. Otherwise, pass the interval of
the form: ST where S is the degree number and T the type of interval with</p>
<ul>
<li>M = major</li>
<li>m = minor</li>
<li>P = perfect</li>
<li>A = augmented</li>
<li>d = diminished</li>
</ul>
<p>Examples intervals:</p>
<ul>
<li>1P = unison</li>
<li>3M = major third</li>
<li>3m = minor third</li>
<li>4P = perfect fourth</li>
<li>4A = augmented fourth</li>
<li>5P = perfect fifth</li>
<li>5d = diminished fifth</li>
</ul>`,params:[{type:{names:["string","number"]},description:"<p>Either number of semitones or interval string.</p>",name:"amount"}],returns:[{description:"<p>Pattern</p>"}],memberof:"Pattern",name:"transpose",examples:['"c2 c3".fast(2).transpose("<0 -2 5 3>".slow(2)).note()','"c2 c3".fast(2).transpose("<1P -2M 4P 3m>".slow(2)).note()'],scope:"static",longname:"Pattern.transpose",kind:"member"},{comment:`/**
 * Transposes notes inside the scale by the number of steps.
 * Expected to be called on a Pattern which already has a {@link Pattern#scale}
 *
 * @memberof Pattern
 * @name scaleTranspose
 * @param {offset} offset number of steps inside the scale
 * @returns Pattern
 * @example
 * "-8 [2,4,6]"
 * .scale('C4 bebop major')
 * .scaleTranspose("<0 -1 -2 -3 -4 -5 -6 -4>")
 * .note()
 */`,meta:{filename:"tonal.mjs",lineno:109,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/tonal",code:{}},description:`<p>Transposes notes inside the scale by the number of steps.
Expected to be called on a Pattern which already has a {@link Pattern#scale}</p>`,memberof:"Pattern",name:"scaleTranspose",params:[{type:{names:["offset"]},description:"<p>number of steps inside the scale</p>",name:"offset"}],returns:[{description:"<p>Pattern</p>"}],examples:[`"-8 [2,4,6]"
.scale('C4 bebop major')
.scaleTranspose("<0 -1 -2 -3 -4 -5 -6 -4>")
.note()`],scope:"static",longname:"Pattern.scaleTranspose",kind:"member"},{comment:`/**
 * Turns numbers into notes in the scale (zero indexed). Also sets scale for other scale operations, like {@link Pattern#scaleTranspose}.
 *
 * A scale consists of a root note (e.g. \`c4\`, \`c\`, \`f#\`, \`bb4\`) followed by semicolon (':') and then a [scale type](https://github.com/tonaljs/tonal/blob/main/packages/scale-type/data.ts).
 *
 * The root note defaults to octave 3, if no octave number is given.
 *
 * @name scale
 * @param {string} scale Name of scale
 * @returns Pattern
 * @example
 * n("0 2 4 6 4 2").scale("C:major")
 * @example
 * n("[0,7] 4 [2,7] 4")
 * .scale("C:<major minor>/2")
 * .s("piano")
 * @example
 * n(rand.range(0,12).segment(8).round())
 * .scale("C:ritusen")
 * .s("folkharp")
 */`,meta:{filename:"tonal.mjs",lineno:136,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/tonal",code:{}},description:`<p>Turns numbers into notes in the scale (zero indexed). Also sets scale for other scale operations, like {@link Pattern#scaleTranspose}.</p>
<p>A scale consists of a root note (e.g. <code>c4</code>, <code>c</code>, <code>f#</code>, <code>bb4</code>) followed by semicolon (':') and then a <a href="https://github.com/tonaljs/tonal/blob/main/packages/scale-type/data.ts">scale type</a>.</p>
<p>The root note defaults to octave 3, if no octave number is given.</p>`,name:"scale",params:[{type:{names:["string"]},description:"<p>Name of scale</p>",name:"scale"}],returns:[{description:"<p>Pattern</p>"}],examples:['n("0 2 4 6 4 2").scale("C:major")',`n("[0,7] 4 [2,7] 4")
.scale("C:<major minor>/2")
.s("piano")`,`n(rand.range(0,12).segment(8).round())
.scale("C:ritusen")
.s("folkharp")`],longname:"scale",kind:"member",scope:"global"},{comment:`/**
 * Adds a new custom voicing dictionary.
 *
 * @name addVoicings
 * @memberof Pattern
 * @param {string} name identifier for the voicing dictionary
 * @param {Object} dictionary maps chord symbol to possible voicings
 * @param {Array} range min, max note
 * @returns Pattern
 * @example
 * addVoicings('cookie', {
 *   7: ['3M 7m 9M 12P 15P', '7m 10M 13M 16M 19P'],
 *   '^7': ['3M 6M 9M 12P 14M', '7M 10M 13M 16M 19P'],
 *   m7: ['8P 11P 14m 17m 19P', '5P 8P 11P 14m 17m'],
 *   m7b5: ['3m 5d 8P 11P 14m', '5d 8P 11P 14m 17m'],
 *   o7: ['3m 6M 9M 11A 15P'],
 *   '7alt': ['3M 7m 10m 13m 15P'],
 *   '7#11': ['7m 10m 13m 15P 17m'],
 * }, ['C3', 'C6'])
 * "<C^7 A7 Dm7 G7>".voicings('cookie').note()
 */`,meta:{filename:"voicings.mjs",lineno:84,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/tonal",code:{}},description:"<p>Adds a new custom voicing dictionary.</p>",name:"addVoicings",memberof:"Pattern",params:[{type:{names:["string"]},description:"<p>identifier for the voicing dictionary</p>",name:"name"},{type:{names:["Object"]},description:"<p>maps chord symbol to possible voicings</p>",name:"dictionary"},{type:{names:["Array"]},description:"<p>min, max note</p>",name:"range"}],returns:[{description:"<p>Pattern</p>"}],examples:[`addVoicings('cookie', {
  7: ['3M 7m 9M 12P 15P', '7m 10M 13M 16M 19P'],
  '^7': ['3M 6M 9M 12P 14M', '7M 10M 13M 16M 19P'],
  m7: ['8P 11P 14m 17m 19P', '5P 8P 11P 14m 17m'],
  m7b5: ['3m 5d 8P 11P 14m', '5d 8P 11P 14m 17m'],
  o7: ['3m 6M 9M 11A 15P'],
  '7alt': ['3M 7m 10m 13m 15P'],
  '7#11': ['7m 10m 13m 15P 17m'],
}, ['C3', 'C6'])
"<C^7 A7 Dm7 G7>".voicings('cookie').note()`],scope:"static",longname:"Pattern.addVoicings",kind:"member"},{comment:`/**
 * DEPRECATED: still works, but it is recommended you use .voicing instead (without s).
 * Turns chord symbols into voicings, using the smoothest voice leading possible.
 * Uses [chord-voicings package](https://github.com/felixroos/chord-voicings#chord-voicings).
 *
 * @name voicings
 * @memberof Pattern
 * @param {string} dictionary which voicing dictionary to use.
 * @returns Pattern
 * @example
 * stack("<C^7 A7 Dm7 G7>".voicings('lefthand'), "<C3 A2 D3 G2>").note()
 */`,meta:{filename:"voicings.mjs",lineno:125,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/tonal",code:{}},description:`<p>DEPRECATED: still works, but it is recommended you use .voicing instead (without s).
Turns chord symbols into voicings, using the smoothest voice leading possible.
Uses <a href="https://github.com/felixroos/chord-voicings#chord-voicings">chord-voicings package</a>.</p>`,name:"voicings",memberof:"Pattern",params:[{type:{names:["string"]},description:"<p>which voicing dictionary to use.</p>",name:"dictionary"}],returns:[{description:"<p>Pattern</p>"}],examples:[`stack("<C^7 A7 Dm7 G7>".voicings('lefthand'), "<C3 A2 D3 G2>").note()`],scope:"static",longname:"Pattern.voicings",kind:"member"},{comment:`/**
 * Maps the chords of the incoming pattern to root notes in the given octave.
 *
 * @name rootNotes
 * @memberof Pattern
 * @param {octave} octave octave to use
 * @returns Pattern
 * @example
 * "<C^7 A7 Dm7 G7>".rootNotes(2).note()
 */`,meta:{filename:"voicings.mjs",lineno:151,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/tonal",code:{}},description:"<p>Maps the chords of the incoming pattern to root notes in the given octave.</p>",name:"rootNotes",memberof:"Pattern",params:[{type:{names:["octave"]},description:"<p>octave to use</p>",name:"octave"}],returns:[{description:"<p>Pattern</p>"}],examples:['"<C^7 A7 Dm7 G7>".rootNotes(2).note()'],scope:"static",longname:"Pattern.rootNotes",kind:"member"},{comment:`/**
 * Turns chord symbols into voicings. You can use the following control params:
 *
 * - \`chord\`: Note, followed by chord symbol, e.g. C Am G7 Bb^7
 * - \`dict\`: voicing dictionary to use, falls back to default dictionary
 * - \`anchor\`: the note that is used to align the chord
 * - \`mode\`: how the voicing is aligned to the anchor
 *   - \`below\`: top note <= anchor
 *   - \`duck\`: top note <= anchor, anchor excluded
 *   - \`above\`: bottom note >= anchor
 * - \`offset\`: whole number that shifts the voicing up or down to the next voicing
 * - \`n\`: if set, the voicing is played like a scale. Overshooting numbers will be octaved
 *
 * All of the above controls are optional, except \`chord\`.
 * If you pass a pattern of strings to voicing, they will be interpreted as chords.
 *
 * @name voicing
 * @param {string} dictionary which voicing dictionary to use.
 * @returns Pattern
 * @example
 * voicing("<C Am F G>")
 * @example
 * n("0 1 2 3 4 5 6 7").chord("<C Am F G>").voicing()
 */`,meta:{filename:"voicings.mjs",lineno:170,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/tonal",code:{}},description:`<p>Turns chord symbols into voicings. You can use the following control params:</p>
<ul>
<li><code>chord</code>: Note, followed by chord symbol, e.g. C Am G7 Bb^7</li>
<li><code>dict</code>: voicing dictionary to use, falls back to default dictionary</li>
<li><code>anchor</code>: the note that is used to align the chord</li>
<li><code>mode</code>: how the voicing is aligned to the anchor
<ul>
<li><code>below</code>: top note &lt;= anchor</li>
<li><code>duck</code>: top note &lt;= anchor, anchor excluded</li>
<li><code>above</code>: bottom note &gt;= anchor</li>
</ul>
</li>
<li><code>offset</code>: whole number that shifts the voicing up or down to the next voicing</li>
<li><code>n</code>: if set, the voicing is played like a scale. Overshooting numbers will be octaved</li>
</ul>
<p>All of the above controls are optional, except <code>chord</code>.
If you pass a pattern of strings to voicing, they will be interpreted as chords.</p>`,name:"voicing",params:[{type:{names:["string"]},description:"<p>which voicing dictionary to use.</p>",name:"dictionary"}],returns:[{description:"<p>Pattern</p>"}],examples:['voicing("<C Am F G>")','n("0 1 2 3 4 5 6 7").chord("<C Am F G>").voicing()'],longname:"voicing",kind:"member",scope:"global"},{comment:`/**
 * Renders an oscilloscope for the frequency domain of the audio signal.
 * @name fscope
 * @param {string} color line color as hex or color name. defaults to white.
 * @param {number} scale scales the y-axis. Defaults to 0.25
 * @param {number} pos y-position relative to screen height. 0 = top, 1 = bottom of screen
 * @param {number} lean y-axis alignment where 0 = top and 1 = bottom
 * @param {number} min min value
 * @param {number} max max value
 * @example
 * s("sawtooth").fscope()
 */`,meta:{filename:"scope.mjs",lineno:73,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/webaudio",code:{}},description:"<p>Renders an oscilloscope for the frequency domain of the audio signal.</p>",name:"fscope",params:[{type:{names:["string"]},description:"<p>line color as hex or color name. defaults to white.</p>",name:"color"},{type:{names:["number"]},description:"<p>scales the y-axis. Defaults to 0.25</p>",name:"scale"},{type:{names:["number"]},description:"<p>y-position relative to screen height. 0 = top, 1 = bottom of screen</p>",name:"pos"},{type:{names:["number"]},description:"<p>y-axis alignment where 0 = top and 1 = bottom</p>",name:"lean"},{type:{names:["number"]},description:"<p>min value</p>",name:"min"},{type:{names:["number"]},description:"<p>max value</p>",name:"max"}],examples:['s("sawtooth").fscope()'],longname:"fscope",kind:"member",scope:"global"},{comment:`/**
 * Renders an oscilloscope for the time domain of the audio signal.
 * @name scope
 * @synonyms tscope
 * @param {object} config optional config with options:
 * @param {boolean} align if 1, the scope will be aligned to the first zero crossing. defaults to 1
 * @param {string} color line color as hex or color name. defaults to white.
 * @param {number} thickness line thickness. defaults to 3
 * @param {number} scale scales the y-axis. Defaults to 0.25
 * @param {number} pos y-position relative to screen height. 0 = top, 1 = bottom of screen
 * @param {number} trigger amplitude value that is used to align the scope. defaults to 0.
 * @example
 * s("sawtooth").scope()
 */`,meta:{filename:"scope.mjs",lineno:92,columnno:0,path:"/Users/michaelgogins/cloud-5/strudel/packages/webaudio",code:{}},description:"<p>Renders an oscilloscope for the time domain of the audio signal.</p>",name:"scope",synonyms_text:"tscope",synonyms:["tscope"],params:[{type:{names:["object"]},description:"<p>optional config with options:</p>",name:"config"},{type:{names:["boolean"]},description:"<p>if 1, the scope will be aligned to the first zero crossing. defaults to 1</p>",name:"align"},{type:{names:["string"]},description:"<p>line color as hex or color name. defaults to white.</p>",name:"color"},{type:{names:["number"]},description:"<p>line thickness. defaults to 3</p>",name:"thickness"},{type:{names:["number"]},description:"<p>scales the y-axis. Defaults to 0.25</p>",name:"scale"},{type:{names:["number"]},description:"<p>y-position relative to screen height. 0 = top, 1 = bottom of screen</p>",name:"pos"},{type:{names:["number"]},description:"<p>amplitude value that is used to align the scope. defaults to 0.</p>",name:"trigger"}],examples:['s("sawtooth").scope()'],longname:"scope",kind:"member",scope:"global"},{kind:"package",longname:"package:undefined",files:["/Users/michaelgogins/cloud-5/strudel/packages/codemirror/autocomplete.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/codemirror.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/flash.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/highlight.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/html.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/keybindings.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/slider.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/themes/algoboy.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/themes/blackscreen.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/themes/bluescreen.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/themes/strudel-theme.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/themes/teletext.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/themes/terminal.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/themes/whitescreen.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/themes.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/tooltip.mjs","/Users/michaelgogins/cloud-5/strudel/packages/codemirror/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/core/animate.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/color.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/controls.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/cyclist.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/draw.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/drawLine.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/euclid.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/evaluate.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/fraction.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/hap.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/logger.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/pattern.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/pianoroll.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/repl.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/signal.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/speak.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/spiral.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/state.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/test/controls.test.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/test/drawLine.test.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/test/fraction.test.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/test/pattern.test.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/test/solmization.test.js","/Users/michaelgogins/cloud-5/strudel/packages/core/test/util.test.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/test/value.test.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/time.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/timespan.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/ui.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/util.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/value.mjs","/Users/michaelgogins/cloud-5/strudel/packages/core/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/core/zyklus.mjs","/Users/michaelgogins/cloud-5/strudel/packages/csound/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/csound/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/desktopbridge/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/desktopbridge/loggerbridge.mjs","/Users/michaelgogins/cloud-5/strudel/packages/desktopbridge/midibridge.mjs","/Users/michaelgogins/cloud-5/strudel/packages/desktopbridge/oscbridge.mjs","/Users/michaelgogins/cloud-5/strudel/packages/desktopbridge/utils.mjs","/Users/michaelgogins/cloud-5/strudel/packages/embed/embed.js","/Users/michaelgogins/cloud-5/strudel/packages/hydra/hydra.mjs","/Users/michaelgogins/cloud-5/strudel/packages/hydra/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/midi/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/midi/midi.mjs","/Users/michaelgogins/cloud-5/strudel/packages/midi/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/mini/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/mini/krill-parser.js","/Users/michaelgogins/cloud-5/strudel/packages/mini/mini.mjs","/Users/michaelgogins/cloud-5/strudel/packages/mini/test/mini.test.mjs","/Users/michaelgogins/cloud-5/strudel/packages/mini/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/osc/osc.mjs","/Users/michaelgogins/cloud-5/strudel/packages/osc/server.js","/Users/michaelgogins/cloud-5/strudel/packages/osc/tidal-sniffer.js","/Users/michaelgogins/cloud-5/strudel/packages/osc/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/repl/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/repl/prebake.mjs","/Users/michaelgogins/cloud-5/strudel/packages/repl/repl-component.mjs","/Users/michaelgogins/cloud-5/strudel/packages/repl/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/serial/serial.mjs","/Users/michaelgogins/cloud-5/strudel/packages/serial/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/soundfonts/convert.js","/Users/michaelgogins/cloud-5/strudel/packages/soundfonts/fontloader.mjs","/Users/michaelgogins/cloud-5/strudel/packages/soundfonts/gm.mjs","/Users/michaelgogins/cloud-5/strudel/packages/soundfonts/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/soundfonts/list.mjs","/Users/michaelgogins/cloud-5/strudel/packages/soundfonts/sfumato.mjs","/Users/michaelgogins/cloud-5/strudel/packages/soundfonts/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/superdough/dspworklet.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/feedbackdelay.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/helpers.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/logger.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/noise.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/reverb.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/reverbGen.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/sampler.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/superdough.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/synth.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/util.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/superdough/vowel.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/worklets.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/zzfx.mjs","/Users/michaelgogins/cloud-5/strudel/packages/superdough/zzfx_fork.mjs","/Users/michaelgogins/cloud-5/strudel/packages/tonal/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/tonal/ireal.mjs","/Users/michaelgogins/cloud-5/strudel/packages/tonal/test/tonal.test.mjs","/Users/michaelgogins/cloud-5/strudel/packages/tonal/test/tonleiter.test.mjs","/Users/michaelgogins/cloud-5/strudel/packages/tonal/tonal.mjs","/Users/michaelgogins/cloud-5/strudel/packages/tonal/tonleiter.mjs","/Users/michaelgogins/cloud-5/strudel/packages/tonal/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/tonal/voicings.mjs","/Users/michaelgogins/cloud-5/strudel/packages/transpiler/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/transpiler/test/transpiler.test.mjs","/Users/michaelgogins/cloud-5/strudel/packages/transpiler/transpiler.mjs","/Users/michaelgogins/cloud-5/strudel/packages/transpiler/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/web/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/web/web.mjs","/Users/michaelgogins/cloud-5/strudel/packages/webaudio/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/webaudio/scope.mjs","/Users/michaelgogins/cloud-5/strudel/packages/webaudio/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/webaudio/webaudio.mjs","/Users/michaelgogins/cloud-5/strudel/packages/xen/index.mjs","/Users/michaelgogins/cloud-5/strudel/packages/xen/test/xen.test.mjs","/Users/michaelgogins/cloud-5/strudel/packages/xen/tune.mjs","/Users/michaelgogins/cloud-5/strudel/packages/xen/tunejs.js","/Users/michaelgogins/cloud-5/strudel/packages/xen/vite.config.js","/Users/michaelgogins/cloud-5/strudel/packages/xen/xen.mjs"]}],Aa={docs:iv},rv=typeof DOMParser<"u"?new DOMParser:null;let sv=i=>rv?.parseFromString(i,"text/html").querySelectorAll("*"),Wh=i=>Array.isArray(i)?i.flat().join(""):i===void 0?"":i,ov=(i,...e)=>{let t="";for(let n in i)t+=Wh(i[n]),t+=Wh(e[n]);return sv(t)};const Nr=i=>i.name||i.longname,av=i=>{var e=document.createElement("div");return e.innerHTML=i,e.textContent||e.innerText||""};function tf({doc:i,label:e}){return ov`<div class="prose dark:prose-invert max-h-[400px] overflow-auto p-2">
<h1 class="pt-0 mt-0">${e||Nr(i)}</h1>
${i.description}
<ul>
  ${i.params?.map(({name:t,type:n,description:r})=>`<li>${t} : ${n.names?.join(" | ")} ${r?` - ${av(r)}`:""}</li>`)}
</ul>
<div>
  ${i.examples?.map(t=>`<div><pre>${t}</pre></div>`)}
</div>
</div>`[0]}const lv=Aa.docs.filter(i=>Nr(i)&&!Nr(i).startsWith("_")&&!["package"].includes(i.kind)&&!["superdirtOnly","noAutocomplete"].some(e=>i.tags?.find(t=>t.originalTitle===e))).map(i=>({label:Nr(i),info:()=>tf({doc:i}),type:"function"})),cv=i=>{let e=i.matchBefore(/\w*/);return e.from==e.to&&!i.explicit?null:{from:e.from,options:lv}};function hv(i){return i?[My({override:[cv]})]:[]}const uv=i=>i.name||i.longname;let Ta=!1;typeof window<"u"&&(window.addEventListener("keyup",function(i){i.key=="Control"&&(Ta=!1)},!0),window.addEventListener("keydown",function(i){i.key=="Control"&&(Ta=!0)},!0));const pv=yp((i,e,t)=>{if(!Ta)return null;let{from:n,to:r,text:s}=i.state.doc.lineAt(e),o=e,a=e;for(;o>n&&/\w/.test(s[o-n-1]);)o--;for(;a<r&&/\w/.test(s[a-n]);)a++;if(o==e&&t<0||a==e&&t>0)return null;let h=s.slice(o-n,a-n),p=Aa.docs.filter(f=>uv(f)===h)[0];return!p&&(p=Aa.docs.filter(f=>f.synonyms&&f.synonyms.includes(h))[0],!p)?null:{pos:o,end:a,above:!1,arrow:!0,create(f){let g=document.createElement("div");g.className="strudel-tooltip";const b=tf({doc:p,label:h});return g.appendChild(b),{dom:g}}}},{hoverTime:10}),dv=i=>i?pv:[],Ma=G.define(),fv=Pe.define({create(){return z.none},update(i,e){try{for(let t of e.effects)if(t.is(Ma))if(t.value&&e.newDoc.length>0){const n=z.mark({attributes:{style:"background-color: #FFCA2880"}});i=z.set([n.range(0,e.newDoc.length)])}else i=z.set([]);return i}catch(t){return console.warn("flash error",t),i}},provide:i=>W.decorations.from(i)}),mv=(i,e=200)=>{i.dispatch({effects:Ma.of(!0)}),setTimeout(()=>{i.dispatch({effects:Ma.of(!1)})},e)},gv=i=>i?fv:[],nf=G.define(),rf=G.define(),Ra=(i,e)=>{i.dispatch({effects:nf.of(e)})},Ov=(i,e,t)=>{i.dispatch({effects:rf.of({atTime:e,haps:t})})},ja=Pe.define({create(){return z.none},update(i,e){e.docChanged&&(i=i.map(e.changes));for(let t of e.effects)if(t.is(nf)){const n=t.value.filter(([r])=>r<e.newDoc.length).map(([r,s])=>[r,Math.min(s,e.newDoc.length)]).map(r=>z.mark({id:r.join(":"),attributes:{style:"background-color: #00CA2880"}}).range(...r));i=z.set(n,!0)}return i}}),Da=Pe.define({create(){return{atTime:0,haps:new Map}},update(i,e){for(let t of e.effects)if(t.is(rf)){const n=new Map;for(let r of t.value.haps)for(let{start:s,end:o}of r.context.locations){let a=`${s}:${o}`;(!n.has(a)||n.get(a).whole.begin.lt(r.whole.begin))&&n.set(a,r)}i={atTime:t.value.atTime,haps:n}}return i}}),yv=W.decorations.compute([ja,Da],i=>{const e=i.field(ja).iter(),{haps:t}=i.field(Da),n=new bn;for(;e.value;){const{from:r,to:s,value:{spec:{id:o}}}=e;if(t.has(o)){const h=t.get(o).context.color??"var(--foreground)";n.add(r,s,z.mark({attributes:{style:`outline: solid 2px ${h}`}}))}e.next()}return n.finish()}),bv=[ja,Da,yv],vv=(i,e)=>(i&&e&&setTimeout(()=>{Ra(e.editor,e.miniLocations)},100),i?bv:[]);function de(){var i=arguments[0];typeof i=="string"&&(i=document.createElement(i));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];typeof r=="string"?i.setAttribute(n,r):r!=null&&(i[n]=r)}e++}for(;e<arguments.length;e++)sf(i,arguments[e]);return i}function sf(i,e){if(typeof e=="string")i.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)i.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)sf(i,e[t]);else throw new RangeError("Unsupported child node: "+e)}const Nh=typeof String.prototype.normalize=="function"?i=>i.normalize("NFKD"):i=>i;class Hi{constructor(e,t,n=0,r=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,r),this.bufferStart=n,this.normalize=s?a=>s(Nh(a)):Nh,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return _e(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=Xa(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=wt(e);let r=this.normalize(t);for(let s=0,o=n;;s++){let a=r.charCodeAt(s),h=this.match(a,o);if(h)return this.value=h,this;if(s==r.length-1)break;o==n&&s<t.length&&t.charCodeAt(s)==a&&o++}}}match(e,t){let n=null;for(let r=0;r<this.matches.length;r+=2){let s=this.matches[r],o=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?n={from:this.matches[r+1],to:t+1}:(this.matches[r]++,o=!0)),o||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?n={from:t,to:t+1}:this.matches.push(1,t)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferPos)&&(n=null),n}}typeof Symbol<"u"&&(Hi.prototype[Symbol.iterator]=function(){return this});const of={from:-1,to:-1,match:/.*/.exec("")},Ol="gm"+(/x/.unicode==null?"":"u");class yl{constructor(e,t,n,r=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=of,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new af(e,t,n,r,s);this.re=new RegExp(t,Ol+(n?.ignoreCase?"i":"")),this.test=n?.test,this.iter=e.iter();let o=e.lineAt(r);this.curLineStart=o.from,this.matchPos=Us(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,r=n+t[0].length;if(this.matchPos=Us(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Zo=new WeakMap;class oi{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let r=Zo.get(e);if(!r||r.from>=n||r.to<=t){let a=new oi(t,e.sliceString(t,n));return Zo.set(e,a),a}if(r.from==t&&r.to==n)return r;let{text:s,from:o}=r;return o>t&&(s=e.sliceString(t,o)+s,o=t),r.to<n&&(s+=e.sliceString(r.to,n)),Zo.set(e,new oi(o,s)),new oi(t,s.slice(t-o,n-o))}}class af{constructor(e,t,n,r,s){this.text=e,this.to=s,this.done=!1,this.value=of,this.matchPos=Us(e,r),this.re=new RegExp(t,Ol+(n?.ignoreCase?"i":"")),this.test=n?.test,this.flat=oi.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let n=this.flat.from+t.index,r=n+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this.matchPos=Us(this.text,r+(n==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=oi.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(yl.prototype[Symbol.iterator]=af.prototype[Symbol.iterator]=function(){return this});function kv(i){try{return new RegExp(i,Ol),!0}catch{return!1}}function Us(i,e){if(e>=i.length)return e;let t=i.lineAt(e),n;for(;e<t.to&&(n=t.text.charCodeAt(e-t.from))>=56320&&n<57344;)e++;return e}function Ua(i){let e=de("input",{class:"cm-textfield",name:"line"}),t=de("form",{class:"cm-gotoLine",onkeydown:r=>{r.keyCode==27?(r.preventDefault(),i.dispatch({effects:Zs.of(!1)}),i.focus()):r.keyCode==13&&(r.preventDefault(),n())},onsubmit:r=>{r.preventDefault(),n()}},de("label",i.state.phrase("Go to line"),": ",e)," ",de("button",{class:"cm-button",type:"submit"},i.state.phrase("go")));function n(){let r=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!r)return;let{state:s}=i,o=s.doc.lineAt(s.selection.main.head),[,a,h,p,f]=r,g=p?+p.slice(1):0,b=h?+h:o.number;if(h&&f){let S=b/100;a&&(S=S*(a=="-"?-1:1)+o.number/s.doc.lines),b=Math.round(s.doc.lines*S)}else h&&a&&(b=b*(a=="-"?-1:1)+o.number);let k=s.doc.line(Math.max(1,Math.min(s.doc.lines,b)));i.dispatch({effects:Zs.of(!1),selection:R.cursor(k.from+Math.max(0,Math.min(g,k.length))),scrollIntoView:!0}),i.focus()}return{dom:t}}const Zs=G.define(),Ih=Pe.define({create(){return!0},update(i,e){for(let t of e.effects)t.is(Zs)&&(i=t.value);return i},provide:i=>xn.from(i,e=>e?Ua:null)}),wv=i=>{let e=qi(i,Ua);if(!e){let t=[Zs.of(!0)];i.state.field(Ih,!1)==null&&t.push(G.appendConfig.of([Ih,xv])),i.dispatch({effects:t}),e=qi(i,Ua)}return e&&e.dom.querySelector("input").focus(),!0},xv=W.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Sv=({state:i,dispatch:e})=>{let{selection:t}=i,n=R.create(t.ranges.map(r=>i.wordAt(r.head)||R.cursor(r.head)),t.mainIndex);return n.eq(t)?!1:(e(i.update({selection:n})),!0)};function Pv(i,e){let{main:t,ranges:n}=i.selection,r=i.wordAt(t.head),s=r&&r.from==t.from&&r.to==t.to;for(let o=!1,a=new Hi(i.doc,e,n[n.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new Hi(i.doc,e,0,Math.max(0,n[n.length-1].from-1)),o=!0}else{if(o&&n.some(h=>h.from==a.value.from))continue;if(s){let h=i.wordAt(a.value.from);if(!h||h.from!=a.value.from||h.to!=a.value.to)continue}return a.value}}const Qv=({state:i,dispatch:e})=>{let{ranges:t}=i.selection;if(t.some(s=>s.from===s.to))return Sv({state:i,dispatch:e});let n=i.sliceDoc(t[0].from,t[0].to);if(i.selection.ranges.some(s=>i.sliceDoc(s.from,s.to)!=n))return!1;let r=Pv(i,n);return r?(e(i.update({selection:i.selection.addRange(R.range(r.from,r.to),!1),effects:W.scrollIntoView(r.to)})),!0):!1},bl=q.define({combine(i){return gi(i,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:e=>new Uv(e)})}});class vl{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||kv(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,n)=>n=="n"?`
`:n=="r"?"\r":n=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new Tv(this):new $v(this)}getCursor(e,t=0,n){let r=e.doc?e:ae.create({doc:e});return n==null&&(n=r.doc.length),this.regexp?Yn(this,r,t,n):qn(this,r,t,n)}}class lf{constructor(e){this.spec=e}}function qn(i,e,t,n){return new Hi(e.doc,i.unquoted,t,n,i.caseSensitive?void 0:r=>r.toLowerCase(),i.wholeWord?Cv(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function Cv(i,e){return(t,n,r,s)=>((s>t||s+r.length<n)&&(s=Math.max(0,t-2),r=i.sliceString(s,Math.min(i.length,n+2))),(e(Bs(r,t-s))!=Ce.Word||e(Ls(r,t-s))!=Ce.Word)&&(e(Ls(r,n-s))!=Ce.Word||e(Bs(r,n-s))!=Ce.Word))}class $v extends lf{constructor(e){super(e)}nextMatch(e,t,n){let r=qn(this.spec,e,n,e.doc.length).nextOverlapping();return r.done&&(r=qn(this.spec,e,0,t).nextOverlapping()),r.done?null:r.value}prevMatchInRange(e,t,n){for(let r=n;;){let s=Math.max(t,r-1e4-this.spec.unquoted.length),o=qn(this.spec,e,s,r),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==t)return null;r-=1e4}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let n=qn(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let s=qn(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}function Yn(i,e,t,n){return new yl(e.doc,i.search,{ignoreCase:!i.caseSensitive,test:i.wholeWord?Av(e.charCategorizer(e.selection.main.head)):void 0},t,n)}function Bs(i,e){return i.slice(Je(i,e,!1),e)}function Ls(i,e){return i.slice(e,Je(i,e))}function Av(i){return(e,t,n)=>!n[0].length||(i(Bs(n.input,n.index))!=Ce.Word||i(Ls(n.input,n.index))!=Ce.Word)&&(i(Ls(n.input,n.index+n[0].length))!=Ce.Word||i(Bs(n.input,n.index+n[0].length))!=Ce.Word)}class Tv extends lf{nextMatch(e,t,n){let r=Yn(this.spec,e,n,e.doc.length).next();return r.done&&(r=Yn(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,n){for(let r=1;;r++){let s=Math.max(t,n-r*1e4),o=Yn(this.spec,e,s,n),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==t||a.from>s+10))return a;if(s==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(t,n)=>n=="$"?"$":n=="&"?e.match[0]:n!="0"&&+n<e.match.length?e.match[n]:t))}matchAll(e,t){let n=Yn(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let s=Yn(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}const Pn=G.define(),kl=G.define(),yn=Pe.define({create(i){return new Bo(Za(i).create(),null)},update(i,e){for(let t of e.effects)t.is(Pn)?i=new Bo(t.value.create(),i.panel):t.is(kl)&&(i=new Bo(i.query,t.value?wl:null));return i},provide:i=>xn.from(i,e=>e.panel)});class Bo{constructor(e,t){this.query=e,this.panel=t}}const Mv=z.mark({class:"cm-searchMatch"}),Rv=z.mark({class:"cm-searchMatch cm-searchMatch-selected"}),jv=Xe.fromClass(class{constructor(i){this.view=i,this.decorations=this.highlight(i.state.field(yn))}update(i){let e=i.state.field(yn);(e!=i.startState.field(yn)||i.docChanged||i.selectionSet||i.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:i,panel:e}){if(!e||!i.spec.valid)return z.none;let{view:t}=this,n=new bn;for(let r=0,s=t.visibleRanges,o=s.length;r<o;r++){let{from:a,to:h}=s[r];for(;r<o-1&&h>s[r+1].from-2*250;)h=s[++r].to;i.highlight(t.state,a,h,(p,f)=>{let g=t.state.selection.ranges.some(b=>b.from==p&&b.to==f);n.add(p,f,g?Rv:Mv)})}return n.finish()}},{decorations:i=>i.decorations});function rr(i){return e=>{let t=e.state.field(yn,!1);return t&&t.query.spec.valid?i(e,t):uf(e)}}const Fh=rr((i,{query:e})=>{let{to:t}=i.state.selection.main,n=e.nextMatch(i.state,t,t);return n?(i.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:xl(i,n),userEvent:"select.search"}),!0):!1}),Vh=rr((i,{query:e})=>{let{state:t}=i,{from:n}=t.selection.main,r=e.prevMatch(t,n,n);return r?(i.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:xl(i,r),userEvent:"select.search"}),!0):!1}),cf=rr((i,{query:e})=>{let t=e.matchAll(i.state,1e3);return!t||!t.length?!1:(i.dispatch({selection:R.create(t.map(n=>R.range(n.from,n.to))),userEvent:"select.search.matches"}),!0)}),Dv=({state:i,dispatch:e})=>{let t=i.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:n,to:r}=t.main,s=[],o=0;for(let a=new Hi(i.doc,i.sliceDoc(n,r));!a.next().done;){if(s.length>1e3)return!1;a.value.from==n&&(o=s.length),s.push(R.range(a.value.from,a.value.to))}return e(i.update({selection:R.create(s,o),userEvent:"select.search.matches"})),!0},qh=rr((i,{query:e})=>{let{state:t}=i,{from:n,to:r}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,n,n);if(!s)return!1;let o=[],a,h,p=[];if(s.from==n&&s.to==r&&(h=t.toText(e.getReplacement(s)),o.push({from:s.from,to:s.to,insert:h}),s=e.nextMatch(t,s.from,s.to),p.push(W.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(n).number)+"."))),s){let f=o.length==0||o[0].from>=s.to?0:s.to-s.from-h.length;a={anchor:s.from-f,head:s.to-f},p.push(xl(i,s))}return i.dispatch({changes:o,selection:a,scrollIntoView:!!a,effects:p,userEvent:"input.replace"}),!0}),hf=rr((i,{query:e})=>{if(i.state.readOnly)return!1;let t=e.matchAll(i.state,1e9).map(r=>{let{from:s,to:o}=r;return{from:s,to:o,insert:e.getReplacement(r)}});if(!t.length)return!1;let n=i.state.phrase("replaced $ matches",t.length)+".";return i.dispatch({changes:t,effects:W.announce.of(n),userEvent:"input.replace.all"}),!0});function wl(i){return i.state.facet(bl).createPanel(i)}function Za(i,e){var t,n,r,s;let o=i.selection.main,a=o.empty||o.to>o.from+100?"":i.sliceDoc(o.from,o.to);if(e&&!a)return e;let h=i.facet(bl);return new vl({search:((t=e?.literal)!==null&&t!==void 0?t:h.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:(n=e?.caseSensitive)!==null&&n!==void 0?n:h.caseSensitive,literal:(r=e?.literal)!==null&&r!==void 0?r:h.literal,wholeWord:(s=e?.wholeWord)!==null&&s!==void 0?s:h.wholeWord})}const uf=i=>{let e=i.state.field(yn,!1);if(e&&e.panel){let t=qi(i,wl);if(!t)return!1;let n=t.dom.querySelector("[main-field]");if(n&&n!=i.root.activeElement){let r=Za(i.state,e.query.spec);r.valid&&i.dispatch({effects:Pn.of(r)}),n.focus(),n.select()}}else i.dispatch({effects:[kl.of(!0),e?Pn.of(Za(i.state,e.query.spec)):G.appendConfig.of(Bv)]});return!0},pf=i=>{let e=i.state.field(yn,!1);if(!e||!e.panel)return!1;let t=qi(i,wl);return t&&t.dom.contains(i.root.activeElement)&&i.focus(),i.dispatch({effects:kl.of(!1)}),!0};class Uv{constructor(e){this.view=e;let t=this.query=e.state.field(yn).query.spec;this.commit=this.commit.bind(this),this.searchField=de("input",{value:t.search,placeholder:pt(e,"Find"),"aria-label":pt(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=de("input",{value:t.replace,placeholder:pt(e,"Replace"),"aria-label":pt(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=de("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=de("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=de("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function n(r,s,o){return de("button",{class:"cm-button",name:r,onclick:s,type:"button"},o)}this.dom=de("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,n("next",()=>Fh(e),[pt(e,"next")]),n("prev",()=>Vh(e),[pt(e,"previous")]),n("select",()=>cf(e),[pt(e,"all")]),de("label",null,[this.caseField,pt(e,"match case")]),de("label",null,[this.reField,pt(e,"regexp")]),de("label",null,[this.wordField,pt(e,"by word")]),...e.state.readOnly?[]:[de("br"),this.replaceField,n("replace",()=>qh(e),[pt(e,"replace")]),n("replaceAll",()=>hf(e),[pt(e,"replace all")])],de("button",{name:"close",onclick:()=>pf(e),"aria-label":pt(e,"close"),type:"button"},["×"])])}commit(){let e=new vl({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Pn.of(e)}))}keydown(e){PO(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Vh:Fh)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),qh(this.view))}update(e){for(let t of e.transactions)for(let n of t.effects)n.is(Pn)&&!n.value.eq(this.query)&&this.setQuery(n.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(bl).top}}function pt(i,e){return i.state.phrase(e)}const Mr=30,Rr=/[\s\.,:;?!]/;function xl(i,{from:e,to:t}){let n=i.state.doc.lineAt(e),r=i.state.doc.lineAt(t).to,s=Math.max(n.from,e-Mr),o=Math.min(r,t+Mr),a=i.state.sliceDoc(s,o);if(s!=n.from){for(let h=0;h<Mr;h++)if(!Rr.test(a[h+1])&&Rr.test(a[h])){a=a.slice(h);break}}if(o!=r){for(let h=a.length-1;h>a.length-Mr;h--)if(!Rr.test(a[h-1])&&Rr.test(a[h])){a=a.slice(0,h);break}}return W.announce.of(`${i.state.phrase("current match")}. ${a} ${i.state.phrase("on line")} ${n.number}.`)}const Zv=W.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Bv=[yn,Yt.lowest(jv),Zv];let Lv=class{constructor(e,t,n,r,s,o){this.left=e,this.top=t,this.height=n,this.className=r,this.letter=s,this.partial=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",e.style.height=this.height+"px",e.style.lineHeight=this.height+"px",e.style.color=this.partial?"transparent":"",e.className=this.className,e.textContent=this.letter}eq(e){return this.left==e.left&&this.top==e.top&&this.letter==e.letter&&this.height==e.height&&this.className==e.className}},Xv=class{constructor(e){this.view=e,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer cm-vimCursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration="1200ms"}update(e){(e.selectionSet||e.geometryChanged||e.viewportChanged)&&(this.view.requestMeasure(this.measureReq),this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink")}scheduleRedraw(){this.view.requestMeasure(this.measureReq)}readPos(){let{state:e}=this.view,t=[];for(let n of e.selection.ranges){let r=n==e.selection.main,s=Iv(null,this.view,n,r);s&&t.push(s)}return{cursors:t}}drawSel({cursors:e}){if(e.length!=this.cursors.length||e.some((t,n)=>!t.eq(this.cursors[n]))){let t=this.cursorLayer.children;if(t.length!==e.length){this.cursorLayer.textContent="";for(const n of e)this.cursorLayer.appendChild(n.draw())}else e.forEach((n,r)=>n.adjust(t[r]));this.cursors=e}}destroy(){this.cursorLayer.remove()}};const Ev={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-fat-cursor":{position:"absolute",background:"#ff9696",border:"none",whiteSpace:"pre"},"&:not(.cm-focused) .cm-fat-cursor":{background:"none",outline:"solid 1px #ff9696"}},Wv=Yt.highest(W.theme(Ev));function Nv(i){let e=i.scrollDOM.getBoundingClientRect();return{left:(i.textDirection==we.LTR?e.left:e.right-i.scrollDOM.clientWidth)-i.scrollDOM.scrollLeft,top:e.top-i.scrollDOM.scrollTop}}function Iv(i,e,t,n){let r=t.head;var s=1;let o=e.coordsAtPos(r,1);if(!o)return null;let a=Nv(e),h=r<e.state.doc.length&&e.state.sliceDoc(r,r+1);(!h||h==`
`||h=="\r")&&(h=" ");let p=o.bottom-o.top;return new Lv(o.left-a.left,o.top-a.top+p*(1-s),p*s,n?"cm-fat-cursor cm-cursor-primary":"cm-fat-cursor cm-cursor-secondary",h,s!=1)}const Fv=W.theme({".cm-emacsMode .cm-cursorLayer:not(.cm-vimCursorLayer)":{display:"none"},".cm-vim-panel":{padding:"5px 10px",backgroundColor:"#fffa8f",fontFamily:"monospace"},".cm-vim-panel input":{border:"none",outline:"none",backgroundColor:"#fffa8f"}}),Vv=Xe.fromClass(class{constructor(i){this.status="",this.view=i,this.em=new Dn(i),this.blockCursor=new Xv(i),this.view.scrollDOM.classList.add("cm-emacsMode")}update(i){i.docChanged&&(this.em.$emacsMark=null,this.em.updateMarksOnChange(i.changes)),this.blockCursor.update(i)}destroy(){this.view.scrollDOM.classList.remove("cm-emacsMode"),this.blockCursor.destroy()}},{eventHandlers:{mousedown:function(){this.em.$emacsMark=null}},provide:i=>wn.of([{any:function(e,t){var n;return!!(!((n=e.plugin(i))===null||n===void 0)&&n.em.handleKeyboard(t))}}])}),qv=G.define(),Yv=Pe.define({create:()=>!1,update(i,e){for(let t of e.effects)t.is(qv)&&(i=t.value);return i},provide:i=>xn.from(i,e=>e?_v:null)});function _v(i){let e=document.createElement("div");return e.className="cm-vim-panel",{top:!1,dom:e}}function zv(i={}){return[Fv,Vv,Wv,Yv]}var Gv={Return:"Return",Escape:"Esc",Insert:"Ins",ArrowLeft:"Left",ArrowRight:"Right",ArrowUp:"Up",ArrowDown:"Down",Enter:"Return",Divide:"/",Slash:"/",Multiply:"*",Subtract:"-",Minus:"-",Equal:"="},Hv={Shift:1,Alt:1,Command:1,Control:1,CapsLock:1};const Lo={};class Dn{constructor(e){this.view=e,this.$data={count:0,keyChain:"",lastCommand:""},this.$emacsMarkRing=[],this.$emacsMark=null}static bindKey(e,t){e.split("|").forEach(function(n){let r="",s=n.split(/\s+/);s.forEach(function(o,a){let h=o.split(/-(?=.)/),p=h.pop();h.length&&(r+=h.sort().join("-")+"-"),r+=p,a===s.length-1?Lo[r]=t:(Lo[r]="null",r+=" ")})})}static getKey(e){var t=e.code,n=e.key;if(Hv[n])return["","",""];t.length>1&&(t[0]=="N"&&(t=t.replace(/^Numpad/,"")),t[0]=="K"&&(t=t.replace(/^Key/,""))),t=Gv[t]||t,t.length==1&&(t=t.toLowerCase());var r="";return e.ctrlKey&&(r+="C-"),e.metaKey&&(r+="CMD-"),e.altKey&&(r+="M-"),e.shiftKey&&(r+="S-"),[t,r,n]}static addCommands(e){Object.keys(e).forEach(function(t){var n=e[t];typeof n=="function"&&(n={exec:n}),Dn.commands[t]=n})}static execCommand(e,t,n,r=1){var s=void 0;if(typeof e=="function")for(var o=0;o<r;o++)e(t.view);else if(e!=="null")if(e.exec){r>1&&e.handlesCount&&(n||(n={}),typeof n=="object"&&(n.count=r),r=1);for(var o=0;o<r;o++)s=e.exec(t,n||{})}else throw new Error("missformed command");return s}handleKeyboard(e){var t=Dn.getKey(e),n=this.findCommand(t);if(n&&n.command){var r=Dn.execCommand(n.command,this,n.args,n.count);if(r===!1)return}return n}findCommand([e,t,n]){if(e){var r=this,s=this.$data;if(!t&&e.length==1&&(r.pushEmacsMark(),s.count)){var o=new Array(s.count+1).join(n);return s.count=null,{command:"insertstring",args:o}}if(t=="C-"||s.count){var p=parseInt(e[e.length-1]);if(typeof p=="number"&&!isNaN(p))return s.count=Math.max(s.count||0,0),s.count=10*s.count+p,{command:"null"}}t&&(e=t+e),s.keyChain&&(e=s.keyChain+=" "+e);var a=Lo[e];if(s.keyChain=a=="null"?e:"",!!a){if(a==="null")return{command:"null"};if(a==="universalArgument")return s.count=-4,{command:"null"};var h;if(typeof a!="string"&&(h=a.args,a.command&&(a=a.command)),(a==="insertstring"||a===fl||a===hl)&&r.pushEmacsMark(),!(typeof a=="string"&&(a=Dn.commands[a],!a))){!a.readOnly&&!a.isYank&&(s.lastCommand=null);var p=s.count||1;return s.count&&(s.count=0),{command:a,args:h,count:p}}}}}showCommandLine(e){console.error("TODO")}updateMarksOnChange(e){this.$emacsMark&&(this.$emacsMark=this.updateMark(this.$emacsMark,e)),this.$emacsMarkRing=this.$emacsMarkRing.map(t=>this.updateMark(t,e)).filter(Boolean)}updateMark(e,t){if(e){var n=e.map(function(r){return t.mapPos(r,1,Qe.TrackDel)}).filter(r=>r!=null);return n.length==0?null:n}}emacsMark(){return this.$emacsMark}setEmacsMark(e){this.$emacsMark=e}pushEmacsMark(e,t){var n=this.$emacsMark;n&&this.$emacsMarkRing.push(n),!e||t?this.setEmacsMark(e):this.$emacsMarkRing.push(e)}popEmacsMark(){var e=this.emacsMark();return e?(this.setEmacsMark(null),e):this.$emacsMarkRing.pop()}getLastEmacsMark(){return this.$emacsMark||this.$emacsMarkRing.slice(-1)[0]}getCopyText(){var e=this.view.state;return e.selection.ranges.map(t=>e.sliceDoc(t.from,t.to)).join(`
`)}clearSelection(){var e=this.view,t=e.state.selection,n=!t.ranges.some(s=>s.from!=s.to);if(n)return!1;var r=t.ranges.map(s=>R.range(s.head,s.head));return e.dispatch({selection:R.create(r,t.mainIndex)}),!0}onPaste(e){var t=this.view,n=t.state.selection,r;if(n.ranges.length>1){var s=e.split(`
`);s.length==n.ranges.length&&(r=s)}var o=0,a=t.state.changeByRange(h=>{var p=r?r[o]:e;return o++,{changes:{from:h.from,to:h.to,insert:p},range:R.cursor(h.from+p.length)}});t.dispatch(a)}}Dn.commands={};function Kv(i){var e=i.Pos;function t(c,u){var d=c.state.vim;if(!d||d.insertMode)return u.head;var m=d.sel.head;if(!m)return u.head;if(!(d.visualBlock&&u.head.line!=m.line))return u.from()==u.anchor&&!u.empty()&&u.head.line==m.line&&u.head.ch!=m.ch?new e(u.head.line,u.head.ch-1):u.head}function n(c,u,d){if(u.line===d.line&&u.ch>=d.ch-1){var m=c.getLine(u.line),O=m.charCodeAt(u.ch);55296<=O&&O<=55551&&(d.ch+=1)}return{start:u,end:d}}var r=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"g<Up>",type:"keyToKey",toKeys:"gk"},{keys:"g<Down>",type:"keyToKey",toKeys:"gj"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h",context:"normal"},{keys:"<Del>",type:"keyToKey",toKeys:"x",context:"normal"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B",context:"normal"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b",context:"normal"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<Ins>",type:"keyToKey",toKeys:"i",context:"normal"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"(",type:"motion",motion:"moveBySentence",motionArgs:{forward:!1}},{keys:")",type:"motion",motion:"moveBySentence",motionArgs:{forward:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"g$",type:"motion",motion:"moveToEndOfDisplayLine"},{keys:"g^",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"g0",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:"=",type:"operator",operator:"indentAuto"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"gn",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!0}},{keys:"gN",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!1}},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-u>",type:"operatorMotion",operator:"delete",motion:"moveToStartOfLine",context:"insert"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-w>",type:"idle",context:"normal"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"gi",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"lastEdit"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"gI",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"bol"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"gJ",type:"action",action:"joinLines",actionArgs:{keepSpaces:!0},isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<character>",type:"action",action:"replayMacro"},{keys:"q<character>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0},context:"normal"},{keys:"R",type:"operator",operator:"change",operatorArgs:{linewise:!0,fullLine:!0},context:"visual",exitVisualBlock:!0},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<character>",type:"action",action:"setMark"},{keys:'"<character>',type:"action",action:"setRegister"},{keys:"<C-r><character>",type:"action",action:"insertRegister",context:"insert",isEdit:!0},{keys:"<C-o>",type:"action",action:"oneNormalCommand",context:"insert"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<character>",type:"motion",motion:"textObjectManipulation"},{keys:"i<character>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],s=r.length,o=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"omap",shortName:"om"},{name:"noremap",shortName:"no"},{name:"nnoremap",shortName:"nn"},{name:"vnoremap",shortName:"vn"},{name:"inoremap",shortName:"ino"},{name:"onoremap",shortName:"ono"},{name:"unmap"},{name:"mapclear",shortName:"mapc"},{name:"nmapclear",shortName:"nmapc"},{name:"vmapclear",shortName:"vmapc"},{name:"imapclear",shortName:"imapc"},{name:"omapclear",shortName:"omapc"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"vglobal",shortName:"v"},{name:"delete",shortName:"d"},{name:"join",shortName:"j"},{name:"normal",shortName:"norm"},{name:"global",shortName:"g"}];function a(c){c.setOption("disableInput",!0),c.setOption("showCursorWhenSelecting",!1),i.signal(c,"vim-mode-change",{mode:"normal"}),c.on("cursorActivity",ec),vi(c),i.on(c.getInputField(),"paste",A(c))}function h(c){c.setOption("disableInput",!1),c.off("cursorActivity",ec),i.off(c.getInputField(),"paste",A(c)),c.state.vim=null,cr&&clearTimeout(cr)}function p(c,u){this==i.keyMap.vim&&(c.options.$customCursor=null,i.rmClass(c.getWrapperElement(),"cm-fat-cursor")),(!u||u.attach!=f)&&h(c)}function f(c,u){this==i.keyMap.vim&&(c.curOp&&(c.curOp.selectionChanged=!0),c.options.$customCursor=t,i.addClass(c.getWrapperElement(),"cm-fat-cursor")),(!u||u.attach!=f)&&a(c)}i.defineOption("vimMode",!1,function(c,u,d){u&&c.getOption("keyMap")!="vim"?c.setOption("keyMap","vim"):!u&&d!=i.Init&&/^vim/.test(c.getOption("keyMap"))&&c.setOption("keyMap","default")});function g(c,u){if(u){if(this[c])return this[c];var d=T(c);if(!d)return!1;var m=st.findKey(u,d);return typeof m=="function"&&i.signal(u,"vim-keypress",d),m}}var b={Shift:"S",Ctrl:"C",Alt:"A",Cmd:"D",Mod:"A",CapsLock:""},k={Enter:"CR",Backspace:"BS",Delete:"Del",Insert:"Ins"},S={};"Left|Right|Up|Down|End|Home".split("|").concat(Object.keys(k)).forEach(function(c){S[(k[c]||"").toLowerCase()]=S[c.toLowerCase()]=c});function T(c){if(c.charAt(0)=="'")return c.charAt(1);var u=c.split(/-(?!$)/),d=u[u.length-1];if(u.length==1&&u[0].length==1)return!1;if(u.length==2&&u[0]=="Shift"&&d.length==1)return!1;for(var m=!1,O=0;O<u.length;O++){var y=u[O];y in b?u[O]=b[y]:m=!0,y in k&&(u[O]=k[y])}return m?(nt(d)&&(u[u.length-1]=d.toLowerCase()),"<"+u.join("-")+">"):!1}function A(c){var u=c.state.vim;return u.onPasteFn||(u.onPasteFn=function(){u.insertMode||(c.setCursor(Me(c.getCursor(),0,1)),In.enterInsertMode(c,{},u))}),u.onPasteFn}var D=/[\d]/,B=[i.isWordChar,function(c){return c&&!i.isWordChar(c)&&!/\s/.test(c)}],I=[function(c){return/\S/.test(c)}];function L(c,u){for(var d=[],m=c;m<c+u;m++)d.push(String.fromCharCode(m));return d}var F=L(65,26),V=L(97,26),ee=L(48,10),Te=[].concat(F,V,ee,["<",">"]),se=[].concat(F,V,ee,["-",'"',".",":","_","/","+"]),te;try{te=new RegExp("^[\\p{Lu}]$","u")}catch{te=/^[A-Z]$/}function ue(c,u){return u>=c.firstLine()&&u<=c.lastLine()}function Ze(c){return/^[a-z]$/.test(c)}function ht(c){return"()[]{}".indexOf(c)!=-1}function rn(c){return D.test(c)}function nt(c){return te.test(c)}function Oe(c){return/^\s*$/.test(c)}function zt(c){return".?!".indexOf(c)!=-1}function yt(c,u){for(var d=0;d<u.length;d++)if(u[d]==c)return!0;return!1}var xe={};function it(c,u,d,m,O){if(u===void 0&&!O)throw Error("defaultValue is required unless callback is provided");if(d||(d="string"),xe[c]={type:d,defaultValue:u,callback:O},m)for(var y=0;y<m.length;y++)xe[m[y]]=xe[c];u&&Qt(c,u)}function Qt(c,u,d,m){var O=xe[c];m=m||{};var y=m.scope;if(!O)return new Error("Unknown option: "+c);if(O.type=="boolean"){if(u&&u!==!0)return new Error("Invalid argument: "+c+"="+u);u!==!1&&(u=!0)}O.callback?(y!=="local"&&O.callback(u,void 0),y!=="global"&&d&&O.callback(u,d)):(y!=="local"&&(O.value=O.type=="boolean"?!!u:u),y!=="global"&&d&&(d.state.vim.options[c]={value:u}))}function rt(c,u,d){var m=xe[c];d=d||{};var O=d.scope;if(!m)return new Error("Unknown option: "+c);if(m.callback){var y=u&&m.callback(void 0,u);return O!=="global"&&y!==void 0?y:O!=="local"?m.callback():void 0}else{var y=O!=="global"&&u&&u.state.vim.options[c];return(y||O!=="local"&&m||{}).value}}it("filetype",void 0,"string",["ft"],function(c,u){if(u!==void 0)if(c===void 0){var d=u.getOption("mode");return d=="null"?"":d}else{var d=c==""?"null":c;u.setOption("mode",d)}});var Nn=function(){var c=100,u=-1,d=0,m=0,O=new Array(c);function y(w,Q,P){var M=u%c,j=O[M];function $(X){var U=++u%c,_=O[U];_&&_.clear(),O[U]=w.setBookmark(X)}if(j){var C=j.find();C&&!bt(C,Q)&&$(Q)}else $(Q);$(P),d=u,m=u-c+1,m<0&&(m=0)}function v(w,Q){u+=Q,u>d?u=d:u<m&&(u=m);var P=O[(c+u)%c];if(P&&!P.find()){var M=Q>0?1:-1,j,$=w.getCursor();do if(u+=M,P=O[(c+u)%c],P&&(j=P.find())&&!bt($,j))break;while(u<d&&u>m)}return P}function x(w,Q){var P=u,M=v(w,Q);return u=P,M&&M.find()}return{cachedCursor:void 0,add:y,find:x,move:v}},bi=function(c){return c?{changes:c.changes,expectCursorActivityForChange:c.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};function Ql(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=bi()}Ql.prototype={exitMacroRecordMode:function(){var c=E.macroModeState;c.onRecordingDone&&c.onRecordingDone(),c.onRecordingDone=void 0,c.isRecording=!1},enterMacroRecordMode:function(c,u){var d=E.registerController.getRegister(u);if(d){if(d.clear(),this.latestRegister=u,c.openDialog){var m=on("span",{class:"cm-vim-message"},"recording @"+u);this.onRecordingDone=c.openDialog(m,null,{bottom:!0})}this.isRecording=!0}}};function vi(c){return c.state.vim||(c.state.vim={inputState:new sr,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},insertMode:!1,insertModeReturn:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:null,sel:{},options:{}}),c.state.vim}var E;function Cl(){E={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:Nn(),macroModeState:new Ql,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new $l({}),searchHistoryController:new io,exCommandHistoryController:new io};for(var c in xe){var u=xe[c];u.value=u.defaultValue}}var ki,st={enterVimMode:a,leaveVimMode:h,buildKeyMap:function(){},getRegisterController:function(){return E.registerController},resetVimGlobalState_:Cl,getVimGlobalState_:function(){return E},maybeInitVimState_:vi,suppressErrorLogging:!1,InsertModeKey:ho,map:function(c,u,d){$t.map(c,u,d)},unmap:function(c,u){return $t.unmap(c,u)},noremap:function(c,u,d){$t.map(c,u,d,!0)},mapclear:function(c){var u=r.length,d=s,m=r.slice(0,u-d);if(r=r.slice(u-d),c)for(var O=m.length-1;O>=0;O--){var y=m[O];if(c!==y.context)if(y.context)this._mapCommand(y);else{var v=["normal","insert","visual"];for(var x in v)if(v[x]!==c){var w={};for(var Q in y)w[Q]=y[Q];w.context=v[x],this._mapCommand(w)}}}},setOption:Qt,getOption:rt,defineOption:it,defineEx:function(c,u,d){if(!u)u=c;else if(c.indexOf(u)!==0)throw new Error('(Vim.defineEx) "'+u+'" is not a prefix of "'+c+'", command not registered');Hl[c]=d,$t.commandMap_[u]={name:c,shortName:u,type:"api"}},handleKey:function(c,u,d){var m=this.findKey(c,u,d);if(typeof m=="function")return m()},multiSelectHandleKey:Cm,findKey:function(c,u,d){var m=vi(c);function O(){var Q=E.macroModeState;if(Q.isRecording){if(u=="q")return Q.exitMacroRecordMode(),Ve(c),!0;d!="mapping"&&Sm(Q,u)}}function y(){if(u=="<Esc>"){if(m.visualMode)jt(c);else if(m.insertMode)an(c);else return;return Ve(c),!0}}function v(){if(y())return!0;m.inputState.keyBuffer.push(u);var Q=m.inputState.keyBuffer.join(""),P=u.length==1,M=$n.matchCommand(Q,r,m.inputState,"insert"),j=m.inputState.changeQueue;if(M.type=="none")return Ve(c),!1;if(M.type=="partial"){if(ki&&window.clearTimeout(ki),ki=P&&window.setTimeout(function(){m.insertMode&&m.inputState.keyBuffer.length&&Ve(c)},rt("insertModeEscKeysTimeout")),P){var $=c.listSelections();(!j||j.removed.length!=$.length)&&(j=m.inputState.changeQueue=new Xf),j.inserted+=u;for(var C=0;C<$.length;C++){var X=ut($[C].anchor,$[C].head),U=sn($[C].anchor,$[C].head),_=c.getRange(X,c.state.overwrite?Me(U,0,1):U);j.removed[C]=(j.removed[C]||"")+_}}return!P}if(ki&&window.clearTimeout(ki),M.command&&j){for(var $=c.listSelections(),C=0;C<$.length;C++){var H=$[C].head;c.replaceRange(j.removed[C]||"",Me(H,0,-j.inserted.length),H,"+input")}E.macroModeState.lastInsertModeChanges.changes.pop()}return M.command||Ve(c),M.command}function x(){if(O()||y())return!0;m.inputState.keyBuffer.push(u);var Q=m.inputState.keyBuffer.join("");if(/^[1-9]\d*$/.test(Q))return!0;var P=/^(\d*)(.*)$/.exec(Q);if(!P)return Ve(c),!1;var M=m.visualMode?"visual":"normal",j=P[2]||P[1];m.inputState.operatorShortcut&&m.inputState.operatorShortcut.slice(-1)==j&&(j=m.inputState.operatorShortcut);var $=$n.matchCommand(j,r,m.inputState,M);return $.type=="none"?(Ve(c),!1):$.type=="partial"?!0:$.type=="clear"?(Ve(c),!0):(m.inputState.keyBuffer.length=0,P=/^(\d*)(.*)$/.exec(Q),P[1]&&P[1]!="0"&&m.inputState.pushRepeatDigit(P[1]),$.command)}var w;return m.insertMode?w=v():w=x(),w===!1?!m.insertMode&&u.length===1?function(){return!0}:void 0:w===!0?function(){return!0}:function(){return c.operation(function(){c.curOp.isVimOp=!0;try{w.type=="keyToKey"?no(c,w.toKeys,w):$n.processCommand(c,m,w)}catch(Q){throw c.state.vim=void 0,vi(c),st.suppressErrorLogging||console.log(Q),Q}return!0})}},handleEx:function(c,u){$t.processCommand(c,u)},defineMotion:Wf,defineAction:If,defineOperator:Nf,mapCommand:wm,_mapCommand:Kl,defineRegister:Ef,exitVisualMode:jt,exitInsertMode:an},eo=[],to=!1;function no(c,u,d){if(d){if(eo.indexOf(d)!=-1)return;eo.push(d),to=d.noremap}try{for(var m=vi(c),O=/<(?:[CSMA]-)*\w+>|./gi,y;y=O.exec(u);){var v=y[0],x=m.insertMode,w=st.handleKey(c,v,"mapping");if(!w&&x&&m.insertMode){if(v[0]=="<"){var P=v.toLowerCase().slice(1,-1),Q=P.split("-"),P=Q.pop();if(P=="lt")v="<";else if(P=="space")v=" ";else if(P=="cr")v=`
`;else if(S.hasOwnProperty(P)){v=S[P],rc(c,v);continue}else v=v[0],O.lastIndex=y.index+1}c.replaceSelection(v)}}}finally{to=!1,eo.length=0}}function sr(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=null,this.changeQueue=null}sr.prototype.pushRepeatDigit=function(c){this.operator?this.motionRepeat=this.motionRepeat.concat(c):this.prefixRepeat=this.prefixRepeat.concat(c)},sr.prototype.getRepeat=function(){var c=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(c=1,this.prefixRepeat.length>0&&(c*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(c*=parseInt(this.motionRepeat.join(""),10))),c};function Ve(c,u){c.state.vim.inputState=new sr,i.signal(c,"vim-command-done",u)}function Xf(){this.removed=[],this.inserted=""}function Ct(c,u,d){this.clear(),this.keyBuffer=[c||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!u,this.blockwise=!!d}Ct.prototype={setText:function(c,u,d){this.keyBuffer=[c||""],this.linewise=!!u,this.blockwise=!!d},pushText:function(c,u){u&&(this.linewise||this.keyBuffer.push(`
`),this.linewise=!0),this.keyBuffer.push(c)},pushInsertModeChanges:function(c){this.insertModeChanges.push(bi(c))},pushSearchQuery:function(c){this.searchQueries.push(c)},clear:function(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1},toString:function(){return this.keyBuffer.join("")}};function Ef(c,u){var d=E.registerController.registers;if(!c||c.length!=1)throw Error("Register name must be 1 character");if(d[c])throw Error("Register already defined "+c);d[c]=u,se.push(c)}function $l(c){this.registers=c,this.unnamedRegister=c['"']=new Ct,c["."]=new Ct,c[":"]=new Ct,c["/"]=new Ct,c["+"]=new Ct}$l.prototype={pushText:function(c,u,d,m,O){if(c!=="_"){m&&d.charAt(d.length-1)!==`
`&&(d+=`
`);var y=this.isValidRegister(c)?this.getRegister(c):null;if(!y){switch(u){case"yank":this.registers[0]=new Ct(d,m,O);break;case"delete":case"change":d.indexOf(`
`)==-1?this.registers["-"]=new Ct(d,m):(this.shiftNumericRegisters_(),this.registers[1]=new Ct(d,m));break}this.unnamedRegister.setText(d,m,O);return}var v=nt(c);v?y.pushText(d,m):y.setText(d,m,O),c==="+"&&navigator.clipboard.writeText(d),this.unnamedRegister.setText(y.toString(),m)}},getRegister:function(c){return this.isValidRegister(c)?(c=c.toLowerCase(),this.registers[c]||(this.registers[c]=new Ct),this.registers[c]):this.unnamedRegister},isValidRegister:function(c){return c&&yt(c,se)},shiftNumericRegisters_:function(){for(var c=9;c>=2;c--)this.registers[c]=this.getRegister(""+(c-1))}};function io(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}io.prototype={nextMatch:function(c,u){var d=this.historyBuffer,m=u?-1:1;this.initialPrefix===null&&(this.initialPrefix=c);for(var O=this.iterator+m;u?O>=0:O<d.length;O+=m)for(var y=d[O],v=0;v<=y.length;v++)if(this.initialPrefix==y.substring(0,v))return this.iterator=O,y;if(O>=d.length)return this.iterator=d.length,this.initialPrefix;if(O<0)return c},pushInput:function(c){var u=this.historyBuffer.indexOf(c);u>-1&&this.historyBuffer.splice(u,1),c.length&&this.historyBuffer.push(c)},reset:function(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}};var $n={matchCommand:function(c,u,d,m){var O=Ff(c,u,m,d);if(!O.full&&!O.partial)return{type:"none"};if(!O.full&&O.partial)return{type:"partial"};for(var y,v=0;v<O.full.length;v++){var x=O.full[v];y||(y=x)}if(y.keys.slice(-11)=="<character>"){var w=qf(c);if(!w||w.length>1)return{type:"clear"};d.selectedCharacter=w}return{type:"full",command:y}},processCommand:function(c,u,d){switch(u.inputState.repeatOverride=d.repeatOverride,d.type){case"motion":this.processMotion(c,u,d);break;case"operator":this.processOperator(c,u,d);break;case"operatorMotion":this.processOperatorMotion(c,u,d);break;case"action":this.processAction(c,u,d);break;case"search":this.processSearch(c,u,d);break;case"ex":case"keyToEx":this.processEx(c,u,d);break}},processMotion:function(c,u,d){u.inputState.motion=d.motion,u.inputState.motionArgs=or(d.motionArgs),this.evalInput(c,u)},processOperator:function(c,u,d){var m=u.inputState;if(m.operator)if(m.operator==d.operator){m.motion="expandToLine",m.motionArgs={linewise:!0},this.evalInput(c,u);return}else Ve(c);m.operator=d.operator,m.operatorArgs=or(d.operatorArgs),d.keys.length>1&&(m.operatorShortcut=d.keys),d.exitVisualBlock&&(u.visualBlock=!1,Fn(c)),u.visualMode&&this.evalInput(c,u)},processOperatorMotion:function(c,u,d){var m=u.visualMode,O=or(d.operatorMotionArgs);O&&m&&O.visualLine&&(u.visualLine=!0),this.processOperator(c,u,d),m||this.processMotion(c,u,d)},processAction:function(c,u,d){var m=u.inputState,O=m.getRepeat(),y=!!O,v=or(d.actionArgs)||{};m.selectedCharacter&&(v.selectedCharacter=m.selectedCharacter),d.operator&&this.processOperator(c,u,d),d.motion&&this.processMotion(c,u,d),(d.motion||d.operator)&&this.evalInput(c,u),v.repeat=O||1,v.repeatIsExplicit=y,v.registerName=m.registerName,Ve(c),u.lastMotion=null,d.isEdit&&this.recordLastEdit(u,m,d),In[d.action](c,v,u)},processSearch:function(c,u,d){if(!c.getSearchCursor)return;var m=d.searchArgs.forward,O=d.searchArgs.wholeWordOnly;Dt(c).setReversed(!m);var y=m?"/":"?",v=Dt(c).getQuery(),x=c.getScrollInfo();function w(U,_,H){E.searchHistoryController.pushInput(U),E.searchHistoryController.reset();try{wi(c,U,_,H)}catch{ce(c,"Invalid regex: "+U),Ve(c);return}$n.processMotion(c,u,{type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:d.searchArgs.toJumplist}})}function Q(U){c.scrollTo(x.left,x.top),w(U,!0,!0);var _=E.macroModeState;_.isRecording&&Qm(_,U)}function P(U,_,H){var Y=i.keyName(U),me,qe;Y=="Up"||Y=="Down"?(me=Y=="Up",qe=U.target?U.target.selectionEnd:0,_=E.searchHistoryController.nextMatch(_,me)||"",H(_),qe&&U.target&&(U.target.selectionEnd=U.target.selectionStart=Math.min(qe,U.target.value.length))):Y!="Left"&&Y!="Right"&&Y!="Ctrl"&&Y!="Alt"&&Y!="Shift"&&E.searchHistoryController.reset();var ve;try{ve=wi(c,_,!0,!0)}catch{}ve?c.scrollIntoView(_l(c,!m,ve),30):(lo(c),c.scrollTo(x.left,x.top))}function M(U,_,H){var Y=i.keyName(U);Y=="Esc"||Y=="Ctrl-C"||Y=="Ctrl-["||Y=="Backspace"&&_==""?(E.searchHistoryController.pushInput(_),E.searchHistoryController.reset(),wi(c,v),lo(c),c.scrollTo(x.left,x.top),i.e_stop(U),Ve(c),H(),c.focus()):Y=="Up"||Y=="Down"?i.e_stop(U):Y=="Ctrl-U"&&(i.e_stop(U),H(""))}switch(d.searchArgs.querySrc){case"prompt":var j=E.macroModeState;if(j.isPlaying){var X=j.replaySearchQueries.shift();w(X,!0,!1)}else lr(c,{onClose:Q,prefix:y,desc:"(JavaScript regexp)",onKeyUp:P,onKeyDown:M});break;case"wordUnderCursor":var $=ar(c,!1,!1,!1,!0),C=!0;if($||($=ar(c,!1,!1,!1,!1),C=!1),!$)return;var X=c.getLine($.start.line).substring($.start.ch,$.end.ch);C&&O?X="\\b"+X+"\\b":X=Yf(X),E.jumpList.cachedCursor=c.getCursor(),c.setCursor($.start),w(X,!0,!1);break}},processEx:function(c,u,d){function m(y){E.exCommandHistoryController.pushInput(y),E.exCommandHistoryController.reset(),$t.processCommand(c,y),c.state.vim&&Ve(c)}function O(y,v,x){var w=i.keyName(y),Q,P;(w=="Esc"||w=="Ctrl-C"||w=="Ctrl-["||w=="Backspace"&&v=="")&&(E.exCommandHistoryController.pushInput(v),E.exCommandHistoryController.reset(),i.e_stop(y),Ve(c),x(),c.focus()),w=="Up"||w=="Down"?(i.e_stop(y),Q=w=="Up",P=y.target?y.target.selectionEnd:0,v=E.exCommandHistoryController.nextMatch(v,Q)||"",x(v),P&&y.target&&(y.target.selectionEnd=y.target.selectionStart=Math.min(P,y.target.value.length))):w=="Ctrl-U"?(i.e_stop(y),x("")):w!="Left"&&w!="Right"&&w!="Ctrl"&&w!="Alt"&&w!="Shift"&&E.exCommandHistoryController.reset()}d.type=="keyToEx"?$t.processCommand(c,d.exArgs.input):u.visualMode?lr(c,{onClose:m,prefix:":",value:"'<,'>",onKeyDown:O,selectValueOnOpen:!1}):lr(c,{onClose:m,prefix:":",onKeyDown:O})},evalInput:function(c,u){var d=u.inputState,m=d.motion,O=d.motionArgs||{},y=d.operator,v=d.operatorArgs||{},x=d.registerName,w=u.sel,Q=pe(u.visualMode?Ge(c,w.head):c.getCursor("head")),P=pe(u.visualMode?Ge(c,w.anchor):c.getCursor("anchor")),M=pe(Q),j=pe(P),$,C,X;if(y&&this.recordLastEdit(u,d),d.repeatOverride!==void 0?X=d.repeatOverride:X=d.getRepeat(),X>0&&O.explicitRepeat?O.repeatIsExplicit=!0:(O.noRepeat||!O.explicitRepeat&&X===0)&&(X=1,O.repeatIsExplicit=!1),d.selectedCharacter&&(O.selectedCharacter=v.selectedCharacter=d.selectedCharacter),O.repeat=X,Ve(c),m){var U=Gt[m](c,Q,O,u,d);if(u.lastMotion=Gt[m],!U)return;if(O.toJumplist){var _=E.jumpList,H=_.cachedCursor;H?(Ul(c,H,U),delete _.cachedCursor):Ul(c,Q,U)}U instanceof Array?(C=U[0],$=U[1]):$=U,$||($=pe(Q)),u.visualMode?(u.visualBlock&&$.ch===1/0||($=Ge(c,$,M)),C&&(C=Ge(c,C)),C=C||j,w.anchor=C,w.head=$,Fn(c),Kt(c,u,"<",be(C,$)?C:$),Kt(c,u,">",be(C,$)?$:C)):y||($=Ge(c,$,M),c.setCursor($.line,$.ch))}if(y){if(v.lastSel){C=j;var Y=v.lastSel,me=Math.abs(Y.head.line-Y.anchor.line),qe=Math.abs(Y.head.ch-Y.anchor.ch);Y.visualLine?$=new e(j.line+me,j.ch):Y.visualBlock?$=new e(j.line+me,j.ch+qe):Y.head.line==Y.anchor.line?$=new e(j.line,j.ch+qe):$=new e(j.line+me,j.ch),u.visualMode=!0,u.visualLine=Y.visualLine,u.visualBlock=Y.visualBlock,w=u.sel={anchor:C,head:$},Fn(c)}else u.visualMode&&(v.lastSel={anchor:pe(w.anchor),head:pe(w.head),visualBlock:u.visualBlock,visualLine:u.visualLine});var ve,Be,ie,re,He;if(u.visualMode){ve=ut(w.head,w.anchor),Be=sn(w.head,w.anchor),ie=u.visualLine||v.linewise,re=u.visualBlock?"block":ie?"line":"char";var Re=n(c,ve,Be);if(He=oo(c,{anchor:Re.start,head:Re.end},re),ie){var je=He.ranges;if(re=="block")for(var ln=0;ln<je.length;ln++)je[ln].head.ch=Ee(c,je[ln].head.line);else re=="line"&&(je[0].head=new e(je[0].head.line+1,0))}}else{if(ve=pe(C||j),Be=pe($||M),be(Be,ve)){var $m=ve;ve=Be,Be=$m}ie=O.linewise||v.linewise,ie?em(c,ve,Be):O.forward&&Jf(c,ve,Be),re="char";var Am=!O.inclusive||ie,Re=n(c,ve,Be);He=oo(c,{anchor:Re.start,head:Re.end},re,Am)}c.setSelections(He.ranges,He.primary),u.lastMotion=null,v.repeat=X,v.registerName=x,v.linewise=ie;var po=ro[y](c,v,He.ranges,j,$);u.visualMode&&jt(c,po!=null),po&&c.setCursor(po)}},recordLastEdit:function(c,u,d){var m=E.macroModeState;m.isPlaying||(c.lastEditInputState=u,c.lastEditActionCommand=d,m.lastInsertModeChanges.changes=[],m.lastInsertModeChanges.expectCursorActivityForChange=!1,m.lastInsertModeChanges.visualBlock=c.visualBlock?c.sel.head.line-c.sel.anchor.line:0)}},Gt={moveToTopLine:function(c,u,d){var m=co(c).top+d.repeat-1;return new e(m,Ht(c.getLine(m)))},moveToMiddleLine:function(c){var u=co(c),d=Math.floor((u.top+u.bottom)*.5);return new e(d,Ht(c.getLine(d)))},moveToBottomLine:function(c,u,d){var m=co(c).bottom-d.repeat+1;return new e(m,Ht(c.getLine(m)))},expandToLine:function(c,u,d){var m=u;return new e(m.line+d.repeat-1,1/0)},findNext:function(c,u,d){var m=Dt(c),O=m.getQuery();if(O){var y=!d.forward;return y=m.isReversed()?!y:y,Yl(c,O),_l(c,y,O,d.repeat)}},findAndSelectNextInclusive:function(c,u,d,m,O){var y=Dt(c),v=y.getQuery();if(v){var x=!d.forward;x=y.isReversed()?!x:x;var w=bm(c,x,v,d.repeat,m);if(w){if(O.operator)return w;var Q=w[0],P=new e(w[1].line,w[1].ch-1);if(m.visualMode){(m.visualLine||m.visualBlock)&&(m.visualLine=!1,m.visualBlock=!1,i.signal(c,"vim-mode-change",{mode:"visual",subMode:""}));var M=m.sel.anchor;if(M)return y.isReversed()?d.forward?[M,Q]:[M,P]:d.forward?[M,P]:[M,Q]}else m.visualMode=!0,m.visualLine=!1,m.visualBlock=!1,i.signal(c,"vim-mode-change",{mode:"visual",subMode:""});return x?[P,Q]:[Q,P]}}},goToMark:function(c,u,d,m){var O=hr(c,m,d.selectedCharacter);return O?d.linewise?{line:O.line,ch:Ht(c.getLine(O.line))}:O:null},moveToOtherHighlightedEnd:function(c,u,d,m){if(m.visualBlock&&d.sameLine){var O=m.sel;return[Ge(c,new e(O.anchor.line,O.head.ch)),Ge(c,new e(O.head.line,O.anchor.ch))]}else return[m.sel.head,m.sel.anchor]},jumpToMark:function(c,u,d,m){for(var O=u,y=0;y<d.repeat;y++){var v=O;for(var x in m.marks)if(Ze(x)){var w=m.marks[x].find(),Q=d.forward?be(w,v):be(v,w);if(!Q&&!(d.linewise&&w.line==v.line)){var P=bt(v,O),M=d.forward?Ml(v,w,O):Ml(O,w,v);(P||M)&&(O=w)}}}return d.linewise&&(O=new e(O.line,Ht(c.getLine(O.line)))),O},moveByCharacters:function(c,u,d){var m=u,O=d.repeat,y=d.forward?m.ch+O:m.ch-O;return new e(m.line,y)},moveByLines:function(c,u,d,m){var O=u,y=O.ch;switch(m.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:y=m.lastHPos;break;default:m.lastHPos=y}var v=d.repeat+(d.repeatOffset||0),x=d.forward?O.line+v:O.line-v,w=c.firstLine(),Q=c.lastLine(),P=c.findPosV(O,d.forward?v:-v,"line",m.lastHSPos),M=d.forward?P.line>x:P.line<x;return M&&(x=P.line,y=P.ch),x<w&&O.line==w?this.moveToStartOfLine(c,u,d,m):x>Q&&O.line==Q?Ll(c,u,d,m,!0):(d.toFirstChar&&(y=Ht(c.getLine(x)),m.lastHPos=y),m.lastHSPos=c.charCoords(new e(x,y),"div").left,new e(x,y))},moveByDisplayLines:function(c,u,d,m){var O=u;switch(m.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:m.lastHSPos=c.charCoords(O,"div").left}var y=d.repeat,v=c.findPosV(O,d.forward?y:-y,"line",m.lastHSPos);if(v.hitSide)if(d.forward)var x=c.charCoords(v,"div"),w={top:x.top+8,left:m.lastHSPos},v=c.coordsChar(w,"div");else{var Q=c.charCoords(new e(c.firstLine(),0),"div");Q.left=m.lastHSPos,v=c.coordsChar(Q,"div")}return m.lastHPos=v.ch,v},moveByPage:function(c,u,d){var m=u,O=d.repeat;return c.findPosV(m,d.forward?O:-O,"page")},moveByParagraph:function(c,u,d){var m=d.forward?1:-1;return Xl(c,u,d.repeat,m)},moveBySentence:function(c,u,d){var m=d.forward?1:-1;return lm(c,u,d.repeat,m)},moveByScroll:function(c,u,d,m){var O=c.getScrollInfo(),y=null,v=d.repeat;v||(v=O.clientHeight/(2*c.defaultTextHeight()));var x=c.charCoords(u,"local");if(d.repeat=v,y=Gt.moveByDisplayLines(c,u,d,m),!y)return null;var w=c.charCoords(y,"local");return c.scrollTo(null,O.top+w.top-x.top),y},moveByWords:function(c,u,d){return sm(c,u,d.repeat,!!d.forward,!!d.wordEnd,!!d.bigWord)},moveTillCharacter:function(c,u,d){var m=d.repeat,O=ao(c,m,d.forward,d.selectedCharacter,u),y=d.forward?-1:1;return Zl(y,d),O?(O.ch+=y,O):null},moveToCharacter:function(c,u,d){var m=d.repeat;return Zl(0,d),ao(c,m,d.forward,d.selectedCharacter,u)||u},moveToSymbol:function(c,u,d){var m=d.repeat;return im(c,m,d.forward,d.selectedCharacter)||u},moveToColumn:function(c,u,d,m){var O=d.repeat;return m.lastHPos=O-1,m.lastHSPos=c.charCoords(u,"div").left,om(c,O)},moveToEol:function(c,u,d,m){return Ll(c,u,d,m,!1)},moveToFirstNonWhiteSpaceCharacter:function(c,u){var d=u;return new e(d.line,Ht(c.getLine(d.line)))},moveToMatchedSymbol:function(c,u){for(var d=u,m=d.line,O=d.ch,y=c.getLine(m),v;O<y.length;O++)if(v=y.charAt(O),v&&ht(v)){var x=c.getTokenTypeAt(new e(m,O+1));if(x!=="string"&&x!=="comment")break}if(O<y.length){var w=O==="<"||O===">"?/[(){}[\]<>]/:/[(){}[\]]/,Q=c.findMatchingBracket(new e(m,O),{bracketRegex:w});return Q.to}else return d},moveToStartOfLine:function(c,u){return new e(u.line,0)},moveToLineOrEdgeOfDocument:function(c,u,d){var m=d.forward?c.lastLine():c.firstLine();return d.repeatIsExplicit&&(m=d.repeat-c.getOption("firstLineNumber")),new e(m,Ht(c.getLine(m)))},moveToStartOfDisplayLine:function(c){return c.execCommand("goLineLeft"),c.getCursor()},moveToEndOfDisplayLine:function(c){c.execCommand("goLineRight");var u=c.getCursor();return u.sticky=="before"&&u.ch--,u},textObjectManipulation:function(c,u,d,m){var O={"(":")",")":"(","{":"}","}":"{","[":"]","]":"[","<":">",">":"<"},y={"'":!0,'"':!0,"`":!0},v=d.selectedCharacter;v=="b"?v="(":v=="B"&&(v="{");var x=!d.textObjectInner,w,Q;if(O[v]){if(Q=!0,w=Wl(c,u,v,x),!w){var P=c.getSearchCursor(new RegExp("\\"+v,"g"),u);P.find()&&(w=Wl(c,P.from(),v,x))}}else if(y[v])Q=!0,w=cm(c,u,v,x);else if(v==="W")w=ar(c,x,!x,!0);else if(v==="w")w=ar(c,x,!x,!1);else if(v==="p")if(w=Xl(c,u,d.repeat,0,x),d.linewise=!0,m.visualMode)m.visualLine||(m.visualLine=!0);else{var M=m.inputState.operatorArgs;M&&(M.linewise=!0),w.end.line--}else if(v==="t")w=tm(c,u,x);else if(v==="s"){var j=c.getLine(u.line);u.ch>0&&zt(j[u.ch])&&(u.ch-=1);var $=El(c,u,d.repeat,1,x),C=El(c,u,d.repeat,-1,x);Oe(c.getLine(C.line)[C.ch])&&Oe(c.getLine($.line)[$.ch-1])&&(C={line:C.line,ch:C.ch+1}),w={start:C,end:$}}return w?c.state.vim.visualMode?Hf(c,w.start,w.end,Q):[w.start,w.end]:null},repeatLastCharacterSearch:function(c,u,d){var m=E.lastCharacterSearch,O=d.repeat,y=d.forward===m.forward,v=(m.increment?1:0)*(y?-1:1);c.moveH(-v,"char"),d.inclusive=!!y;var x=ao(c,O,y,m.selectedCharacter);return x?(x.ch+=v,x):(c.moveH(v,"char"),u)}};function Wf(c,u){Gt[c]=u}function Al(c,u){for(var d=[],m=0;m<u;m++)d.push(c);return d}var ro={change:function(c,u,d){var m,O,y=c.state.vim,v=d[0].anchor,x=d[0].head;if(y.visualMode)if(u.fullLine)x.ch=Number.MAX_VALUE,x.line--,c.setSelection(v,x),O=c.getSelection(),c.replaceSelection(""),m=v;else{O=c.getSelection();var j=Al("",d.length);c.replaceSelections(j),m=ut(d[0].head,d[0].anchor)}else{O=c.getRange(v,x);var w=y.lastEditInputState||{};if(w.motion=="moveByWords"&&!Oe(O)){var Q=/\s+$/.exec(O);Q&&w.motionArgs&&w.motionArgs.forward&&(x=Me(x,0,-Q[0].length),O=O.slice(0,-Q[0].length))}var P=new e(v.line-1,Number.MAX_VALUE),M=c.firstLine()==c.lastLine();x.line>c.lastLine()&&u.linewise&&!M?c.replaceRange("",P,x):c.replaceRange("",v,x),u.linewise&&(M||(c.setCursor(P),i.commands.newlineAndIndent(c)),v.ch=Number.MAX_VALUE),m=v}E.registerController.pushText(u.registerName,"change",O,u.linewise,d.length>1),In.enterInsertMode(c,{head:m},c.state.vim)},delete:function(c,u,d){var m,O,y=c.state.vim;if(y.visualBlock){O=c.getSelection();var w=Al("",d.length);c.replaceSelections(w),m=ut(d[0].head,d[0].anchor)}else{var v=d[0].anchor,x=d[0].head;u.linewise&&x.line!=c.firstLine()&&v.line==c.lastLine()&&v.line==x.line-1&&(v.line==c.firstLine()?v.ch=0:v=new e(v.line-1,Ee(c,v.line-1))),O=c.getRange(v,x),c.replaceRange("",v,x),m=v,u.linewise&&(m=Gt.moveToFirstNonWhiteSpaceCharacter(c,v))}return E.registerController.pushText(u.registerName,"delete",O,u.linewise,y.visualBlock),Ge(c,m)},indent:function(c,u,d){var m=c.state.vim;if(c.indentMore)for(var O=m.visualMode?u.repeat:1,y=0;y<O;y++)u.indentRight?c.indentMore():c.indentLess();else{var v=d[0].anchor.line,x=m.visualBlock?d[d.length-1].anchor.line:d[0].head.line,O=m.visualMode?u.repeat:1;u.linewise&&x--;for(var w=v;w<=x;w++)for(var y=0;y<O;y++)c.indentLine(w,u.indentRight)}return Gt.moveToFirstNonWhiteSpaceCharacter(c,d[0].anchor)},indentAuto:function(c,u,d){return c.execCommand("indentAuto"),Gt.moveToFirstNonWhiteSpaceCharacter(c,d[0].anchor)},changeCase:function(c,u,d,m,O){for(var y=c.getSelections(),v=[],x=u.toLower,w=0;w<y.length;w++){var Q=y[w],P="";if(x===!0)P=Q.toLowerCase();else if(x===!1)P=Q.toUpperCase();else for(var M=0;M<Q.length;M++){var j=Q.charAt(M);P+=nt(j)?j.toLowerCase():j.toUpperCase()}v.push(P)}return c.replaceSelections(v),u.shouldMoveCursor?O:!c.state.vim.visualMode&&u.linewise&&d[0].anchor.line+1==d[0].head.line?Gt.moveToFirstNonWhiteSpaceCharacter(c,m):u.linewise?m:ut(d[0].anchor,d[0].head)},yank:function(c,u,d,m){var O=c.state.vim,y=c.getSelection(),v=O.visualMode?ut(O.sel.anchor,O.sel.head,d[0].head,d[0].anchor):m;return E.registerController.pushText(u.registerName,"yank",y,u.linewise,O.visualBlock),v}};function Nf(c,u){ro[c]=u}var In={jumpListWalk:function(c,u,d){if(!d.visualMode){var m=u.repeat,O=u.forward,y=E.jumpList,v=y.move(c,O?m:-m),x=v?v.find():void 0;x=x||c.getCursor(),c.setCursor(x)}},scroll:function(c,u,d){if(!d.visualMode){var m=u.repeat||1,O=c.defaultTextHeight(),y=c.getScrollInfo().top,v=O*m,x=u.forward?y+v:y-v,w=pe(c.getCursor()),Q=c.charCoords(w,"local");if(u.forward)x>Q.top?(w.line+=(x-Q.top)/O,w.line=Math.ceil(w.line),c.setCursor(w),Q=c.charCoords(w,"local"),c.scrollTo(null,Q.top)):c.scrollTo(null,x);else{var P=x+c.getScrollInfo().clientHeight;P<Q.bottom?(w.line-=(Q.bottom-P)/O,w.line=Math.floor(w.line),c.setCursor(w),Q=c.charCoords(w,"local"),c.scrollTo(null,Q.bottom-c.getScrollInfo().clientHeight)):c.scrollTo(null,x)}}},scrollToCursor:function(c,u){var d=c.getCursor().line,m=c.charCoords(new e(d,0),"local"),O=c.getScrollInfo().clientHeight,y=m.top;switch(u.position){case"center":y=m.bottom-O/2;break;case"bottom":var v=new e(d,c.getLine(d).length-1),x=c.charCoords(v,"local"),w=x.bottom-y;y=y-O+w;break}c.scrollTo(null,y)},replayMacro:function(c,u,d){var m=u.selectedCharacter,O=u.repeat,y=E.macroModeState;for(m=="@"?m=y.latestRegister:y.latestRegister=m;O--;)xm(c,d,y,m)},enterMacroRecordMode:function(c,u){var d=E.macroModeState,m=u.selectedCharacter;E.registerController.isValidRegister(m)&&d.enterMacroRecordMode(c,m)},toggleOverwrite:function(c){c.state.overwrite?(c.toggleOverwrite(!1),c.setOption("keyMap","vim-insert"),i.signal(c,"vim-mode-change",{mode:"insert"})):(c.toggleOverwrite(!0),c.setOption("keyMap","vim-replace"),i.signal(c,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(c,u,d){if(!c.getOption("readOnly")){d.insertMode=!0,d.insertModeRepeat=u&&u.repeat||1;var m=u?u.insertAt:null,O=d.sel,y=u.head||c.getCursor("head"),v=c.listSelections().length;if(m=="eol")y=new e(y.line,Ee(c,y.line));else if(m=="bol")y=new e(y.line,0);else if(m=="charAfter"){var x=n(c,y,Me(y,0,1));y=x.end}else if(m=="firstNonBlank"){var x=n(c,y,Gt.moveToFirstNonWhiteSpaceCharacter(c,y));y=x.end}else if(m=="startOfSelectedArea"){if(!d.visualMode)return;d.visualBlock?(y=new e(Math.min(O.head.line,O.anchor.line),Math.min(O.head.ch,O.anchor.ch)),v=Math.abs(O.head.line-O.anchor.line)+1):O.head.line<O.anchor.line?y=O.head:y=new e(O.anchor.line,0)}else if(m=="endOfSelectedArea"){if(!d.visualMode)return;d.visualBlock?(y=new e(Math.min(O.head.line,O.anchor.line),Math.max(O.head.ch,O.anchor.ch)+1),v=Math.abs(O.head.line-O.anchor.line)+1):O.head.line>=O.anchor.line?y=Me(O.head,0,1):y=new e(O.anchor.line,0)}else if(m=="inplace"){if(d.visualMode)return}else m=="lastEdit"&&(y=zl(c)||y);c.setOption("disableInput",!1),u&&u.replace?(c.toggleOverwrite(!0),c.setOption("keyMap","vim-replace"),i.signal(c,"vim-mode-change",{mode:"replace"})):(c.toggleOverwrite(!1),c.setOption("keyMap","vim-insert"),i.signal(c,"vim-mode-change",{mode:"insert"})),E.macroModeState.isPlaying||(c.on("change",Jl),d.insertEnd&&d.insertEnd.clear(),d.insertEnd=c.setBookmark(y,{insertLeft:!0}),i.on(c.getInputField(),"keydown",nc)),d.visualMode&&jt(c),jl(c,y,v)}},toggleVisualMode:function(c,u,d){var m=u.repeat,O=c.getCursor(),y;if(d.visualMode)d.visualLine^u.linewise||d.visualBlock^u.blockwise?(d.visualLine=!!u.linewise,d.visualBlock=!!u.blockwise,i.signal(c,"vim-mode-change",{mode:"visual",subMode:d.visualLine?"linewise":d.visualBlock?"blockwise":""}),Fn(c)):jt(c);else{d.visualMode=!0,d.visualLine=!!u.linewise,d.visualBlock=!!u.blockwise,y=Ge(c,new e(O.line,O.ch+m-1));var v=n(c,O,y);d.sel={anchor:v.start,head:v.end},i.signal(c,"vim-mode-change",{mode:"visual",subMode:d.visualLine?"linewise":d.visualBlock?"blockwise":""}),Fn(c),Kt(c,d,"<",ut(O,y)),Kt(c,d,">",sn(O,y))}},reselectLastSelection:function(c,u,d){var m=d.lastSelection;if(d.visualMode&&Dl(c,d),m){var O=m.anchorMark.find(),y=m.headMark.find();if(!O||!y)return;d.sel={anchor:O,head:y},d.visualMode=!0,d.visualLine=m.visualLine,d.visualBlock=m.visualBlock,Fn(c),Kt(c,d,"<",ut(O,y)),Kt(c,d,">",sn(O,y)),i.signal(c,"vim-mode-change",{mode:"visual",subMode:d.visualLine?"linewise":d.visualBlock?"blockwise":""})}},joinLines:function(c,u,d){var m,O;if(d.visualMode){if(m=c.getCursor("anchor"),O=c.getCursor("head"),be(O,m)){var y=O;O=m,m=y}O.ch=Ee(c,O.line)-1}else{var v=Math.max(u.repeat,2);m=c.getCursor(),O=Ge(c,new e(m.line+v-1,1/0))}for(var x=0,w=m.line;w<O.line;w++){x=Ee(c,m.line);var Q="",P=0;if(!u.keepSpaces){var M=c.getLine(m.line+1);P=M.search(/\S/),P==-1?P=M.length:Q=" "}c.replaceRange(Q,new e(m.line,x),new e(m.line+1,P))}var j=Ge(c,new e(m.line,x));d.visualMode&&jt(c,!1),c.setCursor(j)},newLineAndEnterInsertMode:function(c,u,d){d.insertMode=!0;var m=pe(c.getCursor());if(m.line===c.firstLine()&&!u.after)c.replaceRange(`
`,new e(c.firstLine(),0)),c.setCursor(c.firstLine(),0);else{m.line=u.after?m.line:m.line-1,m.ch=Ee(c,m.line),c.setCursor(m);var O=i.commands.newlineAndIndentContinueComment||i.commands.newlineAndIndent;O(c)}this.enterInsertMode(c,{repeat:u.repeat},d)},paste:function(c,u,d){var m=E.registerController.getRegister(u.registerName);if(u.registerName==="+")navigator.clipboard.readText().then(y=>{this.continuePaste(c,u,d,y,m)});else{var O=m.toString();this.continuePaste(c,u,d,O,m)}},continuePaste:function(c,u,d,m,O){var y=pe(c.getCursor());if(m){if(u.matchIndent){var v=c.getOption("tabSize"),x=function(Re){var je=Re.split("	").length-1,ln=Re.split(" ").length-1;return je*v+ln*1},w=c.getLine(c.getCursor().line),Q=x(w.match(/^\s*/)[0]),P=m.replace(/\n$/,""),M=m!==P,j=x(m.match(/^\s*/)[0]),m=P.replace(/^\s*/gm,function(Re){var je=Q+(x(Re)-j);if(je<0)return"";if(c.getOption("indentWithTabs")){var ln=Math.floor(je/v);return Array(ln+1).join("	")}else return Array(je+1).join(" ")});m+=M?`
`:""}if(u.repeat>1)var m=Array(u.repeat+1).join(m);var $=O.linewise,C=O.blockwise;if(C){m=m.split(`
`),$&&m.pop();for(var X=0;X<m.length;X++)m[X]=m[X]==""?" ":m[X];y.ch+=u.after?1:0,y.ch=Math.min(Ee(c,y.line),y.ch)}else $?d.visualMode?m=d.visualLine?m.slice(0,-1):`
`+m.slice(0,m.length-1)+`
`:u.after?(m=`
`+m.slice(0,m.length-1),y.ch=Ee(c,y.line)):y.ch=0:y.ch+=u.after?1:0;var U;if(d.visualMode){d.lastPastedText=m;var _,H=Gf(c,d),Y=H[0],me=H[1],qe=c.getSelection(),ve=c.listSelections(),Be=new Array(ve.length).join("1").split("1");d.lastSelection&&(_=d.lastSelection.headMark.find()),E.registerController.unnamedRegister.setText(qe),C?(c.replaceSelections(Be),me=new e(Y.line+m.length-1,Y.ch),c.setCursor(Y),Rl(c,me),c.replaceSelections(m),U=Y):d.visualBlock?(c.replaceSelections(Be),c.setCursor(Y),c.replaceRange(m,Y,Y),U=Y):(c.replaceRange(m,Y,me),U=c.posFromIndex(c.indexFromPos(Y)+m.length-1)),_&&(d.lastSelection.headMark=c.setBookmark(_)),$&&(U.ch=0)}else if(C){c.setCursor(y);for(var X=0;X<m.length;X++){var ie=y.line+X;ie>c.lastLine()&&c.replaceRange(`
`,new e(ie,0));var re=Ee(c,ie);re<y.ch&&_f(c,ie,y.ch)}c.setCursor(y),Rl(c,new e(y.line+m.length-1,y.ch)),c.replaceSelections(m),U=y}else if(c.replaceRange(m,y),$){var ie=u.after?y.line+1:y.line;U=new e(ie,Ht(c.getLine(ie)))}else U=pe(y),/\n/.test(m)||(U.ch+=m.length-(u.after?1:0));d.visualMode&&jt(c,!1),c.setCursor(U)}},undo:function(c,u){c.operation(function(){Tl(c,i.commands.undo,u.repeat)(),c.setCursor(Ge(c,c.getCursor("start")))})},redo:function(c,u){Tl(c,i.commands.redo,u.repeat)()},setRegister:function(c,u,d){d.inputState.registerName=u.selectedCharacter},insertRegister:function(c,u,d){var m=u.selectedCharacter,O=E.registerController.getRegister(m),y=O&&O.toString();y&&c.replaceSelection(y)},oneNormalCommand:function(c,u,d){an(c,!0),d.insertModeReturn=!0,i.on(c,"vim-command-done",function m(){d.visualMode||(d.insertModeReturn&&(d.insertModeReturn=!1,d.insertMode||In.enterInsertMode(c,{},d)),i.off(c,"vim-command-done",m))})},setMark:function(c,u,d){var m=u.selectedCharacter;Kt(c,d,m,c.getCursor())},replace:function(c,u,d){var m=u.selectedCharacter,O=c.getCursor(),y,v,x=c.listSelections();if(d.visualMode)O=c.getCursor("start"),v=c.getCursor("end");else{var w=c.getLine(O.line);y=O.ch+u.repeat,y>w.length&&(y=w.length),v=new e(O.line,y)}var Q=n(c,O,v);if(O=Q.start,v=Q.end,m==`
`)d.visualMode||c.replaceRange("",O,v),(i.commands.newlineAndIndentContinueComment||i.commands.newlineAndIndent)(c);else{var P=c.getRange(O,v);if(P=P.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m),P=P.replace(/[^\n]/g,m),d.visualBlock){var M=new Array(c.getOption("tabSize")+1).join(" ");P=c.getSelection(),P=P.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m),P=P.replace(/\t/g,M).replace(/[^\n]/g,m).split(`
`),c.replaceSelections(P)}else c.replaceRange(P,O,v);d.visualMode?(O=be(x[0].anchor,x[0].head)?x[0].anchor:x[0].head,c.setCursor(O),jt(c,!1)):c.setCursor(Me(v,0,-1))}},incrementNumberToken:function(c,u){for(var d=c.getCursor(),m=c.getLine(d.line),O=/(-?)(?:(0x)([\da-f]+)|(0b|0|)(\d+))/gi,y,v,x,w;(y=O.exec(m))!==null&&(v=y.index,x=v+y[0].length,!(d.ch<x)););if(!(!u.backtrack&&x<=d.ch)){if(y){var Q=y[2]||y[4],P=y[3]||y[5],M=u.increase?1:-1,j={"0b":2,0:8,"":10,"0x":16}[Q.toLowerCase()],$=parseInt(y[1]+P,j)+M*u.repeat;w=$.toString(j);var C=Q?new Array(P.length-w.length+1+y[1].length).join("0"):"";w.charAt(0)==="-"?w="-"+Q+C+w.substr(1):w=Q+C+w;var X=new e(d.line,v),U=new e(d.line,x);c.replaceRange(w,X,U)}else return;c.setCursor(new e(d.line,v+w.length-1))}},repeatLastEdit:function(c,u,d){var m=d.lastEditInputState;if(m){var O=u.repeat;O&&u.repeatIsExplicit?d.lastEditInputState.repeatOverride=O:O=d.lastEditInputState.repeatOverride||O,ic(c,d,O,!1)}},indent:function(c,u){c.indentLine(c.getCursor().line,u.indentRight)},exitInsertMode:an};function If(c,u){In[c]=u}function Ge(c,u,d){var m=c.state.vim,O=m.insertMode||m.visualMode,y=Math.min(Math.max(c.firstLine(),u.line),c.lastLine()),v=c.getLine(y),x=v.length-1+ +!!O,w=Math.min(Math.max(0,u.ch),x),Q=v.charCodeAt(w);if(56320<=Q&&Q<=57343){var P=1;d&&d.line==y&&d.ch>w&&(P=-1),w+=P,w>x&&(w-=2)}return new e(y,w)}function or(c){var u={};for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d]);return u}function Me(c,u,d){return typeof u=="object"&&(d=u.ch,u=u.line),new e(c.line+u,c.ch+d)}function Ff(c,u,d,m){for(var O=m.operator,y,v=[],x=[],w=to?u.length-s:0,Q=w;Q<u.length;Q++){var P=u[Q];d=="insert"&&P.context!="insert"||(P.context=="operatorPending"?!O:P.context&&P.context!=d)||m.operator&&P.type=="action"||!(y=Vf(c,P.keys))||(y=="partial"&&v.push(P),y=="full"&&x.push(P))}return{partial:v.length&&v,full:x.length&&x}}function Vf(c,u){if(u.slice(-11)=="<character>"){var d=u.length-11,m=c.slice(0,d),O=u.slice(0,d);return m==O&&c.length>d?"full":O.indexOf(m)==0?"partial":!1}else return c==u?"full":u.indexOf(c)==0?"partial":!1}function qf(c){var u=/^.*(<[^>]+>)$/.exec(c),d=u?u[1]:c.slice(-1);if(d.length>1)switch(d){case"<CR>":d=`
`;break;case"<Space>":d=" ";break;default:d="";break}return d}function Tl(c,u,d){return function(){for(var m=0;m<d;m++)u(c)}}function pe(c){return new e(c.line,c.ch)}function bt(c,u){return c.ch==u.ch&&c.line==u.line}function be(c,u){return c.line<u.line||c.line==u.line&&c.ch<u.ch}function ut(c,u){return arguments.length>2&&(u=ut.apply(void 0,Array.prototype.slice.call(arguments,1))),be(c,u)?c:u}function sn(c,u){return arguments.length>2&&(u=sn.apply(void 0,Array.prototype.slice.call(arguments,1))),be(c,u)?u:c}function Ml(c,u,d){var m=be(c,u),O=be(u,d);return m&&O}function Ee(c,u){return c.getLine(u).length}function so(c){return c.trim?c.trim():c.replace(/^\s+|\s+$/g,"")}function Yf(c){return c.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}function _f(c,u,d){var m=Ee(c,u),O=new Array(d-m+1).join(" ");c.setCursor(new e(u,m)),c.replaceRange(O,c.getCursor())}function Rl(c,u){var d=[],m=c.listSelections(),O=pe(c.clipPos(u)),y=!bt(u,O),v=c.getCursor("head"),x=zf(m,v),w=bt(m[x].head,m[x].anchor),Q=m.length-1,P=Q-x>x?Q:0,M=m[P].anchor,j=Math.min(M.line,O.line),$=Math.max(M.line,O.line),C=M.ch,X=O.ch,U=m[P].head.ch-C,_=X-C;U>0&&_<=0?(C++,y||X--):U<0&&_>=0?(C--,w||X++):U<0&&_==-1&&(C--,X++);for(var H=j;H<=$;H++){var Y={anchor:new e(H,C),head:new e(H,X)};d.push(Y)}return c.setSelections(d),u.ch=X,M.ch=C,M}function jl(c,u,d){for(var m=[],O=0;O<d;O++){var y=Me(u,O,0);m.push({anchor:y,head:y})}c.setSelections(m,0)}function zf(c,u,d){for(var m=0;m<c.length;m++){var O=d!="head"&&bt(c[m].anchor,u),y=d!="anchor"&&bt(c[m].head,u);if(O||y)return m}return-1}function Gf(c,u){var d=u.lastSelection,m=function(){var y=c.listSelections(),v=y[0],x=y[y.length-1],w=be(v.anchor,v.head)?v.anchor:v.head,Q=be(x.anchor,x.head)?x.head:x.anchor;return[w,Q]},O=function(){var y=c.getCursor(),v=c.getCursor(),x=d.visualBlock;if(x){var w=x.width,Q=x.height;v=new e(y.line+Q,y.ch+w);for(var P=[],M=y.line;M<v.line;M++){var j=new e(M,y.ch),$=new e(M,v.ch),C={anchor:j,head:$};P.push(C)}c.setSelections(P)}else{var X=d.anchorMark.find(),U=d.headMark.find(),_=U.line-X.line,H=U.ch-X.ch;v={line:v.line+_,ch:_?v.ch:H+v.ch},d.visualLine&&(y=new e(y.line,0),v=new e(v.line,Ee(c,v.line))),c.setSelection(y,v)}return[y,v]};return u.visualMode?m():O()}function Dl(c,u){var d=u.sel.anchor,m=u.sel.head;u.lastPastedText&&(m=c.posFromIndex(c.indexFromPos(d)+u.lastPastedText.length),u.lastPastedText=null),u.lastSelection={anchorMark:c.setBookmark(d),headMark:c.setBookmark(m),anchor:pe(d),head:pe(m),visualMode:u.visualMode,visualLine:u.visualLine,visualBlock:u.visualBlock}}function Hf(c,u,d,m){var O=c.state.vim.sel,y=m?u:O.head,v=m?u:O.anchor,x;return be(d,u)&&(x=d,d=u,u=x),be(y,v)?(y=ut(u,y),v=sn(v,d)):(v=ut(u,v),y=sn(y,d),y=Me(y,0,-1),y.ch==-1&&y.line!=c.firstLine()&&(y=new e(y.line-1,Ee(c,y.line-1)))),[v,y]}function Fn(c,u,O){var m=c.state.vim;u=u||m.sel;var O=O||m.visualLine?"line":m.visualBlock?"block":"char",y=oo(c,u,O);c.setSelections(y.ranges,y.primary)}function oo(c,u,d,m){var O=pe(u.head),y=pe(u.anchor);if(d=="char"){var v=!m&&!be(u.head,u.anchor)?1:0,x=be(u.head,u.anchor)?1:0;return O=Me(u.head,0,v),y=Me(u.anchor,0,x),{ranges:[{anchor:y,head:O}],primary:0}}else if(d=="line"){if(be(u.head,u.anchor))O.ch=0,y.ch=Ee(c,y.line);else{y.ch=0;var w=c.lastLine();O.line>w&&(O.line=w),O.ch=Ee(c,O.line)}return{ranges:[{anchor:y,head:O}],primary:0}}else if(d=="block"){var Q=Math.min(y.line,O.line),P=y.ch,M=Math.max(y.line,O.line),j=O.ch;P<j?j+=1:P+=1;for(var $=M-Q+1,C=O.line==Q?0:$-1,X=[],U=0;U<$;U++)X.push({anchor:new e(Q+U,P),head:new e(Q+U,j)});return{ranges:X,primary:C}}}function Kf(c){var u=c.getCursor("head");return c.getSelection().length==1&&(u=ut(u,c.getCursor("anchor"))),u}function jt(c,u){var d=c.state.vim;u!==!1&&c.setCursor(Ge(c,d.sel.head)),Dl(c,d),d.visualMode=!1,d.visualLine=!1,d.visualBlock=!1,d.insertMode||i.signal(c,"vim-mode-change",{mode:"normal"})}function Jf(c,u,d){var m=c.getRange(u,d);if(/\n\s*$/.test(m)){var O=m.split(`
`);O.pop();for(var y,y=O.pop();O.length>0&&y&&Oe(y);y=O.pop())d.line--,d.ch=0;y?(d.line--,d.ch=Ee(c,d.line)):d.ch=0}}function em(c,u,d){u.ch=0,d.ch=0,d.line++}function Ht(c){if(!c)return 0;var u=c.search(/\S/);return u==-1?c.length:u}function ar(c,u,d,m,O){var y=Kf(c),v=c.getLine(y.line),x=y.ch,w=O?B[0]:I[0];if(d&&/\s/.test(v.charAt(x)))w=function($){return/\s/.test($)};else{for(;!w(v.charAt(x));)if(x++,x>=v.length)return null;m?w=I[0]:(w=B[0],w(v.charAt(x))||(w=B[1]))}for(var Q=x,P=x;w(v.charAt(Q))&&Q<v.length;)Q++;for(;w(v.charAt(P))&&P>=0;)P--;if(P++,u){for(var M=Q;/\s/.test(v.charAt(Q))&&Q<v.length;)Q++;if(M==Q){for(var j=P;/\s/.test(v.charAt(P-1))&&P>0;)P--;P||(P=j)}}return{start:new e(y.line,P),end:new e(y.line,Q)}}function tm(c,u,d){var m=u;if(!i.findMatchingTag||!i.findEnclosingTag)return{start:m,end:m};var O=i.findMatchingTag(c,u)||i.findEnclosingTag(c,u);return!O||!O.open||!O.close?{start:m,end:m}:d?{start:O.open.from,end:O.close.to}:{start:O.open.to,end:O.close.from}}function Ul(c,u,d){bt(u,d)||E.jumpList.add(c,u,d)}function Zl(c,u){E.lastCharacterSearch.increment=c,E.lastCharacterSearch.forward=u.forward,E.lastCharacterSearch.selectedCharacter=u.selectedCharacter}var nm={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},Bl={bracket:{isComplete:function(c){if(c.nextCh===c.symb){if(c.depth++,c.depth>=1)return!0}else c.nextCh===c.reverseSymb&&c.depth--;return!1}},section:{init:function(c){c.curMoveThrough=!0,c.symb=(c.forward?"]":"[")===c.symb?"{":"}"},isComplete:function(c){return c.index===0&&c.nextCh===c.symb}},comment:{isComplete:function(c){var u=c.lastCh==="*"&&c.nextCh==="/";return c.lastCh=c.nextCh,u}},method:{init:function(c){c.symb=c.symb==="m"?"{":"}",c.reverseSymb=c.symb==="{"?"}":"{"},isComplete:function(c){return c.nextCh===c.symb}},preprocess:{init:function(c){c.index=0},isComplete:function(c){if(c.nextCh==="#"){var u=c.lineText.match(/^#(\w+)/)[1];if(u==="endif"){if(c.forward&&c.depth===0)return!0;c.depth++}else if(u==="if"){if(!c.forward&&c.depth===0)return!0;c.depth--}if(u==="else"&&c.depth===0)return!0}return!1}}};function im(c,u,d,m){var O=pe(c.getCursor()),y=d?1:-1,v=d?c.lineCount():-1,x=O.ch,w=O.line,Q=c.getLine(w),P={lineText:Q,nextCh:Q.charAt(x),lastCh:null,index:x,symb:m,reverseSymb:(d?{")":"(","}":"{"}:{"(":")","{":"}"})[m],forward:d,depth:0,curMoveThrough:!1},M=nm[m];if(!M)return O;var j=Bl[M].init,$=Bl[M].isComplete;for(j&&j(P);w!==v&&u;){if(P.index+=y,P.nextCh=P.lineText.charAt(P.index),!P.nextCh){if(w+=y,P.lineText=c.getLine(w)||"",y>0)P.index=0;else{var C=P.lineText.length;P.index=C>0?C-1:0}P.nextCh=P.lineText.charAt(P.index)}$(P)&&(O.line=w,O.ch=P.index,u--)}return P.nextCh||P.curMoveThrough?new e(w,P.index):O}function rm(c,u,d,m,O){var y=u.line,v=u.ch,x=c.getLine(y),w=d?1:-1,Q=m?I:B;if(O&&x==""){if(y+=w,x=c.getLine(y),!ue(c,y))return null;v=d?0:x.length}for(;;){if(O&&x=="")return{from:0,to:0,line:y};for(var P=w>0?x.length:-1,M=P,j=P;v!=P;){for(var $=!1,C=0;C<Q.length&&!$;++C)if(Q[C](x.charAt(v))){for(M=v;v!=P&&Q[C](x.charAt(v));)v+=w;if(j=v,$=M!=j,M==u.ch&&y==u.line&&j==M+w)continue;return{from:Math.min(M,j+1),to:Math.max(M,j),line:y}}$||(v+=w)}if(y+=w,!ue(c,y))return null;x=c.getLine(y),v=w>0?0:x.length}}function sm(c,u,d,m,O,y){var v=pe(u),x=[];(m&&!O||!m&&O)&&d++;for(var w=!(m&&O),Q=0;Q<d;Q++){var P=rm(c,u,m,y,w);if(!P){var M=Ee(c,c.lastLine());x.push(m?{line:c.lastLine(),from:M,to:M}:{line:0,from:0,to:0});break}x.push(P),u=new e(P.line,m?P.to-1:P.from)}var j=x.length!=d,$=x[0],C=x.pop();return m&&!O?(!j&&($.from!=v.ch||$.line!=v.line)&&(C=x.pop()),new e(C.line,C.from)):m&&O?new e(C.line,C.to-1):!m&&O?(!j&&($.to!=v.ch||$.line!=v.line)&&(C=x.pop()),new e(C.line,C.to)):new e(C.line,C.from)}function Ll(c,u,d,m,O){var y=u,v=new e(y.line+d.repeat-1,1/0),x=c.clipPos(v);return x.ch--,O||(m.lastHPos=1/0,m.lastHSPos=c.charCoords(x,"div").left),v}function ao(c,u,d,m,O){for(var y=O||c.getCursor(),v=y.ch,x,w=0;w<u;w++){var Q=c.getLine(y.line);if(x=am(v,Q,m,d,!0),x==-1)return null;v=x}return new e(c.getCursor().line,x)}function om(c,u){var d=c.getCursor().line;return Ge(c,new e(d,u-1))}function Kt(c,u,d,m){yt(d,Te)&&(u.marks[d]&&u.marks[d].clear(),u.marks[d]=c.setBookmark(m))}function am(c,u,d,m,O){var y;return m?(y=u.indexOf(d,c+1),y!=-1&&!O&&(y-=1)):(y=u.lastIndexOf(d,c-1),y!=-1&&!O&&(y+=1)),y}function Xl(c,u,d,m,O){var y=u.line,v=c.firstLine(),x=c.lastLine(),w,Q,P=y;function M(U){return!c.getLine(U)}function j(U,_,H){return H?M(U)!=M(U+_):!M(U)&&M(U+_)}if(m){for(;v<=P&&P<=x&&d>0;)j(P,m)&&d--,P+=m;return new e(P,0)}var $=c.state.vim;if($.visualLine&&j(y,1,!0)){var C=$.sel.anchor;j(C.line,-1,!0)&&(!O||C.line!=y)&&(y+=1)}var X=M(y);for(P=y;P<=x&&d;P++)j(P,1,!0)&&(!O||M(P)!=X)&&d--;for(Q=new e(P,0),P>x&&!X?X=!0:O=!1,P=y;P>v&&!((!O||M(P)==X||P==y)&&j(P,-1,!0));P--);return w=new e(P,0),{start:w,end:Q}}function El(c,u,d,m,O){function y(Q){Q.pos+Q.dir<0||Q.pos+Q.dir>=Q.line.length?Q.line=null:Q.pos+=Q.dir}function v(Q,P,M,j){var $=Q.getLine(P),C={line:$,ln:P,pos:M,dir:j};if(C.line==="")return{ln:C.ln,pos:C.pos};var X=C.pos;for(y(C);C.line!==null;){if(X=C.pos,zt(C.line[C.pos]))if(O){for(y(C);C.line!==null&&Oe(C.line[C.pos]);)X=C.pos,y(C);return{ln:C.ln,pos:X+1}}else return{ln:C.ln,pos:C.pos+1};y(C)}return{ln:C.ln,pos:X+1}}function x(Q,P,M,j){var $=Q.getLine(P),C={line:$,ln:P,pos:M,dir:j};if(C.line==="")return{ln:C.ln,pos:C.pos};var X=C.pos;for(y(C);C.line!==null;){if(!Oe(C.line[C.pos])&&!zt(C.line[C.pos]))X=C.pos;else if(zt(C.line[C.pos]))return O?Oe(C.line[C.pos+1])?{ln:C.ln,pos:C.pos+1}:{ln:C.ln,pos:X}:{ln:C.ln,pos:X};y(C)}return C.line=$,O&&Oe(C.line[C.pos])?{ln:C.ln,pos:C.pos}:{ln:C.ln,pos:X}}for(var w={ln:u.line,pos:u.ch};d>0;)m<0?w=x(c,w.ln,w.pos,m):w=v(c,w.ln,w.pos,m),d--;return new e(w.ln,w.pos)}function lm(c,u,d,m){function O(w,Q){if(Q.pos+Q.dir<0||Q.pos+Q.dir>=Q.line.length){if(Q.ln+=Q.dir,!ue(w,Q.ln)){Q.line=null,Q.ln=null,Q.pos=null;return}Q.line=w.getLine(Q.ln),Q.pos=Q.dir>0?0:Q.line.length-1}else Q.pos+=Q.dir}function y(w,Q,P,M){var U=w.getLine(Q),j=U==="",$={line:U,ln:Q,pos:P,dir:M},C={ln:$.ln,pos:$.pos},X=$.line==="";for(O(w,$);$.line!==null;){if(C.ln=$.ln,C.pos=$.pos,$.line===""&&!X)return{ln:$.ln,pos:$.pos};if(j&&$.line!==""&&!Oe($.line[$.pos]))return{ln:$.ln,pos:$.pos};zt($.line[$.pos])&&!j&&($.pos===$.line.length-1||Oe($.line[$.pos+1]))&&(j=!0),O(w,$)}var U=w.getLine(C.ln);C.pos=0;for(var _=U.length-1;_>=0;--_)if(!Oe(U[_])){C.pos=_;break}return C}function v(w,Q,P,M){var X=w.getLine(Q),j={line:X,ln:Q,pos:P,dir:M},$={ln:j.ln,pos:null},C=j.line==="";for(O(w,j);j.line!==null;){if(j.line===""&&!C)return $.pos!==null?$:{ln:j.ln,pos:j.pos};if(zt(j.line[j.pos])&&$.pos!==null&&!(j.ln===$.ln&&j.pos+1===$.pos))return $;j.line!==""&&!Oe(j.line[j.pos])&&(C=!1,$={ln:j.ln,pos:j.pos}),O(w,j)}var X=w.getLine($.ln);$.pos=0;for(var U=0;U<X.length;++U)if(!Oe(X[U])){$.pos=U;break}return $}for(var x={ln:u.line,pos:u.ch};d>0;)m<0?x=v(c,x.ln,x.pos,m):x=y(c,x.ln,x.pos,m),d--;return new e(x.ln,x.pos)}function Wl(c,u,d,m){var O=u,y,v,x={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/,"<":/[<>]/,">":/[<>]/}[d],w={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{","<":"<",">":"<"}[d],Q=c.getLine(O.line).charAt(O.ch),P=Q===w?1:0;if(y=c.scanForBracket(new e(O.line,O.ch+P),-1,void 0,{bracketRegex:x}),v=c.scanForBracket(new e(O.line,O.ch+P),1,void 0,{bracketRegex:x}),!y||!v)return null;if(y=y.pos,v=v.pos,y.line==v.line&&y.ch>v.ch||y.line>v.line){var M=y;y=v,v=M}return m?v.ch+=1:y.ch+=1,{start:y,end:v}}function cm(c,u,d,m){var O=pe(u),y=c.getLine(O.line),v=y.split(""),x,w,Q,P,M=v.indexOf(d);if(O.ch<M)O.ch=M;else if(M<O.ch&&v[O.ch]==d){var j=/string/.test(c.getTokenTypeAt(Me(u,0,1))),$=/string/.test(c.getTokenTypeAt(u)),C=j&&!$;C||(w=O.ch,--O.ch)}if(v[O.ch]==d&&!w)x=O.ch+1;else for(Q=O.ch;Q>-1&&!x;Q--)v[Q]==d&&(x=Q+1);if(x&&!w)for(Q=x,P=v.length;Q<P&&!w;Q++)v[Q]==d&&(w=Q);return!x||!w?{start:O,end:O}:(m&&(--x,++w),{start:new e(O.line,x),end:new e(O.line,w)})}it("pcre",!0,"boolean");function Nl(){}Nl.prototype={getQuery:function(){return E.query},setQuery:function(c){E.query=c},getOverlay:function(){return this.searchOverlay},setOverlay:function(c){this.searchOverlay=c},isReversed:function(){return E.isReversed},setReversed:function(c){E.isReversed=c},getScrollbarAnnotate:function(){return this.annotate},setScrollbarAnnotate:function(c){this.annotate=c}};function Dt(c){var u=c.state.vim;return u.searchState_||(u.searchState_=new Nl)}function hm(c){return Il(c,"/")}function um(c){return Fl(c,"/")}function Il(c,u){var d=Fl(c,u)||[];if(!d.length)return[];var m=[];if(d[0]===0){for(var O=0;O<d.length;O++)typeof d[O]=="number"&&m.push(c.substring(d[O]+1,d[O+1]));return m}}function Fl(c,u){u||(u="/");for(var d=!1,m=[],O=0;O<c.length;O++){var y=c.charAt(O);!d&&y==u&&m.push(O),d=!d&&y=="\\"}return m}function pm(c){for(var u="|(){",d="}",m=!1,O=[],y=-1;y<c.length;y++){var v=c.charAt(y)||"",x=c.charAt(y+1)||"",w=x&&u.indexOf(x)!=-1;m?((v!=="\\"||!w)&&O.push(v),m=!1):v==="\\"?(m=!0,x&&d.indexOf(x)!=-1&&(w=!0),(!w||x==="\\")&&O.push(v)):(O.push(v),w&&x!=="\\"&&O.push("\\"))}return O.join("")}var Vl={"\\n":`
`,"\\r":"\r","\\t":"	"};function dm(c){for(var u=!1,d=[],m=-1;m<c.length;m++){var O=c.charAt(m)||"",y=c.charAt(m+1)||"";Vl[O+y]?(d.push(Vl[O+y]),m++):u?(d.push(O),u=!1):O==="\\"?(u=!0,rn(y)||y==="$"?d.push("$"):y!=="/"&&y!=="\\"&&d.push("\\")):(O==="$"&&d.push("$"),d.push(O),y==="/"&&d.push("\\"))}return d.join("")}var ql={"\\/":"/","\\\\":"\\","\\n":`
`,"\\r":"\r","\\t":"	","\\&":"&"};function fm(c){for(var u=new i.StringStream(c),d=[];!u.eol();){for(;u.peek()&&u.peek()!="\\";)d.push(u.next());var m=!1;for(var O in ql)if(u.match(O,!0)){m=!0,d.push(ql[O]);break}m||d.push(u.next())}return d.join("")}function mm(c,u,d){var m=E.registerController.getRegister("/");if(m.setText(c),c instanceof RegExp)return c;var O=um(c),y,v;if(!O.length)y=c;else{y=c.substring(0,O[0]);var x=c.substring(O[0]);v=x.indexOf("i")!=-1}if(!y)return null;rt("pcre")||(y=pm(y)),d&&(u=/^[^A-Z]*$/.test(y));var w=new RegExp(y,u||v?"im":"m");return w}function on(c){typeof c=="string"&&(c=document.createElement(c));for(var u,d=1;d<arguments.length;d++)if(u=arguments[d])if(typeof u!="object"&&(u=document.createTextNode(u)),u.nodeType)c.appendChild(u);else for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(m[0]==="$"?c.style[m.slice(1)]=u[m]:c.setAttribute(m,u[m]));return c}function ce(c,u){var d=on("div",{$color:"red",$whiteSpace:"pre",class:"cm-vim-message"},u);c.openNotification?c.openNotification(d,{bottom:!0,duration:5e3}):alert(d.innerText)}function gm(c,u){return on("div",{$display:"flex"},on("span",{$fontFamily:"monospace",$whiteSpace:"pre",$flex:1},c,on("input",{type:"text",autocorrect:"off",autocapitalize:"off",spellcheck:"false",$width:"100%"})),u&&on("span",{$color:"#888"},u))}function lr(c,u){var d=gm(u.prefix,u.desc);if(c.openDialog)c.openDialog(d,u.onClose,{onKeyDown:u.onKeyDown,onKeyUp:u.onKeyUp,bottom:!0,selectValueOnOpen:!1,value:u.value});else{var m="";typeof u.prefix!="string"&&u.prefix&&(m+=u.prefix.textContent),u.desc&&(m+=" "+u.desc),u.onClose(prompt(m,""))}}function Om(c,u){if(c instanceof RegExp&&u instanceof RegExp){for(var d=["global","multiline","ignoreCase","source"],m=0;m<d.length;m++){var O=d[m];if(c[O]!==u[O])return!1}return!0}return!1}function wi(c,u,d,m){if(u){var O=Dt(c),y=mm(u,!!d,!!m);if(y)return Yl(c,y),Om(y,O.getQuery())||O.setQuery(y),y}}function ym(c){if(c.source.charAt(0)=="^")var u=!0;return{token:function(d){if(u&&!d.sol()){d.skipToEnd();return}var m=d.match(c,!1);if(m)return m[0].length==0?(d.next(),"searching"):!d.sol()&&(d.backUp(1),!c.exec(d.next()+m[0]))?(d.next(),null):(d.match(c),"searching");for(;!d.eol()&&(d.next(),!d.match(c,!1)););},query:c}}var cr=0;function Yl(c,u){clearTimeout(cr),cr=setTimeout(function(){if(c.state.vim){var d=Dt(c),m=d.getOverlay();(!m||u!=m.query)&&(m&&c.removeOverlay(m),m=ym(u),c.addOverlay(m),c.showMatchesOnScrollbar&&(d.getScrollbarAnnotate()&&d.getScrollbarAnnotate().clear(),d.setScrollbarAnnotate(c.showMatchesOnScrollbar(u))),d.setOverlay(m))}},50)}function _l(c,u,d,m){return m===void 0&&(m=1),c.operation(function(){for(var O=c.getCursor(),y=c.getSearchCursor(d,O),v=0;v<m;v++){var x=y.find(u);if(v==0&&x&&bt(y.from(),O)){var w=u?y.from():y.to();x=y.find(u),x&&!x[0]&&bt(y.from(),w)&&c.getLine(w.line).length==w.ch&&(x=y.find(u))}if(!x&&(y=c.getSearchCursor(d,u?new e(c.lastLine()):new e(c.firstLine(),0)),!y.find(u)))return}return y.from()})}function bm(c,u,d,m,O){return m===void 0&&(m=1),c.operation(function(){var y=c.getCursor(),v=c.getSearchCursor(d,y),x=v.find(!u);!O.visualMode&&x&&bt(v.from(),y)&&v.find(!u);for(var w=0;w<m;w++)if(x=v.find(u),!x&&(v=c.getSearchCursor(d,u?new e(c.lastLine()):new e(c.firstLine(),0)),!v.find(u)))return;return[v.from(),v.to()]})}function lo(c){var u=Dt(c);c.removeOverlay(Dt(c).getOverlay()),u.setOverlay(null),u.getScrollbarAnnotate()&&(u.getScrollbarAnnotate().clear(),u.setScrollbarAnnotate(null))}function vm(c,u,d){return typeof c!="number"&&(c=c.line),u instanceof Array?yt(c,u):typeof d=="number"?c>=u&&c<=d:c==u}function co(c){var u=c.getScrollInfo(),d=6,m=10,O=c.coordsChar({left:0,top:d+u.top},"local"),y=u.clientHeight-m+u.top,v=c.coordsChar({left:0,top:y},"local");return{top:O.line,bottom:v.line}}function hr(c,u,d){if(d=="'"||d=="`")return E.jumpList.find(c,-1)||new e(0,0);if(d==".")return zl(c);var m=u.marks[d];return m&&m.find()}function zl(c){if(c.getLastEditEnd)return c.getLastEditEnd();for(var u=c.doc.history.done,d=u.length;d--;)if(u[d].changes)return pe(u[d].changes[0].to)}var Gl=function(){this.buildCommandMap_()};Gl.prototype={processCommand:function(c,u,d){var m=this;c.operation(function(){c.curOp.isVimOp=!0,m._processCommand(c,u,d)})},_processCommand:function(c,u,d){var m=c.state.vim,O=E.registerController.getRegister(":"),y=O.toString(),v=new i.StringStream(u);O.setText(u);var x=d||{};x.input=u;try{this.parseInput_(c,v,x)}catch(M){throw ce(c,M.toString()),M}m.visualMode&&jt(c);var w,Q;if(!x.commandName)x.line!==void 0&&(Q="move");else if(w=this.matchCommand_(x.commandName),w){if(Q=w.name,w.excludeFromCommandHistory&&O.setText(y),this.parseCommandArgs_(v,x,w),w.type=="exToKey"){for(var P=0;P<w.toKeys.length;P++)st.handleKey(c,w.toKeys[P],"mapping");return}else if(w.type=="exToEx"){this.processCommand(c,w.toInput);return}}if(!Q){ce(c,'Not an editor command ":'+u+'"');return}try{Hl[Q](c,x),(!w||!w.possiblyAsync)&&x.callback&&x.callback()}catch(M){throw ce(c,M.toString()),M}},parseInput_:function(c,u,d){u.eatWhile(":"),u.eat("%")?(d.line=c.firstLine(),d.lineEnd=c.lastLine()):(d.line=this.parseLineSpec_(c,u),d.line!==void 0&&u.eat(",")&&(d.lineEnd=this.parseLineSpec_(c,u))),d.line==null?c.state.vim.visualMode?(d.selectionLine=hr(c,c.state.vim,"<")?.line,d.selectionLineEnd=hr(c,c.state.vim,">")?.line):d.selectionLine=c.getCursor().line:(d.selectionLine=d.line,d.selectionLineEnd=d.lineEnd);var m=u.match(/^(\w+|!!|@@|[!#&*<=>@~])/);return m?d.commandName=m[1]:d.commandName=u.match(/.*/)[0],d},parseLineSpec_:function(c,u){var d=u.match(/^(\d+)/);if(d)return parseInt(d[1],10)-1;switch(u.next()){case".":return this.parseLineSpecOffset_(u,c.getCursor().line);case"$":return this.parseLineSpecOffset_(u,c.lastLine());case"'":var m=u.next(),O=hr(c,c.state.vim,m);if(!O)throw new Error("Mark not set");return this.parseLineSpecOffset_(u,O.line);case"-":case"+":return u.backUp(1),this.parseLineSpecOffset_(u,c.getCursor().line);default:u.backUp(1);return}},parseLineSpecOffset_:function(c,u){var d=c.match(/^([+-])?(\d+)/);if(d){var m=parseInt(d[2],10);d[1]=="-"?u-=m:u+=m}return u},parseCommandArgs_:function(c,u,d){if(!c.eol()){u.argString=c.match(/.*/)[0];var m=d.argDelimiter||/\s+/,O=so(u.argString).split(m);O.length&&O[0]&&(u.args=O)}},matchCommand_:function(c){for(var u=c.length;u>0;u--){var d=c.substring(0,u);if(this.commandMap_[d]){var m=this.commandMap_[d];if(m.name.indexOf(c)===0)return m}}return null},buildCommandMap_:function(){this.commandMap_={};for(var c=0;c<o.length;c++){var u=o[c],d=u.shortName||u.name;this.commandMap_[d]=u}},map:function(c,u,d,m){if(c!=":"&&c.charAt(0)==":"){if(d)throw Error("Mode not supported for ex mappings");var O=c.substring(1);u!=":"&&u.charAt(0)==":"?this.commandMap_[O]={name:O,type:"exToEx",toInput:u.substring(1),user:!0}:this.commandMap_[O]={name:O,type:"exToKey",toKeys:u,user:!0}}else if(u!=":"&&u.charAt(0)==":"){var y={keys:c,type:"keyToEx",exArgs:{input:u.substring(1)}};d&&(y.context=d),r.unshift(y)}else{var y={keys:c,type:"keyToKey",toKeys:u,noremap:m};d&&(y.context=d),r.unshift(y)}},unmap:function(c,u){if(c!=":"&&c.charAt(0)==":"){if(u)throw Error("Mode not supported for ex mappings");var d=c.substring(1);if(this.commandMap_[d]&&this.commandMap_[d].user)return delete this.commandMap_[d],!0}else for(var m=c,O=0;O<r.length;O++)if(m==r[O].keys&&r[O].context===u)return r.splice(O,1),!0}};var Hl={colorscheme:function(c,u){if(!u.args||u.args.length<1){ce(c,c.getOption("theme"));return}c.setOption("theme",u.args[0])},map:function(c,u,d,m){var O=u.args;if(!O||O.length<2){c&&ce(c,"Invalid mapping: "+u.input);return}$t.map(O[0],O[1],d,m)},imap:function(c,u){this.map(c,u,"insert")},nmap:function(c,u){this.map(c,u,"normal")},vmap:function(c,u){this.map(c,u,"visual")},omap:function(c,u){this.map(c,u,"operatorPending")},noremap:function(c,u){this.map(c,u,void 0,!0)},inoremap:function(c,u){this.map(c,u,"insert",!0)},nnoremap:function(c,u){this.map(c,u,"normal",!0)},vnoremap:function(c,u){this.map(c,u,"visual",!0)},onoremap:function(c,u){this.map(c,u,"operatorPending",!0)},unmap:function(c,u,d){var m=u.args;(!m||m.length<1||!$t.unmap(m[0],d))&&c&&ce(c,"No such mapping: "+u.input)},mapclear:function(c,u){st.mapclear()},imapclear:function(c,u){st.mapclear("insert")},nmapclear:function(c,u){st.mapclear("normal")},vmapclear:function(c,u){st.mapclear("visual")},omapclear:function(c,u){st.mapclear("operatorPending")},move:function(c,u){$n.processCommand(c,c.state.vim,{type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:u.line+1})},set:function(c,u){var d=u.args,m=u.setCfg||{};if(!d||d.length<1){c&&ce(c,"Invalid mapping: "+u.input);return}var O=d[0].split("="),y=O[0],v=O[1],x=!1;if(y.charAt(y.length-1)=="?"){if(v)throw Error("Trailing characters: "+u.argString);y=y.substring(0,y.length-1),x=!0}v===void 0&&y.substring(0,2)=="no"&&(y=y.substring(2),v=!1);var w=xe[y]&&xe[y].type=="boolean";if(w&&v==null&&(v=!0),!w&&v===void 0||x){var Q=rt(y,c,m);Q instanceof Error?ce(c,Q.message):Q===!0||Q===!1?ce(c," "+(Q?"":"no")+y):ce(c,"  "+y+"="+Q)}else{var P=Qt(y,v,c,m);P instanceof Error&&ce(c,P.message)}},setlocal:function(c,u){u.setCfg={scope:"local"},this.set(c,u)},setglobal:function(c,u){u.setCfg={scope:"global"},this.set(c,u)},registers:function(c,u){var d=u.args,m=E.registerController.registers,O=`----------Registers----------

`;if(d){var y;d=d.join("");for(var x=0;x<d.length;x++)if(y=d.charAt(x),!!E.registerController.isValidRegister(y)){var w=m[y]||new Ct;O+='"'+y+"    "+w.toString()+`
`}}else for(var y in m){var v=m[y].toString();v.length&&(O+='"'+y+"    "+v+`
`)}ce(c,O)},sort:function(c,u){var d,m,O,y,v;function x(){if(u.argString){var ie=new i.StringStream(u.argString);if(ie.eat("!")&&(d=!0),ie.eol())return;if(!ie.eatSpace())return"Invalid arguments";var re=ie.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!re&&!ie.eol())return"Invalid arguments";if(re[1]){m=re[1].indexOf("i")!=-1,O=re[1].indexOf("u")!=-1;var He=re[1].indexOf("d")!=-1||re[1].indexOf("n")!=-1&&1,Re=re[1].indexOf("x")!=-1&&1,je=re[1].indexOf("o")!=-1&&1;if(He+Re+je>1)return"Invalid arguments";y=He&&"decimal"||Re&&"hex"||je&&"octal"}re[2]&&(v=new RegExp(re[2].substr(1,re[2].length-2),m?"i":""))}}var w=x();if(w){ce(c,w+": "+u.argString);return}var Q=u.line||c.firstLine(),P=u.lineEnd||u.line||c.lastLine();if(Q==P)return;var M=new e(Q,0),j=new e(P,Ee(c,P)),$=c.getRange(M,j).split(`
`),C=v||(y=="decimal"?/(-?)([\d]+)/:y=="hex"?/(-?)(?:0x)?([0-9a-f]+)/i:y=="octal"?/([0-7]+)/:null),X=y=="decimal"?10:y=="hex"?16:y=="octal"?8:null,U=[],_=[];if(y||v)for(var H=0;H<$.length;H++){var Y=v?$[H].match(v):null;Y&&Y[0]!=""?U.push(Y):!v&&C.exec($[H])?U.push($[H]):_.push($[H])}else _=$;function me(ie,re){if(d){var He;He=ie,ie=re,re=He}m&&(ie=ie.toLowerCase(),re=re.toLowerCase());var Re=y&&C.exec(ie),je=y&&C.exec(re);return Re?(Re=parseInt((Re[1]+Re[2]).toLowerCase(),X),je=parseInt((je[1]+je[2]).toLowerCase(),X),Re-je):ie<re?-1:1}function qe(ie,re){if(d){var He;He=ie,ie=re,re=He}return m&&(ie[0]=ie[0].toLowerCase(),re[0]=re[0].toLowerCase()),ie[0]<re[0]?-1:1}if(U.sort(v?qe:me),v)for(var H=0;H<U.length;H++)U[H]=U[H].input;else y||_.sort(me);if($=d?U.concat(_):_.concat(U),O){var ve=$,Be;$=[];for(var H=0;H<ve.length;H++)ve[H]!=Be&&$.push(ve[H]),Be=ve[H]}c.replaceRange($.join(`
`),M,j)},vglobal:function(c,u){this.global(c,u)},normal:function(c,u){var d=u.argString&&u.argString.trimStart();if(!d){ce(c,"Argument is required.");return}var m=u.line;if(typeof m=="number")for(var O=isNaN(u.lineEnd)?m:u.lineEnd,y=m;y<=O;y++)c.setCursor(y,0),no(c,u.argString.trimStart()),c.state.vim.insertMode&&an(c,!0);else no(c,u.argString.trimStart()),c.state.vim.insertMode&&an(c,!0)},global:function(c,u){var d=u.argString;if(!d){ce(c,"Regular Expression missing from global");return}var m=u.commandName[0]==="v";d[0]==="!"&&u.commandName[0]==="g"&&(m=!0,d=d.slice(1));var O=u.line!==void 0?u.line:c.firstLine(),y=u.lineEnd||u.line||c.lastLine(),v=hm(d),x=d,w;if(v.length&&(x=v[0],w=v.slice(1,v.length).join("/")),x)try{wi(c,x,!0,!0)}catch{ce(c,"Invalid regex: "+x);return}for(var Q=Dt(c).getQuery(),P=[],M=O;M<=y;M++){var j=c.getLine(M),$=Q.test(j);$!==m&&P.push(w?c.getLineHandle(M):j)}if(!w){ce(c,P.join(`
`));return}var C=0,X=function(){if(C<P.length){var U=P[C++],_=c.getLineNumber(U);if(_==null){X();return}var H=_+1+w;$t.processCommand(c,H,{callback:X})}else c.releaseLineHandles&&c.releaseLineHandles()};X()},substitute:function(c,u){if(!c.getSearchCursor)throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var d=u.argString,m=d?Il(d,d[0]):[],O,y="",v,x,w,Q=!1,P=!1;if(m.length)O=m[0],rt("pcre")&&O!==""&&(O=new RegExp(O).source),y=m[1],y!==void 0&&(rt("pcre")?y=fm(y.replace(/([^\\])&/g,"$1$$&")):y=dm(y),E.lastSubstituteReplacePart=y),v=m[2]?m[2].split(" "):[];else if(d&&d.length){ce(c,"Substitutions should be of the form :s/pattern/replace/");return}if(v&&(x=v[0],w=parseInt(v[1]),x&&(x.indexOf("c")!=-1&&(Q=!0),x.indexOf("g")!=-1&&(P=!0),rt("pcre")?O=O+"/"+x:O=O.replace(/\//g,"\\/")+"/"+x)),O)try{wi(c,O,!0,!0)}catch{ce(c,"Invalid regex: "+O);return}if(y=y||E.lastSubstituteReplacePart,y===void 0){ce(c,"No previous substitute regular expression");return}var M=Dt(c),j=M.getQuery(),$=u.line!==void 0?u.line:c.getCursor().line,C=u.lineEnd||$;$==c.firstLine()&&C==c.lastLine()&&(C=1/0),w&&($=C,C=$+w-1);var X=Ge(c,new e($,0)),U=c.getSearchCursor(j,X);km(c,Q,P,$,C,U,j,y,u.callback)},redo:i.commands.redo,undo:i.commands.undo,write:function(c){i.commands.save?i.commands.save(c):c.save&&c.save()},nohlsearch:function(c){lo(c)},yank:function(c){var u=pe(c.getCursor()),d=u.line,m=c.getLine(d);E.registerController.pushText("0","yank",m,!0,!0)},delete:function(c,u){var d=u.selectionLine,m=isNaN(u.selectionLineEnd)?d:u.selectionLineEnd;ro.delete(c,{linewise:!0},[{anchor:new e(d,0),head:new e(m+1,0)}])},join:function(c,u){var d=u.selectionLine,m=isNaN(u.selectionLineEnd)?d:u.selectionLineEnd;c.setCursor(new e(d,0)),In.joinLines(c,{repeat:m-d},c.state.vim)},delmarks:function(c,u){if(!u.argString||!so(u.argString)){ce(c,"Argument required");return}for(var d=c.state.vim,m=new i.StringStream(so(u.argString));!m.eol();){m.eatSpace();var O=m.pos;if(!m.match(/[a-zA-Z]/,!1)){ce(c,"Invalid argument: "+u.argString.substring(O));return}var y=m.next();if(m.match("-",!0)){if(!m.match(/[a-zA-Z]/,!1)){ce(c,"Invalid argument: "+u.argString.substring(O));return}var v=y,x=m.next();if(Ze(v)&&Ze(x)||nt(v)&&nt(x)){var w=v.charCodeAt(0),Q=x.charCodeAt(0);if(w>=Q){ce(c,"Invalid argument: "+u.argString.substring(O));return}for(var P=0;P<=Q-w;P++){var M=String.fromCharCode(w+P);delete d.marks[M]}}else{ce(c,"Invalid argument: "+v+"-");return}}else delete d.marks[y]}}},$t=new Gl;function km(c,u,d,m,O,y,v,x,w){c.state.vim.exMode=!0;var Q=!1,P,M,j;function $(){c.operation(function(){for(;!Q;)C(),U();_()})}function C(){var Y=c.getRange(y.from(),y.to()),me=Y.replace(v,x),qe=y.to().line;y.replace(me),M=y.to().line,O+=M-qe,j=M<qe}function X(){var Y=P&&pe(y.to()),me=y.findNext();return me&&!me[0]&&Y&&bt(y.from(),Y)&&(me=y.findNext()),me}function U(){for(;X()&&vm(y.from(),m,O);)if(!(!d&&y.from().line==M&&!j)){c.scrollIntoView(y.from(),30),c.setSelection(y.from(),y.to()),P=y.from(),Q=!1;return}Q=!0}function _(Y){if(Y&&Y(),c.focus(),P){c.setCursor(P);var me=c.state.vim;me.exMode=!1,me.lastHPos=me.lastHSPos=P.ch}w&&w()}function H(Y,me,qe){i.e_stop(Y);var ve=i.keyName(Y);switch(ve){case"Y":C(),U();break;case"N":U();break;case"A":var Be=w;w=void 0,c.operation($),w=Be;break;case"L":C();case"Q":case"Esc":case"Ctrl-C":case"Ctrl-[":_(qe);break}return Q&&_(qe),!0}if(U(),Q){ce(c,"No matches for "+v.source);return}if(!u){$(),w&&w();return}lr(c,{prefix:on("span","replace with ",on("strong",x)," (y/n/a/q/l)"),onKeyDown:H})}i.keyMap.vim={attach:f,detach:p,call:g};function an(c,u){var d=c.state.vim,m=E.macroModeState,O=E.registerController.getRegister("."),y=m.isPlaying,v=m.lastInsertModeChanges;y||(c.off("change",Jl),d.insertEnd&&d.insertEnd.clear(),d.insertEnd=null,i.off(c.getInputField(),"keydown",nc)),!y&&d.insertModeRepeat>1&&(ic(c,d,d.insertModeRepeat-1,!0),d.lastEditInputState.repeatOverride=d.insertModeRepeat),delete d.insertModeRepeat,d.insertMode=!1,u||c.setCursor(c.getCursor().line,c.getCursor().ch-1),c.setOption("keyMap","vim"),c.setOption("disableInput",!0),c.toggleOverwrite(!1),O.setText(v.changes.join("")),i.signal(c,"vim-mode-change",{mode:"normal"}),m.isRecording&&Pm(m)}function Kl(c){r.unshift(c)}function wm(c,u,d,m,O){var y={keys:c,type:u};y[u]=d,y[u+"Args"]=m;for(var v in O)y[v]=O[v];Kl(y)}it("insertModeEscKeysTimeout",200,"number"),i.keyMap["vim-insert"]={fallthrough:["default"],attach:f,detach:p,call:g},i.keyMap["vim-replace"]={Backspace:"goCharLeft",fallthrough:["vim-insert"],attach:f,detach:p};function xm(c,u,d,m){var O=E.registerController.getRegister(m);if(m==":"){O.keyBuffer[0]&&$t.processCommand(c,O.keyBuffer[0]),d.isPlaying=!1;return}var y=O.keyBuffer,v=0;d.isPlaying=!0,d.replaySearchQueries=O.searchQueries.slice(0);for(var x=0;x<y.length;x++)for(var w=y[x],Q,P;w;)if(Q=/<\w+-.+?>|<\w+>|./.exec(w),P=Q[0],w=w.substring(Q.index+P.length),st.handleKey(c,P,"macro"),u.insertMode){var M=O.insertModeChanges[v++].changes;E.macroModeState.lastInsertModeChanges.changes=M,sc(c,M,1),an(c)}d.isPlaying=!1}function Sm(c,u){if(!c.isPlaying){var d=c.latestRegister,m=E.registerController.getRegister(d);m&&m.pushText(u)}}function Pm(c){if(!c.isPlaying){var u=c.latestRegister,d=E.registerController.getRegister(u);d&&d.pushInsertModeChanges&&d.pushInsertModeChanges(c.lastInsertModeChanges)}}function Qm(c,u){if(!c.isPlaying){var d=c.latestRegister,m=E.registerController.getRegister(d);m&&m.pushSearchQuery&&m.pushSearchQuery(u)}}function Jl(c,u){var d=E.macroModeState,m=d.lastInsertModeChanges;if(!d.isPlaying)for(var O=c.state.vim;u;){if(m.expectCursorActivityForChange=!0,m.ignoreCount>1)m.ignoreCount--;else if(u.origin=="+input"||u.origin=="paste"||u.origin===void 0){var y=c.listSelections().length;y>1&&(m.ignoreCount=y);var v=u.text.join(`
`);if(m.maybeReset&&(m.changes=[],m.maybeReset=!1),v)if(c.state.overwrite&&!/\n/.test(v))m.changes.push([v]);else{if(v.length>1){var x=O&&O.insertEnd&&O.insertEnd.find(),w=c.getCursor();if(x&&x.line==w.line){var Q=x.ch-w.ch;Q>0&&Q<v.length&&(m.changes.push([v,Q]),v="")}}v&&m.changes.push(v)}}u=u.next}}function ec(c){var u=c.state.vim;if(u.insertMode){var d=E.macroModeState;if(d.isPlaying)return;var m=d.lastInsertModeChanges;m.expectCursorActivityForChange?m.expectCursorActivityForChange=!1:(m.maybeReset=!0,u.insertEnd&&u.insertEnd.clear(),u.insertEnd=c.setBookmark(c.getCursor(),{insertLeft:!0}))}else c.curOp.isVimOp||tc(c,u)}function tc(c,u){var d=c.getCursor("anchor"),m=c.getCursor("head");if(u.visualMode&&!c.somethingSelected()?jt(c,!1):!u.visualMode&&!u.insertMode&&c.somethingSelected()&&(u.visualMode=!0,u.visualLine=!1,i.signal(c,"vim-mode-change",{mode:"visual"})),u.visualMode){var O=be(m,d)?0:-1,y=be(m,d)?-1:0;m=Me(m,0,O),d=Me(d,0,y),u.sel={anchor:d,head:m},Kt(c,u,"<",ut(m,d)),Kt(c,u,">",sn(m,d))}else u.insertMode||(u.lastHPos=c.getCursor().ch)}function ho(c){this.keyName=c}function nc(c){var u=E.macroModeState,d=u.lastInsertModeChanges,m=i.keyName(c);if(!m)return;function O(){return d.maybeReset&&(d.changes=[],d.maybeReset=!1),d.changes.push(new ho(m)),!0}(m.indexOf("Delete")!=-1||m.indexOf("Backspace")!=-1)&&i.lookupKey(m,"vim-insert",O)}function ic(c,u,d,m){var O=E.macroModeState;O.isPlaying=!0;var y=!!u.lastEditActionCommand,v=u.inputState;function x(){y?$n.processAction(c,u,u.lastEditActionCommand):$n.evalInput(c,u)}function w(P){if(O.lastInsertModeChanges.changes.length>0){P=u.lastEditActionCommand?P:1;var M=O.lastInsertModeChanges;sc(c,M.changes,P)}}if(u.inputState=u.lastEditInputState,y&&u.lastEditActionCommand.interlaceInsertRepeat)for(var Q=0;Q<d;Q++)x(),w(1);else m||x(),w(d);u.inputState=v,u.insertMode&&!m&&an(c),O.isPlaying=!1}function rc(c,u){i.lookupKey(u,"vim-insert",function(m){return typeof m=="string"?i.commands[m](c):m(c),!0})}function sc(c,u,d){var m=c.getCursor("head"),O=E.macroModeState.lastInsertModeChanges.visualBlock;O&&(jl(c,m,O+1),d=c.listSelections().length,c.setCursor(m));for(var y=0;y<d;y++){O&&c.setCursor(Me(m,y,0));for(var v=0;v<u.length;v++){var x=u[v];if(x instanceof ho)rc(c,x.keyName);else if(typeof x=="string")c.replaceSelection(x);else{var w=c.getCursor(),Q=Me(w,0,x[0].length-(x[1]||0));c.replaceRange(x[0],w,x[1]?w:Q),c.setCursor(Q)}}}O&&c.setCursor(Me(m,0,1))}function uo(c){var u=new c.constructor;return Object.keys(c).forEach(function(d){if(d!="insertEnd"){var m=c[d];Array.isArray(m)?m=m.slice():m&&typeof m=="object"&&m.constructor!=Object&&(m=uo(m)),u[d]=m}}),c.sel&&(u.sel={head:c.sel.head&&pe(c.sel.head),anchor:c.sel.anchor&&pe(c.sel.anchor)}),u}function Cm(c,u,d){var m=!1,O=st.maybeInitVimState_(c),y=O.visualBlock||O.wasInVisualBlock,v=c.isInMultiSelectMode();if(O.wasInVisualBlock&&!v?O.wasInVisualBlock=!1:v&&O.visualBlock&&(O.wasInVisualBlock=!0),u=="<Esc>"&&!O.insertMode&&!O.visualMode&&v&&O.status=="<Esc>")Ve(c);else if(y||!v||c.inVirtualSelectionMode)m=st.handleKey(c,u,d);else{var x=uo(O),w=O.inputState.changeQueueList||[];c.operation(function(){c.curOp.isVimOp=!0;var Q=0;c.forEachSelection(function(){c.state.vim.inputState.changeQueue=w[Q];var P=c.getCursor("head"),M=c.getCursor("anchor"),j=be(P,M)?0:-1,$=be(P,M)?-1:0;P=Me(P,0,j),M=Me(M,0,$),c.state.vim.sel.head=P,c.state.vim.sel.anchor=M,m=st.handleKey(c,u,d),c.virtualSelection&&(w[Q]=c.state.vim.inputState.changeQueue,c.state.vim=uo(x)),Q++}),c.curOp.cursorActivity&&!m&&(c.curOp.cursorActivity=!1),c.state.vim=O,O.inputState.changeQueueList=w,O.inputState.changeQueue=null},!0)}return m&&!O.visualMode&&!O.insert&&O.visualMode!=c.somethingSelected()&&tc(c,O),m}return Cl(),st}function Ke(i,e){var t=e.ch,n=e.line+1;n<1&&(n=1,t=0),n>i.lines&&(n=i.lines,t=Number.MAX_VALUE);var r=i.line(n);return Math.min(r.from+Math.max(0,t),r.to)}function vt(i,e){let t=i.lineAt(e);return{line:t.number-1,ch:e-t.from}}class Xs{constructor(e,t){this.line=e,this.ch=t}}function df(i,e,t){if(i.addEventListener)i.addEventListener(e,t,!1);else{var n=i._handlers||(i._handlers={});n[e]=(n[e]||[]).concat(t)}}function ff(i,e,t){if(i.removeEventListener)i.removeEventListener(e,t,!1);else{var n=i._handlers,r=n&&n[e];if(r){var s=r.indexOf(t);s>-1&&(n[e]=r.slice(0,s).concat(r.slice(s+1)))}}}function mf(i,e,...t){var n,r=(n=i._handlers)===null||n===void 0?void 0:n[e];if(r)for(var s=0;s<r.length;++s)r[s](...t)}function Yh(i,...e){if(i)for(var t=0;t<i.length;++t)i[t](...e)}var Jv={Return:"CR",Backspace:"BS",Delete:"Del",Escape:"Esc",Insert:"Ins",ArrowLeft:"Left",ArrowRight:"Right",ArrowUp:"Up",ArrowDown:"Down",Enter:"CR"," ":"Space"},gf={Shift:1,Alt:1,Command:1,Control:1,CapsLock:1,AltGraph:1,Dead:1,Unidentified:1};let Ba;try{Ba=new RegExp("[\\w\\p{Alphabetic}\\p{Number}_]","u")}catch{Ba=/[\w]/}function Di(i,e){var t=i.cm6,n="input.type.compose";if(i.curOp&&(i.curOp.lastChange||(n="input.type.compose.start")),e.annotations)try{e.annotations.some(function(r){r.value=="input"&&(r.value=n)})}catch(r){console.error(r)}else e.userEvent=n;return t.dispatch(e)}function _h(i,e){var t;i.curOp&&(i.curOp.$changeStart=void 0),(e?_s:fi)(i.cm6);let n=(t=i.curOp)===null||t===void 0?void 0:t.$changeStart;n!=null&&i.cm6.dispatch({selection:{anchor:n}})}var e1={};class J{constructor(e){this.state={},this.marks=Object.create(null),this.$mid=0,this.options={},this._handlers={},this.$lastChangeEndOffset=0,this.virtualSelection=null,this.cm6=e,this.onChange=this.onChange.bind(this),this.onSelectionChange=this.onSelectionChange.bind(this)}openDialog(e,t,n){return n1(this,e,t,n)}openNotification(e,t){return t1(this,e,t)}on(e,t){df(this,e,t)}off(e,t){ff(this,e,t)}signal(e,t,n){mf(this,e,t,n)}indexFromPos(e){return Ke(this.cm6.state.doc,e)}posFromIndex(e){return vt(this.cm6.state.doc,e)}foldCode(e){let t=this.cm6,n=t.state.selection.ranges,r=this.cm6.state.doc,s=Ke(r,e),o=R.create([R.range(s,s)],0).ranges;t.state.selection.ranges=o,Ip(t),t.state.selection.ranges=n}firstLine(){return 0}lastLine(){return this.cm6.state.doc.lines-1}lineCount(){return this.cm6.state.doc.lines}setCursor(e,t){typeof e=="object"&&(t=e.ch,e=e.line);var n=Ke(this.cm6.state.doc,{line:e,ch:t});this.cm6.dispatch({selection:{anchor:n}},{scrollIntoView:!this.curOp}),this.curOp&&!this.curOp.isVimOp&&this.onBeforeEndOperation()}getCursor(e){var t=this.cm6.state.selection.main,n=e=="head"||!e?t.head:e=="anchor"?t.anchor:e=="start"?t.from:e=="end"?t.to:null;if(n==null)throw new Error("Invalid cursor type");return this.posFromIndex(n)}listSelections(){var e=this.cm6.state.doc;return this.cm6.state.selection.ranges.map(t=>({anchor:vt(e,t.anchor),head:vt(e,t.head)}))}setSelections(e,t){var n=this.cm6.state.doc,r=e.map(s=>R.range(Ke(n,s.anchor),Ke(n,s.head)));this.cm6.dispatch({selection:R.create(r,t)})}setSelection(e,t,n){var r=this.cm6.state.doc,s=[R.range(Ke(r,e),Ke(r,t))];this.cm6.dispatch({selection:R.create(s,0)}),n&&n.origin=="*mouse"&&this.onBeforeEndOperation()}getLine(e){var t=this.cm6.state.doc;return e<0||e>=t.lines?"":this.cm6.state.doc.line(e+1).text}getLineHandle(e){return this.$lineHandleChanges||(this.$lineHandleChanges=[]),{row:e,index:this.indexFromPos(new Xs(e,0))}}getLineNumber(e){var t=this.$lineHandleChanges;if(!t)return null;for(var n=e.index,r=0;r<t.length;r++)if(n=t[r].changes.mapPos(n,1,Qe.TrackAfter),n==null)return null;var s=this.posFromIndex(n);return s.ch==0?s.line:null}releaseLineHandles(){this.$lineHandleChanges=void 0}getRange(e,t){var n=this.cm6.state.doc;return this.cm6.state.sliceDoc(Ke(n,e),Ke(n,t))}replaceRange(e,t,n){n||(n=t);var r=this.cm6.state.doc,s=Ke(r,t),o=Ke(r,n);Di(this,{changes:{from:s,to:o,insert:e}})}replaceSelection(e){Di(this,this.cm6.state.replaceSelection(e))}replaceSelections(e){var t=this.cm6.state.selection.ranges,n=t.map((r,s)=>({from:r.from,to:r.to,insert:e[s]||""}));Di(this,{changes:n})}getSelection(){return this.getSelections().join(`
`)}getSelections(){var e=this.cm6;return e.state.selection.ranges.map(t=>e.state.sliceDoc(t.from,t.to))}somethingSelected(){return this.cm6.state.selection.ranges.some(e=>!e.empty)}getInputField(){return this.cm6.contentDOM}clipPos(e){var t=this.cm6.state.doc,n=e.ch,r=e.line+1;r<1&&(r=1,n=0),r>t.lines&&(r=t.lines,n=Number.MAX_VALUE);var s=t.line(r);return n=Math.min(Math.max(0,n),s.to-s.from),new Xs(r-1,n)}getValue(){return this.cm6.state.doc.toString()}setValue(e){var t=this.cm6;return t.dispatch({changes:{from:0,to:t.state.doc.length,insert:e},selection:R.range(0,0)})}focus(){return this.cm6.focus()}blur(){return this.cm6.contentDOM.blur()}defaultTextHeight(){return this.cm6.defaultLineHeight}findMatchingBracket(e){var t=this.cm6.state,n=Ke(t.doc,e),r=mn(t,n+1,-1);return r&&r.end?{to:vt(t.doc,r.end.from)}:(r=mn(t,n,1),r&&r.end?{to:vt(t.doc,r.end.from)}:{to:void 0})}scanForBracket(e,t,n,r){return s1(this,e,t,n,r)}indentLine(e,t){t?this.indentMore():this.indentLess()}indentMore(){Ts(this.cm6)}indentLess(){Ms(this.cm6)}execCommand(e){e=="indentAuto"?J.commands.indentAuto(this):e=="goLineLeft"?ms(this.cm6):e=="goLineRight"?(fs(this.cm6),Ky(this.cm6)):console.log(e+" is not implemented")}setBookmark(e,t){var n=t?.insertLeft?1:-1,r=this.indexFromPos(e),s=new l1(this,r,n);return s}addOverlay({query:e}){let t=new vl({regexp:!0,search:e.source,caseSensitive:!/i/.test(e.flags)});if(t.valid){t.forVim=!0,this.cm6Query=t;let n=Pn.of(t);return this.cm6.dispatch({effects:n}),t}}removeOverlay(e){if(!this.cm6Query)return;this.cm6Query.forVim=!1;let t=Pn.of(this.cm6Query);this.cm6.dispatch({effects:t})}getSearchCursor(e,t){var n=this,r=null,s=null;t.ch==null&&(t.ch=Number.MAX_VALUE);var o=Ke(n.cm6.state.doc,t),a=e.source.replace(/(\\.|{(?:\d+(?:,\d*)?|,\d+)})|[{}]/g,function(b,k){return k||"\\"+b});function h(b,k=0,S=b.length){return new yl(b,a,{ignoreCase:e.ignoreCase},k,S)}function p(b){var k=n.cm6.state.doc;if(b>k.length)return null;let S=h(k,b).next();return S.done?null:S.value}var f=1e4;function g(b,k){var S=n.cm6.state.doc;for(let T=1;;T++){let A=Math.max(b,k-T*f),D=h(S,A,k),B=null;for(;!D.next().done;)B=D.value;if(B&&(A==b||B.from>A+10))return B;if(A==b)return null}}return{findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(b){var k=n.cm6.state.doc;if(b){let S=r?r.from==r.to?r.to-1:r.from:o;r=g(0,S)}else{let S=r?r.from==r.to?r.to+1:r.to:o;r=p(S)}return s=r&&{from:vt(k,r.from),to:vt(k,r.to),match:r.match},r&&r.match},from:function(){return s?.from},to:function(){return s?.to},replace:function(b){r&&(Di(n,{changes:{from:r.from,to:r.to,insert:b}}),r.to=r.from+b.length,s&&(s.to=vt(n.cm6.state.doc,r.to)))}}}findPosV(e,t,n,r){let{cm6:s}=this;const o=s.state.doc;let a=n=="page"?s.dom.clientHeight:0;const h=Ke(o,e);let p=R.range(h,h,r),f=Math.round(Math.abs(t));for(let b=0;b<f;b++)n=="page"?p=s.moveVertically(p,t>0,a):n=="line"&&(p=s.moveVertically(p,t>0));let g=vt(o,p.head);return(t<0&&p.head==0&&r!=0&&e.line==0&&e.ch!=0||t>0&&p.head==o.length&&g.ch!=r&&e.line==g.line)&&(g.hitSide=!0),g}charCoords(e,t){var n=this.cm6.contentDOM.getBoundingClientRect(),r=Ke(this.cm6.state.doc,e),s=this.cm6.coordsAtPos(r),o=-n.top;return{left:(s?.left||0)-n.left,top:(s?.top||0)+o,bottom:(s?.bottom||0)+o}}coordsChar(e,t){var n=this.cm6.contentDOM.getBoundingClientRect(),r=this.cm6.posAtCoords({x:e.left+n.left,y:e.top+n.top})||0;return vt(this.cm6.state.doc,r)}getScrollInfo(){var e=this.cm6.scrollDOM;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight,width:e.scrollWidth,clientHeight:e.clientHeight,clientWidth:e.clientWidth}}scrollTo(e,t){e!=null&&(this.cm6.scrollDOM.scrollLeft=e),t!=null&&(this.cm6.scrollDOM.scrollTop=t)}scrollIntoView(e,t){if(e){var n=this.indexFromPos(e);this.cm6.dispatch({effects:W.scrollIntoView(n)})}else this.cm6.dispatch({scrollIntoView:!0,userEvent:"scroll"})}getWrapperElement(){return this.cm6.dom}getMode(){return{name:this.getOption("mode")}}setSize(e,t){this.cm6.dom.style.width=e+4+"px",this.cm6.dom.style.height=t+"px",this.refresh()}refresh(){this.cm6.measure()}destroy(){this.removeOverlay()}getLastEditEnd(){return this.posFromIndex(this.$lastChangeEndOffset)}onChange(e){this.$lineHandleChanges&&this.$lineHandleChanges.push(e);for(let n in this.marks)this.marks[n].update(e.changes);this.virtualSelection&&(this.virtualSelection.ranges=this.virtualSelection.ranges.map(n=>n.map(e.changes)));var t=this.curOp=this.curOp||{};e.changes.iterChanges((n,r,s,o,a)=>{(t.$changeStart==null||t.$changeStart>s)&&(t.$changeStart=s),this.$lastChangeEndOffset=o;var h={text:a.toJSON()};t.lastChange?t.lastChange.next=t.lastChange=h:t.lastChange=t.change=h},!0),t.changeHandlers||(t.changeHandlers=this._handlers.change&&this._handlers.change.slice())}onSelectionChange(){var e=this.curOp=this.curOp||{};e.cursorActivityHandlers||(e.cursorActivityHandlers=this._handlers.cursorActivity&&this._handlers.cursorActivity.slice()),this.curOp.cursorActivity=!0}operation(e){this.curOp||(this.curOp={$d:0}),this.curOp.$d++;try{var t=e()}finally{this.curOp&&(this.curOp.$d--,this.curOp.$d||this.onBeforeEndOperation())}return t}onBeforeEndOperation(){var e=this.curOp,t=!1;e&&(e.change&&Yh(e.changeHandlers,this,e.change),e&&e.cursorActivity&&(Yh(e.cursorActivityHandlers,this,null),e.isVimOp&&(t=!0)),this.curOp=null),t&&this.scrollIntoView()}moveH(e,t){if(t=="char"){var n=this.getCursor();this.setCursor(n.line,n.ch+e)}}setOption(e,t){switch(e){case"keyMap":this.state.keyMap=t;break}}getOption(e){switch(e){case"firstLineNumber":return 1;case"tabSize":return this.cm6.state.tabSize||4;case"readonly":return this.cm6.state.readOnly;case"indentWithTabs":return this.cm6.state.facet(di)=="	";case"indentUnit":return this.cm6.state.facet(di).length||2;case"keyMap":return this.state.keyMap||"vim"}}toggleOverwrite(e){this.state.overwrite=e}getTokenTypeAt(e){var t,n=this.indexFromPos(e),r=Mp(this.cm6.state,n),s=r?.resolve(n),o=((t=s?.type)===null||t===void 0?void 0:t.name)||"";return/comment/i.test(o)?"comment":/string/i.test(o)?"string":""}overWriteSelection(e){var t=this.cm6.state.doc,n=this.cm6.state.selection,r=n.ranges.map(s=>{if(s.empty){var o=s.to<t.length?t.sliceString(s.from,s.to+1):"";if(o&&!/\n/.test(o))return R.range(s.from,s.to+1)}return s});this.cm6.dispatch({selection:R.create(r,n.mainIndex)}),this.replaceSelection(e)}isInMultiSelectMode(){return this.cm6.state.selection.ranges.length>1}virtualSelectionMode(){return!!this.virtualSelection}forEachSelection(e){var t=this.cm6.state.selection;this.virtualSelection=R.create(t.ranges,t.mainIndex);for(var n=0;n<this.virtualSelection.ranges.length;n++){var r=this.virtualSelection.ranges[n];r&&(this.cm6.dispatch({selection:R.create([r])}),e(),this.virtualSelection.ranges[n]=this.cm6.state.selection.ranges[0])}this.cm6.dispatch({selection:this.virtualSelection}),this.virtualSelection=null}}J.isMac=typeof navigator<"u"&&/Mac/.test(navigator.platform);J.Pos=Xs;J.StringStream=W0;J.commands={cursorCharLeft:function(i){Gi(i.cm6)},redo:function(i){_h(i,!1)},undo:function(i){_h(i,!0)},newlineAndIndent:function(i){As({state:i.cm6.state,dispatch:e=>Di(i,e)})},indentAuto:function(i){_d(i.cm6)}};J.defineOption=function(i,e,t){};J.isWordChar=function(i){return Ba.test(i)};J.keys=e1;J.keyMap={};J.addClass=function(){};J.rmClass=function(){};J.e_preventDefault=function(i){i.preventDefault()};J.e_stop=function(i){var e,t;(e=i?.stopPropagation)===null||e===void 0||e.call(i),(t=i?.preventDefault)===null||t===void 0||t.call(i)};J.keyName=function(i){var e=i.key;if(!gf[e]){e=="Escape"&&(e="Esc"),e==" "&&(e="Space"),e.length>1&&(e=e.replace(/Numpad|Arrow/,"")),e.length==1&&(e=e.toUpperCase());var t="";return i.ctrlKey&&(t+="Ctrl-"),i.altKey&&(t+="Alt-"),(t||e.length>1)&&i.shiftKey&&(t+="Shift-"),t+=e,t}};J.vimKey=function(e){var t=e.key;if(!gf[t]){t.length>1&&t[0]=="n"&&(t=t.replace("Numpad","")),t=Jv[t]||t;var n="";return e.ctrlKey&&(n+="C-"),e.altKey&&(n+="A-"),e.metaKey&&(n+="M-"),J.isMac&&e.altKey&&!e.metaKey&&!e.ctrlKey&&(n=n.slice(2)),(n||t.length>1)&&e.shiftKey&&(n+="S-"),n+=t,n.length>1&&(n="<"+n+">"),n}};J.lookupKey=function(e,t,n){var r=J.keys[e];r&&n(r)};J.on=df;J.off=ff;J.signal=mf;J.findMatchingTag=o1;J.findEnclosingTag=a1;function Of(i,e,t){var n=document.createElement("div");return n.appendChild(e),n}function yf(i,e){i.state.currentNotificationClose&&i.state.currentNotificationClose(),i.state.currentNotificationClose=e}function t1(i,e,t){yf(i,a);var n=Of(i,e,t&&t.bottom),r=!1,s,o=t&&typeof t.duration<"u"?t.duration:5e3;function a(){r||(r=!0,clearTimeout(s),n.remove(),vf(i,n))}return n.onclick=function(h){h.preventDefault(),a()},bf(i,n),o&&(s=setTimeout(a,o)),a}function bf(i,e){var t=i.state.dialog;i.state.dialog=e,e&&t!==e&&(t&&t.contains(document.activeElement)&&i.focus(),t&&t.parentElement?t.parentElement.replaceChild(e,t):t&&t.remove(),J.signal(i,"dialog"))}function vf(i,e){i.state.dialog==e&&(i.state.dialog=null,J.signal(i,"dialog"))}function n1(i,e,t,n){n||(n={}),yf(i,void 0);var r=Of(i,e,n.bottom),s=!1;bf(i,r);function o(h){if(typeof h=="string")a.value=h;else{if(s)return;s=!0,vf(i,r),i.state.dialog||i.focus(),n.onClose&&n.onClose(r)}}var a=r.getElementsByTagName("input")[0];return a&&(n.value&&(a.value=n.value,n.selectValueOnOpen!==!1&&a.select()),n.onInput&&J.on(a,"input",function(h){n.onInput(h,a.value,o)}),n.onKeyUp&&J.on(a,"keyup",function(h){n.onKeyUp(h,a.value,o)}),J.on(a,"keydown",function(h){n&&n.onKeyDown&&n.onKeyDown(h,a.value,o)||(h.keyCode==13&&t(a.value),(h.keyCode==27||n.closeOnEnter!==!1&&h.keyCode==13)&&(a.blur(),J.e_stop(h),o()))}),n.closeOnBlur!==!1&&J.on(a,"blur",function(){setTimeout(function(){document.activeElement!==a&&o()})}),a.focus()),o}var i1={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function r1(i){return i&&i.bracketRegex||/[(){}[\]]/}function s1(i,e,t,n,r){for(var s=r&&r.maxScanLineLength||1e4,o=r&&r.maxScanLines||1e3,a=[],h=r1(r),p=t>0?Math.min(e.line+o,i.lastLine()+1):Math.max(i.firstLine()-1,e.line-o),f=e.line;f!=p;f+=t){var g=i.getLine(f);if(g){var b=t>0?0:g.length-1,k=t>0?g.length:-1;if(!(g.length>s))for(f==e.line&&(b=e.ch-(t<0?1:0));b!=k;b+=t){var S=g.charAt(b);if(h.test(S)){var T=i1[S];if(T&&T.charAt(1)==">"==t>0)a.push(S);else if(a.length)a.pop();else return{pos:new Xs(f,b),ch:S}}}}}return f-t==(t>0?i.lastLine():i.firstLine())?!1:null}function o1(i,e){}function a1(i,e){var t,n,r=i.cm6.state,s=i.indexFromPos(e);if(s<r.doc.length){var o=r.sliceDoc(s,s+1);o=="<"&&s++}for(var a=Mp(r,s),h=a?.resolve(s)||null;h;){if(((t=h.firstChild)===null||t===void 0?void 0:t.type.name)=="OpenTag"&&((n=h.lastChild)===null||n===void 0?void 0:n.type.name)=="CloseTag")return{open:zh(r.doc,h.firstChild),close:zh(r.doc,h.lastChild)};h=h.parent}}function zh(i,e){return{from:vt(i,e.from),to:vt(i,e.to)}}class l1{constructor(e,t,n){this.cm=e,this.id=e.$mid++,this.offset=t,this.assoc=n,e.marks[this.id]=this}clear(){delete this.cm.marks[this.id]}find(){return this.offset==null?null:this.cm.posFromIndex(this.offset)}update(e){this.offset!=null&&(this.offset=e.mapPos(this.offset,this.assoc,Qe.TrackDel))}}class c1{constructor(e,t,n,r,s,o,a,h,p,f){this.left=e,this.top=t,this.height=n,this.fontFamily=r,this.fontSize=s,this.fontWeight=o,this.color=a,this.className=h,this.letter=p,this.partial=f}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",e.style.height=this.height+"px",e.style.lineHeight=this.height+"px",e.style.fontFamily=this.fontFamily,e.style.fontSize=this.fontSize,e.style.fontWeight=this.fontWeight,e.style.color=this.partial?"transparent":this.color,e.className=this.className,e.textContent=this.letter}eq(e){return this.left==e.left&&this.top==e.top&&this.height==e.height&&this.fontFamily==e.fontFamily&&this.fontSize==e.fontSize&&this.fontWeight==e.fontWeight&&this.color==e.color&&this.className==e.className&&this.letter==e.letter}}class h1{constructor(e,t){this.view=e,this.rangePieces=[],this.cursors=[],this.cm=t,this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer cm-vimCursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration="1200ms"}update(e){(e.selectionSet||e.geometryChanged||e.viewportChanged)&&(this.view.requestMeasure(this.measureReq),this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink")}scheduleRedraw(){this.view.requestMeasure(this.measureReq)}readPos(){let{state:e}=this.view,t=[];for(let n of e.selection.ranges){let r=n==e.selection.main,s=f1(this.cm,this.view,n,r);s&&t.push(s)}return{cursors:t}}drawSel({cursors:e}){if(e.length!=this.cursors.length||e.some((t,n)=>!t.eq(this.cursors[n]))){let t=this.cursorLayer.children;if(t.length!==e.length){this.cursorLayer.textContent="";for(const n of e)this.cursorLayer.appendChild(n.draw())}else e.forEach((n,r)=>n.adjust(t[r]));this.cursors=e}}destroy(){this.cursorLayer.remove()}}const u1={".cm-vimMode .cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-fat-cursor":{position:"absolute",background:"#ff9696",border:"none",whiteSpace:"pre"},"&:not(.cm-focused) .cm-fat-cursor":{background:"none",outline:"solid 1px #ff9696",color:"transparent !important"}},p1=Yt.highest(W.theme(u1));function d1(i){let e=i.scrollDOM.getBoundingClientRect();return{left:(i.textDirection==we.LTR?e.left:e.right-i.scrollDOM.clientWidth)-i.scrollDOM.scrollLeft,top:e.top-i.scrollDOM.scrollTop}}function f1(i,e,t,n){let r=t.head,s=!1,o=1,a=i.state.vim;if(a&&(!a.insertMode||i.state.overwrite)){if(s=!0,a.visualBlock&&!n)return null;t.anchor<t.head&&r--,i.state.overwrite?o=.2:a.status&&(o=.5)}if(s){let p=r<e.state.doc.length&&e.state.sliceDoc(r,r+1);p&&/[\uDC00-\uDFFF]/.test(p)&&r>1&&(r--,p=e.state.sliceDoc(r,r+1));let f=e.coordsAtPos(r,1);if(!f)return null;let g=d1(e),b=e.domAtPos(r),k=b?b.node:e.contentDOM;for(;b&&b.node instanceof HTMLElement;)k=b.node,b={node:b.node.childNodes[b.offset],offset:0};if(!(k instanceof HTMLElement)){if(!k.parentNode)return null;k=k.parentNode}let S=getComputedStyle(k),T=f.left;if(!p||p==`
`||p=="\r")p=" ";else if(p=="	"){p=" ";var h=e.coordsAtPos(r+1,-1);h&&(T=h.left-(h.left-f.left)/parseInt(S.tabSize))}else/[\uD800-\uDBFF]/.test(p)&&r<e.state.doc.length-1&&(p+=e.state.sliceDoc(r+1,r+2));let A=f.bottom-f.top;return new c1(T-g.left,f.top-g.top+A*(1-o),A*o,S.fontFamily,S.fontSize,S.fontWeight,S.color,n?"cm-fat-cursor cm-cursor-primary":"cm-fat-cursor cm-cursor-secondary",p,o!=1)}else return null}var m1=typeof navigator<"u"&&/linux/i.test(navigator.platform)&&/ Gecko\/\d+/.exec(navigator.userAgent);const Ai=Kv(J),g1=250,O1=W.baseTheme({".cm-vimMode .cm-cursorLayer:not(.cm-vimCursorLayer)":{display:"none"},".cm-vim-panel":{padding:"0px 10px",fontFamily:"monospace",minHeight:"1.3em"},".cm-vim-panel input":{border:"none",outline:"none",backgroundColor:"inherit"},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"}}),y1=Xe.fromClass(class{constructor(i){this.status="",this.query=null,this.decorations=z.none,this.waitForCopy=!1,this.lastKeydown="",this.useNextTextInput=!1,this.view=i;const e=this.cm=new J(i);Ai.enterVimMode(this.cm),this.view.cm=this.cm,this.cm.state.vimPlugin=this,this.blockCursor=new h1(i,e),this.updateClass(),this.cm.on("vim-command-done",()=>{e.state.vim&&(e.state.vim.status=""),this.blockCursor.scheduleRedraw(),this.updateStatus()}),this.cm.on("vim-mode-change",t=>{e.state.vim.mode=t.mode,t.subMode&&(e.state.vim.mode+=" block"),e.state.vim.status="",this.blockCursor.scheduleRedraw(),this.updateClass(),this.updateStatus()}),this.cm.on("dialog",()=>{this.cm.state.statusbar?this.updateStatus():i.dispatch({effects:kf.of(!!this.cm.state.dialog)})}),this.dom=document.createElement("span"),this.dom.style.cssText="position: absolute; right: 10px; top: 1px",this.statusButton=document.createElement("span"),this.statusButton.onclick=t=>{Ai.handleKey(this.cm,"<Esc>","user"),this.cm.focus()},this.statusButton.style.cssText="cursor: pointer"}update(i){var e;if((i.viewportChanged||i.docChanged)&&this.query&&this.highlight(this.query),i.docChanged&&this.cm.onChange(i),i.selectionSet&&this.cm.onSelectionChange(),i.viewportChanged,this.cm.curOp&&!this.cm.curOp.isVimOp&&this.cm.onBeforeEndOperation(),i.transactions){for(let t of i.transactions)for(let n of t.effects)if(n.is(Pn))if(!((e=n.value)===null||e===void 0?void 0:e.forVim))this.highlight(null);else{let s=n.value.create();this.highlight(s)}}this.blockCursor.update(i)}updateClass(){const i=this.cm.state;!i.vim||i.vim.insertMode&&!i.overwrite?this.view.scrollDOM.classList.remove("cm-vimMode"):this.view.scrollDOM.classList.add("cm-vimMode")}updateStatus(){let i=this.cm.state.statusbar,e=this.cm.state.vim;if(!i||!e)return;let t=this.cm.state.dialog;if(t)t.parentElement!=i&&(i.textContent="",i.appendChild(t));else{i.textContent="";var n=(e.mode||"normal").toUpperCase();e.insertModeReturn&&(n+="(C-O)"),this.statusButton.textContent=`--${n}--`,i.appendChild(this.statusButton)}this.dom.textContent=e.status,i.appendChild(this.dom)}destroy(){Ai.leaveVimMode(this.cm),this.updateClass(),this.blockCursor.destroy(),delete this.view.cm}highlight(i){if(this.query=i,!i)return this.decorations=z.none;let{view:e}=this,t=new bn;for(let n=0,r=e.visibleRanges,s=r.length;n<s;n++){let{from:o,to:a}=r[n];for(;n<s-1&&a>r[n+1].from-2*g1;)a=r[++n].to;i.highlight(e.state,o,a,(h,p)=>{t.add(h,p,v1)})}return this.decorations=t.finish()}handleKey(i,e){const t=J.vimKey(i),n=this.cm;if(!t)return;let r=n.state.vim;if(!r)return;if(t=="<Esc>"&&!r.insertMode&&!r.visualMode&&this.query){const a=r.searchState_;a&&(n.removeOverlay(a.getOverlay()),a.setOverlay(null))}if(t==="<C-c>"&&!J.isMac&&n.somethingSelected())return this.waitForCopy=!0,!0;r.status=(r.status||"")+t;let o=Ai.multiSelectHandleKey(n,t,"user");return r=n.state.vim,!o&&r.insertMode&&n.state.overwrite&&(i.key&&i.key.length==1&&!/\n/.test(i.key)?(o=!0,n.overWriteSelection(i.key)):i.key=="Backspace"&&(o=!0,J.commands.cursorCharLeft(n))),o&&(J.signal(this.cm,"vim-keypress",t),i.preventDefault(),i.stopPropagation(),this.blockCursor.scheduleRedraw()),this.updateStatus(),!!o}},{eventHandlers:{copy:function(i,e){this.waitForCopy&&(this.waitForCopy=!1,Promise.resolve().then(()=>{var t=this.cm,n=t.state.vim;n&&(n.insertMode?t.setSelection(t.getCursor(),t.getCursor()):t.operation(()=>{t.curOp&&(t.curOp.isVimOp=!0),Ai.handleKey(t,"<Esc>","user")}))}))},compositionstart:function(i,e){this.useNextTextInput=!0},keypress:function(i,e){this.lastKeydown=="Dead"&&this.handleKey(i,e)},keydown:function(i,e){this.lastKeydown=i.key,this.lastKeydown=="Unidentified"||this.lastKeydown=="Process"||this.lastKeydown=="Dead"?this.useNextTextInput=!0:(this.useNextTextInput=!1,this.handleKey(i,e))}},provide:()=>[W.inputHandler.of((i,e,t,n)=>{var r,s,o=P1(i);if(!o)return!1;var a=(r=o.state)===null||r===void 0?void 0:r.vim,h=o.state.vimPlugin;return a&&!a.insertMode&&!(!((s=o.curOp)===null||s===void 0)&&s.isVimOp)?(n==="\0\0"||(n.length==1&&h.useNextTextInput&&h.handleKey({key:n,preventDefault:()=>{},stopPropagation:()=>{}}),b1(i)),!0):!1})],decorations:i=>i.decorations});function b1(i){var e=i.scrollDOM.parentElement;if(e){if(m1){i.contentDOM.textContent="\0\0",i.contentDOM.dispatchEvent(new CustomEvent("compositionend"));return}var t=i.scrollDOM.nextSibling,n=window.getSelection(),r=n&&{anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset};i.scrollDOM.remove(),e.insertBefore(i.scrollDOM,t);try{r&&n&&(n.setPosition(r.anchorNode,r.anchorOffset),r.focusNode&&n.extend(r.focusNode,r.focusOffset))}catch(s){console.error(s)}i.focus(),i.contentDOM.dispatchEvent(new CustomEvent("compositionend"))}}const v1=z.mark({class:"cm-searchMatch"}),kf=G.define(),k1=Pe.define({create:()=>!1,update(i,e){for(let t of e.effects)t.is(kf)&&(i=t.value);return i},provide:i=>xn.from(i,e=>e?w1:null)});function w1(i){let e=document.createElement("div");e.className="cm-vim-panel";let t=i.cm;return t.state.dialog&&e.appendChild(t.state.dialog),{top:!1,dom:e}}function x1(i){let e=document.createElement("div");e.className="cm-vim-panel";let t=i.cm;return t.state.statusbar=e,t.state.vimPlugin.updateStatus(),{dom:e}}function S1(i={}){return[O1,y1,p1,i.status?xn.of(x1):k1]}function P1(i){return i.cm||null}class Q1{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}}class Mn{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}static init(e,t,n){let r=e,s=n.facet(Hn).markerFilter;s&&(r=s(r));let o=z.set(r.map(a=>a.from==a.to||a.from==a.to-1&&n.doc.lineAt(a.from).to==a.from?z.widget({widget:new U1(a),diagnostic:a}).range(a.from):z.mark({attributes:{class:"cm-lintRange cm-lintRange-"+a.severity},diagnostic:a}).range(a.from,a.to)),!0);return new Mn(o,t,mi(o))}}function mi(i,e=null,t=0){let n=null;return i.between(t,1e9,(r,s,{spec:o})=>{if(!(e&&o.diagnostic!=e))return n=new Q1(r,s,o.diagnostic),!1}),n}function C1(i,e){return!!(i.effects.some(t=>t.is(Sl))||i.changes.touchesRange(e.pos))}function wf(i,e){return i.field(gt,!1)?e:e.concat(G.appendConfig.of([gt,W.decorations.compute([gt],t=>{let{selected:n,panel:r}=t.field(gt);return!n||!r||n.from==n.to?z.none:z.set([A1.range(n.from,n.to)])}),yp(T1,{hideOn:C1}),B1]))}function $1(i,e){return{effects:wf(i,[Sl.of(e)])}}const Sl=G.define(),Pl=G.define(),xf=G.define(),gt=Pe.define({create(){return new Mn(z.none,null,null)},update(i,e){if(e.docChanged){let t=i.diagnostics.map(e.changes),n=null;if(i.selected){let r=e.changes.mapPos(i.selected.from,1);n=mi(t,i.selected.diagnostic,r)||mi(t,null,r)}i=new Mn(t,i.panel,n)}for(let t of e.effects)t.is(Sl)?i=Mn.init(t.value,i.panel,e.state):t.is(Pl)?i=new Mn(i.diagnostics,t.value?Js.open:null,i.selected):t.is(xf)&&(i=new Mn(i.diagnostics,i.panel,t.value));return i},provide:i=>[xn.from(i,e=>e.panel),W.decorations.from(i,e=>e.diagnostics)]}),A1=z.mark({class:"cm-lintRange cm-lintRange-active"});function T1(i,e,t){let{diagnostics:n}=i.state.field(gt),r=[],s=2e8,o=0;n.between(e-(t<0?1:0),e+(t>0?1:0),(h,p,{spec:f})=>{e>=h&&e<=p&&(h==p||(e>h||t>0)&&(e<p||t<0))&&(r.push(f.diagnostic),s=Math.min(h,s),o=Math.max(p,o))});let a=i.state.facet(Hn).tooltipFilter;return a&&(r=a(r)),r.length?{pos:s,end:o,above:i.state.doc.lineAt(s).to<o,create(){return{dom:M1(i,r)}}}:null}function M1(i,e){return de("ul",{class:"cm-tooltip-lint"},e.map(t=>Pf(i,t,!1)))}const R1=i=>{let e=i.state.field(gt,!1);(!e||!e.panel)&&i.dispatch({effects:wf(i.state,[Pl.of(!0)])});let t=qi(i,Js.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},Gh=i=>{let e=i.state.field(gt,!1);return!e||!e.panel?!1:(i.dispatch({effects:Pl.of(!1)}),!0)},j1=i=>{let e=i.state.field(gt,!1);if(!e)return!1;let t=i.state.selection.main,n=e.diagnostics.iter(t.to+1);return!n.value&&(n=e.diagnostics.iter(0),!n.value||n.from==t.from&&n.to==t.to)?!1:(i.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)},D1=Xe.fromClass(class{constructor(i){this.view=i,this.timeout=-1,this.set=!0;let{delay:e}=i.state.facet(Hn);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){let i=Date.now();if(i<this.lintTime-10)setTimeout(this.run,this.lintTime-i);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(Hn);Promise.all(t.map(n=>Promise.resolve(n(this.view)))).then(n=>{let r=n.reduce((s,o)=>s.concat(o));this.view.state.doc==e.doc&&this.view.dispatch($1(this.view.state,r))},n=>{Ot(this.view.state,n)})}}update(i){let e=i.state.facet(Hn);(i.docChanged||e!=i.startState.facet(Hn))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),Hn=q.define({combine(i){return Object.assign({sources:i.map(e=>e.source)},gi(i.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null}))},enables:D1});function Sf(i){let e=[];if(i)e:for(let{name:t}of i){for(let n=0;n<t.length;n++){let r=t[n];if(/[a-zA-Z]/.test(r)&&!e.some(s=>s.toLowerCase()==r.toLowerCase())){e.push(r);continue e}}e.push("")}return e}function Pf(i,e,t){var n;let r=t?Sf(e.actions):[];return de("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},de("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(n=e.actions)===null||n===void 0?void 0:n.map((s,o)=>{let a=g=>{g.preventDefault();let b=mi(i.state.field(gt).diagnostics,e);b&&s.apply(i,b.from,b.to)},{name:h}=s,p=r[o]?h.indexOf(r[o]):-1,f=p<0?h:[h.slice(0,p),de("u",h.slice(p,p+1)),h.slice(p+1)];return de("button",{type:"button",class:"cm-diagnosticAction",onclick:a,onmousedown:a,"aria-label":` Action: ${h}${p<0?"":` (access key "${r[o]})"`}.`},f)}),e.source&&de("div",{class:"cm-diagnosticSource"},e.source))}class U1 extends Qn{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return de("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class Hh{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=Pf(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Js{constructor(e){this.view=e,this.items=[];let t=r=>{if(r.keyCode==27)Gh(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=Sf(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==r.keyCode){let h=mi(this.view.state.field(gt).diagnostics,s);h&&s.actions[a].apply(e,h.from,h.to)}}else return;r.preventDefault()},n=r=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(r.target)&&this.moveSelection(s)};this.list=de("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:n}),this.dom=de("div",{class:"cm-panel-lint"},this.list,de("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Gh(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(gt).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(gt),n=0,r=!1,s=null;for(e.between(0,this.view.state.doc.length,(o,a,{spec:h})=>{let p=-1,f;for(let g=n;g<this.items.length;g++)if(this.items[g].diagnostic==h.diagnostic){p=g;break}p<0?(f=new Hh(this.view,h.diagnostic),this.items.splice(n,0,f),r=!0):(f=this.items[p],p>n&&(this.items.splice(n,p-n),r=!0)),t&&f.diagnostic==t.diagnostic?f.dom.hasAttribute("aria-selected")||(f.dom.setAttribute("aria-selected","true"),s=f):f.dom.hasAttribute("aria-selected")&&f.dom.removeAttribute("aria-selected"),n++});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new Hh(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:a})=>{o.top<a.top?this.list.scrollTop-=a.top-o.top:o.bottom>a.bottom&&(this.list.scrollTop+=o.bottom-a.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let n=e;e=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)t();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(gt),n=mi(t.diagnostics,this.items[e].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:xf.of(n)})}static open(e){return new Js(e)}}function Z1(i,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(i)}</svg>')`}function Xo(i){return Z1(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${i}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const B1=W.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Xo("#d11")},".cm-lintRange-warning":{backgroundImage:Xo("orange")},".cm-lintRange-info":{backgroundImage:Xo("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),Qf=i=>e=>{const t=i==="down";let n=e.state.selection;for(const r of n.ranges)n=n.addRange(e.moveVertically(r,t));return e.dispatch({selection:n}),!0},L1=Qf("up"),X1=Qf("down"),E1=i=>{let e=null;for(const t of i.state.selection.ranges)if(!t.empty)for(let n=t.from;n<=t.to;){const r=i.state.doc.lineAt(n),s=Math.min(r.to,t.to);e?e=e.addRange(R.range(s,s)):e=R.single(s),n=r.to+1}return e?(i.dispatch({selection:e}),!0):!1},W1=[{key:"Ctrl-Space",run:td},{key:"Escape",run:nd},{key:"ArrowDown",run:gn(!0)},{key:"ArrowUp",run:gn(!1)},{key:"PageDown",run:gn(!0,"page")},{key:"PageUp",run:gn(!1,"page")},{key:"Enter",run:Sa},{key:"Tab",run:Sa},{key:"Mod-f",run:uf,scope:"editor search-panel"},{key:"Escape",run:pf,scope:"editor search-panel"},{key:"Alt-Enter",run:cf,scope:"editor search-panel"},{key:"Mod-Alt-Enter",run:hf,scope:"editor search-panel"},{key:"Ctrl-g",run:wv},{key:"Mod-d",run:Qv,preventDefault:!0},{key:"Shift-Mod-l",run:Dv},{key:"Enter",run:As,shift:As},{key:"ArrowLeft",run:Gi,shift:gs,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:Od,shift:Cd},{key:"ArrowRight",run:us,shift:Os,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:yd,shift:$d},{key:"ArrowUp",run:ps,shift:ys,preventDefault:!0},{key:"ArrowDown",run:ds,shift:bs,preventDefault:!0},{key:"Home",run:ms,shift:Ca},{mac:"Cmd-ArrowLeft",run:ms,shift:Ca},{key:"Mod-Home",run:ws,shift:Ss},{mac:"Cmd-ArrowUp",run:ws,shift:Ss},{key:"PageUp",run:Li,shift:vs},{mac:"Ctrl-ArrowUp",run:Li,shift:vs},{key:"PageDown",run:ii,shift:ks},{mac:"Ctrl-ArrowDown",run:ii,shift:ks},{key:"End",run:fs,shift:Qa},{mac:"Cmd-ArrowRight",run:fs,shift:Qa},{key:"Mod-Alt-ArrowUp",linux:"Shift-Alt-ArrowUp",run:L1,preventDefault:!0},{key:"Mod-Alt-ArrowDown",linux:"Shift-Alt-ArrowDown",run:X1,preventDefault:!0},{key:"Shift-Alt-i",run:E1},{key:"Mod-End",run:xs,shift:Ps},{mac:"Cmd-ArrowDown",run:xs,shift:Ps},{key:"Mod-a",run:jd},{key:"Backspace",run:Sy},{key:"Backspace",run:ri,shift:ri},{key:"Delete",run:Qs},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Cs},{key:"Mod-Delete",mac:"Alt-Delete",run:Bd},{mac:"Mod-Backspace",run:Ld},{mac:"Mod-Delete",run:$s},{mac:"Ctrl-b",run:Gi,shift:gs,preventDefault:!0},{mac:"Ctrl-f",run:us,shift:Os},{mac:"Ctrl-p",run:ps,shift:ys},{mac:"Ctrl-n",run:ds,shift:bs},{mac:"Ctrl-a",run:wd,shift:Md},{mac:"Ctrl-e",run:xd,shift:Rd},{mac:"Ctrl-d",run:Qs},{mac:"Ctrl-h",run:ri},{mac:"Ctrl-k",run:$s},{mac:"Ctrl-Alt-h",run:Cs},{mac:"Ctrl-o",run:fl},{mac:"Ctrl-t",run:Xd},{mac:"Ctrl-v",run:ii},{mac:"Alt-v",run:Li},{key:"Shift-Mod-k",run:qd},{key:"Alt-ArrowDown",run:Nd},{key:"Alt-ArrowUp",run:Wd},{win:"Shift-Alt-ArrowDown",mac:"Shift-Alt-ArrowDown",run:Vd},{win:"Shift-Alt-ArrowUp",mac:"Shift-Alt-ArrowUp",run:Fd},{key:"Mod-l",run:Dd,preventDefault:!0},{key:"Shift-Mod-\\",run:Sd},{key:"Tab",run:Ts,shift:Ms,preventDefault:!0},{key:"Mod-[",run:Ms},{key:"Mod-]",run:Ts},{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Ip},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:C0},{key:"Mod-k Mod-0",run:$0},{key:"Mod-k Mod-j",run:A0},{key:"Mod-k Mod-c",run:Uy},{key:"Mod-k Mod-u",run:Zy},{key:"Mod-/",run:hl},{key:"Shift-Alt-a",run:cd},{key:"Mod-z",run:_s,preventDefault:!0},{key:"Mod-y",run:fi,preventDefault:!0},{key:"Mod-Shift-z",run:fi,preventDefault:!0},{key:"Mod-u",run:dd,preventDefault:!0},{key:"Mod-Shift-m",run:R1},{key:"F8",run:j1}],N1=Xe.fromClass(class{constructor(){}},{provide:()=>Yt.highest(wn.of([...W1]))}),I1=i=>[N1].concat(i??[]),F1={vim:S1,emacs:zv,vscode:I1};function V1(i){const e=F1[i];return[wn.of(mb),wn.of(Hy),e?e():[]]}function le(){return le=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},le.apply(this,arguments)}var ne=i=>{var{theme:e,settings:t={},styles:n=[]}=i,r={".cm-gutters":{}},s={};t.background&&(s.backgroundColor=t.background),t.foreground&&(s.color=t.foreground),(t.background||t.foreground)&&(r["&"]=s),t.fontFamily&&(r["&.cm-editor .cm-scroller"]={fontFamily:t.fontFamily}),t.gutterBackground&&(r[".cm-gutters"].backgroundColor=t.gutterBackground),t.gutterForeground&&(r[".cm-gutters"].color=t.gutterForeground),t.gutterBorder&&(r[".cm-gutters"].borderRightColor=t.gutterBorder),t.caret&&(r[".cm-content"]={caretColor:t.caret},r[".cm-cursor, .cm-dropCursor"]={borderLeftColor:t.caret});var o={};t.gutterActiveForeground&&(o.color=t.gutterActiveForeground),t.lineHighlight&&(r[".cm-activeLine"]={backgroundColor:t.lineHighlight},o.backgroundColor=t.lineHighlight),r[".cm-activeLineGutter"]=o,t.selection&&(r["&.cm-focused .cm-selectionBackground, & .cm-selectionLayer .cm-selectionBackground, .cm-content ::selection"]={backgroundColor:t.selection}),t.selectionMatch&&(r["& .cm-selectionMatch"]={backgroundColor:t.selectionMatch});var a=W.theme(r,{dark:e==="dark"}),h=tr.define(n),p=[a,Yp(h)];return p},q1={background:"#0f0f0f",foreground:"#defdef",caret:"#00FF00",selection:"#515151",selectionMatch:"#515151",gutterBackground:"#555",gutterForeground:"#FFFFFF",lineHighlight:"#314151"},Y1=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},q1,t),styles:[{tag:l.keyword,color:"darkgoldenrod",fontWeight:"bold"},{tag:l.atom,color:"#77F"},{tag:l.comment,color:"#7a7b7c",fontStyle:"italic"},{tag:l.number,color:"violet"},{tag:l.definition(l.variableName),color:"#fffabc"},{tag:l.variableName,color:"#abcdef"},{tag:l.function(l.variableName),color:"#fffabc"},{tag:l.typeName,color:"#FFDD44"},{tag:l.tagName,color:"#def"},{tag:l.string,color:"#2b4"},{tag:l.meta,color:"#C9F"},{tag:l.bracket,color:"#8a8a8a"},{tag:l.attributeName,color:"#DDFF00"},{tag:l.heading,color:"aquamarine",fontWeight:"bold"},{tag:l.link,color:"blueviolet",fontWeight:"bold"},...n]})},_1=Y1(),z1={background:"#282b2e",foreground:"#a9b7c6",caret:"#00FF00",selection:"#343739",selectionMatch:"#343739",lineHighlight:"#343739"},G1=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},z1,t),styles:[{tag:[l.keyword,l.deleted,l.className],color:"#cc7832"},{tag:[l.number,l.literal,l.derefOperator],color:"#6897bb"},{tag:[l.link,l.variableName],color:"#629755"},{tag:[l.comment,l.quote],color:"grey"},{tag:[l.meta,l.documentMeta],color:"#bbb529"},{tag:[l.string,l.propertyName,l.attributeValue],color:"#6a8759"},{tag:[l.heading,l.typeName],color:"#ffc66d"},{tag:[l.attributeName],color:"#a9b7c6"},{tag:[l.emphasis],fontStyle:"italic"},...n]})},H1=G1(),K1={background:"#272C35",foreground:"#9d9b97",caret:"#797977",selection:"#ffffff30",selectionMatch:"#2B323D",gutterBackground:"#272C35",gutterForeground:"#465063",gutterBorder:"transparent",lineHighlight:"#2B323D"},J1=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},K1,t),styles:[{tag:[l.function(l.variableName),l.function(l.propertyName),l.url,l.processingInstruction],color:"hsl(207, 82%, 66%)"},{tag:[l.tagName,l.heading],color:"#e06c75"},{tag:l.comment,color:"#54636D"},{tag:[l.propertyName],color:"hsl(220, 14%, 71%)"},{tag:[l.attributeName,l.number],color:"hsl( 29, 54%, 61%)"},{tag:l.className,color:"hsl( 39, 67%, 69%)"},{tag:l.keyword,color:"hsl(286, 60%, 67%)"},{tag:[l.string,l.regexp,l.special(l.propertyName)],color:"#98c379"},...n]})},ek=J1(),tk={background:"#21202e",foreground:"#edecee",caret:"#a277ff",selection:"#3d375e7f",selectionMatch:"#3d375e7f",gutterBackground:"#21202e",gutterForeground:"#edecee",gutterBorder:"transparent",lineHighlight:"#a394f033"},nk=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},tk,t),styles:[{tag:l.keyword,color:"#a277ff"},{tag:[l.name,l.deleted,l.character,l.macroName],color:"#edecee"},{tag:[l.propertyName],color:"#ffca85"},{tag:[l.processingInstruction,l.string,l.inserted,l.special(l.string)],color:"#61ffca"},{tag:[l.function(l.variableName),l.labelName],color:"#ffca85"},{tag:[l.color,l.constant(l.name),l.standard(l.name)],color:"#61ffca"},{tag:[l.definition(l.name),l.separator],color:"#edecee"},{tag:[l.className],color:"#82e2ff"},{tag:[l.number,l.changed,l.annotation,l.modifier,l.self,l.namespace],color:"#61ffca"},{tag:[l.typeName],color:"#82e2ff"},{tag:[l.operator,l.operatorKeyword],color:"#a277ff"},{tag:[l.url,l.escape,l.regexp,l.link],color:"#61ffca"},{tag:[l.meta,l.comment],color:"#6d6d6d"},{tag:l.strong,fontWeight:"bold"},{tag:l.emphasis,fontStyle:"italic"},{tag:l.link,textDecoration:"underline"},{tag:l.heading,fontWeight:"bold",color:"#a277ff"},{tag:[l.atom,l.bool,l.special(l.variableName)],color:"#edecee"},{tag:l.invalid,color:"#ff6767"},{tag:l.strikethrough,textDecoration:"line-through"},...n]})},ik=nk(),rk={background:"#FFFFFF",foreground:"#000000",caret:"#FBAC52",selection:"#FFD420",selectionMatch:"#FFD420",gutterBackground:"#f5f5f5",gutterForeground:"#4D4D4C",gutterBorder:"transparent",lineHighlight:"#00000012"},sk=i=>{var{theme:e="light",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},rk,t),styles:[{tag:[l.meta,l.comment],color:"#804000"},{tag:[l.keyword,l.strong],color:"#0000FF"},{tag:[l.number],color:"#FF0080"},{tag:[l.string],color:"#FF0080"},{tag:[l.variableName],color:"#006600"},{tag:[l.escape],color:"#33CC33"},{tag:[l.tagName],color:"#1C02FF"},{tag:[l.heading],color:"#0C07FF"},{tag:[l.quote],color:"#000000"},{tag:[l.list],color:"#B90690"},{tag:[l.documentMeta],color:"#888888"},{tag:[l.function(l.variableName)],color:"#0000A2"},{tag:[l.definition(l.typeName),l.typeName],color:"#6D79DE"},...n]})},ok=sk(),ak={background:"#28211c",foreground:"#9d9b97",caret:"#797977",selection:"#36312e",selectionMatch:"#4f382b",gutterBackground:"#28211c",gutterForeground:"#666666",lineHighlight:"rgba(255, 255, 255, 0.1)"},lk=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},ak,t),styles:[{tag:[l.atom,l.number,l.link,l.bool],color:"#9b859d"},{tag:l.comment,color:"#937121"},{tag:[l.keyword,l.tagName],color:"#cf6a4c"},{tag:l.string,color:"#f9ee98"},{tag:l.bracket,color:"#9d9b97"},{tag:[l.variableName],color:"#5ea6ea"},{tag:l.definition(l.variableName),color:"#cf7d34"},{tag:[l.function(l.variableName),l.className],color:"#cf7d34"},{tag:[l.propertyName,l.attributeName],color:"#54be0d"},...n]})},ck=lk(),hk={background:"#2B2B2B",foreground:"#f8f8f2",caret:"#FFFFFF",selection:"rgba(255, 255, 255, 0.1)",selectionMatch:"rgba(255, 255, 255, 0.2)",gutterBackground:"rgba(255, 255, 255, 0.1)",gutterForeground:"#999",gutterBorder:"transparent",lineHighlight:"rgba(255, 255, 255, 0.1)"},uk=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},hk,t),styles:[{tag:[l.atom,l.number],color:"#bd93f9"},{tag:[l.comment],color:"#61A151"},{tag:[l.string],color:"#6A8759"},{tag:[l.variableName,l.operator],color:"#A9B7C6"},{tag:[l.meta,l.className],color:"#A9B7C6"},{tag:[l.propertyName],color:"#FFC66D"},{tag:[l.keyword],color:"#CC7832"},{tag:[l.tagName],color:"#ff79c6"},{tag:[l.typeName],color:"#ffb86c"},...n]})},pk=uk(),dk={background:"#282a36",foreground:"#f8f8f2",caret:"#f8f8f0",selection:"rgba(255, 255, 255, 0.1)",selectionMatch:"rgba(255, 255, 255, 0.2)",gutterBackground:"#282a36",gutterForeground:"#6D8A88",gutterBorder:"transparent",lineHighlight:"rgba(255, 255, 255, 0.1)"},fk=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},dk,t),styles:[{tag:l.comment,color:"#6272a4"},{tag:l.string,color:"#f1fa8c"},{tag:l.atom,color:"#bd93f9"},{tag:l.meta,color:"#f8f8f2"},{tag:[l.keyword,l.operator,l.tagName],color:"#ff79c6"},{tag:[l.function(l.propertyName),l.propertyName],color:"#66d9ef"},{tag:[l.definition(l.variableName),l.function(l.variableName),l.className,l.attributeName],color:"#50fa7b"},{tag:l.atom,color:"#bd93f9"},...n]})},mk=fk(),gk={background:"#faf8f5",foreground:"#b29762",caret:"#93abdc",selection:"#e3dcce",selectionMatch:"#e3dcce",gutterBackground:"#faf8f5",gutterForeground:"#cdc4b1",gutterBorder:"transparent",lineHighlight:"#EFEFEF"},Ok=i=>{var{theme:e="light",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},gk,t),styles:[{tag:[l.comment,l.bracket],color:"#b6ad9a"},{tag:[l.atom,l.number,l.keyword,l.link,l.attributeName,l.quote],color:"#063289"},{tag:[l.emphasis,l.heading,l.tagName,l.propertyName,l.variableName],color:"#2d2006"},{tag:[l.typeName,l.url,l.string],color:"#896724"},{tag:[l.operator,l.string],color:"#1659df"},{tag:[l.propertyName],color:"#b29762"},{tag:[l.unit,l.punctuation],color:"#063289"},...n]})},yk=Ok(),bk={background:"#2a2734",foreground:"#6c6783",caret:"#ffad5c",selection:"rgba(255, 255, 255, 0.1)",gutterBackground:"#2a2734",gutterForeground:"#545167",lineHighlight:"#36334280"},vk=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},bk,t),styles:[{tag:[l.comment,l.bracket],color:"#6c6783"},{tag:[l.atom,l.number,l.keyword,l.link,l.attributeName,l.quote],color:"#ffcc99"},{tag:[l.emphasis,l.heading,l.tagName,l.propertyName,l.className,l.variableName],color:"#eeebff"},{tag:[l.typeName,l.url],color:"#7a63ee"},{tag:l.operator,color:"#ffad5c"},{tag:l.string,color:"#ffb870"},{tag:[l.propertyName],color:"#9a86fd"},{tag:[l.unit,l.punctuation],color:"#e09142"},...n]})},kk=vk(),wk={background:"#fff",foreground:"#000",caret:"#FFFFFF",selection:"#d7d4f0",selectionMatch:"#d7d4f0",gutterBackground:"#f7f7f7",gutterForeground:"#999",lineHighlight:"#e8f2ff",gutterBorder:"transparent"},xk=i=>{var{theme:e="light",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},wk,t),styles:[{tag:[l.comment],color:"#3F7F5F"},{tag:[l.documentMeta],color:"#FF1717"},{tag:l.keyword,color:"#7F0055",fontWeight:"bold"},{tag:l.atom,color:"#00f"},{tag:l.number,color:"#164"},{tag:l.propertyName,color:"#164"},{tag:[l.variableName,l.definition(l.variableName)],color:"#0000C0"},{tag:l.function(l.variableName),color:"#0000C0"},{tag:l.string,color:"#2A00FF"},{tag:l.operator,color:"black"},{tag:l.tagName,color:"#170"},{tag:l.attributeName,color:"#00c"},{tag:l.link,color:"#219"},...n]})},Sk=xk(),Pk={background:"#fff",foreground:"#24292e",selection:"#BBDFFF",selectionMatch:"#BBDFFF",gutterBackground:"#fff",gutterForeground:"#6e7781"},Qk=i=>{var{theme:e="light",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},Pk,t),styles:[{tag:[l.standard(l.tagName),l.tagName],color:"#116329"},{tag:[l.comment,l.bracket],color:"#6a737d"},{tag:[l.className,l.propertyName],color:"#6f42c1"},{tag:[l.variableName,l.attributeName,l.number,l.operator],color:"#005cc5"},{tag:[l.keyword,l.typeName,l.typeOperator,l.typeName],color:"#d73a49"},{tag:[l.string,l.meta,l.regexp],color:"#032f62"},{tag:[l.name,l.quote],color:"#22863a"},{tag:[l.heading],color:"#24292e",fontWeight:"bold"},{tag:[l.emphasis],color:"#24292e",fontStyle:"italic"},{tag:[l.deleted],color:"#b31d28",backgroundColor:"ffeef0"},{tag:[l.atom,l.bool,l.special(l.variableName)],color:"#e36209"},{tag:[l.url,l.escape,l.regexp,l.link],color:"#032f62"},{tag:l.link,textDecoration:"underline"},{tag:l.strikethrough,textDecoration:"line-through"},{tag:l.invalid,color:"#cb2431"},...n]})},Ck=Qk(),$k={background:"#0d1117",foreground:"#c9d1d9",caret:"#c9d1d9",selection:"#003d73",selectionMatch:"#003d73",lineHighlight:"#36334280"},Ak=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},$k,t),styles:[{tag:[l.standard(l.tagName),l.tagName],color:"#7ee787"},{tag:[l.comment,l.bracket],color:"#8b949e"},{tag:[l.className,l.propertyName],color:"#d2a8ff"},{tag:[l.variableName,l.attributeName,l.number,l.operator],color:"#79c0ff"},{tag:[l.keyword,l.typeName,l.typeOperator,l.typeName],color:"#ff7b72"},{tag:[l.string,l.meta,l.regexp],color:"#a5d6ff"},{tag:[l.name,l.quote],color:"#7ee787"},{tag:[l.heading],color:"#d2a8ff",fontWeight:"bold"},{tag:[l.emphasis],color:"#d2a8ff",fontStyle:"italic"},{tag:[l.deleted],color:"#ffdcd7",backgroundColor:"ffeef0"},{tag:[l.atom,l.bool,l.special(l.variableName)],color:"#ffab70"},{tag:l.link,textDecoration:"underline"},{tag:l.strikethrough,textDecoration:"line-through"},{tag:l.invalid,color:"#f97583"},...n]})},Tk=Ak(),Mk={background:"#282828",foreground:"#ebdbb2",caret:"#ebdbb2",selection:"#bdae93",selectionMatch:"#bdae93",lineHighlight:"#3c3836",gutterBackground:"#282828",gutterForeground:"#7c6f64"},Rk=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},Mk,t),styles:[{tag:l.keyword,color:"#fb4934"},{tag:[l.name,l.deleted,l.character,l.propertyName,l.macroName],color:"#8ec07c"},{tag:[l.variableName],color:"#83a598"},{tag:[l.function(l.variableName)],color:"#b8bb26",fontStyle:"bold"},{tag:[l.labelName],color:"#ebdbb2"},{tag:[l.color,l.constant(l.name),l.standard(l.name)],color:"#d3869b"},{tag:[l.definition(l.name),l.separator],color:"#ebdbb2"},{tag:[l.brace],color:"#ebdbb2"},{tag:[l.annotation],color:"#fb4934d"},{tag:[l.number,l.changed,l.annotation,l.modifier,l.self,l.namespace],color:"#d3869b"},{tag:[l.typeName,l.className],color:"#fabd2f"},{tag:[l.operator,l.operatorKeyword],color:"#fb4934"},{tag:[l.tagName],color:"#8ec07c",fontStyle:"bold"},{tag:[l.squareBracket],color:"#fe8019"},{tag:[l.angleBracket],color:"#83a598"},{tag:[l.attributeName],color:"#8ec07c"},{tag:[l.regexp],color:"#8ec07c"},{tag:[l.quote],color:"#928374"},{tag:[l.string],color:"#ebdbb2"},{tag:l.link,color:"#a89984",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[l.url,l.escape,l.special(l.string)],color:"#d3869b"},{tag:[l.meta],color:"#fabd2f"},{tag:[l.comment],color:"#928374",fontStyle:"italic"},{tag:l.strong,fontWeight:"bold",color:"#fe8019"},{tag:l.emphasis,fontStyle:"italic",color:"#b8bb26"},{tag:l.strikethrough,textDecoration:"line-through"},{tag:l.heading,fontWeight:"bold",color:"#b8bb26"},{tag:[l.heading1,l.heading2],fontWeight:"bold",color:"#b8bb26"},{tag:[l.heading3,l.heading4],fontWeight:"bold",color:"#fabd2f"},{tag:[l.heading5,l.heading6],color:"#fabd2f"},{tag:[l.atom,l.bool,l.special(l.variableName)],color:"#d3869b"},{tag:[l.processingInstruction,l.inserted],color:"#83a598"},{tag:[l.contentSeparator],color:"#fb4934"},{tag:l.invalid,color:"#fe8019",borderBottom:"1px dotted #fb4934d"},...n]})},jk=Rk(),Dk={background:"#fbf1c7",foreground:"#3c3836",caret:"#af3a03",selection:"#ebdbb2",selectionMatch:"#bdae93",lineHighlight:"#ebdbb2",gutterBackground:"#ebdbb2",gutterForeground:"#665c54",gutterBorder:"transparent"},Uk=i=>{var{theme:e="light",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},Dk,t),styles:[{tag:l.keyword,color:"#9d0006"},{tag:[l.name,l.deleted,l.character,l.propertyName,l.macroName],color:"#427b58"},{tag:[l.variableName],color:"#076678"},{tag:[l.function(l.variableName)],color:"#79740e",fontStyle:"bold"},{tag:[l.labelName],color:"#3c3836"},{tag:[l.color,l.constant(l.name),l.standard(l.name)],color:"#8f3f71"},{tag:[l.definition(l.name),l.separator],color:"#3c3836"},{tag:[l.brace],color:"#3c3836"},{tag:[l.annotation],color:"#9d0006"},{tag:[l.number,l.changed,l.annotation,l.modifier,l.self,l.namespace],color:"#8f3f71"},{tag:[l.typeName,l.className],color:"#b57614"},{tag:[l.operator,l.operatorKeyword],color:"#9d0006"},{tag:[l.tagName],color:"#427b58",fontStyle:"bold"},{tag:[l.squareBracket],color:"#af3a03"},{tag:[l.angleBracket],color:"#076678"},{tag:[l.attributeName],color:"#427b58"},{tag:[l.regexp],color:"#427b58"},{tag:[l.quote],color:"#928374"},{tag:[l.string],color:"#3c3836"},{tag:l.link,color:"#7c6f64",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[l.url,l.escape,l.special(l.string)],color:"#8f3f71"},{tag:[l.meta],color:"#b57614"},{tag:[l.comment],color:"#928374",fontStyle:"italic"},{tag:l.strong,fontWeight:"bold",color:"#af3a03"},{tag:l.emphasis,fontStyle:"italic",color:"#79740e"},{tag:l.strikethrough,textDecoration:"line-through"},{tag:l.heading,fontWeight:"bold",color:"#79740e"},{tag:[l.heading1,l.heading2],fontWeight:"bold",color:"#79740e"},{tag:[l.heading3,l.heading4],fontWeight:"bold",color:"#b57614"},{tag:[l.heading5,l.heading6],color:"#b57614"},{tag:[l.atom,l.bool,l.special(l.variableName)],color:"#8f3f71"},{tag:[l.processingInstruction,l.inserted],color:"#076678"},{tag:[l.contentSeparator],color:"#9d0006"},{tag:l.invalid,color:"#af3a03",borderBottom:"1px dotted #9d0006"},...n]})},Zk=Uk(),Bk={background:"#2e3235",foreground:"#bdbdbd",caret:"#a0a4ae",selection:"#d7d4f0",selectionMatch:"#d7d4f0",gutterBackground:"#2e3235",gutterForeground:"#999",gutterActiveForeground:"#4f5b66",lineHighlight:"#545b61"},Cf=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},Bk,t),styles:[{tag:l.keyword,color:"#cf6edf"},{tag:[l.name,l.deleted,l.character,l.macroName],color:"#56c8d8"},{tag:[l.propertyName],color:"#facf4e"},{tag:[l.variableName],color:"#bdbdbd"},{tag:[l.function(l.variableName)],color:"#56c8d8"},{tag:[l.labelName],color:"#cf6edf"},{tag:[l.color,l.constant(l.name),l.standard(l.name)],color:"#facf4e"},{tag:[l.definition(l.name),l.separator],color:"#fa5788"},{tag:[l.brace],color:"#cf6edf"},{tag:[l.annotation],color:"#ff5f52"},{tag:[l.number,l.changed,l.annotation,l.modifier,l.self,l.namespace],color:"#ffad42"},{tag:[l.typeName,l.className],color:"#ffad42"},{tag:[l.operator,l.operatorKeyword],color:"#7186f0"},{tag:[l.tagName],color:"#99d066"},{tag:[l.squareBracket],color:"#ff5f52"},{tag:[l.angleBracket],color:"#606f7a"},{tag:[l.attributeName],color:"#bdbdbd"},{tag:[l.regexp],color:"#ff5f52"},{tag:[l.quote],color:"#6abf69"},{tag:[l.string],color:"#99d066"},{tag:l.link,color:"#56c8d8",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[l.url,l.escape,l.special(l.string)],color:"#facf4e"},{tag:[l.meta],color:"#707d8b"},{tag:[l.comment],color:"#707d8b",fontStyle:"italic"},{tag:l.monospace,color:"#bdbdbd"},{tag:l.strong,fontWeight:"bold",color:"#ff5f52"},{tag:l.emphasis,fontStyle:"italic",color:"#99d066"},{tag:l.strikethrough,textDecoration:"line-through"},{tag:l.heading,fontWeight:"bold",color:"#facf4e"},{tag:l.heading1,fontWeight:"bold",color:"#facf4e"},{tag:[l.heading2,l.heading3,l.heading4],fontWeight:"bold",color:"#facf4e"},{tag:[l.heading5,l.heading6],color:"#facf4e"},{tag:[l.atom,l.bool,l.special(l.variableName)],color:"#56c8d8"},{tag:[l.processingInstruction,l.inserted],color:"#ff5f52"},{tag:[l.contentSeparator],color:"#56c8d8"},{tag:l.invalid,color:"#606f7a",borderBottom:"1px dotted #ff5f52"},...n]})},Lk=Cf();Cf();var Xk={background:"#FAFAFA",foreground:"#90A4AE",caret:"#272727",selection:"#80CBC440",selectionMatch:"#FAFAFA",gutterBackground:"#FAFAFA",gutterForeground:"#90A4AE",gutterBorder:"transparent",lineHighlight:"#CCD7DA50"},Ek=i=>{var{theme:e="light",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},Xk,t),styles:[{tag:l.keyword,color:"#39ADB5"},{tag:[l.name,l.deleted,l.character,l.macroName],color:"#90A4AE"},{tag:[l.propertyName],color:"#6182B8"},{tag:[l.processingInstruction,l.string,l.inserted,l.special(l.string)],color:"#91B859"},{tag:[l.function(l.variableName),l.labelName],color:"#6182B8"},{tag:[l.color,l.constant(l.name),l.standard(l.name)],color:"#39ADB5"},{tag:[l.definition(l.name),l.separator],color:"#90A4AE"},{tag:[l.className],color:"#E2931D"},{tag:[l.number,l.changed,l.annotation,l.modifier,l.self,l.namespace],color:"#F76D47"},{tag:[l.typeName],color:"#E2931D",fontStyle:"#E2931D"},{tag:[l.operator,l.operatorKeyword],color:"#39ADB5"},{tag:[l.url,l.escape,l.regexp,l.link],color:"#91B859"},{tag:[l.meta,l.comment],color:"#90A4AE"},{tag:l.strong,fontWeight:"bold"},{tag:l.emphasis,fontStyle:"italic"},{tag:l.link,textDecoration:"underline"},{tag:l.heading,fontWeight:"bold",color:"#39ADB5"},{tag:[l.atom,l.bool,l.special(l.variableName)],color:"#90A4AE"},{tag:l.invalid,color:"#E5393570"},{tag:l.strikethrough,textDecoration:"line-through"},...n]})},Wk=Ek(),Nk={background:"#f2f1f8",foreground:"#0c006b",caret:"#5c49e9",selection:"#d5d1f2",selectionMatch:"#d5d1f2",gutterBackground:"#f2f1f8",gutterForeground:"#0c006b70",lineHighlight:"#e1def3"},Ik=i=>{var{theme:e="light",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},Nk,t),styles:[{tag:l.comment,color:"#9995b7"},{tag:l.keyword,color:"#ff5792",fontWeight:"bold"},{tag:[l.definitionKeyword,l.modifier],color:"#ff5792"},{tag:[l.className,l.tagName,l.definition(l.typeName)],color:"#0094f0"},{tag:[l.number,l.bool,l.null,l.special(l.brace)],color:"#5842ff"},{tag:[l.definition(l.propertyName),l.function(l.variableName)],color:"#0095a8"},{tag:l.typeName,color:"#b3694d"},{tag:[l.propertyName,l.variableName],color:"#fa8900"},{tag:l.operator,color:"#ff5792"},{tag:l.self,color:"#e64100"},{tag:[l.string,l.regexp],color:"#00b368"},{tag:[l.paren,l.bracket],color:"#0431fa"},{tag:l.labelName,color:"#00bdd6"},{tag:l.attributeName,color:"#e64100"},{tag:l.angleBracket,color:"#9995b7"},...n]})},Fk=Ik(),Vk={background:"#2e3440",foreground:"#FFFFFF",caret:"#FFFFFF",selection:"#3b4252",selectionMatch:"#e5e9f0",gutterBackground:"#2e3440",gutterForeground:"#4c566a",gutterActiveForeground:"#d8dee9",lineHighlight:"#4c566a"},qk=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},Vk,t),styles:[{tag:l.keyword,color:"#5e81ac"},{tag:[l.name,l.deleted,l.character,l.propertyName,l.macroName],color:"#88c0d0"},{tag:[l.variableName],color:"#8fbcbb"},{tag:[l.function(l.variableName)],color:"#8fbcbb"},{tag:[l.labelName],color:"#81a1c1"},{tag:[l.color,l.constant(l.name),l.standard(l.name)],color:"#5e81ac"},{tag:[l.definition(l.name),l.separator],color:"#a3be8c"},{tag:[l.brace],color:"#8fbcbb"},{tag:[l.annotation],color:"#d30102"},{tag:[l.number,l.changed,l.annotation,l.modifier,l.self,l.namespace],color:"#b48ead"},{tag:[l.typeName,l.className],color:"#ebcb8b"},{tag:[l.operator,l.operatorKeyword],color:"#a3be8c"},{tag:[l.tagName],color:"#b48ead"},{tag:[l.squareBracket],color:"#bf616a"},{tag:[l.angleBracket],color:"#d08770"},{tag:[l.attributeName],color:"#ebcb8b"},{tag:[l.regexp],color:"#5e81ac"},{tag:[l.quote],color:"#b48ead"},{tag:[l.string],color:"#a3be8c"},{tag:l.link,color:"#a3be8c",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[l.url,l.escape,l.special(l.string)],color:"#8fbcbb"},{tag:[l.meta],color:"#88c0d0"},{tag:[l.monospace],color:"#d8dee9",fontStyle:"italic"},{tag:[l.comment],color:"#4c566a",fontStyle:"italic"},{tag:l.strong,fontWeight:"bold",color:"#5e81ac"},{tag:l.emphasis,fontStyle:"italic",color:"#5e81ac"},{tag:l.strikethrough,textDecoration:"line-through"},{tag:l.heading,fontWeight:"bold",color:"#5e81ac"},{tag:l.special(l.heading1),fontWeight:"bold",color:"#5e81ac"},{tag:l.heading1,fontWeight:"bold",color:"#5e81ac"},{tag:[l.heading2,l.heading3,l.heading4],fontWeight:"bold",color:"#5e81ac"},{tag:[l.heading5,l.heading6],color:"#5e81ac"},{tag:[l.atom,l.bool,l.special(l.variableName)],color:"#d08770"},{tag:[l.processingInstruction,l.inserted],color:"#8fbcbb"},{tag:[l.contentSeparator],color:"#ebcb8b"},{tag:l.invalid,color:"#434c5e",borderBottom:"1px dotted #d30102"},...n]})},Yk=qk(),_k={background:"#272822",foreground:"#FFFFFF",caret:"#FFFFFF",selection:"#49483E",selectionMatch:"#49483E",gutterBackground:"#272822",gutterForeground:"#FFFFFF70",lineHighlight:"#00000059"},zk=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},_k,t),styles:[{tag:[l.comment,l.documentMeta],color:"#8292a2"},{tag:[l.number,l.bool,l.null,l.atom],color:"#ae81ff"},{tag:[l.attributeValue,l.className,l.name],color:"#e6db74"},{tag:[l.propertyName,l.attributeName],color:"#a6e22e"},{tag:[l.variableName],color:"#9effff"},{tag:[l.squareBracket],color:"#bababa"},{tag:[l.string,l.special(l.brace)],color:"#e6db74"},{tag:[l.regexp,l.className,l.typeName,l.definition(l.typeName)],color:"#66d9ef"},{tag:[l.definition(l.variableName),l.definition(l.propertyName),l.function(l.variableName)],color:"#fd971f"},{tag:[l.keyword,l.definitionKeyword,l.modifier,l.tagName,l.angleBracket],color:"#f92672"},...n]})},Gk=zk(),Hk={background:"#fdf6e3",foreground:"#657b83",caret:"#586e75",selection:"#dfd9c8",selectionMatch:"#dfd9c8",gutterBackground:"#00000010",gutterForeground:"#657b83",lineHighlight:"#dfd9c8"},Kk=i=>{var{theme:e="light",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},Hk,t),styles:[{tag:l.keyword,color:"#859900"},{tag:[l.name,l.deleted,l.character,l.propertyName,l.macroName],color:"#2aa198"},{tag:[l.variableName],color:"#268bd2"},{tag:[l.function(l.variableName)],color:"#268bd2"},{tag:[l.labelName],color:"#d33682"},{tag:[l.color,l.constant(l.name),l.standard(l.name)],color:"#b58900"},{tag:[l.definition(l.name),l.separator],color:"#2aa198"},{tag:[l.brace],color:"#d33682"},{tag:[l.annotation],color:"#d30102"},{tag:[l.number,l.changed,l.annotation,l.modifier,l.self,l.namespace],color:"#d33682"},{tag:[l.typeName,l.className],color:"#cb4b16"},{tag:[l.operator,l.operatorKeyword],color:"#6c71c4"},{tag:[l.tagName],color:"#268bd2"},{tag:[l.squareBracket],color:"#dc322f"},{tag:[l.angleBracket],color:"#073642"},{tag:[l.attributeName],color:"#93a1a1"},{tag:[l.regexp],color:"#d30102"},{tag:[l.quote],color:"#859900"},{tag:[l.string],color:"#b58900"},{tag:l.link,color:"#2aa198",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[l.url,l.escape,l.special(l.string)],color:"#b58900"},{tag:[l.meta],color:"#dc322f"},{tag:[l.comment],color:"#586e75",fontStyle:"italic"},{tag:l.strong,fontWeight:"bold",color:"#586e75"},{tag:l.emphasis,fontStyle:"italic",color:"#859900"},{tag:l.strikethrough,textDecoration:"line-through"},{tag:l.heading,fontWeight:"bold",color:"#b58900"},{tag:l.heading1,fontWeight:"bold",color:"#002b36"},{tag:[l.heading2,l.heading3,l.heading4],fontWeight:"bold",color:"#002b36"},{tag:[l.heading5,l.heading6],color:"#002b36"},{tag:[l.atom,l.bool,l.special(l.variableName)],color:"#d33682"},{tag:[l.processingInstruction,l.inserted,l.contentSeparator],color:"#dc322f"},{tag:[l.contentSeparator],color:"#b58900"},{tag:l.invalid,color:"#073642",borderBottom:"1px dotted #dc322f"},...n]})},Jk=Kk(),ew={background:"#002b36",foreground:"#93a1a1",caret:"#839496",selection:"#173541",selectionMatch:"#aafe661a",gutterBackground:"#00252f",gutterForeground:"#839496",lineHighlight:"#173541"},tw=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},ew,t),styles:[{tag:l.keyword,color:"#859900"},{tag:[l.name,l.deleted,l.character,l.propertyName,l.macroName],color:"#2aa198"},{tag:[l.variableName],color:"#93a1a1"},{tag:[l.function(l.variableName)],color:"#268bd2"},{tag:[l.labelName],color:"#d33682"},{tag:[l.color,l.constant(l.name),l.standard(l.name)],color:"#b58900"},{tag:[l.definition(l.name),l.separator],color:"#2aa198"},{tag:[l.brace],color:"#d33682"},{tag:[l.annotation],color:"#d30102"},{tag:[l.number,l.changed,l.annotation,l.modifier,l.self,l.namespace],color:"#d33682"},{tag:[l.typeName,l.className],color:"#cb4b16"},{tag:[l.operator,l.operatorKeyword],color:"#6c71c4"},{tag:[l.tagName],color:"#268bd2"},{tag:[l.squareBracket],color:"#dc322f"},{tag:[l.angleBracket],color:"#586e75"},{tag:[l.attributeName],color:"#93a1a1"},{tag:[l.regexp],color:"#d30102"},{tag:[l.quote],color:"#859900"},{tag:[l.string],color:"#b58900"},{tag:l.link,color:"#2aa198",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[l.url,l.escape,l.special(l.string)],color:"#b58900"},{tag:[l.meta],color:"#dc322f"},{tag:[l.comment],color:"#586e75",fontStyle:"italic"},{tag:l.strong,fontWeight:"bold",color:"#eee8d5"},{tag:l.emphasis,fontStyle:"italic",color:"#859900"},{tag:l.strikethrough,textDecoration:"line-through"},{tag:l.heading,fontWeight:"bold",color:"#b58900"},{tag:l.heading1,fontWeight:"bold",color:"#fdf6e3"},{tag:[l.heading2,l.heading3,l.heading4],fontWeight:"bold",color:"#eee8d5"},{tag:[l.heading5,l.heading6],color:"#eee8d5"},{tag:[l.atom,l.bool,l.special(l.variableName)],color:"#d33682"},{tag:[l.processingInstruction,l.inserted,l.contentSeparator],color:"#dc322f"},{tag:[l.contentSeparator],color:"#b58900"},{tag:l.invalid,color:"#586e75",borderBottom:"1px dotted #dc322f"},...n]})},nw=tw(),iw={background:"#303841",foreground:"#FFFFFF",caret:"#FBAC52",selection:"#4C5964",selectionMatch:"#3A546E",gutterBackground:"#303841",gutterForeground:"#FFFFFF70",lineHighlight:"#00000059"};function rw(i){var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},iw,t),styles:[{tag:[l.meta,l.comment],color:"#A2A9B5"},{tag:[l.attributeName,l.keyword],color:"#B78FBA"},{tag:l.function(l.variableName),color:"#5AB0B0"},{tag:[l.string,l.regexp,l.attributeValue],color:"#99C592"},{tag:l.operator,color:"#f47954"},{tag:[l.tagName,l.modifier],color:"#E35F63"},{tag:[l.number,l.definition(l.tagName),l.className,l.definition(l.variableName)],color:"#fbac52"},{tag:[l.atom,l.bool,l.special(l.variableName)],color:"#E35F63"},{tag:l.variableName,color:"#539ac4"},{tag:[l.propertyName,l.typeName],color:"#629ccd"},{tag:l.propertyName,color:"#36b7b5"},...n]})}var sw=rw(),ow={background:"#1a1b26",foreground:"#787c99",caret:"#c0caf5",selection:"#515c7e40",selectionMatch:"#16161e",gutterBackground:"#1a1b26",gutterForeground:"#787c99",gutterBorder:"transparent",lineHighlight:"#1e202e"},aw=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},ow,t),styles:[{tag:l.keyword,color:"#bb9af7"},{tag:[l.name,l.deleted,l.character,l.macroName],color:"#c0caf5"},{tag:[l.propertyName],color:"#7aa2f7"},{tag:[l.processingInstruction,l.string,l.inserted,l.special(l.string)],color:"#9ece6a"},{tag:[l.function(l.variableName),l.labelName],color:"#7aa2f7"},{tag:[l.color,l.constant(l.name),l.standard(l.name)],color:"#bb9af7"},{tag:[l.definition(l.name),l.separator],color:"#c0caf5"},{tag:[l.className],color:"#c0caf5"},{tag:[l.number,l.changed,l.annotation,l.modifier,l.self,l.namespace],color:"#ff9e64"},{tag:[l.typeName],color:"#0db9d7"},{tag:[l.operator,l.operatorKeyword],color:"#bb9af7"},{tag:[l.url,l.escape,l.regexp,l.link],color:"#b4f9f8"},{tag:[l.meta,l.comment],color:"#444b6a"},{tag:l.strong,fontWeight:"bold"},{tag:l.emphasis,fontStyle:"italic"},{tag:l.link,textDecoration:"underline"},{tag:l.heading,fontWeight:"bold",color:"#89ddff"},{tag:[l.atom,l.bool,l.special(l.variableName)],color:"#c0caf5"},{tag:l.invalid,color:"#ff5370"},{tag:l.strikethrough,textDecoration:"line-through"},...n]})},lw=aw(),cw={background:"#24283b",foreground:"#7982a9",caret:"#c0caf5",selection:"#6f7bb630",selectionMatch:"#1f2335",gutterBackground:"#24283b",gutterForeground:"#7982a9",gutterBorder:"transparent",lineHighlight:"#292e42"},hw=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},cw,t),styles:[{tag:l.keyword,color:"#bb9af7"},{tag:[l.name,l.deleted,l.character,l.macroName],color:"#c0caf5"},{tag:[l.propertyName],color:"#7aa2f7"},{tag:[l.processingInstruction,l.string,l.inserted,l.special(l.string)],color:"#9ece6a"},{tag:[l.function(l.variableName),l.labelName],color:"#7aa2f7"},{tag:[l.color,l.constant(l.name),l.standard(l.name)],color:"#bb9af7"},{tag:[l.definition(l.name),l.separator],color:"#c0caf5"},{tag:[l.className],color:"#c0caf5"},{tag:[l.number,l.changed,l.annotation,l.modifier,l.self,l.namespace],color:"#ff9e64"},{tag:[l.typeName],color:"#2ac3de",fontStyle:"#2ac3de"},{tag:[l.operator,l.operatorKeyword],color:"#bb9af7"},{tag:[l.url,l.escape,l.regexp,l.link],color:"#b4f9f8"},{tag:[l.meta,l.comment],color:"#565f89"},{tag:l.strong,fontWeight:"bold"},{tag:l.emphasis,fontStyle:"italic"},{tag:l.link,textDecoration:"underline"},{tag:l.heading,fontWeight:"bold",color:"#89ddff"},{tag:[l.atom,l.bool,l.special(l.variableName)],color:"#c0caf5"},{tag:l.invalid,color:"#ff5370"},{tag:l.strikethrough,textDecoration:"line-through"},...n]})},uw=hw(),pw={background:"#e1e2e7",foreground:"#3760bf",caret:"#3760bf",selection:"#99a7df",selectionMatch:"#99a7df",gutterBackground:"#e1e2e7",gutterForeground:"#3760bf",gutterBorder:"transparent",lineHighlight:"#5f5faf11"},dw=i=>{var{theme:e="light",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},pw,t),styles:[{tag:l.keyword,color:"#007197"},{tag:[l.name,l.deleted,l.character,l.macroName],color:"#3760bf"},{tag:[l.propertyName],color:"#3760bf"},{tag:[l.processingInstruction,l.string,l.inserted,l.special(l.string)],color:"#587539"},{tag:[l.function(l.variableName),l.labelName],color:"#3760bf"},{tag:[l.color,l.constant(l.name),l.standard(l.name)],color:"#3760bf"},{tag:[l.definition(l.name),l.separator],color:"#3760bf"},{tag:[l.className],color:"#3760bf"},{tag:[l.number,l.changed,l.annotation,l.modifier,l.self,l.namespace],color:"#b15c00"},{tag:[l.typeName],color:"#007197",fontStyle:"#007197"},{tag:[l.operator,l.operatorKeyword],color:"#007197"},{tag:[l.url,l.escape,l.regexp,l.link],color:"#587539"},{tag:[l.meta,l.comment],color:"#848cb5"},{tag:l.strong,fontWeight:"bold"},{tag:l.emphasis,fontStyle:"italic"},{tag:l.link,textDecoration:"underline"},{tag:l.heading,fontWeight:"bold",color:"#b15c00"},{tag:[l.atom,l.bool,l.special(l.variableName)],color:"#3760bf"},{tag:l.invalid,color:"#f52a65"},{tag:l.strikethrough,textDecoration:"line-through"},...n]})},fw=dw(),mw={background:"#1e1e1e",foreground:"#9cdcfe",caret:"#c6c6c6",selection:"#6199ff2f",selectionMatch:"#72a1ff59",lineHighlight:"#ffffff0f",gutterBackground:"#1e1e1e",gutterForeground:"#838383",gutterActiveForeground:"#fff",fontFamily:'Menlo, Monaco, Consolas, "Andale Mono", "Ubuntu Mono", "Courier New", monospace'};function gw(i){var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},mw,t),styles:[{tag:[l.keyword,l.operatorKeyword,l.modifier,l.color,l.constant(l.name),l.standard(l.name),l.standard(l.tagName),l.special(l.brace),l.atom,l.bool,l.special(l.variableName)],color:"#569cd6"},{tag:[l.controlKeyword,l.moduleKeyword],color:"#c586c0"},{tag:[l.name,l.deleted,l.character,l.macroName,l.propertyName,l.variableName,l.labelName,l.definition(l.name)],color:"#9cdcfe"},{tag:l.heading,fontWeight:"bold",color:"#9cdcfe"},{tag:[l.typeName,l.className,l.tagName,l.number,l.changed,l.annotation,l.self,l.namespace],color:"#4ec9b0"},{tag:[l.function(l.variableName),l.function(l.propertyName)],color:"#dcdcaa"},{tag:[l.number],color:"#b5cea8"},{tag:[l.operator,l.punctuation,l.separator,l.url,l.escape,l.regexp],color:"#d4d4d4"},{tag:[l.regexp],color:"#d16969"},{tag:[l.special(l.string),l.processingInstruction,l.string,l.inserted],color:"#ce9178"},{tag:[l.angleBracket],color:"#808080"},{tag:l.strong,fontWeight:"bold"},{tag:l.emphasis,fontStyle:"italic"},{tag:l.strikethrough,textDecoration:"line-through"},{tag:[l.meta,l.comment],color:"#6a9955"},{tag:l.link,color:"#6a9955",textDecoration:"underline"},{tag:l.invalid,color:"#ff0000"},...n]})}var Ow=gw(),yw={background:"#fff",foreground:"#3D3D3D",selection:"#BBDFFF",selectionMatch:"#BBDFFF",gutterBackground:"#fff",gutterForeground:"#AFAFAF",lineHighlight:"#EDF4FF"};function bw(i){var{theme:e="light",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},yw,t),styles:[{tag:[l.comment,l.quote],color:"#707F8D"},{tag:[l.typeName,l.typeOperator],color:"#aa0d91"},{tag:[l.keyword],color:"#aa0d91",fontWeight:"bold"},{tag:[l.string,l.meta],color:"#D23423"},{tag:[l.name],color:"#032f62"},{tag:[l.typeName],color:"#522BB2"},{tag:[l.variableName],color:"#23575C"},{tag:[l.definition(l.variableName)],color:"#327A9E"},{tag:[l.regexp,l.link],color:"#0e0eff"},...n]})}var vw=bw(),kw={background:"#292A30",foreground:"#CECFD0",caret:"#fff",selection:"#727377",selectionMatch:"#727377",lineHighlight:"#2F3239"},ww=i=>{var{theme:e="dark",settings:t={},styles:n=[]}=i||{};return ne({theme:e,settings:le({},kw,t),styles:[{tag:[l.comment,l.quote],color:"#7F8C98"},{tag:[l.keyword],color:"#FF7AB2",fontWeight:"bold"},{tag:[l.string,l.meta],color:"#FF8170"},{tag:[l.typeName],color:"#DABAFF"},{tag:[l.definition(l.variableName)],color:"#6BDFFF"},{tag:[l.name],color:"#6BAA9F"},{tag:[l.variableName],color:"#ACF2E4"},{tag:[l.regexp,l.link],color:"#FF8170"},...n]})},xw=ww();const Sw=ne({theme:"dark",settings:{background:"#222",foreground:"#75baff",caret:"#ffcc00",selection:"rgba(128, 203, 196, 0.5)",selectionMatch:"#036dd626",lineHighlight:"#00000050",gutterBackground:"transparent",gutterForeground:"#8a919966"},styles:[{tag:l.keyword,color:"#c792ea"},{tag:l.operator,color:"#89ddff"},{tag:l.special(l.variableName),color:"#eeffff"},{tag:l.typeName,color:"#c3e88d"},{tag:l.atom,color:"#f78c6c"},{tag:l.number,color:"#c3e88d"},{tag:l.definition(l.variableName),color:"#82aaff"},{tag:l.string,color:"#c3e88d"},{tag:l.special(l.string),color:"#c3e88d"},{tag:l.comment,color:"#7d8799"},{tag:l.variableName,color:"#c792ea"},{tag:l.tagName,color:"#c3e88d"},{tag:l.bracket,color:"#525154"},{tag:l.meta,color:"#ffcb6b"},{tag:l.attributeName,color:"#c792ea"},{tag:l.propertyName,color:"#c792ea"},{tag:l.className,color:"#decb6b"},{tag:l.invalid,color:"#ffffff"},{tag:[l.unit,l.punctuation],color:"#82aaff"}]}),$f={background:"#051DB5",lineBackground:"#051DB550",foreground:"white",caret:"white",selection:"rgba(128, 203, 196, 0.5)",selectionMatch:"#036dd626",lineHighlight:"#00000050",gutterBackground:"transparent",gutterForeground:"#8a919966"},Pw=ne({theme:"dark",settings:$f,styles:[{tag:l.keyword,color:"white"},{tag:l.operator,color:"white"},{tag:l.special(l.variableName),color:"white"},{tag:l.typeName,color:"white"},{tag:l.atom,color:"white"},{tag:l.number,color:"white"},{tag:l.definition(l.variableName),color:"white"},{tag:l.string,color:"white"},{tag:l.special(l.string),color:"white"},{tag:l.comment,color:"white"},{tag:l.variableName,color:"white"},{tag:l.tagName,color:"white"},{tag:l.bracket,color:"white"},{tag:l.meta,color:"white"},{tag:l.attributeName,color:"white"},{tag:l.propertyName,color:"white"},{tag:l.className,color:"white"},{tag:l.invalid,color:"white"},{tag:[l.unit,l.punctuation],color:"white"}]}),Af={background:"black",foreground:"white",caret:"white",selection:"#ffffff20",selectionMatch:"#036dd626",lineHighlight:"#ffffff10",lineBackground:"#00000050",gutterBackground:"transparent",gutterForeground:"#8a919966"},Qw=ne({theme:"dark",settings:Af,styles:[{tag:l.keyword,color:"white"},{tag:l.operator,color:"white"},{tag:l.special(l.variableName),color:"white"},{tag:l.typeName,color:"white"},{tag:l.atom,color:"white"},{tag:l.number,color:"white"},{tag:l.definition(l.variableName),color:"white"},{tag:l.string,color:"white"},{tag:l.special(l.string),color:"white"},{tag:l.comment,color:"white"},{tag:l.variableName,color:"white"},{tag:l.tagName,color:"white"},{tag:l.bracket,color:"white"},{tag:l.meta,color:"white"},{tag:l.attributeName,color:"white"},{tag:l.propertyName,color:"white"},{tag:l.className,color:"white"},{tag:l.invalid,color:"white"},{tag:[l.unit,l.punctuation],color:"white"}]}),Tf={background:"white",foreground:"black",caret:"black",selection:"rgba(128, 203, 196, 0.5)",selectionMatch:"#ffffff26",lineHighlight:"#cccccc50",lineBackground:"#ffffff50",gutterBackground:"transparent",gutterForeground:"black",light:!0},Cw=ne({theme:"light",settings:Tf,styles:[{tag:l.keyword,color:"black"},{tag:l.operator,color:"black"},{tag:l.special(l.variableName),color:"black"},{tag:l.typeName,color:"black"},{tag:l.atom,color:"black"},{tag:l.number,color:"black"},{tag:l.definition(l.variableName),color:"black"},{tag:l.string,color:"black"},{tag:l.special(l.string),color:"black"},{tag:l.comment,color:"black"},{tag:l.variableName,color:"black"},{tag:l.tagName,color:"black"},{tag:l.bracket,color:"black"},{tag:l.meta,color:"black"},{tag:l.attributeName,color:"black"},{tag:l.propertyName,color:"black"},{tag:l.className,color:"black"},{tag:l.invalid,color:"black"}]});let dt="#6edee4",$w="white",Mf="red",Rf="#f8fc55";const jf={background:"#000000",foreground:dt,caret:Mf,selection:Rf,selectionMatch:dt,lineHighlight:"#6edee440",lineBackground:"#00000040",gutterBackground:"transparent",gutterForeground:"#8a919966",customStyle:".cm-line { line-height: 1 }"};let Eo=Rf,jr=$w;const Aw=ne({theme:"dark",settings:jf,styles:[{tag:l.keyword,color:dt},{tag:l.operator,color:jr},{tag:l.special(l.variableName),color:dt},{tag:l.typeName,color:dt},{tag:l.atom,color:dt},{tag:l.number,color:jr},{tag:l.definition(l.variableName),color:dt},{tag:l.string,color:jr},{tag:l.special(l.string),color:jr},{tag:l.comment,color:Eo},{tag:l.variableName,color:dt},{tag:l.tagName,color:dt},{tag:l.bracket,color:Eo},{tag:l.meta,color:dt},{tag:l.attributeName,color:dt},{tag:l.propertyName,color:dt},{tag:l.className,color:dt},{tag:l.invalid,color:Mf},{tag:[l.unit,l.punctuation],color:Eo}]}),Df={background:"#9bbc0f",foreground:"#0f380f",caret:"#0f380f",selection:"#306230",selectionMatch:"#ffffff26",lineHighlight:"#8bac0f",lineBackground:"#9bbc0f50",gutterBackground:"transparent",gutterForeground:"#0f380f",light:!0,customStyle:".cm-line { line-height: 1 }"},Tw=ne({theme:"light",settings:Df,styles:[{tag:l.keyword,color:"#0f380f"},{tag:l.operator,color:"#0f380f"},{tag:l.special(l.variableName),color:"#0f380f"},{tag:l.typeName,color:"#0f380f"},{tag:l.atom,color:"#0f380f"},{tag:l.number,color:"#0f380f"},{tag:l.definition(l.variableName),color:"#0f380f"},{tag:l.string,color:"#0f380f"},{tag:l.special(l.string),color:"#0f380f"},{tag:l.comment,color:"#0f380f"},{tag:l.variableName,color:"#0f380f"},{tag:l.tagName,color:"#0f380f"},{tag:l.bracket,color:"#0f380f"},{tag:l.meta,color:"#0f380f"},{tag:l.attributeName,color:"#0f380f"},{tag:l.propertyName,color:"#0f380f"},{tag:l.className,color:"#0f380f"},{tag:l.invalid,color:"#0f380f"},{tag:[l.unit,l.punctuation],color:"#0f380f"}]}),Uf={background:"black",foreground:"#41FF00",caret:"#41FF00",selection:"#ffffff20",selectionMatch:"#036dd626",lineHighlight:"#ffffff10",gutterBackground:"transparent",gutterForeground:"#8a919966"},Mw=ne({theme:"dark",settings:Uf,styles:[{tag:l.keyword,color:"#41FF00"},{tag:l.operator,color:"#41FF00"},{tag:l.special(l.variableName),color:"#41FF00"},{tag:l.typeName,color:"#41FF00"},{tag:l.atom,color:"#41FF00"},{tag:l.number,color:"#41FF00"},{tag:l.definition(l.variableName),color:"#41FF00"},{tag:l.string,color:"#41FF00"},{tag:l.special(l.string),color:"#41FF00"},{tag:l.comment,color:"#41FF00"},{tag:l.variableName,color:"#41FF00"},{tag:l.tagName,color:"#41FF00"},{tag:l.bracket,color:"#41FF00"},{tag:l.meta,color:"#41FF00"},{tag:l.attributeName,color:"#41FF00"},{tag:l.propertyName,color:"#41FF00"},{tag:l.className,color:"#41FF00"},{tag:l.invalid,color:"#41FF00"}]}),Kh={strudelTheme:Sw,bluescreen:Pw,blackscreen:Qw,whitescreen:Cw,teletext:Aw,algoboy:Tw,terminal:Mw,abcdef:_1,androidstudio:H1,atomone:ek,aura:ik,bespin:ck,darcula:pk,dracula:mk,duotoneDark:kk,eclipse:Sk,githubDark:Tk,gruvboxDark:jk,materialDark:Lk,nord:Yk,okaidia:Gk,solarizedDark:nw,sublime:sw,tokyoNight:lw,tokyoNightStorm:uw,vscodeDark:Ow,xcodeDark:xw,bbedit:ok,duotoneLight:yk,githubLight:Ck,gruvboxLight:Zk,materialLight:Wk,noctisLilac:Fk,solarizedLight:Jk,tokyoNightDay:fw,xcodeLight:vw},Wo={strudelTheme:{background:"#222",lineBackground:"#22222299",foreground:"#fff",caret:"#ffcc00",selection:"rgba(128, 203, 196, 0.5)",selectionMatch:"#036dd626",lineHighlight:"#00000050",gutterBackground:"transparent",gutterForeground:"#8a919966"},bluescreen:$f,blackscreen:Af,whitescreen:Tf,teletext:jf,algoboy:Df,terminal:Uf,abcdef:{background:"#0f0f0f",lineBackground:"#0f0f0f99",foreground:"#defdef",caret:"#00FF00",selection:"#515151",selectionMatch:"#515151",gutterBackground:"#555",gutterForeground:"#FFFFFF",lineHighlight:"#314151"},androidstudio:{background:"#282b2e",lineBackground:"#282b2e99",foreground:"#a9b7c6",caret:"#00FF00",selection:"#343739",selectionMatch:"#343739",lineHighlight:"#343739"},atomone:{background:"#272C35",lineBackground:"#272C3599",foreground:"#9d9b97",caret:"#797977",selection:"#ffffff30",selectionMatch:"#2B323D",gutterBackground:"#272C35",gutterForeground:"#465063",gutterBorder:"transparent",lineHighlight:"#2B323D"},aura:{background:"#21202e",lineBackground:"#21202e99",foreground:"#edecee",caret:"#a277ff",selection:"#3d375e7f",selectionMatch:"#3d375e7f",gutterBackground:"#21202e",gutterForeground:"#edecee",gutterBorder:"transparent",lineHighlight:"#a394f033"},bbedit:{light:!0,background:"#FFFFFF",lineBackground:"#FFFFFF99",foreground:"#000000",caret:"#FBAC52",selection:"#FFD420",selectionMatch:"#FFD420",gutterBackground:"#f5f5f5",gutterForeground:"#4D4D4C",gutterBorder:"transparent",lineHighlight:"#00000012"},bespin:{background:"#28211c",lineBackground:"#28211c99",foreground:"#9d9b97",caret:"#797977",selection:"#36312e",selectionMatch:"#4f382b",gutterBackground:"#28211c",gutterForeground:"#666666",lineHighlight:"rgba(255, 255, 255, 0.1)"},darcula:{background:"#2B2B2B",lineBackground:"#2B2B2B99",foreground:"#f8f8f2",caret:"#FFFFFF",selection:"rgba(255, 255, 255, 0.1)",selectionMatch:"rgba(255, 255, 255, 0.2)",gutterBackground:"rgba(255, 255, 255, 0.1)",gutterForeground:"#999",gutterBorder:"transparent",lineHighlight:"rgba(255, 255, 255, 0.1)"},dracula:{background:"#282a36",lineBackground:"#282a3699",foreground:"#f8f8f2",caret:"#f8f8f0",selection:"rgba(255, 255, 255, 0.1)",selectionMatch:"rgba(255, 255, 255, 0.2)",gutterBackground:"#282a36",gutterForeground:"#6D8A88",gutterBorder:"transparent",lineHighlight:"rgba(255, 255, 255, 0.1)"},duotoneLight:{light:!0,background:"#faf8f5",lineBackground:"#faf8f599",foreground:"#b29762",caret:"#93abdc",selection:"#e3dcce",selectionMatch:"#e3dcce",gutterBackground:"#faf8f5",gutterForeground:"#cdc4b1",gutterBorder:"transparent",lineHighlight:"#EFEFEF"},duotoneDark:{background:"#2a2734",lineBackground:"#2a273499",foreground:"#6c6783",caret:"#ffad5c",selection:"rgba(255, 255, 255, 0.1)",gutterBackground:"#2a2734",gutterForeground:"#545167",lineHighlight:"#36334280"},eclipse:{light:!0,background:"#fff",lineBackground:"#ffffff99",foreground:"#000",caret:"#FFFFFF",selection:"#d7d4f0",selectionMatch:"#d7d4f0",gutterBackground:"#f7f7f7",gutterForeground:"#999",lineHighlight:"#e8f2ff",gutterBorder:"transparent"},githubLight:{light:!0,background:"#fff",lineBackground:"#ffffff99",foreground:"#24292e",selection:"#BBDFFF",selectionMatch:"#BBDFFF",gutterBackground:"#fff",gutterForeground:"#6e7781"},githubDark:{background:"#0d1117",lineBackground:"#0d111799",foreground:"#c9d1d9",caret:"#c9d1d9",selection:"#003d73",selectionMatch:"#003d73",lineHighlight:"#36334280"},gruvboxDark:{background:"#282828",lineBackground:"#28282899",foreground:"#ebdbb2",caret:"#ebdbb2",selection:"#bdae93",selectionMatch:"#bdae93",lineHighlight:"#3c3836",gutterBackground:"#282828",gutterForeground:"#7c6f64"},gruvboxLight:{light:!0,background:"#fbf1c7",lineBackground:"#fbf1c799",foreground:"#3c3836",caret:"#af3a03",selection:"#ebdbb2",selectionMatch:"#bdae93",lineHighlight:"#ebdbb2",gutterBackground:"#ebdbb2",gutterForeground:"#665c54",gutterBorder:"transparent"},materialDark:{background:"#2e3235",lineBackground:"#2e323599",foreground:"#bdbdbd",caret:"#a0a4ae",selection:"#d7d4f0",selectionMatch:"#d7d4f0",gutterBackground:"#2e3235",gutterForeground:"#999",gutterActiveForeground:"#4f5b66",lineHighlight:"#545b61"},materialLight:{light:!0,background:"#FAFAFA",lineBackground:"#FAFAFA99",foreground:"#90A4AE",caret:"#272727",selection:"#80CBC440",selectionMatch:"#FAFAFA",gutterBackground:"#FAFAFA",gutterForeground:"#90A4AE",gutterBorder:"transparent",lineHighlight:"#CCD7DA50"},noctisLilac:{light:!0,background:"#f2f1f8",lineBackground:"#f2f1f899",foreground:"#0c006b",caret:"#5c49e9",selection:"#d5d1f2",selectionMatch:"#d5d1f2",gutterBackground:"#f2f1f8",gutterForeground:"#0c006b70",lineHighlight:"#e1def3"},nord:{background:"#2e3440",lineBackground:"#2e344099",foreground:"#FFFFFF",caret:"#FFFFFF",selection:"#3b4252",selectionMatch:"#e5e9f0",gutterBackground:"#2e3440",gutterForeground:"#4c566a",gutterActiveForeground:"#d8dee9",lineHighlight:"#4c566a"},okaidia:{background:"#272822",lineBackground:"#27282299",foreground:"#FFFFFF",caret:"#FFFFFF",selection:"#49483E",selectionMatch:"#49483E",gutterBackground:"#272822",gutterForeground:"#FFFFFF70",lineHighlight:"#00000059"},solarizedLight:{light:!0,background:"#fdf6e3",lineBackground:"#fdf6e399",foreground:"#657b83",caret:"#586e75",selection:"#dfd9c8",selectionMatch:"#dfd9c8",gutterBackground:"#00000010",gutterForeground:"#657b83",lineHighlight:"#dfd9c8"},solarizedDark:{background:"#002b36",lineBackground:"#002b3699",foreground:"#93a1a1",caret:"#839496",selection:"#173541",selectionMatch:"#aafe661a",gutterBackground:"#00252f",gutterForeground:"#839496",lineHighlight:"#173541"},sublime:{background:"#303841",lineBackground:"#30384199",foreground:"#FFFFFF",caret:"#FBAC52",selection:"#4C5964",selectionMatch:"#3A546E",gutterBackground:"#303841",gutterForeground:"#FFFFFF70",lineHighlight:"#00000059"},tokyoNightDay:{light:!0,background:"#e1e2e7",lineBackground:"#e1e2e799",foreground:"#3760bf",caret:"#3760bf",selection:"#99a7df",selectionMatch:"#99a7df",gutterBackground:"#e1e2e7",gutterForeground:"#3760bf",gutterBorder:"transparent",lineHighlight:"#5f5faf11"},tokyoNightStorm:{background:"#24283b",lineBackground:"#24283b99",foreground:"#7982a9",caret:"#c0caf5",selection:"#6f7bb630",selectionMatch:"#1f2335",gutterBackground:"#24283b",gutterForeground:"#7982a9",gutterBorder:"transparent",lineHighlight:"#292e42"},tokyoNight:{background:"#1a1b26",lineBackground:"#1a1b2699",foreground:"#787c99",caret:"#c0caf5",selection:"#515c7e40",selectionMatch:"#16161e",gutterBackground:"#1a1b26",gutterForeground:"#787c99",gutterBorder:"transparent",lineHighlight:"#1e202e"},vscodeDark:{background:"#1e1e1e",lineBackground:"#1e1e1e99",foreground:"#9cdcfe",caret:"#c6c6c6",selection:"#6199ff2f",selectionMatch:"#72a1ff59",lineHighlight:"#ffffff0f",gutterBackground:"#1e1e1e",gutterForeground:"#838383",gutterActiveForeground:"#fff"},xcodeLight:{light:!0,background:"#fff",lineBackground:"#ffffff99",foreground:"#3D3D3D",selection:"#BBDFFF",selectionMatch:"#BBDFFF",gutterBackground:"#fff",gutterForeground:"#AFAFAF",lineHighlight:"#EDF4FF"},xcodeDark:{background:"#292A30",lineBackground:"#292A3099",foreground:"#CECFD0",caret:"#fff",selection:"#727377",selectionMatch:"#727377",lineHighlight:"#2F3239"}};function Rw(i){const e=/#([0-9A-Fa-f]{6}|[0-9A-Fa-f]{3})/g,t=[];let n;for(;(n=e.exec(i))!==null;){const r=n[0];t.includes(r)||t.push(r)}return t}function tx(i){return Rw(Dw(i))}function jw(){const i=new WeakSet;return(e,t)=>{if(typeof t=="object"&&t!==null){if(i.has(t))return;i.add(t)}return t}}function Dw(i){return JSON.stringify(i,jw())}const Uw=i=>Kh[i]||Kh.strudelTheme;function Zw(i){const e=document.createElement("style");document.head.appendChild(e);const t=e.sheet,n=t.insertRule(i,0);return()=>t.deleteRule(n)}let Jh,No,Ir,eu="strudel-theme-vars";function Bw(i){document.getElementById(eu)||(Ir=document.createElement("style"),Ir.id=eu,document.head.append(Ir)),Zf(i)}function Zf(i){if(Jh===i)return;Jh=i,Wo[i]||console.warn("theme",i,"has no settings.. defaulting to strudelTheme settings");const e=Wo[i]||Wo.strudelTheme;Ir.innerHTML=`:root {
      ${Object.entries(e).map(([t,n])=>`--${t}: ${n} !important;`).join(`
`)}
    }`,e.light?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark"),No?.(),No=void 0,e.customStyle&&(No=Zw(e.customStyle))}let Xi={};const Lw=i=>`slider_${i}`;class Xw extends Qn{constructor(e,t,n,r,s,o,a){super(),this.value=e,this.min=t,this.max=n,this.from=r,this.originalFrom=r,this.to=s,this.step=o,this.view=a}eq(){return!1}toDOM(){let e=document.createElement("span");e.setAttribute("aria-hidden","true"),e.className="cm-slider";let t=e.appendChild(document.createElement("input"));return t.type="range",t.min=this.min,t.max=this.max,t.step=this.step??(this.max-this.min)/1e3,t.originalValue=this.value,t.value=t.originalValue,t.from=this.from,t.originalFrom=this.originalFrom,t.to=this.to,t.style="width:64px;margin-right:4px;transform:translateY(4px)",this.slider=t,t.addEventListener("input",n=>{const r=n.target.value;let s=r;const o=t.from+t.originalValue.length;let a={from:t.from,to:o,insert:s};t.originalValue=s,t.value=s,this.view.dispatch({changes:a});const h=Lw(t.originalFrom);window.postMessage({type:"cm-slider",value:Number(r),id:h})}),e}ignoreEvent(e){return!0}}const Bf=G.define(),Ew=(i,e)=>{i.dispatch({effects:Bf.of(e)})};function Ww(i,e){return i.map(({from:t,to:n,value:r,min:s,max:o,step:a})=>z.widget({widget:new Xw(r,s,o,t,n,a,e),side:0}).range(t))}const Nw=Xe.fromClass(class{decorations;constructor(i){this.decorations=z.set([])}update(i){i.transactions.forEach(e=>{if(e.docChanged){this.decorations=this.decorations.map(e.changes);const t=this.decorations.iter();for(;t.value;)t.value?.widget?.slider&&(t.value.widget.slider.from=t.from,t.value.widget.slider.to=t.to),t.next()}for(let t of e.effects)t.is(Bf)&&(this.decorations=z.set(Ww(t.value,i.view)))})}},{decorations:i=>i.decorations});let nx=i=>(console.warn("slider will only work when the transpiler is used... passing value as is"),Tm(i)),ix=(i,e,t,n)=>(Xi[i]=e,Mm(()=>Xi[i]));typeof window<"u"&&window.addEventListener("message",i=>{i.data.type==="cm-slider"&&(Xi[i.data.id]!==void 0?Xi[i.data.id]=i.data.value:console.warn(`slider with id "${i.data.id}" is not registered. Only ${Object.keys(Xi)}`))});let Es=i=>i,Nt={},Xt={addEventListener(){},removeEventListener(){}};function Iw(){try{return typeof localStorage<"u"}catch{return!1}}Iw()&&(Nt=localStorage);let Fw={addEventListener(i,e){window.addEventListener("storage",e)},removeEventListener(i,e){window.removeEventListener("storage",e)}};typeof window<"u"&&(Xt=Fw);function Vw(i,e=void 0,t={}){let n=t.encode||Es,r=t.decode||Es,s=Rm(e),o=s.set;s.set=h=>{typeof h>"u"?delete Nt[i]:Nt[i]=n(h),o(h)};function a(h){h.key===i?h.newValue===null?o(void 0):o(r(h.newValue)):Nt[i]||o(void 0)}return nu(s,()=>{if(s.set(Nt[i]?r(Nt[i]):e),t.listen!==!1)return Xt.addEventListener(i,a),()=>{Xt.removeEventListener(i,a)}}),s}function rx(i,e={},t={}){let n=t.encode||Es,r=t.decode||Es,s=jm(),o=s.setKey;s.setKey=(p,f)=>{typeof f>"u"?(t.listen!==!1&&Xt.perKey&&Xt.removeEventListener(i+p,h),delete Nt[i+p]):(t.listen!==!1&&Xt.perKey&&!(p in s.value)&&Xt.addEventListener(i+p,h),Nt[i+p]=n(f)),o(p,f)};let a=s.set;s.set=function(p){for(let f in p)s.setKey(f,p[f]);for(let f in s.value)f in p||s.setKey(f)};function h(p){p.key?p.key.startsWith(i)&&(p.newValue===null?o(p.key.slice(i.length),void 0):o(p.key.slice(i.length),r(p.newValue))):a({})}return nu(s,()=>{let p={...e};for(let f in Nt)f.startsWith(i)&&(p[f.slice(i.length)]=r(Nt[f]));if(s.set(p),t.listen!==!1)return Xt.addEventListener(i,h),()=>{Xt.removeEventListener(i,h);for(let f in s.value)Xt.removeEventListener(i+f,h)}}),s}const Kn={isLineWrappingEnabled:i=>i?W.lineWrapping:[],isLineNumbersDisplayed:i=>i?qO():[],theme:Uw,isAutoCompletionEnabled:hv,isTooltipEnabled:dv,isPatternHighlightingEnabled:vv,isActiveLineHighlighted:i=>i?[TO(),zO()]:[],isFlashEnabled:gv,keybindings:V1},La=Object.fromEntries(Object.keys(Kn).map(i=>[i,new Ki])),qw={keybindings:"codemirror",isLineNumbersDisplayed:!0,isActiveLineHighlighted:!1,isAutoCompletionEnabled:!1,isPatternHighlightingEnabled:!0,isFlashEnabled:!0,isTooltipEnabled:!1,isLineWrappingEnabled:!1,theme:"strudelTheme",fontFamily:"monospace",fontSize:18},Fr=Vw("codemirror-settings",qw,{encode:JSON.stringify,decode:JSON.parse});function Yw({initialCode:i="",onChange:e,onEvaluate:t,onStop:n,root:r}){const s=Fr.get(),o=Object.keys(La).map(h=>La[h].of(Kn[h](Lf(s[h]))));Bw(s.theme);let a=ae.create({doc:i,extensions:[...o,Kb(),Nw,ky(),Yp(U0),Iy(),W.updateListener.of(h=>e(h)),Yt.highest(wn.of([{key:"Ctrl-Enter",run:()=>t?.()},{key:"Alt-Enter",run:()=>t?.()},{key:"Ctrl-.",run:()=>n?.()},{key:"Alt-.",run:(h,p)=>{p.preventDefault(),n?.()}}]))]});return new W({state:a,parent:r})}class sx{constructor(e){const{root:t,id:n,initialCode:r="",onDraw:s,drawTime:o=[0,0],autodraw:a,prebake:h,bgFill:p=!0,...f}=e;this.code=r,this.root=t,this.miniLocations=[],this.widgets=[],this.painters=[],this.drawTime=o,this.onDraw=s;const g=this;this.id=n||_w(),this.drawer=new Dm((S,T)=>{const A=S.filter(D=>T>=D.whole.begin&&T<=D.endClipped);this.highlight(A,T),this.onDraw?.(S,T,A,this.painters)},o),Um.prototype.onPaint=function(S){return g.painters.push(S),this},this.prebaked=h(),a&&this.drawFirstFrame(),this.repl=Zm({...f,onToggle:S=>{f?.onToggle?.(S),S?(this.adjustDrawTime(),this.drawer.start(this.repl.scheduler),document.dispatchEvent(new CustomEvent("start-repl",{detail:this.id}))):(this.drawer.stop(),Ra(this.editor,[]),oc(!1))},beforeEval:async()=>{oc(),this.painters=[],await this.prebaked,await f?.beforeEval?.()},afterEval:S=>{this.miniLocations=S.meta?.miniLocations,this.widgets=S.meta?.widgets,Ew(this.editor,this.widgets),Ra(this.editor,this.miniLocations),f?.afterEval?.(S),this.adjustDrawTime(),this.drawer.invalidate()}}),this.editor=Yw({root:t,initialCode:r,onChange:S=>{S.docChanged&&(this.code=S.state.doc.toString(),this.repl.setCode?.(this.code))},onEvaluate:()=>this.evaluate(),onStop:()=>this.stop()});const b=this.root.querySelector(".cm-editor");b&&(this.root.style.display="block",p&&(this.root.style.backgroundColor="var(--background)"),b.style.backgroundColor="transparent");const k=Fr.get();this.setFontSize(k.fontSize),this.setFontFamily(k.fontFamily),this.onStartRepl=S=>{S.detail!==this.id&&this.stop()},document.addEventListener("start-repl",this.onStartRepl)}adjustDrawTime(){this.drawer.setDrawTime(this.painters.length?this.drawTime:[0,0])}async drawFirstFrame(){if(this.onDraw){await this.prebaked;try{await this.repl.evaluate(this.code,!1),this.drawer.invalidate(this.repl.scheduler,-.001),this.onDraw?.(this.drawer.visibleHaps,-.001,[],this.painters)}catch{console.warn("first frame could not be painted")}}}async evaluate(){this.flash(),await this.repl.evaluate(this.code)}async stop(){this.repl.scheduler.stop()}async toggle(){this.repl.scheduler.started?this.repl.stop():this.evaluate()}flash(e){mv(this.editor,e)}highlight(e,t){Ov(this.editor,t,e)}setFontSize(e){this.root.style.fontSize=e+"px"}setFontFamily(e){this.root.style.fontFamily=e;const t=this.root.querySelector(".cm-scroller");t&&(t.style.fontFamily=e)}reconfigureExtension(e,t){if(!Kn[e]){console.warn(`extension ${e} is not known`);return}t=Lf(t);const n=Kn[e](t,this);this.editor.dispatch({effects:La[e].reconfigure(n)}),e==="theme"&&Zf(t)}setLineWrappingEnabled(e){this.reconfigureExtension("isLineWrappingEnabled",e)}setLineNumbersDisplayed(e){this.reconfigureExtension("isLineNumbersDisplayed",e)}setTheme(e){this.reconfigureExtension("theme",e)}setAutocompletionEnabled(e){this.reconfigureExtension("isAutoCompletionEnabled",e)}updateSettings(e){this.setFontSize(e.fontSize),this.setFontFamily(e.fontFamily);for(let n in Kn)this.reconfigureExtension(n,e[n]);const t={...Fr.get(),...e};Fr.set(t)}changeSetting(e,t){if(Kn[e]){this.reconfigureExtension(e,t);return}else e==="fontFamily"?this.setFontFamily(t):e==="fontSize"&&this.setFontSize(t)}setCode(e){const t={from:0,to:this.editor.state.doc.length,insert:e};this.editor.dispatch({changes:t})}clear(){this.onStartRepl&&document.removeEventListener("start-repl",this.onStartRepl)}}function Lf(i){return{true:!0,false:!1}[i]??i}function _w(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}const zw="modulepreload",Gw=function(i){return"/"+i},tu={},ox=function(e,t,n){if(!t||t.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=Gw(s),s in tu)return;tu[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let f=r.length-1;f>=0;f--){const g=r[f];if(g.href===s&&(!o||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const p=document.createElement("link");if(p.rel=o?"stylesheet":zw,o||(p.as="script",p.crossOrigin=""),p.href=s,document.head.appendChild(p),o)return new Promise((f,g)=>{p.addEventListener("load",f),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};export{Zf as A,Aa as B,rx as C,Vw as D,sx as S,ox as _,rf as a,bv as b,Fr as c,qw as d,vv as e,Ma as f,fv as g,Ov as h,Yw as i,mv as j,gv as k,Xi as l,Xw as m,Bf as n,Ew as o,Nw as p,nx as q,ix as r,nf as s,Kh as t,Ra as u,Wo as v,tx as w,Uw as x,Zw as y,Bw as z};
//# sourceMappingURL=preload-helper.f847b49d.js.map
