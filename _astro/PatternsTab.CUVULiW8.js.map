{"version":3,"file":"PatternsTab.CUVULiW8.js","sources":["../../src/cx.mjs","../../src/repl/components/panel/Forms.jsx","../../src/repl/tunes.mjs","../../src/repl/useExamplePatterns.jsx","../../src/repl/components/panel/PatternsTab.jsx"],"sourcesContent":["/*\ncx.js - <short description TODO>\nCopyright (C) 2022 Strudel contributors - see <https://github.com/tidalcycles/strudel/blob/main/repl/src/cx.js>\nThis program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more details. You should have received a copy of the GNU Affero General Public License along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\nexport default function cx(...classes) {\n  // : Array<string | undefined>\n  return classes.filter(Boolean).join(' ');\n}\n","import cx from '@src/cx.mjs';\n\nexport function ButtonGroup({ value, onChange, items }) {\n  return (\n    <div className=\"flex max-w-lg\">\n      {Object.entries(items).map(([key, label], i, arr) => (\n        <button\n          key={key}\n          onClick={() => onChange(key)}\n          className={cx(\n            'px-2 border-b h-8 whitespace-nowrap',\n            // i === 0 && 'rounded-l-md',\n            // i === arr.length - 1 && 'rounded-r-md',\n            // value === key ? 'bg-background' : 'bg-lineHighlight',\n            value === key ? 'border-foreground' : 'border-transparent',\n          )}\n        >\n          {label.toLowerCase()}\n        </button>\n      ))}\n    </div>\n  );\n}\n","/*\ntunes.mjs - <short description TODO>\nCopyright (C) 2022 Strudel contributors - see <https://github.com/tidalcycles/strudel/blob/main/repl/src/tunes.mjs>\nThis program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more details. You should have received a copy of the GNU Affero General Public License along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\nexport const swimming = `// Koji Kondo - Swimming (Super Mario World)\nstack(\n  seq(\n    \"~\",\n    \"~\",\n    \"~\",\n    \"A5 [F5@2 C5] [D5@2 F5] F5\",\n    \"[C5@2 F5] [F5@2 C6] A5 G5\",\n    \"A5 [F5@2 C5] [D5@2 F5] F5\",\n    \"[C5@2 F5] [Bb5 A5 G5] F5@2\",\n    \"A5 [F5@2 C5] [D5@2 F5] F5\",\n    \"[C5@2 F5] [F5@2 C6] A5 G5\",\n    \"A5 [F5@2 C5] [D5@2 F5] F5\",\n    \"[C5@2 F5] [Bb5 A5 G5] F5@2\",\n    \"A5 [F5@2 C5] A5 F5\",\n    \"Ab5 [F5@2 Ab5] G5@2\",\n    \"A5 [F5@2 C5] A5 F5\",\n    \"Ab5 [F5@2 C5] C6@2\",\n    \"A5 [F5@2 C5] [D5@2 F5] F5\",\n    \"[C5@2 F5] [Bb5 A5 G5] F5@2\"\n  ).color('#FFEBB5'),\n  seq(\n    \"[F4,Bb4,D5] [[D4,G4,Bb4]@2 [Bb3,D4,F4]] [[G3,C4,E4]@2 [[Ab3,F4] [A3,Gb4]]] [Bb3,E4,G4]\",\n    \"[~ [F3, A3, C3] [F3, A3, C3]] [~ [F3, A3, C3] [F3, A3, C3]] [~ [F3, Bb3, D3] [F3, Bb3, D3]] [~ [F3, Bb3, Db3] [F3, Bb3, Db3]]\",\n    \"[~ [F3, A3, C3] [F3, A3, C3]] [~ [F3, A3, C3] [F3, A3, C3]] [~ [F3, Bb3, D3] [F3, Bb3, D3]] [~ [F3, B3, D3] [F3, B3, D3]]\",\n    \"[~ [F3, A3, C3] [F3, A3, C3]] [~ [F3, A3, C3] [F3, A3, C3]] [~ [F3, Bb3, D3] [F3, Bb3, D3]] [~ [F3, B3, D3] [F3, B3, D3]]\",\n    \"[~ [A3, C4, E4] [A3, C4, E4]] [~ [Ab3, C4, Eb4] [Ab3, C4, Eb4]] [~ [F3, Bb3, D3] [F3, Bb3, D3]] [~ [G3, C4, E4] [G3, C4, E4]]\",\n    \"[~ [F3, A3, C4] [F3, A3, C4]] [~ [F3, A3, C4] [F3, A3, C4]] [~ [F3, Bb3, D3] [F3, Bb3, D3]] [~ [F3, B3, D3] [F3, B3, D3]]\",\n    \"[~ [F3, Bb3, D4] [F3, Bb3, D4]] [~ [F3, Bb3, C4] [F3, Bb3, C4]] [~ [F3, A3, C4] [F3, A3, C4]] [~ [F3, A3, C4] [F3, A3, C4]]\",\n    \"[~ [F3, A3, C3] [F3, A3, C3]] [~ [F3, A3, C3] [F3, A3, C3]] [~ [F3, Bb3, D3] [F3, Bb3, D3]] [~ [F3, B3, D3] [F3, B3, D3]]\",\n    \"[~ [A3, C4, E4] [A3, C4, E4]] [~ [Ab3, C4, Eb4] [Ab3, C4, Eb4]] [~ [F3, Bb3, D3] [F3, Bb3, D3]] [~ [G3, C4, E4] [G3, C4, E4]]\",\n    \"[~ [F3, A3, C3] [F3, A3, C3]] [~ [F3, A3, C3] [F3, A3, C3]] [~ [F3, Bb3, D3] [F3, Bb3, D3]] [~ [F3, B3, D3] [F3, B3, D3]]\",\n    \"[~ [F3, Bb3, D4] [F3, Bb3, D4]] [~ [F3, Bb3, C4] [F3, Bb3, C4]] [~ [F3, A3, C4] [F3, A3, C4]] [~ [F3, A3, C4] [F3, A3, C4]]\",\n    \"[~ [Bb3, D3, F4] [Bb3, D3, F4]] [~ [Bb3, D3, F4] [Bb3, D3, F4]] [~ [A3, C4, F4] [A3, C4, F4]] [~ [A3, C4, F4] [A3, C4, F4]]\",\n    \"[~ [Ab3, B3, F4] [Ab3, B3, F4]] [~ [Ab3, B3, F4] [Ab3, B3, F4]] [~ [G3, Bb3, F4] [G3, Bb3, F4]] [~ [G3, Bb3, E4] [G3, Bb3, E4]]\",\n    \"[~ [Bb3, D3, F4] [Bb3, D3, F4]] [~ [Bb3, D3, F4] [Bb3, D3, F4]] [~ [A3, C4, F4] [A3, C4, F4]] [~ [A3, C4, F4] [A3, C4, F4]]\",\n    \"[~ [Ab3, B3, F4] [Ab3, B3, F4]] [~ [Ab3, B3, F4] [Ab3, B3, F4]] [~ [G3, Bb3, F4] [G3, Bb3, F4]] [~ [G3, Bb3, E4] [G3, Bb3, E4]]\",\n    \"[~ [F3, A3, C3] [F3, A3, C3]] [~ [F3, A3, C3] [F3, A3, C3]] [~ [F3, Bb3, D3] [F3, Bb3, D3]] [~ [F3, B3, D3] [F3, B3, D3]]\",\n    \"[~ [F3, Bb3, D4] [F3, Bb3, D4]] [~ [F3, Bb3, C4] [F3, Bb3, C4]] [~ [F3, A3, C4] [F3, A3, C4]] [~ [F3, A3, C4] [F3, A3, C4]]\"\n  ).color('#54C571'),\n  seq(\n    \"[G3 G3 C3 E3]\",\n    \"[F2 D2 G2 C2]\",\n    \"[F2 D2 G2 C2]\",\n    \"[F2 A2 Bb2 B2]\",\n    \"[A2 Ab2 G2 C2]\",\n    \"[F2 A2 Bb2 B2]\",\n    \"[G2 C2 F2 F2]\",\n    \"[F2 A2 Bb2 B2]\",\n    \"[A2 Ab2 G2 C2]\",\n    \"[F2 A2 Bb2 B2]\",\n    \"[G2 C2 F2 F2]\",\n    \"[Bb2 Bb2 A2 A2]\",\n    \"[Ab2 Ab2 G2 [C2 D2 E2]]\",\n    \"[Bb2 Bb2 A2 A2]\",\n    \"[Ab2 Ab2 G2 [C2 D2 E2]]\",\n    \"[F2 A2 Bb2 B2]\",\n    \"[G2 C2 F2 F2]\"\n  ).color('#0077C9')\n).note().slow(51)\n//.pianoroll({fold:1})\n`;\n\nexport const giantSteps = `// John Coltrane - Giant Steps\n\nlet melody = note(\n  \"[F#5 D5] [B4 G4] Bb4 [B4 A4]\",\n  \"[D5 Bb4] [G4 Eb4] F#4 [G4 F4]\",\n  \"Bb4 [B4 A4] D5 [D#5 C#5]\",\n  \"F#5 [G5 F5] Bb5 [F#5 F#5]\",\n)\n\nstack(\n  // melody\n  melody.color('#F8E71C'),\n  // chords\n  chord(\n    \"[B^7 D7] [G^7 Bb7] Eb^7 [Am7 D7]\",\n    \"[G^7 Bb7] [Eb^7 F#7] B^7 [Fm7 Bb7]\",\n    \"Eb^7 [Am7 D7] G^7 [C#m7 F#7]\",\n    \"B^7 [Fm7 Bb7] Eb^7 [C#m7 F#7]\"\n  ).dict('lefthand')\n  .anchor(melody).mode('duck')\n  .voicing().color('#7ED321'),\n  // bass\n  note(\n    \"[B2 D2] [G2 Bb2] [Eb2 Bb3] [A2 D2]\",\n    \"[G2 Bb2] [Eb2 F#2] [B2 F#2] [F2 Bb2]\",\n    \"[Eb2 Bb2] [A2 D2] [G2 D2] [C#2 F#2]\",\n    \"[B2 F#2] [F2 Bb2] [Eb2 Bb3] [C#2 F#2]\"\n  ).color('#00B8D4')\n).slow(20)\n.pianoroll({fold:1})`;\n\nexport const zeldasRescue = `// Koji Kondo - Princess Zelda's Rescue\nstack(\n  // melody\n  \\`[B3@2 D4] [A3@2 [G3 A3]] [B3@2 D4] [A3] \n  [B3@2 D4] [A4@2 G4] [D4@2 [C4 B3]] [A3]\n  [B3@2 D4] [A3@2 [G3 A3]] [B3@2 D4] [A3]\n  [B3@2 D4] [A4@2 G4] D5@2 \n  [D5@2 [C5 B4]] [[C5 B4] G4@2] [C5@2 [B4 A4]] [[B4 A4] E4@2]\n  [D5@2 [C5 B4]] [[C5 B4] G4 C5] [G5] [~ ~ B3]\\`,\n  // bass\n  \\`[[C2 G2] E3@2] [[C2 G2] F#3@2] [[C2 G2] E3@2] [[C2 G2] F#3@2]\n  [[B1 D3] G3@2] [[Bb1 Db3] G3@2] [[A1 C3] G3@2] [[D2 C3] F#3@2]\n  [[C2 G2] E3@2] [[C2 G2] F#3@2] [[C2 G2] E3@2] [[C2 G2] F#3@2]\n  [[B1 D3] G3@2] [[Bb1 Db3] G3@2] [[A1 C3] G3@2] [[D2 C3] F#3@2]\n  [[F2 C3] E3@2] [[E2 B2] D3@2] [[D2 A2] C3@2] [[C2 G2] B2@2]\n  [[F2 C3] E3@2] [[E2 B2] D3@2] [[Eb2 Bb2] Db3@2] [[D2 A2] C3 [F3,G2]]\\`\n).transpose(12).slow(48)\n  .superimpose(x=>x.add(0.06)) // add slightly detuned voice\n  .note()\n  .gain(.1)\n  .s('triangle')\n  .room(1)\n  //.pianoroll({fold:1})`;\n\nexport const caverave = `// \"Caverave\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos\n\nconst keys = x => x.s('sawtooth').cutoff(1200).gain(.5)\n  .attack(0).decay(.16).sustain(.3).release(.1);\n\nconst drums = stack(\n  s(\"bd*2\").mask(\"<x@7 ~>/8\").gain(.8),\n  s(\"~ <sd!7 [sd@3 ~]>\").mask(\"<x@7 ~>/4\").gain(.5),\n  s(\"[~ hh]*2\").delay(.3).delayfeedback(.5).delaytime(.125).gain(.4)\n);\n\nconst synths = stack(\n  \n  \"<eb4 d4 c4 b3>/2\"\n  .scale(\"<C:minor!3 C:melodic:minor>/2\")\n  .struct(\"[~ x]*2\")\n  .layer(\n    x=>x.scaleTranspose(0).early(0),\n    x=>x.scaleTranspose(2).early(1/8),\n    x=>x.scaleTranspose(7).early(1/4),\n    x=>x.scaleTranspose(8).early(3/8)\n  ).note().apply(keys).mask(\"<~ x>/16\")\n  .color('darkseagreen'),\n  \n  note(\"<C2 Bb1 Ab1 [G1 [G2 G1]]>/2\")\n  .struct(\"[x [~ x] <[~ [~ x]]!3 [x x]>@2]/2\".fast(2))\n  .s('sawtooth').attack(0.001).decay(0.2).sustain(1).cutoff(500)\n  .color('brown'),\n  chord(\"<Cm7 Bb7 Fm7 G7b13>/2\")\n  .struct(\"~ [x@0.2 ~]\".fast(2))\n  .dict('lefthand').voicing()\n  .every(2, early(1/8))\n  .apply(keys).sustain(0)\n  .delay(.4).delaytime(.12)\n  .mask(\"<x@7 ~>/8\".early(1/4))\n).add(note(\"<-1 0>/8\"))\nstack(\n  drums.fast(2).color('tomato'), \n  synths\n).slow(2)\n  //.pianoroll({fold:1})`;\n\nexport const sampleDrums = `samples({\n  bd: 'bd/BT0A0D0.wav',\n  sn: 'sn/ST0T0S3.wav',\n  hh: 'hh/000_hh3closedhh.wav'\n}, 'https://loophole-letters.vercel.app/samples/tidal/')\n\nstack(\n  \"<bd!3 bd(3,4,3)>\".color('#F5A623'),\n  \"hh*4\".color('#673AB7'),\n  \"~ <sn!3 sn(3,4,2)>\".color('#4CAF50')\n).s()\n.pianoroll({fold:1})\n`;\n\nexport const barryHarris = `// adapted from a Barry Harris excercise\n\"0,2,[7 6]\"\n  .add(\"<0 1 2 3 4 5 7 8>\")\n  .scale('C bebop major')\n  .transpose(\"<0 1 2 1>/8\")\n  .slow(2)\n  .note().piano()\n  .color('#00B8D4')\n`;\n\nexport const blippyRhodes = `// \"Blippy Rhodes\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos\n\nsamples({\n  bd: 'samples/tidal/bd/BT0A0D0.wav',\n  sn: 'samples/tidal/sn/ST0T0S3.wav',\n  hh: 'samples/tidal/hh/000_hh3closedhh.wav',\n  rhodes: {\n  E1: 'samples/rhodes/MK2Md2000.mp3',\n  E2: 'samples/rhodes/MK2Md2012.mp3',\n  E3: 'samples/rhodes/MK2Md2024.mp3',\n  E4: 'samples/rhodes/MK2Md2036.mp3',\n  E5: 'samples/rhodes/MK2Md2048.mp3',\n  E6: 'samples/rhodes/MK2Md2060.mp3',\n  E7: 'samples/rhodes/MK2Md2072.mp3'\n  }\n}, 'https://loophole-letters.vercel.app/')\n\nstack(\n  s(\"<bd sn> <hh hh*2 hh*3>\").color('#00B8D4'),\n  \"<g4 c5 a4 [ab4 <eb5 f5>]>\"\n  .scale(\"<C:major C:mixolydian F:lydian [F:minor <Db:major Db:mixolydian>]>\")\n  .struct(\"x*8\")\n  .scaleTranspose(\"0 [-5,-2] -7 [-9,-2]\")\n  .slow(2)\n  .note()\n  .clip(.3)\n  .s('rhodes')\n  .room(.5)\n  .delay(.3)\n  .delayfeedback(.4)\n  .delaytime(1/12).gain(.5).color('#7ED321'),\n  \"<c2 c3 f2 [[F2 C2] db2]>/2\"\n  .add(\"0,.02\")\n  .note().gain(.3)\n  .clip(\"<1@3 [.3 1]>/2\")\n  .cutoff(600)\n  .lpa(.2).lpenv(-4)\n  .s('sawtooth').color('#F8E71C'),\n).fast(3/2)\n//.pianoroll({fold:1})`;\n\nexport const wavyKalimba = `// \"Wavy kalimba\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos\n\nsetcps(1)\n\nsamples({\n  'kalimba': { c5:'https://cdn.freesound.org/previews/536/536549_11935698-lq.mp3' }\n})\nconst scales = \"<C:major C:mixolydian F:lydian [F:minor Db:major]>\"\n\nstack(\n  \"[0 2 4 6 9 2 0 -2]*3\"\n  .add(\"<0 2>/4\")\n  .scale(scales)\n  .struct(\"x*8\")\n  .velocity(\"<.8 .3 .6>*8\")\n  .slow(2),\n  \"<c2 c2 f2 [[F2 C2] db2]>\"\n  .scale(scales)\n  .scaleTranspose(\"[0 <2 4>]*2\")\n  .struct(\"x*4\")\n  .velocity(\"<.8 .5>*4\")\n  .velocity(0.8)\n  .slow(2)\n)\n  .fast(1)\n  .note()\n  .clip(\"<.4 .8 1 1.2 1.4 1.6 1.8 2>/8\")\n  .s('kalimba')\n  .delay(.2)`;\n\nexport const festivalOfFingers = `// \"Festival of fingers\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos\n\nconst chords = \"<Cm7 Fm7 G7 F#7>\";\nstack(\n  chord(chords).dict('lefthand').voicing()\n  .struct(\"x(3,8,-1)\")\n  .gain(.5).off(1/7,x=>x.add(note(12)).mul(gain(.2))),\n  chords.rootNotes(2).struct(\"x(4,8,-2)\").note(),\n  chords.rootNotes(4)\n  .scale(cat('C minor','F dorian','G dorian','F# mixolydian'))\n  .struct(\"x(3,8,-2)\".fast(2))\n  .scaleTranspose(\"0 4 0 6\".early(\".125 .5\"))\n  .layer(scaleTranspose(\"0,<2 [4,6] [5,7]>/4\"))\n  .note()\n).slow(2)\n .mul(gain(sine.struct(\"x*8\").add(3/5).mul(2/5).fast(8)))\n .piano()`;\n\n// iter, echo, echoWith\nexport const undergroundPlumber = `// \"Underground plumber\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos\n// @details inspired by Friendship - Let's not talk about it (1979) :)\n\nsamples({ bd: 'bd/BT0A0D0.wav', sn: 'sn/ST0T0S3.wav', hh: 'hh/000_hh3closedhh.wav', cp: 'cp/HANDCLP0.wav',\n}, 'https://loophole-letters.vercel.app/samples/tidal/')\n\nconst h = x=>x.transpose(\"<0@2 5 0 7 5 0 -5>/2\")\n\nstack(\n  s(\"<<bd*2 bd> sn> hh\").fast(2).gain(.7),\n  \"[c2 a1 bb1 ~] ~\"\n  .echo(2, 1/16, 1)\n  .slow(2)\n  .note().s('square')\n  .layer(h)\n  .clip(.4)\n  .cutoff(400).decay(.12).sustain(0)\n  ,\n  \"[g2,[c3 eb3]]\".iter(4)\n  .echoWith(4, 1/8, (x,n)=>x.transpose(n*12).gain(Math.pow(.4,n)))\n  .note().layer(h)\n  .clip(.1)\n)\n  .fast(2/3)\n  .pianoroll()`;\n/* \nexport const bridgeIsOver = `// \"Bridge is over\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos, bassline by BDP - The Bridge Is Over\n\nsamples({mad:'https://freesound.org/data/previews/22/22274_109943-lq.mp3'})\nstack(\n  stack(\n  note(\"c3*2 [[c3@1.4 bb2] ab2] gb2*2 <[[gb2@1.4 ab2] bb2] gb2>\")\n    .gain(.8).clip(\"[.5 1]*2\"),\n  n(\"<0 1 2 3 4 3 2 1>\")\n    .clip(.5)\n    .echoWith(8, 1/32, (x,i)=>x.add(n(i)).velocity(Math.pow(.7,i)))\n    .scale('c4 whole tone')\n    .echo(3, 1/8, .5)\n  ).piano(),\n  s(\"mad\").slow(2)\n).cpm(78).slow(4)\n  .pianoroll()\n`; */\n\nexport const goodTimes = `// \"Good times\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos\n\nconst scale = cat('C3 dorian','Bb2 major').slow(4);\nstack(\n  n(\"2*4\".add(12)).off(1/8, add(2))\n  .scale(scale)\n  .fast(2)\n  .add(\"<0 1 2 1>\").hush(),\n  \"<0 1 2 3>(3,8,2)\".off(1/4, add(\"2,4\"))\n  .n().scale(scale),\n  n(\"<0 4>(5,8,-1)\").scale(scale).sub(note(12))\n)\n  .gain(\".6 .7\".fast(4))\n  .add(note(4))\n  .piano()\n  .clip(2)\n  .mul(gain(.8))\n  .slow(2)\n  .pianoroll()`;\n\nexport const echoPiano = `// \"Echo piano\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos\n\nn(\"<0 2 [4 6](3,4,2) 3*2>\").color('salmon')\n.off(1/4, x=>x.add(n(2)).color('green'))\n.off(1/2, x=>x.add(n(6)).color('steelblue'))\n.scale('D minor')\n.echo(4, 1/8, .5)\n.clip(.5)\n.piano()\n.pianoroll()`;\n\nexport const sml1 = `// Hirokazu Tanaka - World 1-1\nstack(\n  // melody\n  note(\\`<\n  [e5 ~] [[d5@2 c5] [~@2 e5]] ~ [~ [c5@2 d5]] [e5 e5] [d5 c5] [e5 f5] [g5 a5]\n  [~ c5] [c5 d5] [e5 [c5@2 c5]] [~ c5] [f5 e5] [c5 d5] [~ g6] [g6 ~]\n  [e5 ~] [[d5@2 c5] [~@2 e5]] ~ [~ [c5@2 d5]] [e5 e5] [d5 c5] [a5 g5] [c6 [e5@2 d5]]\n  [~ c5] [c5 d5] [e5 [c5@2 c5]] [~ c5] [f5 e5] [c5 d5] [~ [g6@2 ~] ~@2] [g5 ~] \n  [~ a5] [b5 c6] [b5@2 ~@2 g5] ~\n  [f5 ~] [[g5@2 f5] ~] [[e5 ~] [f5 ~]] [[f#5 ~] [g5 ~]]\n  [~ a5] [b5 c6] [b5@2 ~@2 g5] ~\n  [eb6 d6] [~ c6] ~!2\n  >\\`)\n  .clip(.95),\n  // sub melody\n  note(\\`<\n  [~ g4]!2 [~ ab4]!2 [~ a4]!2 [~ bb4]!2 \n  [~ a4]!2 [~ g4]!2 [d4 e4] [f4 gb4] ~!2\n  [~ g4]!2 [~ ab4]!2 [~ a4]!2 [~ bb4]!2 \n  [~ a4]!2 [~ g4]!2 [d4 e4] [f4 gb4] ~!2\n  [~ c5]!4 [~ a4]!2 [[c4 ~] [d4 ~]] [[eb4 ~] [e4 ~]]\n  [~ c5]!4 [~ eb5]!2 [g4*2 [f4 ~]] [[e4 ~] [d4 ~]]\n  >\\`),\n  // bass\n  note(\\`<\n  c3!7 a3 f3!2\n  e3!2 ~!4\n  c3!7 a3 f3!2\n  e3!2 ~!4\n  f3!2 e3!2 d3!2 ~!2\n  f3!2 e3!2 ab3!2 ~!2\n  >\\`)\n  .clip(.5)\n).fast(2)`;\n\nexport const randomBells = `// \"Random bells\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos\n\nsamples({\n  bell: { c6: 'https://cdn.freesound.org/previews/411/411089_5121236-lq.mp3' },\n  bass: { d2: 'https://cdn.freesound.org/previews/608/608286_13074022-lq.mp3' }\n})\n\nstack(\n  // bells\n  n(\"0\").euclidLegato(3,8)\n  .echo(3, 1/16, .5)\n  .add(n(rand.range(0,12)))\n  .scale(\"D:minor:pentatonic\")\n  .velocity(rand.range(.5,1))\n  .s('bell').gain(.6).delay(.2).delaytime(1/3).delayfeedback(.8),\n  // bass\n  note(\"<D2 A2 G2 F2>\").euclidLegatoRot(6,8,4).s('bass').clip(1).gain(.8)\n)\n  .slow(6)\n  .pianoroll({vertical:1})`;\n\nexport const waa2 = `// \"Waa2\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos\n\nnote(\n  \"a4 [a3 c3] a3 c3\"\n  .sub(\"<7 12 5 12>\".slow(2))\n  .off(1/4,x=>x.add(7))\n  .off(1/8,x=>x.add(12))\n)\n  .slow(2)\n  .clip(sine.range(0.3, 2).slow(28))\n  .s(\"sawtooth square\".fast(2))\n  .cutoff(cosine.range(500,4000).slow(16))\n  .gain(.5)\n  .room(.5)\n  .lpa(.125).lpenv(-2).v(\"8:.125\").fanchor(.25)`;\n\nexport const festivalOfFingers3 = `// \"Festival of fingers 3\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos\n\nsetcps(1)\n\nn(\"[-7*3],0,2,6,[8 7]\")\n  .echoWith(\n    4, // echo 4 times\n    1/4, // 1/4s between echos\n    (x,i)=>x\n      .add(n(i*7)) // add octaves\n      .gain(1/(i+1)) // reduce gain\n      .clip(1/(i+1))\n    )\n  .mul(gain(perlin.range(.5,.9).slow(8)))\n  .stack(n(\"[22 25]*3\")\n         .clip(sine.range(.5,2).slow(8))\n         .gain(sine.range(.4,.8).slow(5))\n         .echo(4,1/12,.5))\n  .scale(\"<D:dorian G:mixolydian C:dorian F:mixolydian>\")\n  .slow(2).piano()\n//.pianoroll({maxMidi:160})`;\n\nexport const meltingsubmarine = `// \"Melting submarine\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos\n\nsamples('github:tidalcycles/dirt-samples')\nstack(\n  s(\"bd:5,[~ <sd:1!3 sd:1(3,4,3)>],hh27(3,4,1)\") // drums\n  .speed(perlin.range(.7,.9)) // random sample speed variation\n  //.hush()\n  ,\"<a1 b1*2 a1(3,8) e2>\" // bassline\n  .off(1/8,x=>x.add(12).degradeBy(.5)) // random octave jumps\n  .add(perlin.range(0,.5)) // random pitch variation\n  .superimpose(add(.05)) // add second, slightly detuned voice\n  .note() // wrap in \"note\"\n  .decay(.15).sustain(0) // make each note of equal length\n  .s('sawtooth') // waveform\n  .gain(.4) // turn down\n  .cutoff(sine.slow(7).range(300,5000)) // automate cutoff\n  .lpa(.1).lpenv(-2)\n  //.hush()\n  ,chord(\"<Am7!3 <Em7 E7b13 Em7 Ebm7b5>>\")\n  .dict('lefthand').voicing() // chords\n  .add(note(\"0,.04\")) // add second, slightly detuned voice\n  .add(note(perlin.range(0,.5))) // random pitch variation\n  .s('sawtooth') // waveform\n  .gain(.16) // turn down\n  .cutoff(500) // fixed cutoff\n  .attack(1) // slowly fade in\n  //.hush()\n  ,\"a4 c5 <e6 a6>\".struct(\"x(5,8,-1)\")\n  .superimpose(x=>x.add(.04)) // add second, slightly detuned voice\n  .add(perlin.range(0,.5)) // random pitch variation\n  .note() // wrap in \"note\"\n  .decay(.1).sustain(0) // make notes short\n  .s('triangle') // waveform\n  .degradeBy(perlin.range(0,.5)) // randomly controlled random removal :)\n  .echoWith(4,.125,(x,n)=>x.gain(.15*1/(n+1))) // echo notes\n  //.hush()\n)\n  .slow(3/2)`;\n\n/* \nexport const outroMusic = `// \"Outro music\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos\n\nsamples({\n  bd: ['bd/BT0AADA.wav','bd/BT0AAD0.wav','bd/BT0A0DA.wav','bd/BT0A0D3.wav','bd/BT0A0D0.wav','bd/BT0A0A7.wav'],\n  sd: ['sd/rytm-01-classic.wav','sd/rytm-00-hard.wav'],\n  hh: ['hh27/000_hh27closedhh.wav','hh/000_hh3closedhh.wav'],\n  perc: ['perc/002_perc2.wav'],\n}, 'github:tidalcycles/dirt-samples');\n\nchord(\"<C^7 Am7 Dm7 G7>*2\").dict('lefthand').anchor(\"G4\").voicing()\n  .stack(n(\"0@6 [<1 2> <2 0> 1]@2\").scale('C5 major'))\n  .slow(4)\n  .s(\"gm_epiano1:1\")\n  .color('steelblue')\n  .stack(\n   \"<-7 ~@2 [~@2 -7] -9 ~@2 [~@2 -9] -10!2 ~ [~@2 -10] -5 ~ [-3 -2 -10]@2>*2\"\n    .scale('C3 major').note()\n    .s('sawtooth').color('brown')\n  )\n  .attack(0.05).decay(.1).sustain(.7)\n  .cutoff(perlin.range(800,2000))\n  .gain(.3)\n  .stack(\n    s(\"<bd!3 [bd ~ bd]> sd,hh*3,~@5 <perc perc*3>\")\n    .speed(perlin.range(.9,1.1))\n    .n(3).color('gray')\n  ).slow(3/2)\n  //.pianoroll({autorange:1,vertical:1,fold:0})\n  `; \n*/\n\nexport const bassFuge = `// \"Bass fuge\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos\n\nsamples({ flbass: ['00_c2_finger_long_neck.wav','01_c2_finger_short_neck.wav','02_c2_finger_long_bridge.wav','03_c2_finger_short_bridge.wav','04_c2_pick_long.wav','05_c2_pick_short.wav','06_c2_palm_mute.wav'] }, \n  'github:cleary/samples-flbass/main/')\nsamples({\nbd: ['bd/BT0AADA.wav','bd/BT0AAD0.wav','bd/BT0A0DA.wav','bd/BT0A0D3.wav','bd/BT0A0D0.wav','bd/BT0A0A7.wav'],\nsd: ['sd/rytm-01-classic.wav','sd/rytm-00-hard.wav'],\nhh: ['hh27/000_hh27closedhh.wav','hh/000_hh3closedhh.wav'],\n}, 'github:tidalcycles/dirt-samples');\n\nsetcps(1)\n\n\"<8(3,8) <7 7*2> [4 5@3] 8>\".sub(1) // sub 1 -> 1-indexed\n.layer(\nx=>x,\nx=>x.add(7)\n.off(1/8,x=>x.add(\"2,4\").off(1/8,x=>x.add(5).echo(4,.125,.5)))\n.slow(2),\n).n().scale('A1 minor')\n.s(\"flbass\").n(0)\n.mul(gain(.3))\n.cutoff(sine.slow(7).range(200,4000))\n.resonance(10)\n//.hcutoff(400)\n.clip(1)\n.stack(s(\"bd:1*2,~ sd:0,[~ hh:0]*2\"))\n.pianoroll({vertical:1})`;\n\nexport const chop = `// \"Chop\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos\n\nsamples({ p: 'https://cdn.freesound.org/previews/648/648433_11943129-lq.mp3' })\n\ns(\"p\")\n  .loopAt(32)\n  .chop(128)\n  .jux(rev)\n  .shape(.4)\n  .decay(.1)\n  .sustain(.6)\n  `;\n\nexport const delay = `// \"Delay\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos\n\nstack(\n    s(\"bd <sd cp>\")\n    .delay(\"<0 .5>\")\n    .delaytime(\".16 | .33\")\n    .delayfeedback(\".6 | .8\")\n  ).sometimes(x=>x.speed(\"-1\"))`;\n\nexport const orbit = `// \"Orbit\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos\n\nstack(\n    s(\"bd <sd cp>\")\n    .delay(.5)\n    .delaytime(.33)\n    .delayfeedback(.6),\n    s(\"hh*2\")\n    .delay(.8)\n    .delaytime(.08)\n    .delayfeedback(.7)\n    .orbit(2)\n  ).sometimes(x=>x.speed(\"-1\"))`;\n\nexport const belldub = `// \"Belldub\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos\n\nsamples({ bell: {b4:'https://cdn.freesound.org/previews/339/339809_5121236-lq.mp3'}})\n// \"Hand Bells, B, Single.wav\" by InspectorJ (www.jshaw.co.uk) of Freesound.org\nstack(\n  // bass\n  note(\"[0 ~] [2 [0 2]] [4 4*2] [[4 ~] [2 ~] 0@2]\".scale('g1 dorian').superimpose(x=>x.add(.02)))\n  .s('sawtooth').cutoff(200).resonance(20).gain(.15).shape(.6).release(.05),\n  // perc\n  s(\"[~ hh]*4\").room(\"0 0.5\".fast(2)).end(perlin.range(0.02,1)),\n  s(\"mt lt ht\").struct(\"x(3,8)\").fast(2).gain(.5).room(.5).sometimes(x=>x.speed(\".5\")),\n  s(\"misc:2\").speed(1).delay(.5).delaytime(1/3).gain(.4),\n  // chords\n  chord(\"[~ Gm7] ~ [~ Dm7] ~\")\n  .dict('lefthand').voicing()\n  .add(note(\"0,.1\"))\n  .s('sawtooth').gain(.8)\n  .cutoff(perlin.range(400,3000).slow(8))\n  .decay(perlin.range(0.05,.2)).sustain(0)\n  .delay(.9).room(1),\n  // blips\n  note(\n    \"0 5 4 2\".iter(4)\n    .off(1/3, add(7))\n    .scale('g4 dorian')\n  ).s('square').cutoff(2000).decay(.03).sustain(0)\n  .degradeBy(.2)\n  .orbit(2).delay(.2).delaytime(\".33 | .6 | .166 | .25\")\n  .room(1).gain(.5).mask(\"<0 1>/8\"),\n  // bell\n  note(rand.range(0,12).struct(\"x(5,8,-1)\").scale('g2 minor pentatonic')).s('bell').begin(.05)\n  .delay(.2).degradeBy(.4).gain(.4)\n  .mask(\"<1 0>/8\")\n).slow(5)`;\n\nexport const dinofunk = `// \"Dinofunk\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos\n\nsetcps(1)\n\nsamples({bass:'https://cdn.freesound.org/previews/614/614637_2434927-hq.mp3',\ndino:{b4:'https://cdn.freesound.org/previews/316/316403_5123851-hq.mp3'}})\nsetVoicingRange('lefthand', ['c3','a4'])\n\nstack(\ns('bass').loopAt(8).clip(1),\ns(\"bd*2, ~ sd,hh*4\"),\nchord(\"Abm7\")\n  .mode(\"below:G4\")\n  .dict('lefthand')\n  .voicing()\n  .struct(\"x(3,8,1)\".slow(2)),\n\"0 1 2 3\".scale('ab4 minor pentatonic')\n.superimpose(x=>x.add(.1))\n.sometimes(x=>x.add(12))\n.note().s('sawtooth')\n.cutoff(sine.range(400,2000).slow(16)).gain(.8)\n.decay(perlin.range(.05,.2)).sustain(0)\n.delay(sine.range(0,.5).slow(32))\n.degradeBy(.4).room(1),\nnote(\"<b4 eb4>\").s('dino').delay(.8).slow(8).room(.5)\n)`;\n\nexport const sampleDemo = `// \"Sample demo\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos\n\nstack(\n  // percussion\n  s(\"[woodblock:1 woodblock:2*2] snare_rim:0,gong/8,brakedrum:1(3,8),~@3 cowbell:3\")\n  .sometimes(x=>x.speed(2)),\n  // melody\n  note(\"<0 4 1 3 2>\".off(\".25 | .125\",add(2)).scale('D3 hirajoshi'))\n  .s(\"clavisynth\").gain(.2).delay(.25).jux(rev)\n  .degradeBy(sine.range(0,.5).slow(32)),\n  // bass\n  note(\"<0@3 <2(3,8) 3(3,8)>>\".scale('D1 hirajoshi'))\n  .s('psaltery_pluck').gain(.6).clip(1)\n  .release(.1).room(.5)\n)`;\n\nexport const holyflute = `// \"Holy flute\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos\n\n\"c3 eb3(3,8) c4/2 g3*2\"\n.superimpose(\n  x=>x.slow(2).add(12),\n  x=>x.slow(4).sub(5)\n).add(\"<0 1>/16\")\n.note().s('ocarina_vib').clip(1)\n.release(.1).room(1).gain(.2)\n.color(\"salmon | orange | darkseagreen\")\n.pianoroll({fold:0,autorange:0,vertical:0,cycles:12,smear:0,minMidi:40})\n`;\n\nexport const flatrave = `// \"Flatrave\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos\n\nstack(\n  s(\"bd*2,~ [cp,sd]\").bank('RolandTR909'),\n  \n  s(\"hh:1*4\").sometimes(fast(\"2\"))\n  .rarely(x=>x.speed(\".5\").delay(.5))\n  .end(perlin.range(0.02,.05).slow(8))\n  .bank('RolandTR909').room(.5)\n  .gain(\"0.4,0.4(5,8,-1)\"),\n  \n  note(\"<0 2 5 3>\".scale('G1 minor')).struct(\"x(5,8,-1)\")\n  .s('sawtooth').decay(.1).sustain(0)\n  .lpa(.1).lpenv(-4).lpf(800).lpq(8),\n  \n  note(\"<G4 A4 Bb4 A4>,Bb3,D3\").struct(\"~ x*2\").s('square').clip(1)\n  .cutoff(sine.range(500,4000).slow(16)).resonance(10)\n  .decay(sine.slow(15).range(.05,.2)).sustain(0)\n  .room(.5).gain(.3).delay(.2).mask(\"<0 1@3>/8\"),\n  \n  \"0 5 3 2\".sometimes(slow(2)).off(1/8,add(5)).scale('G4 minor').note()\n  .decay(.05).sustain(0).delay(.2).degradeBy(.5).mask(\"<0 1>/16\")\n)`;\n\nexport const amensister = `// \"Amensister\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos\n\nsamples('github:tidalcycles/dirt-samples')\n\nstack(\n  // amen\n  n(\"0 1 2 3 4 5 6 7\")\n  .sometimes(x=>x.ply(2))\n  .rarely(x=>x.speed(\"2 | -2\"))\n  .sometimesBy(.4, x=>x.delay(\".5\"))\n  .s(\"amencutup\")\n  .slow(2)\n  .room(.5)\n  ,\n  // bass\n  sine.add(saw.slow(4)).range(0,7).segment(8)\n  .superimpose(x=>x.add(.1))\n  .scale('G0 minor').note()\n  .s(\"sawtooth\")\n  .gain(.4).decay(.1).sustain(0)\n  .lpa(.1).lpenv(-4).lpq(10)\n  .cutoff(perlin.range(300,3000).slow(8))\n  .degradeBy(\"0 0.1 .5 .1\")\n  .rarely(add(note(\"12\")))\n  ,\n  // chord\n  note(\"Bb3,D4\".superimpose(x=>x.add(.2)))\n  .s('sawtooth').lpf(1000).struct(\"<~@3 [~ x]>\")\n  .decay(.05).sustain(.0).delay(.8).delaytime(.125).room(.8)\n  ,\n  // alien\n  s(\"breath\").room(1).shape(.6).chop(16).rev().mask(\"<x ~@7>\")\n  ,\n  n(\"0 1\").s(\"east\").delay(.5).degradeBy(.8).speed(rand.range(.5,1.5))\n).reset(\"<x@7 x(5,8,-1)>\")`;\n\nexport const juxUndTollerei = `// \"Jux und tollerei\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos\n\nnote(\"c3 eb3 g3 bb3\").palindrome()\n.s('sawtooth')\n.jux(x=>x.rev().color('green').s('sawtooth'))\n.off(1/4, x=>x.add(note(\"<7 12>/2\")).slow(2).late(.005).s('triangle'))\n.lpf(sine.range(200,2000).slow(8))\n.lpa(.2).lpenv(-2)\n.decay(.05).sustain(0)\n.room(.6)\n.delay(.5).delaytime(.1).delayfeedback(.4)\n.pianoroll()`;\n\nexport const csoundDemo = `// \"CSound demo\"\n// @license with CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos\n\nawait loadCsound\\`\ninstr CoolSynth\n    iduration = p3\n    ifreq = p4\n    igain = p5\n    ioct = octcps(ifreq)\n\n    kpwm = oscili(.05, 8)\n    asig = vco2(igain, ifreq, 4, .5 + kpwm)\n    asig += vco2(igain, ifreq * 2)\n\n    idepth = 2\n    acut = transegr:a(0, .005, 0, idepth, .06, -4.2, 0.001, .01, -4.2, 0) ; filter envelope\n    asig = zdf_2pole(asig, cpsoct(ioct + acut + 2), 0.5)\n\n    iattack = .01\n    isustain = .5\n    idecay = .1\n    irelease = .1\n    asig *= linsegr:a(0, iattack, 1, idecay, isustain, iduration, isustain, irelease, 0)\n    \n    out(asig, asig)\nendin\\`\n\n\"<0 2 [4 6](3,4,2) 3*2>\"\n.off(1/4, add(2))\n.off(1/2, add(6))\n.scale('D minor')\n.note()\n//.pianoroll()\n.csound('CoolSynth')`;\n\nexport const loungeSponge = `// \"Lounge sponge\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos, livecode.orc by Steven Yi\n\nawait loadOrc('github:kunstmusik/csound-live-code/master/livecode.orc')\n\nstack(\n  chord(\"<C^7 A7 Dm7 Fm7>/2\").dict('lefthand').voicing()\n  .cutoff(sine.range(500,2000).round().slow(16))\n  .euclidLegato(3,8).csound('FM1')\n  ,\n  note(\"<C2 A1 D2 F2>/2\").ply(8).csound('Bass').gain(\"1 4 1 4\")\n  ,\n  n(\"0 7 [4 3] 2\".fast(2/3).off(\".25 .125\", add(\"<2 4 -3 -1>\"))\n  .slow(2).scale('A4 minor'))\n  .clip(.25).csound('SynHarp')\n  ,\n  s(\"bd*2,[~ hh]*2,~ cp\").bank('RolandTR909')\n)`;\n\nexport const arpoon = `// \"Arpoon\"\n// @license CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// @by Felix Roos\n\nsamples('github:tidalcycles/dirt-samples')\n\nn(\"[0,3] 2 [1,3] 2\".fast(3).lastOf(4, fast(2))).clip(2)\n  .offset(\"<<1 2> 2 1 1>\")\n  .chord(\"<<Am7 C^7> C7 F^7 [Fm7 E7b9]>\")\n  .dict('lefthand').voicing()\n  .add(perlin.range(0,0.2).add(\"<-12 0>/8\").note())\n  .cutoff(perlin.range(500,4000)).resonance(12)\n  .gain(\"<.5 .8>*16\")\n  .decay(.16).sustain(0.5)\n  .delay(.2)\n  .room(.5).pan(sine.range(.3,.6))\n  .s('piano')\n  .stack(\n    \"<<A1 C2>!2 F2 F2>\"\n    .add.out(\"0 -5\".fast(2))\n    .add(\"0,.12\").note()\n    .s('sawtooth').cutoff(180)\n    .lpa(.1).lpenv(2)\n  )\n  .slow(4)\n  .stack(s(\"bd*4, [~ [hh hh? hh?]]*2,~ [sd ~ [sd:2? bd?]]\").bank('RolandTR909').gain(.5).slow(2))\n`;\n","import { $featuredPatterns, $publicPatterns, collectionName } from '../user_pattern_utils.mjs';\nimport { useStore } from '@nanostores/react';\nimport { useMemo } from 'react';\nimport * as tunes from '../repl/tunes.mjs';\n\nexport const stockPatterns = Object.fromEntries(\n  Object.entries(tunes).map(([key, code], i) => [i, { id: i, code, collection: 'Stock Examples' }]),\n);\n\nexport const useExamplePatterns = () => {\n  const featuredPatterns = useStore($featuredPatterns);\n  const publicPatterns = useStore($publicPatterns);\n  const collections = useMemo(() => {\n    const pats = new Map();\n    pats.set(collectionName.featured, featuredPatterns);\n    pats.set(collectionName.public, publicPatterns);\n    // pats.set(collectionName.stock, stockPatterns);\n    return pats;\n  }, [featuredPatterns, publicPatterns]);\n\n  const patterns = useMemo(() => {\n    return Object.assign({}, ...collections.values());\n  }, [collections]);\n\n  return { patterns, collections };\n};\n","import {\n  exportPatterns,\n  importPatterns,\n  patternFilterName,\n  useActivePattern,\n  useViewingPatternData,\n  userPattern,\n} from '../../../user_pattern_utils.mjs';\nimport { useMemo } from 'react';\nimport { getMetadata } from '../../../metadata_parser.js';\nimport { useExamplePatterns } from '../../useExamplePatterns.jsx';\nimport { parseJSON, isUdels } from '../../util.mjs';\nimport { ButtonGroup } from './Forms.jsx';\nimport { settingsMap, useSettings } from '../../../settings.mjs';\n\nfunction classNames(...classes) {\n  return classes.filter(Boolean).join(' ');\n}\n\nexport function PatternLabel({ pattern } /* : { pattern: Tables<'code'> } */) {\n  const meta = useMemo(() => getMetadata(pattern.code), [pattern]);\n\n  let title = meta.title;\n  if (title == null) {\n    const date = new Date(pattern.created_at);\n    if (!isNaN(date)) {\n      title = date.toLocaleDateString();\n    }\n  }\n  if (title == null) {\n    title = pattern.hash;\n  }\n  if (title == null) {\n    title = 'unnamed';\n  }\n  return <>{`${pattern.id}: ${title} by ${Array.isArray(meta.by) ? meta.by.join(',') : 'Anonymous'}`}</>;\n}\n\nfunction PatternButton({ showOutline, onClick, pattern, showHiglight }) {\n  return (\n    <a\n      className={classNames(\n        'mr-4 hover:opacity-50 cursor-pointer block',\n        showOutline && 'outline outline-1',\n        showHiglight && 'bg-selection',\n      )}\n      onClick={onClick}\n    >\n      <PatternLabel pattern={pattern} />\n    </a>\n  );\n}\n\nfunction PatternButtons({ patterns, activePattern, onClick, started }) {\n  const viewingPatternStore = useViewingPatternData();\n  const viewingPatternData = parseJSON(viewingPatternStore);\n  const viewingPatternID = viewingPatternData.id;\n  return (\n    <div className=\"font-mono text-sm\">\n      {Object.values(patterns)\n        .reverse()\n        .map((pattern) => {\n          const id = pattern.id;\n          return (\n            <PatternButton\n              pattern={pattern}\n              key={id}\n              showHiglight={id === viewingPatternID}\n              showOutline={id === activePattern && started}\n              onClick={() => onClick(id)}\n            />\n          );\n        })}\n    </div>\n  );\n}\n\nfunction ActionButton({ children, onClick, label, labelIsHidden }) {\n  return (\n    <button className=\"hover:opacity-50\" onClick={onClick} title={label}>\n      {labelIsHidden !== true && label}\n      {children}\n    </button>\n  );\n}\n\nexport function PatternsTab({ context }) {\n  const activePattern = useActivePattern();\n  const viewingPatternStore = useViewingPatternData();\n  const viewingPatternData = parseJSON(viewingPatternStore);\n\n  const { userPatterns, patternFilter } = useSettings();\n\n  const examplePatterns = useExamplePatterns();\n  const collections = examplePatterns.collections;\n\n  const updateCodeWindow = (patternData, reset = false) => {\n    context.handleUpdate(patternData, reset);\n  };\n  const viewingPatternID = viewingPatternData?.id;\n\n  const autoResetPatternOnChange = !isUdels();\n\n  return (\n    <div className=\"px-4 w-full dark:text-white text-stone-900 space-y-2 pb-4 flex flex-col overflow-hidden max-h-full\">\n      <ButtonGroup\n        value={patternFilter}\n        onChange={(value) => settingsMap.setKey('patternFilter', value)}\n        items={patternFilterName}\n      ></ButtonGroup>\n      {patternFilter === patternFilterName.user && (\n        <div>\n          <div className=\"pr-4 space-x-4 border-b border-foreground flex max-w-full overflow-x-auto\">\n            <ActionButton\n              label=\"new\"\n              onClick={() => {\n                const { data } = userPattern.createAndAddToDB();\n                updateCodeWindow(data);\n              }}\n            />\n            <ActionButton\n              label=\"duplicate\"\n              onClick={() => {\n                const { data } = userPattern.duplicate(viewingPatternData);\n                updateCodeWindow(data);\n              }}\n            />\n            <ActionButton\n              label=\"delete\"\n              onClick={() => {\n                const { data } = userPattern.delete(viewingPatternID);\n                updateCodeWindow({ ...data, collection: userPattern.collection });\n              }}\n            />\n            <label className=\"hover:opacity-50 cursor-pointer\">\n              <input\n                style={{ display: 'none' }}\n                type=\"file\"\n                multiple\n                accept=\"text/plain,application/json\"\n                onChange={(e) => importPatterns(e.target.files)}\n              />\n              import\n            </label>\n            <ActionButton label=\"export\" onClick={exportPatterns} />\n\n            <ActionButton\n              label=\"delete-all\"\n              onClick={() => {\n                const { data } = userPattern.clearAll();\n                updateCodeWindow(data);\n              }}\n            />\n          </div>\n        </div>\n      )}\n\n      <section className=\"flex overflow-y-scroll max-h-full flex-col\">\n        {patternFilter === patternFilterName.user && (\n          <PatternButtons\n            onClick={(id) =>\n              updateCodeWindow({ ...userPatterns[id], collection: userPattern.collection }, autoResetPatternOnChange)\n            }\n            patterns={userPatterns}\n            started={context.started}\n            activePattern={activePattern}\n            viewingPatternID={viewingPatternID}\n          />\n        )}\n        {patternFilter !== patternFilterName.user &&\n          Array.from(collections.keys()).map((collection) => {\n            const patterns = collections.get(collection);\n            return (\n              <section key={collection} className=\"py-2\">\n                <h2 className=\"text-xl mb-2\">{collection}</h2>\n                <div className=\"font-mono text-sm\">\n                  <PatternButtons\n                    onClick={(id) => updateCodeWindow({ ...patterns[id], collection }, autoResetPatternOnChange)}\n                    started={context.started}\n                    patterns={patterns}\n                    activePattern={activePattern}\n                  />\n                </div>\n              </section>\n            );\n          })}\n      </section>\n    </div>\n  );\n}\n"],"names":["cx","classes","ButtonGroup","value","onChange","items","jsx","key","label","arr","swimming","giantSteps","zeldasRescue","caverave","sampleDrums","barryHarris","blippyRhodes","wavyKalimba","festivalOfFingers","undergroundPlumber","goodTimes","echoPiano","sml1","randomBells","waa2","festivalOfFingers3","meltingsubmarine","bassFuge","chop","delay","orbit","belldub","dinofunk","sampleDemo","holyflute","flatrave","amensister","juxUndTollerei","csoundDemo","loungeSponge","arpoon","tunes","code","i","useExamplePatterns","featuredPatterns","useStore","$featuredPatterns","publicPatterns","$publicPatterns","collections","useMemo","pats","collectionName","classNames","PatternLabel","pattern","meta","getMetadata","title","date","PatternButton","showOutline","onClick","showHiglight","PatternButtons","patterns","activePattern","started","viewingPatternStore","useViewingPatternData","viewingPatternID","parseJSON","id","ActionButton","children","labelIsHidden","PatternsTab","context","useActivePattern","viewingPatternData","userPatterns","patternFilter","useSettings","updateCodeWindow","patternData","reset","autoResetPatternOnChange","isUdels","jsxs","settingsMap","patternFilterName","data","userPattern","e","importPatterns","exportPatterns","collection"],"mappings":"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"}