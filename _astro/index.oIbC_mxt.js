import{_ as C,n as bm,a as F,k as ym,o as om,l as E1,q as x1,t as Am}from"./index.diuTzW_X.js";import{a as bt,c as o1,g as yt}from"./index.Nkt9jjly.js";var x=(m,t)=>Array(Math.abs(t)+1).join(m);function b(m,t,n){return function(...e){return console.warn(`${m} is deprecated. Use ${t}.`),n.apply(this,e)}}function X(m){return m!==null&&typeof m=="object"&&typeof m.name=="string"}function J(m){return m!==null&&typeof m=="object"&&typeof m.step=="number"&&typeof m.alt=="number"}var Nm=[0,2,4,-1,1,3,5],Im=Nm.map(m=>Math.floor(m*7/12));function c1(m){const{step:t,alt:n,oct:e,dir:r=1}=m,o=Nm[t]+7*n;if(e===void 0)return[r*o];const M=e-Im[t]-4*n;return[r*o,r*M]}var At=[3,0,4,1,5,2,6];function d1(m){const[t,n,e]=m,r=At[Nt(t)],o=Math.floor((t+1)/7);if(n===void 0)return{step:r,alt:o,dir:e};const M=n+4*o+Im[r];return{step:r,alt:o,oct:M,dir:e}}function Nt(m){const t=(m+1)%7;return t<0?7+t:t}var $m={empty:!0,name:"",pc:"",acc:""},Mm=new Map,q1=m=>"CDEFGAB".charAt(m),O=m=>m<0?x("b",-m):x("#",m),Q=m=>m[0]==="b"?-m.length:m.length;function d(m){const t=JSON.stringify(m),n=Mm.get(t);if(n)return n;const e=typeof m=="string"?jt(m):J(m)?d(St(m)):X(m)?d(m.name):$m;return Mm.set(t,e),e}var It=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function u1(m){const t=It.exec(m);return[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]}function B1(m){return d(d1(m))}var $t=(m,t)=>(m%t+t)%t,_1=[0,2,4,5,7,9,11];function jt(m){const t=u1(m);if(t[0]===""||t[3]!=="")return $m;const n=t[0],e=t[1],r=t[2],o=(n.charCodeAt(0)+3)%7,M=Q(e),P=r.length?+r:void 0,a=c1({step:o,alt:M,oct:P}),i=n+e+r,s=n+e,u=(_1[o]+M+120)%12,c=P===void 0?$t(_1[o]+M,12)-12*99:_1[o]+M+12*(P+1),l=c>=0&&c<=127?c:null,p=P===void 0?null:Math.pow(2,(c-69)/12)*440;return{empty:!1,acc:e,alt:M,chroma:u,coord:a,freq:p,height:c,letter:n,midi:l,name:i,oct:P,pc:s,step:o}}function St(m){const{step:t,alt:n,oct:e}=m,r=q1(t);if(!r)return"";const o=r+O(n);return e||e===0?o+e:o}var k1={empty:!0,name:"",acc:""},Tt="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",_t="(AA|A|P|M|m|d|dd)([-+]?\\d+)",Ct=new RegExp("^"+Tt+"|"+_t+"$");function L1(m){const t=Ct.exec(`${m}`);return t===null?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}var Pm={};function f(m){return typeof m=="string"?Pm[m]||(Pm[m]=Vt(m)):J(m)?f(Dt(m)):X(m)?f(m.name):k1}var am=[0,2,4,5,7,9,11],jm="PMMPPMM";function Vt(m){const t=L1(m);if(t[0]==="")return k1;const n=+t[0],e=t[1],r=(Math.abs(n)-1)%7,o=jm[r];if(o==="M"&&e==="P")return k1;const M=o==="M"?"majorable":"perfectable",P=""+n+e,a=n<0?-1:1,i=n===8||n===-8?n:a*(r+1),s=wt(M,e),u=Math.floor((Math.abs(n)-1)/7),c=a*(am[r]+s+12*u),l=(a*(am[r]+s)%12+12)%12,p=c1({step:r,alt:s,oct:u,dir:a});return{empty:!1,name:P,num:n,q:e,step:r,alt:s,dir:a,type:M,simple:i,semitones:c,chroma:l,coord:p,oct:u}}function W(m,t){const[n,e=0]=m,r=n*7+e*12<0,o=t||r?[-n,-e,-1]:[n,e,1];return f(d1(o))}function wt(m,t){return t==="M"&&m==="majorable"||t==="P"&&m==="perfectable"?0:t==="m"&&m==="majorable"?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*(m==="perfectable"?t.length:t.length+1):0}function Dt(m){const{step:t,alt:n,oct:e=0,dir:r}=m;if(!r)return"";const o=t+1+7*e,M=o===0?t+1:o,P=r<0?"-":"",a=jm[t]==="M"?"majorable":"perfectable";return P+M+Et(a,n)}function Et(m,t){return t===0?m==="majorable"?"M":"P":t===-1&&m==="majorable"?"m":t>0?x("A",t):x("d",m==="perfectable"?t:t+1)}function h(m,t){const n=d(m),e=Array.isArray(t)?t:f(t).coord;if(n.empty||!e||e.length<2)return"";const r=n.coord,o=r.length===1?[r[0]+e[0]]:[r[0]+e[0],r[1]+e[1]];return B1(o).name}function R(m,t){const n=m.length;return e=>{if(!t)return"";const r=e<0?(n- -e%n)%n:e%n,o=Math.floor(e/n),M=h(t,[0,o]);return h(M,m[r])}}function z(m,t){const n=d(m),e=d(t);if(n.empty||e.empty)return"";const r=n.coord,o=e.coord,M=o[0]-r[0],P=r.length===2&&o.length===2?o[1]-r[1]:-Math.floor(M*7/12),a=e.height===n.height&&e.midi!==null&&n.midi!==null&&n.step>e.step;return W([M,P],a).name}const Sm=Object.freeze(Object.defineProperty({__proto__:null,accToAlt:Q,altToAcc:O,coordToInterval:W,coordToNote:B1,decode:d1,deprecate:b,distance:z,encode:c1,fillStr:x,interval:f,isNamed:X,isPitch:J,note:d,stepToLetter:q1,tokenizeInterval:L1,tokenizeNote:u1,tonicIntervalsTransposer:R,transpose:h},Symbol.toStringTag,{value:"Module"}));var im=(m,t)=>Array(t+1).join(m),xt=/^(_{1,}|=|\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function Tm(m){const t=xt.exec(m);return t?[t[1],t[2],t[3]]:["","",""]}function a1(m){const[t,n,e]=Tm(m);if(n==="")return"";let r=4;for(let M=0;M<e.length;M++)r+=e.charAt(M)===","?-1:1;const o=t[0]==="_"?t.replace(/_/g,"b"):t[0]==="^"?t.replace(/\^/g,"#"):"";return n.charCodeAt(0)>96?n.toUpperCase()+o+(r+1):n+o+r}function _m(m){const t=d(m);if(t.empty||!t.oct&&t.oct!==0)return"";const{letter:n,acc:e,oct:r}=t,o=e[0]==="b"?e.replace(/b/g,"_"):e.replace(/#/g,"^"),M=r>4?n.toLowerCase():n,P=r===5?"":r>4?im("'",r-5):im(",",4-r);return o+M+P}function kt(m,t){return _m(h(a1(m),t))}function Ft(m,t){return z(a1(m),a1(t))}var Ot={abcToScientificNotation:a1,scientificToAbcNotation:_m,tokenize:Tm,transpose:kt,distance:Ft};function Rt(m,t){const n=[];for(;t--;n[t]=t+m);return n}function zt(m,t){const n=[];for(;t--;n[t]=m-t);return n}function Gt(m,t){return m<t?Rt(m,t-m+1):zt(m,m-t+1)}function qt(m,t){const n=t.length,e=(m%n+n)%n;return t.slice(e,n).concat(t.slice(0,e))}function Bt(m){return m.filter(t=>t===0||t)}function Cm(m){return m.map(n=>d(n)).filter(n=>!n.empty).sort((n,e)=>n.height-e.height).map(n=>n.name)}function Lt(m){return Cm(m).filter((t,n,e)=>n===0||t!==e[n-1])}function Ht(m,t=Math.random){let n,e,r=m.length;for(;r;)n=Math.floor(t()*r--),e=m[r],m[r]=m[n],m[n]=e;return m}function Vm(m){return m.length===0?[[]]:Vm(m.slice(1)).reduce((t,n)=>t.concat(m.map((e,r)=>{const o=n.slice();return o.splice(r,0,m[0]),o})),[])}const Ut=Object.freeze(Object.defineProperty({__proto__:null,compact:Bt,permutations:Vm,range:Gt,rotate:qt,shuffle:Ht,sortedNoteNames:Cm,sortedUniqNoteNames:Lt},Symbol.toStringTag,{value:"Module"}));function Kt(m,t){const n=[];for(;t--;n[t]=t+m);return n}function Xt(m,t){const n=[];for(;t--;n[t]=m-t);return n}function l1(m,t){return m<t?Kt(m,t-m+1):Xt(m,m-t+1)}function G(m,t){const n=t.length,e=(m%n+n)%n;return t.slice(e,n).concat(t.slice(0,e))}function H1(m){return m.filter(t=>t===0||t)}function Jt(m,t=Math.random){let n,e,r=m.length;for(;r;)n=Math.floor(t()*r--),e=m[r],m[r]=m[n],m[n]=e;return m}function wm(m){return m.length===0?[[]]:wm(m.slice(1)).reduce((t,n)=>t.concat(m.map((e,r)=>{const o=n.slice();return o.splice(r,0,m[0]),o})),[])}var Qt={compact:H1,permutations:wm,range:l1,rotate:G,shuffle:Jt},V={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},U1=m=>Number(m).toString(2),sm=m=>parseInt(m,2),Wt=/^[01]{12}$/;function K1(m){return Wt.test(m)}var Yt=m=>typeof m=="number"&&m>=0&&m<=4095,Zt=m=>m&&K1(m.chroma),cm={[V.chroma]:V};function v(m){const t=K1(m)?m:Yt(m)?U1(m):Array.isArray(m)?cn(m):Zt(m)?m.chroma:V.chroma;return cm[t]=cm[t]||sn(t)}var mn=b("Pcset.pcset","Pcset.get",v),Dm=m=>v(m).chroma,tn=m=>v(m).intervals,nn=m=>v(m).setNum,en=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function rn(m){const t=[];for(let n=0;n<12;n++)m.charAt(n)==="1"&&t.push(en[n]);return t}function on(){return l1(2048,4095).map(U1)}function X1(m,t=!0){const e=v(m).chroma.split("");return H1(e.map((r,o)=>{const M=G(o,e);return t&&M[0]==="0"?null:M.join("")}))}function Mn(m,t){return v(m).setNum===v(t).setNum}function f1(m){const t=v(m).setNum;return n=>{const e=v(n).setNum;return t&&t!==e&&(e&t)===e}}function h1(m){const t=v(m).setNum;return n=>{const e=v(n).setNum;return t&&t!==e&&(e|t)===e}}function Em(m){const t=v(m);return n=>{const e=d(n);return t&&!e.empty&&t.chroma.charAt(e.chroma)==="1"}}function Pn(m){const t=Em(m);return n=>n.filter(t)}var xm={get:v,chroma:Dm,num:nn,intervals:tn,chromas:on,isSupersetOf:h1,isSubsetOf:f1,isNoteIncludedIn:Em,isEqual:Mn,filter:Pn,modes:X1,pcset:mn};function an(m){const t=m.split("");return t.map((n,e)=>G(e,t).join(""))}function sn(m){const t=sm(m),n=an(m).map(sm).filter(o=>o>=2048).sort()[0],e=U1(n),r=rn(m);return{empty:!1,name:"",setNum:t,chroma:m,normalized:e,intervals:r}}function cn(m){if(m.length===0)return V.chroma;let t;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let e=0;e<m.length;e++)t=d(m[e]),t.empty&&(t=f(m[e])),t.empty||(n[t.chroma]=1);return n.join("")}var dn=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth/ninth","6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],un=dn,ln={...V,name:"",quality:"Unknown",intervals:[],aliases:[]},q=[],T={};function J1(m){return T[m]||ln}var fn=b("ChordType.chordType","ChordType.get",J1);function hn(){return q.map(m=>m.name).filter(m=>m)}function pn(){return q.map(m=>m.aliases[0]).filter(m=>m)}function vn(){return Object.keys(T)}function B(){return q.slice()}var gn=b("ChordType.entries","ChordType.all",B);function bn(){q=[],T={}}function km(m,t,n){const e=An(m),r={...v(m),name:n||"",quality:e,intervals:m,aliases:t};q.push(r),r.name&&(T[r.name]=r),T[r.setNum]=r,T[r.chroma]=r,r.aliases.forEach(o=>yn(r,o))}function yn(m,t){T[t]=m}function An(m){const t=n=>m.indexOf(n)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}un.forEach(([m,t,n])=>km(m.split(" "),n.split(" "),t));q.sort((m,t)=>m.setNum-t.setNum);var Fm={names:hn,symbols:pn,get:J1,all:B,add:km,removeAll:bn,keys:vn,entries:gn,chordType:fn},Nn=m=>{const t=m.reduce((n,e)=>{const r=d(e).chroma;return r!==void 0&&(n[r]=n[r]||d(e).name),n},{});return n=>t[n]};function In(m,t={}){const n=m.map(r=>d(r).pc).filter(r=>r);return d.length===0?[]:Vn(n,1,t).filter(r=>r.weight).sort((r,o)=>o.weight-r.weight).map(r=>r.name)}var p1={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},v1=m=>t=>!!(t&m),$n=v1(p1.anyThirds),jn=v1(p1.perfectFifth),Sn=v1(p1.anySeventh),Tn=v1(p1.nonPerfectFifths);function _n(m){const t=parseInt(m.chroma,2);return $n(t)&&jn(t)&&Sn(t)}function Cn(m){const t=parseInt(m,2);return Tn(t)?m:(t|16).toString(2)}function Vn(m,t,n){const e=m[0],r=d(e).chroma,o=Nn(m),M=X1(m,!1),P=[];return M.forEach((a,i)=>{const s=n.assumePerfectFifth&&Cn(a);B().filter(c=>n.assumePerfectFifth&&_n(c)?c.chroma===s:c.chroma===a).forEach(c=>{const l=c.aliases[0],p=o(i);i!==r?P.push({weight:.5*t,name:`${p}${l}/${e}`}):P.push({weight:1*t,name:`${p}${l}`})})}),P}var wn=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],Dn=wn,En={...V,intervals:[],aliases:[]},g1=[],_={};function Om(){return g1.map(m=>m.name)}function b1(m){return _[m]||En}var xn=b("ScaleDictionary.scaleType","ScaleType.get",b1);function L(){return g1.slice()}var kn=b("ScaleDictionary.entries","ScaleType.all",L);function Fn(){return Object.keys(_)}function On(){g1=[],_={}}function Rm(m,t,n=[]){const e={...v(m),name:t,intervals:m,aliases:n};return g1.push(e),_[e.name]=e,_[e.setNum]=e,_[e.chroma]=e,e.aliases.forEach(r=>Rn(e,r)),e}function Rn(m,t){_[t]=m}Dn.forEach(([m,t,...n])=>Rm(m.split(" "),t,n));var zm={names:Om,get:b1,all:L,add:Rm,removeAll:On,keys:Fn,entries:kn,scaleType:xn},F1={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]},zn=/^(6|64|7|9|11|13)$/;function y1(m){const[t,n,e,r]=u1(m);return t===""?["",m]:t==="A"&&r==="ug"?["","aug"]:!r&&(e==="4"||e==="5")?[t+n,e]:zn.test(e)?[t+n,e+r]:[t+n+e,r]}function E(m){if(m==="")return F1;if(Array.isArray(m)&&m.length===2)return M1(m[1],m[0]);{const[t,n]=y1(m),e=M1(n,t);return e.empty?M1(m):e}}function M1(m,t,n){const e=J1(m),r=d(t||""),o=d(n||"");if(e.empty||t&&r.empty||n&&o.empty)return F1;const M=z(r.pc,o.pc),P=e.intervals.indexOf(M)+1;if(!o.empty&&!P)return F1;const a=Array.from(e.intervals);for(let c=1;c<P;c++){const l=a[0][0],p=a[0][1],S=parseInt(l,10)+7;a.push(`${S}${p}`),a.shift()}const i=r.empty?[]:a.map(c=>h(r,c));m=e.aliases.indexOf(m)!==-1?m:e.aliases[0];const s=`${r.empty?"":r.pc}${m}${o.empty||P<=1?"":"/"+o.pc}`,u=`${t?r.pc+" ":""}${e.name}${P>1&&n?" over "+o.pc:""}`;return{...e,name:u,symbol:s,type:e.name,root:o.name,intervals:a,rootDegree:P,tonic:r.name,notes:i}}var Gn=b("Chord.chord","Chord.get",E);function qn(m,t){const[n,e]=y1(m);return n?h(n,t)+e:m}function Bn(m){const t=E(m),n=h1(t.chroma);return L().filter(e=>n(e.chroma)).map(e=>e.name)}function Ln(m){const t=E(m),n=h1(t.chroma);return B().filter(e=>n(e.chroma)).map(e=>t.tonic+e.aliases[0])}function Hn(m){const t=E(m),n=f1(t.chroma);return B().filter(e=>n(e.chroma)).map(e=>t.tonic+e.aliases[0])}function Un(m){const{intervals:t,tonic:n}=E(m),e=R(t,n);return r=>r?e(r>0?r-1:r):""}function Kn(m){const{intervals:t,tonic:n}=E(m);return R(t,n)}var Xn={getChord:M1,get:E,detect:In,chordScales:Bn,extended:Ln,reduced:Hn,tokenize:y1,transpose:qn,degrees:Un,steps:Kn,chord:Gn},Jn=[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]],Qn=Jn,A1=[];Qn.forEach(([m,t,n])=>re(m,t,n));var Wn={empty:!0,name:"",value:0,fraction:[0,0],shorthand:"",dots:"",names:[]};function Yn(){return A1.reduce((m,t)=>(t.names.forEach(n=>m.push(n)),m),[])}function Zn(){return A1.map(m=>m.shorthand)}var me=/^([^.]+)(\.*)$/;function Q1(m){const[t,n,e]=me.exec(m)||[],r=A1.find(P=>P.shorthand===n||P.names.includes(n));if(!r)return Wn;const o=oe(r.fraction,e.length),M=o[0]/o[1];return{...r,name:m,dots:e,value:M,fraction:o}}var te=m=>Q1(m).value,ne=m=>Q1(m).fraction,ee={names:Yn,shorthands:Zn,get:Q1,value:te,fraction:ne};function re(m,t,n){A1.push({empty:!1,dots:"",name:"",value:1/m,fraction:m<1?[1/m,1]:[1,m],shorthand:t,names:n})}function oe(m,t){const n=Math.pow(2,t);let e=m[0]*n,r=m[1]*n;const o=e;for(let M=0;M<t;M++)e+=o/Math.pow(2,M+1);for(;e%2===0&&r%2===0;)e/=2,r/=2;return[e,r]}function Me(){return"1P 2M 3M 4P 5P 6m 7m".split(" ")}var Gm=f,Pe=m=>f(m).name,ae=m=>f(m).semitones,ie=m=>f(m).q,se=m=>f(m).num;function qm(m){const t=f(m);return t.empty?"":t.simple+t.q}function ce(m){const t=f(m);if(t.empty)return"";const n=(7-t.step)%7,e=t.type==="perfectable"?-t.alt:-(t.alt+1);return f({step:n,alt:e,oct:t.oct,dir:t.dir}).name}var de=[1,2,2,3,3,4,5,5,6,6,7,7],ue="P m M m M P d P m M m M".split(" ");function le(m){const t=m<0?-1:1,n=Math.abs(m),e=n%12,r=Math.floor(n/12);return t*(de[e]+7*r)+ue[e]}var fe=z,Bm=Hm((m,t)=>[m[0]+t[0],m[1]+t[1]]),he=m=>t=>Bm(m,t),pe=Hm((m,t)=>[m[0]-t[0],m[1]-t[1]]);function Lm(m,t){const n=Gm(m);if(n.empty)return"";const[e,r,o]=n.coord;return W([e+t,r,o]).name}var K={names:Me,get:Gm,name:Pe,num:se,semitones:ae,quality:ie,fromSemitones:le,distance:fe,invert:ce,simplify:qm,add:Bm,addTo:he,substract:pe,transposeFifths:Lm};function Hm(m){return(t,n)=>{const e=f(t).coord,r=f(n).coord;if(e&&r){const o=m(e,r);return W(o).name}}}function Um(m){return+m>=0&&+m<=127}function Km(m){if(Um(m))return+m;const t=d(m);return t.empty?null:t.midi}function ve(m,t=440){return Math.pow(2,(m-69)/12)*t}var ge=Math.log(2),be=Math.log(440);function W1(m){const t=12*(Math.log(m)-be)/ge+69;return Math.round(t*100)/100}var ye="C C# D D# E F F# G G# A A# B".split(" "),Ae="C Db D Eb E F Gb G Ab A Bb B".split(" ");function j(m,t={}){if(isNaN(m)||m===-1/0||m===1/0)return"";m=Math.round(m);const e=(t.sharps===!0?ye:Ae)[m%12];if(t.pitchClass)return e;const r=Math.floor(m/12)-1;return e+r}function Y1(m){return m%12}function Ne(m){return m.split("").reduce((t,n,e)=>(e<12&&n==="1"&&t.push(e),t),[])}function Ie(m){return m.map(Y1).sort((t,n)=>t-n).filter((t,n,e)=>n===0||t!==e[n-1])}function Z1(m){return Array.isArray(m)?Ie(m):Ne(m)}function $e(m){const t=Z1(m);return n=>{const e=Y1(n);for(let r=0;r<12;r++){if(t.includes(e+r))return n+r;if(t.includes(e-r))return n-r}}}function Xm(m,t){const n=Z1(m),e=n.length;return r=>{const o=r<0?(e- -r%e)%e:r%e,M=Math.floor(r/e);return n[o]+M*12+t}}function je(m,t){const n=Xm(m,t);return e=>{if(e!==0)return n(e>0?e-1:e)}}var Se={chroma:Y1,freqToMidi:W1,isMidi:Um,midiToFreq:ve,midiToNoteName:j,pcsetNearest:$e,pcset:Z1,pcsetDegrees:je,pcsetSteps:Xm,toMidi:Km},Te=["C","D","E","F","G","A","B"],Jm=m=>m.name,Qm=m=>m.map(d).filter(t=>!t.empty);function _e(m){return m===void 0?Te.slice():Array.isArray(m)?Qm(m).map(Jm):[]}var A=d,Ce=m=>A(m).name,Ve=m=>A(m).pc,we=m=>A(m).acc,De=m=>A(m).oct,Ee=m=>A(m).midi,xe=m=>A(m).freq,ke=m=>A(m).chroma;function Wm(m){return j(m)}function Fe(m){return j(W1(m))}function Oe(m){return j(W1(m),{sharps:!0})}function Re(m){return j(m,{sharps:!0})}var Y=h,ze=h,Ym=m=>t=>Y(t,m),Ge=Ym,Zm=m=>t=>Y(m,t),qe=Zm;function i1(m,t){return Y(m,[t,0])}var Be=i1;function Le(m,t){return Y(m,[0,t])}var mm=(m,t)=>m.height-t.height,He=(m,t)=>t.height-m.height;function mt(m,t){return t=t||mm,Qm(m).sort(t).map(Jm)}function tt(m){return mt(m,mm).filter((t,n,e)=>n===0||t!==e[n-1])}var Ue=m=>{const t=A(m);return t.empty?"":j(t.midi||t.chroma,{sharps:t.alt>0,pitchClass:t.midi===null})};function nt(m,t){const n=A(m);if(n.empty)return"";const e=A(t||j(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(e.empty||e.chroma!==n.chroma)return"";if(n.oct===void 0)return e.pc;const r=n.chroma-n.alt,o=e.chroma-e.alt,M=r>11||o<0?-1:r<0||o>11?1:0,P=n.oct+M;return e.pc+P}var w={names:_e,get:A,name:Ce,pitchClass:Ve,accidentals:we,octave:De,midi:Ee,ascending:mm,descending:He,sortedNames:mt,sortedUniqNames:tt,fromMidi:Wm,fromMidiSharps:Re,freq:xe,fromFreq:Fe,fromFreqSharps:Oe,chroma:ke,transpose:Y,tr:ze,transposeBy:Ym,trBy:Ge,transposeFrom:Zm,trFrom:qe,transposeFifths:i1,transposeOctaves:Le,trFifths:Be,simplify:Ue,enharmonic:nt},et={empty:!0,name:"",chordType:""},dm={};function $(m){return typeof m=="string"?dm[m]||(dm[m]=Ze(m)):typeof m=="number"?$(N1[m]||""):J(m)?Je(m):X(m)?$(m.name):et}var Ke=b("RomanNumeral.romanNumeral","RomanNumeral.get",$);function Xe(m=!0){return(m?N1:Ye).slice()}function Je(m){return $(O(m.alt)+N1[m.step])}var Qe=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function We(m){return Qe.exec(m)||["","","",""]}var rt="I II III IV V VI VII",N1=rt.split(" "),Ye=rt.toLowerCase().split(" ");function Ze(m){const[t,n,e,r]=We(m);if(!e)return et;const o=e.toUpperCase(),M=N1.indexOf(o),P=Q(n),a=1;return{empty:!1,name:t,roman:e,interval:f({step:M,alt:P,dir:a}).name,acc:n,chordType:r,alt:P,step:M,major:e===o,oct:0,dir:a}}var mr={names:Xe,get:$,romanNumeral:Ke},g=Object.freeze([]),ot={type:"major",tonic:"",alteration:0,keySignature:""},P1={tonic:"",grades:g,intervals:g,scale:g,triads:g,chords:g,chordsHarmonicFunction:g,chordScales:g},tr={...ot,...P1,type:"major",minorRelative:"",scale:g,secondaryDominants:g,secondaryDominantsMinorRelative:g,substituteDominants:g,substituteDominantsMinorRelative:g},nr={...ot,type:"minor",relativeMajor:"",natural:P1,harmonic:P1,melodic:P1},C1=(m,t,n="")=>t.map((e,r)=>`${m[r]}${n}${e}`);function I1(m,t,n,e,r){return o=>{const M=m.map(a=>$(a).interval||""),P=M.map(a=>h(o,a));return{tonic:o,grades:m,intervals:M,scale:P,triads:C1(P,t),chords:C1(P,n),chordsHarmonicFunction:e.slice(),chordScales:C1(P,r," ")}}}var Mt=(m,t)=>{const n=d(m),e=d(t);return n.empty||e.empty?0:e.coord[0]-n.coord[0]},er=I1("I II III IV V VI VII".split(" ")," m m   m dim".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")),rr=I1("I II bIII IV V bVI bVII".split(" "),"m dim  m m  ".split(" "),"m7 m7b5 maj7 m7 m7 maj7 7".split(" "),"T SD T SD D SD SD".split(" "),"minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")),or=I1("I II bIII IV V bVI VII".split(" "),"m dim aug m   dim".split(" "),"mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),"T SD T SD D SD D".split(" "),"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(",")),Mr=I1("I II bIII IV V VI VII".split(" "),"m m aug   dim dim".split(" "),"m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),"T SD T SD D  ".split(" "),"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(","));function Pr(m){const t=d(m).pc;if(!t)return tr;const n=er(t),e=Mt("C",t),r=o=>{const M=$(o);return M.empty?"":h(m,M.interval)+M.chordType};return{...n,type:"major",minorRelative:h(t,"-3m"),alteration:e,keySignature:O(e),secondaryDominants:"- VI7 VII7 I7 II7 III7 -".split(" ").map(r),secondaryDominantsMinorRelative:"- IIIm7b5 IV#m7 Vm7 VIm7 VIIm7b5 -".split(" ").map(r),substituteDominants:"- bIII7 IV7 bV7 bVI7 bVII7 -".split(" ").map(r),substituteDominantsMinorRelative:"- IIIm7 Im7 IIbm7 VIm7 IVm7 -".split(" ").map(r)}}function ar(m){const t=d(m).pc;if(!t)return nr;const n=Mt("C",t)-3;return{type:"minor",tonic:t,relativeMajor:h(t,"3m"),alteration:n,keySignature:O(n),natural:rr(t),harmonic:or(t),melodic:Mr(t)}}function ir(m){return typeof m=="number"?i1("C",m):typeof m=="string"&&/^b+|#+$/.test(m)?i1("C",Q(m)):null}var sr={majorKey:Pr,majorTonicFromKeySignature:ir,minorKey:ar},tm=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],um={...V,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},nm=tm.map(lr),O1={};nm.forEach(m=>{O1[m.name]=m,m.aliases.forEach(t=>{O1[t]=m})});function D(m){return typeof m=="string"?O1[m.toLowerCase()]||um:m&&m.name?D(m.name):um}var cr=b("Mode.mode","Mode.get",D);function Pt(){return nm.slice()}var dr=b("Mode.mode","Mode.all",Pt);function ur(){return nm.map(m=>m.name)}function lr(m){const[t,n,e,r,o,M,P]=m,a=P?[P]:[],i=Number(n).toString(2);return{empty:!1,intervals:b1(r).intervals,modeNum:t,chroma:i,normalized:i,name:r,setNum:n,alt:e,triad:o,seventh:M,aliases:a}}function fr(m,t){return D(m).intervals.map(n=>h(t,n))}function at(m){return(t,n)=>{const e=D(t);if(e.empty)return[];const r=G(e.modeNum,m),o=e.intervals.map(M=>h(n,M));return r.map((M,P)=>o[P]+M)}}var hr=at(tm.map(m=>m[4])),pr=at(tm.map(m=>m[5]));function it(m,t){const n=D(t),e=D(m);return n.empty||e.empty?"":qm(Lm("1P",e.alt-n.alt))}function vr(m,t,n){return h(n,it(m,t))}var gr={get:D,names:ur,all:Pt,distance:it,relativeTonic:vr,notes:fr,triads:hr,seventhChords:pr,entries:dr,mode:cr};function br(m,t){return t.map($).map(e=>h(m,f(e))+e.chordType)}function yr(m,t){return t.map(n=>{const[e,r]=y1(n),o=z(m,e);return $(f(o)).name+r})}var Ar={fromRomanNumerals:br,toRomanNumerals:yr};function st(m){const t=H1(m.map(n=>typeof n=="number"?n:Km(n)));return!m.length||t.length!==m.length?[]:t.reduce((n,e)=>{const r=n[n.length-1];return n.concat(l1(r,e).slice(1))},[t[0]])}function Nr(m,t){return st(m).map(n=>j(n,t))}var Ir={numeric:st,chromatic:Nr},$r={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function ct(m){if(typeof m!="string")return["",""];const t=m.indexOf(" "),n=d(m.substring(0,t));if(n.empty){const r=d(m);return r.empty?["",m]:[r.name,""]}const e=m.substring(n.name.length+1);return[n.name,e.length?e:""]}var jr=Om;function I(m){const t=Array.isArray(m)?m:ct(m),n=d(t[0]).name,e=b1(t[1]);if(e.empty)return $r;const r=e.name,o=n?e.intervals.map(P=>h(n,P)):[],M=n?n+" "+r:r;return{...e,name:M,type:r,tonic:n,notes:o}}var Sr=b("Scale.scale","Scale.get",I);function Tr(m,t={}){const n=Dm(m),e=d(t.tonic??m[0]??""),r=e.chroma;if(r===void 0)return[];const o=n.split("");o[r]="1";const M=G(r,o).join(""),P=L().find(i=>i.chroma===M),a=[];return P&&a.push(e.name+" "+P.name),t.match==="exact"||dt(M).forEach(i=>{a.push(e.name+" "+i)}),a}function _r(m){const t=I(m),n=f1(t.chroma);return B().filter(e=>n(e.chroma)).map(e=>e.aliases[0])}function dt(m){const t=K1(m)?m:I(m).chroma,n=h1(t);return L().filter(e=>n(e.chroma)).map(e=>e.name)}function Cr(m){const t=f1(I(m).chroma);return L().filter(n=>t(n.chroma)).map(n=>n.name)}function ut(m){const t=m.map(r=>d(r).pc).filter(r=>r),n=t[0],e=tt(t);return G(e.indexOf(n),e)}function Vr(m){const t=I(m);if(t.empty)return[];const n=t.tonic?t.notes:t.intervals;return X1(t.chroma).map((e,r)=>{const o=I(e).name;return o?[n[r],o]:["",""]}).filter(e=>e[0])}function wr(m){const t=Array.isArray(m)?ut(m):I(m).notes,n=t.map(e=>d(e).chroma);return e=>{const r=d(typeof e=="number"?Wm(e):e),o=r.height;if(o===void 0)return;const M=o%12,P=n.indexOf(M);if(P!==-1)return nt(r.name,t[P])}}function Dr(m){const t=wr(m);return(n,e)=>{const r=d(n).height,o=d(e).height;return r===void 0||o===void 0?[]:l1(r,o).map(t).filter(M=>M)}}function Er(m){const{intervals:t,tonic:n}=I(m),e=R(t,n);return r=>r?e(r>0?r-1:r):""}function xr(m){const{intervals:t,tonic:n}=I(m);return R(t,n)}var k={degrees:Er,detect:Tr,extended:dt,get:I,modeNames:Vr,names:jr,rangeOf:Dr,reduced:Cr,scaleChords:_r,scaleNotes:ut,steps:xr,tokenize:ct,scale:Sr},kr={empty:!0,name:"",upper:void 0,lower:void 0,type:void 0,additive:[]},Fr=["4/4","3/4","2/4","2/2","12/8","9/8","6/8","3/8"];function Or(){return Fr.slice()}var Rr=/^(\d*\d(?:\+\d)*)\/(\d+)$/,lm=new Map;function zr(m){const t=JSON.stringify(m),n=lm.get(t);if(n)return n;const e=Br(em(m));return lm.set(t,e),e}function em(m){if(typeof m=="string"){const[o,M,P]=Rr.exec(m)||[];return em([M,P])}const[t,n]=m,e=+n;if(typeof t=="number")return[t,e];const r=t.split("+").map(o=>+o);return r.length===1?[r[0],e]:[r,e]}var Gr={names:Or,parse:em,get:zr},qr=m=>Math.log(m)/Math.log(2)%1===0;function Br([m,t]){const n=Array.isArray(m)?m.reduce((P,a)=>P+a,0):m,e=t;if(n===0||e===0)return kr;const r=Array.isArray(m)?`${m.join("+")}/${t}`:`${m}/${t}`,o=Array.isArray(m)?m:[],M=e===4||e===2?"simple":e===8&&n%3===0?"compound":qr(e)?"irregular":"irrational";return{empty:!1,name:r,type:M,upper:n,lower:e,additive:o}}var Lr=Sm,Hr=xm,Ur=Fm,Kr=zm;const Xr=Object.freeze(Object.defineProperty({__proto__:null,AbcNotation:Ot,Array:Ut,Chord:Xn,ChordDictionary:Ur,ChordType:Fm,Collection:Qt,Core:Sm,DurationValue:ee,Interval:K,Key:sr,Midi:Se,Mode:gr,Note:w,PcSet:Hr,Pcset:xm,Progression:Ar,Range:Ir,RomanNumeral:mr,Scale:k,ScaleDictionary:Kr,ScaleType:zm,TimeSignature:Gr,Tonal:Lr,accToAlt:Q,altToAcc:O,coordToInterval:W,coordToNote:B1,decode:d1,deprecate:b,distance:z,encode:c1,fillStr:x,interval:f,isNamed:X,isPitch:J,note:d,stepToLetter:q1,tokenizeInterval:L1,tokenizeNote:u1,tonicIntervalsTransposer:R,transpose:h},Symbol.toStringTag,{value:"Module"})),Jr=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],Qr=["c","db","d","eb","e","f","gb","g","ab","a","bb","b"],Wr=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Yr={b:-1,"#":1},Zr=m=>{const[t,...n]=m.split("");return Qr.indexOf(t.toLowerCase())+n.reduce((e,r)=>e+Yr[r],0)};function mo(m){const t=(m||"").match(/^([A-G][b#]*)([^/]*)[/]?([A-G][b#]*)?$/);return t?t.slice(1):[]}const R1=m=>m%12,lt=m=>{let t=Number(m);return isNaN(t)?K.semitones(m):t},z1=(m,t)=>{if(typeof m=="number")return m;if(typeof m=="string")return bm(m,t)},to=(m,t=!1)=>{const n=Math.floor(m/12)-1;return(t?Wr:Jr)[m%12]+n};function no(m,t,n=1){m=m.map(r=>typeof r=="string"?bm(r):r);const e=Math.floor(t/m.length)*n*12;return t=C(t,m.length),m[t]+e}function eo(m,t,n){let e=0,r=1/0;return t.forEach((o,M)=>{const P=Math.abs(o-m);(!n&&P<r||n&&P<=r)&&(e=M,r=P)}),e}let V1={};function ro(m,t,n,e){let[r,o]=k.tokenize(t);const M=z1(r),P=R1(M);if(!V1[o]){let{intervals:c}=k.get(`C ${o}`);V1[o]=c.map(lt)}const a=V1[o];if(!a)return null;let i=M;if(n){n=z1(n,3);const c=R1(n),l=C(c-P,12),p=eo(l,a,e);m=m+p,i=n-l}const s=Math.floor(m/a.length)*12;return m=C(m,a.length),a[m]+i+s}let fm={below:m=>m.slice(-1)[0],duck:m=>m.slice(-1)[0],above:m=>m[0],root:m=>m[0]};function oo({chord:m,dictionary:t,offset:n=0,n:e,mode:r="below",anchor:o="c5",octaves:M=1}){const[P,a]=mo(m),i=Zr(P);o=z1(o?.note||o,4);const s=R1(o),u=t[a].map(N=>(typeof N=="string"?N.split(" "):N).map(lt));let c,l,p=u.map((N,S1)=>{const gt=fm[r](N),T1=C(s-gt-i,12);return(c===void 0||T1<c)&&(c=T1,l=S1),T1});r==="root"&&(l=0);const S=Math.ceil(n/u.length)*12,n1=C(l+n,u.length),e1=u[n1],y=fm[r](e1),j1=o-p[n1]+S,rm=e1.map(N=>j1-y+N);let r1=rm.map(N=>to(N));return r==="duck"&&(r1=r1.filter((N,S1)=>rm[S1]!==o)),e!==void 0?[no(r1,e,M)]:r1}const Mo=m=>(m<=0?-1:1)+m*7+"P";function Po(m,t){t=t.replaceAll(":"," "),m=Math.ceil(m);let{intervals:n,tonic:e,empty:r}=k.get(t);if(r&&ym(t)||!r&&!e)throw new Error('incomplete scale. Make sure to use ":" instead of spaces, example: .scale("C:major")');if(r)throw new Error(`invalid scale "${t}"`);e=e||"C";const{pc:o,oct:M=3}=w.get(e),P=Math.floor(m/n.length),a=C(m,n.length),i=K.add(n[a],Mo(P));return w.transpose(o+M,i)}function ao(m,t,n){let[e,r]=k.tokenize(m),{notes:o}=k.get(`${e} ${r}`);if(o=o.map(l=>w.get(l).pc),t=Number(t),isNaN(t))throw new Error(`scale offset "${t}" not a number`);const{pc:M,oct:P=3}=w.get(n),a=o.indexOf(M);if(a===-1)throw new Error(`note "${n}" is not in scale "${m}"`);let i=a,s=P,u=M;const c=Math.sign(t);for(;Math.abs(i-a)<Math.abs(t);){i+=c;const l=C(i,o.length);c<0&&u[0]==="C"&&(s+=c),u=o[l],c>0&&u[0]==="C"&&(s+=c)}return u+s}const Io=F("transpose",function(m,t){return t.withHap(n=>{const e=isNaN(Number(m))?String(m):K.fromSemitones(m);if(typeof n.value=="number"){const r=typeof e=="string"?K.semitones(e)||0:e;return n.withValue(()=>n.value+r)}return n.withValue(()=>w.simplify(w.transpose(n.value,e)))})}),$o=F("scaleTranspose",function(m,t){return t.withHap(n=>{if(!n.context.scale)throw new Error("can only use scaleTranspose after .scale");if(typeof n.value!="string")throw new Error("can only use scaleTranspose with notes");return n.withValue(()=>ao(n.context.scale,Number(m),n.value))})}),jo=F("scale",function(m,t){return Array.isArray(m)&&(m=m.flat().join(" ")),t.fmap(n=>{const e=typeof n=="object";let r=e?n.n:n;if(e&&delete n.n,ym(r))return om(r);const o=Number(r);if(isNaN(o))return E1(`[tonal] invalid scale step "${r}", expected number`,"error"),x1;try{let M;n.anchor?M=ro(o,m,n.anchor):M=Po(o,m),n=om(e?{...n,note:M}:M)}catch(M){E1(`[tonal] ${M.message}`,"error"),n=x1}return n}).outerJoin().withHap(n=>n.setContext({...n.context,scale:m}))});var ft={},w1={},Z={};Z.__esModule=!0;Z.getBestVoicing=void 0;function io(m){var t=m.chord,n=m.range,e=m.finder,r=m.picker,o=m.lastVoicing,M=e(t,n);return M.length?r(M,o):[]}Z.getBestVoicing=io;var H={};const ht=bt(Xr);var m1={};m1.__esModule=!0;m1.tokenizeChord=void 0;function so(m){var t=(m||"").match(/^([A-G][b#]*)([^\/]*)[\/]?([A-G][b#]*)?$/);return t?t.slice(1):[]}m1.tokenizeChord=so;var hm;function co(){if(hm)return H;hm=1,H.__esModule=!0,H.voicingsInRange=void 0;var m=ht,t=pt(),n=m1;function e(r,o,M){o===void 0&&(o=t.lefthand),M===void 0&&(M=["D3","A4"]);var P=(0,n.tokenizeChord)(r),a=P[0],i=P[1];if(!o[i])return[];var s=o[i].map(function(c){return c.split(" ")}),u=m.Range.chromatic(M);return s.reduce(function(c,l){var p=l.map(function(y){return m.Interval.substract(y,l[0])}),S=m.Note.transpose(a,l[0]),n1=u.filter(function(y){return m.Note.chroma(y)===m.Note.chroma(S)}).filter(function(y){return m.Note.midi(m.Note.transpose(y,p[p.length-1]))<=m.Note.midi(M[1])}).map(function(y){return m.Note.enharmonic(y,S)}),e1=n1.map(function(y){return p.map(function(j1){return m.Note.transpose(y,j1)})});return c.concat(e1)},[])}return H.voicingsInRange=e,H}var pm;function pt(){return pm||(pm=1,function(m){var t=o1&&o1.__assign||function(){return t=Object.assign||function(P){for(var a,i=1,s=arguments.length;i<s;i++){a=arguments[i];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(P[u]=a[u])}return P},t.apply(this,arguments)},n=o1&&o1.__rest||function(P,a){var i={};for(var s in P)Object.prototype.hasOwnProperty.call(P,s)&&a.indexOf(s)<0&&(i[s]=P[s]);if(P!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(P);u<s.length;u++)a.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(P,s[u])&&(i[s[u]]=P[s[u]]);return i};m.__esModule=!0,m.dictionaryVoicing=m.dictionaryVoicingFinder=m.triads=m.guidetones=m.lefthand=void 0;var e=Z,r=co();m.lefthand={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},m.guidetones={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},m.triads={M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]};var o=function(P){return function(a,i){return(0,r.voicingsInRange)(a,P,i)}};m.dictionaryVoicingFinder=o;var M=function(P){var a=P.dictionary,i=P.range,s=n(P,["dictionary","range"]);return(0,e.getBestVoicing)(t(t({},s),{range:i,finder:(0,m.dictionaryVoicingFinder)(a)}))};m.dictionaryVoicing=M}(w1)),w1}var $1={};$1.__esModule=!0;$1.minTopNoteDiff=void 0;var vm=ht;function uo(m,t){if(!t)return m[0];var n=function(e){return Math.abs(vm.Note.midi(t[t.length-1])-vm.Note.midi(e[e.length-1]))};return m.reduce(function(e,r){return n(r)<n(e)?r:e},m[0])}$1.minTopNoteDiff=uo;(function(m){m.__esModule=!0;var t=pt(),n=$1,e=Z,r=m1;m.default={tokenizeChord:r.tokenizeChord,getBestVoicing:e.getBestVoicing,dictionaryVoicing:t.dictionaryVoicing,dictionaryVoicingFinder:t.dictionaryVoicingFinder,lefthand:t.lefthand,guidetones:t.guidetones,triads:t.triads,minTopNoteDiff:n.minTopNoteDiff}})(ft);const gm=yt(ft),U={2:["1P 5P 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P"],5:["1P 5P 8P 12P","5P 8P 12P 15P"],6:["1P 5P 6M 8P 10M","1P 5P 8P 10M 13M","3M 5P 8P 10M 13M","5P 8P 10M 12P 13M"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M"],9:["1P 5P 7m 9M 10M","1P 7m 9M 10M 12P","3M 7m 8P 9M 12P","7m 9M 10M 14m 15P","3M 7m 8P 12P 16M","7m 10M 12P 15P 16M"],11:["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],13:["1P 6M 7m 9M 10M","1P 7m 9M 10M 13M","3M 7m 8P 9M 13M","7m 8P 9M 10M 13M","7m 9M 10M 13M 15P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 8P 9M 13M","5P 8P 9M 10M 13M"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 12P 17M"],"+":["1P 3M 6m 8P 10M","1P 6m 8P 10M 13m","3M 6m 8P 10M 13m","3M 8P 10M 13m 15P","6m 8P 10M 13m 15P","6m 10M 13m 15P 17M"],o:["1P 5d 8P 10m 12d","3m 8P 10m 12d 15P","5d 8P 10m 12d 15P"],h:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P","1P 4P 5P 8P 11P","5P 8P 11P 12P","5P 8P 11P 12P 15P"],"^":["1P 5P 8P 10M","1P 5P 8P 10M 12P","3M 5P 8P 10M 12P","3M 8P 10M 12P 15P","5P 8P 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 5P 8P 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 5P 7M 10M 12P","1P 10M 12P 14M","3M 8P 10M 12P 14M","5P 8P 10M 12P 14M","5P 8P 10M 14M 17M"],"-7":["1P 3m 5P 7m 10m","1P 5P 7m 10m 12P","3m 7m 8P 10m 12P","3m 7m 8P 10m 14m","5P 7m 8P 10m 14m","7m 10m 12P 14m 15P","5P 8P 10m 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 5P 7m 8P 11P","5P 8P 11P 12P 14m","7m 8P 11P 12P 14m","7m 11P 12P 14m 18P"],h7:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 5P 7M 9M 10M","1P 7M 9M 10M 12P","3M 7M 8P 9M 12P","3M 7M 8P 12P 16M","5P 8P 10M 14M 16M","7M 8P 10M 12P 16M"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 8P 13M 16M","7M 8P 10M 13M 16M"],"^7#11":["1P 5P 7M 10M 12d","3M 7M 8P 10M 12d","1P 7M 10M 12d 14M","3M 7M 8P 12d 14M","5P 8P 10M 12d 14M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 8P 9M 12d","3M 8P 9M 12d 14M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 8P 10M 13m","6m 7M 8P 10M 13m"],"-6":["1P 3m 5P 6M 8P","1P 5P 6M 8P 10m","3m 5P 6M 8P 10m","1P 5P 8P 10m 13M","3m 5P 8P 10m 13M","5P 8P 10m 12P 13M","5P 8P 10m 13M 15P"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 10m","1P 5P 7M 10m 12P","3m 7M 8P 10m 12P","5P 7M 8P 10m 14M","5P 8P 10m 14M 17m"],"-^9":["1P 3m 5P 7M 9M","1P 7M 9M 10m 12P","3m 7M 8P 9M 12P","5P 8P 9M 10m 14M"],"-9":["1P 3m 5P 7m 9M","3m 5P 7m 8P 9M","3m 7m 8P 9M 12P","5P 8P 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 12P 15P 16M"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["1P 3m 7m 9M 11P","3m 7m 8P 9M 11P","1P 4P 7m 10m 12P","5P 8P 11P 14m","3m 7m 9M 11P 15P","5P 8P 11P 14m 16M","7m 10m 12P 15P 18P"],"-7b5":["3m 5d 7m 8P 10m","1P 7m 10m 12d","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["1P 7m 9M 10m 12d","3m 7m 8P 9M 12d","5d 8P 9M 10m 14m","7m 10m 12d 15P 16M"],"-b6":["1P 5P 6m 8P 10m","1P 5P 8P 10m 13m","3m 5P 8P 10m 13m","5P 8P 10m 13m","5P 8P 10m 13m 15P"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 10m 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 8P 10m 14m","7m 10m 10M 14m 15P"],"7#11":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7b5":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"7#9#5":["1P 3M 7m 10m 13m","3M 7m 10m 13m 15P","7m 10M 13m 15P 17m"],"7#9b5":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7#9#11":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7b9#11":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9b5":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 8P 9m 10m","7m 8P 10M 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7alt":["3M 7m 8P 9m 12d","1P 7m 10m 10M 13m","3M 7m 8P 10m 13m","3M 7m 9m 12d 15P","3M 7m 10m 13m 15P","7m 10M 12d 15P 17m","7m 10M 13m 15P 17m"],"13#11":["1P 6M 7m 10M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["1P 3M 6M 7m 9m","1P 6M 7m 9m 10M","3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["1P 3M 6M 7m 10m","3M 7m 8P 10m 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","5P 7m 9M 11P 13M","7m 9M 11P 13M 15P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},s1={2:["1P 5P 6M 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P 13M","5P 8P 9M 12P 15P"],5:["1P 5P 8P 12P","1P 5P 8P 9M 12P","5P 8P 12P 15P","5P 8P 12P 15P 16M"],6:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M","7m 10M 14m 17M 19P"],9:["1P 6M 7m 9M 10M","3M 7m 9M 10M 12P","1P 7m 9M 10M 13M","3M 7m 9M 10M 13M","3M 7m 9M 12P 15P","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],11:["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],13:["3M 7m 9M 10M 13M","3M 7m 9M 13M 15P","3M 7m 10M 13M 16M","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 10M 15P","5P 8P 9M 12P 17M"],"+":["1P 6m 8P 9M 10M","1P 6m 8P 10M 13m","3M 8P 9M 10M 13m","3M 8P 10M 13m 15P","6m 10M 13m 15P 16M","6m 10M 13m 15P 17M"],o:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],h:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P 9M","1P 4P 5P 8P 11P","1P 5P 8P 9M 11P","5P 8P 9M 11P 12P","5P 8P 11P 12P 13M","5P 8P 11P 13M 15P"],"^":["1P 3M 5P 6M 9M","1P 5P 8P 10M 12P","3M 5P 9M 10M 12P","1P 5P 8P 10M 13M","3M 8P 10M 13M 15P","5P 9M 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 3m 5P 9M 11P","3m 5P 8P 9M 11P","5P 8P 9M 10m 11P","1P 5P 9M 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 6M 7M 9M 10M","3M 7M 9M 10M 12P","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"-7":["1P 3m 5P 7m 9M","1P 3m 5P 7m 10m","1P 5P 7m 10m 11P","3m 7m 8P 10m 11P","1P 5P 7m 10m 12P","3m 7m 9M 10m 12P","3m 7m 8P 10m 14m","5P 7m 9M 10m 14m","7m 10m 11P 14m 15P","7m 10m 12P 15P 16M","5P 8P 11P 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],h7:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^7#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 10M 12d 14M","7M 10M 12d 13M 14M","7M 10M 12d 13M 16M","7M 10M 12d 14M 17M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 9M 12d 14M","7M 10M 12d 14M 16M","7M 10M 12d 13M 16M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 9M 10M 13m","3M 7M 10M 13m 14M","7M 10M 13m 14M 16M","7M 10M 13m 14M 17M"],"-6":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","1P 5P 6M 10m 11P","3m 5P 6M 8P 11P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 10m 11P 13M","5P 8P 10m 13M 16M"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-^9":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-9":["1P 3m 5P 7m 9M","1P 3m 7m 9M 11P","3m 7m 9M 10m 11P","3m 7m 9M 10m 12P","3m 7m 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 11P 14m 16M","7m 10m 12P 16M 18P"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["3m 5P 7m 9M 11P","7m 9M 10m 11P","1P 4P 7m 10m 12P","3m 7m 9M 11P 12P","7m 9M 10m 11P 12P","3m 7m 9M 11P 14m","4P 10m 12P 14m","5P 8P 11P 14m","5P 8P 11P 14m 16M","7m 10m 12P 16M 18P","7m 10m 11P 16M 21m"],"-7b5":["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["3m 5d 7m 9M 11P","1P 7m 9M 10m 12d","3m 7m 9M 12d 14m","5d 8P 9M 10m 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 16M"],"-b6":["1P 3m 5P 6m 8P","3m 5P 8P 11P 13m","5P 8P 10m 11P 13m"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 11P 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 10m 10M 12P","3M 7m 10m 12P 14m","7m 10M 12P 14m 17m"],"7#11":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7b5":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"7#9#5":["3M 7m 10m 10M 13m","3M 7m 10m 13m 14m","7m 10M 13m 14m 17m"],"7#9b5":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7#9#11":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7b9#11":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9b5":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 10m 13m 16m","7m 10M 13m 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7alt":["3M 7m 8P 10m 13m","3M 7m 9m 12d 13m","3M 7m 9m 10m 13m","3M 7m 10m 13m 14m","3M 7m 9m 12d 14m","3M 7m 10m 13m 15P","3M 7m 10m 13m 16m","7m 10M 12d 14m 16m","7m 10M 12d 13m 16m","7m 10M 13m 15P 17m","7m 10M 13m 16m 17m","7m 10M 13m 16m 19d"],"13#11":["3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["3M 7m 10m 10M 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","4P 7m 9M 11P 13M","7m 9M 11P 13M 15P","7m 11P 13M 14m 16M","7m 11P 13M 16M 18P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},{dictionaryVoicing:lo,minTopNoteDiff:fo}=gm.default||gm,ho={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},po={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},vo={"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]},go={"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"],m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},t1={lefthand:{dictionary:ho,range:["F3","A4"],mode:"below",anchor:"a4"},triads:{dictionary:vo,mode:"below",anchor:"a4"},guidetones:{dictionary:po,mode:"above",anchor:"a4"},default:{dictionary:go,mode:"below",anchor:"a4"}},So=(m,t)=>bo(m,t1[m].dictionary,t),bo=(m,t,n=["F3","A4"])=>{Object.assign(t1,{[m]:{dictionary:t,range:n}})},vt=(m,t,n={})=>{Object.assign(t1,{[m]:{dictionary:t,...n}})},yo=(m,t,n)=>{const{dictionary:e,range:r}=t1[t];return lo({chord:m,dictionary:e,range:r,picker:fo,lastVoicing:n})};let D1;const To=F("voicings",function(m,t){return t.fmap(n=>(D1=yo(n,m,D1),Am(...D1))).outerJoin()}),_o=F("rootNotes",function(m,t){return t.fmap(n=>{const o=(n.chord||n).match(/^([a-gA-G][b#]?).*$/)[1]+m;return n.chord?{note:o}:o})}),Co=F("voicing",function(m){return m.fmap(t=>{t=typeof t=="string"?{chord:t}:t;let{dictionary:n="default",chord:e,anchor:r,offset:o,mode:M,n:P,octaves:a,...i}=t;n=typeof n=="string"?t1[n]:{dictionary:n,mode:"below",anchor:"c5"};try{let s=oo({...n,chord:e,anchor:r,offset:o,mode:M,n:P,octaves:a});return Am(...s).note().set(i)}catch{return E1(`[voicing]: unknown chord "${e}"`),x1}}).outerJoin()});function G1(m,t,n){n=Array.isArray(n)?n:[n],n.forEach(e=>{e[t]=e[m]})}G1("^","",[U,s1]);Object.keys(U).forEach(m=>{if(m.includes("-")){let t=m.replace("-","m");G1(m,t,[s1,U])}if(m.includes("^")){let t=m.replace("^","M");G1(m,t,[s1,U])}});vt("ireal",U);vt("ireal-ext",s1);export{bo as addVoicings,vt as registerVoicings,_o as rootNotes,jo as scale,$o as scaleTranspose,So as setVoicingRange,Io as transpose,Co as voicing,G1 as voicingAlias,t1 as voicingRegistry,To as voicings};
