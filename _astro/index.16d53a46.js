import{k,_ as M1,n as D1,B as lt,D as ft,b as hm}from"./index.7dcdd514.js";import{a as ht,c as n1,g as pt}from"./index.3d4af9ee.js";var D=(m,t)=>Array(Math.abs(t)+1).join(m);function g(m,t,n){return function(...e){return console.warn(`${m} is deprecated. Use ${t}.`),n.apply(this,e)}}function H(m){return m!==null&&typeof m=="object"&&typeof m.name=="string"}function U(m){return m!==null&&typeof m=="object"&&typeof m.step=="number"&&typeof m.alt=="number"}var pm=[0,2,4,-1,1,3,5],vm=pm.map(m=>Math.floor(m*7/12));function c1(m){const{step:t,alt:n,oct:e,dir:r=1}=m,M=pm[t]+7*n;if(e===void 0)return[r*M];const o=e-vm[t]-4*n;return[r*M,r*o]}var vt=[3,0,4,1,5,2,6];function u1(m){const[t,n,e]=m,r=vt[bt(t)],M=Math.floor((t+1)/7);if(n===void 0)return{step:r,alt:M,dir:e};const o=n+4*M+vm[r];return{step:r,alt:M,oct:o,dir:e}}function bt(m){const t=(m+1)%7;return t<0?7+t:t}var bm={empty:!0,name:"",pc:"",acc:""},nm=new Map,R1=m=>"CDEFGAB".charAt(m),F=m=>m<0?D("b",-m):D("#",m),K=m=>m[0]==="b"?-m.length:m.length;function c(m){const t=JSON.stringify(m),n=nm.get(t);if(n)return n;const e=typeof m=="string"?At(m):U(m)?c(Nt(m)):H(m)?c(m.name):bm;return nm.set(t,e),e}var gt=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function d1(m){const t=gt.exec(m);return[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]}function x1(m){return c(u1(m))}var yt=(m,t)=>(m%t+t)%t,_1=[0,2,4,5,7,9,11];function At(m){const t=d1(m);if(t[0]===""||t[3]!=="")return bm;const n=t[0],e=t[1],r=t[2],M=(n.charCodeAt(0)+3)%7,o=K(e),P=r.length?+r:void 0,a=c1({step:M,alt:o,oct:P}),i=n+e+r,s=n+e,d=(_1[M]+o+120)%12,u=P===void 0?yt(_1[M]+o,12)-12*99:_1[M]+o+12*(P+1),f=u>=0&&u<=127?u:null,v=P===void 0?null:Math.pow(2,(u-69)/12)*440;return{empty:!1,acc:e,alt:o,chroma:d,coord:a,freq:v,height:u,letter:n,midi:f,name:i,oct:P,pc:s,step:M}}function Nt(m){const{step:t,alt:n,oct:e}=m,r=R1(t);if(!r)return"";const M=r+F(n);return e||e===0?M+e:M}var E1={empty:!0,name:"",acc:""},It="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",$t="(AA|A|P|M|m|d|dd)([-+]?\\d+)",jt=new RegExp("^"+It+"|"+$t+"$");function G1(m){const t=jt.exec(`${m}`);return t===null?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}var em={};function l(m){return typeof m=="string"?em[m]||(em[m]=St(m)):U(m)?l(_t(m)):H(m)?l(m.name):E1}var rm=[0,2,4,5,7,9,11],gm="PMMPPMM";function St(m){const t=G1(m);if(t[0]==="")return E1;const n=+t[0],e=t[1],r=(Math.abs(n)-1)%7,M=gm[r];if(M==="M"&&e==="P")return E1;const o=M==="M"?"majorable":"perfectable",P=""+n+e,a=n<0?-1:1,i=n===8||n===-8?n:a*(r+1),s=Tt(o,e),d=Math.floor((Math.abs(n)-1)/7),u=a*(rm[r]+s+12*d),f=(a*(rm[r]+s)%12+12)%12,v=c1({step:r,alt:s,oct:d,dir:a});return{empty:!1,name:P,num:n,q:e,step:r,alt:s,dir:a,type:o,simple:i,semitones:u,chroma:f,coord:v,oct:d}}function X(m,t){const[n,e=0]=m,r=n*7+e*12<0,M=t||r?[-n,-e,-1]:[n,e,1];return l(u1(M))}function Tt(m,t){return t==="M"&&m==="majorable"||t==="P"&&m==="perfectable"?0:t==="m"&&m==="majorable"?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*(m==="perfectable"?t.length:t.length+1):0}function _t(m){const{step:t,alt:n,oct:e=0,dir:r}=m;if(!r)return"";const M=t+1+7*e,o=M===0?t+1:M,P=r<0?"-":"",a=gm[t]==="M"?"majorable":"perfectable";return P+o+Ct(a,n)}function Ct(m,t){return t===0?m==="majorable"?"M":"P":t===-1&&m==="majorable"?"m":t>0?D("A",t):D("d",m==="perfectable"?t:t+1)}function h(m,t){const n=c(m),e=Array.isArray(t)?t:l(t).coord;if(n.empty||!e||e.length<2)return"";const r=n.coord,M=r.length===1?[r[0]+e[0]]:[r[0]+e[0],r[1]+e[1]];return x1(M).name}function O(m,t){const n=m.length;return e=>{if(!t)return"";const r=e<0?(n- -e%n)%n:e%n,M=Math.floor(e/n),o=h(t,[0,M]);return h(o,m[r])}}function R(m,t){const n=c(m),e=c(t);if(n.empty||e.empty)return"";const r=n.coord,M=e.coord,o=M[0]-r[0],P=r.length===2&&M.length===2?M[1]-r[1]:-Math.floor(o*7/12),a=e.height===n.height&&e.midi!==null&&n.midi!==null&&n.step>e.step;return X([o,P],a).name}const ym=Object.freeze(Object.defineProperty({__proto__:null,accToAlt:K,altToAcc:F,coordToInterval:X,coordToNote:x1,decode:u1,deprecate:g,distance:R,encode:c1,fillStr:D,interval:l,isNamed:H,isPitch:U,note:c,stepToLetter:R1,tokenizeInterval:G1,tokenizeNote:d1,tonicIntervalsTransposer:O,transpose:h},Symbol.toStringTag,{value:"Module"}));var Mm=(m,t)=>Array(t+1).join(m),Vt=/^(_{1,}|=|\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function Am(m){const t=Vt.exec(m);return t?[t[1],t[2],t[3]]:["","",""]}function o1(m){const[t,n,e]=Am(m);if(n==="")return"";let r=4;for(let o=0;o<e.length;o++)r+=e.charAt(o)===","?-1:1;const M=t[0]==="_"?t.replace(/_/g,"b"):t[0]==="^"?t.replace(/\^/g,"#"):"";return n.charCodeAt(0)>96?n.toUpperCase()+M+(r+1):n+M+r}function Nm(m){const t=c(m);if(t.empty||!t.oct&&t.oct!==0)return"";const{letter:n,acc:e,oct:r}=t,M=e[0]==="b"?e.replace(/b/g,"_"):e.replace(/#/g,"^"),o=r>4?n.toLowerCase():n,P=r===5?"":r>4?Mm("'",r-5):Mm(",",4-r);return M+o+P}function wt(m,t){return Nm(h(o1(m),t))}function Dt(m,t){return R(o1(m),o1(t))}var Et={abcToScientificNotation:o1,scientificToAbcNotation:Nm,tokenize:Am,transpose:wt,distance:Dt};function kt(m,t){const n=[];for(;t--;n[t]=t+m);return n}function Ft(m,t){const n=[];for(;t--;n[t]=m-t);return n}function Ot(m,t){return m<t?kt(m,t-m+1):Ft(m,m-t+1)}function Rt(m,t){const n=t.length,e=(m%n+n)%n;return t.slice(e,n).concat(t.slice(0,e))}function xt(m){return m.filter(t=>t===0||t)}function Im(m){return m.map(n=>c(n)).filter(n=>!n.empty).sort((n,e)=>n.height-e.height).map(n=>n.name)}function Gt(m){return Im(m).filter((t,n,e)=>n===0||t!==e[n-1])}function zt(m,t=Math.random){let n,e,r=m.length;for(;r;)n=Math.floor(t()*r--),e=m[r],m[r]=m[n],m[n]=e;return m}function $m(m){return m.length===0?[[]]:$m(m.slice(1)).reduce((t,n)=>t.concat(m.map((e,r)=>{const M=n.slice();return M.splice(r,0,m[0]),M})),[])}const Bt=Object.freeze(Object.defineProperty({__proto__:null,compact:xt,permutations:$m,range:Ot,rotate:Rt,shuffle:zt,sortedNoteNames:Im,sortedUniqNoteNames:Gt},Symbol.toStringTag,{value:"Module"}));function qt(m,t){const n=[];for(;t--;n[t]=t+m);return n}function Lt(m,t){const n=[];for(;t--;n[t]=m-t);return n}function l1(m,t){return m<t?qt(m,t-m+1):Lt(m,m-t+1)}function x(m,t){const n=t.length,e=(m%n+n)%n;return t.slice(e,n).concat(t.slice(0,e))}function z1(m){return m.filter(t=>t===0||t)}function Ht(m,t=Math.random){let n,e,r=m.length;for(;r;)n=Math.floor(t()*r--),e=m[r],m[r]=m[n],m[n]=e;return m}function jm(m){return m.length===0?[[]]:jm(m.slice(1)).reduce((t,n)=>t.concat(m.map((e,r)=>{const M=n.slice();return M.splice(r,0,m[0]),M})),[])}var Ut={compact:z1,permutations:jm,range:l1,rotate:x,shuffle:Ht},C={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},B1=m=>Number(m).toString(2),om=m=>parseInt(m,2),Kt=/^[01]{12}$/;function q1(m){return Kt.test(m)}var Xt=m=>typeof m=="number"&&m>=0&&m<=4095,Jt=m=>m&&q1(m.chroma),Pm={[C.chroma]:C};function p(m){const t=q1(m)?m:Xt(m)?B1(m):Array.isArray(m)?on(m):Jt(m)?m.chroma:C.chroma;return Pm[t]=Pm[t]||Mn(t)}var Qt=g("Pcset.pcset","Pcset.get",p),Sm=m=>p(m).chroma,Wt=m=>p(m).intervals,Yt=m=>p(m).setNum,Zt=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function mn(m){const t=[];for(let n=0;n<12;n++)m.charAt(n)==="1"&&t.push(Zt[n]);return t}function tn(){return l1(2048,4095).map(B1)}function L1(m,t=!0){const e=p(m).chroma.split("");return z1(e.map((r,M)=>{const o=x(M,e);return t&&o[0]==="0"?null:o.join("")}))}function nn(m,t){return p(m).setNum===p(t).setNum}function f1(m){const t=p(m).setNum;return n=>{const e=p(n).setNum;return t&&t!==e&&(e&t)===e}}function h1(m){const t=p(m).setNum;return n=>{const e=p(n).setNum;return t&&t!==e&&(e|t)===e}}function Tm(m){const t=p(m);return n=>{const e=c(n);return t&&!e.empty&&t.chroma.charAt(e.chroma)==="1"}}function en(m){const t=Tm(m);return n=>n.filter(t)}var _m={get:p,chroma:Sm,num:Yt,intervals:Wt,chromas:tn,isSupersetOf:h1,isSubsetOf:f1,isNoteIncludedIn:Tm,isEqual:nn,filter:en,modes:L1,pcset:Qt};function rn(m){const t=m.split("");return t.map((n,e)=>x(e,t).join(""))}function Mn(m){const t=om(m),n=rn(m).map(om).filter(M=>M>=2048).sort()[0],e=B1(n),r=mn(m);return{empty:!1,name:"",setNum:t,chroma:m,normalized:e,intervals:r}}function on(m){if(m.length===0)return C.chroma;let t;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let e=0;e<m.length;e++)t=c(m[e]),t.empty&&(t=l(m[e])),t.empty||(n[t.chroma]=1);return n.join("")}var Pn=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth/ninth","6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],an=Pn,sn={...C,name:"",quality:"Unknown",intervals:[],aliases:[]},G=[],T={};function H1(m){return T[m]||sn}var cn=g("ChordType.chordType","ChordType.get",H1);function un(){return G.map(m=>m.name).filter(m=>m)}function dn(){return G.map(m=>m.aliases[0]).filter(m=>m)}function ln(){return Object.keys(T)}function z(){return G.slice()}var fn=g("ChordType.entries","ChordType.all",z);function hn(){G=[],T={}}function Cm(m,t,n){const e=vn(m),r={...p(m),name:n||"",quality:e,intervals:m,aliases:t};G.push(r),r.name&&(T[r.name]=r),T[r.setNum]=r,T[r.chroma]=r,r.aliases.forEach(M=>pn(r,M))}function pn(m,t){T[t]=m}function vn(m){const t=n=>m.indexOf(n)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}an.forEach(([m,t,n])=>Cm(m.split(" "),n.split(" "),t));G.sort((m,t)=>m.setNum-t.setNum);var Vm={names:un,symbols:dn,get:H1,all:z,add:Cm,removeAll:hn,keys:ln,entries:fn,chordType:cn},bn=m=>{const t=m.reduce((n,e)=>{const r=c(e).chroma;return r!==void 0&&(n[r]=n[r]||c(e).name),n},{});return n=>t[n]};function gn(m,t={}){const n=m.map(r=>c(r).pc).filter(r=>r);return c.length===0?[]:Sn(n,1,t).filter(r=>r.weight).sort((r,M)=>M.weight-r.weight).map(r=>r.name)}var p1={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},v1=m=>t=>!!(t&m),yn=v1(p1.anyThirds),An=v1(p1.perfectFifth),Nn=v1(p1.anySeventh),In=v1(p1.nonPerfectFifths);function $n(m){const t=parseInt(m.chroma,2);return yn(t)&&An(t)&&Nn(t)}function jn(m){const t=parseInt(m,2);return In(t)?m:(t|16).toString(2)}function Sn(m,t,n){const e=m[0],r=c(e).chroma,M=bn(m),o=L1(m,!1),P=[];return o.forEach((a,i)=>{const s=n.assumePerfectFifth&&jn(a);z().filter(u=>n.assumePerfectFifth&&$n(u)?u.chroma===s:u.chroma===a).forEach(u=>{const f=u.aliases[0],v=M(i);i!==r?P.push({weight:.5*t,name:`${v}${f}/${e}`}):P.push({weight:1*t,name:`${v}${f}`})})}),P}var Tn=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],_n=Tn,Cn={...C,intervals:[],aliases:[]},b1=[],_={};function wm(){return b1.map(m=>m.name)}function g1(m){return _[m]||Cn}var Vn=g("ScaleDictionary.scaleType","ScaleType.get",g1);function B(){return b1.slice()}var wn=g("ScaleDictionary.entries","ScaleType.all",B);function Dn(){return Object.keys(_)}function En(){b1=[],_={}}function Dm(m,t,n=[]){const e={...p(m),name:t,intervals:m,aliases:n};return b1.push(e),_[e.name]=e,_[e.setNum]=e,_[e.chroma]=e,e.aliases.forEach(r=>kn(e,r)),e}function kn(m,t){_[t]=m}_n.forEach(([m,t,...n])=>Dm(m.split(" "),t,n));var Em={names:wm,get:g1,all:B,add:Dm,removeAll:En,keys:Dn,entries:wn,scaleType:Vn},k1={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]},Fn=/^(6|64|7|9|11|13)$/;function y1(m){const[t,n,e,r]=d1(m);return t===""?["",m]:t==="A"&&r==="ug"?["","aug"]:!r&&(e==="4"||e==="5")?[t+n,e]:Fn.test(e)?[t+n,e+r]:[t+n+e,r]}function w(m){if(m==="")return k1;if(Array.isArray(m)&&m.length===2)return e1(m[1],m[0]);{const[t,n]=y1(m),e=e1(n,t);return e.empty?e1(m):e}}function e1(m,t,n){const e=H1(m),r=c(t||""),M=c(n||"");if(e.empty||t&&r.empty||n&&M.empty)return k1;const o=R(r.pc,M.pc),P=e.intervals.indexOf(o)+1;if(!M.empty&&!P)return k1;const a=Array.from(e.intervals);for(let u=1;u<P;u++){const f=a[0][0],v=a[0][1],S=parseInt(f,10)+7;a.push(`${S}${v}`),a.shift()}const i=r.empty?[]:a.map(u=>h(r,u));m=e.aliases.indexOf(m)!==-1?m:e.aliases[0];const s=`${r.empty?"":r.pc}${m}${M.empty||P<=1?"":"/"+M.pc}`,d=`${t?r.pc+" ":""}${e.name}${P>1&&n?" over "+M.pc:""}`;return{...e,name:d,symbol:s,type:e.name,root:M.name,intervals:a,rootDegree:P,tonic:r.name,notes:i}}var On=g("Chord.chord","Chord.get",w);function Rn(m,t){const[n,e]=y1(m);return n?h(n,t)+e:m}function xn(m){const t=w(m),n=h1(t.chroma);return B().filter(e=>n(e.chroma)).map(e=>e.name)}function Gn(m){const t=w(m),n=h1(t.chroma);return z().filter(e=>n(e.chroma)).map(e=>t.tonic+e.aliases[0])}function zn(m){const t=w(m),n=f1(t.chroma);return z().filter(e=>n(e.chroma)).map(e=>t.tonic+e.aliases[0])}function Bn(m){const{intervals:t,tonic:n}=w(m),e=O(t,n);return r=>r?e(r>0?r-1:r):""}function qn(m){const{intervals:t,tonic:n}=w(m);return O(t,n)}var Ln={getChord:e1,get:w,detect:gn,chordScales:xn,extended:Gn,reduced:zn,tokenize:y1,transpose:Rn,degrees:Bn,steps:qn,chord:On},Hn=[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]],Un=Hn,A1=[];Un.forEach(([m,t,n])=>me(m,t,n));var Kn={empty:!0,name:"",value:0,fraction:[0,0],shorthand:"",dots:"",names:[]};function Xn(){return A1.reduce((m,t)=>(t.names.forEach(n=>m.push(n)),m),[])}function Jn(){return A1.map(m=>m.shorthand)}var Qn=/^([^.]+)(\.*)$/;function U1(m){const[t,n,e]=Qn.exec(m)||[],r=A1.find(P=>P.shorthand===n||P.names.includes(n));if(!r)return Kn;const M=te(r.fraction,e.length),o=M[0]/M[1];return{...r,name:m,dots:e,value:o,fraction:M}}var Wn=m=>U1(m).value,Yn=m=>U1(m).fraction,Zn={names:Xn,shorthands:Jn,get:U1,value:Wn,fraction:Yn};function me(m,t,n){A1.push({empty:!1,dots:"",name:"",value:1/m,fraction:m<1?[1/m,1]:[1,m],shorthand:t,names:n})}function te(m,t){const n=Math.pow(2,t);let e=m[0]*n,r=m[1]*n;const M=e;for(let o=0;o<t;o++)e+=M/Math.pow(2,o+1);for(;e%2===0&&r%2===0;)e/=2,r/=2;return[e,r]}function ne(){return"1P 2M 3M 4P 5P 6m 7m".split(" ")}var km=l,ee=m=>l(m).name,re=m=>l(m).semitones,Me=m=>l(m).q,oe=m=>l(m).num;function Fm(m){const t=l(m);return t.empty?"":t.simple+t.q}function Pe(m){const t=l(m);if(t.empty)return"";const n=(7-t.step)%7,e=t.type==="perfectable"?-t.alt:-(t.alt+1);return l({step:n,alt:e,oct:t.oct,dir:t.dir}).name}var ae=[1,2,2,3,3,4,5,5,6,6,7,7],ie="P m M m M P d P m M m M".split(" ");function se(m){const t=m<0?-1:1,n=Math.abs(m),e=n%12,r=Math.floor(n/12);return t*(ae[e]+7*r)+ie[e]}var ce=R,Om=xm((m,t)=>[m[0]+t[0],m[1]+t[1]]),ue=m=>t=>Om(m,t),de=xm((m,t)=>[m[0]-t[0],m[1]-t[1]]);function Rm(m,t){const n=km(m);if(n.empty)return"";const[e,r,M]=n.coord;return X([e+t,r,M]).name}var P1={names:ne,get:km,name:ee,num:oe,semitones:re,quality:Me,fromSemitones:se,distance:ce,invert:Pe,simplify:Fm,add:Om,addTo:ue,substract:de,transposeFifths:Rm};function xm(m){return(t,n)=>{const e=l(t).coord,r=l(n).coord;if(e&&r){const M=m(e,r);return X(M).name}}}function Gm(m){return+m>=0&&+m<=127}function zm(m){if(Gm(m))return+m;const t=c(m);return t.empty?null:t.midi}function le(m,t=440){return Math.pow(2,(m-69)/12)*t}var fe=Math.log(2),he=Math.log(440);function K1(m){const t=12*(Math.log(m)-he)/fe+69;return Math.round(t*100)/100}var pe="C C# D D# E F F# G G# A A# B".split(" "),ve="C Db D Eb E F Gb G Ab A Bb B".split(" ");function j(m,t={}){if(isNaN(m)||m===-1/0||m===1/0)return"";m=Math.round(m);const e=(t.sharps===!0?pe:ve)[m%12];if(t.pitchClass)return e;const r=Math.floor(m/12)-1;return e+r}function X1(m){return m%12}function be(m){return m.split("").reduce((t,n,e)=>(e<12&&n==="1"&&t.push(e),t),[])}function ge(m){return m.map(X1).sort((t,n)=>t-n).filter((t,n,e)=>n===0||t!==e[n-1])}function J1(m){return Array.isArray(m)?ge(m):be(m)}function ye(m){const t=J1(m);return n=>{const e=X1(n);for(let r=0;r<12;r++){if(t.includes(e+r))return n+r;if(t.includes(e-r))return n-r}}}function Bm(m,t){const n=J1(m),e=n.length;return r=>{const M=r<0?(e- -r%e)%e:r%e,o=Math.floor(r/e);return n[M]+o*12+t}}function Ae(m,t){const n=Bm(m,t);return e=>{if(e!==0)return n(e>0?e-1:e)}}var Ne={chroma:X1,freqToMidi:K1,isMidi:Gm,midiToFreq:le,midiToNoteName:j,pcsetNearest:ye,pcset:J1,pcsetDegrees:Ae,pcsetSteps:Bm,toMidi:zm},Ie=["C","D","E","F","G","A","B"],qm=m=>m.name,Lm=m=>m.map(c).filter(t=>!t.empty);function $e(m){return m===void 0?Ie.slice():Array.isArray(m)?Lm(m).map(qm):[]}var A=c,je=m=>A(m).name,Se=m=>A(m).pc,Te=m=>A(m).acc,_e=m=>A(m).oct,Ce=m=>A(m).midi,Ve=m=>A(m).freq,we=m=>A(m).chroma;function Hm(m){return j(m)}function De(m){return j(K1(m))}function Ee(m){return j(K1(m),{sharps:!0})}function ke(m){return j(m,{sharps:!0})}var J=h,Fe=h,Um=m=>t=>J(t,m),Oe=Um,Km=m=>t=>J(m,t),Re=Km;function a1(m,t){return J(m,[t,0])}var xe=a1;function Ge(m,t){return J(m,[0,t])}var Q1=(m,t)=>m.height-t.height,ze=(m,t)=>t.height-m.height;function Xm(m,t){return t=t||Q1,Lm(m).sort(t).map(qm)}function Jm(m){return Xm(m,Q1).filter((t,n,e)=>n===0||t!==e[n-1])}var Be=m=>{const t=A(m);return t.empty?"":j(t.midi||t.chroma,{sharps:t.alt>0,pitchClass:t.midi===null})};function Qm(m,t){const n=A(m);if(n.empty)return"";const e=A(t||j(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(e.empty||e.chroma!==n.chroma)return"";if(n.oct===void 0)return e.pc;const r=n.chroma-n.alt,M=e.chroma-e.alt,o=r>11||M<0?-1:r<0||M>11?1:0,P=n.oct+o;return e.pc+P}var E={names:$e,get:A,name:je,pitchClass:Se,accidentals:Te,octave:_e,midi:Ce,ascending:Q1,descending:ze,sortedNames:Xm,sortedUniqNames:Jm,fromMidi:Hm,fromMidiSharps:ke,freq:Ve,fromFreq:De,fromFreqSharps:Ee,chroma:we,transpose:J,tr:Fe,transposeBy:Um,trBy:Oe,transposeFrom:Km,trFrom:Re,transposeFifths:a1,transposeOctaves:Ge,trFifths:xe,simplify:Be,enharmonic:Qm},Wm={empty:!0,name:"",chordType:""},am={};function $(m){return typeof m=="string"?am[m]||(am[m]=Je(m)):typeof m=="number"?$(N1[m]||""):U(m)?He(m):H(m)?$(m.name):Wm}var qe=g("RomanNumeral.romanNumeral","RomanNumeral.get",$);function Le(m=!0){return(m?N1:Xe).slice()}function He(m){return $(F(m.alt)+N1[m.step])}var Ue=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function Ke(m){return Ue.exec(m)||["","","",""]}var Ym="I II III IV V VI VII",N1=Ym.split(" "),Xe=Ym.toLowerCase().split(" ");function Je(m){const[t,n,e,r]=Ke(m);if(!e)return Wm;const M=e.toUpperCase(),o=N1.indexOf(M),P=K(n),a=1;return{empty:!1,name:t,roman:e,interval:l({step:o,alt:P,dir:a}).name,acc:n,chordType:r,alt:P,step:o,major:e===M,oct:0,dir:a}}var Qe={names:Le,get:$,romanNumeral:qe},b=Object.freeze([]),Zm={type:"major",tonic:"",alteration:0,keySignature:""},r1={tonic:"",grades:b,intervals:b,scale:b,triads:b,chords:b,chordsHarmonicFunction:b,chordScales:b},We={...Zm,...r1,type:"major",minorRelative:"",scale:b,secondaryDominants:b,secondaryDominantsMinorRelative:b,substituteDominants:b,substituteDominantsMinorRelative:b},Ye={...Zm,type:"minor",relativeMajor:"",natural:r1,harmonic:r1,melodic:r1},C1=(m,t,n="")=>t.map((e,r)=>`${m[r]}${n}${e}`);function I1(m,t,n,e,r){return M=>{const o=m.map(a=>$(a).interval||""),P=o.map(a=>h(M,a));return{tonic:M,grades:m,intervals:o,scale:P,triads:C1(P,t),chords:C1(P,n),chordsHarmonicFunction:e.slice(),chordScales:C1(P,r," ")}}}var mt=(m,t)=>{const n=c(m),e=c(t);return n.empty||e.empty?0:e.coord[0]-n.coord[0]},Ze=I1("I II III IV V VI VII".split(" ")," m m   m dim".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")),mr=I1("I II bIII IV V bVI bVII".split(" "),"m dim  m m  ".split(" "),"m7 m7b5 maj7 m7 m7 maj7 7".split(" "),"T SD T SD D SD SD".split(" "),"minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")),tr=I1("I II bIII IV V bVI VII".split(" "),"m dim aug m   dim".split(" "),"mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),"T SD T SD D SD D".split(" "),"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(",")),nr=I1("I II bIII IV V VI VII".split(" "),"m m aug   dim dim".split(" "),"m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),"T SD T SD D  ".split(" "),"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(","));function er(m){const t=c(m).pc;if(!t)return We;const n=Ze(t),e=mt("C",t),r=M=>{const o=$(M);return o.empty?"":h(m,o.interval)+o.chordType};return{...n,type:"major",minorRelative:h(t,"-3m"),alteration:e,keySignature:F(e),secondaryDominants:"- VI7 VII7 I7 II7 III7 -".split(" ").map(r),secondaryDominantsMinorRelative:"- IIIm7b5 IV#m7 Vm7 VIm7 VIIm7b5 -".split(" ").map(r),substituteDominants:"- bIII7 IV7 bV7 bVI7 bVII7 -".split(" ").map(r),substituteDominantsMinorRelative:"- IIIm7 Im7 IIbm7 VIm7 IVm7 -".split(" ").map(r)}}function rr(m){const t=c(m).pc;if(!t)return Ye;const n=mt("C",t)-3;return{type:"minor",tonic:t,relativeMajor:h(t,"3m"),alteration:n,keySignature:F(n),natural:mr(t),harmonic:tr(t),melodic:nr(t)}}function Mr(m){return typeof m=="number"?a1("C",m):typeof m=="string"&&/^b+|#+$/.test(m)?a1("C",K(m)):null}var or={majorKey:er,majorTonicFromKeySignature:Mr,minorKey:rr},W1=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],im={...C,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},Y1=W1.map(sr),F1={};Y1.forEach(m=>{F1[m.name]=m,m.aliases.forEach(t=>{F1[t]=m})});function V(m){return typeof m=="string"?F1[m.toLowerCase()]||im:m&&m.name?V(m.name):im}var Pr=g("Mode.mode","Mode.get",V);function tt(){return Y1.slice()}var ar=g("Mode.mode","Mode.all",tt);function ir(){return Y1.map(m=>m.name)}function sr(m){const[t,n,e,r,M,o,P]=m,a=P?[P]:[],i=Number(n).toString(2);return{empty:!1,intervals:g1(r).intervals,modeNum:t,chroma:i,normalized:i,name:r,setNum:n,alt:e,triad:M,seventh:o,aliases:a}}function cr(m,t){return V(m).intervals.map(n=>h(t,n))}function nt(m){return(t,n)=>{const e=V(t);if(e.empty)return[];const r=x(e.modeNum,m),M=e.intervals.map(o=>h(n,o));return r.map((o,P)=>M[P]+o)}}var ur=nt(W1.map(m=>m[4])),dr=nt(W1.map(m=>m[5]));function et(m,t){const n=V(t),e=V(m);return n.empty||e.empty?"":Fm(Rm("1P",e.alt-n.alt))}function lr(m,t,n){return h(n,et(m,t))}var fr={get:V,names:ir,all:tt,distance:et,relativeTonic:lr,notes:cr,triads:ur,seventhChords:dr,entries:ar,mode:Pr};function hr(m,t){return t.map($).map(e=>h(m,l(e))+e.chordType)}function pr(m,t){return t.map(n=>{const[e,r]=y1(n),M=R(m,e);return $(l(M)).name+r})}var vr={fromRomanNumerals:hr,toRomanNumerals:pr};function rt(m){const t=z1(m.map(n=>typeof n=="number"?n:zm(n)));return!m.length||t.length!==m.length?[]:t.reduce((n,e)=>{const r=n[n.length-1];return n.concat(l1(r,e).slice(1))},[t[0]])}function br(m,t){return rt(m).map(n=>j(n,t))}var gr={numeric:rt,chromatic:br},yr={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Mt(m){if(typeof m!="string")return["",""];const t=m.indexOf(" "),n=c(m.substring(0,t));if(n.empty){const r=c(m);return r.empty?["",m]:[r.name,""]}const e=m.substring(n.name.length+1);return[n.name,e.length?e:""]}var Ar=wm;function I(m){const t=Array.isArray(m)?m:Mt(m),n=c(t[0]).name,e=g1(t[1]);if(e.empty)return yr;const r=e.name,M=n?e.intervals.map(P=>h(n,P)):[],o=n?n+" "+r:r;return{...e,name:o,type:r,tonic:n,notes:M}}var Nr=g("Scale.scale","Scale.get",I);function Ir(m,t={}){const n=Sm(m),e=c(t.tonic??m[0]??""),r=e.chroma;if(r===void 0)return[];const M=n.split("");M[r]="1";const o=x(r,M).join(""),P=B().find(i=>i.chroma===o),a=[];return P&&a.push(e.name+" "+P.name),t.match==="exact"||ot(o).forEach(i=>{a.push(e.name+" "+i)}),a}function $r(m){const t=I(m),n=f1(t.chroma);return z().filter(e=>n(e.chroma)).map(e=>e.aliases[0])}function ot(m){const t=q1(m)?m:I(m).chroma,n=h1(t);return B().filter(e=>n(e.chroma)).map(e=>e.name)}function jr(m){const t=f1(I(m).chroma);return B().filter(n=>t(n.chroma)).map(n=>n.name)}function Pt(m){const t=m.map(r=>c(r).pc).filter(r=>r),n=t[0],e=Jm(t);return x(e.indexOf(n),e)}function Sr(m){const t=I(m);if(t.empty)return[];const n=t.tonic?t.notes:t.intervals;return L1(t.chroma).map((e,r)=>{const M=I(e).name;return M?[n[r],M]:["",""]}).filter(e=>e[0])}function Tr(m){const t=Array.isArray(m)?Pt(m):I(m).notes,n=t.map(e=>c(e).chroma);return e=>{const r=c(typeof e=="number"?Hm(e):e),M=r.height;if(M===void 0)return;const o=M%12,P=n.indexOf(o);if(P!==-1)return Qm(r.name,t[P])}}function _r(m){const t=Tr(m);return(n,e)=>{const r=c(n).height,M=c(e).height;return r===void 0||M===void 0?[]:l1(r,M).map(t).filter(o=>o)}}function Cr(m){const{intervals:t,tonic:n}=I(m),e=O(t,n);return r=>r?e(r>0?r-1:r):""}function Vr(m){const{intervals:t,tonic:n}=I(m);return O(t,n)}var i1={degrees:Cr,detect:Ir,extended:ot,get:I,modeNames:Sr,names:Ar,rangeOf:_r,reduced:jr,scaleChords:$r,scaleNotes:Pt,steps:Vr,tokenize:Mt,scale:Nr},wr={empty:!0,name:"",upper:void 0,lower:void 0,type:void 0,additive:[]},Dr=["4/4","3/4","2/4","2/2","12/8","9/8","6/8","3/8"];function Er(){return Dr.slice()}var kr=/^(\d*\d(?:\+\d)*)\/(\d+)$/,sm=new Map;function Fr(m){const t=JSON.stringify(m),n=sm.get(t);if(n)return n;const e=xr(Z1(m));return sm.set(t,e),e}function Z1(m){if(typeof m=="string"){const[M,o,P]=kr.exec(m)||[];return Z1([o,P])}const[t,n]=m,e=+n;if(typeof t=="number")return[t,e];const r=t.split("+").map(M=>+M);return r.length===1?[r[0],e]:[r,e]}var Or={names:Er,parse:Z1,get:Fr},Rr=m=>Math.log(m)/Math.log(2)%1===0;function xr([m,t]){const n=Array.isArray(m)?m.reduce((P,a)=>P+a,0):m,e=t;if(n===0||e===0)return wr;const r=Array.isArray(m)?`${m.join("+")}/${t}`:`${m}/${t}`,M=Array.isArray(m)?m:[],o=e===4||e===2?"simple":e===8&&n%3===0?"compound":Rr(e)?"irregular":"irrational";return{empty:!1,name:r,type:o,upper:n,lower:e,additive:M}}var Gr=ym,zr=_m,Br=Vm,qr=Em;const Lr=Object.freeze(Object.defineProperty({__proto__:null,AbcNotation:Et,Array:Bt,Chord:Ln,ChordDictionary:Br,ChordType:Vm,Collection:Ut,Core:ym,DurationValue:Zn,Interval:P1,Key:or,Midi:Ne,Mode:fr,Note:E,PcSet:zr,Pcset:_m,Progression:vr,Range:gr,RomanNumeral:Qe,Scale:i1,ScaleDictionary:qr,ScaleType:Em,TimeSignature:Or,Tonal:Gr,accToAlt:K,altToAcc:F,coordToInterval:X,coordToNote:x1,decode:u1,deprecate:g,distance:R,encode:c1,fillStr:D,interval:l,isNamed:H,isPitch:U,note:c,stepToLetter:R1,tokenizeInterval:G1,tokenizeNote:d1,tonicIntervalsTransposer:O,transpose:h},Symbol.toStringTag,{value:"Module"}));function at(m,t,n){let[e,r]=i1.tokenize(m),{notes:M}=i1.get(`${e} ${r}`);if(M=M.map(f=>E.get(f).pc),t=Number(t),isNaN(t))throw new Error(`scale offset "${t}" not a number`);const{pc:o,oct:P=3}=E.get(n),a=M.indexOf(o);if(a===-1)throw new Error(`note "${n}" is not in scale "${m}"`);let i=a,s=P,d=o;const u=Math.sign(t);for(;Math.abs(i-a)<Math.abs(t);){i+=u;const f=M1(i,M.length);u<0&&d[0]==="C"&&(s+=u),d=M[f],u>0&&d[0]==="C"&&(s+=u)}return d+s}const vM=k("transpose",function(m,t){return t.withHap(n=>{const e=isNaN(Number(m))?String(m):P1.fromSemitones(m);if(typeof n.value=="number"){const r=typeof e=="string"?P1.semitones(e)||0:e;return n.withValue(()=>n.value+r)}return n.withValue(()=>E.simplify(E.transpose(n.value,e)))})}),bM=k("scaleTranspose",function(m,t){return t.withHap(n=>{if(!n.context.scale)throw new Error("can only use scaleTranspose after .scale");if(typeof n.value!="string")throw new Error("can only use scaleTranspose with notes");return n.withValue(()=>at(n.context.scale,Number(m),n.value))})}),gM=k("scale",function(m,t){return Array.isArray(m)&&(m=m.flat().join(" ")),t.withHap(n=>{const e=typeof n.value=="object";let r=e?n.value.n:n.value;const M=Number(r);if(!isNaN(M)){m=m.replaceAll(":"," ");let[o,P]=i1.tokenize(m);const{pc:a,oct:i=3}=E.get(o);r=at(a+" "+P,M,a+i)}return n.withValue(()=>e?{...n.value,note:r}:r).setContext({...n.context,scale:m})})}),Hr=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],Ur=["c","db","d","eb","e","f","gb","g","ab","a","bb","b"],Kr=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Xr={b:-1,"#":1},mm=m=>{const[t,...n]=m.split("");return Ur.indexOf(t.toLowerCase())+n.reduce((e,r)=>e+Xr[r],0)};function Jr(m){const t=(m||"").match(/^([A-G][b#]*)([^/]*)[/]?([A-G][b#]*)?$/);return t?t.slice(1):[]}const Qr=m=>m.match(/^[A-G][#b]?/i)[0],Wr=m=>mm(Qr(m)),Yr=m=>m%12,Zr=(m,t)=>{if(lt(m))return Wr(m);if(ft(m))return mm(m);if(typeof m=="number")return Yr(m)},mM=m=>{let t=Number(m);return isNaN(t)?P1.semitones(m):t},tM=(m,t=!1)=>{const n=Math.floor(m/12)-1;return(t?Kr:Hr)[m%12]+n};function nM(m,t,n=1){m=m.map(r=>typeof r=="string"?D1(r):r);const e=Math.floor(t/m.length)*n*12;return t=M1(t,m.length),m[t]+e}let cm={below:m=>m.slice(-1)[0],duck:m=>m.slice(-1)[0],above:m=>m[0]};function eM({chord:m,dictionary:t,offset:n=0,n:e,mode:r="below",anchor:M="c5",octaves:o=1}){const[P,a]=Jr(m),i=mm(P);M=M?.note||M;const s=Zr(M),d=t[a].map(N=>(typeof N=="string"?N.split(" "):N).map(mM));let u,f,v=d.map((N,S1)=>{const dt=cm[r](N),T1=M1(s-dt-i,12);return(u===void 0||T1<u)&&(u=T1,f=S1),T1});const S=Math.ceil(n/d.length)*12,Z=M1(f+n,d.length),m1=d[Z],y=cm[r](m1),j1=D1(M,4)-v[Z]+S,tm=m1.map(N=>j1-y+N);let t1=tm.map(N=>tM(N));return r==="duck"&&(t1=t1.filter((N,S1)=>tm[S1]!==D1(M))),e!==void 0?[nM(t1,e,o)]:t1}var it={},V1={},Q={};Q.__esModule=!0;Q.getBestVoicing=void 0;function rM(m){var t=m.chord,n=m.range,e=m.finder,r=m.picker,M=m.lastVoicing,o=e(t,n);return o.length?r(o,M):[]}Q.getBestVoicing=rM;var q={};const st=ht(Lr);var W={};W.__esModule=!0;W.tokenizeChord=void 0;function MM(m){var t=(m||"").match(/^([A-G][b#]*)([^\/]*)[\/]?([A-G][b#]*)?$/);return t?t.slice(1):[]}W.tokenizeChord=MM;var um;function oM(){if(um)return q;um=1,q.__esModule=!0,q.voicingsInRange=void 0;var m=st,t=ct(),n=W;function e(r,M,o){M===void 0&&(M=t.lefthand),o===void 0&&(o=["D3","A4"]);var P=(0,n.tokenizeChord)(r),a=P[0],i=P[1];if(!M[i])return[];var s=M[i].map(function(u){return u.split(" ")}),d=m.Range.chromatic(o);return s.reduce(function(u,f){var v=f.map(function(y){return m.Interval.substract(y,f[0])}),S=m.Note.transpose(a,f[0]),Z=d.filter(function(y){return m.Note.chroma(y)===m.Note.chroma(S)}).filter(function(y){return m.Note.midi(m.Note.transpose(y,v[v.length-1]))<=m.Note.midi(o[1])}).map(function(y){return m.Note.enharmonic(y,S)}),m1=Z.map(function(y){return v.map(function(j1){return m.Note.transpose(y,j1)})});return u.concat(m1)},[])}return q.voicingsInRange=e,q}var dm;function ct(){return dm||(dm=1,function(m){var t=n1&&n1.__assign||function(){return t=Object.assign||function(P){for(var a,i=1,s=arguments.length;i<s;i++){a=arguments[i];for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(P[d]=a[d])}return P},t.apply(this,arguments)},n=n1&&n1.__rest||function(P,a){var i={};for(var s in P)Object.prototype.hasOwnProperty.call(P,s)&&a.indexOf(s)<0&&(i[s]=P[s]);if(P!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,s=Object.getOwnPropertySymbols(P);d<s.length;d++)a.indexOf(s[d])<0&&Object.prototype.propertyIsEnumerable.call(P,s[d])&&(i[s[d]]=P[s[d]]);return i};m.__esModule=!0,m.dictionaryVoicing=m.dictionaryVoicingFinder=m.triads=m.guidetones=m.lefthand=void 0;var e=Q,r=oM();m.lefthand={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},m.guidetones={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},m.triads={M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]};var M=function(P){return function(a,i){return(0,r.voicingsInRange)(a,P,i)}};m.dictionaryVoicingFinder=M;var o=function(P){var a=P.dictionary,i=P.range,s=n(P,["dictionary","range"]);return(0,e.getBestVoicing)(t(t({},s),{range:i,finder:(0,m.dictionaryVoicingFinder)(a)}))};m.dictionaryVoicing=o}(V1)),V1}var $1={};$1.__esModule=!0;$1.minTopNoteDiff=void 0;var lm=st;function PM(m,t){if(!t)return m[0];var n=function(e){return Math.abs(lm.Note.midi(t[t.length-1])-lm.Note.midi(e[e.length-1]))};return m.reduce(function(e,r){return n(r)<n(e)?r:e},m[0])}$1.minTopNoteDiff=PM;(function(m){m.__esModule=!0;var t=ct(),n=$1,e=Q,r=W;m.default={tokenizeChord:r.tokenizeChord,getBestVoicing:e.getBestVoicing,dictionaryVoicing:t.dictionaryVoicing,dictionaryVoicingFinder:t.dictionaryVoicingFinder,lefthand:t.lefthand,guidetones:t.guidetones,triads:t.triads,minTopNoteDiff:n.minTopNoteDiff}})(it);const fm=pt(it),L={2:["1P 5P 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P"],5:["1P 5P 8P 12P","5P 8P 12P 15P"],6:["1P 5P 6M 8P 10M","1P 5P 8P 10M 13M","3M 5P 8P 10M 13M","5P 8P 10M 12P 13M"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M"],9:["1P 5P 7m 9M 10M","1P 7m 9M 10M 12P","3M 7m 8P 9M 12P","7m 9M 10M 14m 15P","3M 7m 8P 12P 16M","7m 10M 12P 15P 16M"],11:["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],13:["1P 6M 7m 9M 10M","1P 7m 9M 10M 13M","3M 7m 8P 9M 13M","7m 8P 9M 10M 13M","7m 9M 10M 13M 15P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 8P 9M 13M","5P 8P 9M 10M 13M"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 12P 17M"],"+":["1P 3M 6m 8P 10M","1P 6m 8P 10M 13m","3M 6m 8P 10M 13m","3M 8P 10M 13m 15P","6m 8P 10M 13m 15P","6m 10M 13m 15P 17M"],o:["1P 5d 8P 10m 12d","3m 8P 10m 12d 15P","5d 8P 10m 12d 15P"],h:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P","1P 4P 5P 8P 11P","5P 8P 11P 12P","5P 8P 11P 12P 15P"],"^":["1P 5P 8P 10M","1P 5P 8P 10M 12P","3M 5P 8P 10M 12P","3M 8P 10M 12P 15P","5P 8P 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 5P 8P 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 5P 7M 10M 12P","1P 10M 12P 14M","3M 8P 10M 12P 14M","5P 8P 10M 12P 14M","5P 8P 10M 14M 17M"],"-7":["1P 3m 5P 7m 10m","1P 5P 7m 10m 12P","3m 7m 8P 10m 12P","3m 7m 8P 10m 14m","5P 7m 8P 10m 14m","7m 10m 12P 14m 15P","5P 8P 10m 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 5P 7m 8P 11P","5P 8P 11P 12P 14m","7m 8P 11P 12P 14m","7m 11P 12P 14m 18P"],h7:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 5P 7M 9M 10M","1P 7M 9M 10M 12P","3M 7M 8P 9M 12P","3M 7M 8P 12P 16M","5P 8P 10M 14M 16M","7M 8P 10M 12P 16M"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 8P 13M 16M","7M 8P 10M 13M 16M"],"^7#11":["1P 5P 7M 10M 12d","3M 7M 8P 10M 12d","1P 7M 10M 12d 14M","3M 7M 8P 12d 14M","5P 8P 10M 12d 14M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 8P 9M 12d","3M 8P 9M 12d 14M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 8P 10M 13m","6m 7M 8P 10M 13m"],"-6":["1P 3m 5P 6M 8P","1P 5P 6M 8P 10m","3m 5P 6M 8P 10m","1P 5P 8P 10m 13M","3m 5P 8P 10m 13M","5P 8P 10m 12P 13M","5P 8P 10m 13M 15P"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 10m","1P 5P 7M 10m 12P","3m 7M 8P 10m 12P","5P 7M 8P 10m 14M","5P 8P 10m 14M 17m"],"-^9":["1P 3m 5P 7M 9M","1P 7M 9M 10m 12P","3m 7M 8P 9M 12P","5P 8P 9M 10m 14M"],"-9":["1P 3m 5P 7m 9M","3m 5P 7m 8P 9M","3m 7m 8P 9M 12P","5P 8P 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 12P 15P 16M"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["1P 3m 7m 9M 11P","3m 7m 8P 9M 11P","1P 4P 7m 10m 12P","5P 8P 11P 14m","3m 7m 9M 11P 15P","5P 8P 11P 14m 16M","7m 10m 12P 15P 18P"],"-7b5":["3m 5d 7m 8P 10m","1P 7m 10m 12d","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["1P 7m 9M 10m 12d","3m 7m 8P 9M 12d","5d 8P 9M 10m 14m","7m 10m 12d 15P 16M"],"-b6":["1P 5P 6m 8P 10m","1P 5P 8P 10m 13m","3m 5P 8P 10m 13m","5P 8P 10m 13m","5P 8P 10m 13m 15P"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 10m 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 8P 10m 14m","7m 10m 10M 14m 15P"],"7#11":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7b5":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"7#9#5":["1P 3M 7m 10m 13m","3M 7m 10m 13m 15P","7m 10M 13m 15P 17m"],"7#9b5":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7#9#11":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7b9#11":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9b5":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 8P 9m 10m","7m 8P 10M 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7alt":["3M 7m 8P 9m 12d","1P 7m 10m 10M 13m","3M 7m 8P 10m 13m","3M 7m 9m 12d 15P","3M 7m 10m 13m 15P","7m 10M 12d 15P 17m","7m 10M 13m 15P 17m"],"13#11":["1P 6M 7m 10M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["1P 3M 6M 7m 9m","1P 6M 7m 9m 10M","3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["1P 3M 6M 7m 10m","3M 7m 8P 10m 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","5P 7m 9M 11P 13M","7m 9M 11P 13M 15P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},s1={2:["1P 5P 6M 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P 13M","5P 8P 9M 12P 15P"],5:["1P 5P 8P 12P","1P 5P 8P 9M 12P","5P 8P 12P 15P","5P 8P 12P 15P 16M"],6:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M","7m 10M 14m 17M 19P"],9:["1P 6M 7m 9M 10M","3M 7m 9M 10M 12P","1P 7m 9M 10M 13M","3M 7m 9M 10M 13M","3M 7m 9M 12P 15P","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],11:["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],13:["3M 7m 9M 10M 13M","3M 7m 9M 13M 15P","3M 7m 10M 13M 16M","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 10M 15P","5P 8P 9M 12P 17M"],"+":["1P 6m 8P 9M 10M","1P 6m 8P 10M 13m","3M 8P 9M 10M 13m","3M 8P 10M 13m 15P","6m 10M 13m 15P 16M","6m 10M 13m 15P 17M"],o:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],h:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P 9M","1P 4P 5P 8P 11P","1P 5P 8P 9M 11P","5P 8P 9M 11P 12P","5P 8P 11P 12P 13M","5P 8P 11P 13M 15P"],"^":["1P 3M 5P 6M 9M","1P 5P 8P 10M 12P","3M 5P 9M 10M 12P","1P 5P 8P 10M 13M","3M 8P 10M 13M 15P","5P 9M 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 3m 5P 9M 11P","3m 5P 8P 9M 11P","5P 8P 9M 10m 11P","1P 5P 9M 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 6M 7M 9M 10M","3M 7M 9M 10M 12P","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"-7":["1P 3m 5P 7m 9M","1P 3m 5P 7m 10m","1P 5P 7m 10m 11P","3m 7m 8P 10m 11P","1P 5P 7m 10m 12P","3m 7m 9M 10m 12P","3m 7m 8P 10m 14m","5P 7m 9M 10m 14m","7m 10m 11P 14m 15P","7m 10m 12P 15P 16M","5P 8P 11P 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],h7:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^7#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 10M 12d 14M","7M 10M 12d 13M 14M","7M 10M 12d 13M 16M","7M 10M 12d 14M 17M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 9M 12d 14M","7M 10M 12d 14M 16M","7M 10M 12d 13M 16M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 9M 10M 13m","3M 7M 10M 13m 14M","7M 10M 13m 14M 16M","7M 10M 13m 14M 17M"],"-6":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","1P 5P 6M 10m 11P","3m 5P 6M 8P 11P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 10m 11P 13M","5P 8P 10m 13M 16M"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-^9":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-9":["1P 3m 5P 7m 9M","1P 3m 7m 9M 11P","3m 7m 9M 10m 11P","3m 7m 9M 10m 12P","3m 7m 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 11P 14m 16M","7m 10m 12P 16M 18P"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["3m 5P 7m 9M 11P","7m 9M 10m 11P","1P 4P 7m 10m 12P","3m 7m 9M 11P 12P","7m 9M 10m 11P 12P","3m 7m 9M 11P 14m","4P 10m 12P 14m","5P 8P 11P 14m","5P 8P 11P 14m 16M","7m 10m 12P 16M 18P","7m 10m 11P 16M 21m"],"-7b5":["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["3m 5d 7m 9M 11P","1P 7m 9M 10m 12d","3m 7m 9M 12d 14m","5d 8P 9M 10m 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 16M"],"-b6":["1P 3m 5P 6m 8P","3m 5P 8P 11P 13m","5P 8P 10m 11P 13m"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 11P 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 10m 10M 12P","3M 7m 10m 12P 14m","7m 10M 12P 14m 17m"],"7#11":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7b5":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"7#9#5":["3M 7m 10m 10M 13m","3M 7m 10m 13m 14m","7m 10M 13m 14m 17m"],"7#9b5":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7#9#11":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7b9#11":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9b5":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 10m 13m 16m","7m 10M 13m 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7alt":["3M 7m 8P 10m 13m","3M 7m 9m 12d 13m","3M 7m 9m 10m 13m","3M 7m 10m 13m 14m","3M 7m 9m 12d 14m","3M 7m 10m 13m 15P","3M 7m 10m 13m 16m","7m 10M 12d 14m 16m","7m 10M 12d 13m 16m","7m 10M 13m 15P 17m","7m 10M 13m 16m 17m","7m 10M 13m 16m 19d"],"13#11":["3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["3M 7m 10m 10M 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","4P 7m 9M 11P 13M","7m 9M 11P 13M 15P","7m 11P 13M 14m 16M","7m 11P 13M 16M 18P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},{dictionaryVoicing:aM,minTopNoteDiff:iM}=fm.default||fm,sM={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},cM={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},uM={"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]},dM={"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"],m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},Y={lefthand:{dictionary:sM,range:["F3","A4"],mode:"below",anchor:"a4"},triads:{dictionary:uM,mode:"below",anchor:"a4"},guidetones:{dictionary:cM,mode:"above",anchor:"a4"},default:{dictionary:dM,mode:"below",anchor:"a4"}},yM=(m,t)=>lM(m,Y[m].dictionary,t),lM=(m,t,n=["F3","A4"])=>{Object.assign(Y,{[m]:{dictionary:t,range:n}})},ut=(m,t,n={})=>{Object.assign(Y,{[m]:{dictionary:t,...n}})},fM=(m,t,n)=>{const{dictionary:e,range:r}=Y[t];return aM({chord:m,dictionary:e,range:r,picker:iM,lastVoicing:n})};let w1;const AM=k("voicings",function(m,t){return t.fmap(n=>(w1=fM(n,m,w1),hm(...w1))).outerJoin()}),NM=k("rootNotes",function(m,t){return t.fmap(n=>{const M=(n.chord||n).match(/^([a-gA-G][b#]?).*$/)[1]+m;return n.chord?{note:M}:M})}),IM=k("voicing",function(m){return m.fmap(t=>{t=typeof t=="string"?{chord:t}:t;let{dictionary:n="default",chord:e,anchor:r,offset:M,mode:o,n:P,octaves:a,...i}=t;n=typeof n=="string"?Y[n]:{dictionary:n,mode:"below",anchor:"c5"};let s=eM({...n,chord:e,anchor:r,offset:M,mode:o,n:P,octaves:a});return hm(...s).note().set(i)}).outerJoin()});function O1(m,t,n){n=Array.isArray(n)?n:[n],n.forEach(e=>{e[t]=e[m]})}O1("^","",[L,s1]);Object.keys(L).forEach(m=>{if(m.includes("-")){let t=m.replace("-","m");O1(m,t,[s1,L])}if(m.includes("^")){let t=m.replace("^","M");O1(m,t,[s1,L])}});ut("ireal",L);ut("ireal-ext",s1);export{lM as addVoicings,ut as registerVoicings,NM as rootNotes,gM as scale,bM as scaleTranspose,yM as setVoicingRange,vM as transpose,IM as voicing,O1 as voicingAlias,Y as voicingRegistry,AM as voicings};
//# sourceMappingURL=index.16d53a46.js.map
