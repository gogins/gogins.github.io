import{r as n}from"./index.528e429e.js";import{j as o}from"./jsx-runtime.0c15e696.js";const{replace:b}="",v=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g,w={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"'},x=t=>w[t],E=t=>b.call(t,v,x),C=({headings:t=[],currentPage:f})=>{const c=n.useRef(),p="on-this-page-heading",h=n.useRef([]),[g,a]=n.useState("overview");n.useEffect(()=>{const e=()=>{const r=document.querySelectorAll("article :is(h1, h2, h3, h4)");h.current=Array.from(r).map(s=>({id:s.id,topOffset:s.getBoundingClientRect().top+window.scrollY}))};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),n.useEffect(()=>{if(!c.current)return;const e=i=>{for(const l of i)if(l.isIntersecting){const{id:m}=l.target;if(m===p)continue;a(l.target.id);break}},r={rootMargin:"-100px 0% -66%",threshold:1},s=new IntersectionObserver(e,r);return document.querySelectorAll("article :is(h1,h2,h3)").forEach(i=>s.observe(i)),()=>s.disconnect()},[c.current]);const d=e=>{a(e.target.getAttribute("href").replace("#",""))},u=1;return o.jsx(o.Fragment,{children:o.jsx("ul",{ref:c,children:t.filter(({depth:e})=>e>=u&&e<4).map((e,r)=>o.jsx("li",{className:"w-full",children:o.jsx("a",{href:`${f}#${e.slug}`,onClick:d,className:`py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight ${["pl-4","pl-9","pl-12"][e.depth-u]} ${g===e.slug?"bg-lineHighlight":""}`.trim(),children:E(e.text)})},r))})})};export{C as default};
