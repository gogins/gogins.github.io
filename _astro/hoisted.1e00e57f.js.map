{"version":3,"mappings":"+HAmDE,MAAMA,EAAa,SAAS,cAAc,OAAO,EACjDA,EAAW,GAAK,gBAChB,SAAS,KAAK,OAAOA,CAAU,EAE/B,IAAIC,EACJ,SAASC,EAAcC,EAAM,CACtBC,EAASD,CAAI,GACR,aAAK,QAASA,EAAM,uDAAuD,EAErF,MAAME,EAAgBD,EAASD,CAAI,GAAKC,EAAS,aAEjDJ,EAAW,UAAY;AAAA,QACnB,OAAO,QAAQK,CAAa,EAE3B,IAAI,CAAC,CAACC,EAAKC,CAAK,IAAM,KAAKD,CAAG,KAAKC,CAAK,cAAc,EACtD,KAAK;AAAA,CAAI,CAAC;AAAA,OAGXF,EAAc,MACP,yBAAgB,UAAU,OAAO,MAAM,EAEvC,yBAAgB,UAAU,IAAI,MAAM,EAE7BJ,MACAA,EAAA,OACdI,EAAc,cACEJ,EAAAO,EAAYH,EAAc,WAAW,EAE3D,CAEAH,EAAcO,EAAY,MAAM,KAAK,EACrCC,EAAWD,EAAa,CAAC,OAAO,EAAG,CAAC,CAAE,MAAAE,KAAYT,EAAcS,CAAK,CAAC,EAGtE,MAAMC,EAAY,IAAM,CACV,SAAS,gBACjB,MAAM,YAAY,eAAgB,GAAG,OAAO,YAAc,CAAC,IAAI,CACrE,EACI,OAAO,OAAW,MACb,wBAAiB,SAAUA,CAAS,EACjCA,KCtFd,SAASC,EAAWC,EAAU,GAAI,CAChC,KAAM,CACJ,UAAAC,EAAY,GACZ,cAAAC,EACA,eAAAC,EACA,aAAAC,EACA,eAAAC,EACA,gBAAAC,CACD,EAAGN,EACJ,IAAIO,EACAC,EAEJ,MAAMC,EAAsB,MAAOC,EAAc,KAAS,CACxD,MAAMF,CAIV,EACE,eAAeG,GAAW,CACxB,GAAI,kBAAmB,UAAW,CAChC,KAAM,CAAE,QAAAC,CAAO,EAAK,MAAMC,EAAA,WAAO,uCAAgB,MACjDN,EAAK,IAAIK,EAAQ,SAAU,CAAE,MAAO,IAAK,KAAM,SAAS,CAAE,EAMtDL,EAAG,iBAAiB,YAAcO,GAAU,EACtCA,EAAM,UAAYA,EAAM,aAC1B,OAAO,SAAS,QAC9B,CAAW,EACDP,EAAG,iBAAiB,YAAcO,GAAU,CACrCA,EAAM,UACyBX,IAAc,CAE9D,CAAW,EAgCLI,EAAG,SAAS,CAAE,UAAAN,CAAW,GAAE,KAAMc,GAAM,CACjCV,EACFA,EAAe,SAAUU,CAAC,EAEMX,IAAaW,CAAC,CACxD,CAAO,EAAE,MAAOC,GAAM,CACqBV,IAAgBU,CAAC,CAC5D,CAAO,CACF,CACF,CACD,OAAAR,EAAkBG,EAAQ,EACnBF,CACT,CClFAV,EAAW,CACT,UAAW,GACX,eAAekB,EAAa,CAE5B,EACA,gBAAiB,CAEjB,CACF,CAAC","names":["themeStyle","resetThemeStyle","activateTheme","name","settings","themeSettings","key","value","injectStyle","settingsMap","listenKeys","theme","appHeight","registerSW","options","immediate","onNeedRefresh","onOfflineReady","onRegistered","onRegisteredSW","onRegisterError","wb","registerPromise","updateServiceWorker","_reloadPage","register","Workbox","__vitePreload","event","r","e","swScriptUrl"],"sources":["../../src/components/HeadCommon.astro?astro&type=script&index=0&lang.ts","../../../../../../../@vite-plugin-pwa/virtual:pwa-register","../../src/pwa.ts"],"sourcesContent":["  import { settings, injectStyle } from '../repl/themes.mjs';\n  import { settingsMap } from '../settings.mjs';\n  import { listenKeys } from 'nanostores';\n  const themeStyle = document.createElement('style');\n  themeStyle.id = 'strudel-theme';\n  document.head.append(themeStyle);\n\n  let resetThemeStyle;\n  function activateTheme(name) {\n    if (!settings[name]) {\n      console.warn('theme', name, 'has no settings.. defaulting to strudelTheme settings');\n    }\n    const themeSettings = settings[name] || settings.strudelTheme;\n    // set css variables\n    themeStyle.innerHTML = `:root {\n      ${Object.entries(themeSettings)\n        // important to override fallback\n        .map(([key, value]) => `--${key}: ${value} !important;`)\n        .join('\\n')}\n    }`;\n    // tailwind dark mode\n    if (themeSettings.light) {\n      document.documentElement.classList.remove('dark');\n    } else {\n      document.documentElement.classList.add('dark');\n    }\n    resetThemeStyle?.();\n    resetThemeStyle = undefined;\n    if (themeSettings.customStyle) {\n      resetThemeStyle = injectStyle(themeSettings.customStyle);\n    }\n  }\n\n  activateTheme(settingsMap.get().theme);\n  listenKeys(settingsMap, ['theme'], ({ theme }) => activateTheme(theme));\n\n  // https://medium.com/quick-code/100vh-problem-with-ios-safari-92ab23c852a8\n  const appHeight = () => {\n    const doc = document.documentElement;\n    doc.style.setProperty('--app-height', `${window.innerHeight - 1}px`);\n  };\n  if (typeof window !== 'undefined') {\n    window.addEventListener('resize', appHeight);\n    appHeight();\n  }\n\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyAidmVyc2lvbiI6IDMsICJzb3VyY2VzIjogWyIvVXNlcnMvbWljaGFlbGdvZ2lucy9jbG91ZC01L3N0cnVkZWwvd2Vic2l0ZS9zcmMvY29tcG9uZW50cy9IZWFkQ29tbW9uLmFzdHJvIl0sICJzb3VyY2VzQ29udGVudCI6IFsiLS0tXG5pbXBvcnQgeyBwd2FJbmZvIH0gZnJvbSAndmlydHVhbDpwd2EtaW5mbyc7XG5pbXBvcnQgJy4uL3N0eWxlcy9pbmRleC5jc3MnO1xuXG5jb25zdCB7IEJBU0VfVVJMIH0gPSBpbXBvcnQubWV0YS5lbnY7XG5jb25zdCBiYXNlID0gQkFTRV9VUkw7XG4tLS1cblxuXHUwMDNjIS0tIEdsb2JhbCBNZXRhZGF0YSAtLVx1MDAzZVxuXHUwMDNjbWV0YSBjaGFyc2V0PVwidXRmLThcIiAvXHUwMDNlXG5cdTAwM2NtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGhcIiAvXHUwMDNlXG5cdTAwM2NtZXRhIG5hbWU9XCJnZW5lcmF0b3JcIiBjb250ZW50PXtBc3Ryby5nZW5lcmF0b3J9IC9cdTAwM2VcblxuXHUwMDNjbGluayByZWw9XCJpY29uXCIgdHlwZT1cImltYWdlL3N2Zyt4bWxcIiBocmVmPVwiZmF2aWNvbi5pY29cIiAvXHUwMDNlXG5cblx1MDAzY21ldGFcbiAgbmFtZT1cImRlc2NyaXB0aW9uXCJcbiAgY29udGVudD1cIlN0cnVkZWwgaXMgYSBtdXNpYyBsaXZlIGNvZGluZyBlbnZpcm9ubWVudCBmb3IgdGhlIGJyb3dzZXIsIHBvcnRpbmcgdGhlIFRpZGFsQ3ljbGVzIHBhdHRlcm4gbGFuZ3VhZ2UgdG8gSmF2YVNjcmlwdC5cIlxuL1x1MDAzZVxuXHUwMDNjbGluayByZWw9XCJpY29uXCIgaHJlZj1cIi9mYXZpY29uLmljb1wiIC9cdTAwM2Vcblx1MDAzY2xpbmsgcmVsPVwiYXBwbGUtdG91Y2gtaWNvblwiIGhyZWY9XCIvaWNvbnMvYXBwbGUtaWNvbi0xODAucG5nXCIgc2l6ZXM9XCIxODB4MTgwXCIgL1x1MDAzZVxuXHUwMDNjbWV0YSBuYW1lPVwidGhlbWUtY29sb3JcIiBjb250ZW50PVwiIzIyMjIyMlwiIC9cdTAwM2VcblxuXHUwMDNjYmFzZSBocmVmPXtiYXNlfSAvXHUwMDNlXG5cblx1MDAzYyEtLSBTY3JvbGxhYmxlIGExMXkgY29kZSBoZWxwZXIgLS1cdTAwM2Vcblx1MDAzY3NjcmlwdCBzcmM9XCIuL21ha2Utc2Nyb2xsYWJsZS1jb2RlLWZvY3VzYWJsZS5qc1wiIGlzOmlubGluZVx1MDAzZVx1MDAzYy9zY3JpcHRcdTAwM2VcblxuXHUwMDNjc2NyaXB0IHNyYz1cIi9zcmMvcHdhLnRzXCJcdTAwM2VcdTAwM2Mvc2NyaXB0XHUwMDNlXG5cdTAwM2MhLS0gdGhpcyBkb2VzIG5vdCB3b3JrIGZvciBzb21lIHJlYXNvbjogLS1cdTAwM2Vcblx1MDAzYyEtLSBcdTAwM2NzdHlsZSBpczpnbG9iYWwgZGVmaW5lOnZhcnM9e3N0cnVkZWxUaGVtZX1cdTAwM2VcdTAwM2Mvc3R5bGVcdTAwM2UgLS1cdTAwM2Vcblx1MDAzYyEtLSB0aGUgZm9sbG93aW5nIHZhcmlhYmxlcyBhcmUganVzdCBhIGZhbGxiYWNrIHRvIG1ha2Ugc3VyZSBldmVyeXRoaW5nIGlzIHJlYWRhYmxlIHdpdGhvdXQgSlMgLS1cdTAwM2Vcblx1MDAzY3N0eWxlIGlzOmdsb2JhbFx1MDAzZVxuICA6cm9vdCB7XG4gICAgLS1iYWNrZ3JvdW5kOiAjMjIyO1xuICAgIC0tbGluZUJhY2tncm91bmQ6ICMyMjIyMjI5OTtcbiAgICAtLWZvcmVncm91bmQ6ICNmZmY7XG4gICAgLS1jYXJldDogI2ZmY2MwMDtcbiAgICAtLXNlbGVjdGlvbjogcmdiYSgxMjgsIDIwMywgMTk2LCAwLjUpO1xuICAgIC0tc2VsZWN0aW9uTWF0Y2g6ICMwMzZkZDYyNjtcbiAgICAtLWxpbmVIaWdobGlnaHQ6ICMwMDAwMDA1MDtcbiAgICAtLWd1dHRlckJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgIC0tZ3V0dGVyRm9yZWdyb3VuZDogIzhhOTE5OTY2O1xuICB9XG5cdTAwM2Mvc3R5bGVcdTAwM2Vcbntwd2FJbmZvIFx1MDAyNlx1MDAyNiBcdTAwM2NGcmFnbWVudCBzZXQ6aHRtbD17cHdhSW5mby53ZWJNYW5pZmVzdC5saW5rVGFnfSAvXHUwMDNlfVxuXG5cdTAwM2NzY3JpcHRcdTAwM2VcbiAgaW1wb3J0IHsgc2V0dGluZ3MsIGluamVjdFN0eWxlIH0gZnJvbSAnLi4vcmVwbC90aGVtZXMubWpzJztcbiAgaW1wb3J0IHsgc2V0dGluZ3NNYXAgfSBmcm9tICcuLi9zZXR0aW5ncy5tanMnO1xuICBpbXBvcnQgeyBsaXN0ZW5LZXlzIH0gZnJvbSAnbmFub3N0b3Jlcyc7XG4gIGNvbnN0IHRoZW1lU3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB0aGVtZVN0eWxlLmlkID0gJ3N0cnVkZWwtdGhlbWUnO1xuICBkb2N1bWVudC5oZWFkLmFwcGVuZCh0aGVtZVN0eWxlKTtcblxuICBsZXQgcmVzZXRUaGVtZVN0eWxlO1xuICBmdW5jdGlvbiBhY3RpdmF0ZVRoZW1lKG5hbWUpIHtcbiAgICBpZiAoIXNldHRpbmdzW25hbWVdKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ3RoZW1lJywgbmFtZSwgJ2hhcyBubyBzZXR0aW5ncy4uIGRlZmF1bHRpbmcgdG8gc3RydWRlbFRoZW1lIHNldHRpbmdzJyk7XG4gICAgfVxuICAgIGNvbnN0IHRoZW1lU2V0dGluZ3MgPSBzZXR0aW5nc1tuYW1lXSB8fCBzZXR0aW5ncy5zdHJ1ZGVsVGhlbWU7XG4gICAgLy8gc2V0IGNzcyB2YXJpYWJsZXNcbiAgICB0aGVtZVN0eWxlLmlubmVySFRNTCA9IGA6cm9vdCB7XG4gICAgICAke09iamVjdC5lbnRyaWVzKHRoZW1lU2V0dGluZ3MpXG4gICAgICAgIC8vIGltcG9ydGFudCB0byBvdmVycmlkZSBmYWxsYmFja1xuICAgICAgICAubWFwKChba2V5LCB2YWx1ZV0pID1cdTAwM2UgYC0tJHtrZXl9OiAke3ZhbHVlfSAhaW1wb3J0YW50O2ApXG4gICAgICAgIC5qb2luKCdcXG4nKX1cbiAgICB9YDtcbiAgICAvLyB0YWlsd2luZCBkYXJrIG1vZGVcbiAgICBpZiAodGhlbWVTZXR0aW5ncy5saWdodCkge1xuICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2RhcmsnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2RhcmsnKTtcbiAgICB9XG4gICAgcmVzZXRUaGVtZVN0eWxlPy4oKTtcbiAgICByZXNldFRoZW1lU3R5bGUgPSB1bmRlZmluZWQ7XG4gICAgaWYgKHRoZW1lU2V0dGluZ3MuY3VzdG9tU3R5bGUpIHtcbiAgICAgIHJlc2V0VGhlbWVTdHlsZSA9IGluamVjdFN0eWxlKHRoZW1lU2V0dGluZ3MuY3VzdG9tU3R5bGUpO1xuICAgIH1cbiAgfVxuXG4gIGFjdGl2YXRlVGhlbWUoc2V0dGluZ3NNYXAuZ2V0KCkudGhlbWUpO1xuICBsaXN0ZW5LZXlzKHNldHRpbmdzTWFwLCBbJ3RoZW1lJ10sICh7IHRoZW1lIH0pID1cdTAwM2UgYWN0aXZhdGVUaGVtZSh0aGVtZSkpO1xuXG4gIC8vIGh0dHBzOi8vbWVkaXVtLmNvbS9xdWljay1jb2RlLzEwMHZoLXByb2JsZW0td2l0aC1pb3Mtc2FmYXJpLTkyYWIyM2M4NTJhOFxuICBjb25zdCBhcHBIZWlnaHQgPSAoKSA9XHUwMDNlIHtcbiAgICBjb25zdCBkb2MgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgZG9jLnN0eWxlLnNldFByb3BlcnR5KCctLWFwcC1oZWlnaHQnLCBgJHt3aW5kb3cuaW5uZXJIZWlnaHQgLSAxfXB4YCk7XG4gIH07XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBhcHBIZWlnaHQpO1xuICAgIGFwcEhlaWdodCgpO1xuICB9XG5cdTAwM2Mvc2NyaXB0XHUwMDNlIl0sICJtYXBwaW5ncyI6ICJBQWdEQSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDNUQsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQy9DLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN6QyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNwRCxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNqQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNsQztBQUNBLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDckIsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUMvQixJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7QUFDekIsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzFGLElBQUk7QUFDSixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNqRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDdkIsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUNsQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3BDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN4QyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMvRCxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNuQixJQUFJLENBQUMsQ0FBQztBQUNOLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ3hCLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO0FBQzdCLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN2RCxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUNYLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNwRCxJQUFJO0FBQ0osSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3ZCLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMvQixJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUNuQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzlELElBQUk7QUFDSixFQUFFO0FBQ0Y7QUFDQSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN4QyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN6RTtBQUNBLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM1RSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDMUIsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN4QyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN4RSxFQUFFLENBQUM7QUFDSCxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO0FBQ3JDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNoRCxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNmLEVBQUU7QUFBQTsiLCAibmFtZXMiOiBbXSB9","// src/client/build/register.ts\nvar autoUpdateMode = \"true\";\nvar selfDestroying = \"false\";\nvar auto = autoUpdateMode === \"true\";\nvar autoDestroy = selfDestroying === \"true\";\nfunction registerSW(options = {}) {\n  const {\n    immediate = false,\n    onNeedRefresh,\n    onOfflineReady,\n    onRegistered,\n    onRegisteredSW,\n    onRegisterError\n  } = options;\n  let wb;\n  let registerPromise;\n  let sendSkipWaitingMessage;\n  const updateServiceWorker = async (_reloadPage = true) => {\n    await registerPromise;\n    if (!auto) {\n      await (sendSkipWaitingMessage == null ? void 0 : sendSkipWaitingMessage());\n    }\n  };\n  async function register() {\n    if (\"serviceWorker\" in navigator) {\n      const { Workbox } = await import(\"workbox-window\");\n      wb = new Workbox(\"/sw.js\", { scope: \"/\", type: \"classic\" });\n      sendSkipWaitingMessage = async () => {\n        await (wb == null ? void 0 : wb.messageSkipWaiting());\n      };\n      if (!autoDestroy) {\n        if (auto) {\n          wb.addEventListener(\"activated\", (event) => {\n            if (event.isUpdate || event.isExternal)\n              window.location.reload();\n          });\n          wb.addEventListener(\"installed\", (event) => {\n            if (!event.isUpdate) {\n              onOfflineReady == null ? void 0 : onOfflineReady();\n            }\n          });\n        } else {\n          let onNeedRefreshCalled = false;\n          const showSkipWaitingPrompt = () => {\n            onNeedRefreshCalled = true;\n            wb == null ? void 0 : wb.addEventListener(\"controlling\", (event) => {\n              if (event.isUpdate)\n                window.location.reload();\n            });\n            onNeedRefresh == null ? void 0 : onNeedRefresh();\n          };\n          wb.addEventListener(\"installed\", (event) => {\n            if (typeof event.isUpdate === \"undefined\") {\n              if (typeof event.isExternal !== \"undefined\") {\n                if (event.isExternal)\n                  showSkipWaitingPrompt();\n                else\n                  !onNeedRefreshCalled && (onOfflineReady == null ? void 0 : onOfflineReady());\n              } else {\n                if (event.isExternal)\n                  window.location.reload();\n                else\n                  !onNeedRefreshCalled && (onOfflineReady == null ? void 0 : onOfflineReady());\n              }\n            } else if (!event.isUpdate) {\n              onOfflineReady == null ? void 0 : onOfflineReady();\n            }\n          });\n          wb.addEventListener(\"waiting\", showSkipWaitingPrompt);\n          wb.addEventListener(\"externalwaiting\", showSkipWaitingPrompt);\n        }\n      }\n      wb.register({ immediate }).then((r) => {\n        if (onRegisteredSW)\n          onRegisteredSW(\"/sw.js\", r);\n        else\n          onRegistered == null ? void 0 : onRegistered(r);\n      }).catch((e) => {\n        onRegisterError == null ? void 0 : onRegisterError(e);\n      });\n    }\n  }\n  registerPromise = register();\n  return updateServiceWorker;\n}\nexport {\n  registerSW\n};\n","import { registerSW } from 'virtual:pwa-register';\n\nregisterSW({\n  immediate: true,\n  onRegisteredSW(swScriptUrl) {\n    // console.log('SW registered: ', swScriptUrl)\n  },\n  onOfflineReady() {\n    // console.log('PWA application ready to work offline')\n  },\n});\n"],"file":"_astro/hoisted.1e00e57f.js"}