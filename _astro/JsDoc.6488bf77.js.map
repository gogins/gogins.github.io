{"version":3,"file":"JsDoc.6488bf77.js","sources":["../../src/docs/JsDoc.jsx"],"sourcesContent":["import jsdoc from '../../../doc.json'; // doc.json is built with `npm run jsdoc-json`\nconst docs = jsdoc.docs.reduce((acc, obj) => Object.assign(acc, { [obj.longname]: obj }), {});\nimport { MiniRepl } from './MiniRepl';\n\nconst getTag = (title, item) => item.tags?.find((t) => t.title === title)?.text;\n\nexport function JsDoc({ name, h = 3, hideDescription, punchcard, canvasHeight }) {\n  const item = docs[name];\n  if (!item) {\n    console.warn('Not found: ' + name);\n    return <div />;\n  }\n  const synonyms = getTag('synonyms', item)?.split(', ') || [];\n  const CustomHeading = `h${h}`;\n  const description =\n    item.description?.replaceAll(/\\{@link ([a-zA-Z\\.]+)?#?([a-zA-Z]*)\\}/g, (_, a, b) => {\n      // console.log(_, 'a', a, 'b', b);\n      return `<a href=\"#${a.replaceAll('.', '').toLowerCase()}${b ? `-${b}` : ''}\">${a}${b ? `#${b}` : ''}</a>`;\n    }) || '';\n  return (\n    <>\n      {!!h && <CustomHeading>{item.longname}</CustomHeading>}\n      {!hideDescription && (\n        <>\n          {!!synonyms.length && (\n            <span>\n              Synonyms: <code>{synonyms.join(', ')}</code>\n            </span>\n          )}\n          <div dangerouslySetInnerHTML={{ __html: description }} />\n        </>\n      )}\n      <ul>\n        {item.params?.map((param, i) => (\n          <li key={i}>\n            {param.name} ({param.type?.names?.join('|')}): {param.description?.replace(/(<([^>]+)>)/gi, '')}\n          </li>\n        ))}\n      </ul>\n\n      {item.examples?.length ? (\n        <div className=\"space-y-2\">\n          {item.examples?.map((example, k) => (\n            <MiniRepl tune={example} key={k} {...{ punchcard, canvasHeight }} />\n          ))}\n        </div>\n      ) : (\n        <div />\n      )}\n    </>\n  );\n}\n"],"names":["docs","jsdoc","reduce","acc","obj","Object","assign","longname","getTag","title","item","tags","find","t","text","JsDoc","name","h","hideDescription","punchcard","canvasHeight","warn","_jsx","synonyms","split","CustomHeading","description","replaceAll","_","a","b","toLowerCase","_Fragment","length","join","__html","params","map","param","i","type","names","replace","examples","example","k","MiniRepl"],"mappings":"mTACA,MAAMA,EAAOC,EAAMD,KAAKE,OAAO,CAACC,EAAKC,IAAQC,OAAOC,OAAOH,EAAK,CAAE,CAACC,EAAIG,QAAQ,EAAGH,CAAI,CAAC,EAAG,CAAE,CAAA,EAGtFI,EAAS,CAACC,EAAOC,IAASA,EAAKC,MAAMC,KAAYC,GAAAA,EAAEJ,QAAUA,CAAK,GAAGK,KAEpE,SAASC,EAAM,CAAEC,KAAAA,EAAMC,EAAAA,EAAI,EAAGC,gBAAAA,EAAiBC,UAAAA,EAAWC,aAAAA,CAAa,EAAG,CACzEV,MAAAA,EAAOV,EAAKgB,CAAI,EACtB,GAAI,CAACN,EACKW,eAAAA,KAAK,cAAgBL,CAAI,EAC1BM,EAAA,IAAK,MAAA,CAAA,CAAA,EAERC,MAAAA,EAAWf,EAAO,WAAYE,CAAI,GAAGc,MAAM,IAAI,GAAK,GACpDC,EAAgB,IAAIR,CAAC,GACrBS,EACJhB,EAAKgB,aAAaC,WAAW,yCAA0C,CAACC,EAAGC,EAAGC,IAErE,aAAaD,EAAEF,WAAW,IAAK,EAAE,EAAEI,YAAa,CAAA,GAAGD,EAAI,IAAIA,CAAC,GAAK,EAAE,KAAKD,CAAC,GAAGC,EAAI,IAAIA,CAAC,GAAK,EAAE,MACpG,GAAK,GACR,cACEE,EAAAA,SAAA,CAAA,SACG,CAAA,CAAC,CAACf,SAAMQ,EAAA,CAAA,SAAef,EAAKH,QAApB,CAAA,EACR,CAACW,UACAc,WAAA,CAAA,SACG,CAAA,CAAC,CAACT,EAASU,eACV,OAAA,CAAA,SAAA,CAAM,aACMX,EAAA,IAAA,OAAA,CAAA,SAAOC,EAASW,KAAK,IAAI,CAAA,CAAxB,CAAA,CAAA,CAAA,EAGfZ,EAAA,IAAA,MAAA,CAAK,wBAAyB,CAAEa,OAAQT,CAAY,CAAA,CAAG,CAAA,CAAA,CAAA,EAG3DJ,EAAA,IAAA,KAAA,CAAA,SACGZ,EAAK0B,QAAQC,IAAI,CAACC,EAAOC,WACxB,KAAA,CAAA,SAAA,CACGD,EAAMtB,KAAK,KAAGsB,EAAME,MAAMC,OAAOP,KAAK,GAAG,EAAE,MAAII,EAAMZ,aAAagB,QAAQ,gBAAiB,EAAE,CAAA,CAAA,EADvFH,CAGV,CAAA,CALF,CAAA,EAQA7B,EAAKiC,UAAUV,aACd,MAAA,CAAK,UAAU,YAAA,SACZvB,EAAKiC,UAAUN,IAAI,CAACO,EAASC,UAC3BC,EAAA,CAAS,KAAMF,EAAuBzB,UAAAA,EAAWC,aAAAA,CAAA,EAApByB,CAC/B,CAAA,CAAA,CAAA,EAGHvB,EAAA,IAAK,MAAA,CAAA,CAAA,CAAA,CAAA,CAET,CAEJ"}