{"version":3,"file":"useKeydown.f3172d6b.js","sources":["../../../node_modules/.pnpm/@codemirror+autocomplete@6.6.0_@codemirror+language@6.6.0_@codemirror+state@6.2.0_@codemirror_tgn6ee7x6vnfukuh3dwps5kjdm/node_modules/@codemirror/autocomplete/dist/index.js","../../../node_modules/.pnpm/@lezer+lr@1.3.1/node_modules/@lezer/lr/dist/index.js","../../../node_modules/.pnpm/@lezer+javascript@1.4.1/node_modules/@lezer/javascript/dist/index.es.js","../../../node_modules/.pnpm/@codemirror+lang-javascript@6.1.7/node_modules/@codemirror/lang-javascript/dist/index.js","../../../node_modules/.pnpm/@codemirror+commands@6.2.4/node_modules/@codemirror/commands/dist/index.js","../../../node_modules/.pnpm/crelt@1.0.5/node_modules/crelt/index.es.js","../../../node_modules/.pnpm/@codemirror+search@6.2.3/node_modules/@codemirror/search/dist/index.js","../../../node_modules/.pnpm/@replit+codemirror-emacs@6.0.1_@codemirror+autocomplete@6.6.0_@codemirror+commands@6.2.4_@cod_o4u7hfrcc3tgb4s7robu2mkism/node_modules/@replit/codemirror-emacs/dist/index.js","../../../node_modules/.pnpm/@replit+codemirror-vim@6.0.14_@codemirror+commands@6.2.4_@codemirror+language@6.6.0_@codemirr_tldyzvzlos7fkfqgtdkxipr37q/node_modules/@replit/codemirror-vim/dist/index.js","../../../node_modules/.pnpm/@babel+runtime@7.20.13/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../../node_modules/.pnpm/@codemirror+lint@6.1.0/node_modules/@codemirror/lint/dist/index.js","../../../node_modules/.pnpm/@uiw+codemirror-extensions-basic-setup@4.19.16_@codemirror+autocomplete@6.6.0_@codemirror+com_3ouvqnxf5u7n4wnhz6jzl43xw4/node_modules/@uiw/codemirror-extensions-basic-setup/esm/index.js","../../../node_modules/.pnpm/@codemirror+theme-one-dark@6.1.0/node_modules/@codemirror/theme-one-dark/dist/index.js","../../../node_modules/.pnpm/@uiw+react-codemirror@4.19.16_@babel+runtime@7.20.13_@codemirror+autocomplete@6.6.0_@codemirr_f6wyxkaeficsb34pvdmxwoigqe/node_modules/@uiw/react-codemirror/esm/getDefaultExtensions.js","../../../node_modules/.pnpm/@uiw+react-codemirror@4.19.16_@babel+runtime@7.20.13_@codemirror+autocomplete@6.6.0_@codemirr_f6wyxkaeficsb34pvdmxwoigqe/node_modules/@uiw/react-codemirror/esm/utils.js","../../../node_modules/.pnpm/@uiw+react-codemirror@4.19.16_@babel+runtime@7.20.13_@codemirror+autocomplete@6.6.0_@codemirr_f6wyxkaeficsb34pvdmxwoigqe/node_modules/@uiw/react-codemirror/esm/useCodeMirror.js","../../../node_modules/.pnpm/@uiw+react-codemirror@4.19.16_@babel+runtime@7.20.13_@codemirror+autocomplete@6.6.0_@codemirr_f6wyxkaeficsb34pvdmxwoigqe/node_modules/@uiw/react-codemirror/esm/index.js","../../../packages/react/src/components/Autocomplete.jsx","../../../packages/codemirror/flash.mjs","../../../packages/codemirror/highlight.mjs","../../../packages/codemirror/themes/one-dark.mjs","../../../packages/react/src/components/CodeMirror6.jsx","../../../packages/react/src/cx.js","../../../packages/react/src/hooks/useHighlighting.mjs","../../../node_modules/.pnpm/estraverse@5.3.0/node_modules/estraverse/estraverse.js","../../../node_modules/.pnpm/esutils@2.0.3/node_modules/esutils/lib/ast.js","../../../node_modules/.pnpm/esutils@2.0.3/node_modules/esutils/lib/code.js","../../../node_modules/.pnpm/esutils@2.0.3/node_modules/esutils/lib/keyword.js","../../../node_modules/.pnpm/esutils@2.0.3/node_modules/esutils/lib/utils.js","../../../node_modules/.pnpm/source-map@0.6.1/node_modules/source-map/lib/base64.js","../../../node_modules/.pnpm/source-map@0.6.1/node_modules/source-map/lib/base64-vlq.js","../../../node_modules/.pnpm/source-map@0.6.1/node_modules/source-map/lib/util.js","../../../node_modules/.pnpm/source-map@0.6.1/node_modules/source-map/lib/array-set.js","../../../node_modules/.pnpm/source-map@0.6.1/node_modules/source-map/lib/mapping-list.js","../../../node_modules/.pnpm/source-map@0.6.1/node_modules/source-map/lib/source-map-generator.js","../../../node_modules/.pnpm/source-map@0.6.1/node_modules/source-map/lib/binary-search.js","../../../node_modules/.pnpm/source-map@0.6.1/node_modules/source-map/lib/quick-sort.js","../../../node_modules/.pnpm/source-map@0.6.1/node_modules/source-map/lib/source-map-consumer.js","../../../node_modules/.pnpm/source-map@0.6.1/node_modules/source-map/lib/source-node.js","../../../node_modules/.pnpm/source-map@0.6.1/node_modules/source-map/source-map.js","../../../node_modules/.pnpm/escodegen@2.0.0/node_modules/escodegen/escodegen.js","../../../node_modules/.pnpm/acorn@8.8.2/node_modules/acorn/dist/acorn.mjs","../../../node_modules/.pnpm/estree-walker@3.0.3/node_modules/estree-walker/src/walker.js","../../../node_modules/.pnpm/estree-walker@3.0.3/node_modules/estree-walker/src/sync.js","../../../node_modules/.pnpm/estree-walker@3.0.3/node_modules/estree-walker/src/index.js","../../../packages/transpiler/transpiler.mjs","../../../packages/react/src/hooks/usePatternFrame.mjs","../../../packages/react/src/hooks/usePostMessage.mjs","../../../packages/react/src/hooks/useStrudel.mjs","../../../packages/react/src/hooks/useKeydown.mjs"],"sourcesContent":["import { Annotation, StateEffect, EditorSelection, codePointAt, codePointSize, fromCodePoint, Facet, combineConfig, StateField, Prec, Text, MapMode, RangeValue, RangeSet, CharCategory } from '@codemirror/state';\nimport { Direction, logException, showTooltip, EditorView, ViewPlugin, getTooltip, Decoration, WidgetType, keymap } from '@codemirror/view';\nimport { syntaxTree, indentUnit } from '@codemirror/language';\n\n/**\nAn instance of this is passed to completion source functions.\n*/\nclass CompletionContext {\n    /**\n    Create a new completion context. (Mostly useful for testing\n    completion sourcesâ€”in the editor, the extension will create\n    these for you.)\n    */\n    constructor(\n    /**\n    The editor state that the completion happens in.\n    */\n    state, \n    /**\n    The position at which the completion is happening.\n    */\n    pos, \n    /**\n    Indicates whether completion was activated explicitly, or\n    implicitly by typing. The usual way to respond to this is to\n    only return completions when either there is part of a\n    completable entity before the cursor, or `explicit` is true.\n    */\n    explicit) {\n        this.state = state;\n        this.pos = pos;\n        this.explicit = explicit;\n        /**\n        @internal\n        */\n        this.abortListeners = [];\n    }\n    /**\n    Get the extent, content, and (if there is a token) type of the\n    token before `this.pos`.\n    */\n    tokenBefore(types) {\n        let token = syntaxTree(this.state).resolveInner(this.pos, -1);\n        while (token && types.indexOf(token.name) < 0)\n            token = token.parent;\n        return token ? { from: token.from, to: this.pos,\n            text: this.state.sliceDoc(token.from, this.pos),\n            type: token.type } : null;\n    }\n    /**\n    Get the match of the given expression directly before the\n    cursor.\n    */\n    matchBefore(expr) {\n        let line = this.state.doc.lineAt(this.pos);\n        let start = Math.max(line.from, this.pos - 250);\n        let str = line.text.slice(start - line.from, this.pos - line.from);\n        let found = str.search(ensureAnchor(expr, false));\n        return found < 0 ? null : { from: start + found, to: this.pos, text: str.slice(found) };\n    }\n    /**\n    Yields true when the query has been aborted. Can be useful in\n    asynchronous queries to avoid doing work that will be ignored.\n    */\n    get aborted() { return this.abortListeners == null; }\n    /**\n    Allows you to register abort handlers, which will be called when\n    the query is\n    [aborted](https://codemirror.net/6/docs/ref/#autocomplete.CompletionContext.aborted).\n    */\n    addEventListener(type, listener) {\n        if (type == \"abort\" && this.abortListeners)\n            this.abortListeners.push(listener);\n    }\n}\nfunction toSet(chars) {\n    let flat = Object.keys(chars).join(\"\");\n    let words = /\\w/.test(flat);\n    if (words)\n        flat = flat.replace(/\\w/g, \"\");\n    return `[${words ? \"\\\\w\" : \"\"}${flat.replace(/[^\\w\\s]/g, \"\\\\$&\")}]`;\n}\nfunction prefixMatch(options) {\n    let first = Object.create(null), rest = Object.create(null);\n    for (let { label } of options) {\n        first[label[0]] = true;\n        for (let i = 1; i < label.length; i++)\n            rest[label[i]] = true;\n    }\n    let source = toSet(first) + toSet(rest) + \"*$\";\n    return [new RegExp(\"^\" + source), new RegExp(source)];\n}\n/**\nGiven a a fixed array of options, return an autocompleter that\ncompletes them.\n*/\nfunction completeFromList(list) {\n    let options = list.map(o => typeof o == \"string\" ? { label: o } : o);\n    let [validFor, match] = options.every(o => /^\\w+$/.test(o.label)) ? [/\\w*$/, /\\w+$/] : prefixMatch(options);\n    return (context) => {\n        let token = context.matchBefore(match);\n        return token || context.explicit ? { from: token ? token.from : context.pos, options, validFor } : null;\n    };\n}\n/**\nWrap the given completion source so that it will only fire when the\ncursor is in a syntax node with one of the given names.\n*/\nfunction ifIn(nodes, source) {\n    return (context) => {\n        for (let pos = syntaxTree(context.state).resolveInner(context.pos, -1); pos; pos = pos.parent) {\n            if (nodes.indexOf(pos.name) > -1)\n                return source(context);\n            if (pos.type.isTop)\n                break;\n        }\n        return null;\n    };\n}\n/**\nWrap the given completion source so that it will not fire when the\ncursor is in a syntax node with one of the given names.\n*/\nfunction ifNotIn(nodes, source) {\n    return (context) => {\n        for (let pos = syntaxTree(context.state).resolveInner(context.pos, -1); pos; pos = pos.parent) {\n            if (nodes.indexOf(pos.name) > -1)\n                return null;\n            if (pos.type.isTop)\n                break;\n        }\n        return source(context);\n    };\n}\nclass Option {\n    constructor(completion, source, match, score) {\n        this.completion = completion;\n        this.source = source;\n        this.match = match;\n        this.score = score;\n    }\n}\nfunction cur(state) { return state.selection.main.from; }\n// Make sure the given regexp has a $ at its end and, if `start` is\n// true, a ^ at its start.\nfunction ensureAnchor(expr, start) {\n    var _a;\n    let { source } = expr;\n    let addStart = start && source[0] != \"^\", addEnd = source[source.length - 1] != \"$\";\n    if (!addStart && !addEnd)\n        return expr;\n    return new RegExp(`${addStart ? \"^\" : \"\"}(?:${source})${addEnd ? \"$\" : \"\"}`, (_a = expr.flags) !== null && _a !== void 0 ? _a : (expr.ignoreCase ? \"i\" : \"\"));\n}\n/**\nThis annotation is added to transactions that are produced by\npicking a completion.\n*/\nconst pickedCompletion = /*@__PURE__*/Annotation.define();\n/**\nHelper function that returns a transaction spec which inserts a\ncompletion's text in the main selection range, and any other\nselection range that has the same text in front of it.\n*/\nfunction insertCompletionText(state, text, from, to) {\n    let { main } = state.selection, fromOff = from - main.from, toOff = to - main.from;\n    return Object.assign(Object.assign({}, state.changeByRange(range => {\n        if (range != main && from != to &&\n            state.sliceDoc(range.from + fromOff, range.from + toOff) != state.sliceDoc(from, to))\n            return { range };\n        return {\n            changes: { from: range.from + fromOff, to: to == main.from ? range.to : range.from + toOff, insert: text },\n            range: EditorSelection.cursor(range.from + fromOff + text.length)\n        };\n    })), { userEvent: \"input.complete\" });\n}\nfunction applyCompletion(view, option) {\n    const apply = option.completion.apply || option.completion.label;\n    let result = option.source;\n    if (typeof apply == \"string\")\n        view.dispatch(Object.assign(Object.assign({}, insertCompletionText(view.state, apply, result.from, result.to)), { annotations: pickedCompletion.of(option.completion) }));\n    else\n        apply(view, option.completion, result.from, result.to);\n}\nconst SourceCache = /*@__PURE__*/new WeakMap();\nfunction asSource(source) {\n    if (!Array.isArray(source))\n        return source;\n    let known = SourceCache.get(source);\n    if (!known)\n        SourceCache.set(source, known = completeFromList(source));\n    return known;\n}\nconst startCompletionEffect = /*@__PURE__*/StateEffect.define();\nconst closeCompletionEffect = /*@__PURE__*/StateEffect.define();\n\n// A pattern matcher for fuzzy completion matching. Create an instance\n// once for a pattern, and then use that to match any number of\n// completions.\nclass FuzzyMatcher {\n    constructor(pattern) {\n        this.pattern = pattern;\n        this.chars = [];\n        this.folded = [];\n        // Buffers reused by calls to `match` to track matched character\n        // positions.\n        this.any = [];\n        this.precise = [];\n        this.byWord = [];\n        for (let p = 0; p < pattern.length;) {\n            let char = codePointAt(pattern, p), size = codePointSize(char);\n            this.chars.push(char);\n            let part = pattern.slice(p, p + size), upper = part.toUpperCase();\n            this.folded.push(codePointAt(upper == part ? part.toLowerCase() : upper, 0));\n            p += size;\n        }\n        this.astral = pattern.length != this.chars.length;\n    }\n    // Matches a given word (completion) against the pattern (input).\n    // Will return null for no match, and otherwise an array that starts\n    // with the match score, followed by any number of `from, to` pairs\n    // indicating the matched parts of `word`.\n    //\n    // The score is a number that is more negative the worse the match\n    // is. See `Penalty` above.\n    match(word) {\n        if (this.pattern.length == 0)\n            return [0];\n        if (word.length < this.pattern.length)\n            return null;\n        let { chars, folded, any, precise, byWord } = this;\n        // For single-character queries, only match when they occur right\n        // at the start\n        if (chars.length == 1) {\n            let first = codePointAt(word, 0), firstSize = codePointSize(first);\n            let score = firstSize == word.length ? 0 : -100 /* Penalty.NotFull */;\n            if (first == chars[0]) ;\n            else if (first == folded[0])\n                score += -200 /* Penalty.CaseFold */;\n            else\n                return null;\n            return [score, 0, firstSize];\n        }\n        let direct = word.indexOf(this.pattern);\n        if (direct == 0)\n            return [word.length == this.pattern.length ? 0 : -100 /* Penalty.NotFull */, 0, this.pattern.length];\n        let len = chars.length, anyTo = 0;\n        if (direct < 0) {\n            for (let i = 0, e = Math.min(word.length, 200); i < e && anyTo < len;) {\n                let next = codePointAt(word, i);\n                if (next == chars[anyTo] || next == folded[anyTo])\n                    any[anyTo++] = i;\n                i += codePointSize(next);\n            }\n            // No match, exit immediately\n            if (anyTo < len)\n                return null;\n        }\n        // This tracks the extent of the precise (non-folded, not\n        // necessarily adjacent) match\n        let preciseTo = 0;\n        // Tracks whether there is a match that hits only characters that\n        // appear to be starting words. `byWordFolded` is set to true when\n        // a case folded character is encountered in such a match\n        let byWordTo = 0, byWordFolded = false;\n        // If we've found a partial adjacent match, these track its state\n        let adjacentTo = 0, adjacentStart = -1, adjacentEnd = -1;\n        let hasLower = /[a-z]/.test(word), wordAdjacent = true;\n        // Go over the option's text, scanning for the various kinds of matches\n        for (let i = 0, e = Math.min(word.length, 200), prevType = 0 /* Tp.NonWord */; i < e && byWordTo < len;) {\n            let next = codePointAt(word, i);\n            if (direct < 0) {\n                if (preciseTo < len && next == chars[preciseTo])\n                    precise[preciseTo++] = i;\n                if (adjacentTo < len) {\n                    if (next == chars[adjacentTo] || next == folded[adjacentTo]) {\n                        if (adjacentTo == 0)\n                            adjacentStart = i;\n                        adjacentEnd = i + 1;\n                        adjacentTo++;\n                    }\n                    else {\n                        adjacentTo = 0;\n                    }\n                }\n            }\n            let ch, type = next < 0xff\n                ? (next >= 48 && next <= 57 || next >= 97 && next <= 122 ? 2 /* Tp.Lower */ : next >= 65 && next <= 90 ? 1 /* Tp.Upper */ : 0 /* Tp.NonWord */)\n                : ((ch = fromCodePoint(next)) != ch.toLowerCase() ? 1 /* Tp.Upper */ : ch != ch.toUpperCase() ? 2 /* Tp.Lower */ : 0 /* Tp.NonWord */);\n            if (!i || type == 1 /* Tp.Upper */ && hasLower || prevType == 0 /* Tp.NonWord */ && type != 0 /* Tp.NonWord */) {\n                if (chars[byWordTo] == next || (folded[byWordTo] == next && (byWordFolded = true)))\n                    byWord[byWordTo++] = i;\n                else if (byWord.length)\n                    wordAdjacent = false;\n            }\n            prevType = type;\n            i += codePointSize(next);\n        }\n        if (byWordTo == len && byWord[0] == 0 && wordAdjacent)\n            return this.result(-100 /* Penalty.ByWord */ + (byWordFolded ? -200 /* Penalty.CaseFold */ : 0), byWord, word);\n        if (adjacentTo == len && adjacentStart == 0)\n            return [-200 /* Penalty.CaseFold */ - word.length + (adjacentEnd == word.length ? 0 : -100 /* Penalty.NotFull */), 0, adjacentEnd];\n        if (direct > -1)\n            return [-700 /* Penalty.NotStart */ - word.length, direct, direct + this.pattern.length];\n        if (adjacentTo == len)\n            return [-200 /* Penalty.CaseFold */ + -700 /* Penalty.NotStart */ - word.length, adjacentStart, adjacentEnd];\n        if (byWordTo == len)\n            return this.result(-100 /* Penalty.ByWord */ + (byWordFolded ? -200 /* Penalty.CaseFold */ : 0) + -700 /* Penalty.NotStart */ +\n                (wordAdjacent ? 0 : -1100 /* Penalty.Gap */), byWord, word);\n        return chars.length == 2 ? null : this.result((any[0] ? -700 /* Penalty.NotStart */ : 0) + -200 /* Penalty.CaseFold */ + -1100 /* Penalty.Gap */, any, word);\n    }\n    result(score, positions, word) {\n        let result = [score - word.length], i = 1;\n        for (let pos of positions) {\n            let to = pos + (this.astral ? codePointSize(codePointAt(word, pos)) : 1);\n            if (i > 1 && result[i - 1] == pos)\n                result[i - 1] = to;\n            else {\n                result[i++] = pos;\n                result[i++] = to;\n            }\n        }\n        return result;\n    }\n}\n\nconst completionConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            activateOnTyping: true,\n            selectOnOpen: true,\n            override: null,\n            closeOnBlur: true,\n            maxRenderedOptions: 100,\n            defaultKeymap: true,\n            tooltipClass: () => \"\",\n            optionClass: () => \"\",\n            aboveCursor: false,\n            icons: true,\n            addToOptions: [],\n            positionInfo: defaultPositionInfo,\n            compareCompletions: (a, b) => a.label.localeCompare(b.label),\n            interactionDelay: 75\n        }, {\n            defaultKeymap: (a, b) => a && b,\n            closeOnBlur: (a, b) => a && b,\n            icons: (a, b) => a && b,\n            tooltipClass: (a, b) => c => joinClass(a(c), b(c)),\n            optionClass: (a, b) => c => joinClass(a(c), b(c)),\n            addToOptions: (a, b) => a.concat(b)\n        });\n    }\n});\nfunction joinClass(a, b) {\n    return a ? b ? a + \" \" + b : a : b;\n}\nfunction defaultPositionInfo(view, list, option, info, space) {\n    let rtl = view.textDirection == Direction.RTL, left = rtl, narrow = false;\n    let side = \"top\", offset, maxWidth;\n    let spaceLeft = list.left - space.left, spaceRight = space.right - list.right;\n    let infoWidth = info.right - info.left, infoHeight = info.bottom - info.top;\n    if (left && spaceLeft < Math.min(infoWidth, spaceRight))\n        left = false;\n    else if (!left && spaceRight < Math.min(infoWidth, spaceLeft))\n        left = true;\n    if (infoWidth <= (left ? spaceLeft : spaceRight)) {\n        offset = Math.max(space.top, Math.min(option.top, space.bottom - infoHeight)) - list.top;\n        maxWidth = Math.min(400 /* Info.Width */, left ? spaceLeft : spaceRight);\n    }\n    else {\n        narrow = true;\n        maxWidth = Math.min(400 /* Info.Width */, (rtl ? list.right : space.right - list.left) - 30 /* Info.Margin */);\n        let spaceBelow = space.bottom - list.bottom;\n        if (spaceBelow >= infoHeight || spaceBelow > list.top) { // Below the completion\n            offset = option.bottom - list.top;\n        }\n        else { // Above it\n            side = \"bottom\";\n            offset = list.bottom - option.top;\n        }\n    }\n    return {\n        style: `${side}: ${offset}px; max-width: ${maxWidth}px`,\n        class: \"cm-completionInfo-\" + (narrow ? (rtl ? \"left-narrow\" : \"right-narrow\") : left ? \"left\" : \"right\")\n    };\n}\n\nfunction optionContent(config) {\n    let content = config.addToOptions.slice();\n    if (config.icons)\n        content.push({\n            render(completion) {\n                let icon = document.createElement(\"div\");\n                icon.classList.add(\"cm-completionIcon\");\n                if (completion.type)\n                    icon.classList.add(...completion.type.split(/\\s+/g).map(cls => \"cm-completionIcon-\" + cls));\n                icon.setAttribute(\"aria-hidden\", \"true\");\n                return icon;\n            },\n            position: 20\n        });\n    content.push({\n        render(completion, _s, match) {\n            let labelElt = document.createElement(\"span\");\n            labelElt.className = \"cm-completionLabel\";\n            let { label } = completion, off = 0;\n            for (let j = 1; j < match.length;) {\n                let from = match[j++], to = match[j++];\n                if (from > off)\n                    labelElt.appendChild(document.createTextNode(label.slice(off, from)));\n                let span = labelElt.appendChild(document.createElement(\"span\"));\n                span.appendChild(document.createTextNode(label.slice(from, to)));\n                span.className = \"cm-completionMatchedText\";\n                off = to;\n            }\n            if (off < label.length)\n                labelElt.appendChild(document.createTextNode(label.slice(off)));\n            return labelElt;\n        },\n        position: 50\n    }, {\n        render(completion) {\n            if (!completion.detail)\n                return null;\n            let detailElt = document.createElement(\"span\");\n            detailElt.className = \"cm-completionDetail\";\n            detailElt.textContent = completion.detail;\n            return detailElt;\n        },\n        position: 80\n    });\n    return content.sort((a, b) => a.position - b.position).map(a => a.render);\n}\nfunction rangeAroundSelected(total, selected, max) {\n    if (total <= max)\n        return { from: 0, to: total };\n    if (selected < 0)\n        selected = 0;\n    if (selected <= (total >> 1)) {\n        let off = Math.floor(selected / max);\n        return { from: off * max, to: (off + 1) * max };\n    }\n    let off = Math.floor((total - selected) / max);\n    return { from: total - (off + 1) * max, to: total - off * max };\n}\nclass CompletionTooltip {\n    constructor(view, stateField) {\n        this.view = view;\n        this.stateField = stateField;\n        this.info = null;\n        this.placeInfoReq = {\n            read: () => this.measureInfo(),\n            write: (pos) => this.placeInfo(pos),\n            key: this\n        };\n        this.space = null;\n        this.currentClass = \"\";\n        let cState = view.state.field(stateField);\n        let { options, selected } = cState.open;\n        let config = view.state.facet(completionConfig);\n        this.optionContent = optionContent(config);\n        this.optionClass = config.optionClass;\n        this.tooltipClass = config.tooltipClass;\n        this.range = rangeAroundSelected(options.length, selected, config.maxRenderedOptions);\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-tooltip-autocomplete\";\n        this.updateTooltipClass(view.state);\n        this.dom.addEventListener(\"mousedown\", (e) => {\n            for (let dom = e.target, match; dom && dom != this.dom; dom = dom.parentNode) {\n                if (dom.nodeName == \"LI\" && (match = /-(\\d+)$/.exec(dom.id)) && +match[1] < options.length) {\n                    applyCompletion(view, options[+match[1]]);\n                    e.preventDefault();\n                    return;\n                }\n            }\n        });\n        this.dom.addEventListener(\"focusout\", (e) => {\n            let state = view.state.field(this.stateField, false);\n            if (state && state.tooltip && view.state.facet(completionConfig).closeOnBlur &&\n                e.relatedTarget != view.contentDOM)\n                view.dispatch({ effects: closeCompletionEffect.of(null) });\n        });\n        this.list = this.dom.appendChild(this.createListBox(options, cState.id, this.range));\n        this.list.addEventListener(\"scroll\", () => {\n            if (this.info)\n                this.view.requestMeasure(this.placeInfoReq);\n        });\n    }\n    mount() { this.updateSel(); }\n    update(update) {\n        var _a, _b, _c;\n        let cState = update.state.field(this.stateField);\n        let prevState = update.startState.field(this.stateField);\n        this.updateTooltipClass(update.state);\n        if (cState != prevState) {\n            this.updateSel();\n            if (((_a = cState.open) === null || _a === void 0 ? void 0 : _a.disabled) != ((_b = prevState.open) === null || _b === void 0 ? void 0 : _b.disabled))\n                this.dom.classList.toggle(\"cm-tooltip-autocomplete-disabled\", !!((_c = cState.open) === null || _c === void 0 ? void 0 : _c.disabled));\n        }\n    }\n    updateTooltipClass(state) {\n        let cls = this.tooltipClass(state);\n        if (cls != this.currentClass) {\n            for (let c of this.currentClass.split(\" \"))\n                if (c)\n                    this.dom.classList.remove(c);\n            for (let c of cls.split(\" \"))\n                if (c)\n                    this.dom.classList.add(c);\n            this.currentClass = cls;\n        }\n    }\n    positioned(space) {\n        this.space = space;\n        if (this.info)\n            this.view.requestMeasure(this.placeInfoReq);\n    }\n    updateSel() {\n        let cState = this.view.state.field(this.stateField), open = cState.open;\n        if (open.selected > -1 && open.selected < this.range.from || open.selected >= this.range.to) {\n            this.range = rangeAroundSelected(open.options.length, open.selected, this.view.state.facet(completionConfig).maxRenderedOptions);\n            this.list.remove();\n            this.list = this.dom.appendChild(this.createListBox(open.options, cState.id, this.range));\n            this.list.addEventListener(\"scroll\", () => {\n                if (this.info)\n                    this.view.requestMeasure(this.placeInfoReq);\n            });\n        }\n        if (this.updateSelectedOption(open.selected)) {\n            if (this.info) {\n                this.info.remove();\n                this.info = null;\n            }\n            let { completion } = open.options[open.selected];\n            let { info } = completion;\n            if (!info)\n                return;\n            let infoResult = typeof info === 'string' ? document.createTextNode(info) : info(completion);\n            if (!infoResult)\n                return;\n            if ('then' in infoResult) {\n                infoResult.then(node => {\n                    if (node && this.view.state.field(this.stateField, false) == cState)\n                        this.addInfoPane(node);\n                }).catch(e => logException(this.view.state, e, \"completion info\"));\n            }\n            else {\n                this.addInfoPane(infoResult);\n            }\n        }\n    }\n    addInfoPane(content) {\n        let dom = this.info = document.createElement(\"div\");\n        dom.className = \"cm-tooltip cm-completionInfo\";\n        dom.appendChild(content);\n        this.dom.appendChild(dom);\n        this.view.requestMeasure(this.placeInfoReq);\n    }\n    updateSelectedOption(selected) {\n        let set = null;\n        for (let opt = this.list.firstChild, i = this.range.from; opt; opt = opt.nextSibling, i++) {\n            if (opt.nodeName != \"LI\" || !opt.id) {\n                i--; // A section header\n            }\n            else if (i == selected) {\n                if (!opt.hasAttribute(\"aria-selected\")) {\n                    opt.setAttribute(\"aria-selected\", \"true\");\n                    set = opt;\n                }\n            }\n            else {\n                if (opt.hasAttribute(\"aria-selected\"))\n                    opt.removeAttribute(\"aria-selected\");\n            }\n        }\n        if (set)\n            scrollIntoView(this.list, set);\n        return set;\n    }\n    measureInfo() {\n        let sel = this.dom.querySelector(\"[aria-selected]\");\n        if (!sel || !this.info)\n            return null;\n        let listRect = this.dom.getBoundingClientRect();\n        let infoRect = this.info.getBoundingClientRect();\n        let selRect = sel.getBoundingClientRect();\n        let space = this.space;\n        if (!space) {\n            let win = this.dom.ownerDocument.defaultView || window;\n            space = { left: 0, top: 0, right: win.innerWidth, bottom: win.innerHeight };\n        }\n        if (selRect.top > Math.min(space.bottom, listRect.bottom) - 10 ||\n            selRect.bottom < Math.max(space.top, listRect.top) + 10)\n            return null;\n        return this.view.state.facet(completionConfig).positionInfo(this.view, listRect, selRect, infoRect, space);\n    }\n    placeInfo(pos) {\n        if (this.info) {\n            if (pos) {\n                if (pos.style)\n                    this.info.style.cssText = pos.style;\n                this.info.className = \"cm-tooltip cm-completionInfo \" + (pos.class || \"\");\n            }\n            else {\n                this.info.style.cssText = \"top: -1e6px\";\n            }\n        }\n    }\n    createListBox(options, id, range) {\n        const ul = document.createElement(\"ul\");\n        ul.id = id;\n        ul.setAttribute(\"role\", \"listbox\");\n        ul.setAttribute(\"aria-expanded\", \"true\");\n        ul.setAttribute(\"aria-label\", this.view.state.phrase(\"Completions\"));\n        let curSection = null;\n        for (let i = range.from; i < range.to; i++) {\n            let { completion, match } = options[i], { section } = completion;\n            if (section) {\n                let name = typeof section == \"string\" ? section : section.name;\n                if (name != curSection && (i > range.from || range.from == 0)) {\n                    curSection = name;\n                    if (typeof section != \"string\" && section.header) {\n                        ul.appendChild(section.header(section));\n                    }\n                    else {\n                        let header = ul.appendChild(document.createElement(\"completion-section\"));\n                        header.textContent = name;\n                    }\n                }\n            }\n            const li = ul.appendChild(document.createElement(\"li\"));\n            li.id = id + \"-\" + i;\n            li.setAttribute(\"role\", \"option\");\n            let cls = this.optionClass(completion);\n            if (cls)\n                li.className = cls;\n            for (let source of this.optionContent) {\n                let node = source(completion, this.view.state, match);\n                if (node)\n                    li.appendChild(node);\n            }\n        }\n        if (range.from)\n            ul.classList.add(\"cm-completionListIncompleteTop\");\n        if (range.to < options.length)\n            ul.classList.add(\"cm-completionListIncompleteBottom\");\n        return ul;\n    }\n}\n// We allocate a new function instance every time the completion\n// changes to force redrawing/repositioning of the tooltip\nfunction completionTooltip(stateField) {\n    return (view) => new CompletionTooltip(view, stateField);\n}\nfunction scrollIntoView(container, element) {\n    let parent = container.getBoundingClientRect();\n    let self = element.getBoundingClientRect();\n    if (self.top < parent.top)\n        container.scrollTop -= parent.top - self.top;\n    else if (self.bottom > parent.bottom)\n        container.scrollTop += self.bottom - parent.bottom;\n}\n\n// Used to pick a preferred option when two options with the same\n// label occur in the result.\nfunction score(option) {\n    return (option.boost || 0) * 100 + (option.apply ? 10 : 0) + (option.info ? 5 : 0) +\n        (option.type ? 1 : 0);\n}\nfunction sortOptions(active, state) {\n    let options = [];\n    let sections = null;\n    let addOption = (option) => {\n        options.push(option);\n        let { section } = option.completion;\n        if (section) {\n            if (!sections)\n                sections = [];\n            let name = typeof section == \"string\" ? section : section.name;\n            if (!sections.some(s => s.name == name))\n                sections.push(typeof section == \"string\" ? { name } : section);\n        }\n    };\n    for (let a of active)\n        if (a.hasResult()) {\n            if (a.result.filter === false) {\n                let getMatch = a.result.getMatch;\n                for (let option of a.result.options) {\n                    let match = [1e9 - options.length];\n                    if (getMatch)\n                        for (let n of getMatch(option))\n                            match.push(n);\n                    addOption(new Option(option, a, match, match[0]));\n                }\n            }\n            else {\n                let matcher = new FuzzyMatcher(state.sliceDoc(a.from, a.to)), match;\n                for (let option of a.result.options)\n                    if (match = matcher.match(option.label)) {\n                        addOption(new Option(option, a, match, match[0] + (option.boost || 0)));\n                    }\n            }\n        }\n    if (sections) {\n        let sectionOrder = Object.create(null), pos = 0;\n        let cmp = (a, b) => { var _a, _b; return ((_a = a.rank) !== null && _a !== void 0 ? _a : 1e9) - ((_b = b.rank) !== null && _b !== void 0 ? _b : 1e9) || (a.name < b.name ? -1 : 1); };\n        for (let s of sections.sort(cmp)) {\n            pos -= 1e5;\n            sectionOrder[s.name] = pos;\n        }\n        for (let option of options) {\n            let { section } = option.completion;\n            if (section)\n                option.score += sectionOrder[typeof section == \"string\" ? section : section.name];\n        }\n    }\n    let result = [], prev = null;\n    let compare = state.facet(completionConfig).compareCompletions;\n    for (let opt of options.sort((a, b) => (b.score - a.score) || compare(a.completion, b.completion))) {\n        if (!prev || prev.label != opt.completion.label || prev.detail != opt.completion.detail ||\n            (prev.type != null && opt.completion.type != null && prev.type != opt.completion.type) ||\n            prev.apply != opt.completion.apply)\n            result.push(opt);\n        else if (score(opt.completion) > score(prev))\n            result[result.length - 1] = opt;\n        prev = opt.completion;\n    }\n    return result;\n}\nclass CompletionDialog {\n    constructor(options, attrs, tooltip, timestamp, selected, disabled) {\n        this.options = options;\n        this.attrs = attrs;\n        this.tooltip = tooltip;\n        this.timestamp = timestamp;\n        this.selected = selected;\n        this.disabled = disabled;\n    }\n    setSelected(selected, id) {\n        return selected == this.selected || selected >= this.options.length ? this\n            : new CompletionDialog(this.options, makeAttrs(id, selected), this.tooltip, this.timestamp, selected, this.disabled);\n    }\n    static build(active, state, id, prev, conf) {\n        let options = sortOptions(active, state);\n        if (!options.length) {\n            return prev && active.some(a => a.state == 1 /* State.Pending */) ?\n                new CompletionDialog(prev.options, prev.attrs, prev.tooltip, prev.timestamp, prev.selected, true) : null;\n        }\n        let selected = state.facet(completionConfig).selectOnOpen ? 0 : -1;\n        if (prev && prev.selected != selected && prev.selected != -1) {\n            let selectedValue = prev.options[prev.selected].completion;\n            for (let i = 0; i < options.length; i++)\n                if (options[i].completion == selectedValue) {\n                    selected = i;\n                    break;\n                }\n        }\n        return new CompletionDialog(options, makeAttrs(id, selected), {\n            pos: active.reduce((a, b) => b.hasResult() ? Math.min(a, b.from) : a, 1e8),\n            create: completionTooltip(completionState),\n            above: conf.aboveCursor,\n        }, prev ? prev.timestamp : Date.now(), selected, false);\n    }\n    map(changes) {\n        return new CompletionDialog(this.options, this.attrs, Object.assign(Object.assign({}, this.tooltip), { pos: changes.mapPos(this.tooltip.pos) }), this.timestamp, this.selected, this.disabled);\n    }\n}\nclass CompletionState {\n    constructor(active, id, open) {\n        this.active = active;\n        this.id = id;\n        this.open = open;\n    }\n    static start() {\n        return new CompletionState(none, \"cm-ac-\" + Math.floor(Math.random() * 2e6).toString(36), null);\n    }\n    update(tr) {\n        let { state } = tr, conf = state.facet(completionConfig);\n        let sources = conf.override ||\n            state.languageDataAt(\"autocomplete\", cur(state)).map(asSource);\n        let active = sources.map(source => {\n            let value = this.active.find(s => s.source == source) ||\n                new ActiveSource(source, this.active.some(a => a.state != 0 /* State.Inactive */) ? 1 /* State.Pending */ : 0 /* State.Inactive */);\n            return value.update(tr, conf);\n        });\n        if (active.length == this.active.length && active.every((a, i) => a == this.active[i]))\n            active = this.active;\n        let open = this.open;\n        if (open && tr.docChanged)\n            open = open.map(tr.changes);\n        if (tr.selection || active.some(a => a.hasResult() && tr.changes.touchesRange(a.from, a.to)) ||\n            !sameResults(active, this.active))\n            open = CompletionDialog.build(active, state, this.id, open, conf);\n        else if (open && open.disabled && !active.some(a => a.state == 1 /* State.Pending */))\n            open = null;\n        if (!open && active.every(a => a.state != 1 /* State.Pending */) && active.some(a => a.hasResult()))\n            active = active.map(a => a.hasResult() ? new ActiveSource(a.source, 0 /* State.Inactive */) : a);\n        for (let effect of tr.effects)\n            if (effect.is(setSelectedEffect))\n                open = open && open.setSelected(effect.value, this.id);\n        return active == this.active && open == this.open ? this : new CompletionState(active, this.id, open);\n    }\n    get tooltip() { return this.open ? this.open.tooltip : null; }\n    get attrs() { return this.open ? this.open.attrs : baseAttrs; }\n}\nfunction sameResults(a, b) {\n    if (a == b)\n        return true;\n    for (let iA = 0, iB = 0;;) {\n        while (iA < a.length && !a[iA].hasResult)\n            iA++;\n        while (iB < b.length && !b[iB].hasResult)\n            iB++;\n        let endA = iA == a.length, endB = iB == b.length;\n        if (endA || endB)\n            return endA == endB;\n        if (a[iA++].result != b[iB++].result)\n            return false;\n    }\n}\nconst baseAttrs = {\n    \"aria-autocomplete\": \"list\"\n};\nfunction makeAttrs(id, selected) {\n    let result = {\n        \"aria-autocomplete\": \"list\",\n        \"aria-haspopup\": \"listbox\",\n        \"aria-controls\": id\n    };\n    if (selected > -1)\n        result[\"aria-activedescendant\"] = id + \"-\" + selected;\n    return result;\n}\nconst none = [];\nfunction getUserEvent(tr) {\n    return tr.isUserEvent(\"input.type\") ? \"input\" : tr.isUserEvent(\"delete.backward\") ? \"delete\" : null;\n}\nclass ActiveSource {\n    constructor(source, state, explicitPos = -1) {\n        this.source = source;\n        this.state = state;\n        this.explicitPos = explicitPos;\n    }\n    hasResult() { return false; }\n    update(tr, conf) {\n        let event = getUserEvent(tr), value = this;\n        if (event)\n            value = value.handleUserEvent(tr, event, conf);\n        else if (tr.docChanged)\n            value = value.handleChange(tr);\n        else if (tr.selection && value.state != 0 /* State.Inactive */)\n            value = new ActiveSource(value.source, 0 /* State.Inactive */);\n        for (let effect of tr.effects) {\n            if (effect.is(startCompletionEffect))\n                value = new ActiveSource(value.source, 1 /* State.Pending */, effect.value ? cur(tr.state) : -1);\n            else if (effect.is(closeCompletionEffect))\n                value = new ActiveSource(value.source, 0 /* State.Inactive */);\n            else if (effect.is(setActiveEffect))\n                for (let active of effect.value)\n                    if (active.source == value.source)\n                        value = active;\n        }\n        return value;\n    }\n    handleUserEvent(tr, type, conf) {\n        return type == \"delete\" || !conf.activateOnTyping ? this.map(tr.changes) : new ActiveSource(this.source, 1 /* State.Pending */);\n    }\n    handleChange(tr) {\n        return tr.changes.touchesRange(cur(tr.startState)) ? new ActiveSource(this.source, 0 /* State.Inactive */) : this.map(tr.changes);\n    }\n    map(changes) {\n        return changes.empty || this.explicitPos < 0 ? this : new ActiveSource(this.source, this.state, changes.mapPos(this.explicitPos));\n    }\n}\nclass ActiveResult extends ActiveSource {\n    constructor(source, explicitPos, result, from, to) {\n        super(source, 2 /* State.Result */, explicitPos);\n        this.result = result;\n        this.from = from;\n        this.to = to;\n    }\n    hasResult() { return true; }\n    handleUserEvent(tr, type, conf) {\n        var _a;\n        let from = tr.changes.mapPos(this.from), to = tr.changes.mapPos(this.to, 1);\n        let pos = cur(tr.state);\n        if ((this.explicitPos < 0 ? pos <= from : pos < this.from) ||\n            pos > to ||\n            type == \"delete\" && cur(tr.startState) == this.from)\n            return new ActiveSource(this.source, type == \"input\" && conf.activateOnTyping ? 1 /* State.Pending */ : 0 /* State.Inactive */);\n        let explicitPos = this.explicitPos < 0 ? -1 : tr.changes.mapPos(this.explicitPos), updated;\n        if (checkValid(this.result.validFor, tr.state, from, to))\n            return new ActiveResult(this.source, explicitPos, this.result, from, to);\n        if (this.result.update &&\n            (updated = this.result.update(this.result, from, to, new CompletionContext(tr.state, pos, explicitPos >= 0))))\n            return new ActiveResult(this.source, explicitPos, updated, updated.from, (_a = updated.to) !== null && _a !== void 0 ? _a : cur(tr.state));\n        return new ActiveSource(this.source, 1 /* State.Pending */, explicitPos);\n    }\n    handleChange(tr) {\n        return tr.changes.touchesRange(this.from, this.to) ? new ActiveSource(this.source, 0 /* State.Inactive */) : this.map(tr.changes);\n    }\n    map(mapping) {\n        return mapping.empty ? this :\n            new ActiveResult(this.source, this.explicitPos < 0 ? -1 : mapping.mapPos(this.explicitPos), this.result, mapping.mapPos(this.from), mapping.mapPos(this.to, 1));\n    }\n}\nfunction checkValid(validFor, state, from, to) {\n    if (!validFor)\n        return false;\n    let text = state.sliceDoc(from, to);\n    return typeof validFor == \"function\" ? validFor(text, from, to, state) : ensureAnchor(validFor, true).test(text);\n}\nconst setActiveEffect = /*@__PURE__*/StateEffect.define({\n    map(sources, mapping) { return sources.map(s => s.map(mapping)); }\n});\nconst setSelectedEffect = /*@__PURE__*/StateEffect.define();\nconst completionState = /*@__PURE__*/StateField.define({\n    create() { return CompletionState.start(); },\n    update(value, tr) { return value.update(tr); },\n    provide: f => [\n        showTooltip.from(f, val => val.tooltip),\n        EditorView.contentAttributes.from(f, state => state.attrs)\n    ]\n});\n\n/**\nReturns a command that moves the completion selection forward or\nbackward by the given amount.\n*/\nfunction moveCompletionSelection(forward, by = \"option\") {\n    return (view) => {\n        let cState = view.state.field(completionState, false);\n        if (!cState || !cState.open || cState.open.disabled ||\n            Date.now() - cState.open.timestamp < view.state.facet(completionConfig).interactionDelay)\n            return false;\n        let step = 1, tooltip;\n        if (by == \"page\" && (tooltip = getTooltip(view, cState.open.tooltip)))\n            step = Math.max(2, Math.floor(tooltip.dom.offsetHeight /\n                tooltip.dom.querySelector(\"li\").offsetHeight) - 1);\n        let { length } = cState.open.options;\n        let selected = cState.open.selected > -1 ? cState.open.selected + step * (forward ? 1 : -1) : forward ? 0 : length - 1;\n        if (selected < 0)\n            selected = by == \"page\" ? 0 : length - 1;\n        else if (selected >= length)\n            selected = by == \"page\" ? length - 1 : 0;\n        view.dispatch({ effects: setSelectedEffect.of(selected) });\n        return true;\n    };\n}\n/**\nAccept the current completion.\n*/\nconst acceptCompletion = (view) => {\n    let cState = view.state.field(completionState, false);\n    if (view.state.readOnly || !cState || !cState.open || cState.open.selected < 0 ||\n        Date.now() - cState.open.timestamp < view.state.facet(completionConfig).interactionDelay)\n        return false;\n    if (!cState.open.disabled)\n        applyCompletion(view, cState.open.options[cState.open.selected]);\n    return true;\n};\n/**\nExplicitly start autocompletion.\n*/\nconst startCompletion = (view) => {\n    let cState = view.state.field(completionState, false);\n    if (!cState)\n        return false;\n    view.dispatch({ effects: startCompletionEffect.of(true) });\n    return true;\n};\n/**\nClose the currently active completion.\n*/\nconst closeCompletion = (view) => {\n    let cState = view.state.field(completionState, false);\n    if (!cState || !cState.active.some(a => a.state != 0 /* State.Inactive */))\n        return false;\n    view.dispatch({ effects: closeCompletionEffect.of(null) });\n    return true;\n};\nclass RunningQuery {\n    constructor(active, context) {\n        this.active = active;\n        this.context = context;\n        this.time = Date.now();\n        this.updates = [];\n        // Note that 'undefined' means 'not done yet', whereas 'null' means\n        // 'query returned null'.\n        this.done = undefined;\n    }\n}\nconst DebounceTime = 50, MaxUpdateCount = 50, MinAbortTime = 1000;\nconst completionPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.debounceUpdate = -1;\n        this.running = [];\n        this.debounceAccept = -1;\n        this.composing = 0 /* CompositionState.None */;\n        for (let active of view.state.field(completionState).active)\n            if (active.state == 1 /* State.Pending */)\n                this.startQuery(active);\n    }\n    update(update) {\n        let cState = update.state.field(completionState);\n        if (!update.selectionSet && !update.docChanged && update.startState.field(completionState) == cState)\n            return;\n        let doesReset = update.transactions.some(tr => {\n            return (tr.selection || tr.docChanged) && !getUserEvent(tr);\n        });\n        for (let i = 0; i < this.running.length; i++) {\n            let query = this.running[i];\n            if (doesReset ||\n                query.updates.length + update.transactions.length > MaxUpdateCount && Date.now() - query.time > MinAbortTime) {\n                for (let handler of query.context.abortListeners) {\n                    try {\n                        handler();\n                    }\n                    catch (e) {\n                        logException(this.view.state, e);\n                    }\n                }\n                query.context.abortListeners = null;\n                this.running.splice(i--, 1);\n            }\n            else {\n                query.updates.push(...update.transactions);\n            }\n        }\n        if (this.debounceUpdate > -1)\n            clearTimeout(this.debounceUpdate);\n        this.debounceUpdate = cState.active.some(a => a.state == 1 /* State.Pending */ && !this.running.some(q => q.active.source == a.source))\n            ? setTimeout(() => this.startUpdate(), DebounceTime) : -1;\n        if (this.composing != 0 /* CompositionState.None */)\n            for (let tr of update.transactions) {\n                if (getUserEvent(tr) == \"input\")\n                    this.composing = 2 /* CompositionState.Changed */;\n                else if (this.composing == 2 /* CompositionState.Changed */ && tr.selection)\n                    this.composing = 3 /* CompositionState.ChangedAndMoved */;\n            }\n    }\n    startUpdate() {\n        this.debounceUpdate = -1;\n        let { state } = this.view, cState = state.field(completionState);\n        for (let active of cState.active) {\n            if (active.state == 1 /* State.Pending */ && !this.running.some(r => r.active.source == active.source))\n                this.startQuery(active);\n        }\n    }\n    startQuery(active) {\n        let { state } = this.view, pos = cur(state);\n        let context = new CompletionContext(state, pos, active.explicitPos == pos);\n        let pending = new RunningQuery(active, context);\n        this.running.push(pending);\n        Promise.resolve(active.source(context)).then(result => {\n            if (!pending.context.aborted) {\n                pending.done = result || null;\n                this.scheduleAccept();\n            }\n        }, err => {\n            this.view.dispatch({ effects: closeCompletionEffect.of(null) });\n            logException(this.view.state, err);\n        });\n    }\n    scheduleAccept() {\n        if (this.running.every(q => q.done !== undefined))\n            this.accept();\n        else if (this.debounceAccept < 0)\n            this.debounceAccept = setTimeout(() => this.accept(), DebounceTime);\n    }\n    // For each finished query in this.running, try to create a result\n    // or, if appropriate, restart the query.\n    accept() {\n        var _a;\n        if (this.debounceAccept > -1)\n            clearTimeout(this.debounceAccept);\n        this.debounceAccept = -1;\n        let updated = [];\n        let conf = this.view.state.facet(completionConfig);\n        for (let i = 0; i < this.running.length; i++) {\n            let query = this.running[i];\n            if (query.done === undefined)\n                continue;\n            this.running.splice(i--, 1);\n            if (query.done) {\n                let active = new ActiveResult(query.active.source, query.active.explicitPos, query.done, query.done.from, (_a = query.done.to) !== null && _a !== void 0 ? _a : cur(query.updates.length ? query.updates[0].startState : this.view.state));\n                // Replay the transactions that happened since the start of\n                // the request and see if that preserves the result\n                for (let tr of query.updates)\n                    active = active.update(tr, conf);\n                if (active.hasResult()) {\n                    updated.push(active);\n                    continue;\n                }\n            }\n            let current = this.view.state.field(completionState).active.find(a => a.source == query.active.source);\n            if (current && current.state == 1 /* State.Pending */) {\n                if (query.done == null) {\n                    // Explicitly failed. Should clear the pending status if it\n                    // hasn't been re-set in the meantime.\n                    let active = new ActiveSource(query.active.source, 0 /* State.Inactive */);\n                    for (let tr of query.updates)\n                        active = active.update(tr, conf);\n                    if (active.state != 1 /* State.Pending */)\n                        updated.push(active);\n                }\n                else {\n                    // Cleared by subsequent transactions. Restart.\n                    this.startQuery(current);\n                }\n            }\n        }\n        if (updated.length)\n            this.view.dispatch({ effects: setActiveEffect.of(updated) });\n    }\n}, {\n    eventHandlers: {\n        blur(event) {\n            let state = this.view.state.field(completionState, false);\n            if (state && state.tooltip && this.view.state.facet(completionConfig).closeOnBlur) {\n                let dialog = state.open && getTooltip(this.view, state.open.tooltip);\n                if (!dialog || !dialog.dom.contains(event.relatedTarget))\n                    this.view.dispatch({ effects: closeCompletionEffect.of(null) });\n            }\n        },\n        compositionstart() {\n            this.composing = 1 /* CompositionState.Started */;\n        },\n        compositionend() {\n            if (this.composing == 3 /* CompositionState.ChangedAndMoved */) {\n                // Safari fires compositionend events synchronously, possibly\n                // from inside an update, so dispatch asynchronously to avoid reentrancy\n                setTimeout(() => this.view.dispatch({ effects: startCompletionEffect.of(false) }), 20);\n            }\n            this.composing = 0 /* CompositionState.None */;\n        }\n    }\n});\n\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-tooltip.cm-tooltip-autocomplete\": {\n        \"& > ul\": {\n            fontFamily: \"monospace\",\n            whiteSpace: \"nowrap\",\n            overflow: \"hidden auto\",\n            maxWidth_fallback: \"700px\",\n            maxWidth: \"min(700px, 95vw)\",\n            minWidth: \"250px\",\n            maxHeight: \"10em\",\n            height: \"100%\",\n            listStyle: \"none\",\n            margin: 0,\n            padding: 0,\n            \"& > li, & > completion-section\": {\n                padding: \"1px 3px\",\n                lineHeight: 1.2\n            },\n            \"& > li\": {\n                overflowX: \"hidden\",\n                textOverflow: \"ellipsis\",\n                cursor: \"pointer\"\n            },\n            \"& > completion-section\": {\n                display: \"list-item\",\n                borderBottom: \"1px solid silver\",\n                paddingLeft: \"0.5em\",\n                opacity: 0.7\n            }\n        }\n    },\n    \"&light .cm-tooltip-autocomplete ul li[aria-selected]\": {\n        background: \"#17c\",\n        color: \"white\",\n    },\n    \"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]\": {\n        background: \"#777\",\n    },\n    \"&dark .cm-tooltip-autocomplete ul li[aria-selected]\": {\n        background: \"#347\",\n        color: \"white\",\n    },\n    \"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]\": {\n        background: \"#444\",\n    },\n    \".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after\": {\n        content: '\"Â·Â·Â·\"',\n        opacity: 0.5,\n        display: \"block\",\n        textAlign: \"center\"\n    },\n    \".cm-tooltip.cm-completionInfo\": {\n        position: \"absolute\",\n        padding: \"3px 9px\",\n        width: \"max-content\",\n        maxWidth: `${400 /* Info.Width */}px`,\n        boxSizing: \"border-box\"\n    },\n    \".cm-completionInfo.cm-completionInfo-left\": { right: \"100%\" },\n    \".cm-completionInfo.cm-completionInfo-right\": { left: \"100%\" },\n    \".cm-completionInfo.cm-completionInfo-left-narrow\": { right: `${30 /* Info.Margin */}px` },\n    \".cm-completionInfo.cm-completionInfo-right-narrow\": { left: `${30 /* Info.Margin */}px` },\n    \"&light .cm-snippetField\": { backgroundColor: \"#00000022\" },\n    \"&dark .cm-snippetField\": { backgroundColor: \"#ffffff22\" },\n    \".cm-snippetFieldPosition\": {\n        verticalAlign: \"text-top\",\n        width: 0,\n        height: \"1.15em\",\n        display: \"inline-block\",\n        margin: \"0 -0.7px -.7em\",\n        borderLeft: \"1.4px dotted #888\"\n    },\n    \".cm-completionMatchedText\": {\n        textDecoration: \"underline\"\n    },\n    \".cm-completionDetail\": {\n        marginLeft: \"0.5em\",\n        fontStyle: \"italic\"\n    },\n    \".cm-completionIcon\": {\n        fontSize: \"90%\",\n        width: \".8em\",\n        display: \"inline-block\",\n        textAlign: \"center\",\n        paddingRight: \".6em\",\n        opacity: \"0.6\",\n        boxSizing: \"content-box\"\n    },\n    \".cm-completionIcon-function, .cm-completionIcon-method\": {\n        \"&:after\": { content: \"'Æ’'\" }\n    },\n    \".cm-completionIcon-class\": {\n        \"&:after\": { content: \"'â—‹'\" }\n    },\n    \".cm-completionIcon-interface\": {\n        \"&:after\": { content: \"'â—Œ'\" }\n    },\n    \".cm-completionIcon-variable\": {\n        \"&:after\": { content: \"'ð‘¥'\" }\n    },\n    \".cm-completionIcon-constant\": {\n        \"&:after\": { content: \"'ð¶'\" }\n    },\n    \".cm-completionIcon-type\": {\n        \"&:after\": { content: \"'ð‘¡'\" }\n    },\n    \".cm-completionIcon-enum\": {\n        \"&:after\": { content: \"'âˆª'\" }\n    },\n    \".cm-completionIcon-property\": {\n        \"&:after\": { content: \"'â–¡'\" }\n    },\n    \".cm-completionIcon-keyword\": {\n        \"&:after\": { content: \"'ðŸ”‘\\uFE0E'\" } // Disable emoji rendering\n    },\n    \".cm-completionIcon-namespace\": {\n        \"&:after\": { content: \"'â–¢'\" }\n    },\n    \".cm-completionIcon-text\": {\n        \"&:after\": { content: \"'abc'\", fontSize: \"50%\", verticalAlign: \"middle\" }\n    }\n});\n\nclass FieldPos {\n    constructor(field, line, from, to) {\n        this.field = field;\n        this.line = line;\n        this.from = from;\n        this.to = to;\n    }\n}\nclass FieldRange {\n    constructor(field, from, to) {\n        this.field = field;\n        this.from = from;\n        this.to = to;\n    }\n    map(changes) {\n        let from = changes.mapPos(this.from, -1, MapMode.TrackDel);\n        let to = changes.mapPos(this.to, 1, MapMode.TrackDel);\n        return from == null || to == null ? null : new FieldRange(this.field, from, to);\n    }\n}\nclass Snippet {\n    constructor(lines, fieldPositions) {\n        this.lines = lines;\n        this.fieldPositions = fieldPositions;\n    }\n    instantiate(state, pos) {\n        let text = [], lineStart = [pos];\n        let lineObj = state.doc.lineAt(pos), baseIndent = /^\\s*/.exec(lineObj.text)[0];\n        for (let line of this.lines) {\n            if (text.length) {\n                let indent = baseIndent, tabs = /^\\t*/.exec(line)[0].length;\n                for (let i = 0; i < tabs; i++)\n                    indent += state.facet(indentUnit);\n                lineStart.push(pos + indent.length - tabs);\n                line = indent + line.slice(tabs);\n            }\n            text.push(line);\n            pos += line.length + 1;\n        }\n        let ranges = this.fieldPositions.map(pos => new FieldRange(pos.field, lineStart[pos.line] + pos.from, lineStart[pos.line] + pos.to));\n        return { text, ranges };\n    }\n    static parse(template) {\n        let fields = [];\n        let lines = [], positions = [], m;\n        for (let line of template.split(/\\r\\n?|\\n/)) {\n            while (m = /[#$]\\{(?:(\\d+)(?::([^}]*))?|([^}]*))\\}/.exec(line)) {\n                let seq = m[1] ? +m[1] : null, name = m[2] || m[3] || \"\", found = -1;\n                for (let i = 0; i < fields.length; i++) {\n                    if (seq != null ? fields[i].seq == seq : name ? fields[i].name == name : false)\n                        found = i;\n                }\n                if (found < 0) {\n                    let i = 0;\n                    while (i < fields.length && (seq == null || (fields[i].seq != null && fields[i].seq < seq)))\n                        i++;\n                    fields.splice(i, 0, { seq, name });\n                    found = i;\n                    for (let pos of positions)\n                        if (pos.field >= found)\n                            pos.field++;\n                }\n                positions.push(new FieldPos(found, lines.length, m.index, m.index + name.length));\n                line = line.slice(0, m.index) + name + line.slice(m.index + m[0].length);\n            }\n            for (let esc; esc = /\\\\([{}])/.exec(line);) {\n                line = line.slice(0, esc.index) + esc[1] + line.slice(esc.index + esc[0].length);\n                for (let pos of positions)\n                    if (pos.line == lines.length && pos.from > esc.index) {\n                        pos.from--;\n                        pos.to--;\n                    }\n            }\n            lines.push(line);\n        }\n        return new Snippet(lines, positions);\n    }\n}\nlet fieldMarker = /*@__PURE__*/Decoration.widget({ widget: /*@__PURE__*/new class extends WidgetType {\n        toDOM() {\n            let span = document.createElement(\"span\");\n            span.className = \"cm-snippetFieldPosition\";\n            return span;\n        }\n        ignoreEvent() { return false; }\n    } });\nlet fieldRange = /*@__PURE__*/Decoration.mark({ class: \"cm-snippetField\" });\nclass ActiveSnippet {\n    constructor(ranges, active) {\n        this.ranges = ranges;\n        this.active = active;\n        this.deco = Decoration.set(ranges.map(r => (r.from == r.to ? fieldMarker : fieldRange).range(r.from, r.to)));\n    }\n    map(changes) {\n        let ranges = [];\n        for (let r of this.ranges) {\n            let mapped = r.map(changes);\n            if (!mapped)\n                return null;\n            ranges.push(mapped);\n        }\n        return new ActiveSnippet(ranges, this.active);\n    }\n    selectionInsideField(sel) {\n        return sel.ranges.every(range => this.ranges.some(r => r.field == this.active && r.from <= range.from && r.to >= range.to));\n    }\n}\nconst setActive = /*@__PURE__*/StateEffect.define({\n    map(value, changes) { return value && value.map(changes); }\n});\nconst moveToField = /*@__PURE__*/StateEffect.define();\nconst snippetState = /*@__PURE__*/StateField.define({\n    create() { return null; },\n    update(value, tr) {\n        for (let effect of tr.effects) {\n            if (effect.is(setActive))\n                return effect.value;\n            if (effect.is(moveToField) && value)\n                return new ActiveSnippet(value.ranges, effect.value);\n        }\n        if (value && tr.docChanged)\n            value = value.map(tr.changes);\n        if (value && tr.selection && !value.selectionInsideField(tr.selection))\n            value = null;\n        return value;\n    },\n    provide: f => EditorView.decorations.from(f, val => val ? val.deco : Decoration.none)\n});\nfunction fieldSelection(ranges, field) {\n    return EditorSelection.create(ranges.filter(r => r.field == field).map(r => EditorSelection.range(r.from, r.to)));\n}\n/**\nConvert a snippet template to a function that can\n[apply](https://codemirror.net/6/docs/ref/#autocomplete.Completion.apply) it. Snippets are written\nusing syntax like this:\n\n    \"for (let ${index} = 0; ${index} < ${end}; ${index}++) {\\n\\t${}\\n}\"\n\nEach `${}` placeholder (you may also use `#{}`) indicates a field\nthat the user can fill in. Its name, if any, will be the default\ncontent for the field.\n\nWhen the snippet is activated by calling the returned function,\nthe code is inserted at the given position. Newlines in the\ntemplate are indented by the indentation of the start line, plus\none [indent unit](https://codemirror.net/6/docs/ref/#language.indentUnit) per tab character after\nthe newline.\n\nOn activation, (all instances of) the first field are selected.\nThe user can move between fields with Tab and Shift-Tab as long as\nthe fields are active. Moving to the last field or moving the\ncursor out of the current field deactivates the fields.\n\nThe order of fields defaults to textual order, but you can add\nnumbers to placeholders (`${1}` or `${1:defaultText}`) to provide\na custom order.\n\nTo include a literal `{` or `}` in your template, put a backslash\nin front of it. This will be removed and the brace will not be\ninterpreted as indicating a placeholder.\n*/\nfunction snippet(template) {\n    let snippet = Snippet.parse(template);\n    return (editor, completion, from, to) => {\n        let { text, ranges } = snippet.instantiate(editor.state, from);\n        let spec = {\n            changes: { from, to, insert: Text.of(text) },\n            scrollIntoView: true,\n            annotations: completion ? pickedCompletion.of(completion) : undefined\n        };\n        if (ranges.length)\n            spec.selection = fieldSelection(ranges, 0);\n        if (ranges.length > 1) {\n            let active = new ActiveSnippet(ranges, 0);\n            let effects = spec.effects = [setActive.of(active)];\n            if (editor.state.field(snippetState, false) === undefined)\n                effects.push(StateEffect.appendConfig.of([snippetState, addSnippetKeymap, snippetPointerHandler, baseTheme]));\n        }\n        editor.dispatch(editor.state.update(spec));\n    };\n}\nfunction moveField(dir) {\n    return ({ state, dispatch }) => {\n        let active = state.field(snippetState, false);\n        if (!active || dir < 0 && active.active == 0)\n            return false;\n        let next = active.active + dir, last = dir > 0 && !active.ranges.some(r => r.field == next + dir);\n        dispatch(state.update({\n            selection: fieldSelection(active.ranges, next),\n            effects: setActive.of(last ? null : new ActiveSnippet(active.ranges, next))\n        }));\n        return true;\n    };\n}\n/**\nA command that clears the active snippet, if any.\n*/\nconst clearSnippet = ({ state, dispatch }) => {\n    let active = state.field(snippetState, false);\n    if (!active)\n        return false;\n    dispatch(state.update({ effects: setActive.of(null) }));\n    return true;\n};\n/**\nMove to the next snippet field, if available.\n*/\nconst nextSnippetField = /*@__PURE__*/moveField(1);\n/**\nMove to the previous snippet field, if available.\n*/\nconst prevSnippetField = /*@__PURE__*/moveField(-1);\nconst defaultSnippetKeymap = [\n    { key: \"Tab\", run: nextSnippetField, shift: prevSnippetField },\n    { key: \"Escape\", run: clearSnippet }\n];\n/**\nA facet that can be used to configure the key bindings used by\nsnippets. The default binds Tab to\n[`nextSnippetField`](https://codemirror.net/6/docs/ref/#autocomplete.nextSnippetField), Shift-Tab to\n[`prevSnippetField`](https://codemirror.net/6/docs/ref/#autocomplete.prevSnippetField), and Escape\nto [`clearSnippet`](https://codemirror.net/6/docs/ref/#autocomplete.clearSnippet).\n*/\nconst snippetKeymap = /*@__PURE__*/Facet.define({\n    combine(maps) { return maps.length ? maps[0] : defaultSnippetKeymap; }\n});\nconst addSnippetKeymap = /*@__PURE__*/Prec.highest(/*@__PURE__*/keymap.compute([snippetKeymap], state => state.facet(snippetKeymap)));\n/**\nCreate a completion from a snippet. Returns an object with the\nproperties from `completion`, plus an `apply` function that\napplies the snippet.\n*/\nfunction snippetCompletion(template, completion) {\n    return Object.assign(Object.assign({}, completion), { apply: snippet(template) });\n}\nconst snippetPointerHandler = /*@__PURE__*/EditorView.domEventHandlers({\n    mousedown(event, view) {\n        let active = view.state.field(snippetState, false), pos;\n        if (!active || (pos = view.posAtCoords({ x: event.clientX, y: event.clientY })) == null)\n            return false;\n        let match = active.ranges.find(r => r.from <= pos && r.to >= pos);\n        if (!match || match.field == active.active)\n            return false;\n        view.dispatch({\n            selection: fieldSelection(active.ranges, match.field),\n            effects: setActive.of(active.ranges.some(r => r.field > match.field) ? new ActiveSnippet(active.ranges, match.field) : null)\n        });\n        return true;\n    }\n});\n\nfunction wordRE(wordChars) {\n    let escaped = wordChars.replace(/[\\\\[.+*?(){|^$]/g, \"\\\\$&\");\n    try {\n        return new RegExp(`[\\\\p{Alphabetic}\\\\p{Number}_${escaped}]+`, \"ug\");\n    }\n    catch (_a) {\n        return new RegExp(`[\\w${escaped}]`, \"g\");\n    }\n}\nfunction mapRE(re, f) {\n    return new RegExp(f(re.source), re.unicode ? \"u\" : \"\");\n}\nconst wordCaches = /*@__PURE__*/Object.create(null);\nfunction wordCache(wordChars) {\n    return wordCaches[wordChars] || (wordCaches[wordChars] = new WeakMap);\n}\nfunction storeWords(doc, wordRE, result, seen, ignoreAt) {\n    for (let lines = doc.iterLines(), pos = 0; !lines.next().done;) {\n        let { value } = lines, m;\n        wordRE.lastIndex = 0;\n        while (m = wordRE.exec(value)) {\n            if (!seen[m[0]] && pos + m.index != ignoreAt) {\n                result.push({ type: \"text\", label: m[0] });\n                seen[m[0]] = true;\n                if (result.length >= 2000 /* C.MaxList */)\n                    return;\n            }\n        }\n        pos += value.length + 1;\n    }\n}\nfunction collectWords(doc, cache, wordRE, to, ignoreAt) {\n    let big = doc.length >= 1000 /* C.MinCacheLen */;\n    let cached = big && cache.get(doc);\n    if (cached)\n        return cached;\n    let result = [], seen = Object.create(null);\n    if (doc.children) {\n        let pos = 0;\n        for (let ch of doc.children) {\n            if (ch.length >= 1000 /* C.MinCacheLen */) {\n                for (let c of collectWords(ch, cache, wordRE, to - pos, ignoreAt - pos)) {\n                    if (!seen[c.label]) {\n                        seen[c.label] = true;\n                        result.push(c);\n                    }\n                }\n            }\n            else {\n                storeWords(ch, wordRE, result, seen, ignoreAt - pos);\n            }\n            pos += ch.length + 1;\n        }\n    }\n    else {\n        storeWords(doc, wordRE, result, seen, ignoreAt);\n    }\n    if (big && result.length < 2000 /* C.MaxList */)\n        cache.set(doc, result);\n    return result;\n}\n/**\nA completion source that will scan the document for words (using a\n[character categorizer](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer)), and\nreturn those as completions.\n*/\nconst completeAnyWord = context => {\n    let wordChars = context.state.languageDataAt(\"wordChars\", context.pos).join(\"\");\n    let re = wordRE(wordChars);\n    let token = context.matchBefore(mapRE(re, s => s + \"$\"));\n    if (!token && !context.explicit)\n        return null;\n    let from = token ? token.from : context.pos;\n    let options = collectWords(context.state.doc, wordCache(wordChars), re, 50000 /* C.Range */, from);\n    return { from, options, validFor: mapRE(re, s => \"^\" + s) };\n};\n\nconst defaults = {\n    brackets: [\"(\", \"[\", \"{\", \"'\", '\"'],\n    before: \")]}:;>\",\n    stringPrefixes: []\n};\nconst closeBracketEffect = /*@__PURE__*/StateEffect.define({\n    map(value, mapping) {\n        let mapped = mapping.mapPos(value, -1, MapMode.TrackAfter);\n        return mapped == null ? undefined : mapped;\n    }\n});\nconst closedBracket = /*@__PURE__*/new class extends RangeValue {\n};\nclosedBracket.startSide = 1;\nclosedBracket.endSide = -1;\nconst bracketState = /*@__PURE__*/StateField.define({\n    create() { return RangeSet.empty; },\n    update(value, tr) {\n        if (tr.selection) {\n            let lineStart = tr.state.doc.lineAt(tr.selection.main.head).from;\n            let prevLineStart = tr.startState.doc.lineAt(tr.startState.selection.main.head).from;\n            if (lineStart != tr.changes.mapPos(prevLineStart, -1))\n                value = RangeSet.empty;\n        }\n        value = value.map(tr.changes);\n        for (let effect of tr.effects)\n            if (effect.is(closeBracketEffect))\n                value = value.update({ add: [closedBracket.range(effect.value, effect.value + 1)] });\n        return value;\n    }\n});\n/**\nExtension to enable bracket-closing behavior. When a closeable\nbracket is typed, its closing bracket is immediately inserted\nafter the cursor. When closing a bracket directly in front of a\nclosing bracket inserted by the extension, the cursor moves over\nthat bracket.\n*/\nfunction closeBrackets() {\n    return [inputHandler, bracketState];\n}\nconst definedClosing = \"()[]{}<>\";\nfunction closing(ch) {\n    for (let i = 0; i < definedClosing.length; i += 2)\n        if (definedClosing.charCodeAt(i) == ch)\n            return definedClosing.charAt(i + 1);\n    return fromCodePoint(ch < 128 ? ch : ch + 1);\n}\nfunction config(state, pos) {\n    return state.languageDataAt(\"closeBrackets\", pos)[0] || defaults;\n}\nconst android = typeof navigator == \"object\" && /*@__PURE__*//Android\\b/.test(navigator.userAgent);\nconst inputHandler = /*@__PURE__*/EditorView.inputHandler.of((view, from, to, insert) => {\n    if ((android ? view.composing : view.compositionStarted) || view.state.readOnly)\n        return false;\n    let sel = view.state.selection.main;\n    if (insert.length > 2 || insert.length == 2 && codePointSize(codePointAt(insert, 0)) == 1 ||\n        from != sel.from || to != sel.to)\n        return false;\n    let tr = insertBracket(view.state, insert);\n    if (!tr)\n        return false;\n    view.dispatch(tr);\n    return true;\n});\n/**\nCommand that implements deleting a pair of matching brackets when\nthe cursor is between them.\n*/\nconst deleteBracketPair = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let conf = config(state, state.selection.main.head);\n    let tokens = conf.brackets || defaults.brackets;\n    let dont = null, changes = state.changeByRange(range => {\n        if (range.empty) {\n            let before = prevChar(state.doc, range.head);\n            for (let token of tokens) {\n                if (token == before && nextChar(state.doc, range.head) == closing(codePointAt(token, 0)))\n                    return { changes: { from: range.head - token.length, to: range.head + token.length },\n                        range: EditorSelection.cursor(range.head - token.length) };\n            }\n        }\n        return { range: dont = range };\n    });\n    if (!dont)\n        dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"delete.backward\" }));\n    return !dont;\n};\n/**\nClose-brackets related key bindings. Binds Backspace to\n[`deleteBracketPair`](https://codemirror.net/6/docs/ref/#autocomplete.deleteBracketPair).\n*/\nconst closeBracketsKeymap = [\n    { key: \"Backspace\", run: deleteBracketPair }\n];\n/**\nImplements the extension's behavior on text insertion. If the\ngiven string counts as a bracket in the language around the\nselection, and replacing the selection with it requires custom\nbehavior (inserting a closing version or skipping past a\npreviously-closed bracket), this function returns a transaction\nrepresenting that custom behavior. (You only need this if you want\nto programmatically insert bracketsâ€”the\n[`closeBrackets`](https://codemirror.net/6/docs/ref/#autocomplete.closeBrackets) extension will\ntake care of running this for user input.)\n*/\nfunction insertBracket(state, bracket) {\n    let conf = config(state, state.selection.main.head);\n    let tokens = conf.brackets || defaults.brackets;\n    for (let tok of tokens) {\n        let closed = closing(codePointAt(tok, 0));\n        if (bracket == tok)\n            return closed == tok ? handleSame(state, tok, tokens.indexOf(tok + tok + tok) > -1, conf)\n                : handleOpen(state, tok, closed, conf.before || defaults.before);\n        if (bracket == closed && closedBracketAt(state, state.selection.main.from))\n            return handleClose(state, tok, closed);\n    }\n    return null;\n}\nfunction closedBracketAt(state, pos) {\n    let found = false;\n    state.field(bracketState).between(0, state.doc.length, from => {\n        if (from == pos)\n            found = true;\n    });\n    return found;\n}\nfunction nextChar(doc, pos) {\n    let next = doc.sliceString(pos, pos + 2);\n    return next.slice(0, codePointSize(codePointAt(next, 0)));\n}\nfunction prevChar(doc, pos) {\n    let prev = doc.sliceString(pos - 2, pos);\n    return codePointSize(codePointAt(prev, 0)) == prev.length ? prev : prev.slice(1);\n}\nfunction handleOpen(state, open, close, closeBefore) {\n    let dont = null, changes = state.changeByRange(range => {\n        if (!range.empty)\n            return { changes: [{ insert: open, from: range.from }, { insert: close, from: range.to }],\n                effects: closeBracketEffect.of(range.to + open.length),\n                range: EditorSelection.range(range.anchor + open.length, range.head + open.length) };\n        let next = nextChar(state.doc, range.head);\n        if (!next || /\\s/.test(next) || closeBefore.indexOf(next) > -1)\n            return { changes: { insert: open + close, from: range.head },\n                effects: closeBracketEffect.of(range.head + open.length),\n                range: EditorSelection.cursor(range.head + open.length) };\n        return { range: dont = range };\n    });\n    return dont ? null : state.update(changes, {\n        scrollIntoView: true,\n        userEvent: \"input.type\"\n    });\n}\nfunction handleClose(state, _open, close) {\n    let dont = null, changes = state.changeByRange(range => {\n        if (range.empty && nextChar(state.doc, range.head) == close)\n            return { changes: { from: range.head, to: range.head + close.length, insert: close },\n                range: EditorSelection.cursor(range.head + close.length) };\n        return dont = { range };\n    });\n    return dont ? null : state.update(changes, {\n        scrollIntoView: true,\n        userEvent: \"input.type\"\n    });\n}\n// Handles cases where the open and close token are the same, and\n// possibly triple quotes (as in `\"\"\"abc\"\"\"`-style quoting).\nfunction handleSame(state, token, allowTriple, config) {\n    let stringPrefixes = config.stringPrefixes || defaults.stringPrefixes;\n    let dont = null, changes = state.changeByRange(range => {\n        if (!range.empty)\n            return { changes: [{ insert: token, from: range.from }, { insert: token, from: range.to }],\n                effects: closeBracketEffect.of(range.to + token.length),\n                range: EditorSelection.range(range.anchor + token.length, range.head + token.length) };\n        let pos = range.head, next = nextChar(state.doc, pos), start;\n        if (next == token) {\n            if (nodeStart(state, pos)) {\n                return { changes: { insert: token + token, from: pos },\n                    effects: closeBracketEffect.of(pos + token.length),\n                    range: EditorSelection.cursor(pos + token.length) };\n            }\n            else if (closedBracketAt(state, pos)) {\n                let isTriple = allowTriple && state.sliceDoc(pos, pos + token.length * 3) == token + token + token;\n                let content = isTriple ? token + token + token : token;\n                return { changes: { from: pos, to: pos + content.length, insert: content },\n                    range: EditorSelection.cursor(pos + content.length) };\n            }\n        }\n        else if (allowTriple && state.sliceDoc(pos - 2 * token.length, pos) == token + token &&\n            (start = canStartStringAt(state, pos - 2 * token.length, stringPrefixes)) > -1 &&\n            nodeStart(state, start)) {\n            return { changes: { insert: token + token + token + token, from: pos },\n                effects: closeBracketEffect.of(pos + token.length),\n                range: EditorSelection.cursor(pos + token.length) };\n        }\n        else if (state.charCategorizer(pos)(next) != CharCategory.Word) {\n            if (canStartStringAt(state, pos, stringPrefixes) > -1 && !probablyInString(state, pos, token, stringPrefixes))\n                return { changes: { insert: token + token, from: pos },\n                    effects: closeBracketEffect.of(pos + token.length),\n                    range: EditorSelection.cursor(pos + token.length) };\n        }\n        return { range: dont = range };\n    });\n    return dont ? null : state.update(changes, {\n        scrollIntoView: true,\n        userEvent: \"input.type\"\n    });\n}\nfunction nodeStart(state, pos) {\n    let tree = syntaxTree(state).resolveInner(pos + 1);\n    return tree.parent && tree.from == pos;\n}\nfunction probablyInString(state, pos, quoteToken, prefixes) {\n    let node = syntaxTree(state).resolveInner(pos, -1);\n    let maxPrefix = prefixes.reduce((m, p) => Math.max(m, p.length), 0);\n    for (let i = 0; i < 5; i++) {\n        let start = state.sliceDoc(node.from, Math.min(node.to, node.from + quoteToken.length + maxPrefix));\n        let quotePos = start.indexOf(quoteToken);\n        if (!quotePos || quotePos > -1 && prefixes.indexOf(start.slice(0, quotePos)) > -1) {\n            let first = node.firstChild;\n            while (first && first.from == node.from && first.to - first.from > quoteToken.length + quotePos) {\n                if (state.sliceDoc(first.to - quoteToken.length, first.to) == quoteToken)\n                    return false;\n                first = first.firstChild;\n            }\n            return true;\n        }\n        let parent = node.to == pos && node.parent;\n        if (!parent)\n            break;\n        node = parent;\n    }\n    return false;\n}\nfunction canStartStringAt(state, pos, prefixes) {\n    let charCat = state.charCategorizer(pos);\n    if (charCat(state.sliceDoc(pos - 1, pos)) != CharCategory.Word)\n        return pos;\n    for (let prefix of prefixes) {\n        let start = pos - prefix.length;\n        if (state.sliceDoc(start, pos) == prefix && charCat(state.sliceDoc(start - 1, start)) != CharCategory.Word)\n            return start;\n    }\n    return -1;\n}\n\n/**\nReturns an extension that enables autocompletion.\n*/\nfunction autocompletion(config = {}) {\n    return [\n        completionState,\n        completionConfig.of(config),\n        completionPlugin,\n        completionKeymapExt,\n        baseTheme\n    ];\n}\n/**\nBasic keybindings for autocompletion.\n\n - Ctrl-Space: [`startCompletion`](https://codemirror.net/6/docs/ref/#autocomplete.startCompletion)\n - Escape: [`closeCompletion`](https://codemirror.net/6/docs/ref/#autocomplete.closeCompletion)\n - ArrowDown: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(true)`\n - ArrowUp: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(false)`\n - PageDown: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(true, \"page\")`\n - PageDown: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(true, \"page\")`\n - Enter: [`acceptCompletion`](https://codemirror.net/6/docs/ref/#autocomplete.acceptCompletion)\n*/\nconst completionKeymap = [\n    { key: \"Ctrl-Space\", run: startCompletion },\n    { key: \"Escape\", run: closeCompletion },\n    { key: \"ArrowDown\", run: /*@__PURE__*/moveCompletionSelection(true) },\n    { key: \"ArrowUp\", run: /*@__PURE__*/moveCompletionSelection(false) },\n    { key: \"PageDown\", run: /*@__PURE__*/moveCompletionSelection(true, \"page\") },\n    { key: \"PageUp\", run: /*@__PURE__*/moveCompletionSelection(false, \"page\") },\n    { key: \"Enter\", run: acceptCompletion }\n];\nconst completionKeymapExt = /*@__PURE__*/Prec.highest(/*@__PURE__*/keymap.computeN([completionConfig], state => state.facet(completionConfig).defaultKeymap ? [completionKeymap] : []));\n/**\nGet the current completion status. When completions are available,\nthis will return `\"active\"`. When completions are pending (in the\nprocess of being queried), this returns `\"pending\"`. Otherwise, it\nreturns `null`.\n*/\nfunction completionStatus(state) {\n    let cState = state.field(completionState, false);\n    return cState && cState.active.some(a => a.state == 1 /* State.Pending */) ? \"pending\"\n        : cState && cState.active.some(a => a.state != 0 /* State.Inactive */) ? \"active\" : null;\n}\nconst completionArrayCache = /*@__PURE__*/new WeakMap;\n/**\nReturns the available completions as an array.\n*/\nfunction currentCompletions(state) {\n    var _a;\n    let open = (_a = state.field(completionState, false)) === null || _a === void 0 ? void 0 : _a.open;\n    if (!open || open.disabled)\n        return [];\n    let completions = completionArrayCache.get(open.options);\n    if (!completions)\n        completionArrayCache.set(open.options, completions = open.options.map(o => o.completion));\n    return completions;\n}\n/**\nReturn the currently selected completion, if any.\n*/\nfunction selectedCompletion(state) {\n    var _a;\n    let open = (_a = state.field(completionState, false)) === null || _a === void 0 ? void 0 : _a.open;\n    return open && !open.disabled && open.selected >= 0 ? open.options[open.selected].completion : null;\n}\n/**\nReturns the currently selected position in the active completion\nlist, or null if no completions are active.\n*/\nfunction selectedCompletionIndex(state) {\n    var _a;\n    let open = (_a = state.field(completionState, false)) === null || _a === void 0 ? void 0 : _a.open;\n    return open && !open.disabled && open.selected >= 0 ? open.selected : null;\n}\n/**\nCreate an effect that can be attached to a transaction to change\nthe currently selected completion.\n*/\nfunction setSelectedCompletion(index) {\n    return setSelectedEffect.of(index);\n}\n\nexport { CompletionContext, acceptCompletion, autocompletion, clearSnippet, closeBrackets, closeBracketsKeymap, closeCompletion, completeAnyWord, completeFromList, completionKeymap, completionStatus, currentCompletions, deleteBracketPair, ifIn, ifNotIn, insertBracket, insertCompletionText, moveCompletionSelection, nextSnippetField, pickedCompletion, prevSnippetField, selectedCompletion, selectedCompletionIndex, setSelectedCompletion, snippet, snippetCompletion, snippetKeymap, startCompletion };\n","import { Parser, NodeProp, NodeSet, NodeType, DefaultBufferLength, Tree, IterMode } from '@lezer/common';\n\n/// A parse stack. These are used internally by the parser to track\n/// parsing progress. They also provide some properties and methods\n/// that external code such as a tokenizer can use to get information\n/// about the parse state.\nclass Stack {\n    /// @internal\n    constructor(\n    /// The parse that this stack is part of @internal\n    p, \n    /// Holds state, input pos, buffer index triplets for all but the\n    /// top state @internal\n    stack, \n    /// The current parse state @internal\n    state, \n    // The position at which the next reduce should take place. This\n    // can be less than `this.pos` when skipped expressions have been\n    // added to the stack (which should be moved outside of the next\n    // reduction)\n    /// @internal\n    reducePos, \n    /// The input position up to which this stack has parsed.\n    pos, \n    /// The dynamic score of the stack, including dynamic precedence\n    /// and error-recovery penalties\n    /// @internal\n    score, \n    // The output buffer. Holds (type, start, end, size) quads\n    // representing nodes created by the parser, where `size` is\n    // amount of buffer array entries covered by this node.\n    /// @internal\n    buffer, \n    // The base offset of the buffer. When stacks are split, the split\n    // instance shared the buffer history with its parent up to\n    // `bufferBase`, which is the absolute offset (including the\n    // offset of previous splits) into the buffer at which this stack\n    // starts writing.\n    /// @internal\n    bufferBase, \n    /// @internal\n    curContext, \n    /// @internal\n    lookAhead = 0, \n    // A parent stack from which this was split off, if any. This is\n    // set up so that it always points to a stack that has some\n    // additional buffer content, never to a stack with an equal\n    // `bufferBase`.\n    /// @internal\n    parent) {\n        this.p = p;\n        this.stack = stack;\n        this.state = state;\n        this.reducePos = reducePos;\n        this.pos = pos;\n        this.score = score;\n        this.buffer = buffer;\n        this.bufferBase = bufferBase;\n        this.curContext = curContext;\n        this.lookAhead = lookAhead;\n        this.parent = parent;\n    }\n    /// @internal\n    toString() {\n        return `[${this.stack.filter((_, i) => i % 3 == 0).concat(this.state)}]@${this.pos}${this.score ? \"!\" + this.score : \"\"}`;\n    }\n    // Start an empty stack\n    /// @internal\n    static start(p, state, pos = 0) {\n        let cx = p.parser.context;\n        return new Stack(p, [], state, pos, pos, 0, [], 0, cx ? new StackContext(cx, cx.start) : null, 0, null);\n    }\n    /// The stack's current [context](#lr.ContextTracker) value, if\n    /// any. Its type will depend on the context tracker's type\n    /// parameter, or it will be `null` if there is no context\n    /// tracker.\n    get context() { return this.curContext ? this.curContext.context : null; }\n    // Push a state onto the stack, tracking its start position as well\n    // as the buffer base at that point.\n    /// @internal\n    pushState(state, start) {\n        this.stack.push(this.state, start, this.bufferBase + this.buffer.length);\n        this.state = state;\n    }\n    // Apply a reduce action\n    /// @internal\n    reduce(action) {\n        let depth = action >> 19 /* Action.ReduceDepthShift */, type = action & 65535 /* Action.ValueMask */;\n        let { parser } = this.p;\n        let dPrec = parser.dynamicPrecedence(type);\n        if (dPrec)\n            this.score += dPrec;\n        if (depth == 0) {\n            this.pushState(parser.getGoto(this.state, type, true), this.reducePos);\n            // Zero-depth reductions are a special caseâ€”they add stuff to\n            // the stack without popping anything off.\n            if (type < parser.minRepeatTerm)\n                this.storeNode(type, this.reducePos, this.reducePos, 4, true);\n            this.reduceContext(type, this.reducePos);\n            return;\n        }\n        // Find the base index into `this.stack`, content after which will\n        // be dropped. Note that with `StayFlag` reductions we need to\n        // consume two extra frames (the dummy parent node for the skipped\n        // expression and the state that we'll be staying in, which should\n        // be moved to `this.state`).\n        let base = this.stack.length - ((depth - 1) * 3) - (action & 262144 /* Action.StayFlag */ ? 6 : 0);\n        let start = base ? this.stack[base - 2] : 0, size = this.reducePos - start;\n        // This is a kludge to try and detect overly deep left-associative\n        // trees, which will not increase the parse stack depth and thus\n        // won't be caught by the regular stack-depth limit check.\n        if (size >= 2000 /* Recover.MinBigReduction */) {\n            if (start == this.p.lastBigReductionStart) {\n                this.p.bigReductionCount++;\n                this.p.lastBigReductionSize = size;\n            }\n            else if (this.p.lastBigReductionSize < size) {\n                this.p.bigReductionCount = 1;\n                this.p.lastBigReductionStart = start;\n                this.p.lastBigReductionSize = size;\n            }\n        }\n        let bufferBase = base ? this.stack[base - 1] : 0, count = this.bufferBase + this.buffer.length - bufferBase;\n        // Store normal terms or `R -> R R` repeat reductions\n        if (type < parser.minRepeatTerm || (action & 131072 /* Action.RepeatFlag */)) {\n            let pos = parser.stateFlag(this.state, 1 /* StateFlag.Skipped */) ? this.pos : this.reducePos;\n            this.storeNode(type, start, pos, count + 4, true);\n        }\n        if (action & 262144 /* Action.StayFlag */) {\n            this.state = this.stack[base];\n        }\n        else {\n            let baseStateID = this.stack[base - 3];\n            this.state = parser.getGoto(baseStateID, type, true);\n        }\n        while (this.stack.length > base)\n            this.stack.pop();\n        this.reduceContext(type, start);\n    }\n    // Shift a value into the buffer\n    /// @internal\n    storeNode(term, start, end, size = 4, isReduce = false) {\n        if (term == 0 /* Term.Err */ &&\n            (!this.stack.length || this.stack[this.stack.length - 1] < this.buffer.length + this.bufferBase)) {\n            // Try to omit/merge adjacent error nodes\n            let cur = this, top = this.buffer.length;\n            if (top == 0 && cur.parent) {\n                top = cur.bufferBase - cur.parent.bufferBase;\n                cur = cur.parent;\n            }\n            if (top > 0 && cur.buffer[top - 4] == 0 /* Term.Err */ && cur.buffer[top - 1] > -1) {\n                if (start == end)\n                    return;\n                if (cur.buffer[top - 2] >= start) {\n                    cur.buffer[top - 2] = end;\n                    return;\n                }\n            }\n        }\n        if (!isReduce || this.pos == end) { // Simple case, just append\n            this.buffer.push(term, start, end, size);\n        }\n        else { // There may be skipped nodes that have to be moved forward\n            let index = this.buffer.length;\n            if (index > 0 && this.buffer[index - 4] != 0 /* Term.Err */)\n                while (index > 0 && this.buffer[index - 2] > end) {\n                    // Move this record forward\n                    this.buffer[index] = this.buffer[index - 4];\n                    this.buffer[index + 1] = this.buffer[index - 3];\n                    this.buffer[index + 2] = this.buffer[index - 2];\n                    this.buffer[index + 3] = this.buffer[index - 1];\n                    index -= 4;\n                    if (size > 4)\n                        size -= 4;\n                }\n            this.buffer[index] = term;\n            this.buffer[index + 1] = start;\n            this.buffer[index + 2] = end;\n            this.buffer[index + 3] = size;\n        }\n    }\n    // Apply a shift action\n    /// @internal\n    shift(action, next, nextEnd) {\n        let start = this.pos;\n        if (action & 131072 /* Action.GotoFlag */) {\n            this.pushState(action & 65535 /* Action.ValueMask */, this.pos);\n        }\n        else if ((action & 262144 /* Action.StayFlag */) == 0) { // Regular shift\n            let nextState = action, { parser } = this.p;\n            if (nextEnd > this.pos || next <= parser.maxNode) {\n                this.pos = nextEnd;\n                if (!parser.stateFlag(nextState, 1 /* StateFlag.Skipped */))\n                    this.reducePos = nextEnd;\n            }\n            this.pushState(nextState, start);\n            this.shiftContext(next, start);\n            if (next <= parser.maxNode)\n                this.buffer.push(next, start, nextEnd, 4);\n        }\n        else { // Shift-and-stay, which means this is a skipped token\n            this.pos = nextEnd;\n            this.shiftContext(next, start);\n            if (next <= this.p.parser.maxNode)\n                this.buffer.push(next, start, nextEnd, 4);\n        }\n    }\n    // Apply an action\n    /// @internal\n    apply(action, next, nextEnd) {\n        if (action & 65536 /* Action.ReduceFlag */)\n            this.reduce(action);\n        else\n            this.shift(action, next, nextEnd);\n    }\n    // Add a prebuilt (reused) node into the buffer.\n    /// @internal\n    useNode(value, next) {\n        let index = this.p.reused.length - 1;\n        if (index < 0 || this.p.reused[index] != value) {\n            this.p.reused.push(value);\n            index++;\n        }\n        let start = this.pos;\n        this.reducePos = this.pos = start + value.length;\n        this.pushState(next, start);\n        this.buffer.push(index, start, this.reducePos, -1 /* size == -1 means this is a reused value */);\n        if (this.curContext)\n            this.updateContext(this.curContext.tracker.reuse(this.curContext.context, value, this, this.p.stream.reset(this.pos - value.length)));\n    }\n    // Split the stack. Due to the buffer sharing and the fact\n    // that `this.stack` tends to stay quite shallow, this isn't very\n    // expensive.\n    /// @internal\n    split() {\n        let parent = this;\n        let off = parent.buffer.length;\n        // Because the top of the buffer (after this.pos) may be mutated\n        // to reorder reductions and skipped tokens, and shared buffers\n        // should be immutable, this copies any outstanding skipped tokens\n        // to the new buffer, and puts the base pointer before them.\n        while (off > 0 && parent.buffer[off - 2] > parent.reducePos)\n            off -= 4;\n        let buffer = parent.buffer.slice(off), base = parent.bufferBase + off;\n        // Make sure parent points to an actual parent with content, if there is such a parent.\n        while (parent && base == parent.bufferBase)\n            parent = parent.parent;\n        return new Stack(this.p, this.stack.slice(), this.state, this.reducePos, this.pos, this.score, buffer, base, this.curContext, this.lookAhead, parent);\n    }\n    // Try to recover from an error by 'deleting' (ignoring) one token.\n    /// @internal\n    recoverByDelete(next, nextEnd) {\n        let isNode = next <= this.p.parser.maxNode;\n        if (isNode)\n            this.storeNode(next, this.pos, nextEnd, 4);\n        this.storeNode(0 /* Term.Err */, this.pos, nextEnd, isNode ? 8 : 4);\n        this.pos = this.reducePos = nextEnd;\n        this.score -= 190 /* Recover.Delete */;\n    }\n    /// Check if the given term would be able to be shifted (optionally\n    /// after some reductions) on this stack. This can be useful for\n    /// external tokenizers that want to make sure they only provide a\n    /// given token when it applies.\n    canShift(term) {\n        for (let sim = new SimulatedStack(this);;) {\n            let action = this.p.parser.stateSlot(sim.state, 4 /* ParseState.DefaultReduce */) || this.p.parser.hasAction(sim.state, term);\n            if (action == 0)\n                return false;\n            if ((action & 65536 /* Action.ReduceFlag */) == 0)\n                return true;\n            sim.reduce(action);\n        }\n    }\n    // Apply up to Recover.MaxNext recovery actions that conceptually\n    // inserts some missing token or rule.\n    /// @internal\n    recoverByInsert(next) {\n        if (this.stack.length >= 300 /* Recover.MaxInsertStackDepth */)\n            return [];\n        let nextStates = this.p.parser.nextStates(this.state);\n        if (nextStates.length > 4 /* Recover.MaxNext */ << 1 || this.stack.length >= 120 /* Recover.DampenInsertStackDepth */) {\n            let best = [];\n            for (let i = 0, s; i < nextStates.length; i += 2) {\n                if ((s = nextStates[i + 1]) != this.state && this.p.parser.hasAction(s, next))\n                    best.push(nextStates[i], s);\n            }\n            if (this.stack.length < 120 /* Recover.DampenInsertStackDepth */)\n                for (let i = 0; best.length < 4 /* Recover.MaxNext */ << 1 && i < nextStates.length; i += 2) {\n                    let s = nextStates[i + 1];\n                    if (!best.some((v, i) => (i & 1) && v == s))\n                        best.push(nextStates[i], s);\n                }\n            nextStates = best;\n        }\n        let result = [];\n        for (let i = 0; i < nextStates.length && result.length < 4 /* Recover.MaxNext */; i += 2) {\n            let s = nextStates[i + 1];\n            if (s == this.state)\n                continue;\n            let stack = this.split();\n            stack.pushState(s, this.pos);\n            stack.storeNode(0 /* Term.Err */, stack.pos, stack.pos, 4, true);\n            stack.shiftContext(nextStates[i], this.pos);\n            stack.score -= 200 /* Recover.Insert */;\n            result.push(stack);\n        }\n        return result;\n    }\n    // Force a reduce, if possible. Return false if that can't\n    // be done.\n    /// @internal\n    forceReduce() {\n        let reduce = this.p.parser.stateSlot(this.state, 5 /* ParseState.ForcedReduce */);\n        if ((reduce & 65536 /* Action.ReduceFlag */) == 0)\n            return false;\n        let { parser } = this.p;\n        if (!parser.validAction(this.state, reduce)) {\n            let depth = reduce >> 19 /* Action.ReduceDepthShift */, term = reduce & 65535 /* Action.ValueMask */;\n            let target = this.stack.length - depth * 3;\n            if (target < 0 || parser.getGoto(this.stack[target], term, false) < 0)\n                return false;\n            this.storeNode(0 /* Term.Err */, this.reducePos, this.reducePos, 4, true);\n            this.score -= 100 /* Recover.Reduce */;\n        }\n        this.reducePos = this.pos;\n        this.reduce(reduce);\n        return true;\n    }\n    /// @internal\n    forceAll() {\n        while (!this.p.parser.stateFlag(this.state, 2 /* StateFlag.Accepting */)) {\n            if (!this.forceReduce()) {\n                this.storeNode(0 /* Term.Err */, this.pos, this.pos, 4, true);\n                break;\n            }\n        }\n        return this;\n    }\n    /// Check whether this state has no further actions (assumed to be a direct descendant of the\n    /// top state, since any other states must be able to continue\n    /// somehow). @internal\n    get deadEnd() {\n        if (this.stack.length != 3)\n            return false;\n        let { parser } = this.p;\n        return parser.data[parser.stateSlot(this.state, 1 /* ParseState.Actions */)] == 65535 /* Seq.End */ &&\n            !parser.stateSlot(this.state, 4 /* ParseState.DefaultReduce */);\n    }\n    /// Restart the stack (put it back in its start state). Only safe\n    /// when this.stack.length == 3 (state is directly below the top\n    /// state). @internal\n    restart() {\n        this.state = this.stack[0];\n        this.stack.length = 0;\n    }\n    /// @internal\n    sameState(other) {\n        if (this.state != other.state || this.stack.length != other.stack.length)\n            return false;\n        for (let i = 0; i < this.stack.length; i += 3)\n            if (this.stack[i] != other.stack[i])\n                return false;\n        return true;\n    }\n    /// Get the parser used by this stack.\n    get parser() { return this.p.parser; }\n    /// Test whether a given dialect (by numeric ID, as exported from\n    /// the terms file) is enabled.\n    dialectEnabled(dialectID) { return this.p.parser.dialect.flags[dialectID]; }\n    shiftContext(term, start) {\n        if (this.curContext)\n            this.updateContext(this.curContext.tracker.shift(this.curContext.context, term, this, this.p.stream.reset(start)));\n    }\n    reduceContext(term, start) {\n        if (this.curContext)\n            this.updateContext(this.curContext.tracker.reduce(this.curContext.context, term, this, this.p.stream.reset(start)));\n    }\n    /// @internal\n    emitContext() {\n        let last = this.buffer.length - 1;\n        if (last < 0 || this.buffer[last] != -3)\n            this.buffer.push(this.curContext.hash, this.reducePos, this.reducePos, -3);\n    }\n    /// @internal\n    emitLookAhead() {\n        let last = this.buffer.length - 1;\n        if (last < 0 || this.buffer[last] != -4)\n            this.buffer.push(this.lookAhead, this.reducePos, this.reducePos, -4);\n    }\n    updateContext(context) {\n        if (context != this.curContext.context) {\n            let newCx = new StackContext(this.curContext.tracker, context);\n            if (newCx.hash != this.curContext.hash)\n                this.emitContext();\n            this.curContext = newCx;\n        }\n    }\n    /// @internal\n    setLookAhead(lookAhead) {\n        if (lookAhead > this.lookAhead) {\n            this.emitLookAhead();\n            this.lookAhead = lookAhead;\n        }\n    }\n    /// @internal\n    close() {\n        if (this.curContext && this.curContext.tracker.strict)\n            this.emitContext();\n        if (this.lookAhead > 0)\n            this.emitLookAhead();\n    }\n}\nclass StackContext {\n    constructor(tracker, context) {\n        this.tracker = tracker;\n        this.context = context;\n        this.hash = tracker.strict ? tracker.hash(context) : 0;\n    }\n}\nvar Recover;\n(function (Recover) {\n    Recover[Recover[\"Insert\"] = 200] = \"Insert\";\n    Recover[Recover[\"Delete\"] = 190] = \"Delete\";\n    Recover[Recover[\"Reduce\"] = 100] = \"Reduce\";\n    Recover[Recover[\"MaxNext\"] = 4] = \"MaxNext\";\n    Recover[Recover[\"MaxInsertStackDepth\"] = 300] = \"MaxInsertStackDepth\";\n    Recover[Recover[\"DampenInsertStackDepth\"] = 120] = \"DampenInsertStackDepth\";\n    Recover[Recover[\"MinBigReduction\"] = 2000] = \"MinBigReduction\";\n})(Recover || (Recover = {}));\n// Used to cheaply run some reductions to scan ahead without mutating\n// an entire stack\nclass SimulatedStack {\n    constructor(start) {\n        this.start = start;\n        this.state = start.state;\n        this.stack = start.stack;\n        this.base = this.stack.length;\n    }\n    reduce(action) {\n        let term = action & 65535 /* Action.ValueMask */, depth = action >> 19 /* Action.ReduceDepthShift */;\n        if (depth == 0) {\n            if (this.stack == this.start.stack)\n                this.stack = this.stack.slice();\n            this.stack.push(this.state, 0, 0);\n            this.base += 3;\n        }\n        else {\n            this.base -= (depth - 1) * 3;\n        }\n        let goto = this.start.p.parser.getGoto(this.stack[this.base - 3], term, true);\n        this.state = goto;\n    }\n}\n// This is given to `Tree.build` to build a buffer, and encapsulates\n// the parent-stack-walking necessary to read the nodes.\nclass StackBufferCursor {\n    constructor(stack, pos, index) {\n        this.stack = stack;\n        this.pos = pos;\n        this.index = index;\n        this.buffer = stack.buffer;\n        if (this.index == 0)\n            this.maybeNext();\n    }\n    static create(stack, pos = stack.bufferBase + stack.buffer.length) {\n        return new StackBufferCursor(stack, pos, pos - stack.bufferBase);\n    }\n    maybeNext() {\n        let next = this.stack.parent;\n        if (next != null) {\n            this.index = this.stack.bufferBase - next.bufferBase;\n            this.stack = next;\n            this.buffer = next.buffer;\n        }\n    }\n    get id() { return this.buffer[this.index - 4]; }\n    get start() { return this.buffer[this.index - 3]; }\n    get end() { return this.buffer[this.index - 2]; }\n    get size() { return this.buffer[this.index - 1]; }\n    next() {\n        this.index -= 4;\n        this.pos -= 4;\n        if (this.index == 0)\n            this.maybeNext();\n    }\n    fork() {\n        return new StackBufferCursor(this.stack, this.pos, this.index);\n    }\n}\n\n// See lezer-generator/src/encode.ts for comments about the encoding\n// used here\nfunction decodeArray(input, Type = Uint16Array) {\n    if (typeof input != \"string\")\n        return input;\n    let array = null;\n    for (let pos = 0, out = 0; pos < input.length;) {\n        let value = 0;\n        for (;;) {\n            let next = input.charCodeAt(pos++), stop = false;\n            if (next == 126 /* Encode.BigValCode */) {\n                value = 65535 /* Encode.BigVal */;\n                break;\n            }\n            if (next >= 92 /* Encode.Gap2 */)\n                next--;\n            if (next >= 34 /* Encode.Gap1 */)\n                next--;\n            let digit = next - 32 /* Encode.Start */;\n            if (digit >= 46 /* Encode.Base */) {\n                digit -= 46 /* Encode.Base */;\n                stop = true;\n            }\n            value += digit;\n            if (stop)\n                break;\n            value *= 46 /* Encode.Base */;\n        }\n        if (array)\n            array[out++] = value;\n        else\n            array = new Type(value);\n    }\n    return array;\n}\n\nclass CachedToken {\n    constructor() {\n        this.start = -1;\n        this.value = -1;\n        this.end = -1;\n        this.extended = -1;\n        this.lookAhead = 0;\n        this.mask = 0;\n        this.context = 0;\n    }\n}\nconst nullToken = new CachedToken;\n/// [Tokenizers](#lr.ExternalTokenizer) interact with the input\n/// through this interface. It presents the input as a stream of\n/// characters, tracking lookahead and hiding the complexity of\n/// [ranges](#common.Parser.parse^ranges) from tokenizer code.\nclass InputStream {\n    /// @internal\n    constructor(\n    /// @internal\n    input, \n    /// @internal\n    ranges) {\n        this.input = input;\n        this.ranges = ranges;\n        /// @internal\n        this.chunk = \"\";\n        /// @internal\n        this.chunkOff = 0;\n        /// Backup chunk\n        this.chunk2 = \"\";\n        this.chunk2Pos = 0;\n        /// The character code of the next code unit in the input, or -1\n        /// when the stream is at the end of the input.\n        this.next = -1;\n        /// @internal\n        this.token = nullToken;\n        this.rangeIndex = 0;\n        this.pos = this.chunkPos = ranges[0].from;\n        this.range = ranges[0];\n        this.end = ranges[ranges.length - 1].to;\n        this.readNext();\n    }\n    /// @internal\n    resolveOffset(offset, assoc) {\n        let range = this.range, index = this.rangeIndex;\n        let pos = this.pos + offset;\n        while (pos < range.from) {\n            if (!index)\n                return null;\n            let next = this.ranges[--index];\n            pos -= range.from - next.to;\n            range = next;\n        }\n        while (assoc < 0 ? pos > range.to : pos >= range.to) {\n            if (index == this.ranges.length - 1)\n                return null;\n            let next = this.ranges[++index];\n            pos += next.from - range.to;\n            range = next;\n        }\n        return pos;\n    }\n    /// @internal\n    clipPos(pos) {\n        if (pos >= this.range.from && pos < this.range.to)\n            return pos;\n        for (let range of this.ranges)\n            if (range.to > pos)\n                return Math.max(pos, range.from);\n        return this.end;\n    }\n    /// Look at a code unit near the stream position. `.peek(0)` equals\n    /// `.next`, `.peek(-1)` gives you the previous character, and so\n    /// on.\n    ///\n    /// Note that looking around during tokenizing creates dependencies\n    /// on potentially far-away content, which may reduce the\n    /// effectiveness incremental parsingâ€”when looking forwardâ€”or even\n    /// cause invalid reparses when looking backward more than 25 code\n    /// units, since the library does not track lookbehind.\n    peek(offset) {\n        let idx = this.chunkOff + offset, pos, result;\n        if (idx >= 0 && idx < this.chunk.length) {\n            pos = this.pos + offset;\n            result = this.chunk.charCodeAt(idx);\n        }\n        else {\n            let resolved = this.resolveOffset(offset, 1);\n            if (resolved == null)\n                return -1;\n            pos = resolved;\n            if (pos >= this.chunk2Pos && pos < this.chunk2Pos + this.chunk2.length) {\n                result = this.chunk2.charCodeAt(pos - this.chunk2Pos);\n            }\n            else {\n                let i = this.rangeIndex, range = this.range;\n                while (range.to <= pos)\n                    range = this.ranges[++i];\n                this.chunk2 = this.input.chunk(this.chunk2Pos = pos);\n                if (pos + this.chunk2.length > range.to)\n                    this.chunk2 = this.chunk2.slice(0, range.to - pos);\n                result = this.chunk2.charCodeAt(0);\n            }\n        }\n        if (pos >= this.token.lookAhead)\n            this.token.lookAhead = pos + 1;\n        return result;\n    }\n    /// Accept a token. By default, the end of the token is set to the\n    /// current stream position, but you can pass an offset (relative to\n    /// the stream position) to change that.\n    acceptToken(token, endOffset = 0) {\n        let end = endOffset ? this.resolveOffset(endOffset, -1) : this.pos;\n        if (end == null || end < this.token.start)\n            throw new RangeError(\"Token end out of bounds\");\n        this.token.value = token;\n        this.token.end = end;\n    }\n    getChunk() {\n        if (this.pos >= this.chunk2Pos && this.pos < this.chunk2Pos + this.chunk2.length) {\n            let { chunk, chunkPos } = this;\n            this.chunk = this.chunk2;\n            this.chunkPos = this.chunk2Pos;\n            this.chunk2 = chunk;\n            this.chunk2Pos = chunkPos;\n            this.chunkOff = this.pos - this.chunkPos;\n        }\n        else {\n            this.chunk2 = this.chunk;\n            this.chunk2Pos = this.chunkPos;\n            let nextChunk = this.input.chunk(this.pos);\n            let end = this.pos + nextChunk.length;\n            this.chunk = end > this.range.to ? nextChunk.slice(0, this.range.to - this.pos) : nextChunk;\n            this.chunkPos = this.pos;\n            this.chunkOff = 0;\n        }\n    }\n    readNext() {\n        if (this.chunkOff >= this.chunk.length) {\n            this.getChunk();\n            if (this.chunkOff == this.chunk.length)\n                return this.next = -1;\n        }\n        return this.next = this.chunk.charCodeAt(this.chunkOff);\n    }\n    /// Move the stream forward N (defaults to 1) code units. Returns\n    /// the new value of [`next`](#lr.InputStream.next).\n    advance(n = 1) {\n        this.chunkOff += n;\n        while (this.pos + n >= this.range.to) {\n            if (this.rangeIndex == this.ranges.length - 1)\n                return this.setDone();\n            n -= this.range.to - this.pos;\n            this.range = this.ranges[++this.rangeIndex];\n            this.pos = this.range.from;\n        }\n        this.pos += n;\n        if (this.pos >= this.token.lookAhead)\n            this.token.lookAhead = this.pos + 1;\n        return this.readNext();\n    }\n    setDone() {\n        this.pos = this.chunkPos = this.end;\n        this.range = this.ranges[this.rangeIndex = this.ranges.length - 1];\n        this.chunk = \"\";\n        return this.next = -1;\n    }\n    /// @internal\n    reset(pos, token) {\n        if (token) {\n            this.token = token;\n            token.start = pos;\n            token.lookAhead = pos + 1;\n            token.value = token.extended = -1;\n        }\n        else {\n            this.token = nullToken;\n        }\n        if (this.pos != pos) {\n            this.pos = pos;\n            if (pos == this.end) {\n                this.setDone();\n                return this;\n            }\n            while (pos < this.range.from)\n                this.range = this.ranges[--this.rangeIndex];\n            while (pos >= this.range.to)\n                this.range = this.ranges[++this.rangeIndex];\n            if (pos >= this.chunkPos && pos < this.chunkPos + this.chunk.length) {\n                this.chunkOff = pos - this.chunkPos;\n            }\n            else {\n                this.chunk = \"\";\n                this.chunkOff = 0;\n            }\n            this.readNext();\n        }\n        return this;\n    }\n    /// @internal\n    read(from, to) {\n        if (from >= this.chunkPos && to <= this.chunkPos + this.chunk.length)\n            return this.chunk.slice(from - this.chunkPos, to - this.chunkPos);\n        if (from >= this.chunk2Pos && to <= this.chunk2Pos + this.chunk2.length)\n            return this.chunk2.slice(from - this.chunk2Pos, to - this.chunk2Pos);\n        if (from >= this.range.from && to <= this.range.to)\n            return this.input.read(from, to);\n        let result = \"\";\n        for (let r of this.ranges) {\n            if (r.from >= to)\n                break;\n            if (r.to > from)\n                result += this.input.read(Math.max(r.from, from), Math.min(r.to, to));\n        }\n        return result;\n    }\n}\n/// @internal\nclass TokenGroup {\n    constructor(data, id) {\n        this.data = data;\n        this.id = id;\n    }\n    token(input, stack) {\n        let { parser } = stack.p;\n        readToken(this.data, input, stack, this.id, parser.data, parser.tokenPrecTable);\n    }\n}\nTokenGroup.prototype.contextual = TokenGroup.prototype.fallback = TokenGroup.prototype.extend = false;\n/// @hide\nclass LocalTokenGroup {\n    constructor(data, precTable, elseToken) {\n        this.precTable = precTable;\n        this.elseToken = elseToken;\n        this.data = typeof data == \"string\" ? decodeArray(data) : data;\n    }\n    token(input, stack) {\n        let start = input.pos, cur;\n        for (;;) {\n            cur = input.pos;\n            readToken(this.data, input, stack, 0, this.data, this.precTable);\n            if (input.token.value > -1)\n                break;\n            if (this.elseToken == null)\n                return;\n            if (input.next < 0)\n                break;\n            input.advance();\n            input.reset(cur + 1, input.token);\n        }\n        if (cur > start) {\n            input.reset(start, input.token);\n            input.acceptToken(this.elseToken, cur - start);\n        }\n    }\n}\nLocalTokenGroup.prototype.contextual = TokenGroup.prototype.fallback = TokenGroup.prototype.extend = false;\n/// `@external tokens` declarations in the grammar should resolve to\n/// an instance of this class.\nclass ExternalTokenizer {\n    /// Create a tokenizer. The first argument is the function that,\n    /// given an input stream, scans for the types of tokens it\n    /// recognizes at the stream's position, and calls\n    /// [`acceptToken`](#lr.InputStream.acceptToken) when it finds\n    /// one.\n    constructor(\n    /// @internal\n    token, options = {}) {\n        this.token = token;\n        this.contextual = !!options.contextual;\n        this.fallback = !!options.fallback;\n        this.extend = !!options.extend;\n    }\n}\n// Tokenizer data is stored a big uint16 array containing, for each\n// state:\n//\n//  - A group bitmask, indicating what token groups are reachable from\n//    this state, so that paths that can only lead to tokens not in\n//    any of the current groups can be cut off early.\n//\n//  - The position of the end of the state's sequence of accepting\n//    tokens\n//\n//  - The number of outgoing edges for the state\n//\n//  - The accepting tokens, as (token id, group mask) pairs\n//\n//  - The outgoing edges, as (start character, end character, state\n//    index) triples, with end character being exclusive\n//\n// This function interprets that data, running through a stream as\n// long as new states with the a matching group mask can be reached,\n// and updating `input.token` when it matches a token.\nfunction readToken(data, input, stack, group, precTable, precOffset) {\n    let state = 0, groupMask = 1 << group, { dialect } = stack.p.parser;\n    scan: for (;;) {\n        if ((groupMask & data[state]) == 0)\n            break;\n        let accEnd = data[state + 1];\n        // Check whether this state can lead to a token in the current group\n        // Accept tokens in this state, possibly overwriting\n        // lower-precedence / shorter tokens\n        for (let i = state + 3; i < accEnd; i += 2)\n            if ((data[i + 1] & groupMask) > 0) {\n                let term = data[i];\n                if (dialect.allows(term) &&\n                    (input.token.value == -1 || input.token.value == term ||\n                        overrides(term, input.token.value, precTable, precOffset))) {\n                    input.acceptToken(term);\n                    break;\n                }\n            }\n        let next = input.next, low = 0, high = data[state + 2];\n        // Special case for EOF\n        if (input.next < 0 && high > low && data[accEnd + high * 3 - 3] == 65535 /* Seq.End */ && data[accEnd + high * 3 - 3] == 65535 /* Seq.End */) {\n            state = data[accEnd + high * 3 - 1];\n            continue scan;\n        }\n        // Do a binary search on the state's edges\n        for (; low < high;) {\n            let mid = (low + high) >> 1;\n            let index = accEnd + mid + (mid << 1);\n            let from = data[index], to = data[index + 1] || 0x10000;\n            if (next < from)\n                high = mid;\n            else if (next >= to)\n                low = mid + 1;\n            else {\n                state = data[index + 2];\n                input.advance();\n                continue scan;\n            }\n        }\n        break;\n    }\n}\nfunction findOffset(data, start, term) {\n    for (let i = start, next; (next = data[i]) != 65535 /* Seq.End */; i++)\n        if (next == term)\n            return i - start;\n    return -1;\n}\nfunction overrides(token, prev, tableData, tableOffset) {\n    let iPrev = findOffset(tableData, tableOffset, prev);\n    return iPrev < 0 || findOffset(tableData, tableOffset, token) < iPrev;\n}\n\n// Environment variable used to control console output\nconst verbose = typeof process != \"undefined\" && process.env && /\\bparse\\b/.test(process.env.LOG);\nlet stackIDs = null;\nvar Safety;\n(function (Safety) {\n    Safety[Safety[\"Margin\"] = 25] = \"Margin\";\n})(Safety || (Safety = {}));\nfunction cutAt(tree, pos, side) {\n    let cursor = tree.cursor(IterMode.IncludeAnonymous);\n    cursor.moveTo(pos);\n    for (;;) {\n        if (!(side < 0 ? cursor.childBefore(pos) : cursor.childAfter(pos)))\n            for (;;) {\n                if ((side < 0 ? cursor.to < pos : cursor.from > pos) && !cursor.type.isError)\n                    return side < 0 ? Math.max(0, Math.min(cursor.to - 1, pos - 25 /* Safety.Margin */))\n                        : Math.min(tree.length, Math.max(cursor.from + 1, pos + 25 /* Safety.Margin */));\n                if (side < 0 ? cursor.prevSibling() : cursor.nextSibling())\n                    break;\n                if (!cursor.parent())\n                    return side < 0 ? 0 : tree.length;\n            }\n    }\n}\nclass FragmentCursor {\n    constructor(fragments, nodeSet) {\n        this.fragments = fragments;\n        this.nodeSet = nodeSet;\n        this.i = 0;\n        this.fragment = null;\n        this.safeFrom = -1;\n        this.safeTo = -1;\n        this.trees = [];\n        this.start = [];\n        this.index = [];\n        this.nextFragment();\n    }\n    nextFragment() {\n        let fr = this.fragment = this.i == this.fragments.length ? null : this.fragments[this.i++];\n        if (fr) {\n            this.safeFrom = fr.openStart ? cutAt(fr.tree, fr.from + fr.offset, 1) - fr.offset : fr.from;\n            this.safeTo = fr.openEnd ? cutAt(fr.tree, fr.to + fr.offset, -1) - fr.offset : fr.to;\n            while (this.trees.length) {\n                this.trees.pop();\n                this.start.pop();\n                this.index.pop();\n            }\n            this.trees.push(fr.tree);\n            this.start.push(-fr.offset);\n            this.index.push(0);\n            this.nextStart = this.safeFrom;\n        }\n        else {\n            this.nextStart = 1e9;\n        }\n    }\n    // `pos` must be >= any previously given `pos` for this cursor\n    nodeAt(pos) {\n        if (pos < this.nextStart)\n            return null;\n        while (this.fragment && this.safeTo <= pos)\n            this.nextFragment();\n        if (!this.fragment)\n            return null;\n        for (;;) {\n            let last = this.trees.length - 1;\n            if (last < 0) { // End of tree\n                this.nextFragment();\n                return null;\n            }\n            let top = this.trees[last], index = this.index[last];\n            if (index == top.children.length) {\n                this.trees.pop();\n                this.start.pop();\n                this.index.pop();\n                continue;\n            }\n            let next = top.children[index];\n            let start = this.start[last] + top.positions[index];\n            if (start > pos) {\n                this.nextStart = start;\n                return null;\n            }\n            if (next instanceof Tree) {\n                if (start == pos) {\n                    if (start < this.safeFrom)\n                        return null;\n                    let end = start + next.length;\n                    if (end <= this.safeTo) {\n                        let lookAhead = next.prop(NodeProp.lookAhead);\n                        if (!lookAhead || end + lookAhead < this.fragment.to)\n                            return next;\n                    }\n                }\n                this.index[last]++;\n                if (start + next.length >= Math.max(this.safeFrom, pos)) { // Enter this node\n                    this.trees.push(next);\n                    this.start.push(start);\n                    this.index.push(0);\n                }\n            }\n            else {\n                this.index[last]++;\n                this.nextStart = start + next.length;\n            }\n        }\n    }\n}\nclass TokenCache {\n    constructor(parser, stream) {\n        this.stream = stream;\n        this.tokens = [];\n        this.mainToken = null;\n        this.actions = [];\n        this.tokens = parser.tokenizers.map(_ => new CachedToken);\n    }\n    getActions(stack) {\n        let actionIndex = 0;\n        let main = null;\n        let { parser } = stack.p, { tokenizers } = parser;\n        let mask = parser.stateSlot(stack.state, 3 /* ParseState.TokenizerMask */);\n        let context = stack.curContext ? stack.curContext.hash : 0;\n        let lookAhead = 0;\n        for (let i = 0; i < tokenizers.length; i++) {\n            if (((1 << i) & mask) == 0)\n                continue;\n            let tokenizer = tokenizers[i], token = this.tokens[i];\n            if (main && !tokenizer.fallback)\n                continue;\n            if (tokenizer.contextual || token.start != stack.pos || token.mask != mask || token.context != context) {\n                this.updateCachedToken(token, tokenizer, stack);\n                token.mask = mask;\n                token.context = context;\n            }\n            if (token.lookAhead > token.end + 25 /* Safety.Margin */)\n                lookAhead = Math.max(token.lookAhead, lookAhead);\n            if (token.value != 0 /* Term.Err */) {\n                let startIndex = actionIndex;\n                if (token.extended > -1)\n                    actionIndex = this.addActions(stack, token.extended, token.end, actionIndex);\n                actionIndex = this.addActions(stack, token.value, token.end, actionIndex);\n                if (!tokenizer.extend) {\n                    main = token;\n                    if (actionIndex > startIndex)\n                        break;\n                }\n            }\n        }\n        while (this.actions.length > actionIndex)\n            this.actions.pop();\n        if (lookAhead)\n            stack.setLookAhead(lookAhead);\n        if (!main && stack.pos == this.stream.end) {\n            main = new CachedToken;\n            main.value = stack.p.parser.eofTerm;\n            main.start = main.end = stack.pos;\n            actionIndex = this.addActions(stack, main.value, main.end, actionIndex);\n        }\n        this.mainToken = main;\n        return this.actions;\n    }\n    getMainToken(stack) {\n        if (this.mainToken)\n            return this.mainToken;\n        let main = new CachedToken, { pos, p } = stack;\n        main.start = pos;\n        main.end = Math.min(pos + 1, p.stream.end);\n        main.value = pos == p.stream.end ? p.parser.eofTerm : 0 /* Term.Err */;\n        return main;\n    }\n    updateCachedToken(token, tokenizer, stack) {\n        let start = this.stream.clipPos(stack.pos);\n        tokenizer.token(this.stream.reset(start, token), stack);\n        if (token.value > -1) {\n            let { parser } = stack.p;\n            for (let i = 0; i < parser.specialized.length; i++)\n                if (parser.specialized[i] == token.value) {\n                    let result = parser.specializers[i](this.stream.read(token.start, token.end), stack);\n                    if (result >= 0 && stack.p.parser.dialect.allows(result >> 1)) {\n                        if ((result & 1) == 0 /* Specialize.Specialize */)\n                            token.value = result >> 1;\n                        else\n                            token.extended = result >> 1;\n                        break;\n                    }\n                }\n        }\n        else {\n            token.value = 0 /* Term.Err */;\n            token.end = this.stream.clipPos(start + 1);\n        }\n    }\n    putAction(action, token, end, index) {\n        // Don't add duplicate actions\n        for (let i = 0; i < index; i += 3)\n            if (this.actions[i] == action)\n                return index;\n        this.actions[index++] = action;\n        this.actions[index++] = token;\n        this.actions[index++] = end;\n        return index;\n    }\n    addActions(stack, token, end, index) {\n        let { state } = stack, { parser } = stack.p, { data } = parser;\n        for (let set = 0; set < 2; set++) {\n            for (let i = parser.stateSlot(state, set ? 2 /* ParseState.Skip */ : 1 /* ParseState.Actions */);; i += 3) {\n                if (data[i] == 65535 /* Seq.End */) {\n                    if (data[i + 1] == 1 /* Seq.Next */) {\n                        i = pair(data, i + 2);\n                    }\n                    else {\n                        if (index == 0 && data[i + 1] == 2 /* Seq.Other */)\n                            index = this.putAction(pair(data, i + 2), token, end, index);\n                        break;\n                    }\n                }\n                if (data[i] == token)\n                    index = this.putAction(pair(data, i + 1), token, end, index);\n            }\n        }\n        return index;\n    }\n}\nvar Rec;\n(function (Rec) {\n    Rec[Rec[\"Distance\"] = 5] = \"Distance\";\n    Rec[Rec[\"MaxRemainingPerStep\"] = 3] = \"MaxRemainingPerStep\";\n    // When two stacks have been running independently long enough to\n    // add this many elements to their buffers, prune one.\n    Rec[Rec[\"MinBufferLengthPrune\"] = 500] = \"MinBufferLengthPrune\";\n    Rec[Rec[\"ForceReduceLimit\"] = 10] = \"ForceReduceLimit\";\n    // Once a stack reaches this depth (in .stack.length) force-reduce\n    // it back to CutTo to avoid creating trees that overflow the stack\n    // on recursive traversal.\n    Rec[Rec[\"CutDepth\"] = 15000] = \"CutDepth\";\n    Rec[Rec[\"CutTo\"] = 9000] = \"CutTo\";\n    Rec[Rec[\"MaxLeftAssociativeReductionCount\"] = 1000] = \"MaxLeftAssociativeReductionCount\";\n})(Rec || (Rec = {}));\nclass Parse {\n    constructor(parser, input, fragments, ranges) {\n        this.parser = parser;\n        this.input = input;\n        this.ranges = ranges;\n        this.recovering = 0;\n        this.nextStackID = 0x2654; // â™”, â™•, â™–, â™—, â™˜, â™™, â™ , â™¡, â™¢, â™£, â™¤, â™¥, â™¦, â™§\n        this.minStackPos = 0;\n        this.reused = [];\n        this.stoppedAt = null;\n        this.lastBigReductionStart = -1;\n        this.lastBigReductionSize = 0;\n        this.bigReductionCount = 0;\n        this.stream = new InputStream(input, ranges);\n        this.tokens = new TokenCache(parser, this.stream);\n        this.topTerm = parser.top[1];\n        let { from } = ranges[0];\n        this.stacks = [Stack.start(this, parser.top[0], from)];\n        this.fragments = fragments.length && this.stream.end - from > parser.bufferLength * 4\n            ? new FragmentCursor(fragments, parser.nodeSet) : null;\n    }\n    get parsedPos() {\n        return this.minStackPos;\n    }\n    // Move the parser forward. This will process all parse stacks at\n    // `this.pos` and try to advance them to a further position. If no\n    // stack for such a position is found, it'll start error-recovery.\n    //\n    // When the parse is finished, this will return a syntax tree. When\n    // not, it returns `null`.\n    advance() {\n        let stacks = this.stacks, pos = this.minStackPos;\n        // This will hold stacks beyond `pos`.\n        let newStacks = this.stacks = [];\n        let stopped, stoppedTokens;\n        // If a large amount of reductions happened with the same start\n        // position, force the stack out of that production in order to\n        // avoid creating a tree too deep to recurse through.\n        // (This is an ugly kludge, because unfortunately there is no\n        // straightforward, cheap way to check for this happening, due to\n        // the history of reductions only being available in an\n        // expensive-to-access format in the stack buffers.)\n        if (this.bigReductionCount > 1000 /* Rec.MaxLeftAssociativeReductionCount */ && stacks.length == 1) {\n            let [s] = stacks;\n            while (s.forceReduce() && s.stack.length && s.stack[s.stack.length - 2] >= this.lastBigReductionStart) { }\n            this.bigReductionCount = this.lastBigReductionSize = 0;\n        }\n        // Keep advancing any stacks at `pos` until they either move\n        // forward or can't be advanced. Gather stacks that can't be\n        // advanced further in `stopped`.\n        for (let i = 0; i < stacks.length; i++) {\n            let stack = stacks[i];\n            for (;;) {\n                this.tokens.mainToken = null;\n                if (stack.pos > pos) {\n                    newStacks.push(stack);\n                }\n                else if (this.advanceStack(stack, newStacks, stacks)) {\n                    continue;\n                }\n                else {\n                    if (!stopped) {\n                        stopped = [];\n                        stoppedTokens = [];\n                    }\n                    stopped.push(stack);\n                    let tok = this.tokens.getMainToken(stack);\n                    stoppedTokens.push(tok.value, tok.end);\n                }\n                break;\n            }\n        }\n        if (!newStacks.length) {\n            let finished = stopped && findFinished(stopped);\n            if (finished)\n                return this.stackToTree(finished);\n            if (this.parser.strict) {\n                if (verbose && stopped)\n                    console.log(\"Stuck with token \" + (this.tokens.mainToken ? this.parser.getName(this.tokens.mainToken.value) : \"none\"));\n                throw new SyntaxError(\"No parse at \" + pos);\n            }\n            if (!this.recovering)\n                this.recovering = 5 /* Rec.Distance */;\n        }\n        if (this.recovering && stopped) {\n            let finished = this.stoppedAt != null && stopped[0].pos > this.stoppedAt ? stopped[0]\n                : this.runRecovery(stopped, stoppedTokens, newStacks);\n            if (finished)\n                return this.stackToTree(finished.forceAll());\n        }\n        if (this.recovering) {\n            let maxRemaining = this.recovering == 1 ? 1 : this.recovering * 3 /* Rec.MaxRemainingPerStep */;\n            if (newStacks.length > maxRemaining) {\n                newStacks.sort((a, b) => b.score - a.score);\n                while (newStacks.length > maxRemaining)\n                    newStacks.pop();\n            }\n            if (newStacks.some(s => s.reducePos > pos))\n                this.recovering--;\n        }\n        else if (newStacks.length > 1) {\n            // Prune stacks that are in the same state, or that have been\n            // running without splitting for a while, to avoid getting stuck\n            // with multiple successful stacks running endlessly on.\n            outer: for (let i = 0; i < newStacks.length - 1; i++) {\n                let stack = newStacks[i];\n                for (let j = i + 1; j < newStacks.length; j++) {\n                    let other = newStacks[j];\n                    if (stack.sameState(other) ||\n                        stack.buffer.length > 500 /* Rec.MinBufferLengthPrune */ && other.buffer.length > 500 /* Rec.MinBufferLengthPrune */) {\n                        if (((stack.score - other.score) || (stack.buffer.length - other.buffer.length)) > 0) {\n                            newStacks.splice(j--, 1);\n                        }\n                        else {\n                            newStacks.splice(i--, 1);\n                            continue outer;\n                        }\n                    }\n                }\n            }\n        }\n        this.minStackPos = newStacks[0].pos;\n        for (let i = 1; i < newStacks.length; i++)\n            if (newStacks[i].pos < this.minStackPos)\n                this.minStackPos = newStacks[i].pos;\n        return null;\n    }\n    stopAt(pos) {\n        if (this.stoppedAt != null && this.stoppedAt < pos)\n            throw new RangeError(\"Can't move stoppedAt forward\");\n        this.stoppedAt = pos;\n    }\n    // Returns an updated version of the given stack, or null if the\n    // stack can't advance normally. When `split` and `stacks` are\n    // given, stacks split off by ambiguous operations will be pushed to\n    // `split`, or added to `stacks` if they move `pos` forward.\n    advanceStack(stack, stacks, split) {\n        let start = stack.pos, { parser } = this;\n        let base = verbose ? this.stackID(stack) + \" -> \" : \"\";\n        if (this.stoppedAt != null && start > this.stoppedAt)\n            return stack.forceReduce() ? stack : null;\n        if (this.fragments) {\n            let strictCx = stack.curContext && stack.curContext.tracker.strict, cxHash = strictCx ? stack.curContext.hash : 0;\n            for (let cached = this.fragments.nodeAt(start); cached;) {\n                let match = this.parser.nodeSet.types[cached.type.id] == cached.type ? parser.getGoto(stack.state, cached.type.id) : -1;\n                if (match > -1 && cached.length && (!strictCx || (cached.prop(NodeProp.contextHash) || 0) == cxHash)) {\n                    stack.useNode(cached, match);\n                    if (verbose)\n                        console.log(base + this.stackID(stack) + ` (via reuse of ${parser.getName(cached.type.id)})`);\n                    return true;\n                }\n                if (!(cached instanceof Tree) || cached.children.length == 0 || cached.positions[0] > 0)\n                    break;\n                let inner = cached.children[0];\n                if (inner instanceof Tree && cached.positions[0] == 0)\n                    cached = inner;\n                else\n                    break;\n            }\n        }\n        let defaultReduce = parser.stateSlot(stack.state, 4 /* ParseState.DefaultReduce */);\n        if (defaultReduce > 0) {\n            stack.reduce(defaultReduce);\n            if (verbose)\n                console.log(base + this.stackID(stack) + ` (via always-reduce ${parser.getName(defaultReduce & 65535 /* Action.ValueMask */)})`);\n            return true;\n        }\n        if (stack.stack.length >= 15000 /* Rec.CutDepth */) {\n            while (stack.stack.length > 9000 /* Rec.CutTo */ && stack.forceReduce()) { }\n        }\n        let actions = this.tokens.getActions(stack);\n        for (let i = 0; i < actions.length;) {\n            let action = actions[i++], term = actions[i++], end = actions[i++];\n            let last = i == actions.length || !split;\n            let localStack = last ? stack : stack.split();\n            localStack.apply(action, term, end);\n            if (verbose)\n                console.log(base + this.stackID(localStack) + ` (via ${(action & 65536 /* Action.ReduceFlag */) == 0 ? \"shift\"\n                    : `reduce of ${parser.getName(action & 65535 /* Action.ValueMask */)}`} for ${parser.getName(term)} @ ${start}${localStack == stack ? \"\" : \", split\"})`);\n            if (last)\n                return true;\n            else if (localStack.pos > start)\n                stacks.push(localStack);\n            else\n                split.push(localStack);\n        }\n        return false;\n    }\n    // Advance a given stack forward as far as it will go. Returns the\n    // (possibly updated) stack if it got stuck, or null if it moved\n    // forward and was given to `pushStackDedup`.\n    advanceFully(stack, newStacks) {\n        let pos = stack.pos;\n        for (;;) {\n            if (!this.advanceStack(stack, null, null))\n                return false;\n            if (stack.pos > pos) {\n                pushStackDedup(stack, newStacks);\n                return true;\n            }\n        }\n    }\n    runRecovery(stacks, tokens, newStacks) {\n        let finished = null, restarted = false;\n        for (let i = 0; i < stacks.length; i++) {\n            let stack = stacks[i], token = tokens[i << 1], tokenEnd = tokens[(i << 1) + 1];\n            let base = verbose ? this.stackID(stack) + \" -> \" : \"\";\n            if (stack.deadEnd) {\n                if (restarted)\n                    continue;\n                restarted = true;\n                stack.restart();\n                if (verbose)\n                    console.log(base + this.stackID(stack) + \" (restarted)\");\n                let done = this.advanceFully(stack, newStacks);\n                if (done)\n                    continue;\n            }\n            let force = stack.split(), forceBase = base;\n            for (let j = 0; force.forceReduce() && j < 10 /* Rec.ForceReduceLimit */; j++) {\n                if (verbose)\n                    console.log(forceBase + this.stackID(force) + \" (via force-reduce)\");\n                let done = this.advanceFully(force, newStacks);\n                if (done)\n                    break;\n                if (verbose)\n                    forceBase = this.stackID(force) + \" -> \";\n            }\n            for (let insert of stack.recoverByInsert(token)) {\n                if (verbose)\n                    console.log(base + this.stackID(insert) + \" (via recover-insert)\");\n                this.advanceFully(insert, newStacks);\n            }\n            if (this.stream.end > stack.pos) {\n                if (tokenEnd == stack.pos) {\n                    tokenEnd++;\n                    token = 0 /* Term.Err */;\n                }\n                stack.recoverByDelete(token, tokenEnd);\n                if (verbose)\n                    console.log(base + this.stackID(stack) + ` (via recover-delete ${this.parser.getName(token)})`);\n                pushStackDedup(stack, newStacks);\n            }\n            else if (!finished || finished.score < stack.score) {\n                finished = stack;\n            }\n        }\n        return finished;\n    }\n    // Convert the stack's buffer to a syntax tree.\n    stackToTree(stack) {\n        stack.close();\n        return Tree.build({ buffer: StackBufferCursor.create(stack),\n            nodeSet: this.parser.nodeSet,\n            topID: this.topTerm,\n            maxBufferLength: this.parser.bufferLength,\n            reused: this.reused,\n            start: this.ranges[0].from,\n            length: stack.pos - this.ranges[0].from,\n            minRepeatType: this.parser.minRepeatTerm });\n    }\n    stackID(stack) {\n        let id = (stackIDs || (stackIDs = new WeakMap)).get(stack);\n        if (!id)\n            stackIDs.set(stack, id = String.fromCodePoint(this.nextStackID++));\n        return id + stack;\n    }\n}\nfunction pushStackDedup(stack, newStacks) {\n    for (let i = 0; i < newStacks.length; i++) {\n        let other = newStacks[i];\n        if (other.pos == stack.pos && other.sameState(stack)) {\n            if (newStacks[i].score < stack.score)\n                newStacks[i] = stack;\n            return;\n        }\n    }\n    newStacks.push(stack);\n}\nclass Dialect {\n    constructor(source, flags, disabled) {\n        this.source = source;\n        this.flags = flags;\n        this.disabled = disabled;\n    }\n    allows(term) { return !this.disabled || this.disabled[term] == 0; }\n}\nconst id = x => x;\n/// Context trackers are used to track stateful context (such as\n/// indentation in the Python grammar, or parent elements in the XML\n/// grammar) needed by external tokenizers. You declare them in a\n/// grammar file as `@context exportName from \"module\"`.\n///\n/// Context values should be immutable, and can be updated (replaced)\n/// on shift or reduce actions.\n///\n/// The export used in a `@context` declaration should be of this\n/// type.\nclass ContextTracker {\n    /// Define a context tracker.\n    constructor(spec) {\n        this.start = spec.start;\n        this.shift = spec.shift || id;\n        this.reduce = spec.reduce || id;\n        this.reuse = spec.reuse || id;\n        this.hash = spec.hash || (() => 0);\n        this.strict = spec.strict !== false;\n    }\n}\n/// Holds the parse tables for a given grammar, as generated by\n/// `lezer-generator`, and provides [methods](#common.Parser) to parse\n/// content with.\nclass LRParser extends Parser {\n    /// @internal\n    constructor(spec) {\n        super();\n        /// @internal\n        this.wrappers = [];\n        if (spec.version != 14 /* File.Version */)\n            throw new RangeError(`Parser version (${spec.version}) doesn't match runtime version (${14 /* File.Version */})`);\n        let nodeNames = spec.nodeNames.split(\" \");\n        this.minRepeatTerm = nodeNames.length;\n        for (let i = 0; i < spec.repeatNodeCount; i++)\n            nodeNames.push(\"\");\n        let topTerms = Object.keys(spec.topRules).map(r => spec.topRules[r][1]);\n        let nodeProps = [];\n        for (let i = 0; i < nodeNames.length; i++)\n            nodeProps.push([]);\n        function setProp(nodeID, prop, value) {\n            nodeProps[nodeID].push([prop, prop.deserialize(String(value))]);\n        }\n        if (spec.nodeProps)\n            for (let propSpec of spec.nodeProps) {\n                let prop = propSpec[0];\n                if (typeof prop == \"string\")\n                    prop = NodeProp[prop];\n                for (let i = 1; i < propSpec.length;) {\n                    let next = propSpec[i++];\n                    if (next >= 0) {\n                        setProp(next, prop, propSpec[i++]);\n                    }\n                    else {\n                        let value = propSpec[i + -next];\n                        for (let j = -next; j > 0; j--)\n                            setProp(propSpec[i++], prop, value);\n                        i++;\n                    }\n                }\n            }\n        this.nodeSet = new NodeSet(nodeNames.map((name, i) => NodeType.define({\n            name: i >= this.minRepeatTerm ? undefined : name,\n            id: i,\n            props: nodeProps[i],\n            top: topTerms.indexOf(i) > -1,\n            error: i == 0,\n            skipped: spec.skippedNodes && spec.skippedNodes.indexOf(i) > -1\n        })));\n        if (spec.propSources)\n            this.nodeSet = this.nodeSet.extend(...spec.propSources);\n        this.strict = false;\n        this.bufferLength = DefaultBufferLength;\n        let tokenArray = decodeArray(spec.tokenData);\n        this.context = spec.context;\n        this.specializerSpecs = spec.specialized || [];\n        this.specialized = new Uint16Array(this.specializerSpecs.length);\n        for (let i = 0; i < this.specializerSpecs.length; i++)\n            this.specialized[i] = this.specializerSpecs[i].term;\n        this.specializers = this.specializerSpecs.map(getSpecializer);\n        this.states = decodeArray(spec.states, Uint32Array);\n        this.data = decodeArray(spec.stateData);\n        this.goto = decodeArray(spec.goto);\n        this.maxTerm = spec.maxTerm;\n        this.tokenizers = spec.tokenizers.map(value => typeof value == \"number\" ? new TokenGroup(tokenArray, value) : value);\n        this.topRules = spec.topRules;\n        this.dialects = spec.dialects || {};\n        this.dynamicPrecedences = spec.dynamicPrecedences || null;\n        this.tokenPrecTable = spec.tokenPrec;\n        this.termNames = spec.termNames || null;\n        this.maxNode = this.nodeSet.types.length - 1;\n        this.dialect = this.parseDialect();\n        this.top = this.topRules[Object.keys(this.topRules)[0]];\n    }\n    createParse(input, fragments, ranges) {\n        let parse = new Parse(this, input, fragments, ranges);\n        for (let w of this.wrappers)\n            parse = w(parse, input, fragments, ranges);\n        return parse;\n    }\n    /// Get a goto table entry @internal\n    getGoto(state, term, loose = false) {\n        let table = this.goto;\n        if (term >= table[0])\n            return -1;\n        for (let pos = table[term + 1];;) {\n            let groupTag = table[pos++], last = groupTag & 1;\n            let target = table[pos++];\n            if (last && loose)\n                return target;\n            for (let end = pos + (groupTag >> 1); pos < end; pos++)\n                if (table[pos] == state)\n                    return target;\n            if (last)\n                return -1;\n        }\n    }\n    /// Check if this state has an action for a given terminal @internal\n    hasAction(state, terminal) {\n        let data = this.data;\n        for (let set = 0; set < 2; set++) {\n            for (let i = this.stateSlot(state, set ? 2 /* ParseState.Skip */ : 1 /* ParseState.Actions */), next;; i += 3) {\n                if ((next = data[i]) == 65535 /* Seq.End */) {\n                    if (data[i + 1] == 1 /* Seq.Next */)\n                        next = data[i = pair(data, i + 2)];\n                    else if (data[i + 1] == 2 /* Seq.Other */)\n                        return pair(data, i + 2);\n                    else\n                        break;\n                }\n                if (next == terminal || next == 0 /* Term.Err */)\n                    return pair(data, i + 1);\n            }\n        }\n        return 0;\n    }\n    /// @internal\n    stateSlot(state, slot) {\n        return this.states[(state * 6 /* ParseState.Size */) + slot];\n    }\n    /// @internal\n    stateFlag(state, flag) {\n        return (this.stateSlot(state, 0 /* ParseState.Flags */) & flag) > 0;\n    }\n    /// @internal\n    validAction(state, action) {\n        if (action == this.stateSlot(state, 4 /* ParseState.DefaultReduce */))\n            return true;\n        for (let i = this.stateSlot(state, 1 /* ParseState.Actions */);; i += 3) {\n            if (this.data[i] == 65535 /* Seq.End */) {\n                if (this.data[i + 1] == 1 /* Seq.Next */)\n                    i = pair(this.data, i + 2);\n                else\n                    return false;\n            }\n            if (action == pair(this.data, i + 1))\n                return true;\n        }\n    }\n    /// Get the states that can follow this one through shift actions or\n    /// goto jumps. @internal\n    nextStates(state) {\n        let result = [];\n        for (let i = this.stateSlot(state, 1 /* ParseState.Actions */);; i += 3) {\n            if (this.data[i] == 65535 /* Seq.End */) {\n                if (this.data[i + 1] == 1 /* Seq.Next */)\n                    i = pair(this.data, i + 2);\n                else\n                    break;\n            }\n            if ((this.data[i + 2] & (65536 /* Action.ReduceFlag */ >> 16)) == 0) {\n                let value = this.data[i + 1];\n                if (!result.some((v, i) => (i & 1) && v == value))\n                    result.push(this.data[i], value);\n            }\n        }\n        return result;\n    }\n    /// Configure the parser. Returns a new parser instance that has the\n    /// given settings modified. Settings not provided in `config` are\n    /// kept from the original parser.\n    configure(config) {\n        // Hideous reflection-based kludge to make it easy to create a\n        // slightly modified copy of a parser.\n        let copy = Object.assign(Object.create(LRParser.prototype), this);\n        if (config.props)\n            copy.nodeSet = this.nodeSet.extend(...config.props);\n        if (config.top) {\n            let info = this.topRules[config.top];\n            if (!info)\n                throw new RangeError(`Invalid top rule name ${config.top}`);\n            copy.top = info;\n        }\n        if (config.tokenizers)\n            copy.tokenizers = this.tokenizers.map(t => {\n                let found = config.tokenizers.find(r => r.from == t);\n                return found ? found.to : t;\n            });\n        if (config.specializers) {\n            copy.specializers = this.specializers.slice();\n            copy.specializerSpecs = this.specializerSpecs.map((s, i) => {\n                let found = config.specializers.find(r => r.from == s.external);\n                if (!found)\n                    return s;\n                let spec = Object.assign(Object.assign({}, s), { external: found.to });\n                copy.specializers[i] = getSpecializer(spec);\n                return spec;\n            });\n        }\n        if (config.contextTracker)\n            copy.context = config.contextTracker;\n        if (config.dialect)\n            copy.dialect = this.parseDialect(config.dialect);\n        if (config.strict != null)\n            copy.strict = config.strict;\n        if (config.wrap)\n            copy.wrappers = copy.wrappers.concat(config.wrap);\n        if (config.bufferLength != null)\n            copy.bufferLength = config.bufferLength;\n        return copy;\n    }\n    /// Tells you whether any [parse wrappers](#lr.ParserConfig.wrap)\n    /// are registered for this parser.\n    hasWrappers() {\n        return this.wrappers.length > 0;\n    }\n    /// Returns the name associated with a given term. This will only\n    /// work for all terms when the parser was generated with the\n    /// `--names` option. By default, only the names of tagged terms are\n    /// stored.\n    getName(term) {\n        return this.termNames ? this.termNames[term] : String(term <= this.maxNode && this.nodeSet.types[term].name || term);\n    }\n    /// The eof term id is always allocated directly after the node\n    /// types. @internal\n    get eofTerm() { return this.maxNode + 1; }\n    /// The type of top node produced by the parser.\n    get topNode() { return this.nodeSet.types[this.top[1]]; }\n    /// @internal\n    dynamicPrecedence(term) {\n        let prec = this.dynamicPrecedences;\n        return prec == null ? 0 : prec[term] || 0;\n    }\n    /// @internal\n    parseDialect(dialect) {\n        let values = Object.keys(this.dialects), flags = values.map(() => false);\n        if (dialect)\n            for (let part of dialect.split(\" \")) {\n                let id = values.indexOf(part);\n                if (id >= 0)\n                    flags[id] = true;\n            }\n        let disabled = null;\n        for (let i = 0; i < values.length; i++)\n            if (!flags[i]) {\n                for (let j = this.dialects[values[i]], id; (id = this.data[j++]) != 65535 /* Seq.End */;)\n                    (disabled || (disabled = new Uint8Array(this.maxTerm + 1)))[id] = 1;\n            }\n        return new Dialect(dialect, flags, disabled);\n    }\n    /// Used by the output of the parser generator. Not available to\n    /// user code. @hide\n    static deserialize(spec) {\n        return new LRParser(spec);\n    }\n}\nfunction pair(data, off) { return data[off] | (data[off + 1] << 16); }\nfunction findFinished(stacks) {\n    let best = null;\n    for (let stack of stacks) {\n        let stopped = stack.p.stoppedAt;\n        if ((stack.pos == stack.p.stream.end || stopped != null && stack.pos > stopped) &&\n            stack.p.parser.stateFlag(stack.state, 2 /* StateFlag.Accepting */) &&\n            (!best || best.score < stack.score))\n            best = stack;\n    }\n    return best;\n}\nfunction getSpecializer(spec) {\n    if (spec.external) {\n        let mask = spec.extend ? 1 /* Specialize.Extend */ : 0 /* Specialize.Specialize */;\n        return (value, stack) => (spec.external(value, stack) << 1) | mask;\n    }\n    return spec.get;\n}\n\nexport { ContextTracker, ExternalTokenizer, InputStream, LRParser, LocalTokenGroup, Stack };\n","import { ContextTracker, ExternalTokenizer, LRParser, LocalTokenGroup } from '@lezer/lr';\nimport { styleTags, tags } from '@lezer/highlight';\n\n// This file was generated by lezer-generator. You probably shouldn't edit it.\nconst noSemi = 301,\n  incdec = 1,\n  incdecPrefix = 2,\n  insertSemi = 302,\n  spaces = 304,\n  newline = 305,\n  LineComment = 3,\n  BlockComment = 4;\n\n/* Hand-written tokenizers for JavaScript tokens that can't be\n   expressed by lezer's built-in tokenizer. */\n\nconst space = [9, 10, 11, 12, 13, 32, 133, 160, 5760, 8192, 8193, 8194, 8195, 8196, 8197, 8198, 8199, 8200,\n               8201, 8202, 8232, 8233, 8239, 8287, 12288];\n\nconst braceR = 125, semicolon = 59, slash = 47, star = 42,\n      plus = 43, minus = 45;\n\nconst trackNewline = new ContextTracker({\n  start: false,\n  shift(context, term) {\n    return term == LineComment || term == BlockComment || term == spaces ? context : term == newline\n  },\n  strict: false\n});\n\nconst insertSemicolon = new ExternalTokenizer((input, stack) => {\n  let {next} = input;\n  if ((next == braceR || next == -1 || stack.context) && stack.canShift(insertSemi))\n    input.acceptToken(insertSemi);\n}, {contextual: true, fallback: true});\n\nconst noSemicolon = new ExternalTokenizer((input, stack) => {\n  let {next} = input, after;\n  if (space.indexOf(next) > -1) return\n  if (next == slash && ((after = input.peek(1)) == slash || after == star)) return\n  if (next != braceR && next != semicolon && next != -1 && !stack.context && stack.canShift(noSemi))\n    input.acceptToken(noSemi);\n}, {contextual: true});\n\nconst incdecToken = new ExternalTokenizer((input, stack) => {\n  let {next} = input;\n  if (next == plus || next == minus) {\n    input.advance();\n    if (next == input.next) {\n      input.advance();\n      let mayPostfix = !stack.context && stack.canShift(incdec);\n      input.acceptToken(mayPostfix ? incdec : incdecPrefix);\n    }\n  }\n}, {contextual: true});\n\nconst jsHighlight = styleTags({\n  \"get set async static\": tags.modifier,\n  \"for while do if else switch try catch finally return throw break continue default case\": tags.controlKeyword,\n  \"in of await yield void typeof delete instanceof\": tags.operatorKeyword,\n  \"let var const function class extends\": tags.definitionKeyword,\n  \"import export from\": tags.moduleKeyword,\n  \"with debugger as new\": tags.keyword,\n  TemplateString: tags.special(tags.string),\n  super: tags.atom,\n  BooleanLiteral: tags.bool,\n  this: tags.self,\n  null: tags.null,\n  Star: tags.modifier,\n  VariableName: tags.variableName,\n  \"CallExpression/VariableName TaggedTemplateExpression/VariableName\": tags.function(tags.variableName),\n  VariableDefinition: tags.definition(tags.variableName),\n  Label: tags.labelName,\n  PropertyName: tags.propertyName,\n  PrivatePropertyName: tags.special(tags.propertyName),\n  \"CallExpression/MemberExpression/PropertyName\": tags.function(tags.propertyName),\n  \"FunctionDeclaration/VariableDefinition\": tags.function(tags.definition(tags.variableName)),\n  \"ClassDeclaration/VariableDefinition\": tags.definition(tags.className),\n  PropertyDefinition: tags.definition(tags.propertyName),\n  PrivatePropertyDefinition: tags.definition(tags.special(tags.propertyName)),\n  UpdateOp: tags.updateOperator,\n  LineComment: tags.lineComment,\n  BlockComment: tags.blockComment,\n  Number: tags.number,\n  String: tags.string,\n  Escape: tags.escape,\n  ArithOp: tags.arithmeticOperator,\n  LogicOp: tags.logicOperator,\n  BitOp: tags.bitwiseOperator,\n  CompareOp: tags.compareOperator,\n  RegExp: tags.regexp,\n  Equals: tags.definitionOperator,\n  Arrow: tags.function(tags.punctuation),\n  \": Spread\": tags.punctuation,\n  \"( )\": tags.paren,\n  \"[ ]\": tags.squareBracket,\n  \"{ }\": tags.brace,\n  \"InterpolationStart InterpolationEnd\": tags.special(tags.brace),\n  \".\": tags.derefOperator,\n  \", ;\": tags.separator,\n  \"@\": tags.meta,\n\n  TypeName: tags.typeName,\n  TypeDefinition: tags.definition(tags.typeName),\n  \"type enum interface implements namespace module declare\": tags.definitionKeyword,\n  \"abstract global Privacy readonly override\": tags.modifier,\n  \"is keyof unique infer\": tags.operatorKeyword,\n\n  JSXAttributeValue: tags.attributeValue,\n  JSXText: tags.content,\n  \"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag\": tags.angleBracket,\n  \"JSXIdentifier JSXNameSpacedName\": tags.tagName,\n  \"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName\": tags.attributeName,\n  \"JSXBuiltin/JSXIdentifier\": tags.standard(tags.tagName)\n});\n\n// This file was generated by lezer-generator. You probably shouldn't edit it.\nconst spec_identifier = {__proto__:null,export:14, as:19, from:27, default:30, async:35, function:36, extends:46, this:50, true:58, false:58, null:70, void:74, typeof:78, super:96, new:130, delete:146, yield:155, await:159, class:164, public:219, private:219, protected:219, readonly:221, instanceof:240, satisfies:243, in:244, const:246, import:278, keyof:333, unique:337, infer:343, is:379, abstract:399, implements:401, type:403, let:406, var:408, interface:415, enum:419, namespace:425, module:427, declare:431, global:435, for:456, of:465, while:468, with:472, do:476, if:480, else:482, switch:486, case:492, try:498, catch:502, finally:506, return:510, throw:514, break:518, continue:522, debugger:526};\nconst spec_word = {__proto__:null,async:117, get:119, set:121, public:181, private:181, protected:181, static:183, abstract:185, override:187, readonly:193, accessor:195, new:383};\nconst spec_LessThan = {__proto__:null,\"<\":137};\nconst parser = LRParser.deserialize({\n  version: 14,\n  states: \"$BhO`QUOOO%QQUOOO'TQWOOP(_OSOOO*mQ(CjO'#CfO*tOpO'#CgO+SO!bO'#CgO+bO07`O'#DZO-sQUO'#DaO.TQUO'#DlO%QQUO'#DvO0[QUO'#EOOOQ(CY'#EW'#EWO0rQSO'#ETOOQO'#I_'#I_O0zQSO'#GjOOQO'#Eh'#EhO1VQSO'#EgO1[QSO'#EgO3^Q(CjO'#JbO5}Q(CjO'#JcO6kQSO'#FVO6pQ#tO'#FnOOQ(CY'#F_'#F_O6{O&jO'#F_O7ZQ,UO'#FuO8qQSO'#FtOOQ(CY'#Jc'#JcOOQ(CW'#Jb'#JbOOQQ'#J|'#J|O8vQSO'#IOO8{Q(C[O'#IPOOQQ'#JO'#JOOOQQ'#IT'#ITQ`QUOOO%QQUO'#DnO9TQUO'#DzO%QQUO'#D|O9[QSO'#GjO9aQ,UO'#ClO9oQSO'#EfO9zQSO'#EqO:PQ,UO'#F^O:nQSO'#GjO:sQSO'#GnO;OQSO'#GnO;^QSO'#GqO;^QSO'#GrO;^QSO'#GtO9[QSO'#GwO;}QSO'#GzO=`QSO'#CbO=pQSO'#HXO=xQSO'#H_O=xQSO'#HaO`QUO'#HcO=xQSO'#HeO=xQSO'#HhO=}QSO'#HnO>SQ(C]O'#HtO%QQUO'#HvO>_Q(C]O'#HxO>jQ(C]O'#HzO8{Q(C[O'#H|O>uQ(CjO'#CfO?wQWO'#DfQOQSOOO@_QSO'#EPO9aQ,UO'#EfO@jQSO'#EfO@uQ`O'#F^OOQQ'#Cd'#CdOOQ(CW'#Dk'#DkOOQ(CW'#Jf'#JfO%QQUO'#JfOBOQWO'#E_OOQ(CW'#E^'#E^OBYQ(C`O'#E_OBtQWO'#ESOOQO'#Ji'#JiOCYQWO'#ESOCgQWO'#E_OC}QWO'#EeODQQWO'#E_O@}QWO'#E_OBtQWO'#E_PDkO?MpO'#C`POOO)CDm)CDmOOOO'#IU'#IUODvOpO,59ROOQ(CY,59R,59ROOOO'#IV'#IVOEUO!bO,59RO%QQUO'#D]OOOO'#IX'#IXOEdO07`O,59uOOQ(CY,59u,59uOErQUO'#IYOFVQSO'#JdOHXQbO'#JdO+pQUO'#JdOH`QSO,59{OHvQSO'#EhOITQSO'#JqOI`QSO'#JpOI`QSO'#JpOIhQSO,5;UOImQSO'#JoOOQ(CY,5:W,5:WOItQUO,5:WOKuQ(CjO,5:bOLfQSO,5:jOLkQSO'#JmOMeQ(C[O'#JnO:sQSO'#JmOMlQSO'#JmOMtQSO,5;TOMyQSO'#JmOOQ(CY'#Cf'#CfO%QQUO'#EOONmQ`O,5:oOOQO'#Jj'#JjOOQO-E<]-E<]O9[QSO,5=UO! TQSO,5=UO! YQUO,5;RO!#]Q,UO'#EcO!$pQSO,5;RO!&YQ,UO'#DpO!&aQUO'#DuO!&kQWO,5;[O!&sQWO,5;[O%QQUO,5;[OOQQ'#E}'#E}OOQQ'#FP'#FPO%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]OOQQ'#FT'#FTO!'RQUO,5;nOOQ(CY,5;s,5;sOOQ(CY,5;t,5;tO!)UQSO,5;tOOQ(CY,5;u,5;uO%QQUO'#IeO!)^Q(C[O,5<bO!#]Q,UO,5;]O!){Q,UO,5;]O%QQUO,5;qO!*SQ#tO'#FdO!+PQ#tO'#JuO!*kQ#tO'#JuO!+WQ#tO'#JuOOQO'#Ju'#JuO!+lQ#tO,5;|OOOO,5<Y,5<YO!+}QUO'#FpOOOO'#Id'#IdO6{O&jO,5;yO!,UQ#tO'#FrOOQ(CY,5;y,5;yO!,uQ7[O'#CrOOQ(CY'#Cv'#CvO!-YQSO'#CvO!-_O07`O'#CzO!-{Q,UO,5<_O!.SQSO,5<aO!/iQMhO'#GPO!/vQSO'#GQO!/{QSO'#GQO!0QQMhO'#GUO!1PQWO'#GYO!1rQ7[O'#J]OOQ(CY'#J]'#J]O!1|QSO'#J[O!2[QSO'#JZO!2dQSO'#CqOOQ(CY'#Ct'#CtOOQ(CY'#DO'#DOOOQ(CY'#DQ'#DQO0uQSO'#DSO!$uQ,UO'#FwO!$uQ,UO'#FyO!2lQSO'#F{O!2qQSO'#F|O!/{QSO'#GSO!$uQ,UO'#GXO!2vQSO'#EiO!3bQSO,5<`O`QUO,5>jOOQQ'#JW'#JWOOQQ,5>k,5>kOOQQ-E<R-E<RO!5aQ(CjO,5:YO!7}Q(CjO,5:fO%QQUO,5:fO!:hQ(CjO,5:hOOQ(CW'#Co'#CoO!;XQ,UO,5=UO!;gQ(C[O'#JXO8qQSO'#JXO=}QSO,59WO!;xQWO,59WO!<QQ,UO,59WO9aQ,UO,59WO!<]QSO,5;RO!<eQSO'#HWO!<vQSO'#KQO%QQUO,5;vO!=OQWO,5;xO!=TQSO,5=qO!=YQSO,5=qO!=_QSO,5=qO8{Q(C[O,5=qO!=mQSO'#EjO!>gQWO'#EkOOQ(CW'#Jo'#JoO!>nQ(C[O'#J}O8{Q(C[O,5=YO;^QSO,5=`OOQO'#Cr'#CrO!>yQWO,5=]O!?RQ,UO,5=^O!?^QSO,5=`O!?cQ`O,5=cO=}QSO'#G|O9[QSO'#HOO!?kQSO'#HOO9aQ,UO'#HRO!?pQSO'#HROOQQ,5=f,5=fO!?uQSO'#HSO!?}QSO'#ClO!@SQSO,58|O!@^QSO,58|O!BfQUO,58|OOQQ,58|,58|O!BsQ(C[O,58|O%QQUO,58|O!COQUO'#HZOOQQ'#H['#H[OOQQ'#H]'#H]O`QUO,5=sO!C`QSO,5=sO`QUO,5=yO`QUO,5={O!CeQSO,5=}O`QUO,5>PO!CjQSO,5>SO!CoQUO,5>YOOQQ,5>`,5>`O%QQUO,5>`O8{Q(C[O,5>bOOQQ,5>d,5>dO!GvQSO,5>dOOQQ,5>f,5>fO!GvQSO,5>fOOQQ,5>h,5>hO!G{QWO'#DXO%QQUO'#JfO!HjQWO'#JfO!IXQWO'#DgO!IjQWO'#DgO!K{QUO'#DgO!LSQSO'#JeO!L[QSO,5:QO!LaQSO'#ElO!LoQSO'#JrO!LwQSO,5;VO!L|QWO'#DgO!MZQWO'#EROOQ(CY,5:k,5:kO%QQUO,5:kO!MbQSO,5:kO=}QSO,5;QO!;xQWO,5;QO!<QQ,UO,5;QO9aQ,UO,5;QO!MjQSO,5@QO!MoQ!LQO,5:oO!NrQ(C`O,5:yOBtQWO,5:nO# ^QWO,5:nO# kQWO,5:yO#!RQWO,5:yO#!lQWO,5:yOBtQWO,5:yO=}QSO,5:nOOQ(CW'#Eb'#EbOOQO,5:y,5:yO%QQUO,5:yO##]Q(C[O,5:yO##hQ(C[O,5:yO!;xQWO,5:nOOQO,5;P,5;PO##vQ(C[O,5:yPOOO'#IS'#ISP#$[O?MpO,58zPOOO,58z,58zOOOO-E<S-E<SOOQ(CY1G.m1G.mOOOO-E<T-E<TO#$gQ`O,59wOOOO-E<V-E<VOOQ(CY1G/a1G/aO#$lQbO,5>tO+pQUO,5>tOOQO,5>z,5>zO#$vQUO'#IYOOQO-E<W-E<WO#%TQSO,5@OO#%]QbO,5@OO#%dQSO,5@[OOQ(CY1G/g1G/gO%QQUO,5@]O#%lQSO'#I`OOQO-E<^-E<^O#%dQSO,5@[OOQ(CW1G0p1G0pOOQ(CY1G/r1G/rOOQ(CY1G0U1G0UO#&QQSO,5@XO:sQSO,5@XO#&YQSO,5@XO%QQUO,5@YO#&hQ(C[O,5@YO#&yQ(C[O,5@YO#'QQSO'#IbO#&QQSO,5@XOOQ(CW1G0o1G0oO!&kQWO,5:qO!&vQWO,5:qOOQO,5:s,5:sO#'oQSO,5:sO#'wQ,UO1G2pO9[QSO1G2pOOQ(CY1G0m1G0mO#(VQ(CjO1G0mO#)[Q(ChO,5:}OOQ(CY'#GO'#GOO#)xQ(CjO'#J]O! YQUO1G0mO#,QQ,UO'#JgO#,[QSO,5:[O#,aQbO'#JhO%QQUO'#JhO#,kQSO,5:aOOQ(CY'#DX'#DXOOQ(CY1G0v1G0vO%QQUO1G0vOOQ(CY1G1`1G1`O#,pQSO1G0vO#/XQ(CjO1G0wO#/`Q(CjO1G0wO#1yQ(CjO1G0wO#2QQ(CjO1G0wO#4[Q(CjO1G0wO#4rQ(CjO1G0wO#7lQ(CjO1G0wO#7sQ(CjO1G0wO#:^Q(CjO1G0wO#:eQ(CjO1G0wO#<]Q(CjO1G0wO#?]Q$IUO'#CfO#AZQ$IUO1G1YO#CXQ$IUO'#JcO!)XQSO1G1`O#ClQ(CjO,5?POOQ(CW-E<c-E<cO#D`Q(CjO1G0wOOQ(CY1G0w1G0wO#FkQ(CjO1G1]O#G_Q#tO,5<QO#GgQ#tO,5<RO#GoQ#tO'#FiO#HWQSO'#FhOOQO'#Jv'#JvOOQO'#Ic'#IcO#H]Q#tO1G1hOOQ(CY1G1h1G1hOOOO1G1s1G1sO#HnQ$IUO'#JbO#HxQSO,5<[O!'RQUO,5<[OOOO-E<b-E<bOOQ(CY1G1e1G1eO#H}QWO'#JuOOQ(CY,5<^,5<^O#IVQWO,5<^OOQ(CY,59b,59bO!#]Q,UO'#C|OOOO'#IW'#IWO#I[O07`O,59fOOQ(CY,59f,59fO%QQUO1G1yO!2qQSO'#IgO#IgQSO,5<rOOQ(CY,5<o,5<oOOQO'#Ge'#GeO!$uQ,UO,5=OOOQO'#Gg'#GgO!$uQ,UO,5=QO!#]Q,UO,5=SOOQO1G1{1G1{O#IuQ`O'#CoO#JYQ`O,5<kO#JaQSO'#JyO9[QSO'#JyO#JoQSO,5<mO!$uQ,UO,5<lO#JtQSO'#GRO#KPQSO,5<lO#KUQ`O'#GOO#KcQ`O'#JzO#KmQSO'#JzO!#]Q,UO'#JzO#KrQSO,5<pO#KwQWO'#GZO!0zQWO'#GZO#LYQSO'#G]O#L_QSO'#G_O!/{QSO'#GbO#LdQ(C[O'#IiO#LoQWO,5<tOOQ(CY,5<t,5<tO#LvQWO'#GZO#MUQWO'#G[O#M^QWO'#G[OOQ(CY,5=T,5=TO!$uQ,UO,5?vO!$uQ,UO,5?vO#McQSO'#IjO#MnQSO,5?uO#MvQSO,59]O#NgQ,UO,59nOOQ(CY,59n,59nO$ YQ,UO,5<cO$ {Q,UO,5<eO?oQSO,5<gOOQ(CY,5<h,5<hO$!VQSO,5<nO$![Q,UO,5<sO! YQUO1G1zO$!lQSO1G1zOOQQ1G4U1G4UOOQ(CY1G/t1G/tO!)UQSO1G/tO$$kQ(CjO1G0QOOQQ1G2p1G2pO!#]Q,UO1G2pO%QQUO1G2pO$%[QSO1G2pO$%gQ,UO'#EcOOQ(CW,5?s,5?sO$%qQ(C[O,5?sOOQQ1G.r1G.rO=}QSO1G.rO!;xQWO1G.rO!<QQ,UO1G.rO$&SQSO1G0mO$&XQSO'#CfO$&dQSO'#KRO$&lQSO,5=rO$&qQSO'#KRO$&vQSO'#KRO$'RQSO'#IrO$'aQSO,5@lO$'iQbO1G1bOOQ(CY1G1d1G1dO9[QSO1G3]O?oQSO1G3]O$'pQSO1G3]O$'uQSO1G3]OOQQ1G3]1G3]O:sQSO'#JpO:sQSO'#ElO%QQUO'#ElO:sQSO'#IlO$'zQ(C[O,5@iOOQQ1G2t1G2tO!?^QSO1G2zO!#]Q,UO1G2wO$(VQSO1G2wOOQQ1G2x1G2xO!#]Q,UO1G2xO$([QSO1G2xO$(dQWO'#GvOOQQ1G2z1G2zO!0zQWO'#InO!?cQ`O1G2}OOQQ1G2}1G2}OOQQ,5=h,5=hO$(lQ,UO,5=jO9[QSO,5=jO#L_QSO,5=mO8qQSO,5=mO!;xQWO,5=mO!<QQ,UO,5=mO9aQ,UO,5=mO$(zQSO'#KPO$)VQSO,5=nOOQQ1G.h1G.hO$)[Q(C[O1G.hO?oQSO1G.hO$)gQSO1G.hO8{Q(C[O1G.hO$)rQbO,5@nO$*VQSO,5@nO$*bQUO,5=uO$*iQSO,5=uO:sQSO,5@nOOQQ1G3_1G3_O`QUO1G3_OOQQ1G3e1G3eOOQQ1G3g1G3gO=xQSO1G3iO$*nQUO1G3kO$.oQUO'#HjOOQQ1G3n1G3nO$.|QSO'#HpO=}QSO'#HrOOQQ1G3t1G3tO$/UQUO1G3tO8{Q(C[O1G3zOOQQ1G3|1G3|OOQ(CW'#GV'#GVO8{Q(C[O1G4OO8{Q(C[O1G4QO$3YQSO,5@QO!'RQUO,5;WO:sQSO,5;WO=}QSO,5:RO!'RQUO,5:RO!;xQWO,5:RO$3_Q$IUO,5:ROOQO,5;W,5;WO$3iQWO'#IZO$4PQSO,5@POOQ(CY1G/l1G/lO$4XQWO'#IaO$4cQSO,5@^OOQ(CW1G0q1G0qO!IjQWO,5:ROOQO'#I^'#I^O$4kQWO,5:mOOQ(CY,5:m,5:mO!MeQSO1G0VOOQ(CY1G0V1G0VO%QQUO1G0VOOQ(CY1G0l1G0lO=}QSO1G0lO!;xQWO1G0lO!<QQ,UO1G0lOOQ(CW1G5l1G5lO=}QSO1G0YOOQO1G0e1G0eO%QQUO1G0eO$4rQ(C[O1G0eO$4}Q(C[O1G0eO!;xQWO1G0YOBtQWO1G0YO$5]Q(C`O1G0eO$5wQWO1G0YOBtQWO1G0eO$6UQWO1G0eO$6lQWO1G0eO$7VQ(C[O1G0eOOQO1G0Y1G0YO$7kQ(CjO1G0ePOOO-E<Q-E<QPOOO1G.f1G.fOOOO1G/c1G/cO$7uQ`O,5<bO$7}QbO1G4`OOQO1G4f1G4fO%QQUO,5>tO$8XQSO1G5jO$8aQSO1G5vO$8iQbO1G5wO:sQSO,5>zO$8sQSO1G5sO$8sQSO1G5sO:sQSO1G5sO$8{Q(CjO1G5tO%QQUO1G5tO$9]Q(C[O1G5tO$9nQSO,5>|O:sQSO,5>|OOQO,5>|,5>|O$:SQSO,5>|OOQO-E<`-E<`OOQO1G0]1G0]OOQO1G0_1G0_O!)XQSO1G0_OOQQ7+([7+([O!#]Q,UO7+([O%QQUO7+([O$:bQSO7+([O$:mQ,UO7+([O$:{Q(CjO,59nO$=TQ(CjO,5<cO$?`Q(CjO,5<eO$AkQ(CjO,5<sOOQ(CY7+&X7+&XO$C|Q(CjO7+&XO$DpQ,UO'#I[O$DzQSO,5@ROOQ(CY1G/v1G/vO$ESQUO'#I]O$EaQSO,5@SO$EiQbO,5@SOOQ(CY1G/{1G/{O$EsQSO7+&bOOQ(CY7+&b7+&bO$ExQ$IUO,5:bO%QQUO7+&tO$FSQ$IUO,5:YO$FaQ$IUO,5:fO$FkQ$IUO,5:hOOQ(CY7+&z7+&zOOQO1G1l1G1lOOQO1G1m1G1mO$FuQ#tO,5<TO!'RQUO,5<SOOQO-E<a-E<aOOQ(CY7+'S7+'SOOOO7+'_7+'_OOOO1G1v1G1vO$GQQSO1G1vOOQ(CY1G1x1G1xO$GVQ`O,59hOOOO-E<U-E<UOOQ(CY1G/Q1G/QO$G^Q(CjO7+'eOOQ(CY,5?R,5?RO$HQQSO,5?ROOQ(CY1G2^1G2^P$HVQSO'#IgPOQ(CY-E<e-E<eO$HyQ,UO1G2jO$IlQ,UO1G2lO$IvQ`O1G2nOOQ(CY1G2V1G2VO$I}QSO'#IfO$J]QSO,5@eO$J]QSO,5@eO$JeQSO,5@eO$JpQSO,5@eOOQO1G2X1G2XO$KOQ,UO1G2WO!$uQ,UO1G2WO$K`QMhO'#IhO$KpQSO,5@fO!#]Q,UO,5@fO$KxQ`O,5@fOOQ(CY1G2[1G2[OOQ(CW,5<u,5<uOOQ(CW,5<v,5<vO$LSQSO,5<vOBoQSO,5<vO!;xQWO,5<uOOQO'#G^'#G^O$LXQSO,5<wOOQ(CW,5<y,5<yO$LSQSO,5<|OOQO,5?T,5?TOOQO-E<g-E<gOOQ(CY1G2`1G2`O!0zQWO,5<uO$LaQSO,5<vO#LYQSO,5<wO!0zQWO,5<vO$LlQ,UO1G5bO$LvQ,UO1G5bOOQO,5?U,5?UOOQO-E<h-E<hOOQO1G.w1G.wO!=OQWO,59pO%QQUO,59pO$MTQSO1G2RO!$uQ,UO1G2YO$MYQ(CjO7+'fOOQ(CY7+'f7+'fO! YQUO7+'fOOQ(CY7+%`7+%`O$M|Q`O'#J{O!MeQSO7+([O$NWQbO7+([O$:eQSO7+([O$N_Q(ChO'#CfO$NrQ(ChO,5<zO% dQSO,5<zOOQ(CW1G5_1G5_OOQQ7+$^7+$^O=}QSO7+$^O!;xQWO7+$^O! YQUO7+&XO% iQSO'#IqO% }QSO,5@mOOQO1G3^1G3^O9[QSO,5@mO% }QSO,5@mO%!VQSO,5@mOOQO,5?^,5?^OOQO-E<p-E<pOOQ(CY7+&|7+&|O%![QSO7+(wO8{Q(C[O7+(wO9[QSO7+(wO?oQSO7+(wO%!aQSO,5;WOOQ(CW,5?W,5?WOOQ(CW-E<j-E<jOOQQ7+(f7+(fO%!fQ(ChO7+(cO!#]Q,UO7+(cO%!pQ`O7+(dOOQQ7+(d7+(dO!#]Q,UO7+(dO%!wQSO'#KOO%#SQSO,5=bOOQO,5?Y,5?YOOQO-E<l-E<lOOQQ7+(i7+(iO%$`QWO'#HPOOQQ1G3U1G3UO!#]Q,UO1G3UO%QQUO1G3UO%$gQSO1G3UO%$rQ,UO1G3UO8{Q(C[O1G3XO#L_QSO1G3XO8qQSO1G3XO!;xQWO1G3XO!<QQ,UO1G3XO%%QQSO'#IpO%%]QSO,5@kO%%eQWO,5@kOOQ(CW1G3Y1G3YOOQQ7+$S7+$SO?oQSO7+$SO8{Q(C[O7+$SO%%pQSO7+$SO%QQUO1G6YO%QQUO1G6ZO%%uQUO1G3aO%%|QSO1G3aO%&RQUO1G3aO%&YQ(C[O1G6YOOQQ7+(y7+(yO8{Q(C[O7+)TO`QUO7+)VOOQQ'#KU'#KUOOQQ'#Is'#IsO%&dQUO,5>UOOQQ,5>U,5>UO%QQUO'#HkO%&qQSO'#HmOOQQ,5>[,5>[O:sQSO,5>[OOQQ,5>^,5>^OOQQ7+)`7+)`OOQQ7+)f7+)fOOQQ7+)j7+)jOOQQ7+)l7+)lO%&vQWO1G5lO%'[Q$IUO1G0rO%'fQSO1G0rOOQO1G/m1G/mO%'qQ$IUO1G/mO=}QSO1G/mO!'RQUO'#DgOOQO,5>u,5>uOOQO-E<X-E<XOOQO,5>{,5>{OOQO-E<_-E<_O!;xQWO1G/mOOQO-E<[-E<[OOQ(CY1G0X1G0XOOQ(CY7+%q7+%qO!MeQSO7+%qOOQ(CY7+&W7+&WO=}QSO7+&WO!;xQWO7+&WOOQO7+%t7+%tO$7kQ(CjO7+&POOQO7+&P7+&PO%QQUO7+&PO%'{Q(C[O7+&PO=}QSO7+%tO!;xQWO7+%tO%(WQ(C[O7+&POBtQWO7+%tO%(fQ(C[O7+&PO%(zQ(C`O7+&PO%)UQWO7+%tOBtQWO7+&PO%)cQWO7+&PO%)yQSO7++_O%)yQSO7++_O%*RQ(CjO7++`O%QQUO7++`OOQO1G4h1G4hO:sQSO1G4hO%*cQSO1G4hOOQO7+%y7+%yO!MeQSO<<KvO$NWQbO<<KvO%*qQSO<<KvOOQQ<<Kv<<KvO!#]Q,UO<<KvO%QQUO<<KvO%*yQSO<<KvO%+UQ(CjO1G2jO%-aQ(CjO1G2lO%/lQ(CjO1G2WO%1}Q,UO,5>vOOQO-E<Y-E<YO%2XQbO,5>wO%QQUO,5>wOOQO-E<Z-E<ZO%2cQSO1G5nOOQ(CY<<I|<<I|O%2kQ$IUO1G0mO%4uQ$IUO1G0wO%4|Q$IUO1G0wO%7QQ$IUO1G0wO%7XQ$IUO1G0wO%8|Q$IUO1G0wO%9dQ$IUO1G0wO%;wQ$IUO1G0wO%<OQ$IUO1G0wO%>SQ$IUO1G0wO%>ZQ$IUO1G0wO%@RQ$IUO1G0wO%@fQ(CjO<<J`O%AkQ$IUO1G0wO%CaQ$IUO'#J]O%EdQ$IUO1G1]O%EqQ$IUO1G0QO!'RQUO'#FkOOQO'#Jw'#JwOOQO1G1o1G1oO%E{QSO1G1nO%FQQ$IUO,5?POOOO7+'b7+'bOOOO1G/S1G/SOOQ(CY1G4m1G4mO!$uQ,UO7+(YO%F[QSO,5?QO9[QSO,5?QOOQO-E<d-E<dO%FjQSO1G6PO%FjQSO1G6PO%FrQSO1G6PO%F}Q,UO7+'rO%G_Q`O,5?SO%GiQSO,5?SO!#]Q,UO,5?SOOQO-E<f-E<fO%GnQ`O1G6QO%GxQSO1G6QOOQ(CW1G2b1G2bO$LSQSO1G2bOOQ(CW1G2a1G2aO%HQQSO1G2cO!#]Q,UO1G2cOOQ(CW1G2h1G2hO!;xQWO1G2aOBoQSO1G2bO%HVQSO1G2cO%H_QSO1G2bO!$uQ,UO7+*|OOQ(CY1G/[1G/[O%HjQSO1G/[OOQ(CY7+'m7+'mO%HoQ,UO7+'tO%IPQ(CjO<<KQOOQ(CY<<KQ<<KQO!#]Q,UO'#IkO%IsQSO,5@gO!#]Q,UO1G2fOOQQ<<Gx<<GxO=}QSO<<GxO%I{Q(CjO<<IsOOQ(CY<<Is<<IsOOQO,5?],5?]O%JoQSO,5?]O$&vQSO,5?]OOQO-E<o-E<oO%JtQSO1G6XO%JtQSO1G6XO9[QSO1G6XO?oQSO<<LcOOQQ<<Lc<<LcO%J|QSO<<LcO8{Q(C[O<<LcO%KRQSO1G0rOOQQ<<K}<<K}O%!fQ(ChO<<K}OOQQ<<LO<<LOO%!pQ`O<<LOO%KWQWO'#ImO%KcQSO,5@jO!'RQUO,5@jOOQQ1G2|1G2|O%KkQ(C`O'#JfO%LVQUO'#JfO%L^QWO'#E_O%LwQ(C[O'#E_OBYQ(C`O'#E_O(VQWO'#HQOOQO'#Io'#IoO8{Q(C[O'#IoO%M]QWO,5=kOOQQ,5=k,5=kO%MuQWO'#E_O%LmQWO'#E_O%M|QWO'#E_O%NgQWO'#E_O& WQWO'#HQO& iQSO7+(pO& nQSO7+(pOOQQ7+(p7+(pO!#]Q,UO7+(pO%QQUO7+(pO& vQSO7+(pOOQQ7+(s7+(sO8{Q(C[O7+(sO#L_QSO7+(sO8qQSO7+(sO!;xQWO7+(sO&!RQSO,5?[OOQO-E<n-E<nOOQO'#HT'#HTO&!^QSO1G6VO8{Q(C[O<<GnOOQQ<<Gn<<GnO?oQSO<<GnO&!fQSO7++tO&!kQSO7++uOOQQ7+({7+({O&!pQSO7+({O&!uQUO7+({O&!|QSO7+({O%QQUO7++tO%QQUO7++uOOQQ<<Lo<<LoOOQQ<<Lq<<LqOOQQ-E<q-E<qOOQQ1G3p1G3pO&#RQSO,5>VOOQQ,5>X,5>XO&#WQSO1G3vO:sQSO7+&^O!'RQUO7+&^OOQO7+%X7+%XO&#]Q$IUO1G5wO=}QSO7+%XOOQ(CY<<I]<<I]OOQ(CY<<Ir<<IrO=}QSO<<IrOOQO<<Ik<<IkO$7kQ(CjO<<IkO%QQUO<<IkOOQO<<I`<<I`O=}QSO<<I`O&#gQ(C[O<<IkO!;xQWO<<I`O&#rQ(C[O<<IkOBtQWO<<I`O&$QQ(C[O<<IkO&$fQ(C`O<<IkO&$pQWO<<I`OBtQWO<<IkO&$}QSO<<NyO&%VQ(CjO<<NzOOQO7+*S7+*SO:sQSO7+*SOOQQANAbANAbO&%gQSOANAbO!#]Q,UOANAbO!MeQSOANAbO$NWQbOANAbO%QQUOANAbO&%oQ(CjO7+'rO&(QQ(CjO7+'tO&*cQbO1G4cO&*mQ$IUO7+&XO&*zQ$IUO,59nO&,}Q$IUO,5<cO&/QQ$IUO,5<eO&1TQ$IUO,5<sO&2yQ$IUO7+'eO&3WQ$IUO7+'fO&3eQSO,5<VOOQO7+'Y7+'YO&3jQ,UO<<KtOOQO1G4l1G4lO&3qQSO1G4lO&3|QSO1G4lO&4[QSO7++kO&4[QSO7++kO!#]Q,UO1G4nO&4dQ`O1G4nO&4nQSO7++lOOQ(CW7+'|7+'|O$LSQSO7+'}O&4vQ`O7+'}OOQ(CW7+'{7+'{O$LSQSO7+'|O&4}QSO7+'}O!#]Q,UO7+'}OBoQSO7+'|O&5SQ,UO<<NhOOQ(CY7+$v7+$vO&5^Q`O,5?VOOQO-E<i-E<iO&5hQ(ChO7+(QOOQQAN=dAN=dO9[QSO1G4wOOQO1G4w1G4wO&5xQSO1G4wO&5}QSO7++sO&5}QSO7++sO8{Q(C[OANA}O?oQSOANA}OOQQANA}ANA}OOQQANAiANAiOOQQANAjANAjO&6VQSO,5?XOOQO-E<k-E<kO&6bQ$IUO1G6UO#L_QSO,5=lO8qQSO,5=lO&8rQbO'#CfO&8|QWO,5:yO&9WQWO,5:yO&9eQWO,5:yO!;xQWO,5=lOOQO,5?Z,5?ZOOQO-E<m-E<mOOQQ1G3V1G3VO%LVQUO,5<wO%KkQ(C`O,5=lO!NrQ(C`O,5:yO(VQWO,5=lO&9xQWO,5=lO&:ZQWO,5:yOOQQ<<L[<<L[O!#]Q,UO<<L[O& iQSO<<L[O&:tQSO<<L[O%QQUO<<L[OOQQ<<L_<<L_O8{Q(C[O<<L_O#L_QSO<<L_O8qQSO<<L_O&:|QWO1G4vO&;XQSO7++qOOQQAN=YAN=YO8{Q(C[OAN=YOOQQ<= `<= `OOQQ<= a<= aOOQQ<<Lg<<LgO&;aQSO<<LgO&;fQUO<<LgO&;mQSO<= `O&;rQSO<= aOOQQ1G3q1G3qO=}QSO7+)bO&;wQSO<<IxO&<SQ$IUO<<IxOOQO<<Hs<<HsOOQ(CYAN?^AN?^OOQOAN?VAN?VO$7kQ(CjOAN?VOOQOAN>zAN>zO%QQUOAN?VO=}QSOAN>zO&<^Q(C[OAN?VO!;xQWOAN>zO&<iQ(C[OAN?VOBtQWOAN>zO&<wQ(C[OAN?VOOQO<<Mn<<MnOOQQG26|G26|O!#]Q,UOG26|O!MeQSOG26|O&=]QSOG26|O$NWQbOG26|O&=eQ$IUO<<J`O&=rQ$IUO1G2WO&?hQ$IUO1G2jO&AkQ$IUO1G2lO&CnQ$IUO<<KQO&C{Q$IUO<<IsOOQO1G1q1G1qO!$uQ,UOANA`OOQO7+*W7+*WO&DYQSO7+*WO&DeQSO<= VO&DmQ`O7+*YOOQ(CW<<Ki<<KiO$LSQSO<<KiOOQ(CW<<Kh<<KhO&DwQ`O<<KiO$LSQSO<<KhOOQO7+*c7+*cO9[QSO7+*cO&EOQSO<= _OOQQG27iG27iO8{Q(C[OG27iO!'RQUO1G4sO&EWQSO7++pO8{Q(C[O1G3WO#L_QSO1G3WO&E`QWO1G0eO&EjQWO1G0eO8qQSO1G3WO!;xQWO1G3WO(VQWO1G3WO%KkQ(C`O1G3WO$5]Q(C`O1G0eO&EwQWO1G3WO& iQSOANAvOOQQANAvANAvO!#]Q,UOANAvO&FYQSOANAvOOQQANAyANAyO8{Q(C[OANAyO#L_QSOANAyOOQO'#HU'#HUOOQO7+*b7+*bOOQQG22tG22tOOQQANBRANBRO&FbQSOANBROOQQANDzANDzOOQQAND{AND{OOQQ<<L|<<L|O!'RQUOAN?dOOQOG24qG24qO$7kQ(CjOG24qOOQOG24fG24fO%QQUOG24qO=}QSOG24fO&FgQ(C[OG24qO!;xQWOG24fO&FrQ(C[OG24qO!MeQSOLD,hOOQQLD,hLD,hO!#]Q,UOLD,hO&GQQSOLD,hO&GYQ$IUO7+'rO&IOQ$IUO7+'tO&JtQ,UOG26zOOQO<<Mr<<MrOOQ(CWANATANATO$LSQSOANATOOQ(CWANASANASOOQO<<M}<<M}OOQQLD-TLD-TO&KUQ$IUO7+*_OOQO7+(r7+(rO8{Q(C[O7+(rO&K`QWO7+&PO#L_QSO7+(rO8qQSO7+(rO!;xQWO7+(rO(VQWO7+(rOOQQG27bG27bO& iQSOG27bO!#]Q,UOG27bOOQQG27eG27eO8{Q(C[OG27eOOQQG27mG27mO&KjQ$IUOG25OOOQOLD*]LD*]O$7kQ(CjOLD*]OOQOLD*QLD*QO%QQUOLD*]O=}QSOLD*QO&KtQ(C[OLD*]OOQQ!$(!S!$(!SO!MeQSO!$(!SO!#]Q,UO!$(!SO&LPQ(CjOG26zOOQ(CWG26oG26oOOQO<<L^<<L^O8{Q(C[O<<L^O#L_QSO<<L^O8qQSO<<L^O!;xQWO<<L^OOQQLD,|LD,|O& iQSOLD,|OOQQLD-PLD-POOQO!$'Mw!$'MwO$7kQ(CjO!$'MwOOQO!$'Ml!$'MlO%QQUO!$'MwOOQQ!)9En!)9EnO!MeQSO!)9EnOOQOANAxANAxO8{Q(C[OANAxO#L_QSOANAxO8qQSOANAxOOQQ!$(!h!$(!hOOQO!)9Cc!)9CcO$7kQ(CjO!)9CcOOQQ!.K;Y!.K;YO&NbQ$IUOG26zOOQOG27dG27dO8{Q(C[OG27dO#L_QSOG27dOOQO!.K8}!.K8}OOQOLD-OLD-OO8{Q(C[OLD-OOOQO!$(!j!$(!jO!'RQUO'#DvO0rQSO'#ETO'!WQbO'#JbO!'RQUO'#DnO'!_QUO'#DzO!'RQUO'#D|O'!fQbO'#CfO'$|QbO'#CfO'%^QUO,5;RO!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO'#IeO''aQSO,5<bO''iQ,UO,5;]O'(|Q,UO,5;]O!'RQUO,5;qO0uQSO'#DSO0uQSO'#DSO!#]Q,UO'#FwO''iQ,UO'#FwO!#]Q,UO'#FyO''iQ,UO'#FyO!#]Q,UO'#GXO''iQ,UO'#GXO!'RQUO,5:fO!'RQUO,5@]O'%^QUO1G0mO')TQ$IUO'#CfO!'RQUO1G1yO!#]Q,UO,5=OO''iQ,UO,5=OO!#]Q,UO,5=QO''iQ,UO,5=QO!#]Q,UO,5<lO''iQ,UO,5<lO'%^QUO1G1zO!'RQUO7+&tO!#]Q,UO1G2WO''iQ,UO1G2WO!#]Q,UO1G2YO''iQ,UO1G2YO'%^QUO7+'fO'%^QUO7+&XO!#]Q,UOANA`O''iQ,UOANA`O')_QSO'#EgO')dQSO'#EgO')lQSO'#FVO')qQSO'#EqO')vQSO'#JqO'*RQSO'#JoO'*^QSO,5;RO'*cQ,UO,5<_O'*jQSO'#GQO'*oQSO'#GQO'*tQSO,5<`O'*|QSO,5;RO'+UQ$IUO1G1YO'+]QSO,5<lO'+bQSO,5<lO'+gQSO,5<nO'+lQSO,5<nO'+qQSO1G1zO'+vQSO1G0mO'+{Q,UO<<KtO',SQ,UO<<KtO7ZQ,UO'#FuO8qQSO'#FtO@jQSO'#EfO!'RQUO,5;nO!/{QSO'#GQO!/{QSO'#GQO!/{QSO'#GSO!/{QSO'#GSO!$uQ,UO7+(YO!$uQ,UO7+(YO$IvQ`O1G2nO$IvQ`O1G2nO!#]Q,UO,5=SO!#]Q,UO,5=S\",\n  stateData: \"'-[~O'lOS'mOSROS'nRQ~OPYOQYOV!TO^pOaxObwOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!XXO!csO!hZO!kYO!lYO!mYO!otO!quO!tvO!x]O#o}O$PzO$TfO%_{O%a!OO%c|O%d|O%g!PO%i!QO%l!RO%m!RO%o!SO%|!UO&S!VO&U!WO&W!XO&Y!YO&]!ZO&c![O&i!]O&k!^O&m!_O&o!`O&q!aO'sSO'uTO'xUO(QVO(_[O(liO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$P!hO$TfO's!bO'uTO'xUO(QVO(_[O(liO~O^!qOl!kO|!lO![!rO!]!pO!^!pO!x;oO!|!vO!}!tO#O!uO#P!sO#S!wO#T!wO't!iO'uTO'xUO(T!jO(_!nO~O'n!xO~OPYXXYX^YXkYXyYXzYX|YX!VYX!eYX!fYX!hYX!lYX#WYX#ccX#fYX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#pYX#rYX#tYX#uYX#zYX'jYX(QYX(`YX(gYX(hYX~O!a$yX~P(dO[!zO'u!|O'v!zO'w!|O~O[!}O'w!|O'x!|O'y!}O~Oq#PO!O#QO(R#QO(S#SO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$P!hO$TfO's;tO'uTO'xUO(QVO(_[O(liO~O!U#WO!V#TO!S(WP!S(dP~P+pO!W#`O~P`OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$P!hO$TfO'uTO'xUO(QVO(_[O(liO~O!U#fO!x]O#a#iO#b#fO's;uO!g(aP~P.[O!h#kO's#jO~O!t#oO!x]O%_#pO~O#c#qO~O!a#rO#c#qO~OP$YOX$aOk#}Oy#vOz#wO|#xO!V$^O!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO#t$UO#u$VO(QVO(`$WO(g#yO(h#zO~O^(UX'j(UX'h(UX!g(UX!S(UX!X(UX%`(UX!a(UX~P1dO#W$bO#z$bOP(VXX(VXk(VXy(VXz(VX|(VX!V(VX!e(VX!h(VX!l(VX#f(VX#g(VX#h(VX#i(VX#j(VX#k(VX#l(VX#m(VX#n(VX#p(VX#r(VX#t(VX#u(VX(Q(VX(`(VX(g(VX(h(VX!X(VX%`(VX~O^(VX!f(VX'j(VX'h(VX!S(VX!g(VXo(VX!a(VX~P3zO#W$bO~O$V$dO$X$cO$`$iO~O!X$jO$TfO$c$kO$e$mO~Oi%POk$qOl$pOm$pOs%QOu%ROw%SO|$xO!X$yO!c%XO!h$uO#b%YO$P%VO$l%TO$n%UO$q%WO's$oO'uTO'xUO'|%OO(Q$rOd'}P~O!h%ZO~O!a%]O~O^%^O'j%^O~O't!iO~P%QO's%eO~O!h%ZO's%eO't!iO'|%OO~Ob%lO!h%ZO's%eO~O#n$PO~Oy%qO!X%nO!h%pO%a%tO's%eO't!iO'uTO'xUO](tP~O!t#oO~O|%vO!X%wO's%eO~O|%vO!X%wO%i%{O's%eO~O's%|O~O#o}O%a!OO%c|O%d|O%g!PO%i!QO%l!RO%m!RO~Oa&VOb&UO!t&SO%_&TO%q&RO~P;cOa&YObwO!X&XO!tvO!x]O#o}O%_{O%c|O%d|O%g!PO%i!QO%l!RO%m!RO%o!SO~O_&]O#W&`O%a&ZO't!iO~P<bO!h&aO!q&eO~O!h#kO~O!XXO~O^%^O'i&mO'j%^O~O^%^O'i&pO'j%^O~O^%^O'i&rO'j%^O~O'hYX!SYXoYX!gYX&QYX!XYX%`YX!aYX~P(dO!['PO!]&xO!^&xO't!iO'uTO'xUO~Ol&vO|&uO!U&yO(T&tO!W(XP!W(fP~P?cOg'SO!X'QO's%eO~Ob'XO!h%ZO's%eO~Oy%qO!h%pO~Ol!kO|!lO!['^O!]']O!^']O!}'`O#O'`O#P'_O#S'bO#T'bO't!iO'uTO'xUO(T!jO(_!nO~O!x;oO!|'aO~P@}O^%^O!a#rO!h%ZO!l'hO#W'fO'j%^O'|%OO(`'dO~Ol!kO|!lO'uTO'xUO(T!jO(_!nO~O!]']O!^']O't!iO~PBtO!['^O!]']O!^']O#S'bO#T'bO't!iO~PBtO!XXO!['^O!]']O!^']O#P'_O#S'bO#T'bO't!iO~PBtO'o'lO'p'lO'q'nO~O[!zO'u'pO'v!zO'w'pO~O[!}O'w'pO'x'pO'y!}O~Oq#PO!O#QO(R#QO(S'tO~O!U'vO!S&|X!S'SX!V&|X!V'SX~P+pO!V'xO!S(WX~OP$YOX$aOk#}Oy#vOz#wO|#xO!V'xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO#t$UO#u$VO(QVO(`$WO(g#yO(h#zO~O!S(WX~PF_O!S'}O~O!S(cX!V(cX!a(cX!g(cX(`(cX~O#W(cX#c#[X!W(cX~PHeO#W(OO!S(eX!V(eX~O!V(PO!S(dX~O!S(SO~O#W$bO~PHeO!W(TO~P`Oy#vOz#wO|#xO!f#tO!h#uO(QVOP!jaX!jak!ja!V!ja!e!ja!l!ja#f!ja#g!ja#h!ja#i!ja#j!ja#k!ja#l!ja#m!ja#n!ja#p!ja#r!ja#t!ja#u!ja(`!ja(g!ja(h!ja~O^!ja'j!ja'h!ja!S!ja!g!jao!ja!X!ja%`!ja!a!ja~PI{O!g(UO~O|%vO!X%wO!x]O#a(XO#b(WO's%eO~O!a#rO#W(YO(`'dO!V(bX^(bX'j(bX~O!g(bX~PMPO!V(]O!g(aX~O!g(_O~O|%vO!X%wO#b(WO's%eO~Oy(`Oz(aO!f#tO!h#uO!x!wa|!wa~O!t!wa%_!wa!X!wa#a!wa#b!wa's!wa~PNXO!t(eO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!XXO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$P!hO$TfO's!bO'uTO'xUO(QVO(_[O(liO~Oi%POk$qOl$pOm$pOs%QOu%ROw<XO|$xO!X$yO!c=cO!h$uO#b<_O$P%VO$l<ZO$n<]O$q%WO's(iO'uTO'xUO'|%OO(Q$rO~O#c(kO~Oi%POk$qOl$pOm$pOs%QOu%ROw%SO|$xO!X$yO!c%XO!h$uO#b%YO$P%VO$l%TO$n%UO$q%WO's(iO'uTO'xUO'|%OO(Q$rO~Od(ZP~P!$uO!U(oO!g([P~P%QO(T(qO(_[O~O|(sO!h#uO(T(qO(_[O~OP;nOQ;nOa=_Ob!fOikOk;nOlkOmkOskOu;nOw;nO|WO!QkO!RkO!X!cO!c;qO!hZO!k;nO!l;nO!m;nO!o;rO!q;sO!t!eO$P!hO$TfO's)RO'uTO'xUO(QVO(_[O(l=]O~Oz)UO!h#uO~O!V$^O^$ja'j$ja'h$ja!g$ja!S$ja!X$ja%`$ja!a$ja~O#o)YO~P!#]Oy)]O!a)[O!X$WX$S$WX$V$WX$X$WX$`$WX~O!a)[O!X(iX$S(iX$V(iX$X(iX$`(iX~Oy)]O~P!*kOy)]O!X(iX$S(iX$V(iX$X(iX$`(iX~O!X)_O$S)cO$V)^O$X)^O$`)dO~O!U)gO~P!'RO$V$dO$X$cO$`)kO~Og$rXy$rX|$rX!f$rX(g$rX(h$rX~OdfXd$rXgfX!VfX#WfX~P!,aOl)mO~Oq)nO(R)oO(S)qO~Og)zOy)sO|)tO(g)vO(h)xO~Od)rO~P!-jOd){O~Oi%POk$qOl$pOm$pOs%QOu%ROw<XO|$xO!X$yO!c=cO!h$uO#b<_O$P%VO$l<ZO$n<]O$q%WO'uTO'xUO'|%OO(Q$rO~O!U*PO's)|O!g(mP~P!.XO#c*RO~O!h*SO~O!U*XO's*UO!S(nP~P!.XOk*eO|*]O![*cO!]*[O!^*[O!h*SO#S*dO%V*_O't!iO(T!jO~O!W*bO~P!0_O!f#tOg(PXy(PX|(PX(g(PX(h(PX!V(PX#W(PX~Od(PX#x(PX~P!1WOg*hO#W*gOd(OX!V(OX~O!V*iOd'}X~O's%|Od'}P~O!h*pO~O's(iO~O|%vO!U#fO!X%wO!x]O#a#iO#b#fO's%eO!g(aP~O!a#rO#c*tO~OP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO#t$UO#u$VO(QVO(`$WO(g#yO(h#zO~O^!ba!V!ba'j!ba'h!ba!S!ba!g!bao!ba!X!ba%`!ba!a!ba~P!3jOy#vOz#wO|#xO!f#tO!h#uO(QVOP!naX!nak!na!V!na!e!na!l!na#f!na#g!na#h!na#i!na#j!na#k!na#l!na#m!na#n!na#p!na#r!na#t!na#u!na(`!na(g!na(h!na~O^!na'j!na'h!na!S!na!g!nao!na!X!na%`!na!a!na~P!6TOy#vOz#wO|#xO!f#tO!h#uO(QVOP!paX!pak!pa!V!pa!e!pa!l!pa#f!pa#g!pa#h!pa#i!pa#j!pa#k!pa#l!pa#m!pa#n!pa#p!pa#r!pa#t!pa#u!pa(`!pa(g!pa(h!pa~O^!pa'j!pa'h!pa!S!pa!g!pao!pa!X!pa%`!pa!a!pa~P!8nOg*|O!X'QO%`*{O'|%OO~O!a+OO!X'{X^'{X!V'{X'j'{X~O!h%ZO'|%OO~O!h%ZO's%eO'|%OO~O!a#rO#c(kO~O%a+[O's+WO'uTO'xUO!W(uP~O!V+]O](tX~O(T(qO~OX+aO~O]+bO~O!X%nO's%eO't!iO](tP~O|%vO!U+fO!V(PO!X%wO's%eO!S(dP~Ol&|O|+hO!U+gO'uTO'xUO(T(qO~O!W(fP~P!>RO!V+iO^(qX'j(qX~O#W+mO'|%OO~Og+pO!X$yO'|%OO~O!X+rO~Oy+tO!XXO~O!t+yO~Ob,OO~O's#jO!W(sP~Ob%lO~O%a!OO's%|O~P<bOX,UO],TO~OPYOQYOaxObwOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!csO!hZO!kYO!lYO!mYO!otO!quO!tvO!x]O$TfO%_{O'uTO'xUO(QVO(_[O(liO~O!X!cO$P!hO's!bO~P!@fO],TO^%^O'j%^O~O^,YO#o,[O%c,[O%d,[O~P%QO!h&aO~O&S,aO~O!X,cO~O&e,eO&g,fOP&baQ&baV&ba^&baa&bab&bai&bak&bal&bam&bas&bau&baw&ba|&ba!Q&ba!R&ba!X&ba!c&ba!h&ba!k&ba!l&ba!m&ba!o&ba!q&ba!t&ba!x&ba#o&ba$P&ba$T&ba%_&ba%a&ba%c&ba%d&ba%g&ba%i&ba%l&ba%m&ba%o&ba%|&ba&S&ba&U&ba&W&ba&Y&ba&]&ba&c&ba&i&ba&k&ba&m&ba&o&ba&q&ba'h&ba's&ba'u&ba'x&ba(Q&ba(_&ba(l&ba!W&ba&Z&ba_&ba&`&ba~O's,kO~O!V{X!V!_X!W{X!W!_X!a{X!a!_X!h!_X#W{X'|!_X~O!a,pO#W,oO!V#`X!V(YX!W#`X!W(YX!a(YX!h(YX'|(YX~O!a,rO!h%ZO'|%OO!V!ZX!W!ZX~Ol!kO|!lO'uTO'xUO(T!jO~OP;nOQ;nOa=_Ob!fOikOk;nOlkOmkOskOu;nOw;nO|WO!QkO!RkO!X!cO!c;qO!hZO!k;nO!l;nO!m;nO!o;rO!q;sO!t!eO$P!hO$TfO'uTO'xUO(QVO(_[O(l=]O~O's<dO~P!I{O!V,vO!W(XX~O!W,xO~O!a,pO#W,oO!V#`X!W#`X~O!V,yO!W(fX~O!W,{O~O!],|O!^,|O't!iO~P!IjO!W-PO~P'TOg-SO!X'QO~O!S-XO~Ol!wa![!wa!]!wa!^!wa!|!wa!}!wa#O!wa#P!wa#S!wa#T!wa't!wa'u!wa'x!wa(T!wa(_!wa~PNXO^%^O!a#rO!h%ZO!l-^O#W-[O'j%^O'|%OO(`'dO~O!]-`O!^-`O't!iO~PBtO![-bO!]-`O!^-`O#S-cO#T-cO't!iO~PBtO![-bO!]-`O!^-`O#P-dO#S-cO#T-cO't!iO~PBtO![-bO!]-`O!^-`O!}-eO#O-eO#P-dO#S-cO#T-cO't!iO~PBtO^%^O#W-[O'j%^O~O^%^O!a#rO#W-[O'j%^O~O^%^O!a#rO!l-^O#W-[O'j%^O(`'dO~O'o'lO'p'lO'q-jO~Oo-kO~O!S&|a!V&|a~P!3jO!U-oO!S&|X!V&|X~P%QO!V'xO!S(Wa~O!S(Wa~PF_O!V(PO!S(da~O|%vO!U-sO!X%wO's%eO!S'SX!V'SX~O!V(]O!g(aa~O|%vO!X%wO#b-vO's%eO~O#W-xO!V(ba!g(ba^(ba'j(ba~O!a#rO~P#&hO|%vO!U-{O!X%wO!x]O#a-}O#b-{O's%eO!V'UX!g'UX~Oz.RO!h#uO~Og.UO!X'QO%`.TO'|%OO~O^#Zi!V#Zi'j#Zi'h#Zi!S#Zi!g#Zio#Zi!X#Zi%`#Zi!a#Zi~P!3jOg=iOy)sO|)tO(g)vO(h)xO~O#c#Va^#Va#W#Va'j#Va!V#Va!g#Va!X#Va!S#Va~P#(yO#c(PXP(PXX(PX^(PXk(PXz(PX!e(PX!h(PX!l(PX#f(PX#g(PX#h(PX#i(PX#j(PX#k(PX#l(PX#m(PX#n(PX#p(PX#r(PX#t(PX#u(PX'j(PX(Q(PX(`(PX!g(PX!S(PX'h(PXo(PX!X(PX%`(PX!a(PX~P!1WO!V._Od(ZX~P!-jOd.aO~O!V.bO!g([X~P!3jO!g.eO~O!S.gO~OP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO(QVOX#ei^#eik#ei!V#ei!e#ei#g#ei#h#ei#i#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei'j#ei(`#ei(g#ei(h#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~O#f#ei~P#,uO#f#{O~P#,uOP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O(QVOX#ei^#ei!V#ei!e#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei'j#ei(`#ei(g#ei(h#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~Ok#ei~P#/gOk#}O~P#/gOP$YOk#}Oy#vOz#wO|#xO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO(QVO^#ei!V#ei#p#ei#r#ei#t#ei#u#ei'j#ei(`#ei(g#ei(h#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~OX#ei!e#ei#k#ei#l#ei#m#ei#n#ei~P#2XOX$aO!e$PO#k$PO#l$PO#m$`O#n$PO~P#2XOP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO(QVO^#ei!V#ei#r#ei#t#ei#u#ei'j#ei(`#ei(h#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~O(g#ei~P#5YO(g#yO~P#5YOP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO(QVO(g#yO^#ei!V#ei#t#ei#u#ei'j#ei(`#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~O(h#ei~P#7zO(h#zO~P#7zOP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO#t$UO(QVO(g#yO(h#zO~O^#ei!V#ei#u#ei'j#ei(`#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~P#:lOPYXXYXkYXyYXzYX|YX!eYX!fYX!hYX!lYX#WYX#ccX#fYX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#pYX#rYX#tYX#uYX#zYX(QYX(`YX(gYX(hYX!VYX!WYX~O#xYX~P#=VOP$YOX<VOk;yOy#vOz#wO|#xO!e;{O!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO#k;{O#l;{O#m<UO#n;{O#p;|O#r<OO#t<QO#u<RO(QVO(`$WO(g#yO(h#zO~O#x.iO~P#?dOP(VXX(VXk(VXy(VXz(VX|(VX!e(VX!f(VX!h(VX!l(VX#f(VX#g(VX#h(VX#i(VX#j(VX#k(VX#l(VX#m(VX#p(VX#r(VX#t(VX#u(VX(Q(VX(`(VX(g(VX(h(VX!V(VX~O#W<WO#z<WO#n(VX#x(VX!W(VX~P#AbO^'Xa!V'Xa'j'Xa'h'Xa!g'Xa!S'Xao'Xa!X'Xa%`'Xa!a'Xa~P!3jOP#eiX#ei^#eik#eiz#ei!V#ei!e#ei!f#ei!h#ei!l#ei#f#ei#g#ei#h#ei#i#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei'j#ei(Q#ei(`#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~P#(yO^#yi!V#yi'j#yi'h#yi!S#yi!g#yio#yi!X#yi%`#yi!a#yi~P!3jO$V.nO$X.nO~O$V.oO$X.oO~O!a)[O#W.pO!X$]X$S$]X$V$]X$X$]X$`$]X~O!U.qO~O!X)_O$S.sO$V)^O$X)^O$`.tO~O!V<SO!W(UX~P#?dO!W.uO~O!a)[O$`(iX~O$`.wO~Oq)nO(R)oO(S.zO~Ol.}O!S/OO'uTO'xUO~O!VcX!acX!gcX!g$rX(`cX~P!,aO!g/UO~P#(yO!V/VO!a#rO(`'dO!g(mX~O!g/[O~O!U*PO's%eO!g(mP~O#c/^O~O!S$rX!V$rX!a$yX~P!,aO!V/_O!S(nX~P#(yO!a/aO~O!S/cO~Ok/gO!a#rO!h%ZO'|%OO(`'dO~O's/iO~O!a+OO~O^%^O!V/mO'j%^O~O!W/oO~P!0_O!]/pO!^/pO't!iO(T!jO~O|/rO(T!jO~O#S/sO~O's%|Od'^X!V'^X~O!V*iOd'}a~Od/xO~Oy/yOz/yO|/zOgva(gva(hva!Vva#Wva~Odva#xva~P#M{Oy)sO|)tOg$ka(g$ka(h$ka!V$ka#W$ka~Od$ka#x$ka~P#NqOy)sO|)tOg$ma(g$ma(h$ma!V$ma#W$ma~Od$ma#x$ma~P$ dO#c/|O~Od${a!V${a#W${a#x${a~P!-jO#c0PO~Oy#vOz#wO|#xO!f#tO!h#uO(QVOP!niX!nik!ni!V!ni!e!ni!l!ni#f!ni#g!ni#h!ni#i!ni#j!ni#k!ni#l!ni#m!ni#n!ni#p!ni#r!ni#t!ni#u!ni(`!ni(g!ni(h!ni~O^!ni'j!ni'h!ni!S!ni!g!nio!ni!X!ni%`!ni!a!ni~P$!qOg.UO!X'QO%`.TO~Oi0WO's0VO~P!.[O!a+OO!X'{a^'{a!V'{a'j'{a~O#c0^O~OXYX!VcX!WcX~O!V0_O!W(uX~O!W0aO~OX0bO~O's+WO'uTO'xUO~O!X%nO's%eO]'fX!V'fX~O!V+]O](ta~O!g0gO~P!3jOX0jO~O]0kO~O!V+iO^(qa'j(qa~O#W0qO~Og0tO!X$yO~O(T(qO!W(rP~Og0}O!X0zO%`0|O'|%OO~OX1XO!V1VO!W(sX~O!W1YO~O]1[O^%^O'j%^O~O's#jO'uTO'xUO~O#W$bO#n1_O#z$bO&Q1`O^(VX~P#AbO#W$bO#n1_O&Q1`O~O^1aO~P%QO^1cO~O&Z1gOP&XiQ&XiV&Xi^&Xia&Xib&Xii&Xik&Xil&Xim&Xis&Xiu&Xiw&Xi|&Xi!Q&Xi!R&Xi!X&Xi!c&Xi!h&Xi!k&Xi!l&Xi!m&Xi!o&Xi!q&Xi!t&Xi!x&Xi#o&Xi$P&Xi$T&Xi%_&Xi%a&Xi%c&Xi%d&Xi%g&Xi%i&Xi%l&Xi%m&Xi%o&Xi%|&Xi&S&Xi&U&Xi&W&Xi&Y&Xi&]&Xi&c&Xi&i&Xi&k&Xi&m&Xi&o&Xi&q&Xi'h&Xi's&Xi'u&Xi'x&Xi(Q&Xi(_&Xi(l&Xi!W&Xi_&Xi&`&Xi~O_1mO!W1kO&`1lO~P`O!XXO!h1oO~O&g,fOP&biQ&biV&bi^&bia&bib&bii&bik&bil&bim&bis&biu&biw&bi|&bi!Q&bi!R&bi!X&bi!c&bi!h&bi!k&bi!l&bi!m&bi!o&bi!q&bi!t&bi!x&bi#o&bi$P&bi$T&bi%_&bi%a&bi%c&bi%d&bi%g&bi%i&bi%l&bi%m&bi%o&bi%|&bi&S&bi&U&bi&W&bi&Y&bi&]&bi&c&bi&i&bi&k&bi&m&bi&o&bi&q&bi'h&bi's&bi'u&bi'x&bi(Q&bi(_&bi(l&bi!W&bi&Z&bi_&bi&`&bi~O!S1uO~O!V!Za!W!Za~P#?dOl!kO|!lO!U1{O(T!jO!V&}X!W&}X~P?cO!V,vO!W(Xa~O!V'TX!W'TX~P!>RO!V,yO!W(fa~O!W2SO~P'TO^%^O#W2]O'j%^O~O^%^O!a#rO#W2]O'j%^O~O^%^O!a#rO!h%ZO!l2aO#W2]O'j%^O'|%OO(`'dO~O!]2bO!^2bO't!iO~PBtO![2eO!]2bO!^2bO#S2fO#T2fO't!iO~PBtO![2eO!]2bO!^2bO#P2gO#S2fO#T2fO't!iO~PBtO^%^O!a#rO!l2aO#W2]O'j%^O(`'dO~O^%^O'j%^O~P!3jO!V$^Oo$ja~O!S&|i!V&|i~P!3jO!V'xO!S(Wi~O!V(PO!S(di~O!S(ei!V(ei~P!3jO!V(]O!g(ai~O!V(bi!g(bi^(bi'j(bi~P!3jO#W2kO!V(bi!g(bi^(bi'j(bi~O|%vO!X%wO!x]O#a2nO#b2mO's%eO~O|%vO!X%wO#b2mO's%eO~Og2uO!X'QO%`2tO~Og2uO!X'QO%`2tO'|%OO~O#cvaPvaXva^vakva!eva!fva!hva!lva#fva#gva#hva#iva#jva#kva#lva#mva#nva#pva#rva#tva#uva'jva(Qva(`va!gva!Sva'hvaova!Xva%`va!ava~P#M{O#c$kaP$kaX$ka^$kak$kaz$ka!e$ka!f$ka!h$ka!l$ka#f$ka#g$ka#h$ka#i$ka#j$ka#k$ka#l$ka#m$ka#n$ka#p$ka#r$ka#t$ka#u$ka'j$ka(Q$ka(`$ka!g$ka!S$ka'h$kao$ka!X$ka%`$ka!a$ka~P#NqO#c$maP$maX$ma^$mak$maz$ma!e$ma!f$ma!h$ma!l$ma#f$ma#g$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#p$ma#r$ma#t$ma#u$ma'j$ma(Q$ma(`$ma!g$ma!S$ma'h$mao$ma!X$ma%`$ma!a$ma~P$ dO#c${aP${aX${a^${ak${az${a!V${a!e${a!f${a!h${a!l${a#f${a#g${a#h${a#i${a#j${a#k${a#l${a#m${a#n${a#p${a#r${a#t${a#u${a'j${a(Q${a(`${a!g${a!S${a'h${a#W${ao${a!X${a%`${a!a${a~P#(yO^#Zq!V#Zq'j#Zq'h#Zq!S#Zq!g#Zqo#Zq!X#Zq%`#Zq!a#Zq~P!3jOd'OX!V'OX~P!$uO!V._Od(Za~O!U2}O!V'PX!g'PX~P%QO!V.bO!g([a~O!V.bO!g([a~P!3jO!S3QO~O#x!ja!W!ja~PI{O#x!ba!V!ba!W!ba~P#?dO#x!na!W!na~P!6TO#x!pa!W!pa~P!8nO!X3dO$TfO$^3eO~O!W3iO~Oo3jO~P#(yO^$gq!V$gq'j$gq'h$gq!S$gq!g$gqo$gq!X$gq%`$gq!a$gq~P!3jO!S3kO~Ol.}O'uTO'xUO~Oy)sO|)tO(h)xOg%Wi(g%Wi!V%Wi#W%Wi~Od%Wi#x%Wi~P$HbOy)sO|)tOg%Yi(g%Yi(h%Yi!V%Yi#W%Yi~Od%Yi#x%Yi~P$ITO(`$WO~P#(yO!U3nO's%eO!V'YX!g'YX~O!V/VO!g(ma~O!V/VO!a#rO!g(ma~O!V/VO!a#rO(`'dO!g(ma~Od$ti!V$ti#W$ti#x$ti~P!-jO!U3vO's*UO!S'[X!V'[X~P!.XO!V/_O!S(na~O!V/_O!S(na~P#(yO!a#rO~O!a#rO#n4OO~Ok4RO!a#rO(`'dO~Od(Oi!V(Oi~P!-jO#W4UOd(Oi!V(Oi~P!-jO!g4XO~O^$hq!V$hq'j$hq'h$hq!S$hq!g$hqo$hq!X$hq%`$hq!a$hq~P!3jO!V4]O!X(oX~P#(yO!f#tO~P3zO!X$rX%TYX^$rX!V$rX'j$rX~P!,aO%T4_OghXyhX|hX!XhX(ghX(hhX^hX!VhX'jhX~O%T4_O~O%a4fO's+WO'uTO'xUO!V'eX!W'eX~O!V0_O!W(ua~OX4jO~O]4kO~O!S4oO~O^%^O'j%^O~P#(yO!X$yO~P#(yO!V4tO#W4vO!W(rX~O!W4wO~Ol!kO|4yO![5WO!]4}O!^4}O!x;oO!|5VO!}5UO#O5UO#P5TO#S5SO#T!wO't!iO'uTO'xUO(T!jO(_!nO~O!W5RO~P%#XOg5]O!X0zO%`5[O~Og5]O!X0zO%`5[O'|%OO~O's#jO!V'dX!W'dX~O!V1VO!W(sa~O'uTO'xUO(T5fO~O]5jO~O!g5mO~P%QO^5oO~O^5oO~P%QO#n5qO&Q5rO~PMPO_1mO!W5vO&`1lO~P`O!a5xO~O!a5zO!V(Yi!W(Yi!a(Yi!h(Yi'|(Yi~O!V#`i!W#`i~P#?dO#W5{O!V#`i!W#`i~O!V!Zi!W!Zi~P#?dO^%^O#W6UO'j%^O~O^%^O!a#rO#W6UO'j%^O~O^%^O!a#rO!l6ZO#W6UO'j%^O(`'dO~O!h%ZO'|%OO~P%(fO!]6[O!^6[O't!iO~PBtO![6_O!]6[O!^6[O#S6`O#T6`O't!iO~PBtO!V(]O!g(aq~O!V(bq!g(bq^(bq'j(bq~P!3jO|%vO!X%wO#b6dO's%eO~O!X'QO%`6gO~Og6jO!X'QO%`6gO~O#c%WiP%WiX%Wi^%Wik%Wiz%Wi!e%Wi!f%Wi!h%Wi!l%Wi#f%Wi#g%Wi#h%Wi#i%Wi#j%Wi#k%Wi#l%Wi#m%Wi#n%Wi#p%Wi#r%Wi#t%Wi#u%Wi'j%Wi(Q%Wi(`%Wi!g%Wi!S%Wi'h%Wio%Wi!X%Wi%`%Wi!a%Wi~P$HbO#c%YiP%YiX%Yi^%Yik%Yiz%Yi!e%Yi!f%Yi!h%Yi!l%Yi#f%Yi#g%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#p%Yi#r%Yi#t%Yi#u%Yi'j%Yi(Q%Yi(`%Yi!g%Yi!S%Yi'h%Yio%Yi!X%Yi%`%Yi!a%Yi~P$ITO#c$tiP$tiX$ti^$tik$tiz$ti!V$ti!e$ti!f$ti!h$ti!l$ti#f$ti#g$ti#h$ti#i$ti#j$ti#k$ti#l$ti#m$ti#n$ti#p$ti#r$ti#t$ti#u$ti'j$ti(Q$ti(`$ti!g$ti!S$ti'h$ti#W$tio$ti!X$ti%`$ti!a$ti~P#(yOd'Oa!V'Oa~P!-jO!V'Pa!g'Pa~P!3jO!V.bO!g([i~O#x#Zi!V#Zi!W#Zi~P#?dOP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO(QVOX#eik#ei!e#ei#g#ei#h#ei#i#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei#x#ei(`#ei(g#ei(h#ei!V#ei!W#ei~O#f#ei~P%2xO#f;wO~P%2xOP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO(QVOX#ei!e#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei#x#ei(`#ei(g#ei(h#ei!V#ei!W#ei~Ok#ei~P%5TOk;yO~P%5TOP$YOk;yOy#vOz#wO|#xO!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO(QVO#p#ei#r#ei#t#ei#u#ei#x#ei(`#ei(g#ei(h#ei!V#ei!W#ei~OX#ei!e#ei#k#ei#l#ei#m#ei#n#ei~P%7`OX<VO!e;{O#k;{O#l;{O#m<UO#n;{O~P%7`OP$YOX<VOk;yOy#vOz#wO|#xO!e;{O!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO#k;{O#l;{O#m<UO#n;{O#p;|O(QVO#r#ei#t#ei#u#ei#x#ei(`#ei(h#ei!V#ei!W#ei~O(g#ei~P%9zO(g#yO~P%9zOP$YOX<VOk;yOy#vOz#wO|#xO!e;{O!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO#k;{O#l;{O#m<UO#n;{O#p;|O#r<OO(QVO(g#yO#t#ei#u#ei#x#ei(`#ei!V#ei!W#ei~O(h#ei~P%<VO(h#zO~P%<VOP$YOX<VOk;yOy#vOz#wO|#xO!e;{O!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO#k;{O#l;{O#m<UO#n;{O#p;|O#r<OO#t<QO(QVO(g#yO(h#zO~O#u#ei#x#ei(`#ei!V#ei!W#ei~P%>bO^#vy!V#vy'j#vy'h#vy!S#vy!g#vyo#vy!X#vy%`#vy!a#vy~P!3jOg=jOy)sO|)tO(g)vO(h)xO~OP#eiX#eik#eiz#ei!e#ei!f#ei!h#ei!l#ei#f#ei#g#ei#h#ei#i#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei#x#ei(Q#ei(`#ei!V#ei!W#ei~P%AYO!f#tOP(PXX(PXg(PXk(PXy(PXz(PX|(PX!e(PX!h(PX!l(PX#f(PX#g(PX#h(PX#i(PX#j(PX#k(PX#l(PX#m(PX#n(PX#p(PX#r(PX#t(PX#u(PX#x(PX(Q(PX(`(PX(g(PX(h(PX!V(PX!W(PX~O#x#yi!V#yi!W#yi~P#?dO#x!ni!W!ni~P$!qO!W6vO~O!V'Xa!W'Xa~P#?dO!a#rO(`'dO!V'Ya!g'Ya~O!V/VO!g(mi~O!V/VO!a#rO!g(mi~Od$tq!V$tq#W$tq#x$tq~P!-jO!S'[a!V'[a~P#(yO!a6}O~O!V/_O!S(ni~P#(yO!V/_O!S(ni~O!S7RO~O!a#rO#n7WO~Ok7XO!a#rO(`'dO~O!S7ZO~Od$vq!V$vq#W$vq#x$vq~P!-jO^$hy!V$hy'j$hy'h$hy!S$hy!g$hyo$hy!X$hy%`$hy!a$hy~P!3jO!V4]O!X(oa~O^#Zy!V#Zy'j#Zy'h#Zy!S#Zy!g#Zyo#Zy!X#Zy%`#Zy!a#Zy~P!3jOX7`O~O!V0_O!W(ui~O]7fO~O!a5zO~O(T(qO!V'aX!W'aX~O!V4tO!W(ra~O!h%ZO'|%OO^(YX!a(YX!l(YX#W(YX'j(YX(`(YX~O's7oO~P.[O!x;oO!|7rO!}7qO#O7qO#P7pO#S'bO#T'bO~PBtO^%^O!a#rO!l'hO#W'fO'j%^O(`'dO~O!W7vO~P%#XOl!kO'uTO'xUO(T!jO(_!nO~O|7wO~P%MdO![7{O!]7zO!^7zO#P7pO#S'bO#T'bO't!iO~PBtO![7{O!]7zO!^7zO!}7|O#O7|O#P7pO#S'bO#T'bO't!iO~PBtO!]7zO!^7zO't!iO(T!jO(_!nO~O!X0zO~O!X0zO%`8OO~Og8RO!X0zO%`8OO~OX8WO!V'da!W'da~O!V1VO!W(si~O!g8[O~O!g8]O~O!g8^O~O!g8^O~P%QO^8`O~O!a8cO~O!g8dO~O!V(ei!W(ei~P#?dO^%^O#W8lO'j%^O~O^%^O!a#rO#W8lO'j%^O~O^%^O!a#rO!l8pO#W8lO'j%^O(`'dO~O!h%ZO'|%OO~P&$QO!]8qO!^8qO't!iO~PBtO!V(]O!g(ay~O!V(by!g(by^(by'j(by~P!3jO!X'QO%`8uO~O#c$tqP$tqX$tq^$tqk$tqz$tq!V$tq!e$tq!f$tq!h$tq!l$tq#f$tq#g$tq#h$tq#i$tq#j$tq#k$tq#l$tq#m$tq#n$tq#p$tq#r$tq#t$tq#u$tq'j$tq(Q$tq(`$tq!g$tq!S$tq'h$tq#W$tqo$tq!X$tq%`$tq!a$tq~P#(yO#c$vqP$vqX$vq^$vqk$vqz$vq!V$vq!e$vq!f$vq!h$vq!l$vq#f$vq#g$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#p$vq#r$vq#t$vq#u$vq'j$vq(Q$vq(`$vq!g$vq!S$vq'h$vq#W$vqo$vq!X$vq%`$vq!a$vq~P#(yO!V'Pi!g'Pi~P!3jO#x#Zq!V#Zq!W#Zq~P#?dOy/yOz/yO|/zOPvaXvagvakva!eva!fva!hva!lva#fva#gva#hva#iva#jva#kva#lva#mva#nva#pva#rva#tva#uva#xva(Qva(`va(gva(hva!Vva!Wva~Oy)sO|)tOP$kaX$kag$kak$kaz$ka!e$ka!f$ka!h$ka!l$ka#f$ka#g$ka#h$ka#i$ka#j$ka#k$ka#l$ka#m$ka#n$ka#p$ka#r$ka#t$ka#u$ka#x$ka(Q$ka(`$ka(g$ka(h$ka!V$ka!W$ka~Oy)sO|)tOP$maX$mag$mak$maz$ma!e$ma!f$ma!h$ma!l$ma#f$ma#g$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#p$ma#r$ma#t$ma#u$ma#x$ma(Q$ma(`$ma(g$ma(h$ma!V$ma!W$ma~OP${aX${ak${az${a!e${a!f${a!h${a!l${a#f${a#g${a#h${a#i${a#j${a#k${a#l${a#m${a#n${a#p${a#r${a#t${a#u${a#x${a(Q${a(`${a!V${a!W${a~P%AYO#x$gq!V$gq!W$gq~P#?dO#x$hq!V$hq!W$hq~P#?dO!W9PO~O#x9QO~P!-jO!a#rO!V'Yi!g'Yi~O!a#rO(`'dO!V'Yi!g'Yi~O!V/VO!g(mq~O!S'[i!V'[i~P#(yO!V/_O!S(nq~O!S9WO~P#(yO!S9WO~Od(Oy!V(Oy~P!-jO!V'_a!X'_a~P#(yO!X%Sq^%Sq!V%Sq'j%Sq~P#(yOX9]O~O!V0_O!W(uq~O#W9aO!V'aa!W'aa~O!V4tO!W(ri~P#?dOPYXXYXkYXyYXzYX|YX!SYX!VYX!eYX!fYX!hYX!lYX#WYX#ccX#fYX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#pYX#rYX#tYX#uYX#zYX(QYX(`YX(gYX(hYX~O!a%QX#n%QX~P&6lO#S-cO#T-cO~PBtO#P9eO#S-cO#T-cO~PBtO!}9fO#O9fO#P9eO#S-cO#T-cO~PBtO!]9iO!^9iO't!iO(T!jO(_!nO~O![9lO!]9iO!^9iO#P9eO#S-cO#T-cO't!iO~PBtO!X0zO%`9oO~O'uTO'xUO(T9tO~O!V1VO!W(sq~O!g9wO~O!g9wO~P%QO!g9yO~O!g9zO~O#W9|O!V#`y!W#`y~O!V#`y!W#`y~P#?dO^%^O#W:QO'j%^O~O^%^O!a#rO#W:QO'j%^O~O^%^O!a#rO!l:UO#W:QO'j%^O(`'dO~O!X'QO%`:XO~O#x#vy!V#vy!W#vy~P#?dOP$tiX$tik$tiz$ti!e$ti!f$ti!h$ti!l$ti#f$ti#g$ti#h$ti#i$ti#j$ti#k$ti#l$ti#m$ti#n$ti#p$ti#r$ti#t$ti#u$ti#x$ti(Q$ti(`$ti!V$ti!W$ti~P%AYOy)sO|)tO(h)xOP%WiX%Wig%Wik%Wiz%Wi!e%Wi!f%Wi!h%Wi!l%Wi#f%Wi#g%Wi#h%Wi#i%Wi#j%Wi#k%Wi#l%Wi#m%Wi#n%Wi#p%Wi#r%Wi#t%Wi#u%Wi#x%Wi(Q%Wi(`%Wi(g%Wi!V%Wi!W%Wi~Oy)sO|)tOP%YiX%Yig%Yik%Yiz%Yi!e%Yi!f%Yi!h%Yi!l%Yi#f%Yi#g%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#p%Yi#r%Yi#t%Yi#u%Yi#x%Yi(Q%Yi(`%Yi(g%Yi(h%Yi!V%Yi!W%Yi~O#x$hy!V$hy!W$hy~P#?dO#x#Zy!V#Zy!W#Zy~P#?dO!a#rO!V'Yq!g'Yq~O!V/VO!g(my~O!S'[q!V'[q~P#(yO!S:`O~P#(yO!V0_O!W(uy~O!V4tO!W(rq~O#S2fO#T2fO~PBtO#P:gO#S2fO#T2fO~PBtO!]:kO!^:kO't!iO(T!jO(_!nO~O!X0zO%`:nO~O!g:qO~O^%^O#W:vO'j%^O~O^%^O!a#rO#W:vO'j%^O~O!X'QO%`:{O~OP$tqX$tqk$tqz$tq!e$tq!f$tq!h$tq!l$tq#f$tq#g$tq#h$tq#i$tq#j$tq#k$tq#l$tq#m$tq#n$tq#p$tq#r$tq#t$tq#u$tq#x$tq(Q$tq(`$tq!V$tq!W$tq~P%AYOP$vqX$vqk$vqz$vq!e$vq!f$vq!h$vq!l$vq#f$vq#g$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#p$vq#r$vq#t$vq#u$vq#x$vq(Q$vq(`$vq!V$vq!W$vq~P%AYOd%[!Z!V%[!Z#W%[!Z#x%[!Z~P!-jO!V'aq!W'aq~P#?dO#S6`O#T6`O~PBtO!V#`!Z!W#`!Z~P#?dO^%^O#W;ZO'j%^O~O#c%[!ZP%[!ZX%[!Z^%[!Zk%[!Zz%[!Z!V%[!Z!e%[!Z!f%[!Z!h%[!Z!l%[!Z#f%[!Z#g%[!Z#h%[!Z#i%[!Z#j%[!Z#k%[!Z#l%[!Z#m%[!Z#n%[!Z#p%[!Z#r%[!Z#t%[!Z#u%[!Z'j%[!Z(Q%[!Z(`%[!Z!g%[!Z!S%[!Z'h%[!Z#W%[!Zo%[!Z!X%[!Z%`%[!Z!a%[!Z~P#(yOP%[!ZX%[!Zk%[!Zz%[!Z!e%[!Z!f%[!Z!h%[!Z!l%[!Z#f%[!Z#g%[!Z#h%[!Z#i%[!Z#j%[!Z#k%[!Z#l%[!Z#m%[!Z#n%[!Z#p%[!Z#r%[!Z#t%[!Z#u%[!Z#x%[!Z(Q%[!Z(`%[!Z!V%[!Z!W%[!Z~P%AYOo(UX~P1dO't!iO~P!'RO!ScX!VcX#WcX~P&6lOPYXXYXkYXyYXzYX|YX!VYX!VcX!eYX!fYX!hYX!lYX#WYX#WcX#ccX#fYX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#pYX#rYX#tYX#uYX#zYX(QYX(`YX(gYX(hYX~O!acX!gYX!gcX(`cX~P'!sOP;nOQ;nOa=_Ob!fOikOk;nOlkOmkOskOu;nOw;nO|WO!QkO!RkO!XXO!c;qO!hZO!k;nO!l;nO!m;nO!o;rO!q;sO!t!eO$P!hO$TfO's)RO'uTO'xUO(QVO(_[O(l=]O~O!V<SO!W$ja~Oi%POk$qOl$pOm$pOs%QOu%ROw<YO|$xO!X$yO!c=dO!h$uO#b<`O$P%VO$l<[O$n<^O$q%WO's(iO'uTO'xUO'|%OO(Q$rO~O#o)YO~P''iO!WYX!WcX~P'!sO#c;vO~O!a#rO#c;vO~O#W<WO~O#n;{O~O#W<bO!V(eX!W(eX~O#W<WO!V(cX!W(cX~O#c<cO~Od<eO~P!-jO#c<jO~O#c<kO~O!a#rO#c<lO~O!a#rO#c<cO~O#x<mO~P#?dO#c<nO~O#c<oO~O#c<pO~O#c<qO~O#c<rO~O#c<sO~O#x<tO~P!-jO#x<uO~P!-jO$T~!f!|#O#P#S#a#b#m(l$l$n$q%T%_%`%a%g%i%l%m%o%q~'nR$T(l#g!R'l't#hl#f#iky'm(T'm's$V$X$V~\",\n  goto: \"$/X(yPPPP(zP(}P)_P+a/fPPPP6iPP7OP<|@mPAQPAQPPPAQPBpPAQPAQPAQPBtPPByPCdPH`PPPHdPPPPHdKfPPPKlMlPHdP!!SPPPP!$eHdPPPHdPHdP!&vHdP!*]!+_!+dP!,U!,Y!,UPPPP!/f!1kPP!1t!3OP!+_HdHd!6b!9m!>v!>v!BnPPP!BuHdPPPPPPPPPPP!FTP!GiPPHd!HyPHdPHdHdHdHdPHd!J`PP!MiP#!nP#!r#!|##Q##QP!MfP##U##UP#&ZP#&_HdHd#&e#)iAQPAQPAQAQP#*sAQAQ#,mAQ#.zAQ#0nAQAQ#1[#3W#3W#3[#3d#3W#3lP#3WPAQ#4hAQ#5pAQAQ6iPPP#6{PP#7e#7eP#7eP#7z#7ePP#8QP#7wP#7w#8d!1p#7w#9O#9U6f(}#9X(}P#9`#9`#9`P(}P(}P(}P(}PP(}P#9f#9iP#9i(}P#9mP#9pP(}P(}P(}P(}P(}P(}(}PP#9v#9|#:W#:^#:d#:j#:p#;O#;U#;[#;f#;l#<h#<w#<}#=a#=g#=m#={#>b#?r#@Q#@W#@^#@d#@j#@t#@z#AQ#A[#An#AtPPPPPPPPPP#AzPPPPPPP#Bn#FYP#Gu#G|#HUPPPP#L`$ U$'t$'w$'z$)w$)z$)}$*UPP$*[$*`$+X$,X$,]$,qPP$,u$,{$-PP$-S$-W$-Z$.P$.g$.l$.o$.r$.x$.{$/P$/TR!yRmpOXr!X#a%]&d&f&g&i,^,c1g1jU!pQ'Q-OQ%ctQ%kwQ%rzQ&[!TS&x!c,vQ'W!f[']!m!r!s!t!u!vS*[$y*aQ+U%lQ+c%tQ+}&UQ,|'PQ-W'XW-`'^'_'`'aQ/p*cQ1U,OU2b-b-d-eS4}0z5QS6[2e2gU7z5U5V5WQ8q6_S9i7{7|Q:k9lR<a;r%QdOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t+h,Y,^,c-S-[-o-x.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2}4y5]5o5q5r6U7w8R8`8l:Q:v;ZS#m];o!r)T$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q*l%SQ+Z%nQ,P&XQ,W&aQ.X<XQ0T*|Q0X+OQ0d+[Q1^,UQ2q.UQ4e0_Q5d1VQ6i2uQ6o<YQ7b4fR8x6j'OkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`#S!kQ!m!p!r!s!t!u!v!w&x'P'Q']'^'_'`'a'b,v,|-O-`-b-c-d-e0z2b2e2f2g4z5Q5S5T5U5V6[6_6`7p7q7r7|8q9e9f:g$Y$pi#r#t$`$a$u$x%T%U%Y)n)w)y)z*R*X*g*h*{+O+m+p.T._/^/_/a/|0q0t0|2t3l3v4O4U4]4_5[6g6}7W8O8u9Q9o:X:n:{<U<V<Z<[<]<^<_<`<f<g<h<i<j<k<n<o<p<q<t<u=]=e=f=i=jQ%uzQ&v!cS&|%w,yQ+Z%nS.})t/PQ/{*pQ0d+[Q0i+bQ1],TQ1^,UQ4e0_Q4n0kQ5g1XQ5h1[Q7b4fQ7e4kQ8Z5jQ9`7fR9u8WpmOXr!T!X#a%]&Z&d&f&g&i,^,c1g1jR,R&]&x`OPXYrstux!X!^!g!l#P#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u'S'f'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=_=`[#YWZ#T#W&y'vQ%fvQ%jwS%oz%t!U%x|}#d#f#i%Z%v(P(W(X(]+f+g+i,[,p-s-v-z-{-}1o2m2n5z6dQ&Q!RQ'T!eQ'V!fQ(d#oS*O$u*SS+T%k%lQ+X%nQ+x&SQ+|&US-V'W'XQ.W(eQ/Z*PQ0]+UQ0c+[Q0e+]Q0h+aQ1P+yS1T+},OQ2X-WQ3m/VQ4d0_Q4h0bQ4m0jQ5c1UQ6z3nQ7a4fQ7d4jQ9[7`R:b9]v$wi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=f!`%hw!f!o%j%k%l&w'V'W'X'['i*Z+T+U,s-V-W-_-a/h0]2Q2X2`2d4Q6Y6^8o:TQ*}%fQ+n%}Q+q&OQ+{&UQ.V(dQ1O+xU1S+|+},OQ2v.WQ5^1PS5b1T1US7n4x4|Q8V5cU9g7s7x7yU:i9h9j9kQ;R:jQ;a;S!z=a#r$`$a$u$x)n)z*X*{+O+m+p.T/_/a0q0t0|2t3v4O4]4_5[6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jg=b<U<V<[<^<`<g<i<k<o<q<uW$|i%O*i=]S%}!O&ZQ&O!PQ&P!QR+l%{$Z${i#r#t$`$a$u$x%T%U%Y)n)w)y)z*R*X*g*h*{+O+m+p.T._/^/_/a/|0q0t0|2t3l3v4O4U4]4_5[6g6}7W8O8u9Q9o:X:n:{<U<V<Z<[<]<^<_<`<f<g<h<i<j<k<n<o<p<q<t<u=]=e=f=i=jT)o$r)pV*m%S<X<YU&|!c%w,yS(r#v#wQ+`%qS.P(`(aQ0u+rQ4V/yR7j4t'OkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`$o$]c#V#b%a%b%d'u'{(g(n(v(w(x(y(z({(|(})O)P)Q)S)V)Z)e*y+_,t-h-m-r-w.^.d.h.j.k.l.{/}1v1y2Z2j2|3R3S3T3U3V3W3X3Y3Z3[3]3^3_3b3c3h4Z4b5}6T6b6m6n6s6t7l8f8j8y8}9O:O:d:r:t;X;d;p=ST#QV#R'PkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q&z!cR1|,v!z!kQ!c!m!p!r!s!t!u!v!w&x'P'Q']'^'_'`'a'b,v,|-O-`-b-c-d-e2b2e2f2g4z5S5T6[6_6`7p7q7r8q9e9f:gS*Z$y*aS/h*[*cQ/q*dQ0w+tQ4Q/pQ4T/sS4x0z5QS7s4}5WS7x5U5VS9h7z7{Q9j7|S:j9i9lR;S:klpOXr!X#a%]&d&f&g&i,^,c1g1jQ&k![Q'j!tS(f#q;vQ+R%iQ+v&QQ+w&RQ-T'UQ-g'cS.](k<cS0O*t<lQ0Z+SQ0y+uQ1n,eQ1p,fQ1x,qQ2V-UQ2Y-YS4[0P<rQ4`0[S4c0^<sQ5|1zQ6Q2WQ6V2_Q7_4aQ8g6OQ8h6RQ8k6WQ9{8dQ:P8mQ:u:RR;Y:w$j$[c#V#b%b%d'u'{(g(n(v(w(x(y(z({(|(})O)P)Q)S)V)Z)e*y+_,t-h-m-r-w.^.d.h.k.l.{/}1v1y2Z2j2|3R3S3T3U3V3W3X3Y3Z3[3]3^3_3b3c3h4Z4b5}6T6b6m6n6s6t7l8f8j8y8}9O:O:d:r:t;X;d;p=SS(c#l'ZU*f$z(j3aS*x%a.jQ2r0TQ6f2qQ8w6iR:Y8x$j$Zc#V#b%b%d'u'{(g(n(v(w(x(y(z({(|(})O)P)Q)S)V)Z)e*y+_,t-h-m-r-w.^.d.h.k.l.{/}1v1y2Z2j2|3R3S3T3U3V3W3X3Y3Z3[3]3^3_3b3c3h4Z4b5}6T6b6m6n6s6t7l8f8j8y8}9O:O:d:r:t;X;d;p=SS(b#l'ZS(t#w$[S*w%a.jS.Q(a(cQ.m)UQ0Q*xR2o.R'OkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`S#m];oQ&f!VQ&g!WQ&i!YQ&j!ZR1f,aQ'R!eQ*z%fQ-R'TS.S(d*}Q2T-QW2s.V.W0S0UQ6P2UU6e2p2r2vS8t6f6hS:W8v8wS:y:V:YQ;[:zR;e;]V!qQ'Q-O!_^OQXZ_r!T!X!m#a#d%Z%]&Z&]&d&f&g&i'Q(],^,c-O-z0z1g1j4z5QT#m];o%[yOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;ZS(r#v#wS.P(`(a!s<y$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`U!oQ'Q-OY'[!m!s!t!u!vS'i!p!rW'k!w4z5S5TS-_']'^U-a'_'`'aW-f'b7p7q7rS2`-`-bU2c-c9e9fS2d-d-eS4|0z5QS6Y2b2eS6]2f:gQ6^2gS7s4}5WS7y5U5VS8o6[6_Q8r6`S9h7z7{Q9k7|Q:T8qS:j9i9lR;S:kU!qQ'Q-OT5O0z5QU'h!o4{4|S([#e1dU-^'['k7yQ/Y*OQ/f*ZU2a-a-f9kQ3r/ZS3{/g/qS6Z2c2dQ6y3mS7U4R4TS8p6]6^Q9S6zQ9Z7XR:U8rQ#sbU'g!o4{4|S(Z#e1dQ*u%[Q+P%gQ+V%mW-]'['h'k7yQ-y([Q/X*OQ/e*ZQ/k*^Q0Y+QQ1Q+zW2^-^-a-f9kS3q/Y/ZS3z/f/qQ3}/jQ4P/lQ5`1RU6X2a2c2dQ6x3mQ6|3rS7Q3{4TQ7V4SQ8T5aU8n6Z6]6^S9R6y6zQ9V7RQ9X7UQ9c7mQ9r8US:S8p8rQ:^9SQ:_9WQ:a9ZQ:f9dQ:p9sQ:x:UQ:}:`Q;P:hQ;_;QQ;h;`Q;l;iQ<|<wQ=X=QR=Y=R%[aOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;ZS#sx!g!r<v$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`R<|=_%[bOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;ZQ%[j!`%gw!f!o%j%k%l&w'V'W'X'['i*Z+T+U,s-V-W-_-a/h0]2Q2X2`2d4Q6Y6^8o:TS%mx!gQ+Q%hQ+z&UW1R+{+|+},OU5a1S1T1US7m4x4|S8U5b5cW9d7n7s7x7yQ9s8VW:h9g9h9j9kS;Q:i:jS;`;R;SQ;i;a!r<w$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q=Q=^R=R=_%OeOPXYrstu!X!^!l#P#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&d&f&g&i&m&u'S'f'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;ZY#_WZ#T#W'v!U%x|}#d#f#i%Z%v(P(W(X(]+f+g+i,[,p-s-v-z-{-}1o2m2n5z6dQ,X&a!p<x$X$j)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`R<{&yS&}!c%wR2O,y%QdOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t+h,Y,^,c-S-[-o-x.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2}4y5]5o5q5r6U7w8R8`8l:Q:v;Z!r)T$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q,W&aQ0T*|Q2q.UQ6i2uR8x6j!l$Rc#V%a'u'{(g(n(})O)P)Q)V)Z+_-h-m-r-w.^.d.{/}2Z2j2|3_4Z4b6T6b6m8j:O:t;X;d;p!T;})S)e,t.j1v1y3R3Z3[3]3^3b3h5}6n6s6t7l8f8y8}9O:d:r=S!h$Tc#V%a'u'{(g(n)P)Q)V)Z+_-h-m-r-w.^.d.{/}2Z2j2|3_4Z4b6T6b6m8j:O:t;X;d;p!P<P)S)e,t.j1v1y3R3]3^3b3h5}6n6s6t7l8f8y8}9O:d:r=S!d$Xc#V%a'u'{(g(n)V)Z+_-h-m-r-w.^.d.{/}2Z2j2|3_4Z4b6T6b6m8j:O:t;X;d;pQ3l/Tz=`)S)e,t.j1v1y3R3b3h5}6n6s6t7l8f8y8}9O:d:r=SQ=e=gR=f=h'OkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`S$kh$lR3e.p'VgOPWXYZhrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j$l%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.p.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`T$gf$mQ$efS)^$h)bR)j$mT$ff$mT)`$h)b'VhOPWXYZhrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j$l%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.p.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`T$kh$lQ$nhR)i$l%[jOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;Z!s=^$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`#alOPXZr!X!^!l#P#a#k#x$j%]&]&`&a&d&f&g&i&m&u'S(s)g*|+h,Y,^,c-S.U.q/z0}1_1`1a1c1g1j1l2u3d4y5]5o5q5r6j7w8R8`v$zi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=f!z(j#r$`$a$u$x)n)z*X*{+O+m+p.T/_/a0q0t0|2t3v4O4]4_5[6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jQ*q%WQ.|)sg3a<U<V<[<^<`<g<i<k<o<q<uv$vi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=fQ*T$wS*^$y*aQ*r%XQ/l*_!z=O#r$`$a$u$x)n)z*X*{+O+m+p.T/_/a0q0t0|2t3v4O4]4_5[6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jf=P<U<V<[<^<`<g<i<k<o<q<uQ=T=aQ=U=bQ=V=cR=W=dv$zi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=f!z(j#r$`$a$u$x)n)z*X*{+O+m+p.T/_/a0q0t0|2t3v4O4]4_5[6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jg3a<U<V<[<^<`<g<i<k<o<q<ulnOXr!X#a%]&d&f&g&i,^,c1g1jQ*W$xQ,l&pQ,m&rR3u/_$Y${i#r#t$`$a$u$x%T%U%Y)n)w)y)z*R*X*g*h*{+O+m+p.T._/^/_/a/|0q0t0|2t3l3v4O4U4]4_5[6g6}7W8O8u9Q9o:X:n:{<U<V<Z<[<]<^<_<`<f<g<h<i<j<k<n<o<p<q<t<u=]=e=f=i=jQ+o&OQ0s+qQ4r0rR7i4sT*`$y*aS*`$y*aT5P0z5QS/j*]4yT4S/r7wQ+P%gQ/k*^Q0Y+QQ1Q+zQ5`1RQ8T5aQ9c7mQ9r8UQ:f9dQ:p9sQ;P:hQ;_;QQ;h;`R;l;in)w$s(l*s/]/t/u2z3s4Y6w7Y:]<}=Z=[!W<f(h)X)}*V.[.x/T/b0R0p0r2y3t3x4q4s6k6l7O7S7[7^9U9Y:|=g=h]<g3`6r8z:Z:[;fp)y$s(l*s/R/]/t/u2z3s4Y6w7Y:]<}=Z=[!Y<h(h)X)}*V.[.x/T/b0R0p0r2w2y3t3x4q4s6k6l7O7S7[7^9U9Y:|=g=h_<i3`6r8z8{:Z:[;fpmOXr!T!X#a%]&Z&d&f&g&i,^,c1g1jQ&W!SR,Y&apmOXr!T!X#a%]&Z&d&f&g&i,^,c1g1jR&W!SQ+s&PR0o+lqmOXr!T!X#a%]&Z&d&f&g&i,^,c1g1jQ0{+xS5Z1O1PU7}5X5Y5^S9n8P8QS:l9m9pQ;T:mR;b;UQ&_!TR,S&ZR5g1XS%oz%tR0e+]Q&d!UR,^&eR,d&jT1h,c1jR,h&kQ,g&kR1q,hQ'm!xR-i'mQrOQ#aXT%`r#aQ!{TR'o!{Q#OUR'q#OQ)p$rR.y)pQ#RVR's#RQ#UWU'y#U'z-pQ'z#VR-p'{Q,w&zR1},wQ.`(lR2{.`Q.c(nS3O.c3PR3P.dQ-O'QR2R-Or_OXr!T!X#a%]&Z&]&d&f&g&i,^,c1g1jU!mQ'Q-OS#dZ%ZY#n_!m#d-z4zQ-z(]T4z0z5QS#[W%vU(Q#[(R-qQ(R#]R-q'|Q,z&}R2P,zQ(^#gQ-t(VW.O(^-t2h6aQ2h-uR6a2iQ)b$hR.r)bQ$lhR)h$lQ$_cU)W$_-l<TQ-l;pR<T)eQ/W*OW3o/W3p6{9TU3p/X/Y/ZS6{3q3rR9T6|#m)u$s(h(l)X)}*V*n*o*s.Y.Z.[.x/R/S/T/]/b/t/u0R0p0r2w2x2y2z3`3s3t3x4Y4q4s6k6l6p6q6r6w7O7S7Y7[7^8z8{8|9U9Y:Z:[:]:|;f<}=Z=[=g=hQ/`*VU3w/`3y7PQ3y/bR7P3xQ*a$yR/n*aQ*j$}R/w*jQ4^0RR7]4^Q+j%yR0n+jQ4u0uS7k4u9bR9b7lQ+u&QR0x+uQ5Q0zR7u5QQ1W,PS5e1W8XR8X5gQ0`+XW4g0`4i7c9^Q4i0cQ7c4hR9^7dQ+^%oR0f+^Q1j,cR5u1jWqOXr#aQ&h!XQ*v%]Q,]&dQ,_&fQ,`&gQ,b&iQ1e,^S1h,c1jR5t1gQ%_oQ&l!]Q&o!_Q&q!`Q&s!aU'e!o4{4|Q+e%uQ+k%zQ,R&_Q,j&nY-Z'['g'h'k7yQ/m*`S1Z,S,VQ1r,iQ1s,lQ1t,m[2[-]-^-a-f-h9kQ4l0iQ4p0pQ5_1QQ5i1]Q5s1fY6S2Z2^2a2c2dQ7g4nQ7h4qQ7t5PQ8S5`Q8Y5hY8i6T6X6Z6]6^Q9_7eQ9q8TQ9v8ZW9}8j8n8p8rQ:c9`Q:e9cQ:o9rU:s:O:S:UQ;O:fQ;V:pS;W:t:xQ;^;PQ;c;XQ;g;_Q;j;dQ;k;hR;m;lQ%iwQ'U!fQ'c!oU+S%j%k%lQ,q&wU-U'V'W'XS-Y'['iQ/d*ZS0[+T+UQ1z,sS2W-V-WS2_-_-aQ3|/hQ4a0]Q6O2QQ6R2XS6W2`2dQ7T4QS8m6Y6^Q:R8oR:w:TS$ti=]R*k%OU$}i%O=]R/v*iQ$siS(h#r+OQ(l#tS)X$`$aQ)}$uQ*V$xQ*n%TQ*o%UQ*s%YQ.Y<ZQ.Z<]Q.[<_Q.x)nQ/R)wQ/S)yQ/T)zQ/]*RQ/b*XQ/t*gQ/u*hh0R*{.T0|2t5[6g8O8u9o:X:n:{Q0p+mQ0r+pQ2w<fQ2x<hQ2y<jQ2z._S3`<U<VQ3s/^Q3t/_Q3x/aQ4Y/|Q4q0qQ4s0tQ6k<nQ6l<pQ6p<[Q6q<^Q6r<`Q6w3lQ7O3vQ7S4OQ7Y4UQ7[4]Q7^4_Q8z<kQ8{<gQ8|<iQ9U6}Q9Y7WQ:Z<oQ:[<qQ:]9QQ:|<tQ;f<uQ<}=]Q=Z=eQ=[=fQ=g=iR=h=jloOXr!X#a%]&d&f&g&i,^,c1g1jQ!dPS#cZ#kQ&n!^U'Y!l4y7wQ'r#PQ(u#xQ)f$jS,V&]&`Q,Z&aQ,i&mQ,n&uQ-Q'SQ.f(sQ.v)gQ0U*|Q0l+hQ1b,YQ2U-SQ2r.UQ3g.qQ4W/zQ5Y0}Q5k1_Q5l1`Q5n1aQ5p1cQ5w1lQ6f2uQ6u3dQ8Q5]Q8_5oQ8a5qQ8b5rQ8w6jQ9p8RR9x8`#UcOPXZr!X!^!l#a#k#x%]&]&`&a&d&f&g&i&m&u'S(s*|+h,Y,^,c-S.U/z0}1_1`1a1c1g1j1l2u4y5]5o5q5r6j7w8R8`Q#VWQ#bYQ%asQ%btQ%duS'u#T'xQ'{#WQ(g#qQ(n#uQ(v#{Q(w#|Q(x#}Q(y$OQ(z$PQ({$QQ(|$RQ(}$SQ)O$TQ)P$UQ)Q$VQ)S$XQ)V$^Q)Z$bW)e$j)g.q3dQ*y%cQ+_%pS,t&y1{Q-h'fS-m'v-oQ-r(OQ-w(YQ.^(kQ.d(oQ.h;nQ.j;qQ.k;rQ.l;sQ.{)rQ/}*tQ1v,oQ1y,rQ2Z-[Q2j-xQ2|.bQ3R;vQ3S;wQ3T;xQ3U;yQ3V;zQ3W;{Q3X;|Q3Y;}Q3Z<OQ3[<PQ3]<QQ3^<RQ3_.iQ3b<WQ3c<aQ3h<SQ4Z0PQ4b0^Q5}<bQ6T2]Q6b2kQ6m2}Q6n<cQ6s<eQ6t<lQ7l4vQ8f5{Q8j6UQ8y<mQ8}<rQ9O<sQ:O8lQ:d9aQ:r9|Q:t:QQ;X:vQ;d;ZQ;p#PR=S=`R#XWR&{!cU!oQ'Q-OS&w!c,vY'[!m!s!t!u!vS'i!p!r['k!w4z5S5T5U5VS,s&x'PS-_']'^U-a'_'`'aY-f'b7p7q7r7|Q2Q,|S2`-`-bU2c-c9e9fS2d-d-eS4{0z5QS6Y2b2eS6]2f:gQ6^2gS8o6[6_Q8r6`R:T8qR(m#tR(p#uQ!dQT,}'Q-OQ#l]R'Z;oT#hZ%ZS#gZ%ZU%y|},[U(V#d#f#iS-u(W(XQ-|(]Q0m+iQ2i-vU2l-z-{-}S6c2m2nR8s6d`#ZW#T#W%v'v(P+f-st#eZ|}#d#f#i%Z(W(X(]+i-v-z-{-}2m2n6dQ1d,[Q1w,pQ5y1oQ8e5zT<z&y+gT#^W%vS#]W%vS'w#T(PS'|#W+fS,u&y+gT-n'v-sT'O!c%wQ$hfR)l$mT)a$h)bR3f.pT*Q$u*SR*Y$xQ0S*{Q2p.TQ5X0|Q6h2tQ8P5[Q8v6gQ9m8OQ:V8uQ:m9oQ:z:XQ;U:nR;]:{lpOXr!X#a%]&d&f&g&i,^,c1g1jQ&^!TR,R&ZV%z|},[R0v+rR,Q&XQ%szR+d%tR+Y%nT&b!U&eT&c!U&eT1i,c1j\",\n  nodeNames: \"âš  ArithOp ArithOp LineComment BlockComment Script ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem\",\n  maxTerm: 362,\n  context: trackNewline,\n  nodeProps: [\n    [\"group\", -26,6,14,16,62,198,202,205,206,208,211,214,225,227,233,235,237,239,242,248,254,256,258,260,262,264,265,\"Statement\",-32,10,11,25,28,29,35,45,48,49,51,56,64,72,76,78,80,81,102,103,112,113,130,133,135,136,137,138,140,141,161,162,164,\"Expression\",-23,24,26,30,34,36,38,165,167,169,170,172,173,174,176,177,178,180,181,182,192,194,196,197,\"Type\",-3,84,95,101,\"ClassItem\"],\n    [\"openedBy\", 31,\"InterpolationStart\",50,\"[\",54,\"{\",69,\"(\",142,\"JSXStartTag\",154,\"JSXStartTag JSXStartCloseTag\"],\n    [\"closedBy\", 33,\"InterpolationEnd\",44,\"]\",55,\"}\",70,\")\",143,\"JSXSelfCloseEndTag JSXEndTag\",159,\"JSXEndTag\"]\n  ],\n  propSources: [jsHighlight],\n  skippedNodes: [0,3,4,268],\n  repeatNodeCount: 32,\n  tokenData: \"$>y(CSR!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tu>PuvBavwDxwxGgxyMvyz! Qz{!![{|!%O|}!&]}!O!%O!O!P!'g!P!Q!1w!Q!R#0t!R![#3T![!]#@T!]!^#Aa!^!_#Bk!_!`#GS!`!a#In!a!b#N{!b!c$$z!c!}>P!}#O$&U#O#P$'`#P#Q$,w#Q#R$.R#R#S>P#S#T$/`#T#o$0j#o#p$4z#p#q$5p#q#r$7Q#r#s$8^#s$f%Z$f$g+g$g#BY>P#BY#BZ$9h#BZ$IS>P$IS$I_$9h$I_$I|>P$I|$I}$<s$I}$JO$<s$JO$JT>P$JT$JU$9h$JU$KV>P$KV$KW$9h$KW&FU>P&FU&FV$9h&FV;'S>P;'S;=`BZ<%l?HT>P?HT?HU$9h?HUO>P(n%d_$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$c&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$c&j'y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU'y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$c&j'vpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU'vpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z(CS+rq$c&j'vp'y!b'l(;dOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z(CS.ST'w#S$c&j'm(;dO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c(CS.n_$c&j'vp'y!b'm(;dOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`/x`$c&j!l$Ip'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S1V`#p$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S2d_#p$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b3l_'u$(n$c&j'y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k*r4r_$c&j'y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k)`5vX$c&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q)`6jT$^#t$c&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#t6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y#t7bO$^#t#t7eP;=`<%l6y)`7kP;=`<%l5q*r7w]$^#t$c&j'y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}%W8uZ'y!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p%W9oU$^#t'y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}%W:UP;=`<%l8p*r:[P;=`<%l4k#%|:hg$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}st%Ztu<Puw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}<P!}#O%Z#O#P&c#P#R%Z#R#S<P#S#T%Z#T#o<P#o#p*g#p$g%Z$g;'S<P;'S;=`=y<%lO<P#%|<[i$c&j(_!L^'vp'y!bOY%ZYZ&cZr%Zrs&}st%Ztu<Puw%Zwx(rx!Q%Z!Q![<P![!^%Z!^!_*g!_!c%Z!c!}<P!}#O%Z#O#P&c#P#R%Z#R#S<P#S#T%Z#T#o<P#o#p*g#p$g%Z$g;'S<P;'S;=`=y<%lO<P#%|=|P;=`<%l<P(CS>`k$c&j'vp'y!b(T!LY's&;d$V#tOY%ZYZ&cZr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$g%Z$g;'S>P;'S;=`BZ<%lO>P+d@`k$c&j'vp'y!b$V#tOY%ZYZ&cZr%Zrs&}st%Ztu@Tuw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![@T![!^%Z!^!_*g!_!c%Z!c!}@T!}#O%Z#O#P&c#P#R%Z#R#S@T#S#T%Z#T#o@T#o#p*g#p$g%Z$g;'S@T;'S;=`BT<%lO@T+dBWP;=`<%l@T(CSB^P;=`<%l>P%#SBl`$c&j'vp'y!b#h$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SCy_$c&j#z$Id'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%DfETa(h%<v$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sv%ZvwFYwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SFe`$c&j#t$Id'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2bGp_'x$)`$c&j'vpOYHoYZIuZrHorsIuswHowxKVx!^Ho!^!_LX!_#OHo#O#PIu#P#oHo#o#pLX#p;'SHo;'S;=`Mp<%lOHo*QHv_$c&j'vpOYHoYZIuZrHorsIuswHowxKVx!^Ho!^!_LX!_#OHo#O#PIu#P#oHo#o#pLX#p;'SHo;'S;=`Mp<%lOHo)`IzX$c&jOwIuwx6cx!^Iu!^!_Jg!_#oIu#o#pJg#p;'SIu;'S;=`KP<%lOIu#tJjTOwJgwx7]x;'SJg;'S;=`Jy<%lOJg#tJ|P;=`<%lJg)`KSP;=`<%lIu*QK`]$^#t$c&j'vpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r$fL^Z'vpOYLXYZJgZrLXrsJgswLXwxMPx#OLX#O#PJg#P;'SLX;'S;=`Mj<%lOLX$fMWU$^#t'vpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r$fMmP;=`<%lLX*QMsP;=`<%lHo(*QNR_!h(!b$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'l! ]_!gM|$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h!!ib$c&j'vp'y!b't#)d#i$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!#q{!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!#|`$c&j'vp'y!b#f$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&-O!%Z`$c&j'vp'y!bk&%`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&C[!&h_!V&;l$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!'rc$c&j'vp'y!by'<nOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!(}!P!Q%Z!Q![!+g![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!)Wa$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!*]!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!*h_!UMt$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!+rg$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!+g![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S!+g#S#X%Z#X#Y!-Z#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!-dg$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!.{|}%Z}!O!.{!O!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!/Uc$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!0lc$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!2Sf$c&j'vp'y!b#g$IdOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}xz!3hz{#$s{!P!3h!P!Q#&Y!Q!^!3h!^!_!Mh!_!`#-x!`!a#/_!a!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(r!3sb$c&j'vp'y!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(Q!5U`$c&j'y!b!RSOY!4{YZ&cZw!4{wx!6Wx!P!4{!P!Q!=o!Q!^!4{!^!_!?g!_!}!4{!}#O!Bn#O#P!<w#P#o!4{#o#p!?g#p;'S!4{;'S;=`!Cw<%lO!4{&n!6_^$c&j!RSOY!6WYZ&cZ!P!6W!P!Q!7Z!Q!^!6W!^!_!8g!_!}!6W!}#O!;U#O#P!<w#P#o!6W#o#p!8g#p;'S!6W;'S;=`!=i<%lO!6W&n!7ba$c&j!RSO!^&c!_#Z&c#Z#[!7Z#[#]&c#]#^!7Z#^#a&c#a#b!7Z#b#g&c#g#h!7Z#h#i&c#i#j!7Z#j#m&c#m#n!7Z#n#o&c#p;'S&c;'S;=`&w<%lO&cS!8lX!RSOY!8gZ!P!8g!P!Q!9X!Q!}!8g!}#O!9p#O#P!:o#P;'S!8g;'S;=`!;O<%lO!8gS!9^U!RS#Z#[!9X#]#^!9X#a#b!9X#g#h!9X#i#j!9X#m#n!9XS!9sVOY!9pZ#O!9p#O#P!:Y#P#Q!8g#Q;'S!9p;'S;=`!:i<%lO!9pS!:]SOY!9pZ;'S!9p;'S;=`!:i<%lO!9pS!:lP;=`<%l!9pS!:rSOY!8gZ;'S!8g;'S;=`!;O<%lO!8gS!;RP;=`<%l!8g&n!;Z[$c&jOY!;UYZ&cZ!^!;U!^!_!9p!_#O!;U#O#P!<P#P#Q!6W#Q#o!;U#o#p!9p#p;'S!;U;'S;=`!<q<%lO!;U&n!<UX$c&jOY!;UYZ&cZ!^!;U!^!_!9p!_#o!;U#o#p!9p#p;'S!;U;'S;=`!<q<%lO!;U&n!<tP;=`<%l!;U&n!<|X$c&jOY!6WYZ&cZ!^!6W!^!_!8g!_#o!6W#o#p!8g#p;'S!6W;'S;=`!=i<%lO!6W&n!=lP;=`<%l!6W(Q!=xi$c&j'y!b!RSOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#Z&}#Z#[!=o#[#]&}#]#^!=o#^#a&}#a#b!=o#b#g&}#g#h!=o#h#i&}#i#j!=o#j#m&}#m#n!=o#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!f!?nZ'y!b!RSOY!?gZw!?gwx!8gx!P!?g!P!Q!@a!Q!}!?g!}#O!Ap#O#P!:o#P;'S!?g;'S;=`!Bh<%lO!?g!f!@hb'y!b!RSOY'}Zw'}x#O'}#P#Z'}#Z#[!@a#[#]'}#]#^!@a#^#a'}#a#b!@a#b#g'}#g#h!@a#h#i'}#i#j!@a#j#m'}#m#n!@a#n;'S'};'S;=`(f<%lO'}!f!AuX'y!bOY!ApZw!Apwx!9px#O!Ap#O#P!:Y#P#Q!?g#Q;'S!Ap;'S;=`!Bb<%lO!Ap!f!BeP;=`<%l!Ap!f!BkP;=`<%l!?g(Q!Bu^$c&j'y!bOY!BnYZ&cZw!Bnwx!;Ux!^!Bn!^!_!Ap!_#O!Bn#O#P!<P#P#Q!4{#Q#o!Bn#o#p!Ap#p;'S!Bn;'S;=`!Cq<%lO!Bn(Q!CtP;=`<%l!Bn(Q!CzP;=`<%l!4{'`!DW`$c&j'vp!RSOY!C}YZ&cZr!C}rs!6Ws!P!C}!P!Q!EY!Q!^!C}!^!_!GQ!_!}!C}!}#O!JX#O#P!<w#P#o!C}#o#p!GQ#p;'S!C};'S;=`!Kb<%lO!C}'`!Eci$c&j'vp!RSOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#Z(r#Z#[!EY#[#](r#]#^!EY#^#a(r#a#b!EY#b#g(r#g#h!EY#h#i(r#i#j!EY#j#m(r#m#n!EY#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rt!GXZ'vp!RSOY!GQZr!GQrs!8gs!P!GQ!P!Q!Gz!Q!}!GQ!}#O!IZ#O#P!:o#P;'S!GQ;'S;=`!JR<%lO!GQt!HRb'vp!RSOY)rZr)rs#O)r#P#Z)r#Z#[!Gz#[#])r#]#^!Gz#^#a)r#a#b!Gz#b#g)r#g#h!Gz#h#i)r#i#j!Gz#j#m)r#m#n!Gz#n;'S)r;'S;=`*Z<%lO)rt!I`X'vpOY!IZZr!IZrs!9ps#O!IZ#O#P!:Y#P#Q!GQ#Q;'S!IZ;'S;=`!I{<%lO!IZt!JOP;=`<%l!IZt!JUP;=`<%l!GQ'`!J`^$c&j'vpOY!JXYZ&cZr!JXrs!;Us!^!JX!^!_!IZ!_#O!JX#O#P!<P#P#Q!C}#Q#o!JX#o#p!IZ#p;'S!JX;'S;=`!K[<%lO!JX'`!K_P;=`<%l!JX'`!KeP;=`<%l!C}(r!Ksk$c&j'vp'y!b!RSOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#Z%Z#Z#[!Kh#[#]%Z#]#^!Kh#^#a%Z#a#b!Kh#b#g%Z#g#h!Kh#h#i%Z#i#j!Kh#j#m%Z#m#n!Kh#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#W!Mq]'vp'y!b!RSOY!MhZr!Mhrs!?gsw!Mhwx!GQx!P!Mh!P!Q!Nj!Q!}!Mh!}#O#!U#O#P!:o#P;'S!Mh;'S;=`##U<%lO!Mh#W!Nse'vp'y!b!RSOY*gZr*grs'}sw*gwx)rx#O*g#P#Z*g#Z#[!Nj#[#]*g#]#^!Nj#^#a*g#a#b!Nj#b#g*g#g#h!Nj#h#i*g#i#j!Nj#j#m*g#m#n!Nj#n;'S*g;'S;=`+Z<%lO*g#W#!]Z'vp'y!bOY#!UZr#!Urs!Apsw#!Uwx!IZx#O#!U#O#P!:Y#P#Q!Mh#Q;'S#!U;'S;=`##O<%lO#!U#W##RP;=`<%l#!U#W##XP;=`<%l!Mh(r##e`$c&j'vp'y!bOY##[YZ&cZr##[rs!Bnsw##[wx!JXx!^##[!^!_#!U!_#O##[#O#P!<P#P#Q!3h#Q#o##[#o#p#!U#p;'S##[;'S;=`#$g<%lO##[(r#$jP;=`<%l##[(r#$pP;=`<%l!3h(CS#%Qb$c&j'vp'y!b'n(;d!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(CS#&e_$c&j'vp'y!bR(;dOY#&YYZ&cZr#&Yrs#'dsw#&Ywx#*tx!^#&Y!^!_#,s!_#O#&Y#O#P#(f#P#o#&Y#o#p#,s#p;'S#&Y;'S;=`#-r<%lO#&Y(Bb#'m]$c&j'y!bR(;dOY#'dYZ&cZw#'dwx#(fx!^#'d!^!_#)w!_#O#'d#O#P#(f#P#o#'d#o#p#)w#p;'S#'d;'S;=`#*n<%lO#'d(AO#(mX$c&jR(;dOY#(fYZ&cZ!^#(f!^!_#)Y!_#o#(f#o#p#)Y#p;'S#(f;'S;=`#)q<%lO#(f(;d#)_SR(;dOY#)YZ;'S#)Y;'S;=`#)k<%lO#)Y(;d#)nP;=`<%l#)Y(AO#)tP;=`<%l#(f(<v#*OW'y!bR(;dOY#)wZw#)wwx#)Yx#O#)w#O#P#)Y#P;'S#)w;'S;=`#*h<%lO#)w(<v#*kP;=`<%l#)w(Bb#*qP;=`<%l#'d(Ap#*}]$c&j'vpR(;dOY#*tYZ&cZr#*trs#(fs!^#*t!^!_#+v!_#O#*t#O#P#(f#P#o#*t#o#p#+v#p;'S#*t;'S;=`#,m<%lO#*t(<U#+}W'vpR(;dOY#+vZr#+vrs#)Ys#O#+v#O#P#)Y#P;'S#+v;'S;=`#,g<%lO#+v(<U#,jP;=`<%l#+v(Ap#,pP;=`<%l#*t(=h#,|Y'vp'y!bR(;dOY#,sZr#,srs#)wsw#,swx#+vx#O#,s#O#P#)Y#P;'S#,s;'S;=`#-l<%lO#,s(=h#-oP;=`<%l#,s(CS#-uP;=`<%l#&Y%#W#.Vb$c&j#z$Id'vp'y!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h+h#/lb$S#t$c&j'vp'y!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h$/l#1Pp$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!+g!P!Q%Z!Q![#3T![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S#3T#S#U%Z#U#V#6_#V#X%Z#X#Y!-Z#Y#b%Z#b#c#5T#c#d#9g#d#l%Z#l#m#<i#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#3`k$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!+g!P!Q%Z!Q![#3T![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S#3T#S#X%Z#X#Y!-Z#Y#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#5`_$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#6hd$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#7v!R!S#7v!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#7v#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#8Rf$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#7v!R!S#7v!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#7v#S#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#9pc$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#:{!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#:{#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#;We$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#:{!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#:{#S#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#<rg$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#>Z![!^%Z!^!_*g!_!c%Z!c!i#>Z!i#O%Z#O#P&c#P#R%Z#R#S#>Z#S#T%Z#T#Z#>Z#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#>fi$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#>Z![!^%Z!^!_*g!_!c%Z!c!i#>Z!i#O%Z#O#P&c#P#R%Z#R#S#>Z#S#T%Z#T#Z#>Z#Z#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#@b_!a$b$c&j#x%<f'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Al_^l$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS#Bz^'|!*v!e'.r'vp'y!b$T)d(lSOY*gZr*grs'}sw*gwx)rx!P*g!P!Q#Cv!Q!^*g!^!_#Dl!_!`#F^!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#DPX$e&j'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#DuZ#j$Id'vp'y!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Eh!`#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#EqX#z$Id'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#FgX#k$Id'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Gh#G_a#W%?x$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a#Hd!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#W#Ho_#c$Ih$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#I}adBf#k$Id$`#|$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`#KS!`!a#L^!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#K__#k$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#Lia#j$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`!a#Mn!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#My`#j$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h$ Wc(`$Ip$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P$!c!P!^%Z!^!_*g!_!a%Z!a!b$#m!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+`$!n_z'#p$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$#x`$c&j#u$Id'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&^$%V_!x!Ln$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^$&a_|(8n$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$'eZ$c&jO!^$(W!^!_$(n!_#i$(W#i#j$(s#j#l$(W#l#m$*f#m#o$(W#o#p$(n#p;'S$(W;'S;=`$,q<%lO$(W(n$(_T[#S$c&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$(sO[#S(n$(x[$c&jO!Q&c!Q![$)n![!^&c!_!c&c!c!i$)n!i#T&c#T#Z$)n#Z#o&c#o#p$,U#p;'S&c;'S;=`&w<%lO&c(n$)sZ$c&jO!Q&c!Q![$*f![!^&c!_!c&c!c!i$*f!i#T&c#T#Z$*f#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$*kZ$c&jO!Q&c!Q![$+^![!^&c!_!c&c!c!i$+^!i#T&c#T#Z$+^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$+cZ$c&jO!Q&c!Q![$(W![!^&c!_!c&c!c!i$(W!i#T&c#T#Z$(W#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$,XR!Q![$,b!c!i$,b#T#Z$,b#S$,eS!Q![$,b!c!i$,b#T#Z$,b#q#r$(n(n$,tP;=`<%l$(W!'l$-S_!SM|$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$.^`#r$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&,v$/k_$c&j'vp'y!b(Q&%WOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$0yk$c&j'vp'y!b(T!LY's&;d$X#tOY%ZYZ&cZr%Zrs&}st%Ztu$0juw%Zwx(rx}%Z}!O$2n!O!Q%Z!Q![$0j![!^%Z!^!_*g!_!c%Z!c!}$0j!}#O%Z#O#P&c#P#R%Z#R#S$0j#S#T%Z#T#o$0j#o#p*g#p$g%Z$g;'S$0j;'S;=`$4t<%lO$0j+d$2yk$c&j'vp'y!b$X#tOY%ZYZ&cZr%Zrs&}st%Ztu$2nuw%Zwx(rx}%Z}!O$2n!O!Q%Z!Q![$2n![!^%Z!^!_*g!_!c%Z!c!}$2n!}#O%Z#O#P&c#P#R%Z#R#S$2n#S#T%Z#T#o$2n#o#p*g#p$g%Z$g;'S$2n;'S;=`$4n<%lO$2n+d$4qP;=`<%l$2n(CS$4wP;=`<%l$0j!5p$5TX!X!3l'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Df$5{a(g%<v$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$#m#q;'S%Z;'S;=`+a<%lO%Z%#`$7__!W$I`o`$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(r$8i_!mS$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$9y|$c&j'vp'y!b'l(;d(T!LY's&;d$V#tOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$f%Z$f$g+g$g#BY>P#BY#BZ$9h#BZ$IS>P$IS$I_$9h$I_$JT>P$JT$JU$9h$JU$KV>P$KV$KW$9h$KW&FU>P&FU&FV$9h&FV;'S>P;'S;=`BZ<%l?HT>P?HT?HU$9h?HUO>P(CS$=Uk$c&j'vp'y!b'm(;d(T!LY's&;d$V#tOY%ZYZ&cZr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$g%Z$g;'S>P;'S;=`BZ<%lO>P\",\n  tokenizers: [noSemicolon, incdecToken, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, insertSemicolon, new LocalTokenGroup(\"$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOq~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!O~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(S~~\", 141, 325), new LocalTokenGroup(\"j~RQYZXz{^~^O'p~~aP!P!Qd~iO'q~~\", 25, 307)],\n  topRules: {\"Script\":[0,5],\"SingleExpression\":[1,266],\"SingleClassItem\":[2,267]},\n  dialects: {jsx: 13213, ts: 13215},\n  dynamicPrecedences: {\"76\":1,\"78\":1,\"162\":1,\"190\":1},\n  specialized: [{term: 311, get: value => spec_identifier[value] || -1},{term: 327, get: value => spec_word[value] || -1},{term: 67, get: value => spec_LessThan[value] || -1}],\n  tokenPrec: 13238\n});\n\nexport { parser };\n","import { parser } from '@lezer/javascript';\nimport { syntaxTree, LRLanguage, indentNodeProp, continuedIndent, flatIndent, delimitedIndent, foldNodeProp, foldInside, defineLanguageFacet, sublanguageProp, LanguageSupport } from '@codemirror/language';\nimport { EditorSelection } from '@codemirror/state';\nimport { EditorView } from '@codemirror/view';\nimport { snippetCompletion, ifNotIn, completeFromList } from '@codemirror/autocomplete';\nimport { NodeWeakMap, IterMode } from '@lezer/common';\n\n/**\nA collection of JavaScript-related\n[snippets](https://codemirror.net/6/docs/ref/#autocomplete.snippet).\n*/\nconst snippets = [\n    /*@__PURE__*/snippetCompletion(\"function ${name}(${params}) {\\n\\t${}\\n}\", {\n        label: \"function\",\n        detail: \"definition\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\\n\\t${}\\n}\", {\n        label: \"for\",\n        detail: \"loop\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"for (let ${name} of ${collection}) {\\n\\t${}\\n}\", {\n        label: \"for\",\n        detail: \"of loop\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"do {\\n\\t${}\\n} while (${})\", {\n        label: \"do\",\n        detail: \"loop\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"while (${}) {\\n\\t${}\\n}\", {\n        label: \"while\",\n        detail: \"loop\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"try {\\n\\t${}\\n} catch (${error}) {\\n\\t${}\\n}\", {\n        label: \"try\",\n        detail: \"/ catch block\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"if (${}) {\\n\\t${}\\n}\", {\n        label: \"if\",\n        detail: \"block\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"if (${}) {\\n\\t${}\\n} else {\\n\\t${}\\n}\", {\n        label: \"if\",\n        detail: \"/ else block\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"class ${name} {\\n\\tconstructor(${params}) {\\n\\t\\t${}\\n\\t}\\n}\", {\n        label: \"class\",\n        detail: \"definition\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"import {${names}} from \\\"${module}\\\"\\n${}\", {\n        label: \"import\",\n        detail: \"named\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"import ${name} from \\\"${module}\\\"\\n${}\", {\n        label: \"import\",\n        detail: \"default\",\n        type: \"keyword\"\n    })\n];\n\nconst cache = /*@__PURE__*/new NodeWeakMap();\nconst ScopeNodes = /*@__PURE__*/new Set([\n    \"Script\", \"Block\",\n    \"FunctionExpression\", \"FunctionDeclaration\", \"ArrowFunction\", \"MethodDeclaration\",\n    \"ForStatement\"\n]);\nfunction defID(type) {\n    return (node, def) => {\n        let id = node.node.getChild(\"VariableDefinition\");\n        if (id)\n            def(id, type);\n        return true;\n    };\n}\nconst functionContext = [\"FunctionDeclaration\"];\nconst gatherCompletions = {\n    FunctionDeclaration: /*@__PURE__*/defID(\"function\"),\n    ClassDeclaration: /*@__PURE__*/defID(\"class\"),\n    ClassExpression: () => true,\n    EnumDeclaration: /*@__PURE__*/defID(\"constant\"),\n    TypeAliasDeclaration: /*@__PURE__*/defID(\"type\"),\n    NamespaceDeclaration: /*@__PURE__*/defID(\"namespace\"),\n    VariableDefinition(node, def) { if (!node.matchContext(functionContext))\n        def(node, \"variable\"); },\n    TypeDefinition(node, def) { def(node, \"type\"); },\n    __proto__: null\n};\nfunction getScope(doc, node) {\n    let cached = cache.get(node);\n    if (cached)\n        return cached;\n    let completions = [], top = true;\n    function def(node, type) {\n        let name = doc.sliceString(node.from, node.to);\n        completions.push({ label: name, type });\n    }\n    node.cursor(IterMode.IncludeAnonymous).iterate(node => {\n        if (top) {\n            top = false;\n        }\n        else if (node.name) {\n            let gather = gatherCompletions[node.name];\n            if (gather && gather(node, def) || ScopeNodes.has(node.name))\n                return false;\n        }\n        else if (node.to - node.from > 8192) {\n            // Allow caching for bigger internal nodes\n            for (let c of getScope(doc, node.node))\n                completions.push(c);\n            return false;\n        }\n    });\n    cache.set(node, completions);\n    return completions;\n}\nconst Identifier = /^[\\w$\\xa1-\\uffff][\\w$\\d\\xa1-\\uffff]*$/;\nconst dontComplete = [\n    \"TemplateString\", \"String\", \"RegExp\",\n    \"LineComment\", \"BlockComment\",\n    \"VariableDefinition\", \"TypeDefinition\", \"Label\",\n    \"PropertyDefinition\", \"PropertyName\",\n    \"PrivatePropertyDefinition\", \"PrivatePropertyName\"\n];\n/**\nCompletion source that looks up locally defined names in\nJavaScript code.\n*/\nfunction localCompletionSource(context) {\n    let inner = syntaxTree(context.state).resolveInner(context.pos, -1);\n    if (dontComplete.indexOf(inner.name) > -1)\n        return null;\n    let isWord = inner.name == \"VariableName\" ||\n        inner.to - inner.from < 20 && Identifier.test(context.state.sliceDoc(inner.from, inner.to));\n    if (!isWord && !context.explicit)\n        return null;\n    let options = [];\n    for (let pos = inner; pos; pos = pos.parent) {\n        if (ScopeNodes.has(pos.name))\n            options = options.concat(getScope(context.state.doc, pos));\n    }\n    return {\n        options,\n        from: isWord ? inner.from : context.pos,\n        validFor: Identifier\n    };\n}\nfunction pathFor(read, member, name) {\n    var _a;\n    let path = [];\n    for (;;) {\n        let obj = member.firstChild, prop;\n        if ((obj === null || obj === void 0 ? void 0 : obj.name) == \"VariableName\") {\n            path.push(read(obj));\n            return { path: path.reverse(), name };\n        }\n        else if ((obj === null || obj === void 0 ? void 0 : obj.name) == \"MemberExpression\" && ((_a = (prop = obj.lastChild)) === null || _a === void 0 ? void 0 : _a.name) == \"PropertyName\") {\n            path.push(read(prop));\n            member = obj;\n        }\n        else {\n            return null;\n        }\n    }\n}\n/**\nHelper function for defining JavaScript completion sources. It\nreturns the completable name and object path for a completion\ncontext, or null if no name/property completion should happen at\nthat position. For example, when completing after `a.b.c` it will\nreturn `{path: [\"a\", \"b\"], name: \"c\"}`. When completing after `x`\nit will return `{path: [], name: \"x\"}`. When not in a property or\nname, it will return null if `context.explicit` is false, and\n`{path: [], name: \"\"}` otherwise.\n*/\nfunction completionPath(context) {\n    let read = (node) => context.state.doc.sliceString(node.from, node.to);\n    let inner = syntaxTree(context.state).resolveInner(context.pos, -1);\n    if (inner.name == \"PropertyName\") {\n        return pathFor(read, inner.parent, read(inner));\n    }\n    else if (dontComplete.indexOf(inner.name) > -1) {\n        return null;\n    }\n    else if (inner.name == \"VariableName\" || inner.to - inner.from < 20 && Identifier.test(read(inner))) {\n        return { path: [], name: read(inner) };\n    }\n    else if ((inner.name == \".\" || inner.name == \"?.\") && inner.parent.name == \"MemberExpression\") {\n        return pathFor(read, inner.parent, \"\");\n    }\n    else if (inner.name == \"MemberExpression\") {\n        return pathFor(read, inner, \"\");\n    }\n    else {\n        return context.explicit ? { path: [], name: \"\" } : null;\n    }\n}\nfunction enumeratePropertyCompletions(obj, top) {\n    let options = [], seen = new Set;\n    for (let depth = 0;; depth++) {\n        for (let name of (Object.getOwnPropertyNames || Object.keys)(obj)) {\n            if (seen.has(name))\n                continue;\n            seen.add(name);\n            let value;\n            try {\n                value = obj[name];\n            }\n            catch (_) {\n                continue;\n            }\n            options.push({\n                label: name,\n                type: typeof value == \"function\" ? (/^[A-Z]/.test(name) ? \"class\" : top ? \"function\" : \"method\")\n                    : top ? \"variable\" : \"property\",\n                boost: -depth\n            });\n        }\n        let next = Object.getPrototypeOf(obj);\n        if (!next)\n            return options;\n        obj = next;\n    }\n}\n/**\nDefines a [completion source](https://codemirror.net/6/docs/ref/#autocomplete.CompletionSource) that\ncompletes from the given scope object (for example `globalThis`).\nWill enter properties of the object when completing properties on\na directly-named path.\n*/\nfunction scopeCompletionSource(scope) {\n    let cache = new Map;\n    return (context) => {\n        let path = completionPath(context);\n        if (!path)\n            return null;\n        let target = scope;\n        for (let step of path.path) {\n            target = target[step];\n            if (!target)\n                return null;\n        }\n        let options = cache.get(target);\n        if (!options)\n            cache.set(target, options = enumeratePropertyCompletions(target, !path.path.length));\n        return {\n            from: context.pos - path.name.length,\n            options,\n            validFor: Identifier\n        };\n    };\n}\n\n/**\nA language provider based on the [Lezer JavaScript\nparser](https://github.com/lezer-parser/javascript), extended with\nhighlighting and indentation information.\n*/\nconst javascriptLanguage = /*@__PURE__*/LRLanguage.define({\n    name: \"javascript\",\n    parser: /*@__PURE__*/parser.configure({\n        props: [\n            /*@__PURE__*/indentNodeProp.add({\n                IfStatement: /*@__PURE__*/continuedIndent({ except: /^\\s*({|else\\b)/ }),\n                TryStatement: /*@__PURE__*/continuedIndent({ except: /^\\s*({|catch\\b|finally\\b)/ }),\n                LabeledStatement: flatIndent,\n                SwitchBody: context => {\n                    let after = context.textAfter, closed = /^\\s*\\}/.test(after), isCase = /^\\s*(case|default)\\b/.test(after);\n                    return context.baseIndent + (closed ? 0 : isCase ? 1 : 2) * context.unit;\n                },\n                Block: /*@__PURE__*/delimitedIndent({ closing: \"}\" }),\n                ArrowFunction: cx => cx.baseIndent + cx.unit,\n                \"TemplateString BlockComment\": () => null,\n                \"Statement Property\": /*@__PURE__*/continuedIndent({ except: /^{/ }),\n                JSXElement(context) {\n                    let closed = /^\\s*<\\//.test(context.textAfter);\n                    return context.lineIndent(context.node.from) + (closed ? 0 : context.unit);\n                },\n                JSXEscape(context) {\n                    let closed = /\\s*\\}/.test(context.textAfter);\n                    return context.lineIndent(context.node.from) + (closed ? 0 : context.unit);\n                },\n                \"JSXOpenTag JSXSelfClosingTag\"(context) {\n                    return context.column(context.node.from) + context.unit;\n                }\n            }),\n            /*@__PURE__*/foldNodeProp.add({\n                \"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType\": foldInside,\n                BlockComment(tree) { return { from: tree.from + 2, to: tree.to - 2 }; }\n            })\n        ]\n    }),\n    languageData: {\n        closeBrackets: { brackets: [\"(\", \"[\", \"{\", \"'\", '\"', \"`\"] },\n        commentTokens: { line: \"//\", block: { open: \"/*\", close: \"*/\" } },\n        indentOnInput: /^\\s*(?:case |default:|\\{|\\}|<\\/)$/,\n        wordChars: \"$\"\n    }\n});\nconst jsxSublanguage = {\n    test: node => /^JSX/.test(node.name),\n    facet: /*@__PURE__*/defineLanguageFacet({ commentTokens: { block: { open: \"{/*\", close: \"*/}\" } } })\n};\n/**\nA language provider for TypeScript.\n*/\nconst typescriptLanguage = /*@__PURE__*/javascriptLanguage.configure({ dialect: \"ts\" }, \"typescript\");\n/**\nLanguage provider for JSX.\n*/\nconst jsxLanguage = /*@__PURE__*/javascriptLanguage.configure({\n    dialect: \"jsx\",\n    props: [/*@__PURE__*/sublanguageProp.add(n => n.isTop ? [jsxSublanguage] : undefined)]\n});\n/**\nLanguage provider for JSX + TypeScript.\n*/\nconst tsxLanguage = /*@__PURE__*/javascriptLanguage.configure({\n    dialect: \"jsx ts\",\n    props: [/*@__PURE__*/sublanguageProp.add(n => n.isTop ? [jsxSublanguage] : undefined)]\n}, \"typescript\");\nconst keywords = /*@__PURE__*/\"break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield\".split(\" \").map(kw => ({ label: kw, type: \"keyword\" }));\n/**\nJavaScript support. Includes [snippet](https://codemirror.net/6/docs/ref/#lang-javascript.snippets)\ncompletion.\n*/\nfunction javascript(config = {}) {\n    let lang = config.jsx ? (config.typescript ? tsxLanguage : jsxLanguage)\n        : config.typescript ? typescriptLanguage : javascriptLanguage;\n    return new LanguageSupport(lang, [\n        javascriptLanguage.data.of({\n            autocomplete: ifNotIn(dontComplete, completeFromList(snippets.concat(keywords)))\n        }),\n        javascriptLanguage.data.of({\n            autocomplete: localCompletionSource\n        }),\n        config.jsx ? autoCloseTags : [],\n    ]);\n}\nfunction findOpenTag(node) {\n    for (;;) {\n        if (node.name == \"JSXOpenTag\" || node.name == \"JSXSelfClosingTag\" || node.name == \"JSXFragmentTag\")\n            return node;\n        if (node.name == \"JSXEscape\" || !node.parent)\n            return null;\n        node = node.parent;\n    }\n}\nfunction elementName(doc, tree, max = doc.length) {\n    for (let ch = tree === null || tree === void 0 ? void 0 : tree.firstChild; ch; ch = ch.nextSibling) {\n        if (ch.name == \"JSXIdentifier\" || ch.name == \"JSXBuiltin\" || ch.name == \"JSXNamespacedName\" ||\n            ch.name == \"JSXMemberExpression\")\n            return doc.sliceString(ch.from, Math.min(ch.to, max));\n    }\n    return \"\";\n}\nfunction isEndTag(node) {\n    return node && (node.name == \"JSXEndTag\" || node.name == \"JSXSelfCloseEndTag\");\n}\nconst android = typeof navigator == \"object\" && /*@__PURE__*//Android\\b/.test(navigator.userAgent);\n/**\nExtension that will automatically insert JSX close tags when a `>` or\n`/` is typed.\n*/\nconst autoCloseTags = /*@__PURE__*/EditorView.inputHandler.of((view, from, to, text) => {\n    if ((android ? view.composing : view.compositionStarted) || view.state.readOnly ||\n        from != to || (text != \">\" && text != \"/\") ||\n        !javascriptLanguage.isActiveAt(view.state, from, -1))\n        return false;\n    let { state } = view;\n    let changes = state.changeByRange(range => {\n        var _a;\n        let { head } = range, around = syntaxTree(state).resolveInner(head, -1), name;\n        if (around.name == \"JSXStartTag\")\n            around = around.parent;\n        if (around.name == \"JSXAttributeValue\" && around.to > head) ;\n        else if (text == \">\" && around.name == \"JSXFragmentTag\") {\n            return { range: EditorSelection.cursor(head + 1), changes: { from: head, insert: `></>` } };\n        }\n        else if (text == \"/\" && around.name == \"JSXFragmentTag\") {\n            let empty = around.parent, base = empty === null || empty === void 0 ? void 0 : empty.parent;\n            if (empty.from == head - 1 && ((_a = base.lastChild) === null || _a === void 0 ? void 0 : _a.name) != \"JSXEndTag\" &&\n                (name = elementName(state.doc, base === null || base === void 0 ? void 0 : base.firstChild, head))) {\n                let insert = `/${name}>`;\n                return { range: EditorSelection.cursor(head + insert.length), changes: { from: head, insert } };\n            }\n        }\n        else if (text == \">\") {\n            let openTag = findOpenTag(around);\n            if (openTag && !isEndTag(openTag.lastChild) &&\n                state.sliceDoc(head, head + 2) != \"</\" &&\n                (name = elementName(state.doc, openTag, head)))\n                return { range: EditorSelection.cursor(head + 1), changes: { from: head, insert: `></${name}>` } };\n        }\n        return { range };\n    });\n    if (changes.changes.empty)\n        return false;\n    view.dispatch(changes, { userEvent: \"input.type\", scrollIntoView: true });\n    return true;\n});\n\n/**\nConnects an [ESLint](https://eslint.org/) linter to CodeMirror's\n[lint](https://codemirror.net/6/docs/ref/#lint) integration. `eslint` should be an instance of the\n[`Linter`](https://eslint.org/docs/developer-guide/nodejs-api#linter)\nclass, and `config` an optional ESLint configuration. The return\nvalue of this function can be passed to [`linter`](https://codemirror.net/6/docs/ref/#lint.linter)\nto create a JavaScript linting extension.\n\nNote that ESLint targets node, and is tricky to run in the\nbrowser. The\n[eslint-linter-browserify](https://github.com/UziTech/eslint-linter-browserify)\npackage may help with that (see\n[example](https://github.com/UziTech/eslint-linter-browserify/blob/master/example/script.js)).\n*/\nfunction esLint(eslint, config) {\n    if (!config) {\n        config = {\n            parserOptions: { ecmaVersion: 2019, sourceType: \"module\" },\n            env: { browser: true, node: true, es6: true, es2015: true, es2017: true, es2020: true },\n            rules: {}\n        };\n        eslint.getRules().forEach((desc, name) => {\n            if (desc.meta.docs.recommended)\n                config.rules[name] = 2;\n        });\n    }\n    return (view) => {\n        let { state } = view, found = [];\n        for (let { from, to } of javascriptLanguage.findRegions(state)) {\n            let fromLine = state.doc.lineAt(from), offset = { line: fromLine.number - 1, col: from - fromLine.from, pos: from };\n            for (let d of eslint.verify(state.sliceDoc(from, to), config))\n                found.push(translateDiagnostic(d, state.doc, offset));\n        }\n        return found;\n    };\n}\nfunction mapPos(line, col, doc, offset) {\n    return doc.line(line + offset.line).from + col + (line == 1 ? offset.col - 1 : -1);\n}\nfunction translateDiagnostic(input, doc, offset) {\n    let start = mapPos(input.line, input.column, doc, offset);\n    let result = {\n        from: start,\n        to: input.endLine != null && input.endColumn != 1 ? mapPos(input.endLine, input.endColumn, doc, offset) : start,\n        message: input.message,\n        source: input.ruleId ? \"eslint:\" + input.ruleId : \"eslint\",\n        severity: input.severity == 1 ? \"warning\" : \"error\",\n    };\n    if (input.fix) {\n        let { range, text } = input.fix, from = range[0] + offset.pos - start, to = range[1] + offset.pos - start;\n        result.actions = [{\n                name: \"fix\",\n                apply(view, start) {\n                    view.dispatch({ changes: { from: start + from, to: start + to, insert: text }, scrollIntoView: true });\n                }\n            }];\n    }\n    return result;\n}\n\nexport { autoCloseTags, completionPath, esLint, javascript, javascriptLanguage, jsxLanguage, localCompletionSource, scopeCompletionSource, snippets, tsxLanguage, typescriptLanguage };\n","import { Annotation, Facet, combineConfig, StateField, EditorSelection, Transaction, ChangeSet, ChangeDesc, StateEffect, Text, findClusterBreak, countColumn, CharCategory } from '@codemirror/state';\nimport { EditorView, Direction } from '@codemirror/view';\nimport { IndentContext, getIndentation, indentString, matchBrackets, syntaxTree, getIndentUnit, indentUnit } from '@codemirror/language';\nimport { NodeProp } from '@lezer/common';\n\n/**\nComment or uncomment the current selection. Will use line comments\nif available, otherwise falling back to block comments.\n*/\nconst toggleComment = target => {\n    let { state } = target, line = state.doc.lineAt(state.selection.main.from), config = getConfig(target.state, line.from);\n    return config.line ? toggleLineComment(target) : config.block ? toggleBlockCommentByLine(target) : false;\n};\nfunction command(f, option) {\n    return ({ state, dispatch }) => {\n        if (state.readOnly)\n            return false;\n        let tr = f(option, state);\n        if (!tr)\n            return false;\n        dispatch(state.update(tr));\n        return true;\n    };\n}\n/**\nComment or uncomment the current selection using line comments.\nThe line comment syntax is taken from the\n[`commentTokens`](https://codemirror.net/6/docs/ref/#commands.CommentTokens) [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt).\n*/\nconst toggleLineComment = /*@__PURE__*/command(changeLineComment, 0 /* CommentOption.Toggle */);\n/**\nComment the current selection using line comments.\n*/\nconst lineComment = /*@__PURE__*/command(changeLineComment, 1 /* CommentOption.Comment */);\n/**\nUncomment the current selection using line comments.\n*/\nconst lineUncomment = /*@__PURE__*/command(changeLineComment, 2 /* CommentOption.Uncomment */);\n/**\nComment or uncomment the current selection using block comments.\nThe block comment syntax is taken from the\n[`commentTokens`](https://codemirror.net/6/docs/ref/#commands.CommentTokens) [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt).\n*/\nconst toggleBlockComment = /*@__PURE__*/command(changeBlockComment, 0 /* CommentOption.Toggle */);\n/**\nComment the current selection using block comments.\n*/\nconst blockComment = /*@__PURE__*/command(changeBlockComment, 1 /* CommentOption.Comment */);\n/**\nUncomment the current selection using block comments.\n*/\nconst blockUncomment = /*@__PURE__*/command(changeBlockComment, 2 /* CommentOption.Uncomment */);\n/**\nComment or uncomment the lines around the current selection using\nblock comments.\n*/\nconst toggleBlockCommentByLine = /*@__PURE__*/command((o, s) => changeBlockComment(o, s, selectedLineRanges(s)), 0 /* CommentOption.Toggle */);\nfunction getConfig(state, pos) {\n    let data = state.languageDataAt(\"commentTokens\", pos);\n    return data.length ? data[0] : {};\n}\nconst SearchMargin = 50;\n/**\nDetermines if the given range is block-commented in the given\nstate.\n*/\nfunction findBlockComment(state, { open, close }, from, to) {\n    let textBefore = state.sliceDoc(from - SearchMargin, from);\n    let textAfter = state.sliceDoc(to, to + SearchMargin);\n    let spaceBefore = /\\s*$/.exec(textBefore)[0].length, spaceAfter = /^\\s*/.exec(textAfter)[0].length;\n    let beforeOff = textBefore.length - spaceBefore;\n    if (textBefore.slice(beforeOff - open.length, beforeOff) == open &&\n        textAfter.slice(spaceAfter, spaceAfter + close.length) == close) {\n        return { open: { pos: from - spaceBefore, margin: spaceBefore && 1 },\n            close: { pos: to + spaceAfter, margin: spaceAfter && 1 } };\n    }\n    let startText, endText;\n    if (to - from <= 2 * SearchMargin) {\n        startText = endText = state.sliceDoc(from, to);\n    }\n    else {\n        startText = state.sliceDoc(from, from + SearchMargin);\n        endText = state.sliceDoc(to - SearchMargin, to);\n    }\n    let startSpace = /^\\s*/.exec(startText)[0].length, endSpace = /\\s*$/.exec(endText)[0].length;\n    let endOff = endText.length - endSpace - close.length;\n    if (startText.slice(startSpace, startSpace + open.length) == open &&\n        endText.slice(endOff, endOff + close.length) == close) {\n        return { open: { pos: from + startSpace + open.length,\n                margin: /\\s/.test(startText.charAt(startSpace + open.length)) ? 1 : 0 },\n            close: { pos: to - endSpace - close.length,\n                margin: /\\s/.test(endText.charAt(endOff - 1)) ? 1 : 0 } };\n    }\n    return null;\n}\nfunction selectedLineRanges(state) {\n    let ranges = [];\n    for (let r of state.selection.ranges) {\n        let fromLine = state.doc.lineAt(r.from);\n        let toLine = r.to <= fromLine.to ? fromLine : state.doc.lineAt(r.to);\n        let last = ranges.length - 1;\n        if (last >= 0 && ranges[last].to > fromLine.from)\n            ranges[last].to = toLine.to;\n        else\n            ranges.push({ from: fromLine.from + /^\\s*/.exec(fromLine.text)[0].length, to: toLine.to });\n    }\n    return ranges;\n}\n// Performs toggle, comment and uncomment of block comments in\n// languages that support them.\nfunction changeBlockComment(option, state, ranges = state.selection.ranges) {\n    let tokens = ranges.map(r => getConfig(state, r.from).block);\n    if (!tokens.every(c => c))\n        return null;\n    let comments = ranges.map((r, i) => findBlockComment(state, tokens[i], r.from, r.to));\n    if (option != 2 /* CommentOption.Uncomment */ && !comments.every(c => c)) {\n        return { changes: state.changes(ranges.map((range, i) => {\n                if (comments[i])\n                    return [];\n                return [{ from: range.from, insert: tokens[i].open + \" \" }, { from: range.to, insert: \" \" + tokens[i].close }];\n            })) };\n    }\n    else if (option != 1 /* CommentOption.Comment */ && comments.some(c => c)) {\n        let changes = [];\n        for (let i = 0, comment; i < comments.length; i++)\n            if (comment = comments[i]) {\n                let token = tokens[i], { open, close } = comment;\n                changes.push({ from: open.pos - token.open.length, to: open.pos + open.margin }, { from: close.pos - close.margin, to: close.pos + token.close.length });\n            }\n        return { changes };\n    }\n    return null;\n}\n// Performs toggle, comment and uncomment of line comments.\nfunction changeLineComment(option, state, ranges = state.selection.ranges) {\n    let lines = [];\n    let prevLine = -1;\n    for (let { from, to } of ranges) {\n        let startI = lines.length, minIndent = 1e9;\n        let token = getConfig(state, from).line;\n        if (!token)\n            continue;\n        for (let pos = from; pos <= to;) {\n            let line = state.doc.lineAt(pos);\n            if (line.from > prevLine && (from == to || to > line.from)) {\n                prevLine = line.from;\n                let indent = /^\\s*/.exec(line.text)[0].length;\n                let empty = indent == line.length;\n                let comment = line.text.slice(indent, indent + token.length) == token ? indent : -1;\n                if (indent < line.text.length && indent < minIndent)\n                    minIndent = indent;\n                lines.push({ line, comment, token, indent, empty, single: false });\n            }\n            pos = line.to + 1;\n        }\n        if (minIndent < 1e9)\n            for (let i = startI; i < lines.length; i++)\n                if (lines[i].indent < lines[i].line.text.length)\n                    lines[i].indent = minIndent;\n        if (lines.length == startI + 1)\n            lines[startI].single = true;\n    }\n    if (option != 2 /* CommentOption.Uncomment */ && lines.some(l => l.comment < 0 && (!l.empty || l.single))) {\n        let changes = [];\n        for (let { line, token, indent, empty, single } of lines)\n            if (single || !empty)\n                changes.push({ from: line.from + indent, insert: token + \" \" });\n        let changeSet = state.changes(changes);\n        return { changes: changeSet, selection: state.selection.map(changeSet, 1) };\n    }\n    else if (option != 1 /* CommentOption.Comment */ && lines.some(l => l.comment >= 0)) {\n        let changes = [];\n        for (let { line, comment, token } of lines)\n            if (comment >= 0) {\n                let from = line.from + comment, to = from + token.length;\n                if (line.text[to - line.from] == \" \")\n                    to++;\n                changes.push({ from, to });\n            }\n        return { changes };\n    }\n    return null;\n}\n\nconst fromHistory = /*@__PURE__*/Annotation.define();\n/**\nTransaction annotation that will prevent that transaction from\nbeing combined with other transactions in the undo history. Given\n`\"before\"`, it'll prevent merging with previous transactions. With\n`\"after\"`, subsequent transactions won't be combined with this\none. With `\"full\"`, the transaction is isolated on both sides.\n*/\nconst isolateHistory = /*@__PURE__*/Annotation.define();\n/**\nThis facet provides a way to register functions that, given a\ntransaction, provide a set of effects that the history should\nstore when inverting the transaction. This can be used to\nintegrate some kinds of effects in the history, so that they can\nbe undone (and redone again).\n*/\nconst invertedEffects = /*@__PURE__*/Facet.define();\nconst historyConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            minDepth: 100,\n            newGroupDelay: 500,\n            joinToEvent: (_t, isAdjacent) => isAdjacent,\n        }, {\n            minDepth: Math.max,\n            newGroupDelay: Math.min,\n            joinToEvent: (a, b) => (tr, adj) => a(tr, adj) || b(tr, adj)\n        });\n    }\n});\nfunction changeEnd(changes) {\n    let end = 0;\n    changes.iterChangedRanges((_, to) => end = to);\n    return end;\n}\nconst historyField_ = /*@__PURE__*/StateField.define({\n    create() {\n        return HistoryState.empty;\n    },\n    update(state, tr) {\n        let config = tr.state.facet(historyConfig);\n        let fromHist = tr.annotation(fromHistory);\n        if (fromHist) {\n            let selection = tr.docChanged ? EditorSelection.single(changeEnd(tr.changes)) : undefined;\n            let item = HistEvent.fromTransaction(tr, selection), from = fromHist.side;\n            let other = from == 0 /* BranchName.Done */ ? state.undone : state.done;\n            if (item)\n                other = updateBranch(other, other.length, config.minDepth, item);\n            else\n                other = addSelection(other, tr.startState.selection);\n            return new HistoryState(from == 0 /* BranchName.Done */ ? fromHist.rest : other, from == 0 /* BranchName.Done */ ? other : fromHist.rest);\n        }\n        let isolate = tr.annotation(isolateHistory);\n        if (isolate == \"full\" || isolate == \"before\")\n            state = state.isolate();\n        if (tr.annotation(Transaction.addToHistory) === false)\n            return !tr.changes.empty ? state.addMapping(tr.changes.desc) : state;\n        let event = HistEvent.fromTransaction(tr);\n        let time = tr.annotation(Transaction.time), userEvent = tr.annotation(Transaction.userEvent);\n        if (event)\n            state = state.addChanges(event, time, userEvent, config, tr);\n        else if (tr.selection)\n            state = state.addSelection(tr.startState.selection, time, userEvent, config.newGroupDelay);\n        if (isolate == \"full\" || isolate == \"after\")\n            state = state.isolate();\n        return state;\n    },\n    toJSON(value) {\n        return { done: value.done.map(e => e.toJSON()), undone: value.undone.map(e => e.toJSON()) };\n    },\n    fromJSON(json) {\n        return new HistoryState(json.done.map(HistEvent.fromJSON), json.undone.map(HistEvent.fromJSON));\n    }\n});\n/**\nCreate a history extension with the given configuration.\n*/\nfunction history(config = {}) {\n    return [\n        historyField_,\n        historyConfig.of(config),\n        EditorView.domEventHandlers({\n            beforeinput(e, view) {\n                let command = e.inputType == \"historyUndo\" ? undo : e.inputType == \"historyRedo\" ? redo : null;\n                if (!command)\n                    return false;\n                e.preventDefault();\n                return command(view);\n            }\n        })\n    ];\n}\n/**\nThe state field used to store the history data. Should probably\nonly be used when you want to\n[serialize](https://codemirror.net/6/docs/ref/#state.EditorState.toJSON) or\n[deserialize](https://codemirror.net/6/docs/ref/#state.EditorState^fromJSON) state objects in a way\nthat preserves history.\n*/\nconst historyField = historyField_;\nfunction cmd(side, selection) {\n    return function ({ state, dispatch }) {\n        if (!selection && state.readOnly)\n            return false;\n        let historyState = state.field(historyField_, false);\n        if (!historyState)\n            return false;\n        let tr = historyState.pop(side, state, selection);\n        if (!tr)\n            return false;\n        dispatch(tr);\n        return true;\n    };\n}\n/**\nUndo a single group of history events. Returns false if no group\nwas available.\n*/\nconst undo = /*@__PURE__*/cmd(0 /* BranchName.Done */, false);\n/**\nRedo a group of history events. Returns false if no group was\navailable.\n*/\nconst redo = /*@__PURE__*/cmd(1 /* BranchName.Undone */, false);\n/**\nUndo a change or selection change.\n*/\nconst undoSelection = /*@__PURE__*/cmd(0 /* BranchName.Done */, true);\n/**\nRedo a change or selection change.\n*/\nconst redoSelection = /*@__PURE__*/cmd(1 /* BranchName.Undone */, true);\nfunction depth(side) {\n    return function (state) {\n        let histState = state.field(historyField_, false);\n        if (!histState)\n            return 0;\n        let branch = side == 0 /* BranchName.Done */ ? histState.done : histState.undone;\n        return branch.length - (branch.length && !branch[0].changes ? 1 : 0);\n    };\n}\n/**\nThe amount of undoable change events available in a given state.\n*/\nconst undoDepth = /*@__PURE__*/depth(0 /* BranchName.Done */);\n/**\nThe amount of redoable change events available in a given state.\n*/\nconst redoDepth = /*@__PURE__*/depth(1 /* BranchName.Undone */);\n// History events store groups of changes or effects that need to be\n// undone/redone together.\nclass HistEvent {\n    constructor(\n    // The changes in this event. Normal events hold at least one\n    // change or effect. But it may be necessary to store selection\n    // events before the first change, in which case a special type of\n    // instance is created which doesn't hold any changes, with\n    // changes == startSelection == undefined\n    changes, \n    // The effects associated with this event\n    effects, \n    // Accumulated mapping (from addToHistory==false) that should be\n    // applied to events below this one.\n    mapped, \n    // The selection before this event\n    startSelection, \n    // Stores selection changes after this event, to be used for\n    // selection undo/redo.\n    selectionsAfter) {\n        this.changes = changes;\n        this.effects = effects;\n        this.mapped = mapped;\n        this.startSelection = startSelection;\n        this.selectionsAfter = selectionsAfter;\n    }\n    setSelAfter(after) {\n        return new HistEvent(this.changes, this.effects, this.mapped, this.startSelection, after);\n    }\n    toJSON() {\n        var _a, _b, _c;\n        return {\n            changes: (_a = this.changes) === null || _a === void 0 ? void 0 : _a.toJSON(),\n            mapped: (_b = this.mapped) === null || _b === void 0 ? void 0 : _b.toJSON(),\n            startSelection: (_c = this.startSelection) === null || _c === void 0 ? void 0 : _c.toJSON(),\n            selectionsAfter: this.selectionsAfter.map(s => s.toJSON())\n        };\n    }\n    static fromJSON(json) {\n        return new HistEvent(json.changes && ChangeSet.fromJSON(json.changes), [], json.mapped && ChangeDesc.fromJSON(json.mapped), json.startSelection && EditorSelection.fromJSON(json.startSelection), json.selectionsAfter.map(EditorSelection.fromJSON));\n    }\n    // This does not check `addToHistory` and such, it assumes the\n    // transaction needs to be converted to an item. Returns null when\n    // there are no changes or effects in the transaction.\n    static fromTransaction(tr, selection) {\n        let effects = none;\n        for (let invert of tr.startState.facet(invertedEffects)) {\n            let result = invert(tr);\n            if (result.length)\n                effects = effects.concat(result);\n        }\n        if (!effects.length && tr.changes.empty)\n            return null;\n        return new HistEvent(tr.changes.invert(tr.startState.doc), effects, undefined, selection || tr.startState.selection, none);\n    }\n    static selection(selections) {\n        return new HistEvent(undefined, none, undefined, undefined, selections);\n    }\n}\nfunction updateBranch(branch, to, maxLen, newEvent) {\n    let start = to + 1 > maxLen + 20 ? to - maxLen - 1 : 0;\n    let newBranch = branch.slice(start, to);\n    newBranch.push(newEvent);\n    return newBranch;\n}\nfunction isAdjacent(a, b) {\n    let ranges = [], isAdjacent = false;\n    a.iterChangedRanges((f, t) => ranges.push(f, t));\n    b.iterChangedRanges((_f, _t, f, t) => {\n        for (let i = 0; i < ranges.length;) {\n            let from = ranges[i++], to = ranges[i++];\n            if (t >= from && f <= to)\n                isAdjacent = true;\n        }\n    });\n    return isAdjacent;\n}\nfunction eqSelectionShape(a, b) {\n    return a.ranges.length == b.ranges.length &&\n        a.ranges.filter((r, i) => r.empty != b.ranges[i].empty).length === 0;\n}\nfunction conc(a, b) {\n    return !a.length ? b : !b.length ? a : a.concat(b);\n}\nconst none = [];\nconst MaxSelectionsPerEvent = 200;\nfunction addSelection(branch, selection) {\n    if (!branch.length) {\n        return [HistEvent.selection([selection])];\n    }\n    else {\n        let lastEvent = branch[branch.length - 1];\n        let sels = lastEvent.selectionsAfter.slice(Math.max(0, lastEvent.selectionsAfter.length - MaxSelectionsPerEvent));\n        if (sels.length && sels[sels.length - 1].eq(selection))\n            return branch;\n        sels.push(selection);\n        return updateBranch(branch, branch.length - 1, 1e9, lastEvent.setSelAfter(sels));\n    }\n}\n// Assumes the top item has one or more selectionAfter values\nfunction popSelection(branch) {\n    let last = branch[branch.length - 1];\n    let newBranch = branch.slice();\n    newBranch[branch.length - 1] = last.setSelAfter(last.selectionsAfter.slice(0, last.selectionsAfter.length - 1));\n    return newBranch;\n}\n// Add a mapping to the top event in the given branch. If this maps\n// away all the changes and effects in that item, drop it and\n// propagate the mapping to the next item.\nfunction addMappingToBranch(branch, mapping) {\n    if (!branch.length)\n        return branch;\n    let length = branch.length, selections = none;\n    while (length) {\n        let event = mapEvent(branch[length - 1], mapping, selections);\n        if (event.changes && !event.changes.empty || event.effects.length) { // Event survived mapping\n            let result = branch.slice(0, length);\n            result[length - 1] = event;\n            return result;\n        }\n        else { // Drop this event, since there's no changes or effects left\n            mapping = event.mapped;\n            length--;\n            selections = event.selectionsAfter;\n        }\n    }\n    return selections.length ? [HistEvent.selection(selections)] : none;\n}\nfunction mapEvent(event, mapping, extraSelections) {\n    let selections = conc(event.selectionsAfter.length ? event.selectionsAfter.map(s => s.map(mapping)) : none, extraSelections);\n    // Change-less events don't store mappings (they are always the last event in a branch)\n    if (!event.changes)\n        return HistEvent.selection(selections);\n    let mappedChanges = event.changes.map(mapping), before = mapping.mapDesc(event.changes, true);\n    let fullMapping = event.mapped ? event.mapped.composeDesc(before) : before;\n    return new HistEvent(mappedChanges, StateEffect.mapEffects(event.effects, mapping), fullMapping, event.startSelection.map(before), selections);\n}\nconst joinableUserEvent = /^(input\\.type|delete)($|\\.)/;\nclass HistoryState {\n    constructor(done, undone, prevTime = 0, prevUserEvent = undefined) {\n        this.done = done;\n        this.undone = undone;\n        this.prevTime = prevTime;\n        this.prevUserEvent = prevUserEvent;\n    }\n    isolate() {\n        return this.prevTime ? new HistoryState(this.done, this.undone) : this;\n    }\n    addChanges(event, time, userEvent, config, tr) {\n        let done = this.done, lastEvent = done[done.length - 1];\n        if (lastEvent && lastEvent.changes && !lastEvent.changes.empty && event.changes &&\n            (!userEvent || joinableUserEvent.test(userEvent)) &&\n            ((!lastEvent.selectionsAfter.length &&\n                time - this.prevTime < config.newGroupDelay &&\n                config.joinToEvent(tr, isAdjacent(lastEvent.changes, event.changes))) ||\n                // For compose (but not compose.start) events, always join with previous event\n                userEvent == \"input.type.compose\")) {\n            done = updateBranch(done, done.length - 1, config.minDepth, new HistEvent(event.changes.compose(lastEvent.changes), conc(event.effects, lastEvent.effects), lastEvent.mapped, lastEvent.startSelection, none));\n        }\n        else {\n            done = updateBranch(done, done.length, config.minDepth, event);\n        }\n        return new HistoryState(done, none, time, userEvent);\n    }\n    addSelection(selection, time, userEvent, newGroupDelay) {\n        let last = this.done.length ? this.done[this.done.length - 1].selectionsAfter : none;\n        if (last.length > 0 &&\n            time - this.prevTime < newGroupDelay &&\n            userEvent == this.prevUserEvent && userEvent && /^select($|\\.)/.test(userEvent) &&\n            eqSelectionShape(last[last.length - 1], selection))\n            return this;\n        return new HistoryState(addSelection(this.done, selection), this.undone, time, userEvent);\n    }\n    addMapping(mapping) {\n        return new HistoryState(addMappingToBranch(this.done, mapping), addMappingToBranch(this.undone, mapping), this.prevTime, this.prevUserEvent);\n    }\n    pop(side, state, selection) {\n        let branch = side == 0 /* BranchName.Done */ ? this.done : this.undone;\n        if (branch.length == 0)\n            return null;\n        let event = branch[branch.length - 1];\n        if (selection && event.selectionsAfter.length) {\n            return state.update({\n                selection: event.selectionsAfter[event.selectionsAfter.length - 1],\n                annotations: fromHistory.of({ side, rest: popSelection(branch) }),\n                userEvent: side == 0 /* BranchName.Done */ ? \"select.undo\" : \"select.redo\",\n                scrollIntoView: true\n            });\n        }\n        else if (!event.changes) {\n            return null;\n        }\n        else {\n            let rest = branch.length == 1 ? none : branch.slice(0, branch.length - 1);\n            if (event.mapped)\n                rest = addMappingToBranch(rest, event.mapped);\n            return state.update({\n                changes: event.changes,\n                selection: event.startSelection,\n                effects: event.effects,\n                annotations: fromHistory.of({ side, rest }),\n                filter: false,\n                userEvent: side == 0 /* BranchName.Done */ ? \"undo\" : \"redo\",\n                scrollIntoView: true\n            });\n        }\n    }\n}\nHistoryState.empty = /*@__PURE__*/new HistoryState(none, none);\n/**\nDefault key bindings for the undo history.\n\n- Mod-z: [`undo`](https://codemirror.net/6/docs/ref/#commands.undo).\n- Mod-y (Mod-Shift-z on macOS) + Ctrl-Shift-z on Linux: [`redo`](https://codemirror.net/6/docs/ref/#commands.redo).\n- Mod-u: [`undoSelection`](https://codemirror.net/6/docs/ref/#commands.undoSelection).\n- Alt-u (Mod-Shift-u on macOS): [`redoSelection`](https://codemirror.net/6/docs/ref/#commands.redoSelection).\n*/\nconst historyKeymap = [\n    { key: \"Mod-z\", run: undo, preventDefault: true },\n    { key: \"Mod-y\", mac: \"Mod-Shift-z\", run: redo, preventDefault: true },\n    { linux: \"Ctrl-Shift-z\", run: redo, preventDefault: true },\n    { key: \"Mod-u\", run: undoSelection, preventDefault: true },\n    { key: \"Alt-u\", mac: \"Mod-Shift-u\", run: redoSelection, preventDefault: true }\n];\n\nfunction updateSel(sel, by) {\n    return EditorSelection.create(sel.ranges.map(by), sel.mainIndex);\n}\nfunction setSel(state, selection) {\n    return state.update({ selection, scrollIntoView: true, userEvent: \"select\" });\n}\nfunction moveSel({ state, dispatch }, how) {\n    let selection = updateSel(state.selection, how);\n    if (selection.eq(state.selection))\n        return false;\n    dispatch(setSel(state, selection));\n    return true;\n}\nfunction rangeEnd(range, forward) {\n    return EditorSelection.cursor(forward ? range.to : range.from);\n}\nfunction cursorByChar(view, forward) {\n    return moveSel(view, range => range.empty ? view.moveByChar(range, forward) : rangeEnd(range, forward));\n}\nfunction ltrAtCursor(view) {\n    return view.textDirectionAt(view.state.selection.main.head) == Direction.LTR;\n}\n/**\nMove the selection one character to the left (which is backward in\nleft-to-right text, forward in right-to-left text).\n*/\nconst cursorCharLeft = view => cursorByChar(view, !ltrAtCursor(view));\n/**\nMove the selection one character to the right.\n*/\nconst cursorCharRight = view => cursorByChar(view, ltrAtCursor(view));\n/**\nMove the selection one character forward.\n*/\nconst cursorCharForward = view => cursorByChar(view, true);\n/**\nMove the selection one character backward.\n*/\nconst cursorCharBackward = view => cursorByChar(view, false);\nfunction cursorByGroup(view, forward) {\n    return moveSel(view, range => range.empty ? view.moveByGroup(range, forward) : rangeEnd(range, forward));\n}\n/**\nMove the selection to the left across one group of word or\nnon-word (but also non-space) characters.\n*/\nconst cursorGroupLeft = view => cursorByGroup(view, !ltrAtCursor(view));\n/**\nMove the selection one group to the right.\n*/\nconst cursorGroupRight = view => cursorByGroup(view, ltrAtCursor(view));\n/**\nMove the selection one group forward.\n*/\nconst cursorGroupForward = view => cursorByGroup(view, true);\n/**\nMove the selection one group backward.\n*/\nconst cursorGroupBackward = view => cursorByGroup(view, false);\nfunction moveBySubword(view, range, forward) {\n    let categorize = view.state.charCategorizer(range.from);\n    return view.moveByChar(range, forward, start => {\n        let cat = CharCategory.Space, pos = range.from;\n        let done = false, sawUpper = false, sawLower = false;\n        let step = (next) => {\n            if (done)\n                return false;\n            pos += forward ? next.length : -next.length;\n            let nextCat = categorize(next), ahead;\n            if (nextCat == CharCategory.Word && next.charCodeAt(0) < 128 && /[\\W_]/.test(next))\n                nextCat = -1; // Treat word punctuation specially\n            if (cat == CharCategory.Space)\n                cat = nextCat;\n            if (cat != nextCat)\n                return false;\n            if (cat == CharCategory.Word) {\n                if (next.toLowerCase() == next) {\n                    if (!forward && sawUpper)\n                        return false;\n                    sawLower = true;\n                }\n                else if (sawLower) {\n                    if (forward)\n                        return false;\n                    done = true;\n                }\n                else {\n                    if (sawUpper && forward && categorize(ahead = view.state.sliceDoc(pos, pos + 1)) == CharCategory.Word &&\n                        ahead.toLowerCase() == ahead)\n                        return false;\n                    sawUpper = true;\n                }\n            }\n            return true;\n        };\n        step(start);\n        return step;\n    });\n}\nfunction cursorBySubword(view, forward) {\n    return moveSel(view, range => range.empty ? moveBySubword(view, range, forward) : rangeEnd(range, forward));\n}\n/**\nMove the selection one group or camel-case subword forward.\n*/\nconst cursorSubwordForward = view => cursorBySubword(view, true);\n/**\nMove the selection one group or camel-case subword backward.\n*/\nconst cursorSubwordBackward = view => cursorBySubword(view, false);\nfunction interestingNode(state, node, bracketProp) {\n    if (node.type.prop(bracketProp))\n        return true;\n    let len = node.to - node.from;\n    return len && (len > 2 || /[^\\s,.;:]/.test(state.sliceDoc(node.from, node.to))) || node.firstChild;\n}\nfunction moveBySyntax(state, start, forward) {\n    let pos = syntaxTree(state).resolveInner(start.head);\n    let bracketProp = forward ? NodeProp.closedBy : NodeProp.openedBy;\n    // Scan forward through child nodes to see if there's an interesting\n    // node ahead.\n    for (let at = start.head;;) {\n        let next = forward ? pos.childAfter(at) : pos.childBefore(at);\n        if (!next)\n            break;\n        if (interestingNode(state, next, bracketProp))\n            pos = next;\n        else\n            at = forward ? next.to : next.from;\n    }\n    let bracket = pos.type.prop(bracketProp), match, newPos;\n    if (bracket && (match = forward ? matchBrackets(state, pos.from, 1) : matchBrackets(state, pos.to, -1)) && match.matched)\n        newPos = forward ? match.end.to : match.end.from;\n    else\n        newPos = forward ? pos.to : pos.from;\n    return EditorSelection.cursor(newPos, forward ? -1 : 1);\n}\n/**\nMove the cursor over the next syntactic element to the left.\n*/\nconst cursorSyntaxLeft = view => moveSel(view, range => moveBySyntax(view.state, range, !ltrAtCursor(view)));\n/**\nMove the cursor over the next syntactic element to the right.\n*/\nconst cursorSyntaxRight = view => moveSel(view, range => moveBySyntax(view.state, range, ltrAtCursor(view)));\nfunction cursorByLine(view, forward) {\n    return moveSel(view, range => {\n        if (!range.empty)\n            return rangeEnd(range, forward);\n        let moved = view.moveVertically(range, forward);\n        return moved.head != range.head ? moved : view.moveToLineBoundary(range, forward);\n    });\n}\n/**\nMove the selection one line up.\n*/\nconst cursorLineUp = view => cursorByLine(view, false);\n/**\nMove the selection one line down.\n*/\nconst cursorLineDown = view => cursorByLine(view, true);\nfunction pageInfo(view) {\n    let selfScroll = view.scrollDOM.clientHeight < view.scrollDOM.scrollHeight - 2;\n    let marginTop = 0, marginBottom = 0, height;\n    if (selfScroll) {\n        for (let source of view.state.facet(EditorView.scrollMargins)) {\n            let margins = source(view);\n            if (margins === null || margins === void 0 ? void 0 : margins.top)\n                marginTop = Math.max(margins === null || margins === void 0 ? void 0 : margins.top, marginTop);\n            if (margins === null || margins === void 0 ? void 0 : margins.bottom)\n                marginBottom = Math.max(margins === null || margins === void 0 ? void 0 : margins.bottom, marginBottom);\n        }\n        height = view.scrollDOM.clientHeight - marginTop - marginBottom;\n    }\n    else {\n        height = (view.dom.ownerDocument.defaultView || window).innerHeight;\n    }\n    return { marginTop, marginBottom, selfScroll,\n        height: Math.max(view.defaultLineHeight, height - 5) };\n}\nfunction cursorByPage(view, forward) {\n    let page = pageInfo(view);\n    let { state } = view, selection = updateSel(state.selection, range => {\n        return range.empty ? view.moveVertically(range, forward, page.height)\n            : rangeEnd(range, forward);\n    });\n    if (selection.eq(state.selection))\n        return false;\n    let effect;\n    if (page.selfScroll) {\n        let startPos = view.coordsAtPos(state.selection.main.head);\n        let scrollRect = view.scrollDOM.getBoundingClientRect();\n        let scrollTop = scrollRect.top + page.marginTop, scrollBottom = scrollRect.bottom - page.marginBottom;\n        if (startPos && startPos.top > scrollTop && startPos.bottom < scrollBottom)\n            effect = EditorView.scrollIntoView(selection.main.head, { y: \"start\", yMargin: startPos.top - scrollTop });\n    }\n    view.dispatch(setSel(state, selection), { effects: effect });\n    return true;\n}\n/**\nMove the selection one page up.\n*/\nconst cursorPageUp = view => cursorByPage(view, false);\n/**\nMove the selection one page down.\n*/\nconst cursorPageDown = view => cursorByPage(view, true);\nfunction moveByLineBoundary(view, start, forward) {\n    let line = view.lineBlockAt(start.head), moved = view.moveToLineBoundary(start, forward);\n    if (moved.head == start.head && moved.head != (forward ? line.to : line.from))\n        moved = view.moveToLineBoundary(start, forward, false);\n    if (!forward && moved.head == line.from && line.length) {\n        let space = /^\\s*/.exec(view.state.sliceDoc(line.from, Math.min(line.from + 100, line.to)))[0].length;\n        if (space && start.head != line.from + space)\n            moved = EditorSelection.cursor(line.from + space);\n    }\n    return moved;\n}\n/**\nMove the selection to the next line wrap point, or to the end of\nthe line if there isn't one left on this line.\n*/\nconst cursorLineBoundaryForward = view => moveSel(view, range => moveByLineBoundary(view, range, true));\n/**\nMove the selection to previous line wrap point, or failing that to\nthe start of the line. If the line is indented, and the cursor\nisn't already at the end of the indentation, this will move to the\nend of the indentation instead of the start of the line.\n*/\nconst cursorLineBoundaryBackward = view => moveSel(view, range => moveByLineBoundary(view, range, false));\n/**\nMove the selection one line wrap point to the left.\n*/\nconst cursorLineBoundaryLeft = view => moveSel(view, range => moveByLineBoundary(view, range, !ltrAtCursor(view)));\n/**\nMove the selection one line wrap point to the right.\n*/\nconst cursorLineBoundaryRight = view => moveSel(view, range => moveByLineBoundary(view, range, ltrAtCursor(view)));\n/**\nMove the selection to the start of the line.\n*/\nconst cursorLineStart = view => moveSel(view, range => EditorSelection.cursor(view.lineBlockAt(range.head).from, 1));\n/**\nMove the selection to the end of the line.\n*/\nconst cursorLineEnd = view => moveSel(view, range => EditorSelection.cursor(view.lineBlockAt(range.head).to, -1));\nfunction toMatchingBracket(state, dispatch, extend) {\n    let found = false, selection = updateSel(state.selection, range => {\n        let matching = matchBrackets(state, range.head, -1)\n            || matchBrackets(state, range.head, 1)\n            || (range.head > 0 && matchBrackets(state, range.head - 1, 1))\n            || (range.head < state.doc.length && matchBrackets(state, range.head + 1, -1));\n        if (!matching || !matching.end)\n            return range;\n        found = true;\n        let head = matching.start.from == range.head ? matching.end.to : matching.end.from;\n        return extend ? EditorSelection.range(range.anchor, head) : EditorSelection.cursor(head);\n    });\n    if (!found)\n        return false;\n    dispatch(setSel(state, selection));\n    return true;\n}\n/**\nMove the selection to the bracket matching the one it is currently\non, if any.\n*/\nconst cursorMatchingBracket = ({ state, dispatch }) => toMatchingBracket(state, dispatch, false);\n/**\nExtend the selection to the bracket matching the one the selection\nhead is currently on, if any.\n*/\nconst selectMatchingBracket = ({ state, dispatch }) => toMatchingBracket(state, dispatch, true);\nfunction extendSel(view, how) {\n    let selection = updateSel(view.state.selection, range => {\n        let head = how(range);\n        return EditorSelection.range(range.anchor, head.head, head.goalColumn, head.bidiLevel || undefined);\n    });\n    if (selection.eq(view.state.selection))\n        return false;\n    view.dispatch(setSel(view.state, selection));\n    return true;\n}\nfunction selectByChar(view, forward) {\n    return extendSel(view, range => view.moveByChar(range, forward));\n}\n/**\nMove the selection head one character to the left, while leaving\nthe anchor in place.\n*/\nconst selectCharLeft = view => selectByChar(view, !ltrAtCursor(view));\n/**\nMove the selection head one character to the right.\n*/\nconst selectCharRight = view => selectByChar(view, ltrAtCursor(view));\n/**\nMove the selection head one character forward.\n*/\nconst selectCharForward = view => selectByChar(view, true);\n/**\nMove the selection head one character backward.\n*/\nconst selectCharBackward = view => selectByChar(view, false);\nfunction selectByGroup(view, forward) {\n    return extendSel(view, range => view.moveByGroup(range, forward));\n}\n/**\nMove the selection head one [group](https://codemirror.net/6/docs/ref/#commands.cursorGroupLeft) to\nthe left.\n*/\nconst selectGroupLeft = view => selectByGroup(view, !ltrAtCursor(view));\n/**\nMove the selection head one group to the right.\n*/\nconst selectGroupRight = view => selectByGroup(view, ltrAtCursor(view));\n/**\nMove the selection head one group forward.\n*/\nconst selectGroupForward = view => selectByGroup(view, true);\n/**\nMove the selection head one group backward.\n*/\nconst selectGroupBackward = view => selectByGroup(view, false);\nfunction selectBySubword(view, forward) {\n    return extendSel(view, range => moveBySubword(view, range, forward));\n}\n/**\nMove the selection head one group or camel-case subword forward.\n*/\nconst selectSubwordForward = view => selectBySubword(view, true);\n/**\nMove the selection head one group or subword backward.\n*/\nconst selectSubwordBackward = view => selectBySubword(view, false);\n/**\nMove the selection head over the next syntactic element to the left.\n*/\nconst selectSyntaxLeft = view => extendSel(view, range => moveBySyntax(view.state, range, !ltrAtCursor(view)));\n/**\nMove the selection head over the next syntactic element to the right.\n*/\nconst selectSyntaxRight = view => extendSel(view, range => moveBySyntax(view.state, range, ltrAtCursor(view)));\nfunction selectByLine(view, forward) {\n    return extendSel(view, range => view.moveVertically(range, forward));\n}\n/**\nMove the selection head one line up.\n*/\nconst selectLineUp = view => selectByLine(view, false);\n/**\nMove the selection head one line down.\n*/\nconst selectLineDown = view => selectByLine(view, true);\nfunction selectByPage(view, forward) {\n    return extendSel(view, range => view.moveVertically(range, forward, pageInfo(view).height));\n}\n/**\nMove the selection head one page up.\n*/\nconst selectPageUp = view => selectByPage(view, false);\n/**\nMove the selection head one page down.\n*/\nconst selectPageDown = view => selectByPage(view, true);\n/**\nMove the selection head to the next line boundary.\n*/\nconst selectLineBoundaryForward = view => extendSel(view, range => moveByLineBoundary(view, range, true));\n/**\nMove the selection head to the previous line boundary.\n*/\nconst selectLineBoundaryBackward = view => extendSel(view, range => moveByLineBoundary(view, range, false));\n/**\nMove the selection head one line boundary to the left.\n*/\nconst selectLineBoundaryLeft = view => extendSel(view, range => moveByLineBoundary(view, range, !ltrAtCursor(view)));\n/**\nMove the selection head one line boundary to the right.\n*/\nconst selectLineBoundaryRight = view => extendSel(view, range => moveByLineBoundary(view, range, ltrAtCursor(view)));\n/**\nMove the selection head to the start of the line.\n*/\nconst selectLineStart = view => extendSel(view, range => EditorSelection.cursor(view.lineBlockAt(range.head).from));\n/**\nMove the selection head to the end of the line.\n*/\nconst selectLineEnd = view => extendSel(view, range => EditorSelection.cursor(view.lineBlockAt(range.head).to));\n/**\nMove the selection to the start of the document.\n*/\nconst cursorDocStart = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: 0 }));\n    return true;\n};\n/**\nMove the selection to the end of the document.\n*/\nconst cursorDocEnd = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: state.doc.length }));\n    return true;\n};\n/**\nMove the selection head to the start of the document.\n*/\nconst selectDocStart = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: state.selection.main.anchor, head: 0 }));\n    return true;\n};\n/**\nMove the selection head to the end of the document.\n*/\nconst selectDocEnd = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: state.selection.main.anchor, head: state.doc.length }));\n    return true;\n};\n/**\nSelect the entire document.\n*/\nconst selectAll = ({ state, dispatch }) => {\n    dispatch(state.update({ selection: { anchor: 0, head: state.doc.length }, userEvent: \"select\" }));\n    return true;\n};\n/**\nExpand the selection to cover entire lines.\n*/\nconst selectLine = ({ state, dispatch }) => {\n    let ranges = selectedLineBlocks(state).map(({ from, to }) => EditorSelection.range(from, Math.min(to + 1, state.doc.length)));\n    dispatch(state.update({ selection: EditorSelection.create(ranges), userEvent: \"select\" }));\n    return true;\n};\n/**\nSelect the next syntactic construct that is larger than the\nselection. Note that this will only work insofar as the language\n[provider](https://codemirror.net/6/docs/ref/#language.language) you use builds up a full\nsyntax tree.\n*/\nconst selectParentSyntax = ({ state, dispatch }) => {\n    let selection = updateSel(state.selection, range => {\n        var _a;\n        let context = syntaxTree(state).resolveInner(range.head, 1);\n        while (!((context.from < range.from && context.to >= range.to) ||\n            (context.to > range.to && context.from <= range.from) ||\n            !((_a = context.parent) === null || _a === void 0 ? void 0 : _a.parent)))\n            context = context.parent;\n        return EditorSelection.range(context.to, context.from);\n    });\n    dispatch(setSel(state, selection));\n    return true;\n};\n/**\nSimplify the current selection. When multiple ranges are selected,\nreduce it to its main range. Otherwise, if the selection is\nnon-empty, convert it to a cursor selection.\n*/\nconst simplifySelection = ({ state, dispatch }) => {\n    let cur = state.selection, selection = null;\n    if (cur.ranges.length > 1)\n        selection = EditorSelection.create([cur.main]);\n    else if (!cur.main.empty)\n        selection = EditorSelection.create([EditorSelection.cursor(cur.main.head)]);\n    if (!selection)\n        return false;\n    dispatch(setSel(state, selection));\n    return true;\n};\nfunction deleteBy(target, by) {\n    if (target.state.readOnly)\n        return false;\n    let event = \"delete.selection\", { state } = target;\n    let changes = state.changeByRange(range => {\n        let { from, to } = range;\n        if (from == to) {\n            let towards = by(from);\n            if (towards < from) {\n                event = \"delete.backward\";\n                towards = skipAtomic(target, towards, false);\n            }\n            else if (towards > from) {\n                event = \"delete.forward\";\n                towards = skipAtomic(target, towards, true);\n            }\n            from = Math.min(from, towards);\n            to = Math.max(to, towards);\n        }\n        else {\n            from = skipAtomic(target, from, false);\n            to = skipAtomic(target, to, true);\n        }\n        return from == to ? { range } : { changes: { from, to }, range: EditorSelection.cursor(from) };\n    });\n    if (changes.changes.empty)\n        return false;\n    target.dispatch(state.update(changes, {\n        scrollIntoView: true,\n        userEvent: event,\n        effects: event == \"delete.selection\" ? EditorView.announce.of(state.phrase(\"Selection deleted\")) : undefined\n    }));\n    return true;\n}\nfunction skipAtomic(target, pos, forward) {\n    if (target instanceof EditorView)\n        for (let ranges of target.state.facet(EditorView.atomicRanges).map(f => f(target)))\n            ranges.between(pos, pos, (from, to) => {\n                if (from < pos && to > pos)\n                    pos = forward ? to : from;\n            });\n    return pos;\n}\nconst deleteByChar = (target, forward) => deleteBy(target, pos => {\n    let { state } = target, line = state.doc.lineAt(pos), before, targetPos;\n    if (!forward && pos > line.from && pos < line.from + 200 &&\n        !/[^ \\t]/.test(before = line.text.slice(0, pos - line.from))) {\n        if (before[before.length - 1] == \"\\t\")\n            return pos - 1;\n        let col = countColumn(before, state.tabSize), drop = col % getIndentUnit(state) || getIndentUnit(state);\n        for (let i = 0; i < drop && before[before.length - 1 - i] == \" \"; i++)\n            pos--;\n        targetPos = pos;\n    }\n    else {\n        targetPos = findClusterBreak(line.text, pos - line.from, forward, forward) + line.from;\n        if (targetPos == pos && line.number != (forward ? state.doc.lines : 1))\n            targetPos += forward ? 1 : -1;\n    }\n    return targetPos;\n});\n/**\nDelete the selection, or, for cursor selections, the character\nbefore the cursor.\n*/\nconst deleteCharBackward = view => deleteByChar(view, false);\n/**\nDelete the selection or the character after the cursor.\n*/\nconst deleteCharForward = view => deleteByChar(view, true);\nconst deleteByGroup = (target, forward) => deleteBy(target, start => {\n    let pos = start, { state } = target, line = state.doc.lineAt(pos);\n    let categorize = state.charCategorizer(pos);\n    for (let cat = null;;) {\n        if (pos == (forward ? line.to : line.from)) {\n            if (pos == start && line.number != (forward ? state.doc.lines : 1))\n                pos += forward ? 1 : -1;\n            break;\n        }\n        let next = findClusterBreak(line.text, pos - line.from, forward) + line.from;\n        let nextChar = line.text.slice(Math.min(pos, next) - line.from, Math.max(pos, next) - line.from);\n        let nextCat = categorize(nextChar);\n        if (cat != null && nextCat != cat)\n            break;\n        if (nextChar != \" \" || pos != start)\n            cat = nextCat;\n        pos = next;\n    }\n    return pos;\n});\n/**\nDelete the selection or backward until the end of the next\n[group](https://codemirror.net/6/docs/ref/#view.EditorView.moveByGroup), only skipping groups of\nwhitespace when they consist of a single space.\n*/\nconst deleteGroupBackward = target => deleteByGroup(target, false);\n/**\nDelete the selection or forward until the end of the next group.\n*/\nconst deleteGroupForward = target => deleteByGroup(target, true);\n/**\nDelete the selection, or, if it is a cursor selection, delete to\nthe end of the line. If the cursor is directly at the end of the\nline, delete the line break after it.\n*/\nconst deleteToLineEnd = view => deleteBy(view, pos => {\n    let lineEnd = view.lineBlockAt(pos).to;\n    return pos < lineEnd ? lineEnd : Math.min(view.state.doc.length, pos + 1);\n});\n/**\nDelete the selection, or, if it is a cursor selection, delete to\nthe start of the line. If the cursor is directly at the start of the\nline, delete the line break before it.\n*/\nconst deleteToLineStart = view => deleteBy(view, pos => {\n    let lineStart = view.lineBlockAt(pos).from;\n    return pos > lineStart ? lineStart : Math.max(0, pos - 1);\n});\n/**\nDelete all whitespace directly before a line end from the\ndocument.\n*/\nconst deleteTrailingWhitespace = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let changes = [];\n    for (let pos = 0, prev = \"\", iter = state.doc.iter();;) {\n        iter.next();\n        if (iter.lineBreak || iter.done) {\n            let trailing = prev.search(/\\s+$/);\n            if (trailing > -1)\n                changes.push({ from: pos - (prev.length - trailing), to: pos });\n            if (iter.done)\n                break;\n            prev = \"\";\n        }\n        else {\n            prev = iter.value;\n        }\n        pos += iter.value.length;\n    }\n    if (!changes.length)\n        return false;\n    dispatch(state.update({ changes, userEvent: \"delete\" }));\n    return true;\n};\n/**\nReplace each selection range with a line break, leaving the cursor\non the line before the break.\n*/\nconst splitLine = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let changes = state.changeByRange(range => {\n        return { changes: { from: range.from, to: range.to, insert: Text.of([\"\", \"\"]) },\n            range: EditorSelection.cursor(range.from) };\n    });\n    dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"input\" }));\n    return true;\n};\n/**\nFlip the characters before and after the cursor(s).\n*/\nconst transposeChars = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let changes = state.changeByRange(range => {\n        if (!range.empty || range.from == 0 || range.from == state.doc.length)\n            return { range };\n        let pos = range.from, line = state.doc.lineAt(pos);\n        let from = pos == line.from ? pos - 1 : findClusterBreak(line.text, pos - line.from, false) + line.from;\n        let to = pos == line.to ? pos + 1 : findClusterBreak(line.text, pos - line.from, true) + line.from;\n        return { changes: { from, to, insert: state.doc.slice(pos, to).append(state.doc.slice(from, pos)) },\n            range: EditorSelection.cursor(to) };\n    });\n    if (changes.changes.empty)\n        return false;\n    dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"move.character\" }));\n    return true;\n};\nfunction selectedLineBlocks(state) {\n    let blocks = [], upto = -1;\n    for (let range of state.selection.ranges) {\n        let startLine = state.doc.lineAt(range.from), endLine = state.doc.lineAt(range.to);\n        if (!range.empty && range.to == endLine.from)\n            endLine = state.doc.lineAt(range.to - 1);\n        if (upto >= startLine.number) {\n            let prev = blocks[blocks.length - 1];\n            prev.to = endLine.to;\n            prev.ranges.push(range);\n        }\n        else {\n            blocks.push({ from: startLine.from, to: endLine.to, ranges: [range] });\n        }\n        upto = endLine.number + 1;\n    }\n    return blocks;\n}\nfunction moveLine(state, dispatch, forward) {\n    if (state.readOnly)\n        return false;\n    let changes = [], ranges = [];\n    for (let block of selectedLineBlocks(state)) {\n        if (forward ? block.to == state.doc.length : block.from == 0)\n            continue;\n        let nextLine = state.doc.lineAt(forward ? block.to + 1 : block.from - 1);\n        let size = nextLine.length + 1;\n        if (forward) {\n            changes.push({ from: block.to, to: nextLine.to }, { from: block.from, insert: nextLine.text + state.lineBreak });\n            for (let r of block.ranges)\n                ranges.push(EditorSelection.range(Math.min(state.doc.length, r.anchor + size), Math.min(state.doc.length, r.head + size)));\n        }\n        else {\n            changes.push({ from: nextLine.from, to: block.from }, { from: block.to, insert: state.lineBreak + nextLine.text });\n            for (let r of block.ranges)\n                ranges.push(EditorSelection.range(r.anchor - size, r.head - size));\n        }\n    }\n    if (!changes.length)\n        return false;\n    dispatch(state.update({\n        changes,\n        scrollIntoView: true,\n        selection: EditorSelection.create(ranges, state.selection.mainIndex),\n        userEvent: \"move.line\"\n    }));\n    return true;\n}\n/**\nMove the selected lines up one line.\n*/\nconst moveLineUp = ({ state, dispatch }) => moveLine(state, dispatch, false);\n/**\nMove the selected lines down one line.\n*/\nconst moveLineDown = ({ state, dispatch }) => moveLine(state, dispatch, true);\nfunction copyLine(state, dispatch, forward) {\n    if (state.readOnly)\n        return false;\n    let changes = [];\n    for (let block of selectedLineBlocks(state)) {\n        if (forward)\n            changes.push({ from: block.from, insert: state.doc.slice(block.from, block.to) + state.lineBreak });\n        else\n            changes.push({ from: block.to, insert: state.lineBreak + state.doc.slice(block.from, block.to) });\n    }\n    dispatch(state.update({ changes, scrollIntoView: true, userEvent: \"input.copyline\" }));\n    return true;\n}\n/**\nCreate a copy of the selected lines. Keep the selection in the top copy.\n*/\nconst copyLineUp = ({ state, dispatch }) => copyLine(state, dispatch, false);\n/**\nCreate a copy of the selected lines. Keep the selection in the bottom copy.\n*/\nconst copyLineDown = ({ state, dispatch }) => copyLine(state, dispatch, true);\n/**\nDelete selected lines.\n*/\nconst deleteLine = view => {\n    if (view.state.readOnly)\n        return false;\n    let { state } = view, changes = state.changes(selectedLineBlocks(state).map(({ from, to }) => {\n        if (from > 0)\n            from--;\n        else if (to < state.doc.length)\n            to++;\n        return { from, to };\n    }));\n    let selection = updateSel(state.selection, range => view.moveVertically(range, true)).map(changes);\n    view.dispatch({ changes, selection, scrollIntoView: true, userEvent: \"delete.line\" });\n    return true;\n};\n/**\nReplace the selection with a newline.\n*/\nconst insertNewline = ({ state, dispatch }) => {\n    dispatch(state.update(state.replaceSelection(state.lineBreak), { scrollIntoView: true, userEvent: \"input\" }));\n    return true;\n};\nfunction isBetweenBrackets(state, pos) {\n    if (/\\(\\)|\\[\\]|\\{\\}/.test(state.sliceDoc(pos - 1, pos + 1)))\n        return { from: pos, to: pos };\n    let context = syntaxTree(state).resolveInner(pos);\n    let before = context.childBefore(pos), after = context.childAfter(pos), closedBy;\n    if (before && after && before.to <= pos && after.from >= pos &&\n        (closedBy = before.type.prop(NodeProp.closedBy)) && closedBy.indexOf(after.name) > -1 &&\n        state.doc.lineAt(before.to).from == state.doc.lineAt(after.from).from)\n        return { from: before.to, to: after.from };\n    return null;\n}\n/**\nReplace the selection with a newline and indent the newly created\nline(s). If the current line consists only of whitespace, this\nwill also delete that whitespace. When the cursor is between\nmatching brackets, an additional newline will be inserted after\nthe cursor.\n*/\nconst insertNewlineAndIndent = /*@__PURE__*/newlineAndIndent(false);\n/**\nCreate a blank, indented line below the current line.\n*/\nconst insertBlankLine = /*@__PURE__*/newlineAndIndent(true);\nfunction newlineAndIndent(atEof) {\n    return ({ state, dispatch }) => {\n        if (state.readOnly)\n            return false;\n        let changes = state.changeByRange(range => {\n            let { from, to } = range, line = state.doc.lineAt(from);\n            let explode = !atEof && from == to && isBetweenBrackets(state, from);\n            if (atEof)\n                from = to = (to <= line.to ? line : state.doc.lineAt(to)).to;\n            let cx = new IndentContext(state, { simulateBreak: from, simulateDoubleBreak: !!explode });\n            let indent = getIndentation(cx, from);\n            if (indent == null)\n                indent = /^\\s*/.exec(state.doc.lineAt(from).text)[0].length;\n            while (to < line.to && /\\s/.test(line.text[to - line.from]))\n                to++;\n            if (explode)\n                ({ from, to } = explode);\n            else if (from > line.from && from < line.from + 100 && !/\\S/.test(line.text.slice(0, from)))\n                from = line.from;\n            let insert = [\"\", indentString(state, indent)];\n            if (explode)\n                insert.push(indentString(state, cx.lineIndent(line.from, -1)));\n            return { changes: { from, to, insert: Text.of(insert) },\n                range: EditorSelection.cursor(from + 1 + insert[1].length) };\n        });\n        dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"input\" }));\n        return true;\n    };\n}\nfunction changeBySelectedLine(state, f) {\n    let atLine = -1;\n    return state.changeByRange(range => {\n        let changes = [];\n        for (let pos = range.from; pos <= range.to;) {\n            let line = state.doc.lineAt(pos);\n            if (line.number > atLine && (range.empty || range.to > line.from)) {\n                f(line, changes, range);\n                atLine = line.number;\n            }\n            pos = line.to + 1;\n        }\n        let changeSet = state.changes(changes);\n        return { changes,\n            range: EditorSelection.range(changeSet.mapPos(range.anchor, 1), changeSet.mapPos(range.head, 1)) };\n    });\n}\n/**\nAuto-indent the selected lines. This uses the [indentation service\nfacet](https://codemirror.net/6/docs/ref/#language.indentService) as source for auto-indent\ninformation.\n*/\nconst indentSelection = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let updated = Object.create(null);\n    let context = new IndentContext(state, { overrideIndentation: start => {\n            let found = updated[start];\n            return found == null ? -1 : found;\n        } });\n    let changes = changeBySelectedLine(state, (line, changes, range) => {\n        let indent = getIndentation(context, line.from);\n        if (indent == null)\n            return;\n        if (!/\\S/.test(line.text))\n            indent = 0;\n        let cur = /^\\s*/.exec(line.text)[0];\n        let norm = indentString(state, indent);\n        if (cur != norm || range.from < line.from + cur.length) {\n            updated[line.from] = indent;\n            changes.push({ from: line.from, to: line.from + cur.length, insert: norm });\n        }\n    });\n    if (!changes.changes.empty)\n        dispatch(state.update(changes, { userEvent: \"indent\" }));\n    return true;\n};\n/**\nAdd a [unit](https://codemirror.net/6/docs/ref/#language.indentUnit) of indentation to all selected\nlines.\n*/\nconst indentMore = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    dispatch(state.update(changeBySelectedLine(state, (line, changes) => {\n        changes.push({ from: line.from, insert: state.facet(indentUnit) });\n    }), { userEvent: \"input.indent\" }));\n    return true;\n};\n/**\nRemove a [unit](https://codemirror.net/6/docs/ref/#language.indentUnit) of indentation from all\nselected lines.\n*/\nconst indentLess = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    dispatch(state.update(changeBySelectedLine(state, (line, changes) => {\n        let space = /^\\s*/.exec(line.text)[0];\n        if (!space)\n            return;\n        let col = countColumn(space, state.tabSize), keep = 0;\n        let insert = indentString(state, Math.max(0, col - getIndentUnit(state)));\n        while (keep < space.length && keep < insert.length && space.charCodeAt(keep) == insert.charCodeAt(keep))\n            keep++;\n        changes.push({ from: line.from + keep, to: line.from + space.length, insert: insert.slice(keep) });\n    }), { userEvent: \"delete.dedent\" }));\n    return true;\n};\n/**\nInsert a tab character at the cursor or, if something is selected,\nuse [`indentMore`](https://codemirror.net/6/docs/ref/#commands.indentMore) to indent the entire\nselection.\n*/\nconst insertTab = ({ state, dispatch }) => {\n    if (state.selection.ranges.some(r => !r.empty))\n        return indentMore({ state, dispatch });\n    dispatch(state.update(state.replaceSelection(\"\\t\"), { scrollIntoView: true, userEvent: \"input\" }));\n    return true;\n};\n/**\nArray of key bindings containing the Emacs-style bindings that are\navailable on macOS by default.\n\n - Ctrl-b: [`cursorCharLeft`](https://codemirror.net/6/docs/ref/#commands.cursorCharLeft) ([`selectCharLeft`](https://codemirror.net/6/docs/ref/#commands.selectCharLeft) with Shift)\n - Ctrl-f: [`cursorCharRight`](https://codemirror.net/6/docs/ref/#commands.cursorCharRight) ([`selectCharRight`](https://codemirror.net/6/docs/ref/#commands.selectCharRight) with Shift)\n - Ctrl-p: [`cursorLineUp`](https://codemirror.net/6/docs/ref/#commands.cursorLineUp) ([`selectLineUp`](https://codemirror.net/6/docs/ref/#commands.selectLineUp) with Shift)\n - Ctrl-n: [`cursorLineDown`](https://codemirror.net/6/docs/ref/#commands.cursorLineDown) ([`selectLineDown`](https://codemirror.net/6/docs/ref/#commands.selectLineDown) with Shift)\n - Ctrl-a: [`cursorLineStart`](https://codemirror.net/6/docs/ref/#commands.cursorLineStart) ([`selectLineStart`](https://codemirror.net/6/docs/ref/#commands.selectLineStart) with Shift)\n - Ctrl-e: [`cursorLineEnd`](https://codemirror.net/6/docs/ref/#commands.cursorLineEnd) ([`selectLineEnd`](https://codemirror.net/6/docs/ref/#commands.selectLineEnd) with Shift)\n - Ctrl-d: [`deleteCharForward`](https://codemirror.net/6/docs/ref/#commands.deleteCharForward)\n - Ctrl-h: [`deleteCharBackward`](https://codemirror.net/6/docs/ref/#commands.deleteCharBackward)\n - Ctrl-k: [`deleteToLineEnd`](https://codemirror.net/6/docs/ref/#commands.deleteToLineEnd)\n - Ctrl-Alt-h: [`deleteGroupBackward`](https://codemirror.net/6/docs/ref/#commands.deleteGroupBackward)\n - Ctrl-o: [`splitLine`](https://codemirror.net/6/docs/ref/#commands.splitLine)\n - Ctrl-t: [`transposeChars`](https://codemirror.net/6/docs/ref/#commands.transposeChars)\n - Ctrl-v: [`cursorPageDown`](https://codemirror.net/6/docs/ref/#commands.cursorPageDown)\n - Alt-v: [`cursorPageUp`](https://codemirror.net/6/docs/ref/#commands.cursorPageUp)\n*/\nconst emacsStyleKeymap = [\n    { key: \"Ctrl-b\", run: cursorCharLeft, shift: selectCharLeft, preventDefault: true },\n    { key: \"Ctrl-f\", run: cursorCharRight, shift: selectCharRight },\n    { key: \"Ctrl-p\", run: cursorLineUp, shift: selectLineUp },\n    { key: \"Ctrl-n\", run: cursorLineDown, shift: selectLineDown },\n    { key: \"Ctrl-a\", run: cursorLineStart, shift: selectLineStart },\n    { key: \"Ctrl-e\", run: cursorLineEnd, shift: selectLineEnd },\n    { key: \"Ctrl-d\", run: deleteCharForward },\n    { key: \"Ctrl-h\", run: deleteCharBackward },\n    { key: \"Ctrl-k\", run: deleteToLineEnd },\n    { key: \"Ctrl-Alt-h\", run: deleteGroupBackward },\n    { key: \"Ctrl-o\", run: splitLine },\n    { key: \"Ctrl-t\", run: transposeChars },\n    { key: \"Ctrl-v\", run: cursorPageDown },\n];\n/**\nAn array of key bindings closely sticking to platform-standard or\nwidely used bindings. (This includes the bindings from\n[`emacsStyleKeymap`](https://codemirror.net/6/docs/ref/#commands.emacsStyleKeymap), with their `key`\nproperty changed to `mac`.)\n\n - ArrowLeft: [`cursorCharLeft`](https://codemirror.net/6/docs/ref/#commands.cursorCharLeft) ([`selectCharLeft`](https://codemirror.net/6/docs/ref/#commands.selectCharLeft) with Shift)\n - ArrowRight: [`cursorCharRight`](https://codemirror.net/6/docs/ref/#commands.cursorCharRight) ([`selectCharRight`](https://codemirror.net/6/docs/ref/#commands.selectCharRight) with Shift)\n - Ctrl-ArrowLeft (Alt-ArrowLeft on macOS): [`cursorGroupLeft`](https://codemirror.net/6/docs/ref/#commands.cursorGroupLeft) ([`selectGroupLeft`](https://codemirror.net/6/docs/ref/#commands.selectGroupLeft) with Shift)\n - Ctrl-ArrowRight (Alt-ArrowRight on macOS): [`cursorGroupRight`](https://codemirror.net/6/docs/ref/#commands.cursorGroupRight) ([`selectGroupRight`](https://codemirror.net/6/docs/ref/#commands.selectGroupRight) with Shift)\n - Cmd-ArrowLeft (on macOS): [`cursorLineStart`](https://codemirror.net/6/docs/ref/#commands.cursorLineStart) ([`selectLineStart`](https://codemirror.net/6/docs/ref/#commands.selectLineStart) with Shift)\n - Cmd-ArrowRight (on macOS): [`cursorLineEnd`](https://codemirror.net/6/docs/ref/#commands.cursorLineEnd) ([`selectLineEnd`](https://codemirror.net/6/docs/ref/#commands.selectLineEnd) with Shift)\n - ArrowUp: [`cursorLineUp`](https://codemirror.net/6/docs/ref/#commands.cursorLineUp) ([`selectLineUp`](https://codemirror.net/6/docs/ref/#commands.selectLineUp) with Shift)\n - ArrowDown: [`cursorLineDown`](https://codemirror.net/6/docs/ref/#commands.cursorLineDown) ([`selectLineDown`](https://codemirror.net/6/docs/ref/#commands.selectLineDown) with Shift)\n - Cmd-ArrowUp (on macOS): [`cursorDocStart`](https://codemirror.net/6/docs/ref/#commands.cursorDocStart) ([`selectDocStart`](https://codemirror.net/6/docs/ref/#commands.selectDocStart) with Shift)\n - Cmd-ArrowDown (on macOS): [`cursorDocEnd`](https://codemirror.net/6/docs/ref/#commands.cursorDocEnd) ([`selectDocEnd`](https://codemirror.net/6/docs/ref/#commands.selectDocEnd) with Shift)\n - Ctrl-ArrowUp (on macOS): [`cursorPageUp`](https://codemirror.net/6/docs/ref/#commands.cursorPageUp) ([`selectPageUp`](https://codemirror.net/6/docs/ref/#commands.selectPageUp) with Shift)\n - Ctrl-ArrowDown (on macOS): [`cursorPageDown`](https://codemirror.net/6/docs/ref/#commands.cursorPageDown) ([`selectPageDown`](https://codemirror.net/6/docs/ref/#commands.selectPageDown) with Shift)\n - PageUp: [`cursorPageUp`](https://codemirror.net/6/docs/ref/#commands.cursorPageUp) ([`selectPageUp`](https://codemirror.net/6/docs/ref/#commands.selectPageUp) with Shift)\n - PageDown: [`cursorPageDown`](https://codemirror.net/6/docs/ref/#commands.cursorPageDown) ([`selectPageDown`](https://codemirror.net/6/docs/ref/#commands.selectPageDown) with Shift)\n - Home: [`cursorLineBoundaryBackward`](https://codemirror.net/6/docs/ref/#commands.cursorLineBoundaryBackward) ([`selectLineBoundaryBackward`](https://codemirror.net/6/docs/ref/#commands.selectLineBoundaryBackward) with Shift)\n - End: [`cursorLineBoundaryForward`](https://codemirror.net/6/docs/ref/#commands.cursorLineBoundaryForward) ([`selectLineBoundaryForward`](https://codemirror.net/6/docs/ref/#commands.selectLineBoundaryForward) with Shift)\n - Ctrl-Home (Cmd-Home on macOS): [`cursorDocStart`](https://codemirror.net/6/docs/ref/#commands.cursorDocStart) ([`selectDocStart`](https://codemirror.net/6/docs/ref/#commands.selectDocStart) with Shift)\n - Ctrl-End (Cmd-Home on macOS): [`cursorDocEnd`](https://codemirror.net/6/docs/ref/#commands.cursorDocEnd) ([`selectDocEnd`](https://codemirror.net/6/docs/ref/#commands.selectDocEnd) with Shift)\n - Enter: [`insertNewlineAndIndent`](https://codemirror.net/6/docs/ref/#commands.insertNewlineAndIndent)\n - Ctrl-a (Cmd-a on macOS): [`selectAll`](https://codemirror.net/6/docs/ref/#commands.selectAll)\n - Backspace: [`deleteCharBackward`](https://codemirror.net/6/docs/ref/#commands.deleteCharBackward)\n - Delete: [`deleteCharForward`](https://codemirror.net/6/docs/ref/#commands.deleteCharForward)\n - Ctrl-Backspace (Alt-Backspace on macOS): [`deleteGroupBackward`](https://codemirror.net/6/docs/ref/#commands.deleteGroupBackward)\n - Ctrl-Delete (Alt-Delete on macOS): [`deleteGroupForward`](https://codemirror.net/6/docs/ref/#commands.deleteGroupForward)\n - Cmd-Backspace (macOS): [`deleteToLineStart`](https://codemirror.net/6/docs/ref/#commands.deleteToLineStart).\n - Cmd-Delete (macOS): [`deleteToLineEnd`](https://codemirror.net/6/docs/ref/#commands.deleteToLineEnd).\n*/\nconst standardKeymap = /*@__PURE__*/[\n    { key: \"ArrowLeft\", run: cursorCharLeft, shift: selectCharLeft, preventDefault: true },\n    { key: \"Mod-ArrowLeft\", mac: \"Alt-ArrowLeft\", run: cursorGroupLeft, shift: selectGroupLeft, preventDefault: true },\n    { mac: \"Cmd-ArrowLeft\", run: cursorLineBoundaryLeft, shift: selectLineBoundaryLeft, preventDefault: true },\n    { key: \"ArrowRight\", run: cursorCharRight, shift: selectCharRight, preventDefault: true },\n    { key: \"Mod-ArrowRight\", mac: \"Alt-ArrowRight\", run: cursorGroupRight, shift: selectGroupRight, preventDefault: true },\n    { mac: \"Cmd-ArrowRight\", run: cursorLineBoundaryRight, shift: selectLineBoundaryRight, preventDefault: true },\n    { key: \"ArrowUp\", run: cursorLineUp, shift: selectLineUp, preventDefault: true },\n    { mac: \"Cmd-ArrowUp\", run: cursorDocStart, shift: selectDocStart },\n    { mac: \"Ctrl-ArrowUp\", run: cursorPageUp, shift: selectPageUp },\n    { key: \"ArrowDown\", run: cursorLineDown, shift: selectLineDown, preventDefault: true },\n    { mac: \"Cmd-ArrowDown\", run: cursorDocEnd, shift: selectDocEnd },\n    { mac: \"Ctrl-ArrowDown\", run: cursorPageDown, shift: selectPageDown },\n    { key: \"PageUp\", run: cursorPageUp, shift: selectPageUp },\n    { key: \"PageDown\", run: cursorPageDown, shift: selectPageDown },\n    { key: \"Home\", run: cursorLineBoundaryBackward, shift: selectLineBoundaryBackward, preventDefault: true },\n    { key: \"Mod-Home\", run: cursorDocStart, shift: selectDocStart },\n    { key: \"End\", run: cursorLineBoundaryForward, shift: selectLineBoundaryForward, preventDefault: true },\n    { key: \"Mod-End\", run: cursorDocEnd, shift: selectDocEnd },\n    { key: \"Enter\", run: insertNewlineAndIndent },\n    { key: \"Mod-a\", run: selectAll },\n    { key: \"Backspace\", run: deleteCharBackward, shift: deleteCharBackward },\n    { key: \"Delete\", run: deleteCharForward },\n    { key: \"Mod-Backspace\", mac: \"Alt-Backspace\", run: deleteGroupBackward },\n    { key: \"Mod-Delete\", mac: \"Alt-Delete\", run: deleteGroupForward },\n    { mac: \"Mod-Backspace\", run: deleteToLineStart },\n    { mac: \"Mod-Delete\", run: deleteToLineEnd }\n].concat(/*@__PURE__*/emacsStyleKeymap.map(b => ({ mac: b.key, run: b.run, shift: b.shift })));\n/**\nThe default keymap. Includes all bindings from\n[`standardKeymap`](https://codemirror.net/6/docs/ref/#commands.standardKeymap) plus the following:\n\n- Alt-ArrowLeft (Ctrl-ArrowLeft on macOS): [`cursorSyntaxLeft`](https://codemirror.net/6/docs/ref/#commands.cursorSyntaxLeft) ([`selectSyntaxLeft`](https://codemirror.net/6/docs/ref/#commands.selectSyntaxLeft) with Shift)\n- Alt-ArrowRight (Ctrl-ArrowRight on macOS): [`cursorSyntaxRight`](https://codemirror.net/6/docs/ref/#commands.cursorSyntaxRight) ([`selectSyntaxRight`](https://codemirror.net/6/docs/ref/#commands.selectSyntaxRight) with Shift)\n- Alt-ArrowUp: [`moveLineUp`](https://codemirror.net/6/docs/ref/#commands.moveLineUp)\n- Alt-ArrowDown: [`moveLineDown`](https://codemirror.net/6/docs/ref/#commands.moveLineDown)\n- Shift-Alt-ArrowUp: [`copyLineUp`](https://codemirror.net/6/docs/ref/#commands.copyLineUp)\n- Shift-Alt-ArrowDown: [`copyLineDown`](https://codemirror.net/6/docs/ref/#commands.copyLineDown)\n- Escape: [`simplifySelection`](https://codemirror.net/6/docs/ref/#commands.simplifySelection)\n- Ctrl-Enter (Cmd-Enter on macOS): [`insertBlankLine`](https://codemirror.net/6/docs/ref/#commands.insertBlankLine)\n- Alt-l (Ctrl-l on macOS): [`selectLine`](https://codemirror.net/6/docs/ref/#commands.selectLine)\n- Ctrl-i (Cmd-i on macOS): [`selectParentSyntax`](https://codemirror.net/6/docs/ref/#commands.selectParentSyntax)\n- Ctrl-[ (Cmd-[ on macOS): [`indentLess`](https://codemirror.net/6/docs/ref/#commands.indentLess)\n- Ctrl-] (Cmd-] on macOS): [`indentMore`](https://codemirror.net/6/docs/ref/#commands.indentMore)\n- Ctrl-Alt-\\\\ (Cmd-Alt-\\\\ on macOS): [`indentSelection`](https://codemirror.net/6/docs/ref/#commands.indentSelection)\n- Shift-Ctrl-k (Shift-Cmd-k on macOS): [`deleteLine`](https://codemirror.net/6/docs/ref/#commands.deleteLine)\n- Shift-Ctrl-\\\\ (Shift-Cmd-\\\\ on macOS): [`cursorMatchingBracket`](https://codemirror.net/6/docs/ref/#commands.cursorMatchingBracket)\n- Ctrl-/ (Cmd-/ on macOS): [`toggleComment`](https://codemirror.net/6/docs/ref/#commands.toggleComment).\n- Shift-Alt-a: [`toggleBlockComment`](https://codemirror.net/6/docs/ref/#commands.toggleBlockComment).\n*/\nconst defaultKeymap = /*@__PURE__*/[\n    { key: \"Alt-ArrowLeft\", mac: \"Ctrl-ArrowLeft\", run: cursorSyntaxLeft, shift: selectSyntaxLeft },\n    { key: \"Alt-ArrowRight\", mac: \"Ctrl-ArrowRight\", run: cursorSyntaxRight, shift: selectSyntaxRight },\n    { key: \"Alt-ArrowUp\", run: moveLineUp },\n    { key: \"Shift-Alt-ArrowUp\", run: copyLineUp },\n    { key: \"Alt-ArrowDown\", run: moveLineDown },\n    { key: \"Shift-Alt-ArrowDown\", run: copyLineDown },\n    { key: \"Escape\", run: simplifySelection },\n    { key: \"Mod-Enter\", run: insertBlankLine },\n    { key: \"Alt-l\", mac: \"Ctrl-l\", run: selectLine },\n    { key: \"Mod-i\", run: selectParentSyntax, preventDefault: true },\n    { key: \"Mod-[\", run: indentLess },\n    { key: \"Mod-]\", run: indentMore },\n    { key: \"Mod-Alt-\\\\\", run: indentSelection },\n    { key: \"Shift-Mod-k\", run: deleteLine },\n    { key: \"Shift-Mod-\\\\\", run: cursorMatchingBracket },\n    { key: \"Mod-/\", run: toggleComment },\n    { key: \"Alt-A\", run: toggleBlockComment }\n].concat(standardKeymap);\n/**\nA binding that binds Tab to [`indentMore`](https://codemirror.net/6/docs/ref/#commands.indentMore) and\nShift-Tab to [`indentLess`](https://codemirror.net/6/docs/ref/#commands.indentLess).\nPlease see the [Tab example](../../examples/tab/) before using\nthis.\n*/\nconst indentWithTab = { key: \"Tab\", run: indentMore, shift: indentLess };\n\nexport { blockComment, blockUncomment, copyLineDown, copyLineUp, cursorCharBackward, cursorCharForward, cursorCharLeft, cursorCharRight, cursorDocEnd, cursorDocStart, cursorGroupBackward, cursorGroupForward, cursorGroupLeft, cursorGroupRight, cursorLineBoundaryBackward, cursorLineBoundaryForward, cursorLineBoundaryLeft, cursorLineBoundaryRight, cursorLineDown, cursorLineEnd, cursorLineStart, cursorLineUp, cursorMatchingBracket, cursorPageDown, cursorPageUp, cursorSubwordBackward, cursorSubwordForward, cursorSyntaxLeft, cursorSyntaxRight, defaultKeymap, deleteCharBackward, deleteCharForward, deleteGroupBackward, deleteGroupForward, deleteLine, deleteToLineEnd, deleteToLineStart, deleteTrailingWhitespace, emacsStyleKeymap, history, historyField, historyKeymap, indentLess, indentMore, indentSelection, indentWithTab, insertBlankLine, insertNewline, insertNewlineAndIndent, insertTab, invertedEffects, isolateHistory, lineComment, lineUncomment, moveLineDown, moveLineUp, redo, redoDepth, redoSelection, selectAll, selectCharBackward, selectCharForward, selectCharLeft, selectCharRight, selectDocEnd, selectDocStart, selectGroupBackward, selectGroupForward, selectGroupLeft, selectGroupRight, selectLine, selectLineBoundaryBackward, selectLineBoundaryForward, selectLineBoundaryLeft, selectLineBoundaryRight, selectLineDown, selectLineEnd, selectLineStart, selectLineUp, selectMatchingBracket, selectPageDown, selectPageUp, selectParentSyntax, selectSubwordBackward, selectSubwordForward, selectSyntaxLeft, selectSyntaxRight, simplifySelection, splitLine, standardKeymap, toggleBlockComment, toggleBlockCommentByLine, toggleComment, toggleLineComment, transposeChars, undo, undoDepth, undoSelection };\n","export default function crelt() {\n  var elt = arguments[0]\n  if (typeof elt == \"string\") elt = document.createElement(elt)\n  var i = 1, next = arguments[1]\n  if (next && typeof next == \"object\" && next.nodeType == null && !Array.isArray(next)) {\n    for (var name in next) if (Object.prototype.hasOwnProperty.call(next, name)) {\n      var value = next[name]\n      if (typeof value == \"string\") elt.setAttribute(name, value)\n      else if (value != null) elt[name] = value\n    }\n    i++\n  }\n  for (; i < arguments.length; i++) add(elt, arguments[i])\n  return elt\n}\n\nfunction add(elt, child) {\n  if (typeof child == \"string\") {\n    elt.appendChild(document.createTextNode(child))\n  } else if (child == null) {\n  } else if (child.nodeType != null) {\n    elt.appendChild(child)\n  } else if (Array.isArray(child)) {\n    for (var i = 0; i < child.length; i++) add(elt, child[i])\n  } else {\n    throw new RangeError(\"Unsupported child node: \" + child)\n  }\n}\n","import { showPanel, EditorView, getPanel, Decoration, ViewPlugin, runScopeHandlers } from '@codemirror/view';\nimport { codePointAt, fromCodePoint, codePointSize, StateEffect, StateField, EditorSelection, Facet, combineConfig, CharCategory, RangeSetBuilder, Prec, EditorState, findClusterBreak } from '@codemirror/state';\nimport elt from 'crelt';\n\nconst basicNormalize = typeof String.prototype.normalize == \"function\"\n    ? x => x.normalize(\"NFKD\") : x => x;\n/**\nA search cursor provides an iterator over text matches in a\ndocument.\n*/\nclass SearchCursor {\n    /**\n    Create a text cursor. The query is the search string, `from` to\n    `to` provides the region to search.\n    \n    When `normalize` is given, it will be called, on both the query\n    string and the content it is matched against, before comparing.\n    You can, for example, create a case-insensitive search by\n    passing `s => s.toLowerCase()`.\n    \n    Text is always normalized with\n    [`.normalize(\"NFKD\")`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize)\n    (when supported).\n    */\n    constructor(text, query, from = 0, to = text.length, normalize, test) {\n        this.test = test;\n        /**\n        The current match (only holds a meaningful value after\n        [`next`](https://codemirror.net/6/docs/ref/#search.SearchCursor.next) has been called and when\n        `done` is false).\n        */\n        this.value = { from: 0, to: 0 };\n        /**\n        Whether the end of the iterated region has been reached.\n        */\n        this.done = false;\n        this.matches = [];\n        this.buffer = \"\";\n        this.bufferPos = 0;\n        this.iter = text.iterRange(from, to);\n        this.bufferStart = from;\n        this.normalize = normalize ? x => normalize(basicNormalize(x)) : basicNormalize;\n        this.query = this.normalize(query);\n    }\n    peek() {\n        if (this.bufferPos == this.buffer.length) {\n            this.bufferStart += this.buffer.length;\n            this.iter.next();\n            if (this.iter.done)\n                return -1;\n            this.bufferPos = 0;\n            this.buffer = this.iter.value;\n        }\n        return codePointAt(this.buffer, this.bufferPos);\n    }\n    /**\n    Look for the next match. Updates the iterator's\n    [`value`](https://codemirror.net/6/docs/ref/#search.SearchCursor.value) and\n    [`done`](https://codemirror.net/6/docs/ref/#search.SearchCursor.done) properties. Should be called\n    at least once before using the cursor.\n    */\n    next() {\n        while (this.matches.length)\n            this.matches.pop();\n        return this.nextOverlapping();\n    }\n    /**\n    The `next` method will ignore matches that partially overlap a\n    previous match. This method behaves like `next`, but includes\n    such matches.\n    */\n    nextOverlapping() {\n        for (;;) {\n            let next = this.peek();\n            if (next < 0) {\n                this.done = true;\n                return this;\n            }\n            let str = fromCodePoint(next), start = this.bufferStart + this.bufferPos;\n            this.bufferPos += codePointSize(next);\n            let norm = this.normalize(str);\n            for (let i = 0, pos = start;; i++) {\n                let code = norm.charCodeAt(i);\n                let match = this.match(code, pos);\n                if (match) {\n                    this.value = match;\n                    return this;\n                }\n                if (i == norm.length - 1)\n                    break;\n                if (pos == start && i < str.length && str.charCodeAt(i) == code)\n                    pos++;\n            }\n        }\n    }\n    match(code, pos) {\n        let match = null;\n        for (let i = 0; i < this.matches.length; i += 2) {\n            let index = this.matches[i], keep = false;\n            if (this.query.charCodeAt(index) == code) {\n                if (index == this.query.length - 1) {\n                    match = { from: this.matches[i + 1], to: pos + 1 };\n                }\n                else {\n                    this.matches[i]++;\n                    keep = true;\n                }\n            }\n            if (!keep) {\n                this.matches.splice(i, 2);\n                i -= 2;\n            }\n        }\n        if (this.query.charCodeAt(0) == code) {\n            if (this.query.length == 1)\n                match = { from: pos, to: pos + 1 };\n            else\n                this.matches.push(1, pos);\n        }\n        if (match && this.test && !this.test(match.from, match.to, this.buffer, this.bufferPos))\n            match = null;\n        return match;\n    }\n}\nif (typeof Symbol != \"undefined\")\n    SearchCursor.prototype[Symbol.iterator] = function () { return this; };\n\nconst empty = { from: -1, to: -1, match: /*@__PURE__*//.*/.exec(\"\") };\nconst baseFlags = \"gm\" + (/x/.unicode == null ? \"\" : \"u\");\n/**\nThis class is similar to [`SearchCursor`](https://codemirror.net/6/docs/ref/#search.SearchCursor)\nbut searches for a regular expression pattern instead of a plain\nstring.\n*/\nclass RegExpCursor {\n    /**\n    Create a cursor that will search the given range in the given\n    document. `query` should be the raw pattern (as you'd pass it to\n    `new RegExp`).\n    */\n    constructor(text, query, options, from = 0, to = text.length) {\n        this.text = text;\n        this.to = to;\n        this.curLine = \"\";\n        /**\n        Set to `true` when the cursor has reached the end of the search\n        range.\n        */\n        this.done = false;\n        /**\n        Will contain an object with the extent of the match and the\n        match object when [`next`](https://codemirror.net/6/docs/ref/#search.RegExpCursor.next)\n        sucessfully finds a match.\n        */\n        this.value = empty;\n        if (/\\\\[sWDnr]|\\n|\\r|\\[\\^/.test(query))\n            return new MultilineRegExpCursor(text, query, options, from, to);\n        this.re = new RegExp(query, baseFlags + ((options === null || options === void 0 ? void 0 : options.ignoreCase) ? \"i\" : \"\"));\n        this.test = options === null || options === void 0 ? void 0 : options.test;\n        this.iter = text.iter();\n        let startLine = text.lineAt(from);\n        this.curLineStart = startLine.from;\n        this.matchPos = toCharEnd(text, from);\n        this.getLine(this.curLineStart);\n    }\n    getLine(skip) {\n        this.iter.next(skip);\n        if (this.iter.lineBreak) {\n            this.curLine = \"\";\n        }\n        else {\n            this.curLine = this.iter.value;\n            if (this.curLineStart + this.curLine.length > this.to)\n                this.curLine = this.curLine.slice(0, this.to - this.curLineStart);\n            this.iter.next();\n        }\n    }\n    nextLine() {\n        this.curLineStart = this.curLineStart + this.curLine.length + 1;\n        if (this.curLineStart > this.to)\n            this.curLine = \"\";\n        else\n            this.getLine(0);\n    }\n    /**\n    Move to the next match, if there is one.\n    */\n    next() {\n        for (let off = this.matchPos - this.curLineStart;;) {\n            this.re.lastIndex = off;\n            let match = this.matchPos <= this.to && this.re.exec(this.curLine);\n            if (match) {\n                let from = this.curLineStart + match.index, to = from + match[0].length;\n                this.matchPos = toCharEnd(this.text, to + (from == to ? 1 : 0));\n                if (from == this.curLineStart + this.curLine.length)\n                    this.nextLine();\n                if ((from < to || from > this.value.to) && (!this.test || this.test(from, to, match))) {\n                    this.value = { from, to, match };\n                    return this;\n                }\n                off = this.matchPos - this.curLineStart;\n            }\n            else if (this.curLineStart + this.curLine.length < this.to) {\n                this.nextLine();\n                off = 0;\n            }\n            else {\n                this.done = true;\n                return this;\n            }\n        }\n    }\n}\nconst flattened = /*@__PURE__*/new WeakMap();\n// Reusable (partially) flattened document strings\nclass FlattenedDoc {\n    constructor(from, text) {\n        this.from = from;\n        this.text = text;\n    }\n    get to() { return this.from + this.text.length; }\n    static get(doc, from, to) {\n        let cached = flattened.get(doc);\n        if (!cached || cached.from >= to || cached.to <= from) {\n            let flat = new FlattenedDoc(from, doc.sliceString(from, to));\n            flattened.set(doc, flat);\n            return flat;\n        }\n        if (cached.from == from && cached.to == to)\n            return cached;\n        let { text, from: cachedFrom } = cached;\n        if (cachedFrom > from) {\n            text = doc.sliceString(from, cachedFrom) + text;\n            cachedFrom = from;\n        }\n        if (cached.to < to)\n            text += doc.sliceString(cached.to, to);\n        flattened.set(doc, new FlattenedDoc(cachedFrom, text));\n        return new FlattenedDoc(from, text.slice(from - cachedFrom, to - cachedFrom));\n    }\n}\nclass MultilineRegExpCursor {\n    constructor(text, query, options, from, to) {\n        this.text = text;\n        this.to = to;\n        this.done = false;\n        this.value = empty;\n        this.matchPos = toCharEnd(text, from);\n        this.re = new RegExp(query, baseFlags + ((options === null || options === void 0 ? void 0 : options.ignoreCase) ? \"i\" : \"\"));\n        this.test = options === null || options === void 0 ? void 0 : options.test;\n        this.flat = FlattenedDoc.get(text, from, this.chunkEnd(from + 5000 /* Chunk.Base */));\n    }\n    chunkEnd(pos) {\n        return pos >= this.to ? this.to : this.text.lineAt(pos).to;\n    }\n    next() {\n        for (;;) {\n            let off = this.re.lastIndex = this.matchPos - this.flat.from;\n            let match = this.re.exec(this.flat.text);\n            // Skip empty matches directly after the last match\n            if (match && !match[0] && match.index == off) {\n                this.re.lastIndex = off + 1;\n                match = this.re.exec(this.flat.text);\n            }\n            if (match) {\n                let from = this.flat.from + match.index, to = from + match[0].length;\n                // If a match goes almost to the end of a noncomplete chunk, try\n                // again, since it'll likely be able to match more\n                if ((this.flat.to >= this.to || match.index + match[0].length <= this.flat.text.length - 10) &&\n                    (!this.test || this.test(from, to, match))) {\n                    this.value = { from, to, match };\n                    this.matchPos = toCharEnd(this.text, to + (from == to ? 1 : 0));\n                    return this;\n                }\n            }\n            if (this.flat.to == this.to) {\n                this.done = true;\n                return this;\n            }\n            // Grow the flattened doc\n            this.flat = FlattenedDoc.get(this.text, this.flat.from, this.chunkEnd(this.flat.from + this.flat.text.length * 2));\n        }\n    }\n}\nif (typeof Symbol != \"undefined\") {\n    RegExpCursor.prototype[Symbol.iterator] = MultilineRegExpCursor.prototype[Symbol.iterator] =\n        function () { return this; };\n}\nfunction validRegExp(source) {\n    try {\n        new RegExp(source, baseFlags);\n        return true;\n    }\n    catch (_a) {\n        return false;\n    }\n}\nfunction toCharEnd(text, pos) {\n    if (pos >= text.length)\n        return pos;\n    let line = text.lineAt(pos), next;\n    while (pos < line.to && (next = line.text.charCodeAt(pos - line.from)) >= 0xDC00 && next < 0xE000)\n        pos++;\n    return pos;\n}\n\nfunction createLineDialog(view) {\n    let input = elt(\"input\", { class: \"cm-textfield\", name: \"line\" });\n    let dom = elt(\"form\", {\n        class: \"cm-gotoLine\",\n        onkeydown: (event) => {\n            if (event.keyCode == 27) { // Escape\n                event.preventDefault();\n                view.dispatch({ effects: dialogEffect.of(false) });\n                view.focus();\n            }\n            else if (event.keyCode == 13) { // Enter\n                event.preventDefault();\n                go();\n            }\n        },\n        onsubmit: (event) => {\n            event.preventDefault();\n            go();\n        }\n    }, elt(\"label\", view.state.phrase(\"Go to line\"), \": \", input), \" \", elt(\"button\", { class: \"cm-button\", type: \"submit\" }, view.state.phrase(\"go\")));\n    function go() {\n        let match = /^([+-])?(\\d+)?(:\\d+)?(%)?$/.exec(input.value);\n        if (!match)\n            return;\n        let { state } = view, startLine = state.doc.lineAt(state.selection.main.head);\n        let [, sign, ln, cl, percent] = match;\n        let col = cl ? +cl.slice(1) : 0;\n        let line = ln ? +ln : startLine.number;\n        if (ln && percent) {\n            let pc = line / 100;\n            if (sign)\n                pc = pc * (sign == \"-\" ? -1 : 1) + (startLine.number / state.doc.lines);\n            line = Math.round(state.doc.lines * pc);\n        }\n        else if (ln && sign) {\n            line = line * (sign == \"-\" ? -1 : 1) + startLine.number;\n        }\n        let docLine = state.doc.line(Math.max(1, Math.min(state.doc.lines, line)));\n        view.dispatch({\n            effects: dialogEffect.of(false),\n            selection: EditorSelection.cursor(docLine.from + Math.max(0, Math.min(col, docLine.length))),\n            scrollIntoView: true\n        });\n        view.focus();\n    }\n    return { dom };\n}\nconst dialogEffect = /*@__PURE__*/StateEffect.define();\nconst dialogField = /*@__PURE__*/StateField.define({\n    create() { return true; },\n    update(value, tr) {\n        for (let e of tr.effects)\n            if (e.is(dialogEffect))\n                value = e.value;\n        return value;\n    },\n    provide: f => showPanel.from(f, val => val ? createLineDialog : null)\n});\n/**\nCommand that shows a dialog asking the user for a line number, and\nwhen a valid position is provided, moves the cursor to that line.\n\nSupports line numbers, relative line offsets prefixed with `+` or\n`-`, document percentages suffixed with `%`, and an optional\ncolumn position by adding `:` and a second number after the line\nnumber.\n\nThe dialog can be styled with the `panel.gotoLine` theme\nselector.\n*/\nconst gotoLine = view => {\n    let panel = getPanel(view, createLineDialog);\n    if (!panel) {\n        let effects = [dialogEffect.of(true)];\n        if (view.state.field(dialogField, false) == null)\n            effects.push(StateEffect.appendConfig.of([dialogField, baseTheme$1]));\n        view.dispatch({ effects });\n        panel = getPanel(view, createLineDialog);\n    }\n    if (panel)\n        panel.dom.querySelector(\"input\").focus();\n    return true;\n};\nconst baseTheme$1 = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-panel.cm-gotoLine\": {\n        padding: \"2px 6px 4px\",\n        \"& label\": { fontSize: \"80%\" }\n    }\n});\n\nconst defaultHighlightOptions = {\n    highlightWordAroundCursor: false,\n    minSelectionLength: 1,\n    maxMatches: 100,\n    wholeWords: false\n};\nconst highlightConfig = /*@__PURE__*/Facet.define({\n    combine(options) {\n        return combineConfig(options, defaultHighlightOptions, {\n            highlightWordAroundCursor: (a, b) => a || b,\n            minSelectionLength: Math.min,\n            maxMatches: Math.min\n        });\n    }\n});\n/**\nThis extension highlights text that matches the selection. It uses\nthe `\"cm-selectionMatch\"` class for the highlighting. When\n`highlightWordAroundCursor` is enabled, the word at the cursor\nitself will be highlighted with `\"cm-selectionMatch-main\"`.\n*/\nfunction highlightSelectionMatches(options) {\n    let ext = [defaultTheme, matchHighlighter];\n    if (options)\n        ext.push(highlightConfig.of(options));\n    return ext;\n}\nconst matchDeco = /*@__PURE__*/Decoration.mark({ class: \"cm-selectionMatch\" });\nconst mainMatchDeco = /*@__PURE__*/Decoration.mark({ class: \"cm-selectionMatch cm-selectionMatch-main\" });\n// Whether the characters directly outside the given positions are non-word characters\nfunction insideWordBoundaries(check, state, from, to) {\n    return (from == 0 || check(state.sliceDoc(from - 1, from)) != CharCategory.Word) &&\n        (to == state.doc.length || check(state.sliceDoc(to, to + 1)) != CharCategory.Word);\n}\n// Whether the characters directly at the given positions are word characters\nfunction insideWord(check, state, from, to) {\n    return check(state.sliceDoc(from, from + 1)) == CharCategory.Word\n        && check(state.sliceDoc(to - 1, to)) == CharCategory.Word;\n}\nconst matchHighlighter = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.decorations = this.getDeco(view);\n    }\n    update(update) {\n        if (update.selectionSet || update.docChanged || update.viewportChanged)\n            this.decorations = this.getDeco(update.view);\n    }\n    getDeco(view) {\n        let conf = view.state.facet(highlightConfig);\n        let { state } = view, sel = state.selection;\n        if (sel.ranges.length > 1)\n            return Decoration.none;\n        let range = sel.main, query, check = null;\n        if (range.empty) {\n            if (!conf.highlightWordAroundCursor)\n                return Decoration.none;\n            let word = state.wordAt(range.head);\n            if (!word)\n                return Decoration.none;\n            check = state.charCategorizer(range.head);\n            query = state.sliceDoc(word.from, word.to);\n        }\n        else {\n            let len = range.to - range.from;\n            if (len < conf.minSelectionLength || len > 200)\n                return Decoration.none;\n            if (conf.wholeWords) {\n                query = state.sliceDoc(range.from, range.to); // TODO: allow and include leading/trailing space?\n                check = state.charCategorizer(range.head);\n                if (!(insideWordBoundaries(check, state, range.from, range.to)\n                    && insideWord(check, state, range.from, range.to)))\n                    return Decoration.none;\n            }\n            else {\n                query = state.sliceDoc(range.from, range.to).trim();\n                if (!query)\n                    return Decoration.none;\n            }\n        }\n        let deco = [];\n        for (let part of view.visibleRanges) {\n            let cursor = new SearchCursor(state.doc, query, part.from, part.to);\n            while (!cursor.next().done) {\n                let { from, to } = cursor.value;\n                if (!check || insideWordBoundaries(check, state, from, to)) {\n                    if (range.empty && from <= range.from && to >= range.to)\n                        deco.push(mainMatchDeco.range(from, to));\n                    else if (from >= range.to || to <= range.from)\n                        deco.push(matchDeco.range(from, to));\n                    if (deco.length > conf.maxMatches)\n                        return Decoration.none;\n                }\n            }\n        }\n        return Decoration.set(deco);\n    }\n}, {\n    decorations: v => v.decorations\n});\nconst defaultTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-selectionMatch\": { backgroundColor: \"#99ff7780\" },\n    \".cm-searchMatch .cm-selectionMatch\": { backgroundColor: \"transparent\" }\n});\n// Select the words around the cursors.\nconst selectWord = ({ state, dispatch }) => {\n    let { selection } = state;\n    let newSel = EditorSelection.create(selection.ranges.map(range => state.wordAt(range.head) || EditorSelection.cursor(range.head)), selection.mainIndex);\n    if (newSel.eq(selection))\n        return false;\n    dispatch(state.update({ selection: newSel }));\n    return true;\n};\n// Find next occurrence of query relative to last cursor. Wrap around\n// the document if there are no more matches.\nfunction findNextOccurrence(state, query) {\n    let { main, ranges } = state.selection;\n    let word = state.wordAt(main.head), fullWord = word && word.from == main.from && word.to == main.to;\n    for (let cycled = false, cursor = new SearchCursor(state.doc, query, ranges[ranges.length - 1].to);;) {\n        cursor.next();\n        if (cursor.done) {\n            if (cycled)\n                return null;\n            cursor = new SearchCursor(state.doc, query, 0, Math.max(0, ranges[ranges.length - 1].from - 1));\n            cycled = true;\n        }\n        else {\n            if (cycled && ranges.some(r => r.from == cursor.value.from))\n                continue;\n            if (fullWord) {\n                let word = state.wordAt(cursor.value.from);\n                if (!word || word.from != cursor.value.from || word.to != cursor.value.to)\n                    continue;\n            }\n            return cursor.value;\n        }\n    }\n}\n/**\nSelect next occurrence of the current selection. Expand selection\nto the surrounding word when the selection is empty.\n*/\nconst selectNextOccurrence = ({ state, dispatch }) => {\n    let { ranges } = state.selection;\n    if (ranges.some(sel => sel.from === sel.to))\n        return selectWord({ state, dispatch });\n    let searchedText = state.sliceDoc(ranges[0].from, ranges[0].to);\n    if (state.selection.ranges.some(r => state.sliceDoc(r.from, r.to) != searchedText))\n        return false;\n    let range = findNextOccurrence(state, searchedText);\n    if (!range)\n        return false;\n    dispatch(state.update({\n        selection: state.selection.addRange(EditorSelection.range(range.from, range.to), false),\n        effects: EditorView.scrollIntoView(range.to)\n    }));\n    return true;\n};\n\nconst searchConfigFacet = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            top: false,\n            caseSensitive: false,\n            literal: false,\n            wholeWord: false,\n            createPanel: view => new SearchPanel(view)\n        });\n    }\n});\n/**\nAdd search state to the editor configuration, and optionally\nconfigure the search extension.\n([`openSearchPanel`](https://codemirror.net/6/docs/ref/#search.openSearchPanel) will automatically\nenable this if it isn't already on).\n*/\nfunction search(config) {\n    return config ? [searchConfigFacet.of(config), searchExtensions] : searchExtensions;\n}\n/**\nA search query. Part of the editor's search state.\n*/\nclass SearchQuery {\n    /**\n    Create a query object.\n    */\n    constructor(config) {\n        this.search = config.search;\n        this.caseSensitive = !!config.caseSensitive;\n        this.literal = !!config.literal;\n        this.regexp = !!config.regexp;\n        this.replace = config.replace || \"\";\n        this.valid = !!this.search && (!this.regexp || validRegExp(this.search));\n        this.unquoted = this.unquote(this.search);\n        this.wholeWord = !!config.wholeWord;\n    }\n    /**\n    @internal\n    */\n    unquote(text) {\n        return this.literal ? text :\n            text.replace(/\\\\([nrt\\\\])/g, (_, ch) => ch == \"n\" ? \"\\n\" : ch == \"r\" ? \"\\r\" : ch == \"t\" ? \"\\t\" : \"\\\\\");\n    }\n    /**\n    Compare this query to another query.\n    */\n    eq(other) {\n        return this.search == other.search && this.replace == other.replace &&\n            this.caseSensitive == other.caseSensitive && this.regexp == other.regexp &&\n            this.wholeWord == other.wholeWord;\n    }\n    /**\n    @internal\n    */\n    create() {\n        return this.regexp ? new RegExpQuery(this) : new StringQuery(this);\n    }\n    /**\n    Get a search cursor for this query, searching through the given\n    range in the given state.\n    */\n    getCursor(state, from = 0, to) {\n        let st = state.doc ? state : EditorState.create({ doc: state });\n        if (to == null)\n            to = st.doc.length;\n        return this.regexp ? regexpCursor(this, st, from, to) : stringCursor(this, st, from, to);\n    }\n}\nclass QueryType {\n    constructor(spec) {\n        this.spec = spec;\n    }\n}\nfunction stringCursor(spec, state, from, to) {\n    return new SearchCursor(state.doc, spec.unquoted, from, to, spec.caseSensitive ? undefined : x => x.toLowerCase(), spec.wholeWord ? stringWordTest(state.doc, state.charCategorizer(state.selection.main.head)) : undefined);\n}\nfunction stringWordTest(doc, categorizer) {\n    return (from, to, buf, bufPos) => {\n        if (bufPos > from || bufPos + buf.length < to) {\n            bufPos = Math.max(0, from - 2);\n            buf = doc.sliceString(bufPos, Math.min(doc.length, to + 2));\n        }\n        return (categorizer(charBefore(buf, from - bufPos)) != CharCategory.Word ||\n            categorizer(charAfter(buf, from - bufPos)) != CharCategory.Word) &&\n            (categorizer(charAfter(buf, to - bufPos)) != CharCategory.Word ||\n                categorizer(charBefore(buf, to - bufPos)) != CharCategory.Word);\n    };\n}\nclass StringQuery extends QueryType {\n    constructor(spec) {\n        super(spec);\n    }\n    nextMatch(state, curFrom, curTo) {\n        let cursor = stringCursor(this.spec, state, curTo, state.doc.length).nextOverlapping();\n        if (cursor.done)\n            cursor = stringCursor(this.spec, state, 0, curFrom).nextOverlapping();\n        return cursor.done ? null : cursor.value;\n    }\n    // Searching in reverse is, rather than implementing inverted search\n    // cursor, done by scanning chunk after chunk forward.\n    prevMatchInRange(state, from, to) {\n        for (let pos = to;;) {\n            let start = Math.max(from, pos - 10000 /* FindPrev.ChunkSize */ - this.spec.unquoted.length);\n            let cursor = stringCursor(this.spec, state, start, pos), range = null;\n            while (!cursor.nextOverlapping().done)\n                range = cursor.value;\n            if (range)\n                return range;\n            if (start == from)\n                return null;\n            pos -= 10000 /* FindPrev.ChunkSize */;\n        }\n    }\n    prevMatch(state, curFrom, curTo) {\n        return this.prevMatchInRange(state, 0, curFrom) ||\n            this.prevMatchInRange(state, curTo, state.doc.length);\n    }\n    getReplacement(_result) { return this.spec.unquote(this.spec.replace); }\n    matchAll(state, limit) {\n        let cursor = stringCursor(this.spec, state, 0, state.doc.length), ranges = [];\n        while (!cursor.next().done) {\n            if (ranges.length >= limit)\n                return null;\n            ranges.push(cursor.value);\n        }\n        return ranges;\n    }\n    highlight(state, from, to, add) {\n        let cursor = stringCursor(this.spec, state, Math.max(0, from - this.spec.unquoted.length), Math.min(to + this.spec.unquoted.length, state.doc.length));\n        while (!cursor.next().done)\n            add(cursor.value.from, cursor.value.to);\n    }\n}\nfunction regexpCursor(spec, state, from, to) {\n    return new RegExpCursor(state.doc, spec.search, {\n        ignoreCase: !spec.caseSensitive,\n        test: spec.wholeWord ? regexpWordTest(state.charCategorizer(state.selection.main.head)) : undefined\n    }, from, to);\n}\nfunction charBefore(str, index) {\n    return str.slice(findClusterBreak(str, index, false), index);\n}\nfunction charAfter(str, index) {\n    return str.slice(index, findClusterBreak(str, index));\n}\nfunction regexpWordTest(categorizer) {\n    return (_from, _to, match) => !match[0].length ||\n        (categorizer(charBefore(match.input, match.index)) != CharCategory.Word ||\n            categorizer(charAfter(match.input, match.index)) != CharCategory.Word) &&\n            (categorizer(charAfter(match.input, match.index + match[0].length)) != CharCategory.Word ||\n                categorizer(charBefore(match.input, match.index + match[0].length)) != CharCategory.Word);\n}\nclass RegExpQuery extends QueryType {\n    nextMatch(state, curFrom, curTo) {\n        let cursor = regexpCursor(this.spec, state, curTo, state.doc.length).next();\n        if (cursor.done)\n            cursor = regexpCursor(this.spec, state, 0, curFrom).next();\n        return cursor.done ? null : cursor.value;\n    }\n    prevMatchInRange(state, from, to) {\n        for (let size = 1;; size++) {\n            let start = Math.max(from, to - size * 10000 /* FindPrev.ChunkSize */);\n            let cursor = regexpCursor(this.spec, state, start, to), range = null;\n            while (!cursor.next().done)\n                range = cursor.value;\n            if (range && (start == from || range.from > start + 10))\n                return range;\n            if (start == from)\n                return null;\n        }\n    }\n    prevMatch(state, curFrom, curTo) {\n        return this.prevMatchInRange(state, 0, curFrom) ||\n            this.prevMatchInRange(state, curTo, state.doc.length);\n    }\n    getReplacement(result) {\n        return this.spec.unquote(this.spec.replace.replace(/\\$([$&\\d+])/g, (m, i) => i == \"$\" ? \"$\"\n            : i == \"&\" ? result.match[0]\n                : i != \"0\" && +i < result.match.length ? result.match[i]\n                    : m));\n    }\n    matchAll(state, limit) {\n        let cursor = regexpCursor(this.spec, state, 0, state.doc.length), ranges = [];\n        while (!cursor.next().done) {\n            if (ranges.length >= limit)\n                return null;\n            ranges.push(cursor.value);\n        }\n        return ranges;\n    }\n    highlight(state, from, to, add) {\n        let cursor = regexpCursor(this.spec, state, Math.max(0, from - 250 /* RegExp.HighlightMargin */), Math.min(to + 250 /* RegExp.HighlightMargin */, state.doc.length));\n        while (!cursor.next().done)\n            add(cursor.value.from, cursor.value.to);\n    }\n}\n/**\nA state effect that updates the current search query. Note that\nthis only has an effect if the search state has been initialized\n(by including [`search`](https://codemirror.net/6/docs/ref/#search.search) in your configuration or\nby running [`openSearchPanel`](https://codemirror.net/6/docs/ref/#search.openSearchPanel) at least\nonce).\n*/\nconst setSearchQuery = /*@__PURE__*/StateEffect.define();\nconst togglePanel = /*@__PURE__*/StateEffect.define();\nconst searchState = /*@__PURE__*/StateField.define({\n    create(state) {\n        return new SearchState(defaultQuery(state).create(), null);\n    },\n    update(value, tr) {\n        for (let effect of tr.effects) {\n            if (effect.is(setSearchQuery))\n                value = new SearchState(effect.value.create(), value.panel);\n            else if (effect.is(togglePanel))\n                value = new SearchState(value.query, effect.value ? createSearchPanel : null);\n        }\n        return value;\n    },\n    provide: f => showPanel.from(f, val => val.panel)\n});\n/**\nGet the current search query from an editor state.\n*/\nfunction getSearchQuery(state) {\n    let curState = state.field(searchState, false);\n    return curState ? curState.query.spec : defaultQuery(state);\n}\n/**\nQuery whether the search panel is open in the given editor state.\n*/\nfunction searchPanelOpen(state) {\n    var _a;\n    return ((_a = state.field(searchState, false)) === null || _a === void 0 ? void 0 : _a.panel) != null;\n}\nclass SearchState {\n    constructor(query, panel) {\n        this.query = query;\n        this.panel = panel;\n    }\n}\nconst matchMark = /*@__PURE__*/Decoration.mark({ class: \"cm-searchMatch\" }), selectedMatchMark = /*@__PURE__*/Decoration.mark({ class: \"cm-searchMatch cm-searchMatch-selected\" });\nconst searchHighlighter = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.decorations = this.highlight(view.state.field(searchState));\n    }\n    update(update) {\n        let state = update.state.field(searchState);\n        if (state != update.startState.field(searchState) || update.docChanged || update.selectionSet || update.viewportChanged)\n            this.decorations = this.highlight(state);\n    }\n    highlight({ query, panel }) {\n        if (!panel || !query.spec.valid)\n            return Decoration.none;\n        let { view } = this;\n        let builder = new RangeSetBuilder();\n        for (let i = 0, ranges = view.visibleRanges, l = ranges.length; i < l; i++) {\n            let { from, to } = ranges[i];\n            while (i < l - 1 && to > ranges[i + 1].from - 2 * 250 /* RegExp.HighlightMargin */)\n                to = ranges[++i].to;\n            query.highlight(view.state, from, to, (from, to) => {\n                let selected = view.state.selection.ranges.some(r => r.from == from && r.to == to);\n                builder.add(from, to, selected ? selectedMatchMark : matchMark);\n            });\n        }\n        return builder.finish();\n    }\n}, {\n    decorations: v => v.decorations\n});\nfunction searchCommand(f) {\n    return view => {\n        let state = view.state.field(searchState, false);\n        return state && state.query.spec.valid ? f(view, state) : openSearchPanel(view);\n    };\n}\n/**\nOpen the search panel if it isn't already open, and move the\nselection to the first match after the current main selection.\nWill wrap around to the start of the document when it reaches the\nend.\n*/\nconst findNext = /*@__PURE__*/searchCommand((view, { query }) => {\n    let { to } = view.state.selection.main;\n    let next = query.nextMatch(view.state, to, to);\n    if (!next)\n        return false;\n    view.dispatch({\n        selection: { anchor: next.from, head: next.to },\n        scrollIntoView: true,\n        effects: announceMatch(view, next),\n        userEvent: \"select.search\"\n    });\n    return true;\n});\n/**\nMove the selection to the previous instance of the search query,\nbefore the current main selection. Will wrap past the start\nof the document to start searching at the end again.\n*/\nconst findPrevious = /*@__PURE__*/searchCommand((view, { query }) => {\n    let { state } = view, { from } = state.selection.main;\n    let range = query.prevMatch(state, from, from);\n    if (!range)\n        return false;\n    view.dispatch({\n        selection: { anchor: range.from, head: range.to },\n        scrollIntoView: true,\n        effects: announceMatch(view, range),\n        userEvent: \"select.search\"\n    });\n    return true;\n});\n/**\nSelect all instances of the search query.\n*/\nconst selectMatches = /*@__PURE__*/searchCommand((view, { query }) => {\n    let ranges = query.matchAll(view.state, 1000);\n    if (!ranges || !ranges.length)\n        return false;\n    view.dispatch({\n        selection: EditorSelection.create(ranges.map(r => EditorSelection.range(r.from, r.to))),\n        userEvent: \"select.search.matches\"\n    });\n    return true;\n});\n/**\nSelect all instances of the currently selected text.\n*/\nconst selectSelectionMatches = ({ state, dispatch }) => {\n    let sel = state.selection;\n    if (sel.ranges.length > 1 || sel.main.empty)\n        return false;\n    let { from, to } = sel.main;\n    let ranges = [], main = 0;\n    for (let cur = new SearchCursor(state.doc, state.sliceDoc(from, to)); !cur.next().done;) {\n        if (ranges.length > 1000)\n            return false;\n        if (cur.value.from == from)\n            main = ranges.length;\n        ranges.push(EditorSelection.range(cur.value.from, cur.value.to));\n    }\n    dispatch(state.update({\n        selection: EditorSelection.create(ranges, main),\n        userEvent: \"select.search.matches\"\n    }));\n    return true;\n};\n/**\nReplace the current match of the search query.\n*/\nconst replaceNext = /*@__PURE__*/searchCommand((view, { query }) => {\n    let { state } = view, { from, to } = state.selection.main;\n    if (state.readOnly)\n        return false;\n    let next = query.nextMatch(state, from, from);\n    if (!next)\n        return false;\n    let changes = [], selection, replacement;\n    let announce = [];\n    if (next.from == from && next.to == to) {\n        replacement = state.toText(query.getReplacement(next));\n        changes.push({ from: next.from, to: next.to, insert: replacement });\n        next = query.nextMatch(state, next.from, next.to);\n        announce.push(EditorView.announce.of(state.phrase(\"replaced match on line $\", state.doc.lineAt(from).number) + \".\"));\n    }\n    if (next) {\n        let off = changes.length == 0 || changes[0].from >= next.to ? 0 : next.to - next.from - replacement.length;\n        selection = { anchor: next.from - off, head: next.to - off };\n        announce.push(announceMatch(view, next));\n    }\n    view.dispatch({\n        changes, selection,\n        scrollIntoView: !!selection,\n        effects: announce,\n        userEvent: \"input.replace\"\n    });\n    return true;\n});\n/**\nReplace all instances of the search query with the given\nreplacement.\n*/\nconst replaceAll = /*@__PURE__*/searchCommand((view, { query }) => {\n    if (view.state.readOnly)\n        return false;\n    let changes = query.matchAll(view.state, 1e9).map(match => {\n        let { from, to } = match;\n        return { from, to, insert: query.getReplacement(match) };\n    });\n    if (!changes.length)\n        return false;\n    let announceText = view.state.phrase(\"replaced $ matches\", changes.length) + \".\";\n    view.dispatch({\n        changes,\n        effects: EditorView.announce.of(announceText),\n        userEvent: \"input.replace.all\"\n    });\n    return true;\n});\nfunction createSearchPanel(view) {\n    return view.state.facet(searchConfigFacet).createPanel(view);\n}\nfunction defaultQuery(state, fallback) {\n    var _a, _b, _c, _d;\n    let sel = state.selection.main;\n    let selText = sel.empty || sel.to > sel.from + 100 ? \"\" : state.sliceDoc(sel.from, sel.to);\n    if (fallback && !selText)\n        return fallback;\n    let config = state.facet(searchConfigFacet);\n    return new SearchQuery({\n        search: ((_a = fallback === null || fallback === void 0 ? void 0 : fallback.literal) !== null && _a !== void 0 ? _a : config.literal) ? selText : selText.replace(/\\n/g, \"\\\\n\"),\n        caseSensitive: (_b = fallback === null || fallback === void 0 ? void 0 : fallback.caseSensitive) !== null && _b !== void 0 ? _b : config.caseSensitive,\n        literal: (_c = fallback === null || fallback === void 0 ? void 0 : fallback.literal) !== null && _c !== void 0 ? _c : config.literal,\n        wholeWord: (_d = fallback === null || fallback === void 0 ? void 0 : fallback.wholeWord) !== null && _d !== void 0 ? _d : config.wholeWord\n    });\n}\n/**\nMake sure the search panel is open and focused.\n*/\nconst openSearchPanel = view => {\n    let state = view.state.field(searchState, false);\n    if (state && state.panel) {\n        let panel = getPanel(view, createSearchPanel);\n        if (!panel)\n            return false;\n        let searchInput = panel.dom.querySelector(\"[main-field]\");\n        if (searchInput && searchInput != view.root.activeElement) {\n            let query = defaultQuery(view.state, state.query.spec);\n            if (query.valid)\n                view.dispatch({ effects: setSearchQuery.of(query) });\n            searchInput.focus();\n            searchInput.select();\n        }\n    }\n    else {\n        view.dispatch({ effects: [\n                togglePanel.of(true),\n                state ? setSearchQuery.of(defaultQuery(view.state, state.query.spec)) : StateEffect.appendConfig.of(searchExtensions)\n            ] });\n    }\n    return true;\n};\n/**\nClose the search panel.\n*/\nconst closeSearchPanel = view => {\n    let state = view.state.field(searchState, false);\n    if (!state || !state.panel)\n        return false;\n    let panel = getPanel(view, createSearchPanel);\n    if (panel && panel.dom.contains(view.root.activeElement))\n        view.focus();\n    view.dispatch({ effects: togglePanel.of(false) });\n    return true;\n};\n/**\nDefault search-related key bindings.\n\n - Mod-f: [`openSearchPanel`](https://codemirror.net/6/docs/ref/#search.openSearchPanel)\n - F3, Mod-g: [`findNext`](https://codemirror.net/6/docs/ref/#search.findNext)\n - Shift-F3, Shift-Mod-g: [`findPrevious`](https://codemirror.net/6/docs/ref/#search.findPrevious)\n - Alt-g: [`gotoLine`](https://codemirror.net/6/docs/ref/#search.gotoLine)\n - Mod-d: [`selectNextOccurrence`](https://codemirror.net/6/docs/ref/#search.selectNextOccurrence)\n*/\nconst searchKeymap = [\n    { key: \"Mod-f\", run: openSearchPanel, scope: \"editor search-panel\" },\n    { key: \"F3\", run: findNext, shift: findPrevious, scope: \"editor search-panel\", preventDefault: true },\n    { key: \"Mod-g\", run: findNext, shift: findPrevious, scope: \"editor search-panel\", preventDefault: true },\n    { key: \"Escape\", run: closeSearchPanel, scope: \"editor search-panel\" },\n    { key: \"Mod-Shift-l\", run: selectSelectionMatches },\n    { key: \"Alt-g\", run: gotoLine },\n    { key: \"Mod-d\", run: selectNextOccurrence, preventDefault: true },\n];\nclass SearchPanel {\n    constructor(view) {\n        this.view = view;\n        let query = this.query = view.state.field(searchState).query.spec;\n        this.commit = this.commit.bind(this);\n        this.searchField = elt(\"input\", {\n            value: query.search,\n            placeholder: phrase(view, \"Find\"),\n            \"aria-label\": phrase(view, \"Find\"),\n            class: \"cm-textfield\",\n            name: \"search\",\n            form: \"\",\n            \"main-field\": \"true\",\n            onchange: this.commit,\n            onkeyup: this.commit\n        });\n        this.replaceField = elt(\"input\", {\n            value: query.replace,\n            placeholder: phrase(view, \"Replace\"),\n            \"aria-label\": phrase(view, \"Replace\"),\n            class: \"cm-textfield\",\n            name: \"replace\",\n            form: \"\",\n            onchange: this.commit,\n            onkeyup: this.commit\n        });\n        this.caseField = elt(\"input\", {\n            type: \"checkbox\",\n            name: \"case\",\n            form: \"\",\n            checked: query.caseSensitive,\n            onchange: this.commit\n        });\n        this.reField = elt(\"input\", {\n            type: \"checkbox\",\n            name: \"re\",\n            form: \"\",\n            checked: query.regexp,\n            onchange: this.commit\n        });\n        this.wordField = elt(\"input\", {\n            type: \"checkbox\",\n            name: \"word\",\n            form: \"\",\n            checked: query.wholeWord,\n            onchange: this.commit\n        });\n        function button(name, onclick, content) {\n            return elt(\"button\", { class: \"cm-button\", name, onclick, type: \"button\" }, content);\n        }\n        this.dom = elt(\"div\", { onkeydown: (e) => this.keydown(e), class: \"cm-search\" }, [\n            this.searchField,\n            button(\"next\", () => findNext(view), [phrase(view, \"next\")]),\n            button(\"prev\", () => findPrevious(view), [phrase(view, \"previous\")]),\n            button(\"select\", () => selectMatches(view), [phrase(view, \"all\")]),\n            elt(\"label\", null, [this.caseField, phrase(view, \"match case\")]),\n            elt(\"label\", null, [this.reField, phrase(view, \"regexp\")]),\n            elt(\"label\", null, [this.wordField, phrase(view, \"by word\")]),\n            ...view.state.readOnly ? [] : [\n                elt(\"br\"),\n                this.replaceField,\n                button(\"replace\", () => replaceNext(view), [phrase(view, \"replace\")]),\n                button(\"replaceAll\", () => replaceAll(view), [phrase(view, \"replace all\")])\n            ],\n            elt(\"button\", {\n                name: \"close\",\n                onclick: () => closeSearchPanel(view),\n                \"aria-label\": phrase(view, \"close\"),\n                type: \"button\"\n            }, [\"Ã—\"])\n        ]);\n    }\n    commit() {\n        let query = new SearchQuery({\n            search: this.searchField.value,\n            caseSensitive: this.caseField.checked,\n            regexp: this.reField.checked,\n            wholeWord: this.wordField.checked,\n            replace: this.replaceField.value,\n        });\n        if (!query.eq(this.query)) {\n            this.query = query;\n            this.view.dispatch({ effects: setSearchQuery.of(query) });\n        }\n    }\n    keydown(e) {\n        if (runScopeHandlers(this.view, e, \"search-panel\")) {\n            e.preventDefault();\n        }\n        else if (e.keyCode == 13 && e.target == this.searchField) {\n            e.preventDefault();\n            (e.shiftKey ? findPrevious : findNext)(this.view);\n        }\n        else if (e.keyCode == 13 && e.target == this.replaceField) {\n            e.preventDefault();\n            replaceNext(this.view);\n        }\n    }\n    update(update) {\n        for (let tr of update.transactions)\n            for (let effect of tr.effects) {\n                if (effect.is(setSearchQuery) && !effect.value.eq(this.query))\n                    this.setQuery(effect.value);\n            }\n    }\n    setQuery(query) {\n        this.query = query;\n        this.searchField.value = query.search;\n        this.replaceField.value = query.replace;\n        this.caseField.checked = query.caseSensitive;\n        this.reField.checked = query.regexp;\n        this.wordField.checked = query.wholeWord;\n    }\n    mount() {\n        this.searchField.select();\n    }\n    get pos() { return 80; }\n    get top() { return this.view.state.facet(searchConfigFacet).top; }\n}\nfunction phrase(view, phrase) { return view.state.phrase(phrase); }\nconst AnnounceMargin = 30;\nconst Break = /[\\s\\.,:;?!]/;\nfunction announceMatch(view, { from, to }) {\n    let line = view.state.doc.lineAt(from), lineEnd = view.state.doc.lineAt(to).to;\n    let start = Math.max(line.from, from - AnnounceMargin), end = Math.min(lineEnd, to + AnnounceMargin);\n    let text = view.state.sliceDoc(start, end);\n    if (start != line.from) {\n        for (let i = 0; i < AnnounceMargin; i++)\n            if (!Break.test(text[i + 1]) && Break.test(text[i])) {\n                text = text.slice(i);\n                break;\n            }\n    }\n    if (end != lineEnd) {\n        for (let i = text.length - 1; i > text.length - AnnounceMargin; i--)\n            if (!Break.test(text[i - 1]) && Break.test(text[i])) {\n                text = text.slice(0, i);\n                break;\n            }\n    }\n    return EditorView.announce.of(`${view.state.phrase(\"current match\")}. ${text} ${view.state.phrase(\"on line\")} ${line.number}.`);\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-panel.cm-search\": {\n        padding: \"2px 6px 4px\",\n        position: \"relative\",\n        \"& [name=close]\": {\n            position: \"absolute\",\n            top: \"0\",\n            right: \"4px\",\n            backgroundColor: \"inherit\",\n            border: \"none\",\n            font: \"inherit\",\n            padding: 0,\n            margin: 0\n        },\n        \"& input, & button, & label\": {\n            margin: \".2em .6em .2em 0\"\n        },\n        \"& input[type=checkbox]\": {\n            marginRight: \".2em\"\n        },\n        \"& label\": {\n            fontSize: \"80%\",\n            whiteSpace: \"pre\"\n        }\n    },\n    \"&light .cm-searchMatch\": { backgroundColor: \"#ffff0054\" },\n    \"&dark .cm-searchMatch\": { backgroundColor: \"#00ffff8a\" },\n    \"&light .cm-searchMatch-selected\": { backgroundColor: \"#ff6a0054\" },\n    \"&dark .cm-searchMatch-selected\": { backgroundColor: \"#ff00ff8a\" }\n});\nconst searchExtensions = [\n    searchState,\n    /*@__PURE__*/Prec.lowest(searchHighlighter),\n    baseTheme\n];\n\nexport { RegExpCursor, SearchCursor, SearchQuery, closeSearchPanel, findNext, findPrevious, getSearchQuery, gotoLine, highlightSelectionMatches, openSearchPanel, replaceAll, replaceNext, search, searchKeymap, searchPanelOpen, selectMatches, selectNextOccurrence, selectSelectionMatches, setSearchQuery };\n","import { Prec, StateEffect, StateField, MapMode, EditorSelection } from '@codemirror/state';\nimport { EditorView, Direction, ViewPlugin, keymap, showPanel } from '@codemirror/view';\nimport * as commands from '@codemirror/commands';\nimport { startCompletion } from '@codemirror/autocomplete';\nimport { openSearchPanel } from '@codemirror/search';\n\nclass Piece {\n    constructor(left, top, height, className, letter, partial) {\n        this.left = left;\n        this.top = top;\n        this.height = height;\n        this.className = className;\n        this.letter = letter;\n        this.partial = partial;\n    }\n    draw() {\n        let elt = document.createElement(\"div\");\n        elt.className = this.className;\n        this.adjust(elt);\n        return elt;\n    }\n    adjust(elt) {\n        elt.style.left = this.left + \"px\";\n        elt.style.top = this.top + \"px\";\n        elt.style.height = this.height + \"px\";\n        elt.style.lineHeight = this.height + \"px\";\n        elt.style.color = this.partial ? \"transparent\" : \"\";\n        elt.className = this.className;\n        elt.textContent = this.letter;\n    }\n    eq(p) {\n        return this.left == p.left && this.top == p.top && this.letter == p.letter && this.height == p.height &&\n            this.className == p.className;\n    }\n}\nclass BlockCursorPlugin {\n    constructor(view) {\n        this.view = view;\n        this.rangePieces = [];\n        this.cursors = [];\n        this.measureReq = { read: this.readPos.bind(this), write: this.drawSel.bind(this) };\n        this.cursorLayer = view.scrollDOM.appendChild(document.createElement(\"div\"));\n        this.cursorLayer.className = \"cm-cursorLayer cm-vimCursorLayer\";\n        this.cursorLayer.setAttribute(\"aria-hidden\", \"true\");\n        view.requestMeasure(this.measureReq);\n        this.setBlinkRate();\n    }\n    setBlinkRate() {\n        this.cursorLayer.style.animationDuration = 1200 + \"ms\";\n    }\n    update(update) {\n        if (update.selectionSet || update.geometryChanged || update.viewportChanged) {\n            this.view.requestMeasure(this.measureReq);\n            this.cursorLayer.style.animationName = this.cursorLayer.style.animationName == \"cm-blink\" ? \"cm-blink2\" : \"cm-blink\";\n        }\n    }\n    scheduleRedraw() {\n        this.view.requestMeasure(this.measureReq);\n    }\n    readPos() {\n        let { state } = this.view;\n        let cursors = [];\n        for (let r of state.selection.ranges) {\n            let prim = r == state.selection.main;\n            let piece = measureCursor(null, this.view, r, prim);\n            if (piece)\n                cursors.push(piece);\n        }\n        return { cursors };\n    }\n    drawSel({ cursors }) {\n        if (cursors.length != this.cursors.length || cursors.some((c, i) => !c.eq(this.cursors[i]))) {\n            let oldCursors = this.cursorLayer.children;\n            if (oldCursors.length !== cursors.length) {\n                this.cursorLayer.textContent = \"\";\n                for (const c of cursors)\n                    this.cursorLayer.appendChild(c.draw());\n            }\n            else {\n                cursors.forEach((c, idx) => c.adjust(oldCursors[idx]));\n            }\n            this.cursors = cursors;\n        }\n    }\n    destroy() {\n        this.cursorLayer.remove();\n    }\n}\nconst themeSpec = {\n    \".cm-line\": {\n        \"& ::selection\": { backgroundColor: \"transparent !important\" },\n        \"&::selection\": { backgroundColor: \"transparent !important\" },\n        caretColor: \"transparent !important\",\n    },\n    \".cm-fat-cursor\": {\n        position: \"absolute\",\n        background: \"#ff9696\",\n        border: \"none\",\n        whiteSpace: \"pre\",\n    },\n    \"&:not(.cm-focused) .cm-fat-cursor\": {\n        background: \"none\",\n        outline: \"solid 1px #ff9696\"\n    },\n};\nconst hideNativeSelection = /*@__PURE__*/Prec.highest(/*@__PURE__*/EditorView.theme(themeSpec));\nfunction getBase(view) {\n    let rect = view.scrollDOM.getBoundingClientRect();\n    let left = view.textDirection == Direction.LTR ? rect.left : rect.right - view.scrollDOM.clientWidth;\n    return { left: left - view.scrollDOM.scrollLeft, top: rect.top - view.scrollDOM.scrollTop };\n}\nfunction measureCursor(cm, view, cursor, primary) {\n    let head = cursor.head;\n    var hCoeff = 1;\n    let pos = view.coordsAtPos(head, 1);\n    if (!pos)\n        return null;\n    let base = getBase(view);\n    let letter = head < view.state.doc.length && view.state.sliceDoc(head, head + 1);\n    if (!letter || letter == \"\\n\" || letter == \"\\r\")\n        letter = \"\\xa0\";\n    let h = (pos.bottom - pos.top);\n    return new Piece(pos.left - base.left, pos.top - base.top + h * (1 - hCoeff), h * hCoeff, primary ? \"cm-fat-cursor cm-cursor-primary\" : \"cm-fat-cursor cm-cursor-secondary\", letter, hCoeff != 1);\n}\n\nconst emacsStyle = /*@__PURE__*/EditorView.theme({\n    \".cm-emacsMode .cm-cursorLayer:not(.cm-vimCursorLayer)\": {\n        display: \"none\",\n    },\n    \".cm-vim-panel\": {\n        padding: \"5px 10px\",\n        backgroundColor: \"#fffa8f\",\n        fontFamily: \"monospace\",\n    },\n    \".cm-vim-panel input\": {\n        border: \"none\",\n        outline: \"none\",\n        backgroundColor: \"#fffa8f\",\n    },\n});\nconst emacsPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.status = \"\";\n        this.view = view;\n        this.em = new EmacsHandler(view);\n        this.blockCursor = new BlockCursorPlugin(view);\n        this.view.scrollDOM.classList.add(\"cm-emacsMode\");\n        /*this.em.on(\"dialog\", () => {\n          view.dispatch({\n            effects: showEmacsPanel.of(!!this.cm.state.dialog)\n          })\n        });*/\n    }\n    update(update) {\n        if (update.docChanged) {\n            this.em.$emacsMark = null;\n            this.em.updateMarksOnChange(update.changes);\n        }\n        /*if (update.selectionSet) {\n          this.em.onSelectionChange()\n        }\n        if (update.viewportChanged) {\n          // scroll\n        }\n        if (this.em.curOp && !this.em.curOp.isVimOp) {\n          this.em.onBeforeEndOperation();\n        }/**/\n        this.blockCursor.update(update);\n    }\n    destroy() {\n        this.view.scrollDOM.classList.remove(\"cm-emacsMode\");\n        this.blockCursor.destroy();\n    }\n}, {\n    eventHandlers: {\n        mousedown: function () {\n            this.em.$emacsMark = null;\n        }\n    },\n    provide: plugin => {\n        return keymap.of([\n            {\n                any: function (view, e) {\n                    var _a;\n                    return !!((_a = view.plugin(plugin)) === null || _a === void 0 ? void 0 : _a.em.handleKeyboard(e));\n                }\n            }\n        ]);\n    }\n});\nconst showVimPanel = /*@__PURE__*/StateEffect.define();\nconst vimPanelState = /*@__PURE__*/StateField.define({\n    create: () => false,\n    update(value, tr) {\n        for (let e of tr.effects)\n            if (e.is(showVimPanel))\n                value = e.value;\n        return value;\n    },\n    provide: f => {\n        return showPanel.from(f, on => on ? createVimPanel : null);\n    }\n});\nfunction createVimPanel(view) {\n    let dom = document.createElement(\"div\");\n    dom.className = \"cm-vim-panel\";\n    return { top: false, dom };\n}\nfunction emacs(options = {}) {\n    return [\n        emacsStyle,\n        emacsPlugin,\n        hideNativeSelection,\n        vimPanelState\n    ];\n}\nvar specialKey = {\n    Return: 'Return', Escape: 'Esc', Insert: 'Ins',\n    ArrowLeft: 'Left', ArrowRight: 'Right', ArrowUp: 'Up', ArrowDown: 'Down',\n    Enter: 'Return', Divide: '/', Slash: '/', Multiply: '*',\n    Subtract: '-', Minus: \"-\", Equal: '=',\n};\nvar ignoredKeys = { Shift: 1, Alt: 1, Command: 1, Control: 1, CapsLock: 1 };\nconst commandKeyBinding = {};\nclass EmacsHandler {\n    constructor(view) {\n        this.view = view;\n        // commands\n        this.$data = {\n            count: 0,\n            keyChain: \"\",\n            lastCommand: \"\"\n        };\n        // mark\n        this.$emacsMarkRing = [];\n        this.$emacsMark = null;\n    }\n    static bindKey(keyGroup, command) {\n        keyGroup.split(\"|\").forEach(function (binding) {\n            let chain = \"\";\n            let parts = binding.split(/\\s+/);\n            parts.forEach(function (keyGroup, index) {\n                let modifiers = keyGroup.split(/-(?=.)/);\n                let key = modifiers.pop();\n                if (modifiers.length) {\n                    chain += modifiers.sort().join(\"-\") + \"-\";\n                }\n                chain += key;\n                if (index === parts.length - 1) {\n                    commandKeyBinding[chain] = command;\n                }\n                else {\n                    commandKeyBinding[chain] = \"null\";\n                    chain += \" \";\n                }\n            });\n        });\n    }\n    static getKey(e) {\n        var code = e.code;\n        var key = e.key;\n        if (ignoredKeys[key])\n            return ['', '', ''];\n        if (code.length > 1) {\n            if (code[0] == \"N\")\n                code = code.replace(/^Numpad/, \"\");\n            if (code[0] == \"K\")\n                code = code.replace(/^Key/, \"\");\n        }\n        code = specialKey[code] || code;\n        if (code.length == 1)\n            code = code.toLowerCase();\n        var modifier = '';\n        if (e.ctrlKey) {\n            modifier += 'C-';\n        }\n        if (e.metaKey) {\n            modifier += 'CMD-';\n        }\n        if (e.altKey) {\n            modifier += 'M-';\n        }\n        if (e.shiftKey) {\n            modifier += 'S-';\n        }\n        return [code, modifier, key];\n    }\n    static addCommands(commands) {\n        Object.keys(commands).forEach(function (name) {\n            var command = commands[name];\n            if (typeof command == \"function\") {\n                command = { exec: command };\n            }\n            EmacsHandler.commands[name] = command;\n        });\n    }\n    static execCommand(command, handler, args, count = 1) {\n        var commandResult = undefined;\n        if (typeof command === \"function\") {\n            for (var i = 0; i < count; i++)\n                command(handler.view);\n        }\n        else if (command === \"null\") ;\n        else if (command.exec) {\n            if (count > 1 && command.handlesCount) {\n                if (!args)\n                    args = {};\n                if (typeof args === 'object')\n                    args.count = count;\n                count = 1;\n            }\n            for (var i = 0; i < count; i++)\n                commandResult = command.exec(handler, args || {});\n        }\n        else {\n            throw new Error(\"missformed command\");\n        }\n        return commandResult;\n    }\n    ;\n    handleKeyboard(e) {\n        var keyData = EmacsHandler.getKey(e);\n        var result = this.findCommand(keyData);\n        if (result && result.command) {\n            var commandResult = EmacsHandler.execCommand(result.command, this, result.args, result.count);\n            if (commandResult === false)\n                return;\n        }\n        return result;\n    }\n    findCommand([key, modifier, text]) {\n        // if keyCode == -1 a non-printable key was pressed, such as just\n        // control. Handling those is currently not supported in this handler\n        if (!key)\n            return undefined;\n        var editor = this;\n        var data = this.$data;\n        // editor._signal(\"changeStatus\");\n        // insertstring data.count times\n        if (!modifier && key.length == 1) {\n            editor.pushEmacsMark();\n            if (data.count) {\n                var str = new Array(data.count + 1).join(text);\n                data.count = null;\n                return { command: \"insertstring\", args: str };\n            }\n        }\n        // CTRL + number / universalArgument for setting data.count\n        if (modifier == \"C-\" || data.count) {\n            var count = parseInt(key[key.length - 1]);\n            if (typeof count === 'number' && !isNaN(count)) {\n                data.count = Math.max(data.count || 0, 0);\n                data.count = 10 * data.count + count;\n                return { command: \"null\" };\n            }\n        }\n        // this.commandKeyBinding maps key specs like \"c-p\" (for CTRL + P) to\n        // command objects, for lookup key needs to include the modifier\n        if (modifier)\n            key = modifier + key;\n        // Key combos like CTRL+X H build up the data.keyChain\n        if (data.keyChain)\n            key = data.keyChain += \" \" + key;\n        // Key combo prefixes get stored as \"null\" (String!) in this\n        // this.commandKeyBinding. When encountered no command is invoked but we\n        // buld up data.keyChain\n        var command = commandKeyBinding[key];\n        data.keyChain = command == \"null\" ? key : \"\";\n        // there really is no command\n        if (!command)\n            return undefined;\n        // we pass b/c of key combo or universalArgument\n        if (command === \"null\")\n            return { command: \"null\" };\n        if (command === \"universalArgument\") {\n            // if no number pressed emacs repeats action 4 times.\n            // minus sign is needed to allow next keypress to replace it\n            data.count = -4;\n            return { command: \"null\" };\n        }\n        // lookup command\n        // TODO extract special handling of markmode\n        // TODO special case command.command is really unnecessary, remove\n        var args;\n        if (typeof command !== \"string\") {\n            args = command.args;\n            if (command.command)\n                command = command.command;\n        }\n        if (command === \"insertstring\" ||\n            command === commands.splitLine ||\n            command === commands.toggleComment) {\n            editor.pushEmacsMark();\n        }\n        if (typeof command === \"string\") {\n            command = EmacsHandler.commands[command];\n            if (!command)\n                return undefined;\n        }\n        if (!command.readOnly && !command.isYank)\n            data.lastCommand = null;\n        var count = data.count || 1;\n        if (data.count)\n            data.count = 0;\n        return { command, args, count };\n    }\n    showCommandLine(text) {\n        console.error(\"TODO\");\n    }\n    updateMarksOnChange(change) {\n        if (this.$emacsMark) {\n            this.$emacsMark = this.updateMark(this.$emacsMark, change);\n        }\n        this.$emacsMarkRing = this.$emacsMarkRing.map(x => {\n            return this.updateMark(x, change);\n        }).filter(Boolean);\n    }\n    updateMark(mark, change) {\n        if (!mark)\n            return;\n        var updated = mark.map(function (x) {\n            return change.mapPos(x, 1, MapMode.TrackDel);\n        }).filter(x => x != null);\n        return updated.length == 0 ? null : updated;\n    }\n    emacsMark() {\n        return this.$emacsMark;\n    }\n    ;\n    setEmacsMark(p) {\n        // to deactivate pass in a falsy value\n        this.$emacsMark = p;\n    }\n    ;\n    pushEmacsMark(p, activate) {\n        var prevMark = this.$emacsMark;\n        if (prevMark)\n            this.$emacsMarkRing.push(prevMark);\n        if (!p || activate)\n            this.setEmacsMark(p);\n        else\n            this.$emacsMarkRing.push(p);\n    }\n    ;\n    popEmacsMark() {\n        var mark = this.emacsMark();\n        if (mark) {\n            this.setEmacsMark(null);\n            return mark;\n        }\n        return this.$emacsMarkRing.pop();\n    }\n    ;\n    getLastEmacsMark() {\n        return this.$emacsMark || this.$emacsMarkRing.slice(-1)[0];\n    }\n    ;\n    getCopyText() {\n        var state = this.view.state;\n        return state.selection.ranges.map(r => state.sliceDoc(r.from, r.to)).join(\"\\n\");\n    }\n    clearSelection() {\n        var view = this.view;\n        var selection = view.state.selection;\n        var isEmpty = !selection.ranges.some(r => r.from != r.to);\n        if (isEmpty)\n            return false;\n        var newRanges = selection.ranges.map(x => {\n            return EditorSelection.range(x.head, x.head);\n        });\n        view.dispatch({\n            selection: EditorSelection.create(newRanges, selection.mainIndex)\n        });\n        return true;\n    }\n    onPaste(text) {\n        var view = this.view;\n        var selection = view.state.selection;\n        var linesToInsert;\n        if (selection.ranges.length > 1) {\n            var lines = text.split(\"\\n\");\n            if (lines.length == selection.ranges.length) {\n                linesToInsert = lines;\n            }\n        }\n        var i = 0;\n        var specs = view.state.changeByRange((range) => {\n            var toInsert = linesToInsert ? linesToInsert[i] : text;\n            i++;\n            return {\n                changes: { from: range.from, to: range.to, insert: toInsert },\n                range: EditorSelection.cursor(range.from + toInsert.length)\n            };\n        });\n        view.dispatch(specs);\n    }\n}\nEmacsHandler.commands = {};\nconst emacsKeys = {\n    // movement\n    \"Up|C-p\": { command: \"goOrSelect\", args: [commands.cursorLineUp, commands.selectLineUp] },\n    \"Down|C-n\": { command: \"goOrSelect\", args: [commands.cursorLineDown, commands.selectLineDown] },\n    \"Left|C-b\": { command: \"goOrSelect\", args: [commands.cursorCharBackward, commands.selectCharBackward] },\n    \"Right|C-f\": { command: \"goOrSelect\", args: [commands.cursorCharForward, commands.selectCharForward] },\n    \"C-Left|M-b\": { command: \"goOrSelect\", args: [commands.cursorGroupLeft, commands.selectGroupLeft] },\n    \"C-Right|M-f\": { command: \"goOrSelect\", args: [commands.cursorGroupRight, commands.selectGroupRight] },\n    \"Home|C-a\": { command: \"goOrSelect\", args: [commands.cursorLineStart, commands.selectLineStart] },\n    \"End|C-e\": { command: \"goOrSelect\", args: [commands.cursorLineEnd, commands.selectLineEnd] },\n    \"C-Home|S-M-,\": { command: \"goOrSelect\", args: [commands.cursorDocStart, commands.selectDocStart] },\n    \"C-End|S-M-.\": { command: \"goOrSelect\", args: [commands.cursorDocEnd, commands.selectDocEnd] },\n    // selection\n    \"S-Up|S-C-p\": commands.selectLineUp,\n    \"S-Down|S-C-n\": commands.selectLineDown,\n    \"S-Left|S-C-b\": commands.selectCharBackward,\n    \"S-Right|S-C-f\": commands.selectCharForward,\n    \"S-C-Left|S-M-b\": commands.selectGroupBackward,\n    \"S-C-Right|S-M-f\": commands.selectGroupForward,\n    \"S-Home|S-C-a\": commands.selectLineStart,\n    \"S-End|S-C-e\": commands.selectLineEnd,\n    \"S-C-Home\": commands.selectDocStart,\n    \"S-C-End\": commands.selectDocEnd,\n    \"C-l\": \"recenterTopBottom\",\n    \"M-s\": \"centerSelection\",\n    \"M-g\": \"gotoline\",\n    \"C-x C-p|C-x h\": commands.selectAll,\n    \"PageDown|C-v|C-Down\": { command: \"goOrSelect\", args: [commands.cursorPageDown, commands.selectPageDown] },\n    \"PageUp|M-v|C-Up\": { command: \"goOrSelect\", args: [commands.cursorPageUp, commands.selectPageDown] },\n    \"S-C-Down\": commands.selectPageDown,\n    \"S-C-Up\": commands.selectPageUp,\n    // TODO use iSearch\n    \"C-s\": openSearchPanel,\n    \"C-r\": openSearchPanel,\n    \"M-C-s\": \"findnext\",\n    \"M-C-r\": \"findprevious\",\n    \"S-M-5\": \"replace\",\n    // basic editing\n    \"Backspace\": commands.deleteCharBackward,\n    \"Delete|C-d\": commands.deleteCharForward,\n    \"Return|C-m\": { command: \"insertstring\", args: \"\\n\" },\n    \"C-o\": commands.splitLine,\n    \"M-d|C-Delete\": { command: \"killWord\", args: \"right\" },\n    \"C-Backspace|M-Backspace|M-Delete\": { command: \"killWord\", args: \"left\" },\n    \"C-k\": \"killLine\",\n    \"M-h\": \"selectParagraph\",\n    \"M-@|M-S-2\": \"markWord\",\n    \"C-y|S-Delete\": \"yank\",\n    \"M-y\": \"yankRotate\",\n    \"C-g\": \"keyboardQuit\",\n    \"C-w|C-S-w\": \"killRegion\",\n    \"M-w\": \"killRingSave\",\n    \"C-Space\": \"setMark\",\n    \"C-x C-x\": \"exchangePointAndMark\",\n    \"C-t\": commands.transposeChars,\n    \"M-u\": { command: \"changeCase\", args: { dir: 1 } },\n    \"M-l\": { command: \"changeCase\", args: { dir: -1 } },\n    \"C-x C-u\": { command: \"changeCase\", args: { dir: 1, region: true } },\n    \"C-x C-l\": { command: \"changeCase\", args: { dir: 1, region: true } },\n    \"M-/\": startCompletion,\n    \"C-u\": \"universalArgument\",\n    \"M-;\": commands.toggleComment,\n    \"C-/|C-x u|S-C--|C-z\": commands.undo,\n    \"S-C-/|S-C-x u|C--|S-C-z\": commands.redo,\n    // vertical editing\n    \"C-x r\": \"selectRectangularRegion\",\n    \"M-x\": { command: \"focusCommandLine\", args: \"M-x \" },\n    // todo\n    // \"C-x C-t\" \"M-t\" \"M-c\" \"F11\" \"C-M- \"M-q\"\n    \"Esc\": \"unsetTransientMark\"\n};\nfor (let i in emacsKeys) {\n    /*@__PURE__*/EmacsHandler.bindKey(i, emacsKeys[i]);\n}\n/*@__PURE__*/EmacsHandler.addCommands({\n    unsetTransientMark: function (handler) {\n        handler.setEmacsMark(null);\n        return false;\n    },\n    markWord: function (handler, args) {\n    },\n    selectParagraph: function (handler, args) {\n        var view = handler.view;\n        var head = view.state.selection.ranges[0].head;\n        var doc = view.state.doc;\n        var startLine = doc.lineAt(head);\n        var start = -1;\n        var end = -1;\n        var line = startLine;\n        while (/\\S/.test(line.text) && line.from > 0) {\n            start = line.from;\n            line = view.state.doc.lineAt(line.from - 1);\n        }\n        if (start == -1) {\n            while (!/\\S/.test(line.text) && line.to < doc.length) {\n                start = line.from;\n                line = view.state.doc.lineAt(line.to + 1);\n            }\n        }\n        else {\n            line = startLine;\n        }\n        while (/\\S/.test(line.text) && line.to < doc.length) {\n            end = line.to;\n            line = view.state.doc.lineAt(line.to + 1);\n        }\n        if (end == -1) {\n            end = startLine.to;\n        }\n        var newRanges = [EditorSelection.range(start, end)];\n        view.dispatch({\n            selection: EditorSelection.create(newRanges)\n        });\n    },\n    goOrSelect: {\n        exec: function (handler, args) {\n            var command = handler.emacsMark() ? args[1] : args[0];\n            command(handler.view);\n        }\n    },\n    changeCase: function (handler, args) {\n        var view = handler.view;\n        if (!args.region) {\n            handler.clearSelection();\n            commands.selectGroupForward(view);\n        }\n        var specs = view.state.changeByRange((range) => {\n            var toInsert = view.state.sliceDoc(range.from, range.to);\n            toInsert = args.dir == 1 ? toInsert.toUpperCase() : toInsert.toLowerCase();\n            return {\n                changes: { from: range.from, to: range.to, insert: toInsert },\n                range: EditorSelection.cursor(range.from + toInsert.length)\n            };\n        });\n        view.dispatch(specs);\n    },\n    centerSelection: function (handler) {\n        handler.view.dispatch({ scrollIntoView: true });\n    },\n    recenterTopBottom: function (handler) {\n        var view = handler.view;\n        var scrollTop = view.scrollDOM.scrollTop;\n        view.dispatch({ scrollIntoView: true });\n        try {\n            // force synchronous measurment\n            view.measure(true);\n        }\n        catch (e) { }\n        if (scrollTop != view.scrollDOM.scrollTop)\n            return;\n        var base = view.scrollDOM.getBoundingClientRect();\n        var cursor = view.coordsAtPos(view.state.selection.main.head);\n        if (!cursor)\n            return;\n        var lineHeight = cursor.bottom - cursor.top;\n        var screenHeight = base.height;\n        var cursorTop = cursor.top - base.top;\n        if (Math.abs(cursorTop) < lineHeight / 4) {\n            scrollTop += cursorTop + lineHeight - screenHeight + 2;\n        }\n        else if (Math.abs(cursorTop - screenHeight * 0.5) < lineHeight / 4) {\n            scrollTop += cursorTop - 2;\n        }\n        else {\n            scrollTop += cursorTop - screenHeight * 0.5;\n        }\n        view.scrollDOM.scrollTop = scrollTop;\n    },\n    selectRectangularRegion: function (handler) {\n        var view = handler.view;\n        var ranges = view.state.selection.ranges;\n        var newRanges = [];\n        if (ranges.length > 1) {\n            newRanges.push(EditorSelection.range(ranges[0].from, ranges[ranges.length - 1].to));\n        }\n        else {\n            let doc = view.state.doc;\n            let startLine = doc.lineAt(ranges[0].from);\n            let endLine = doc.lineAt(ranges[0].to);\n            let startCollumn = ranges[0].from - startLine.from;\n            let endCollumn = ranges[0].to - endLine.from;\n            while (startLine.from < endLine.to) {\n                newRanges.push(EditorSelection.range(startLine.from + startCollumn, startLine.from + endCollumn));\n                if (startLine.to + 1 >= doc.length)\n                    break;\n                startLine = doc.lineAt(startLine.to + 1);\n            }\n        }\n        view.dispatch({\n            selection: EditorSelection.create(newRanges)\n        });\n    },\n    setMark: {\n        exec: function (handler, args) {\n            var view = handler.view;\n            var ranges = view.state.selection.ranges;\n            // Sets mark-mode and clears current selection.\n            // When mark is set, keyboard cursor movement commands become\n            // selection modification commands. That is,\n            // \"goto\" commands become \"select\" commands.\n            // Any insertion or mouse click resets mark-mode.\n            // setMark twice in a row at the same place resets markmode.\n            // in multi select mode, ea selection is handled individually\n            if (args && args.count) {\n                var mark = handler.popEmacsMark();\n                if (mark) {\n                    var newRanges = mark.map((p) => {\n                        return EditorSelection.cursor(p, p);\n                    });\n                    view.dispatch({\n                        selection: EditorSelection.create(newRanges)\n                    });\n                }\n                return;\n            }\n            var mark = handler.emacsMark();\n            var rangePositions = ranges.map(function (r) { return r.from; });\n            var hasNoSelection = ranges.every(function (range) { return range.from == range.to; });\n            // if transientMarkModeActive then mark behavior is a little\n            // different. Deactivate the mark when setMark is run with active\n            // mark\n            if ((mark || !hasNoSelection)) {\n                handler.clearSelection();\n                if (mark)\n                    handler.pushEmacsMark(null);\n                return;\n            }\n            if (!mark) {\n                handler.pushEmacsMark(rangePositions);\n                handler.setEmacsMark(rangePositions);\n                return;\n            }\n            // -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\n        },\n        readOnly: true,\n        handlesCount: true\n    },\n    exchangePointAndMark: {\n        exec: function exchangePointAndMark$exec(handler, args) {\n            var view = handler.view;\n            var selection = view.state.selection;\n            var isEmpty = !selection.ranges.some(r => r.from != r.to);\n            if (!args.count && !isEmpty) { // just invert selection\n                var newRanges = selection.ranges.map(x => {\n                    return EditorSelection.range(x.head, x.anchor);\n                });\n                view.dispatch({\n                    selection: EditorSelection.create(newRanges, selection.mainIndex)\n                });\n                return;\n            }\n            var markRing = handler.$emacsMarkRing;\n            var lastMark = markRing[markRing.length - 1];\n            if (!lastMark)\n                return;\n            if (args.count) { // replace mark and point\n                handler.clearSelection();\n                var newRanges = lastMark.map(x => {\n                    return EditorSelection.range(x, x);\n                });\n                view.dispatch({\n                    selection: EditorSelection.create(newRanges, selection.mainIndex)\n                });\n            }\n            else { // create selection to last mark\n                var n = Math.min(lastMark.length, selection.ranges.length);\n                newRanges = [];\n                for (var i = 0; i < n; i++) {\n                    newRanges.push(EditorSelection.range(selection.ranges[i].head, lastMark[i]));\n                }\n            }\n        },\n        readOnly: true,\n        handlesCount: true,\n    },\n    killWord: {\n        exec: function (handler, dir) {\n            var view = handler.view;\n            var selection = view.state.selection;\n            var newRanges = selection.ranges.map(x => {\n                return EditorSelection.range(x.head, x.head);\n            });\n            view.dispatch({\n                selection: EditorSelection.create(newRanges, selection.mainIndex)\n            });\n            if (dir == \"left\")\n                commands.selectGroupBackward(view);\n            else\n                commands.selectGroupForward(view);\n            selection = view.state.selection;\n            selection.ranges.forEach(r => {\n                var text = view.state.sliceDoc(r.from, r.to);\n                killRing.add(text);\n            });\n            view.dispatch(view.state.replaceSelection(\"\"));\n        },\n    },\n    killLine: function (handler) {\n        handler.pushEmacsMark(null);\n        // don't delete the selection if it's before the cursor\n        handler.clearSelection();\n        commands.selectLineEnd(handler.view);\n        var view = handler.view;\n        var state = view.state;\n        var text = [];\n        var changes = handler.view.state.selection.ranges.map(function (range) {\n            var from = range.from;\n            var to = range.to;\n            var line = state.sliceDoc(from, to);\n            text.push(line);\n            // remove EOL if only whitespace remains after the cursor\n            if (/^\\s*$/.test(line)) {\n                to += 1;\n                text.push(\"\\n\");\n            }\n            return { from, to, insert: \"\" };\n        });\n        if (handler.$data.lastCommand == \"killLine\")\n            killRing.append(text.join(\"\\n\"));\n        else\n            killRing.add(text.join(\"\\n\"));\n        view.dispatch({ changes });\n    },\n    yank: function (handler) {\n        handler.onPaste(killRing.get());\n        handler.$data.lastCommand = \"yank\";\n    },\n    yankRotate: function (handler) {\n        if (handler.$data.lastCommand != \"yank\")\n            return;\n        commands.undo(handler.view);\n        handler.$emacsMarkRing.pop(); // also undo recording mark\n        handler.onPaste(killRing.rotate());\n        handler.$data.lastCommand = \"yank\";\n    },\n    killRegion: {\n        exec: function (handler) {\n            killRing.add(handler.getCopyText());\n            var view = handler.view;\n            view.dispatch(view.state.replaceSelection(\"\"));\n            handler.setEmacsMark(null);\n        },\n    },\n    killRingSave: {\n        exec: function (handler) {\n            var text = handler.getCopyText();\n            killRing.add(text);\n            handler.clearSelection();\n            navigator.clipboard.writeText(text);\n        },\n        readOnly: true\n    },\n    keyboardQuit: function (handler) {\n        var view = handler.view;\n        var selection = view.state.selection;\n        var isEmpty = !selection.ranges.some(r => r.from != r.to);\n        if (selection.ranges.length > 1 && !isEmpty) {\n            var newRanges = selection.ranges.map(x => {\n                return EditorSelection.range(x.head, x.head);\n            });\n            view.dispatch({\n                selection: EditorSelection.create(newRanges, selection.mainIndex)\n            });\n        }\n        else {\n            commands.simplifySelection(handler.view);\n        }\n        handler.setEmacsMark(null);\n        handler.$data.count = null;\n    },\n    focusCommandLine: function (handler, arg) {\n        handler.showCommandLine(arg);\n    }\n});\nconst killRing = {\n    $data: [],\n    add: function (str) {\n        str && this.$data.push(str);\n        if (this.$data.length > 30)\n            this.$data.shift();\n    },\n    append: function (str) {\n        var idx = this.$data.length - 1;\n        var text = this.$data[idx] || \"\";\n        if (str)\n            text += str;\n        if (text)\n            this.$data[idx] = text;\n    },\n    get: function (n) {\n        n = n || 1;\n        return this.$data.slice(this.$data.length - n, this.$data.length).reverse().join('\\n');\n    },\n    pop: function () {\n        if (this.$data.length > 1)\n            this.$data.pop();\n        return this.get();\n    },\n    rotate: function () {\n        let last = this.$data.pop();\n        if (last)\n            this.$data.unshift(last);\n        return this.get();\n    }\n};\n\nexport { emacs, emacsKeys };\n","import { EditorSelection, MapMode, Prec, RangeSetBuilder, StateEffect, StateField } from '@codemirror/state';\nimport { foldCode, matchBrackets, indentUnit, ensureSyntaxTree, StringStream } from '@codemirror/language';\nimport { runScopeHandlers, EditorView, Direction, ViewPlugin, Decoration, showPanel } from '@codemirror/view';\nimport { SearchQuery, setSearchQuery, RegExpCursor } from '@codemirror/search';\nimport { indentMore, indentLess, cursorLineBoundaryBackward, cursorLineBoundaryForward, cursorCharBackward, cursorCharLeft, insertNewlineAndIndent, indentSelection, undo, redo } from '@codemirror/commands';\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n/**\n * Supported keybindings:\n *   Too many to list. Refer to defaultKeymap below.\n *\n * Supported Ex commands:\n *   Refer to defaultExCommandMap below.\n *\n * Registers: unnamed, -, ., :, /, _, a-z, A-Z, 0-9\n *   (Does not respect the special case for number registers when delete\n *    operator is made with these commands: %, (, ),  , /, ?, n, N, {, } )\n *   TODO: Implement the remaining registers.\n *\n * Marks: a-z, A-Z, and 0-9\n *   TODO: Implement the remaining special marks. They have more complex\n *       behavior.\n *\n * Events:\n *  'vim-mode-change' - raised on the editor anytime the current mode changes,\n *                      Event object: {mode: \"visual\", subMode: \"linewise\"}\n *\n * Code structure:\n *  1. Default keymap\n *  2. Variable declarations and short basic helpers\n *  3. Instance (External API) implementation\n *  4. Internal state tracking objects (input state, counter) implementation\n *     and instantiation\n *  5. Key handler (the main command dispatcher) implementation\n *  6. Motion, operator, and action implementations\n *  7. Helper functions for the key handler, motions, operators, and actions\n *  8. Set up Vim to work as a keymap for CodeMirror.\n *  9. Ex command implementations.\n */\n\nfunction initVim(CodeMirror) {\n\n  var Pos = CodeMirror.Pos;\n\n  function transformCursor(cm, range) {\n    var vim = cm.state.vim;\n    if (!vim || vim.insertMode) return range.head;\n    var head = vim.sel.head;\n    if (!head)  return range.head;\n\n    if (vim.visualBlock) {\n      if (range.head.line != head.line) {\n        return;\n      }\n    }\n    if (range.from() == range.anchor && !range.empty()) {\n      if (range.head.line == head.line && range.head.ch != head.ch)\n        return new Pos(range.head.line, range.head.ch - 1);\n    }\n\n    return range.head;\n  }\n\n  function updateSelectionForSurrogateCharacters(cm, curStart, curEnd) {\n    // start and character position when no selection \n    // is the same in visual mode, and differs in 1 character in normal mode\n    if (curStart.line === curEnd.line && curStart.ch >= curEnd.ch - 1) {\n      var text = cm.getLine(curStart.line);\n      var charCode = text.charCodeAt(curStart.ch);\n      if (0xD800 <= charCode && charCode <= 0xD8FF) {\n        curEnd.ch += 1;\n      }\n    }\n\n    return {start: curStart, end: curEnd};\n  }\n\n  var defaultKeymap = [\n    // Key to key mapping. This goes first to make it possible to override\n    // existing mappings.\n    { keys: '<Left>', type: 'keyToKey', toKeys: 'h' },\n    { keys: '<Right>', type: 'keyToKey', toKeys: 'l' },\n    { keys: '<Up>', type: 'keyToKey', toKeys: 'k' },\n    { keys: '<Down>', type: 'keyToKey', toKeys: 'j' },\n    { keys: 'g<Up>', type: 'keyToKey', toKeys: 'gk' },\n    { keys: 'g<Down>', type: 'keyToKey', toKeys: 'gj' },\n    { keys: '<Space>', type: 'keyToKey', toKeys: 'l' },\n    { keys: '<BS>', type: 'keyToKey', toKeys: 'h', context: 'normal'},\n    { keys: '<Del>', type: 'keyToKey', toKeys: 'x', context: 'normal'},\n    { keys: '<C-Space>', type: 'keyToKey', toKeys: 'W' },\n    { keys: '<C-BS>', type: 'keyToKey', toKeys: 'B', context: 'normal' },\n    { keys: '<S-Space>', type: 'keyToKey', toKeys: 'w' },\n    { keys: '<S-BS>', type: 'keyToKey', toKeys: 'b', context: 'normal' },\n    { keys: '<C-n>', type: 'keyToKey', toKeys: 'j' },\n    { keys: '<C-p>', type: 'keyToKey', toKeys: 'k' },\n    { keys: '<C-[>', type: 'keyToKey', toKeys: '<Esc>' },\n    { keys: '<C-c>', type: 'keyToKey', toKeys: '<Esc>' },\n    { keys: '<C-[>', type: 'keyToKey', toKeys: '<Esc>', context: 'insert' },\n    { keys: '<C-c>', type: 'keyToKey', toKeys: '<Esc>', context: 'insert' },\n    { keys: '<C-Esc>', type: 'keyToKey', toKeys: '<Esc>' }, // ipad keyboard sends C-Esc instead of C-[\n    { keys: '<C-Esc>', type: 'keyToKey', toKeys: '<Esc>', context: 'insert' },\n    { keys: 's', type: 'keyToKey', toKeys: 'cl', context: 'normal' },\n    { keys: 's', type: 'keyToKey', toKeys: 'c', context: 'visual'},\n    { keys: 'S', type: 'keyToKey', toKeys: 'cc', context: 'normal' },\n    { keys: 'S', type: 'keyToKey', toKeys: 'VdO', context: 'visual' },\n    { keys: '<Home>', type: 'keyToKey', toKeys: '0' },\n    { keys: '<End>', type: 'keyToKey', toKeys: '$' },\n    { keys: '<PageUp>', type: 'keyToKey', toKeys: '<C-b>' },\n    { keys: '<PageDown>', type: 'keyToKey', toKeys: '<C-f>' },\n    { keys: '<CR>', type: 'keyToKey', toKeys: 'j^', context: 'normal' },\n    { keys: '<Ins>', type: 'keyToKey', toKeys: 'i', context: 'normal'},\n    { keys: '<Ins>', type: 'action', action: 'toggleOverwrite', context: 'insert' },\n    // Motions\n    { keys: 'H', type: 'motion', motion: 'moveToTopLine', motionArgs: { linewise: true, toJumplist: true }},\n    { keys: 'M', type: 'motion', motion: 'moveToMiddleLine', motionArgs: { linewise: true, toJumplist: true }},\n    { keys: 'L', type: 'motion', motion: 'moveToBottomLine', motionArgs: { linewise: true, toJumplist: true }},\n    { keys: 'h', type: 'motion', motion: 'moveByCharacters', motionArgs: { forward: false }},\n    { keys: 'l', type: 'motion', motion: 'moveByCharacters', motionArgs: { forward: true }},\n    { keys: 'j', type: 'motion', motion: 'moveByLines', motionArgs: { forward: true, linewise: true }},\n    { keys: 'k', type: 'motion', motion: 'moveByLines', motionArgs: { forward: false, linewise: true }},\n    { keys: 'gj', type: 'motion', motion: 'moveByDisplayLines', motionArgs: { forward: true }},\n    { keys: 'gk', type: 'motion', motion: 'moveByDisplayLines', motionArgs: { forward: false }},\n    { keys: 'w', type: 'motion', motion: 'moveByWords', motionArgs: { forward: true, wordEnd: false }},\n    { keys: 'W', type: 'motion', motion: 'moveByWords', motionArgs: { forward: true, wordEnd: false, bigWord: true }},\n    { keys: 'e', type: 'motion', motion: 'moveByWords', motionArgs: { forward: true, wordEnd: true, inclusive: true }},\n    { keys: 'E', type: 'motion', motion: 'moveByWords', motionArgs: { forward: true, wordEnd: true, bigWord: true, inclusive: true }},\n    { keys: 'b', type: 'motion', motion: 'moveByWords', motionArgs: { forward: false, wordEnd: false }},\n    { keys: 'B', type: 'motion', motion: 'moveByWords', motionArgs: { forward: false, wordEnd: false, bigWord: true }},\n    { keys: 'ge', type: 'motion', motion: 'moveByWords', motionArgs: { forward: false, wordEnd: true, inclusive: true }},\n    { keys: 'gE', type: 'motion', motion: 'moveByWords', motionArgs: { forward: false, wordEnd: true, bigWord: true, inclusive: true }},\n    { keys: '{', type: 'motion', motion: 'moveByParagraph', motionArgs: { forward: false, toJumplist: true }},\n    { keys: '}', type: 'motion', motion: 'moveByParagraph', motionArgs: { forward: true, toJumplist: true }},\n    { keys: '(', type: 'motion', motion: 'moveBySentence', motionArgs: { forward: false }},\n    { keys: ')', type: 'motion', motion: 'moveBySentence', motionArgs: { forward: true }},\n    { keys: '<C-f>', type: 'motion', motion: 'moveByPage', motionArgs: { forward: true }},\n    { keys: '<C-b>', type: 'motion', motion: 'moveByPage', motionArgs: { forward: false }},\n    { keys: '<C-d>', type: 'motion', motion: 'moveByScroll', motionArgs: { forward: true, explicitRepeat: true }},\n    { keys: '<C-u>', type: 'motion', motion: 'moveByScroll', motionArgs: { forward: false, explicitRepeat: true }},\n    { keys: 'gg', type: 'motion', motion: 'moveToLineOrEdgeOfDocument', motionArgs: { forward: false, explicitRepeat: true, linewise: true, toJumplist: true }},\n    { keys: 'G', type: 'motion', motion: 'moveToLineOrEdgeOfDocument', motionArgs: { forward: true, explicitRepeat: true, linewise: true, toJumplist: true }},\n    {keys: \"g$\", type: \"motion\", motion: \"moveToEndOfDisplayLine\"},\n    {keys: \"g^\", type: \"motion\", motion: \"moveToStartOfDisplayLine\"},\n    {keys: \"g0\", type: \"motion\", motion: \"moveToStartOfDisplayLine\"},\n    { keys: '0', type: 'motion', motion: 'moveToStartOfLine' },\n    { keys: '^', type: 'motion', motion: 'moveToFirstNonWhiteSpaceCharacter' },\n    { keys: '+', type: 'motion', motion: 'moveByLines', motionArgs: { forward: true, toFirstChar:true }},\n    { keys: '-', type: 'motion', motion: 'moveByLines', motionArgs: { forward: false, toFirstChar:true }},\n    { keys: '_', type: 'motion', motion: 'moveByLines', motionArgs: { forward: true, toFirstChar:true, repeatOffset:-1 }},\n    { keys: '$', type: 'motion', motion: 'moveToEol', motionArgs: { inclusive: true }},\n    { keys: '%', type: 'motion', motion: 'moveToMatchedSymbol', motionArgs: { inclusive: true, toJumplist: true }},\n    { keys: 'f<character>', type: 'motion', motion: 'moveToCharacter', motionArgs: { forward: true , inclusive: true }},\n    { keys: 'F<character>', type: 'motion', motion: 'moveToCharacter', motionArgs: { forward: false }},\n    { keys: 't<character>', type: 'motion', motion: 'moveTillCharacter', motionArgs: { forward: true, inclusive: true }},\n    { keys: 'T<character>', type: 'motion', motion: 'moveTillCharacter', motionArgs: { forward: false }},\n    { keys: ';', type: 'motion', motion: 'repeatLastCharacterSearch', motionArgs: { forward: true }},\n    { keys: ',', type: 'motion', motion: 'repeatLastCharacterSearch', motionArgs: { forward: false }},\n    { keys: '\\'<character>', type: 'motion', motion: 'goToMark', motionArgs: {toJumplist: true, linewise: true}},\n    { keys: '`<character>', type: 'motion', motion: 'goToMark', motionArgs: {toJumplist: true}},\n    { keys: ']`', type: 'motion', motion: 'jumpToMark', motionArgs: { forward: true } },\n    { keys: '[`', type: 'motion', motion: 'jumpToMark', motionArgs: { forward: false } },\n    { keys: ']\\'', type: 'motion', motion: 'jumpToMark', motionArgs: { forward: true, linewise: true } },\n    { keys: '[\\'', type: 'motion', motion: 'jumpToMark', motionArgs: { forward: false, linewise: true } },\n    // the next two aren't motions but must come before more general motion declarations\n    { keys: ']p', type: 'action', action: 'paste', isEdit: true, actionArgs: { after: true, isEdit: true, matchIndent: true}},\n    { keys: '[p', type: 'action', action: 'paste', isEdit: true, actionArgs: { after: false, isEdit: true, matchIndent: true}},\n    { keys: ']<character>', type: 'motion', motion: 'moveToSymbol', motionArgs: { forward: true, toJumplist: true}},\n    { keys: '[<character>', type: 'motion', motion: 'moveToSymbol', motionArgs: { forward: false, toJumplist: true}},\n    { keys: '|', type: 'motion', motion: 'moveToColumn'},\n    { keys: 'o', type: 'motion', motion: 'moveToOtherHighlightedEnd', context:'visual'},\n    { keys: 'O', type: 'motion', motion: 'moveToOtherHighlightedEnd', motionArgs: {sameLine: true}, context:'visual'},\n    // Operators\n    { keys: 'd', type: 'operator', operator: 'delete' },\n    { keys: 'y', type: 'operator', operator: 'yank' },\n    { keys: 'c', type: 'operator', operator: 'change' },\n    { keys: '=', type: 'operator', operator: 'indentAuto' },\n    { keys: '>', type: 'operator', operator: 'indent', operatorArgs: { indentRight: true }},\n    { keys: '<', type: 'operator', operator: 'indent', operatorArgs: { indentRight: false }},\n    { keys: 'g~', type: 'operator', operator: 'changeCase' },\n    { keys: 'gu', type: 'operator', operator: 'changeCase', operatorArgs: {toLower: true}, isEdit: true },\n    { keys: 'gU', type: 'operator', operator: 'changeCase', operatorArgs: {toLower: false}, isEdit: true },\n    { keys: 'n', type: 'motion', motion: 'findNext', motionArgs: { forward: true, toJumplist: true }},\n    { keys: 'N', type: 'motion', motion: 'findNext', motionArgs: { forward: false, toJumplist: true }},\n    { keys: 'gn', type: 'motion', motion: 'findAndSelectNextInclusive', motionArgs: { forward: true }},\n    { keys: 'gN', type: 'motion', motion: 'findAndSelectNextInclusive', motionArgs: { forward: false }},\n    // Operator-Motion dual commands\n    { keys: 'x', type: 'operatorMotion', operator: 'delete', motion: 'moveByCharacters', motionArgs: { forward: true }, operatorMotionArgs: { visualLine: false }},\n    { keys: 'X', type: 'operatorMotion', operator: 'delete', motion: 'moveByCharacters', motionArgs: { forward: false }, operatorMotionArgs: { visualLine: true }},\n    { keys: 'D', type: 'operatorMotion', operator: 'delete', motion: 'moveToEol', motionArgs: { inclusive: true }, context: 'normal'},\n    { keys: 'D', type: 'operator', operator: 'delete', operatorArgs: { linewise: true }, context: 'visual'},\n    { keys: 'Y', type: 'operatorMotion', operator: 'yank', motion: 'expandToLine', motionArgs: { linewise: true }, context: 'normal'},\n    { keys: 'Y', type: 'operator', operator: 'yank', operatorArgs: { linewise: true }, context: 'visual'},\n    { keys: 'C', type: 'operatorMotion', operator: 'change', motion: 'moveToEol', motionArgs: { inclusive: true }, context: 'normal'},\n    { keys: 'C', type: 'operator', operator: 'change', operatorArgs: { linewise: true }, context: 'visual'},\n    { keys: '~', type: 'operatorMotion', operator: 'changeCase', motion: 'moveByCharacters', motionArgs: { forward: true }, operatorArgs: { shouldMoveCursor: true }, context: 'normal'},\n    { keys: '~', type: 'operator', operator: 'changeCase', context: 'visual'},\n    { keys: '<C-u>', type: 'operatorMotion', operator: 'delete', motion: 'moveToStartOfLine', context: 'insert' },\n    { keys: '<C-w>', type: 'operatorMotion', operator: 'delete', motion: 'moveByWords', motionArgs: { forward: false, wordEnd: false }, context: 'insert' },\n    //ignore C-w in normal mode\n    { keys: '<C-w>', type: 'idle', context: 'normal' },\n    // Actions\n    { keys: '<C-i>', type: 'action', action: 'jumpListWalk', actionArgs: { forward: true }},\n    { keys: '<C-o>', type: 'action', action: 'jumpListWalk', actionArgs: { forward: false }},\n    { keys: '<C-e>', type: 'action', action: 'scroll', actionArgs: { forward: true, linewise: true }},\n    { keys: '<C-y>', type: 'action', action: 'scroll', actionArgs: { forward: false, linewise: true }},\n    { keys: 'a', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'charAfter' }, context: 'normal' },\n    { keys: 'A', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'eol' }, context: 'normal' },\n    { keys: 'A', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'endOfSelectedArea' }, context: 'visual' },\n    { keys: 'i', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'inplace' }, context: 'normal' },\n    { keys: 'gi', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'lastEdit' }, context: 'normal' },\n    { keys: 'I', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'firstNonBlank'}, context: 'normal' },\n    { keys: 'gI', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'bol'}, context: 'normal' },\n    { keys: 'I', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'startOfSelectedArea' }, context: 'visual' },\n    { keys: 'o', type: 'action', action: 'newLineAndEnterInsertMode', isEdit: true, interlaceInsertRepeat: true, actionArgs: { after: true }, context: 'normal' },\n    { keys: 'O', type: 'action', action: 'newLineAndEnterInsertMode', isEdit: true, interlaceInsertRepeat: true, actionArgs: { after: false }, context: 'normal' },\n    { keys: 'v', type: 'action', action: 'toggleVisualMode' },\n    { keys: 'V', type: 'action', action: 'toggleVisualMode', actionArgs: { linewise: true }},\n    { keys: '<C-v>', type: 'action', action: 'toggleVisualMode', actionArgs: { blockwise: true }},\n    { keys: '<C-q>', type: 'action', action: 'toggleVisualMode', actionArgs: { blockwise: true }},\n    { keys: 'gv', type: 'action', action: 'reselectLastSelection' },\n    { keys: 'J', type: 'action', action: 'joinLines', isEdit: true },\n    { keys: 'gJ', type: 'action', action: 'joinLines', actionArgs: { keepSpaces: true }, isEdit: true },\n    { keys: 'p', type: 'action', action: 'paste', isEdit: true, actionArgs: { after: true, isEdit: true }},\n    { keys: 'P', type: 'action', action: 'paste', isEdit: true, actionArgs: { after: false, isEdit: true }},\n    { keys: 'r<character>', type: 'action', action: 'replace', isEdit: true },\n    { keys: '@<character>', type: 'action', action: 'replayMacro' },\n    { keys: 'q<character>', type: 'action', action: 'enterMacroRecordMode' },\n    // Handle Replace-mode as a special case of insert mode.\n    { keys: 'R', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { replace: true }, context: 'normal'},\n    { keys: 'R', type: 'operator', operator: 'change', operatorArgs: { linewise: true, fullLine: true }, context: 'visual', exitVisualBlock: true},\n    { keys: 'u', type: 'action', action: 'undo', context: 'normal' },\n    { keys: 'u', type: 'operator', operator: 'changeCase', operatorArgs: {toLower: true}, context: 'visual', isEdit: true },\n    { keys: 'U', type: 'operator', operator: 'changeCase', operatorArgs: {toLower: false}, context: 'visual', isEdit: true },\n    { keys: '<C-r>', type: 'action', action: 'redo' },\n    { keys: 'm<character>', type: 'action', action: 'setMark' },\n    { keys: '\"<character>', type: 'action', action: 'setRegister' },\n    { keys: '<C-r><character>', type: 'action', action: 'insertRegister', context: 'insert', isEdit: true },\n    { keys: '<C-o>', type: 'action', action: 'oneNormalCommand', context: 'insert' },\n    { keys: 'zz', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'center' }},\n    { keys: 'z.', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'center' }, motion: 'moveToFirstNonWhiteSpaceCharacter' },\n    { keys: 'zt', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'top' }},\n    { keys: 'z<CR>', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'top' }, motion: 'moveToFirstNonWhiteSpaceCharacter' },\n    { keys: 'zb', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'bottom' }},\n    { keys: 'z-', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'bottom' }, motion: 'moveToFirstNonWhiteSpaceCharacter' },\n    { keys: '.', type: 'action', action: 'repeatLastEdit' },\n    { keys: '<C-a>', type: 'action', action: 'incrementNumberToken', isEdit: true, actionArgs: {increase: true, backtrack: false}},\n    { keys: '<C-x>', type: 'action', action: 'incrementNumberToken', isEdit: true, actionArgs: {increase: false, backtrack: false}},\n    { keys: '<C-t>', type: 'action', action: 'indent', actionArgs: { indentRight: true }, context: 'insert' },\n    { keys: '<C-d>', type: 'action', action: 'indent', actionArgs: { indentRight: false }, context: 'insert' },\n    // Text object motions\n    { keys: 'a<character>', type: 'motion', motion: 'textObjectManipulation' },\n    { keys: 'i<character>', type: 'motion', motion: 'textObjectManipulation', motionArgs: { textObjectInner: true }},\n    // Search\n    { keys: '/', type: 'search', searchArgs: { forward: true, querySrc: 'prompt', toJumplist: true }},\n    { keys: '?', type: 'search', searchArgs: { forward: false, querySrc: 'prompt', toJumplist: true }},\n    { keys: '*', type: 'search', searchArgs: { forward: true, querySrc: 'wordUnderCursor', wholeWordOnly: true, toJumplist: true }},\n    { keys: '#', type: 'search', searchArgs: { forward: false, querySrc: 'wordUnderCursor', wholeWordOnly: true, toJumplist: true }},\n    { keys: 'g*', type: 'search', searchArgs: { forward: true, querySrc: 'wordUnderCursor', toJumplist: true }},\n    { keys: 'g#', type: 'search', searchArgs: { forward: false, querySrc: 'wordUnderCursor', toJumplist: true }},\n    // Ex command\n    { keys: ':', type: 'ex' }\n  ];\n  var defaultKeymapLength = defaultKeymap.length;\n\n  /**\n   * Ex commands\n   * Care must be taken when adding to the default Ex command map. For any\n   * pair of commands that have a shared prefix, at least one of their\n   * shortNames must not match the prefix of the other command.\n   */\n  var defaultExCommandMap = [\n    { name: 'colorscheme', shortName: 'colo' },\n    { name: 'map' },\n    { name: 'imap', shortName: 'im' },\n    { name: 'nmap', shortName: 'nm' },\n    { name: 'vmap', shortName: 'vm' },\n    { name: 'omap', shortName: 'om' },\n    { name: 'noremap', shortName: 'no' },\n    { name: 'nnoremap', shortName: 'nn' },\n    { name: 'vnoremap', shortName: 'vn' },\n    { name: 'inoremap', shortName: 'ino' },\n    { name: 'onoremap', shortName: 'ono' },\n    { name: 'unmap' },\n    { name: 'mapclear', shortName: 'mapc' },\n    { name: 'nmapclear', shortName: 'nmapc' },\n    { name: 'vmapclear', shortName: 'vmapc' },\n    { name: 'imapclear', shortName: 'imapc' },\n    { name: 'omapclear', shortName: 'omapc' },\n    { name: 'write', shortName: 'w' },\n    { name: 'undo', shortName: 'u' },\n    { name: 'redo', shortName: 'red' },\n    { name: 'set', shortName: 'se' },\n    { name: 'setlocal', shortName: 'setl' },\n    { name: 'setglobal', shortName: 'setg' },\n    { name: 'sort', shortName: 'sor' },\n    { name: 'substitute', shortName: 's', possiblyAsync: true },\n    { name: 'nohlsearch', shortName: 'noh' },\n    { name: 'yank', shortName: 'y' },\n    { name: 'delmarks', shortName: 'delm' },\n    { name: 'registers', shortName: 'reg', excludeFromCommandHistory: true },\n    { name: 'vglobal', shortName: 'v' },\n    { name: 'delete', shortName: 'd' },\n    { name: 'join', shortName: 'j' },\n    { name: 'normal', shortName: 'norm' },\n    { name: 'global', shortName: 'g' }\n  ];\n\n    function enterVimMode(cm) {\n      cm.setOption('disableInput', true);\n      cm.setOption('showCursorWhenSelecting', false);\n      CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"normal\"});\n      cm.on('cursorActivity', onCursorActivity);\n      maybeInitVimState(cm);\n      CodeMirror.on(cm.getInputField(), 'paste', getOnPasteFn(cm));\n    }\n\n    function leaveVimMode(cm) {\n      cm.setOption('disableInput', false);\n      cm.off('cursorActivity', onCursorActivity);\n      CodeMirror.off(cm.getInputField(), 'paste', getOnPasteFn(cm));\n      cm.state.vim = null;\n      if (highlightTimeout) clearTimeout(highlightTimeout);\n    }\n\n    function detachVimMap(cm, next) {\n      if (this == CodeMirror.keyMap.vim) {\n        cm.options.$customCursor = null;\n        CodeMirror.rmClass(cm.getWrapperElement(), \"cm-fat-cursor\");\n      }\n\n      if (!next || next.attach != attachVimMap)\n        leaveVimMode(cm);\n    }\n    function attachVimMap(cm, prev) {\n      if (this == CodeMirror.keyMap.vim) {\n        if (cm.curOp) cm.curOp.selectionChanged = true;\n        cm.options.$customCursor = transformCursor;\n        CodeMirror.addClass(cm.getWrapperElement(), \"cm-fat-cursor\");\n      }\n\n      if (!prev || prev.attach != attachVimMap)\n        enterVimMode(cm);\n    }\n\n    // Deprecated, simply setting the keymap works again.\n    CodeMirror.defineOption('vimMode', false, function(cm, val, prev) {\n      if (val && cm.getOption(\"keyMap\") != \"vim\")\n        cm.setOption(\"keyMap\", \"vim\");\n      else if (!val && prev != CodeMirror.Init && /^vim/.test(cm.getOption(\"keyMap\")))\n        cm.setOption(\"keyMap\", \"default\");\n    });\n\n    function cmKey(key, cm) {\n      if (!cm) { return undefined; }\n      if (this[key]) { return this[key]; }\n      var vimKey = cmKeyToVimKey(key);\n      if (!vimKey) {\n        return false;\n      }\n      var cmd = vimApi.findKey(cm, vimKey);\n      if (typeof cmd == 'function') {\n        CodeMirror.signal(cm, 'vim-keypress', vimKey);\n      }\n      return cmd;\n    }\n\n    var modifiers = {Shift:'S',Ctrl:'C',Alt:'A',Cmd:'D',Mod:'A',CapsLock:''};\n    var specialKeys = {Enter:'CR',Backspace:'BS',Delete:'Del',Insert:'Ins'};\n    var vimToCmKeyMap = {};\n    'Left|Right|Up|Down|End|Home'.split('|').concat(Object.keys(specialKeys)).forEach(function(x) {\n      vimToCmKeyMap[(specialKeys[x] || '').toLowerCase()]\n         = vimToCmKeyMap[x.toLowerCase()] = x;\n    });\n    function cmKeyToVimKey(key) {\n      if (key.charAt(0) == '\\'') {\n        // Keypress character binding of format \"'a'\"\n        return key.charAt(1);\n      }\n      var pieces = key.split(/-(?!$)/);\n      var lastPiece = pieces[pieces.length - 1];\n      if (pieces.length == 1 && pieces[0].length == 1) {\n        // No-modifier bindings use literal character bindings above. Skip.\n        return false;\n      } else if (pieces.length == 2 && pieces[0] == 'Shift' && lastPiece.length == 1) {\n        // Ignore Shift+char bindings as they should be handled by literal character.\n        return false;\n      }\n      var hasCharacter = false;\n      for (var i = 0; i < pieces.length; i++) {\n        var piece = pieces[i];\n        if (piece in modifiers) { pieces[i] = modifiers[piece]; }\n        else { hasCharacter = true; }\n        if (piece in specialKeys) { pieces[i] = specialKeys[piece]; }\n      }\n      if (!hasCharacter) {\n        // Vim does not support modifier only keys.\n        return false;\n      }\n      // TODO: Current bindings expect the character to be lower case, but\n      // it looks like vim key notation uses upper case.\n      if (isUpperCase(lastPiece)) {\n        pieces[pieces.length - 1] = lastPiece.toLowerCase();\n      }\n      return '<' + pieces.join('-') + '>';\n    }\n\n    function getOnPasteFn(cm) {\n      var vim = cm.state.vim;\n      if (!vim.onPasteFn) {\n        vim.onPasteFn = function() {\n          if (!vim.insertMode) {\n            cm.setCursor(offsetCursor(cm.getCursor(), 0, 1));\n            actions.enterInsertMode(cm, {}, vim);\n          }\n        };\n      }\n      return vim.onPasteFn;\n    }\n\n    var numberRegex = /[\\d]/;\n    var wordCharTest = [CodeMirror.isWordChar, function(ch) {\n      return ch && !CodeMirror.isWordChar(ch) && !/\\s/.test(ch);\n    }], bigWordCharTest = [function(ch) {\n      return /\\S/.test(ch);\n    }];\n    function makeKeyRange(start, size) {\n      var keys = [];\n      for (var i = start; i < start + size; i++) {\n        keys.push(String.fromCharCode(i));\n      }\n      return keys;\n    }\n    var upperCaseAlphabet = makeKeyRange(65, 26);\n    var lowerCaseAlphabet = makeKeyRange(97, 26);\n    var numbers = makeKeyRange(48, 10);\n    var validMarks = [].concat(upperCaseAlphabet, lowerCaseAlphabet, numbers, ['<', '>']);\n    var validRegisters = [].concat(upperCaseAlphabet, lowerCaseAlphabet, numbers, ['-', '\"', '.', ':', '_', '/', '+']);\n    var upperCaseChars;\n    try { upperCaseChars = new RegExp(\"^[\\\\p{Lu}]$\", \"u\"); }\n    catch (_) { upperCaseChars = /^[A-Z]$/; }\n\n    function isLine(cm, line) {\n      return line >= cm.firstLine() && line <= cm.lastLine();\n    }\n    function isLowerCase(k) {\n      return (/^[a-z]$/).test(k);\n    }\n    function isMatchableSymbol(k) {\n      return '()[]{}'.indexOf(k) != -1;\n    }\n    function isNumber(k) {\n      return numberRegex.test(k);\n    }\n    function isUpperCase(k) {\n      return upperCaseChars.test(k);\n    }\n    function isWhiteSpaceString(k) {\n      return (/^\\s*$/).test(k);\n    }\n    function isEndOfSentenceSymbol(k) {\n      return '.?!'.indexOf(k) != -1;\n    }\n    function inArray(val, arr) {\n      for (var i = 0; i < arr.length; i++) {\n        if (arr[i] == val) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    var options = {};\n    function defineOption(name, defaultValue, type, aliases, callback) {\n      if (defaultValue === undefined && !callback) {\n        throw Error('defaultValue is required unless callback is provided');\n      }\n      if (!type) { type = 'string'; }\n      options[name] = {\n        type: type,\n        defaultValue: defaultValue,\n        callback: callback\n      };\n      if (aliases) {\n        for (var i = 0; i < aliases.length; i++) {\n          options[aliases[i]] = options[name];\n        }\n      }\n      if (defaultValue) {\n        setOption(name, defaultValue);\n      }\n    }\n\n    function setOption(name, value, cm, cfg) {\n      var option = options[name];\n      cfg = cfg || {};\n      var scope = cfg.scope;\n      if (!option) {\n        return new Error('Unknown option: ' + name);\n      }\n      if (option.type == 'boolean') {\n        if (value && value !== true) {\n          return new Error('Invalid argument: ' + name + '=' + value);\n        } else if (value !== false) {\n          // Boolean options are set to true if value is not defined.\n          value = true;\n        }\n      }\n      if (option.callback) {\n        if (scope !== 'local') {\n          option.callback(value, undefined);\n        }\n        if (scope !== 'global' && cm) {\n          option.callback(value, cm);\n        }\n      } else {\n        if (scope !== 'local') {\n          option.value = option.type == 'boolean' ? !!value : value;\n        }\n        if (scope !== 'global' && cm) {\n          cm.state.vim.options[name] = {value: value};\n        }\n      }\n    }\n\n    function getOption(name, cm, cfg) {\n      var option = options[name];\n      cfg = cfg || {};\n      var scope = cfg.scope;\n      if (!option) {\n        return new Error('Unknown option: ' + name);\n      }\n      if (option.callback) {\n        var local = cm && option.callback(undefined, cm);\n        if (scope !== 'global' && local !== undefined) {\n          return local;\n        }\n        if (scope !== 'local') {\n          return option.callback();\n        }\n        return;\n      } else {\n        var local = (scope !== 'global') && (cm && cm.state.vim.options[name]);\n        return (local || (scope !== 'local') && option || {}).value;\n      }\n    }\n\n    defineOption('filetype', undefined, 'string', ['ft'], function(name, cm) {\n      // Option is local. Do nothing for global.\n      if (cm === undefined) {\n        return;\n      }\n      // The 'filetype' option proxies to the CodeMirror 'mode' option.\n      if (name === undefined) {\n        var mode = cm.getOption('mode');\n        return mode == 'null' ? '' : mode;\n      } else {\n        var mode = name == '' ? 'null' : name;\n        cm.setOption('mode', mode);\n      }\n    });\n\n    var createCircularJumpList = function() {\n      var size = 100;\n      var pointer = -1;\n      var head = 0;\n      var tail = 0;\n      var buffer = new Array(size);\n      function add(cm, oldCur, newCur) {\n        var current = pointer % size;\n        var curMark = buffer[current];\n        function useNextSlot(cursor) {\n          var next = ++pointer % size;\n          var trashMark = buffer[next];\n          if (trashMark) {\n            trashMark.clear();\n          }\n          buffer[next] = cm.setBookmark(cursor);\n        }\n        if (curMark) {\n          var markPos = curMark.find();\n          // avoid recording redundant cursor position\n          if (markPos && !cursorEqual(markPos, oldCur)) {\n            useNextSlot(oldCur);\n          }\n        } else {\n          useNextSlot(oldCur);\n        }\n        useNextSlot(newCur);\n        head = pointer;\n        tail = pointer - size + 1;\n        if (tail < 0) {\n          tail = 0;\n        }\n      }\n      function move(cm, offset) {\n        pointer += offset;\n        if (pointer > head) {\n          pointer = head;\n        } else if (pointer < tail) {\n          pointer = tail;\n        }\n        var mark = buffer[(size + pointer) % size];\n        // skip marks that are temporarily removed from text buffer\n        if (mark && !mark.find()) {\n          var inc = offset > 0 ? 1 : -1;\n          var newCur;\n          var oldCur = cm.getCursor();\n          do {\n            pointer += inc;\n            mark = buffer[(size + pointer) % size];\n            // skip marks that are the same as current position\n            if (mark &&\n                (newCur = mark.find()) &&\n                !cursorEqual(oldCur, newCur)) {\n              break;\n            }\n          } while (pointer < head && pointer > tail);\n        }\n        return mark;\n      }\n      function find(cm, offset) {\n        var oldPointer = pointer;\n        var mark = move(cm, offset);\n        pointer = oldPointer;\n        return mark && mark.find();\n      }\n      return {\n        cachedCursor: undefined, //used for # and * jumps\n        add: add,\n        find: find,\n        move: move\n      };\n    };\n\n    // Returns an object to track the changes associated insert mode.  It\n    // clones the object that is passed in, or creates an empty object one if\n    // none is provided.\n    var createInsertModeChanges = function(c) {\n      if (c) {\n        // Copy construction\n        return {\n          changes: c.changes,\n          expectCursorActivityForChange: c.expectCursorActivityForChange\n        };\n      }\n      return {\n        // Change list\n        changes: [],\n        // Set to true on change, false on cursorActivity.\n        expectCursorActivityForChange: false\n      };\n    };\n\n    function MacroModeState() {\n      this.latestRegister = undefined;\n      this.isPlaying = false;\n      this.isRecording = false;\n      this.replaySearchQueries = [];\n      this.onRecordingDone = undefined;\n      this.lastInsertModeChanges = createInsertModeChanges();\n    }\n    MacroModeState.prototype = {\n      exitMacroRecordMode: function() {\n        var macroModeState = vimGlobalState.macroModeState;\n        if (macroModeState.onRecordingDone) {\n          macroModeState.onRecordingDone(); // close dialog\n        }\n        macroModeState.onRecordingDone = undefined;\n        macroModeState.isRecording = false;\n      },\n      enterMacroRecordMode: function(cm, registerName) {\n        var register =\n            vimGlobalState.registerController.getRegister(registerName);\n        if (register) {\n          register.clear();\n          this.latestRegister = registerName;\n          if (cm.openDialog) {\n            var template = dom('span', {class: 'cm-vim-message'}, 'recording @' + registerName);\n            this.onRecordingDone = cm.openDialog(template, null, {bottom:true});\n          }\n          this.isRecording = true;\n        }\n      }\n    };\n\n    function maybeInitVimState(cm) {\n      if (!cm.state.vim) {\n        // Store instance state in the CodeMirror object.\n        cm.state.vim = {\n          inputState: new InputState(),\n          // Vim's input state that triggered the last edit, used to repeat\n          // motions and operators with '.'.\n          lastEditInputState: undefined,\n          // Vim's action command before the last edit, used to repeat actions\n          // with '.' and insert mode repeat.\n          lastEditActionCommand: undefined,\n          // When using jk for navigation, if you move from a longer line to a\n          // shorter line, the cursor may clip to the end of the shorter line.\n          // If j is pressed again and cursor goes to the next line, the\n          // cursor should go back to its horizontal position on the longer\n          // line if it can. This is to keep track of the horizontal position.\n          lastHPos: -1,\n          // Doing the same with screen-position for gj/gk\n          lastHSPos: -1,\n          // The last motion command run. Cleared if a non-motion command gets\n          // executed in between.\n          lastMotion: null,\n          marks: {},\n          insertMode: false,\n          insertModeReturn: false,\n          // Repeat count for changes made in insert mode, triggered by key\n          // sequences like 3,i. Only exists when insertMode is true.\n          insertModeRepeat: undefined,\n          visualMode: false,\n          // If we are in visual line mode. No effect if visualMode is false.\n          visualLine: false,\n          visualBlock: false,\n          lastSelection: null,\n          lastPastedText: null,\n          sel: {},\n          // Buffer-local/window-local values of vim options.\n          options: {}\n        };\n      }\n      return cm.state.vim;\n    }\n    var vimGlobalState;\n    function resetVimGlobalState() {\n      vimGlobalState = {\n        // The current search query.\n        searchQuery: null,\n        // Whether we are searching backwards.\n        searchIsReversed: false,\n        // Replace part of the last substituted pattern\n        lastSubstituteReplacePart: undefined,\n        jumpList: createCircularJumpList(),\n        macroModeState: new MacroModeState,\n        // Recording latest f, t, F or T motion command.\n        lastCharacterSearch: {increment:0, forward:true, selectedCharacter:''},\n        registerController: new RegisterController({}),\n        // search history buffer\n        searchHistoryController: new HistoryController(),\n        // ex Command history buffer\n        exCommandHistoryController : new HistoryController()\n      };\n      for (var optionName in options) {\n        var option = options[optionName];\n        option.value = option.defaultValue;\n      }\n    }\n\n    var lastInsertModeKeyTimer;\n    var vimApi = {\n      enterVimMode: enterVimMode,\n      leaveVimMode: leaveVimMode,\n      buildKeyMap: function() {\n        // TODO: Convert keymap into dictionary format for fast lookup.\n      },\n      // Testing hook, though it might be useful to expose the register\n      // controller anyway.\n      getRegisterController: function() {\n        return vimGlobalState.registerController;\n      },\n      // Testing hook.\n      resetVimGlobalState_: resetVimGlobalState,\n\n      // Testing hook.\n      getVimGlobalState_: function() {\n        return vimGlobalState;\n      },\n\n      // Testing hook.\n      maybeInitVimState_: maybeInitVimState,\n\n      suppressErrorLogging: false,\n\n      InsertModeKey: InsertModeKey,\n      map: function(lhs, rhs, ctx) {\n        // Add user defined key bindings.\n        exCommandDispatcher.map(lhs, rhs, ctx);\n      },\n      unmap: function(lhs, ctx) {\n        return exCommandDispatcher.unmap(lhs, ctx);\n      },\n      // Non-recursive map function.\n      // NOTE: This will not create mappings to key maps that aren't present\n      // in the default key map. See TODO at bottom of function.\n      noremap: function(lhs, rhs, ctx) {\n        exCommandDispatcher.map(lhs, rhs, ctx, true);\n      },\n      // Remove all user-defined mappings for the provided context.\n      mapclear: function(ctx) {\n        // Partition the existing keymap into user-defined and true defaults.\n        var actualLength = defaultKeymap.length,\n            origLength = defaultKeymapLength;\n        var userKeymap = defaultKeymap.slice(0, actualLength - origLength);\n        defaultKeymap = defaultKeymap.slice(actualLength - origLength);\n        if (ctx) {\n          // If a specific context is being cleared, we need to keep mappings\n          // from all other contexts.\n          for (var i = userKeymap.length - 1; i >= 0; i--) {\n            var mapping = userKeymap[i];\n            if (ctx !== mapping.context) {\n              if (mapping.context) {\n                this._mapCommand(mapping);\n              } else {\n                // `mapping` applies to all contexts so create keymap copies\n                // for each context except the one being cleared.\n                var contexts = ['normal', 'insert', 'visual'];\n                for (var j in contexts) {\n                  if (contexts[j] !== ctx) {\n                    var newMapping = {};\n                    for (var key in mapping) {\n                      newMapping[key] = mapping[key];\n                    }\n                    newMapping.context = contexts[j];\n                    this._mapCommand(newMapping);\n                  }\n                }\n              }\n            }\n          }\n        }\n      },\n      // TODO: Expose setOption and getOption as instance methods. Need to decide how to namespace\n      // them, or somehow make them work with the existing CodeMirror setOption/getOption API.\n      setOption: setOption,\n      getOption: getOption,\n      defineOption: defineOption,\n      defineEx: function(name, prefix, func){\n        if (!prefix) {\n          prefix = name;\n        } else if (name.indexOf(prefix) !== 0) {\n          throw new Error('(Vim.defineEx) \"'+prefix+'\" is not a prefix of \"'+name+'\", command not registered');\n        }\n        exCommands[name]=func;\n        exCommandDispatcher.commandMap_[prefix]={name:name, shortName:prefix, type:'api'};\n      },\n      handleKey: function (cm, key, origin) {\n        var command = this.findKey(cm, key, origin);\n        if (typeof command === 'function') {\n          return command();\n        }\n      },\n      multiSelectHandleKey: multiSelectHandleKey,\n\n      /**\n       * This is the outermost function called by CodeMirror, after keys have\n       * been mapped to their Vim equivalents.\n       *\n       * Finds a command based on the key (and cached keys if there is a\n       * multi-key sequence). Returns `undefined` if no key is matched, a noop\n       * function if a partial match is found (multi-key), and a function to\n       * execute the bound command if a a key is matched. The function always\n       * returns true.\n       */\n      findKey: function(cm, key, origin) {\n        var vim = maybeInitVimState(cm);\n        function handleMacroRecording() {\n          var macroModeState = vimGlobalState.macroModeState;\n          if (macroModeState.isRecording) {\n            if (key == 'q') {\n              macroModeState.exitMacroRecordMode();\n              clearInputState(cm);\n              return true;\n            }\n            if (origin != 'mapping') {\n              logKey(macroModeState, key);\n            }\n          }\n        }\n        function handleEsc() {\n          if (key == '<Esc>') {\n            if (vim.visualMode) {\n              // Get back to normal mode.\n              exitVisualMode(cm);\n            } else if (vim.insertMode) {\n              // Get back to normal mode.\n              exitInsertMode(cm);\n            } else {\n              // We're already in normal mode. Let '<Esc>' be handled normally.\n              return;\n            }\n            clearInputState(cm);\n            return true;\n          }\n        }\n\n        function handleKeyInsertMode() {\n          if (handleEsc()) { return true; }\n          vim.inputState.keyBuffer.push(key);\n          var keys = vim.inputState.keyBuffer.join(\"\");\n          var keysAreChars = key.length == 1;\n          var match = commandDispatcher.matchCommand(keys, defaultKeymap, vim.inputState, 'insert');\n          var changeQueue = vim.inputState.changeQueue;\n\n          if (match.type == 'none') { clearInputState(cm); return false; }\n          else if (match.type == 'partial') {\n            if (lastInsertModeKeyTimer) { window.clearTimeout(lastInsertModeKeyTimer); }\n            lastInsertModeKeyTimer = keysAreChars && window.setTimeout(\n              function() { if (vim.insertMode && vim.inputState.keyBuffer.length) { clearInputState(cm); } },\n              getOption('insertModeEscKeysTimeout'));\n            if (keysAreChars) {\n              var selections = cm.listSelections();\n              if (!changeQueue || changeQueue.removed.length != selections.length)\n                changeQueue = vim.inputState.changeQueue = new ChangeQueue;\n              changeQueue.inserted += key;\n              for (var i = 0; i < selections.length; i++) {\n                var from = cursorMin(selections[i].anchor, selections[i].head);\n                var to = cursorMax(selections[i].anchor, selections[i].head);\n                var text = cm.getRange(from, cm.state.overwrite ? offsetCursor(to, 0, 1) : to);\n                changeQueue.removed[i] = (changeQueue.removed[i] || \"\") + text;\n              }\n            }\n            return !keysAreChars;\n          }\n\n          if (lastInsertModeKeyTimer) { window.clearTimeout(lastInsertModeKeyTimer); }\n          if (match.command && changeQueue) {\n            var selections = cm.listSelections();\n            for (var i = 0; i < selections.length; i++) {\n              var here = selections[i].head;\n              cm.replaceRange(changeQueue.removed[i] || \"\", \n                offsetCursor(here, 0, -changeQueue.inserted.length), here, '+input');\n            }\n            vimGlobalState.macroModeState.lastInsertModeChanges.changes.pop();\n          }\n          if (!match.command) clearInputState(cm);\n          return match.command;\n        }\n\n        function handleKeyNonInsertMode() {\n          if (handleMacroRecording() || handleEsc()) { return true; }\n\n          vim.inputState.keyBuffer.push(key);\n          var keys = vim.inputState.keyBuffer.join(\"\");\n          if (/^[1-9]\\d*$/.test(keys)) { return true; }\n\n          var keysMatcher = /^(\\d*)(.*)$/.exec(keys);\n          if (!keysMatcher) { clearInputState(cm); return false; }\n          var context = vim.visualMode ? 'visual' :\n                                         'normal';\n          var mainKey = keysMatcher[2] || keysMatcher[1];\n          if (vim.inputState.operatorShortcut && vim.inputState.operatorShortcut.slice(-1) == mainKey) {\n            // multikey operators act linewise by repeating only the last character\n            mainKey = vim.inputState.operatorShortcut;\n          }\n          var match = commandDispatcher.matchCommand(mainKey, defaultKeymap, vim.inputState, context);\n          if (match.type == 'none') { clearInputState(cm); return false; }\n          else if (match.type == 'partial') { return true; }\n          else if (match.type == 'clear') { clearInputState(cm); return true; }\n\n          vim.inputState.keyBuffer.length = 0;\n          keysMatcher = /^(\\d*)(.*)$/.exec(keys);\n          if (keysMatcher[1] && keysMatcher[1] != '0') {\n            vim.inputState.pushRepeatDigit(keysMatcher[1]);\n          }\n          return match.command;\n        }\n\n        var command;\n        if (vim.insertMode) { command = handleKeyInsertMode(); }\n        else { command = handleKeyNonInsertMode(); }\n        if (command === false) {\n          return !vim.insertMode && key.length === 1 ? function() { return true; } : undefined;\n        } else if (command === true) {\n          // TODO: Look into using CodeMirror's multi-key handling.\n          // Return no-op since we are caching the key. Counts as handled, but\n          // don't want act on it just yet.\n          return function() { return true; };\n        } else {\n          return function() {\n            return cm.operation(function() {\n              cm.curOp.isVimOp = true;\n              try {\n                if (command.type == 'keyToKey') {\n                  doKeyToKey(cm, command.toKeys, command);\n                } else {\n                  commandDispatcher.processCommand(cm, vim, command);\n                }\n              } catch (e) {\n                // clear VIM state in case it's in a bad state.\n                cm.state.vim = undefined;\n                maybeInitVimState(cm);\n                if (!vimApi.suppressErrorLogging) {\n                  console['log'](e);\n                }\n                throw e;\n              }\n              return true;\n            });\n          };\n        }\n      },\n      handleEx: function(cm, input) {\n        exCommandDispatcher.processCommand(cm, input);\n      },\n\n      defineMotion: defineMotion,\n      defineAction: defineAction,\n      defineOperator: defineOperator,\n      mapCommand: mapCommand,\n      _mapCommand: _mapCommand,\n\n      defineRegister: defineRegister,\n\n      exitVisualMode: exitVisualMode,\n      exitInsertMode: exitInsertMode\n    };\n\n    var keyToKeyStack = [];\n    var noremap = false;\n    function doKeyToKey(cm, keys, fromKey) {\n      // prevent infinite recursion.\n      if (fromKey) {\n        if (keyToKeyStack.indexOf(fromKey) != -1) return;\n        keyToKeyStack.push(fromKey);\n        noremap = fromKey.noremap;\n      }\n\n      try {\n        var vim = maybeInitVimState(cm);\n        var keyRe = /<(?:[CSMA]-)*\\w+>|./gi;\n\n        var match;\n        // Pull off one command key, which is either a single character\n        // or a special sequence wrapped in '<' and '>', e.g. '<Space>'.\n        while ((match = keyRe.exec(keys))) {\n          var key = match[0];\n          var wasInsert = vim.insertMode;\n          var result = vimApi.handleKey(cm, key, 'mapping');\n\n          if (!result && wasInsert && vim.insertMode) {\n            if (key[0] == \"<\") {\n              var lowerKey = key.toLowerCase().slice(1, -1);\n              var parts = lowerKey.split('-');\n              var lowerKey = parts.pop();\n              if (lowerKey == 'lt') key = '<';\n              else if (lowerKey == 'space') key = ' ';\n              else if (lowerKey == 'cr') key = '\\n';\n              else if (vimToCmKeyMap.hasOwnProperty(lowerKey)) {\n                // todo support codemirror  keys in insertmode vimToCmKeyMap\n                key = vimToCmKeyMap[lowerKey];\n                sendCmKey(cm, key);\n                continue;\n              } else {\n                key = key[0];\n                keyRe.lastIndex = match.index + 1;\n              }\n            }\n            cm.replaceSelection(key);\n          }\n        }\n      } finally {\n        noremap = false;\n        keyToKeyStack.length = 0;\n      }\n    }\n\n    // Represents the current input state.\n    function InputState() {\n      this.prefixRepeat = [];\n      this.motionRepeat = [];\n\n      this.operator = null;\n      this.operatorArgs = null;\n      this.motion = null;\n      this.motionArgs = null;\n      this.keyBuffer = []; // For matching multi-key commands.\n      this.registerName = null; // Defaults to the unnamed register.\n      this.changeQueue = null; // For restoring text used by insert mode keybindings\n    }\n    InputState.prototype.pushRepeatDigit = function(n) {\n      if (!this.operator) {\n        this.prefixRepeat = this.prefixRepeat.concat(n);\n      } else {\n        this.motionRepeat = this.motionRepeat.concat(n);\n      }\n    };\n    InputState.prototype.getRepeat = function() {\n      var repeat = 0;\n      if (this.prefixRepeat.length > 0 || this.motionRepeat.length > 0) {\n        repeat = 1;\n        if (this.prefixRepeat.length > 0) {\n          repeat *= parseInt(this.prefixRepeat.join(''), 10);\n        }\n        if (this.motionRepeat.length > 0) {\n          repeat *= parseInt(this.motionRepeat.join(''), 10);\n        }\n      }\n      return repeat;\n    };\n\n    function clearInputState(cm, reason) {\n      cm.state.vim.inputState = new InputState();\n      CodeMirror.signal(cm, 'vim-command-done', reason);\n    }\n\n    function ChangeQueue() {\n      this.removed = [];\n      this.inserted = \"\";\n    }\n\n    /*\n     * Register stores information about copy and paste registers.  Besides\n     * text, a register must store whether it is linewise (i.e., when it is\n     * pasted, should it insert itself into a new line, or should the text be\n     * inserted at the cursor position.)\n     */\n    function Register(text, linewise, blockwise) {\n      this.clear();\n      this.keyBuffer = [text || ''];\n      this.insertModeChanges = [];\n      this.searchQueries = [];\n      this.linewise = !!linewise;\n      this.blockwise = !!blockwise;\n    }\n    Register.prototype = {\n      setText: function(text, linewise, blockwise) {\n        this.keyBuffer = [text || ''];\n        this.linewise = !!linewise;\n        this.blockwise = !!blockwise;\n      },\n      pushText: function(text, linewise) {\n        // if this register has ever been set to linewise, use linewise.\n        if (linewise) {\n          if (!this.linewise) {\n            this.keyBuffer.push('\\n');\n          }\n          this.linewise = true;\n        }\n        this.keyBuffer.push(text);\n      },\n      pushInsertModeChanges: function(changes) {\n        this.insertModeChanges.push(createInsertModeChanges(changes));\n      },\n      pushSearchQuery: function(query) {\n        this.searchQueries.push(query);\n      },\n      clear: function() {\n        this.keyBuffer = [];\n        this.insertModeChanges = [];\n        this.searchQueries = [];\n        this.linewise = false;\n      },\n      toString: function() {\n        return this.keyBuffer.join('');\n      }\n    };\n\n    /**\n     * Defines an external register.\n     *\n     * The name should be a single character that will be used to reference the register.\n     * The register should support setText, pushText, clear, and toString(). See Register\n     * for a reference implementation.\n     */\n    function defineRegister(name, register) {\n      var registers = vimGlobalState.registerController.registers;\n      if (!name || name.length != 1) {\n        throw Error('Register name must be 1 character');\n      }\n      if (registers[name]) {\n        throw Error('Register already defined ' + name);\n      }\n      registers[name] = register;\n      validRegisters.push(name);\n    }\n\n    /*\n     * vim registers allow you to keep many independent copy and paste buffers.\n     * See http://usevim.com/2012/04/13/registers/ for an introduction.\n     *\n     * RegisterController keeps the state of all the registers.  An initial\n     * state may be passed in.  The unnamed register '\"' will always be\n     * overridden.\n     */\n    function RegisterController(registers) {\n      this.registers = registers;\n      this.unnamedRegister = registers['\"'] = new Register();\n      registers['.'] = new Register();\n      registers[':'] = new Register();\n      registers['/'] = new Register();\n      registers['+'] = new Register();\n    }\n    RegisterController.prototype = {\n      pushText: function(registerName, operator, text, linewise, blockwise) {\n        // The black hole register, \"_, means delete/yank to nowhere.\n        if (registerName === '_') return;\n        if (linewise && text.charAt(text.length - 1) !== '\\n'){\n          text += '\\n';\n        }\n        // Lowercase and uppercase registers refer to the same register.\n        // Uppercase just means append.\n        var register = this.isValidRegister(registerName) ?\n            this.getRegister(registerName) : null;\n        // if no register/an invalid register was specified, things go to the\n        // default registers\n        if (!register) {\n          switch (operator) {\n            case 'yank':\n              // The 0 register contains the text from the most recent yank.\n              this.registers['0'] = new Register(text, linewise, blockwise);\n              break;\n            case 'delete':\n            case 'change':\n              if (text.indexOf('\\n') == -1) {\n                // Delete less than 1 line. Update the small delete register.\n                this.registers['-'] = new Register(text, linewise);\n              } else {\n                // Shift down the contents of the numbered registers and put the\n                // deleted text into register 1.\n                this.shiftNumericRegisters_();\n                this.registers['1'] = new Register(text, linewise);\n              }\n              break;\n          }\n          // Make sure the unnamed register is set to what just happened\n          this.unnamedRegister.setText(text, linewise, blockwise);\n          return;\n        }\n\n        // If we've gotten to this point, we've actually specified a register\n        var append = isUpperCase(registerName);\n        if (append) {\n          register.pushText(text, linewise);\n        } else {\n          register.setText(text, linewise, blockwise);\n        }\n        if (registerName === '+') {\n          navigator.clipboard.writeText(text);\n        }\n        // The unnamed register always has the same value as the last used\n        // register.\n        this.unnamedRegister.setText(register.toString(), linewise);\n      },\n      // Gets the register named @name.  If one of @name doesn't already exist,\n      // create it.  If @name is invalid, return the unnamedRegister.\n      getRegister: function(name) {\n        if (!this.isValidRegister(name)) {\n          return this.unnamedRegister;\n        }\n        name = name.toLowerCase();\n        if (!this.registers[name]) {\n          this.registers[name] = new Register();\n        }\n        return this.registers[name];\n      },\n      isValidRegister: function(name) {\n        return name && inArray(name, validRegisters);\n      },\n      shiftNumericRegisters_: function() {\n        for (var i = 9; i >= 2; i--) {\n          this.registers[i] = this.getRegister('' + (i - 1));\n        }\n      }\n    };\n    function HistoryController() {\n        this.historyBuffer = [];\n        this.iterator = 0;\n        this.initialPrefix = null;\n    }\n    HistoryController.prototype = {\n      // the input argument here acts a user entered prefix for a small time\n      // until we start autocompletion in which case it is the autocompleted.\n      nextMatch: function (input, up) {\n        var historyBuffer = this.historyBuffer;\n        var dir = up ? -1 : 1;\n        if (this.initialPrefix === null) this.initialPrefix = input;\n        for (var i = this.iterator + dir; up ? i >= 0 : i < historyBuffer.length; i+= dir) {\n          var element = historyBuffer[i];\n          for (var j = 0; j <= element.length; j++) {\n            if (this.initialPrefix == element.substring(0, j)) {\n              this.iterator = i;\n              return element;\n            }\n          }\n        }\n        // should return the user input in case we reach the end of buffer.\n        if (i >= historyBuffer.length) {\n          this.iterator = historyBuffer.length;\n          return this.initialPrefix;\n        }\n        // return the last autocompleted query or exCommand as it is.\n        if (i < 0 ) return input;\n      },\n      pushInput: function(input) {\n        var index = this.historyBuffer.indexOf(input);\n        if (index > -1) this.historyBuffer.splice(index, 1);\n        if (input.length) this.historyBuffer.push(input);\n      },\n      reset: function() {\n        this.initialPrefix = null;\n        this.iterator = this.historyBuffer.length;\n      }\n    };\n    var commandDispatcher = {\n      matchCommand: function(keys, keyMap, inputState, context) {\n        var matches = commandMatches(keys, keyMap, context, inputState);\n        if (!matches.full && !matches.partial) {\n          return {type: 'none'};\n        } else if (!matches.full && matches.partial) {\n          return {type: 'partial'};\n        }\n\n        var bestMatch;\n        for (var i = 0; i < matches.full.length; i++) {\n          var match = matches.full[i];\n          if (!bestMatch) {\n            bestMatch = match;\n          }\n        }\n        if (bestMatch.keys.slice(-11) == '<character>') {\n          var character = lastChar(keys);\n          if (!character || character.length > 1) return {type: 'clear'};\n          inputState.selectedCharacter = character;\n        }\n        return {type: 'full', command: bestMatch};\n      },\n      processCommand: function(cm, vim, command) {\n        vim.inputState.repeatOverride = command.repeatOverride;\n        switch (command.type) {\n          case 'motion':\n            this.processMotion(cm, vim, command);\n            break;\n          case 'operator':\n            this.processOperator(cm, vim, command);\n            break;\n          case 'operatorMotion':\n            this.processOperatorMotion(cm, vim, command);\n            break;\n          case 'action':\n            this.processAction(cm, vim, command);\n            break;\n          case 'search':\n            this.processSearch(cm, vim, command);\n            break;\n          case 'ex':\n          case 'keyToEx':\n            this.processEx(cm, vim, command);\n            break;\n        }\n      },\n      processMotion: function(cm, vim, command) {\n        vim.inputState.motion = command.motion;\n        vim.inputState.motionArgs = copyArgs(command.motionArgs);\n        this.evalInput(cm, vim);\n      },\n      processOperator: function(cm, vim, command) {\n        var inputState = vim.inputState;\n        if (inputState.operator) {\n          if (inputState.operator == command.operator) {\n            // Typing an operator twice like 'dd' makes the operator operate\n            // linewise\n            inputState.motion = 'expandToLine';\n            inputState.motionArgs = { linewise: true };\n            this.evalInput(cm, vim);\n            return;\n          } else {\n            // 2 different operators in a row doesn't make sense.\n            clearInputState(cm);\n          }\n        }\n        inputState.operator = command.operator;\n        inputState.operatorArgs = copyArgs(command.operatorArgs);\n        if (command.keys.length > 1) {\n          inputState.operatorShortcut = command.keys;\n        }\n        if (command.exitVisualBlock) {\n            vim.visualBlock = false;\n            updateCmSelection(cm);\n        }\n        if (vim.visualMode) {\n          // Operating on a selection in visual mode. We don't need a motion.\n          this.evalInput(cm, vim);\n        }\n      },\n      processOperatorMotion: function(cm, vim, command) {\n        var visualMode = vim.visualMode;\n        var operatorMotionArgs = copyArgs(command.operatorMotionArgs);\n        if (operatorMotionArgs) {\n          // Operator motions may have special behavior in visual mode.\n          if (visualMode && operatorMotionArgs.visualLine) {\n            vim.visualLine = true;\n          }\n        }\n        this.processOperator(cm, vim, command);\n        if (!visualMode) {\n          this.processMotion(cm, vim, command);\n        }\n      },\n      processAction: function(cm, vim, command) {\n        var inputState = vim.inputState;\n        var repeat = inputState.getRepeat();\n        var repeatIsExplicit = !!repeat;\n        var actionArgs = copyArgs(command.actionArgs) || {};\n        if (inputState.selectedCharacter) {\n          actionArgs.selectedCharacter = inputState.selectedCharacter;\n        }\n        // Actions may or may not have motions and operators. Do these first.\n        if (command.operator) {\n          this.processOperator(cm, vim, command);\n        }\n        if (command.motion) {\n          this.processMotion(cm, vim, command);\n        }\n        if (command.motion || command.operator) {\n          this.evalInput(cm, vim);\n        }\n        actionArgs.repeat = repeat || 1;\n        actionArgs.repeatIsExplicit = repeatIsExplicit;\n        actionArgs.registerName = inputState.registerName;\n        clearInputState(cm);\n        vim.lastMotion = null;\n        if (command.isEdit) {\n          this.recordLastEdit(vim, inputState, command);\n        }\n        actions[command.action](cm, actionArgs, vim);\n      },\n      processSearch: function(cm, vim, command) {\n        if (!cm.getSearchCursor) {\n          // Search depends on SearchCursor.\n          return;\n        }\n        var forward = command.searchArgs.forward;\n        var wholeWordOnly = command.searchArgs.wholeWordOnly;\n        getSearchState(cm).setReversed(!forward);\n        var promptPrefix = (forward) ? '/' : '?';\n        var originalQuery = getSearchState(cm).getQuery();\n        var originalScrollPos = cm.getScrollInfo();\n        function handleQuery(query, ignoreCase, smartCase) {\n          vimGlobalState.searchHistoryController.pushInput(query);\n          vimGlobalState.searchHistoryController.reset();\n          try {\n            updateSearchQuery(cm, query, ignoreCase, smartCase);\n          } catch (e) {\n            showConfirm(cm, 'Invalid regex: ' + query);\n            clearInputState(cm);\n            return;\n          }\n          commandDispatcher.processMotion(cm, vim, {\n            type: 'motion',\n            motion: 'findNext',\n            motionArgs: { forward: true, toJumplist: command.searchArgs.toJumplist }\n          });\n        }\n        function onPromptClose(query) {\n          cm.scrollTo(originalScrollPos.left, originalScrollPos.top);\n          handleQuery(query, true /** ignoreCase */, true /** smartCase */);\n          var macroModeState = vimGlobalState.macroModeState;\n          if (macroModeState.isRecording) {\n            logSearchQuery(macroModeState, query);\n          }\n        }\n        function onPromptKeyUp(e, query, close) {\n          var keyName = CodeMirror.keyName(e), up, offset;\n          if (keyName == 'Up' || keyName == 'Down') {\n            up = keyName == 'Up' ? true : false;\n            offset = e.target ? e.target.selectionEnd : 0;\n            query = vimGlobalState.searchHistoryController.nextMatch(query, up) || '';\n            close(query);\n            if (offset && e.target) e.target.selectionEnd = e.target.selectionStart = Math.min(offset, e.target.value.length);\n          } else {\n            if ( keyName != 'Left' && keyName != 'Right' && keyName != 'Ctrl' && keyName != 'Alt' && keyName != 'Shift')\n              vimGlobalState.searchHistoryController.reset();\n          }\n          var parsedQuery;\n          try {\n            parsedQuery = updateSearchQuery(cm, query,\n                true /** ignoreCase */, true /** smartCase */);\n          } catch (e) {\n            // Swallow bad regexes for incremental search.\n          }\n          if (parsedQuery) {\n            cm.scrollIntoView(findNext(cm, !forward, parsedQuery), 30);\n          } else {\n            clearSearchHighlight(cm);\n            cm.scrollTo(originalScrollPos.left, originalScrollPos.top);\n          }\n        }\n        function onPromptKeyDown(e, query, close) {\n          var keyName = CodeMirror.keyName(e);\n          if (keyName == 'Esc' || keyName == 'Ctrl-C' || keyName == 'Ctrl-[' ||\n              (keyName == 'Backspace' && query == '')) {\n            vimGlobalState.searchHistoryController.pushInput(query);\n            vimGlobalState.searchHistoryController.reset();\n            updateSearchQuery(cm, originalQuery);\n            clearSearchHighlight(cm);\n            cm.scrollTo(originalScrollPos.left, originalScrollPos.top);\n            CodeMirror.e_stop(e);\n            clearInputState(cm);\n            close();\n            cm.focus();\n          } else if (keyName == 'Up' || keyName == 'Down') {\n            CodeMirror.e_stop(e);\n          } else if (keyName == 'Ctrl-U') {\n            // Ctrl-U clears input.\n            CodeMirror.e_stop(e);\n            close('');\n          }\n        }\n        switch (command.searchArgs.querySrc) {\n          case 'prompt':\n            var macroModeState = vimGlobalState.macroModeState;\n            if (macroModeState.isPlaying) {\n              var query = macroModeState.replaySearchQueries.shift();\n              handleQuery(query, true /** ignoreCase */, false /** smartCase */);\n            } else {\n              showPrompt(cm, {\n                  onClose: onPromptClose,\n                  prefix: promptPrefix,\n                  desc: '(JavaScript regexp)',\n                  onKeyUp: onPromptKeyUp,\n                  onKeyDown: onPromptKeyDown\n              });\n            }\n            break;\n          case 'wordUnderCursor':\n            var word = expandWordUnderCursor(cm, false /** inclusive */,\n                false /** innerWord */, false /** bigWord */,\n                true /** noSymbol */);\n            var isKeyword = true;\n            if (!word) {\n              word = expandWordUnderCursor(cm, false /** inclusive */,\n                  false /** innerWord */, false /** bigWord */,\n                  false /** noSymbol */);\n              isKeyword = false;\n            }\n            if (!word) {\n              return;\n            }\n            var query = cm.getLine(word.start.line).substring(word.start.ch,\n                word.end.ch);\n            if (isKeyword && wholeWordOnly) {\n                query = '\\\\b' + query + '\\\\b';\n            } else {\n              query = escapeRegex(query);\n            }\n\n            // cachedCursor is used to save the old position of the cursor\n            // when * or # causes vim to seek for the nearest word and shift\n            // the cursor before entering the motion.\n            vimGlobalState.jumpList.cachedCursor = cm.getCursor();\n            cm.setCursor(word.start);\n\n            handleQuery(query, true /** ignoreCase */, false /** smartCase */);\n            break;\n        }\n      },\n      processEx: function(cm, vim, command) {\n        function onPromptClose(input) {\n          // Give the prompt some time to close so that if processCommand shows\n          // an error, the elements don't overlap.\n          vimGlobalState.exCommandHistoryController.pushInput(input);\n          vimGlobalState.exCommandHistoryController.reset();\n          exCommandDispatcher.processCommand(cm, input);\n          if (cm.state.vim) clearInputState(cm);\n        }\n        function onPromptKeyDown(e, input, close) {\n          var keyName = CodeMirror.keyName(e), up, offset;\n          if (keyName == 'Esc' || keyName == 'Ctrl-C' || keyName == 'Ctrl-[' ||\n              (keyName == 'Backspace' && input == '')) {\n            vimGlobalState.exCommandHistoryController.pushInput(input);\n            vimGlobalState.exCommandHistoryController.reset();\n            CodeMirror.e_stop(e);\n            clearInputState(cm);\n            close();\n            cm.focus();\n          }\n          if (keyName == 'Up' || keyName == 'Down') {\n            CodeMirror.e_stop(e);\n            up = keyName == 'Up' ? true : false;\n            offset = e.target ? e.target.selectionEnd : 0;\n            input = vimGlobalState.exCommandHistoryController.nextMatch(input, up) || '';\n            close(input);\n            if (offset && e.target) e.target.selectionEnd = e.target.selectionStart = Math.min(offset, e.target.value.length);\n          } else if (keyName == 'Ctrl-U') {\n            // Ctrl-U clears input.\n            CodeMirror.e_stop(e);\n            close('');\n          } else {\n            if ( keyName != 'Left' && keyName != 'Right' && keyName != 'Ctrl' && keyName != 'Alt' && keyName != 'Shift')\n              vimGlobalState.exCommandHistoryController.reset();\n          }\n        }\n        if (command.type == 'keyToEx') {\n          // Handle user defined Ex to Ex mappings\n          exCommandDispatcher.processCommand(cm, command.exArgs.input);\n        } else {\n          if (vim.visualMode) {\n            showPrompt(cm, { onClose: onPromptClose, prefix: ':', value: '\\'<,\\'>',\n                onKeyDown: onPromptKeyDown, selectValueOnOpen: false});\n          } else {\n            showPrompt(cm, { onClose: onPromptClose, prefix: ':',\n                onKeyDown: onPromptKeyDown});\n          }\n        }\n      },\n      evalInput: function(cm, vim) {\n        // If the motion command is set, execute both the operator and motion.\n        // Otherwise return.\n        var inputState = vim.inputState;\n        var motion = inputState.motion;\n        var motionArgs = inputState.motionArgs || {};\n        var operator = inputState.operator;\n        var operatorArgs = inputState.operatorArgs || {};\n        var registerName = inputState.registerName;\n        var sel = vim.sel;\n        // TODO: Make sure cm and vim selections are identical outside visual mode.\n        var origHead = copyCursor(vim.visualMode ? clipCursorToContent(cm, sel.head): cm.getCursor('head'));\n        var origAnchor = copyCursor(vim.visualMode ? clipCursorToContent(cm, sel.anchor) : cm.getCursor('anchor'));\n        var oldHead = copyCursor(origHead);\n        var oldAnchor = copyCursor(origAnchor);\n        var newHead, newAnchor;\n        var repeat;\n        if (operator) {\n          this.recordLastEdit(vim, inputState);\n        }\n        if (inputState.repeatOverride !== undefined) {\n          // If repeatOverride is specified, that takes precedence over the\n          // input state's repeat. Used by Ex mode and can be user defined.\n          repeat = inputState.repeatOverride;\n        } else {\n          repeat = inputState.getRepeat();\n        }\n        if (repeat > 0 && motionArgs.explicitRepeat) {\n          motionArgs.repeatIsExplicit = true;\n        } else if (motionArgs.noRepeat ||\n            (!motionArgs.explicitRepeat && repeat === 0)) {\n          repeat = 1;\n          motionArgs.repeatIsExplicit = false;\n        }\n        if (inputState.selectedCharacter) {\n          // If there is a character input, stick it in all of the arg arrays.\n          motionArgs.selectedCharacter = operatorArgs.selectedCharacter =\n              inputState.selectedCharacter;\n        }\n        motionArgs.repeat = repeat;\n        clearInputState(cm);\n        if (motion) {\n          var motionResult = motions[motion](cm, origHead, motionArgs, vim, inputState);\n          vim.lastMotion = motions[motion];\n          if (!motionResult) {\n            return;\n          }\n          if (motionArgs.toJumplist) {\n            var jumpList = vimGlobalState.jumpList;\n            // if the current motion is # or *, use cachedCursor\n            var cachedCursor = jumpList.cachedCursor;\n            if (cachedCursor) {\n              recordJumpPosition(cm, cachedCursor, motionResult);\n              delete jumpList.cachedCursor;\n            } else {\n              recordJumpPosition(cm, origHead, motionResult);\n            }\n          }\n          if (motionResult instanceof Array) {\n            newAnchor = motionResult[0];\n            newHead = motionResult[1];\n          } else {\n            newHead = motionResult;\n          }\n          // TODO: Handle null returns from motion commands better.\n          if (!newHead) {\n            newHead = copyCursor(origHead);\n          }\n          if (vim.visualMode) {\n            if (!(vim.visualBlock && newHead.ch === Infinity)) {\n              newHead = clipCursorToContent(cm, newHead, oldHead);\n            }\n            if (newAnchor) {\n              newAnchor = clipCursorToContent(cm, newAnchor);\n            }\n            newAnchor = newAnchor || oldAnchor;\n            sel.anchor = newAnchor;\n            sel.head = newHead;\n            updateCmSelection(cm);\n            updateMark(cm, vim, '<',\n                cursorIsBefore(newAnchor, newHead) ? newAnchor\n                    : newHead);\n            updateMark(cm, vim, '>',\n                cursorIsBefore(newAnchor, newHead) ? newHead\n                    : newAnchor);\n          } else if (!operator) {\n            newHead = clipCursorToContent(cm, newHead, oldHead);\n            cm.setCursor(newHead.line, newHead.ch);\n          }\n        }\n        if (operator) {\n          if (operatorArgs.lastSel) {\n            // Replaying a visual mode operation\n            newAnchor = oldAnchor;\n            var lastSel = operatorArgs.lastSel;\n            var lineOffset = Math.abs(lastSel.head.line - lastSel.anchor.line);\n            var chOffset = Math.abs(lastSel.head.ch - lastSel.anchor.ch);\n            if (lastSel.visualLine) {\n              // Linewise Visual mode: The same number of lines.\n              newHead = new Pos(oldAnchor.line + lineOffset, oldAnchor.ch);\n            } else if (lastSel.visualBlock) {\n              // Blockwise Visual mode: The same number of lines and columns.\n              newHead = new Pos(oldAnchor.line + lineOffset, oldAnchor.ch + chOffset);\n            } else if (lastSel.head.line == lastSel.anchor.line) {\n              // Normal Visual mode within one line: The same number of characters.\n              newHead = new Pos(oldAnchor.line, oldAnchor.ch + chOffset);\n            } else {\n              // Normal Visual mode with several lines: The same number of lines, in the\n              // last line the same number of characters as in the last line the last time.\n              newHead = new Pos(oldAnchor.line + lineOffset, oldAnchor.ch);\n            }\n            vim.visualMode = true;\n            vim.visualLine = lastSel.visualLine;\n            vim.visualBlock = lastSel.visualBlock;\n            sel = vim.sel = {\n              anchor: newAnchor,\n              head: newHead\n            };\n            updateCmSelection(cm);\n          } else if (vim.visualMode) {\n            operatorArgs.lastSel = {\n              anchor: copyCursor(sel.anchor),\n              head: copyCursor(sel.head),\n              visualBlock: vim.visualBlock,\n              visualLine: vim.visualLine\n            };\n          }\n          var curStart, curEnd, linewise, mode;\n          var cmSel;\n          if (vim.visualMode) {\n            // Init visual op\n            curStart = cursorMin(sel.head, sel.anchor);\n            curEnd = cursorMax(sel.head, sel.anchor);\n            linewise = vim.visualLine || operatorArgs.linewise;\n            mode = vim.visualBlock ? 'block' :\n                   linewise ? 'line' :\n                   'char';\n            var newPositions = updateSelectionForSurrogateCharacters(cm, curStart, curEnd);\n            cmSel = makeCmSelection(cm, {\n              anchor: newPositions.start,\n              head: newPositions.end\n            }, mode);\n            if (linewise) {\n              var ranges = cmSel.ranges;\n              if (mode == 'block') {\n                // Linewise operators in visual block mode extend to end of line\n                for (var i = 0; i < ranges.length; i++) {\n                  ranges[i].head.ch = lineLength(cm, ranges[i].head.line);\n                }\n              } else if (mode == 'line') {\n                ranges[0].head = new Pos(ranges[0].head.line + 1, 0);\n              }\n            }\n          } else {\n            // Init motion op\n            curStart = copyCursor(newAnchor || oldAnchor);\n            curEnd = copyCursor(newHead || oldHead);\n            if (cursorIsBefore(curEnd, curStart)) {\n              var tmp = curStart;\n              curStart = curEnd;\n              curEnd = tmp;\n            }\n            linewise = motionArgs.linewise || operatorArgs.linewise;\n            if (linewise) {\n              // Expand selection to entire line.\n              expandSelectionToLine(cm, curStart, curEnd);\n            } else if (motionArgs.forward) {\n              // Clip to trailing newlines only if the motion goes forward.\n              clipToLine(cm, curStart, curEnd);\n            }\n            mode = 'char';\n            var exclusive = !motionArgs.inclusive || linewise;\n            var newPositions = updateSelectionForSurrogateCharacters(cm, curStart, curEnd);\n            cmSel = makeCmSelection(cm, {\n              anchor: newPositions.start,\n              head: newPositions.end\n            }, mode, exclusive);\n          }\n          cm.setSelections(cmSel.ranges, cmSel.primary);\n          vim.lastMotion = null;\n          operatorArgs.repeat = repeat; // For indent in visual mode.\n          operatorArgs.registerName = registerName;\n          // Keep track of linewise as it affects how paste and change behave.\n          operatorArgs.linewise = linewise;\n          var operatorMoveTo = operators[operator](\n            cm, operatorArgs, cmSel.ranges, oldAnchor, newHead);\n          if (vim.visualMode) {\n            exitVisualMode(cm, operatorMoveTo != null);\n          }\n          if (operatorMoveTo) {\n            cm.setCursor(operatorMoveTo);\n          }\n        }\n      },\n      recordLastEdit: function(vim, inputState, actionCommand) {\n        var macroModeState = vimGlobalState.macroModeState;\n        if (macroModeState.isPlaying) { return; }\n        vim.lastEditInputState = inputState;\n        vim.lastEditActionCommand = actionCommand;\n        macroModeState.lastInsertModeChanges.changes = [];\n        macroModeState.lastInsertModeChanges.expectCursorActivityForChange = false;\n        macroModeState.lastInsertModeChanges.visualBlock = vim.visualBlock ? vim.sel.head.line - vim.sel.anchor.line : 0;\n      }\n    };\n\n    /**\n     * typedef {Object{line:number,ch:number}} Cursor An object containing the\n     *     position of the cursor.\n     */\n    // All of the functions below return Cursor objects.\n    var motions = {\n      moveToTopLine: function(cm, _head, motionArgs) {\n        var line = getUserVisibleLines(cm).top + motionArgs.repeat -1;\n        return new Pos(line, findFirstNonWhiteSpaceCharacter(cm.getLine(line)));\n      },\n      moveToMiddleLine: function(cm) {\n        var range = getUserVisibleLines(cm);\n        var line = Math.floor((range.top + range.bottom) * 0.5);\n        return new Pos(line, findFirstNonWhiteSpaceCharacter(cm.getLine(line)));\n      },\n      moveToBottomLine: function(cm, _head, motionArgs) {\n        var line = getUserVisibleLines(cm).bottom - motionArgs.repeat +1;\n        return new Pos(line, findFirstNonWhiteSpaceCharacter(cm.getLine(line)));\n      },\n      expandToLine: function(_cm, head, motionArgs) {\n        // Expands forward to end of line, and then to next line if repeat is\n        // >1. Does not handle backward motion!\n        var cur = head;\n        return new Pos(cur.line + motionArgs.repeat - 1, Infinity);\n      },\n      findNext: function(cm, _head, motionArgs) {\n        var state = getSearchState(cm);\n        var query = state.getQuery();\n        if (!query) {\n          return;\n        }\n        var prev = !motionArgs.forward;\n        // If search is initiated with ? instead of /, negate direction.\n        prev = (state.isReversed()) ? !prev : prev;\n        highlightSearchMatches(cm, query);\n        return findNext(cm, prev/** prev */, query, motionArgs.repeat);\n      },\n      /**\n       * Find and select the next occurrence of the search query. If the cursor is currently\n       * within a match, then find and select the current match. Otherwise, find the next occurrence in the\n       * appropriate direction.\n       *\n       * This differs from `findNext` in the following ways:\n       *\n       * 1. Instead of only returning the \"from\", this returns a \"from\", \"to\" range.\n       * 2. If the cursor is currently inside a search match, this selects the current match\n       *    instead of the next match.\n       * 3. If there is no associated operator, this will turn on visual mode.\n       */\n      findAndSelectNextInclusive: function(cm, _head, motionArgs, vim, prevInputState) {\n        var state = getSearchState(cm);\n        var query = state.getQuery();\n\n        if (!query) {\n          return;\n        }\n\n        var prev = !motionArgs.forward;\n        prev = (state.isReversed()) ? !prev : prev;\n\n        // next: [from, to] | null\n        var next = findNextFromAndToInclusive(cm, prev, query, motionArgs.repeat, vim);\n\n        // No matches.\n        if (!next) {\n          return;\n        }\n\n        // If there's an operator that will be executed, return the selection.\n        if (prevInputState.operator) {\n          return next;\n        }\n\n        // At this point, we know that there is no accompanying operator -- let's\n        // deal with visual mode in order to select an appropriate match.\n\n        var from = next[0];\n        // For whatever reason, when we use the \"to\" as returned by searchcursor.js directly,\n        // the resulting selection is extended by 1 char. Let's shrink it so that only the\n        // match is selected.\n        var to = new Pos(next[1].line, next[1].ch - 1);\n\n        if (vim.visualMode) {\n          // If we were in visualLine or visualBlock mode, get out of it.\n          if (vim.visualLine || vim.visualBlock) {\n            vim.visualLine = false;\n            vim.visualBlock = false;\n            CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"visual\", subMode: \"\"});\n          }\n\n          // If we're currently in visual mode, we should extend the selection to include\n          // the search result.\n          var anchor = vim.sel.anchor;\n          if (anchor) {\n            if (state.isReversed()) {\n              if (motionArgs.forward) {\n                return [anchor, from];\n              }\n\n              return [anchor, to];\n            } else {\n              if (motionArgs.forward) {\n                return [anchor, to];\n              }\n\n              return [anchor, from];\n            }\n          }\n        } else {\n          // Let's turn visual mode on.\n          vim.visualMode = true;\n          vim.visualLine = false;\n          vim.visualBlock = false;\n          CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"visual\", subMode: \"\"});\n        }\n\n        return prev ? [to, from] : [from, to];\n      },\n      goToMark: function(cm, _head, motionArgs, vim) {\n        var pos = getMarkPos(cm, vim, motionArgs.selectedCharacter);\n        if (pos) {\n          return motionArgs.linewise ? { line: pos.line, ch: findFirstNonWhiteSpaceCharacter(cm.getLine(pos.line)) } : pos;\n        }\n        return null;\n      },\n      moveToOtherHighlightedEnd: function(cm, _head, motionArgs, vim) {\n        if (vim.visualBlock && motionArgs.sameLine) {\n          var sel = vim.sel;\n          return [\n            clipCursorToContent(cm, new Pos(sel.anchor.line, sel.head.ch)),\n            clipCursorToContent(cm, new Pos(sel.head.line, sel.anchor.ch))\n          ];\n        } else {\n          return ([vim.sel.head, vim.sel.anchor]);\n        }\n      },\n      jumpToMark: function(cm, head, motionArgs, vim) {\n        var best = head;\n        for (var i = 0; i < motionArgs.repeat; i++) {\n          var cursor = best;\n          for (var key in vim.marks) {\n            if (!isLowerCase(key)) {\n              continue;\n            }\n            var mark = vim.marks[key].find();\n            var isWrongDirection = (motionArgs.forward) ?\n              cursorIsBefore(mark, cursor) : cursorIsBefore(cursor, mark);\n\n            if (isWrongDirection) {\n              continue;\n            }\n            if (motionArgs.linewise && (mark.line == cursor.line)) {\n              continue;\n            }\n\n            var equal = cursorEqual(cursor, best);\n            var between = (motionArgs.forward) ?\n              cursorIsBetween(cursor, mark, best) :\n              cursorIsBetween(best, mark, cursor);\n\n            if (equal || between) {\n              best = mark;\n            }\n          }\n        }\n\n        if (motionArgs.linewise) {\n          // Vim places the cursor on the first non-whitespace character of\n          // the line if there is one, else it places the cursor at the end\n          // of the line, regardless of whether a mark was found.\n          best = new Pos(best.line, findFirstNonWhiteSpaceCharacter(cm.getLine(best.line)));\n        }\n        return best;\n      },\n      moveByCharacters: function(_cm, head, motionArgs) {\n        var cur = head;\n        var repeat = motionArgs.repeat;\n        var ch = motionArgs.forward ? cur.ch + repeat : cur.ch - repeat;\n        return new Pos(cur.line, ch);\n      },\n      moveByLines: function(cm, head, motionArgs, vim) {\n        var cur = head;\n        var endCh = cur.ch;\n        // Depending what our last motion was, we may want to do different\n        // things. If our last motion was moving vertically, we want to\n        // preserve the HPos from our last horizontal move.  If our last motion\n        // was going to the end of a line, moving vertically we should go to\n        // the end of the line, etc.\n        switch (vim.lastMotion) {\n          case this.moveByLines:\n          case this.moveByDisplayLines:\n          case this.moveByScroll:\n          case this.moveToColumn:\n          case this.moveToEol:\n            endCh = vim.lastHPos;\n            break;\n          default:\n            vim.lastHPos = endCh;\n        }\n        var repeat = motionArgs.repeat+(motionArgs.repeatOffset||0);\n        var line = motionArgs.forward ? cur.line + repeat : cur.line - repeat;\n        var first = cm.firstLine();\n        var last = cm.lastLine();\n        var posV = cm.findPosV(cur, (motionArgs.forward ? repeat : -repeat), 'line', vim.lastHSPos);\n        var hasMarkedText = motionArgs.forward ? posV.line > line : posV.line < line;\n        if (hasMarkedText) {\n          line = posV.line;\n          endCh = posV.ch;\n        }\n        // Vim go to line begin or line end when cursor at first/last line and\n        // move to previous/next line is triggered.\n        if (line < first && cur.line == first){\n          return this.moveToStartOfLine(cm, head, motionArgs, vim);\n        } else if (line > last && cur.line == last){\n            return moveToEol(cm, head, motionArgs, vim, true);\n        }\n        if (motionArgs.toFirstChar){\n          endCh=findFirstNonWhiteSpaceCharacter(cm.getLine(line));\n          vim.lastHPos = endCh;\n        }\n        vim.lastHSPos = cm.charCoords(new Pos(line, endCh),'div').left;\n        return new Pos(line, endCh);\n      },\n      moveByDisplayLines: function(cm, head, motionArgs, vim) {\n        var cur = head;\n        switch (vim.lastMotion) {\n          case this.moveByDisplayLines:\n          case this.moveByScroll:\n          case this.moveByLines:\n          case this.moveToColumn:\n          case this.moveToEol:\n            break;\n          default:\n            vim.lastHSPos = cm.charCoords(cur,'div').left;\n        }\n        var repeat = motionArgs.repeat;\n        var res=cm.findPosV(cur,(motionArgs.forward ? repeat : -repeat),'line',vim.lastHSPos);\n        if (res.hitSide) {\n          if (motionArgs.forward) {\n            var lastCharCoords = cm.charCoords(res, 'div');\n            var goalCoords = { top: lastCharCoords.top + 8, left: vim.lastHSPos };\n            var res = cm.coordsChar(goalCoords, 'div');\n          } else {\n            var resCoords = cm.charCoords(new Pos(cm.firstLine(), 0), 'div');\n            resCoords.left = vim.lastHSPos;\n            res = cm.coordsChar(resCoords, 'div');\n          }\n        }\n        vim.lastHPos = res.ch;\n        return res;\n      },\n      moveByPage: function(cm, head, motionArgs) {\n        // CodeMirror only exposes functions that move the cursor page down, so\n        // doing this bad hack to move the cursor and move it back. evalInput\n        // will move the cursor to where it should be in the end.\n        var curStart = head;\n        var repeat = motionArgs.repeat;\n        return cm.findPosV(curStart, (motionArgs.forward ? repeat : -repeat), 'page');\n      },\n      moveByParagraph: function(cm, head, motionArgs) {\n        var dir = motionArgs.forward ? 1 : -1;\n        return findParagraph(cm, head, motionArgs.repeat, dir);\n      },\n      moveBySentence: function(cm, head, motionArgs) {\n        var dir = motionArgs.forward ? 1 : -1;\n        return findSentence(cm, head, motionArgs.repeat, dir);\n      },\n      moveByScroll: function(cm, head, motionArgs, vim) {\n        var scrollbox = cm.getScrollInfo();\n        var curEnd = null;\n        var repeat = motionArgs.repeat;\n        if (!repeat) {\n          repeat = scrollbox.clientHeight / (2 * cm.defaultTextHeight());\n        }\n        var orig = cm.charCoords(head, 'local');\n        motionArgs.repeat = repeat;\n        curEnd = motions.moveByDisplayLines(cm, head, motionArgs, vim);\n        if (!curEnd) {\n          return null;\n        }\n        var dest = cm.charCoords(curEnd, 'local');\n        cm.scrollTo(null, scrollbox.top + dest.top - orig.top);\n        return curEnd;\n      },\n      moveByWords: function(cm, head, motionArgs) {\n        return moveToWord(cm, head, motionArgs.repeat, !!motionArgs.forward,\n            !!motionArgs.wordEnd, !!motionArgs.bigWord);\n      },\n      moveTillCharacter: function(cm, head, motionArgs) {\n        var repeat = motionArgs.repeat;\n        var curEnd = moveToCharacter(cm, repeat, motionArgs.forward,\n            motionArgs.selectedCharacter, head);\n        var increment = motionArgs.forward ? -1 : 1;\n        recordLastCharacterSearch(increment, motionArgs);\n        if (!curEnd) return null;\n        curEnd.ch += increment;\n        return curEnd;\n      },\n      moveToCharacter: function(cm, head, motionArgs) {\n        var repeat = motionArgs.repeat;\n        recordLastCharacterSearch(0, motionArgs);\n        return moveToCharacter(cm, repeat, motionArgs.forward,\n            motionArgs.selectedCharacter, head) || head;\n      },\n      moveToSymbol: function(cm, head, motionArgs) {\n        var repeat = motionArgs.repeat;\n        return findSymbol(cm, repeat, motionArgs.forward,\n            motionArgs.selectedCharacter) || head;\n      },\n      moveToColumn: function(cm, head, motionArgs, vim) {\n        var repeat = motionArgs.repeat;\n        // repeat is equivalent to which column we want to move to!\n        vim.lastHPos = repeat - 1;\n        vim.lastHSPos = cm.charCoords(head,'div').left;\n        return moveToColumn(cm, repeat);\n      },\n      moveToEol: function(cm, head, motionArgs, vim) {\n        return moveToEol(cm, head, motionArgs, vim, false);\n      },\n      moveToFirstNonWhiteSpaceCharacter: function(cm, head) {\n        // Go to the start of the line where the text begins, or the end for\n        // whitespace-only lines\n        var cursor = head;\n        return new Pos(cursor.line,\n                   findFirstNonWhiteSpaceCharacter(cm.getLine(cursor.line)));\n      },\n      moveToMatchedSymbol: function(cm, head) {\n        var cursor = head;\n        var line = cursor.line;\n        var ch = cursor.ch;\n        var lineText = cm.getLine(line);\n        var symbol;\n        for (; ch < lineText.length; ch++) {\n          symbol = lineText.charAt(ch);\n          if (symbol && isMatchableSymbol(symbol)) {\n            var style = cm.getTokenTypeAt(new Pos(line, ch + 1));\n            if (style !== \"string\" && style !== \"comment\") {\n              break;\n            }\n          }\n        }\n        if (ch < lineText.length) {\n          // Only include angle brackets in analysis if they are being matched.\n          var re = (ch === '<' || ch === '>') ? /[(){}[\\]<>]/ : /[(){}[\\]]/;\n          var matched = cm.findMatchingBracket(new Pos(line, ch), {bracketRegex: re});\n          return matched.to;\n        } else {\n          return cursor;\n        }\n      },\n      moveToStartOfLine: function(_cm, head) {\n        return new Pos(head.line, 0);\n      },\n      moveToLineOrEdgeOfDocument: function(cm, _head, motionArgs) {\n        var lineNum = motionArgs.forward ? cm.lastLine() : cm.firstLine();\n        if (motionArgs.repeatIsExplicit) {\n          lineNum = motionArgs.repeat - cm.getOption('firstLineNumber');\n        }\n        return new Pos(lineNum,\n                   findFirstNonWhiteSpaceCharacter(cm.getLine(lineNum)));\n      },\n      moveToStartOfDisplayLine: function(cm) {\n        cm.execCommand(\"goLineLeft\");\n        return cm.getCursor();\n      },\n      moveToEndOfDisplayLine: function(cm) {\n        cm.execCommand(\"goLineRight\");\n        var head = cm.getCursor();\n        if (head.sticky == \"before\") head.ch--;\n        return head;\n      },\n      textObjectManipulation: function(cm, head, motionArgs, vim) {\n        // TODO: lots of possible exceptions that can be thrown here. Try da(\n        //     outside of a () block.\n        var mirroredPairs = {'(': ')', ')': '(',\n                             '{': '}', '}': '{',\n                             '[': ']', ']': '[',\n                             '<': '>', '>': '<'};\n        var selfPaired = {'\\'': true, '\"': true, '`': true};\n\n        var character = motionArgs.selectedCharacter;\n        // 'b' refers to  '()' block.\n        // 'B' refers to  '{}' block.\n        if (character == 'b') {\n          character = '(';\n        } else if (character == 'B') {\n          character = '{';\n        }\n\n        // Inclusive is the difference between a and i\n        // TODO: Instead of using the additional text object map to perform text\n        //     object operations, merge the map into the defaultKeyMap and use\n        //     motionArgs to define behavior. Define separate entries for 'aw',\n        //     'iw', 'a[', 'i[', etc.\n        var inclusive = !motionArgs.textObjectInner;\n\n        var tmp, move;\n        if (mirroredPairs[character]) {\n          move = true;\n          tmp = selectCompanionObject(cm, head, character, inclusive);\n          if (!tmp) {\n            var sc = cm.getSearchCursor(new RegExp(\"\\\\\" + character, \"g\"), head);\n            if (sc.find()) {\n              tmp = selectCompanionObject(cm, sc.from(), character, inclusive);\n            }\n          }\n        } else if (selfPaired[character]) {\n          move = true;\n          tmp = findBeginningAndEnd(cm, head, character, inclusive);\n        } else if (character === 'W') {\n          tmp = expandWordUnderCursor(cm, inclusive, !inclusive /** innerWord */,\n                                                     true /** bigWord */);\n        } else if (character === 'w') {\n          tmp = expandWordUnderCursor(cm, inclusive, !inclusive /** innerWord */,\n                                                     false /** bigWord */);\n        } else if (character === 'p') {\n          tmp = findParagraph(cm, head, motionArgs.repeat, 0, inclusive);\n          motionArgs.linewise = true;\n          if (vim.visualMode) {\n            if (!vim.visualLine) { vim.visualLine = true; }\n          } else {\n            var operatorArgs = vim.inputState.operatorArgs;\n            if (operatorArgs) { operatorArgs.linewise = true; }\n            tmp.end.line--;\n          }\n        } else if (character === 't') {\n          tmp = expandTagUnderCursor(cm, head, inclusive);\n        } else if (character === 's') {\n          // account for cursor on end of sentence symbol\n          var content = cm.getLine(head.line);\n          if (head.ch > 0 && isEndOfSentenceSymbol(content[head.ch])) {\n            head.ch -= 1;\n          }\n          var end = getSentence(cm, head, motionArgs.repeat, 1, inclusive);\n          var start = getSentence(cm, head, motionArgs.repeat, -1, inclusive);\n          // closer vim behaviour, 'a' only takes the space after the sentence if there is one before and after\n          if (isWhiteSpaceString(cm.getLine(start.line)[start.ch])\n              && isWhiteSpaceString(cm.getLine(end.line)[end.ch -1])) {\n            start = {line: start.line, ch: start.ch + 1};\n          }\n          tmp = {start: start, end: end};\n        }\n\n        if (!tmp) {\n          // No valid text object, don't move.\n          return null;\n        }\n\n        if (!cm.state.vim.visualMode) {\n          return [tmp.start, tmp.end];\n        } else {\n          return expandSelection(cm, tmp.start, tmp.end, move);\n        }\n      },\n\n      repeatLastCharacterSearch: function(cm, head, motionArgs) {\n        var lastSearch = vimGlobalState.lastCharacterSearch;\n        var repeat = motionArgs.repeat;\n        var forward = motionArgs.forward === lastSearch.forward;\n        var increment = (lastSearch.increment ? 1 : 0) * (forward ? -1 : 1);\n        cm.moveH(-increment, 'char');\n        motionArgs.inclusive = forward ? true : false;\n        var curEnd = moveToCharacter(cm, repeat, forward, lastSearch.selectedCharacter);\n        if (!curEnd) {\n          cm.moveH(increment, 'char');\n          return head;\n        }\n        curEnd.ch += increment;\n        return curEnd;\n      }\n    };\n\n    function defineMotion(name, fn) {\n      motions[name] = fn;\n    }\n\n    function fillArray(val, times) {\n      var arr = [];\n      for (var i = 0; i < times; i++) {\n        arr.push(val);\n      }\n      return arr;\n    }\n    /**\n     * An operator acts on a text selection. It receives the list of selections\n     * as input. The corresponding CodeMirror selection is guaranteed to\n    * match the input selection.\n     */\n    var operators = {\n      change: function(cm, args, ranges) {\n        var finalHead, text;\n        var vim = cm.state.vim;\n        var anchor = ranges[0].anchor,\n            head = ranges[0].head;\n        if (!vim.visualMode) {\n          text = cm.getRange(anchor, head);\n          var lastState = vim.lastEditInputState || {};\n          if (lastState.motion == \"moveByWords\" && !isWhiteSpaceString(text)) {\n            // Exclude trailing whitespace if the range is not all whitespace.\n            var match = (/\\s+$/).exec(text);\n            if (match && lastState.motionArgs && lastState.motionArgs.forward) {\n              head = offsetCursor(head, 0, - match[0].length);\n              text = text.slice(0, - match[0].length);\n            }\n          }\n          var prevLineEnd = new Pos(anchor.line - 1, Number.MAX_VALUE);\n          var wasLastLine = cm.firstLine() == cm.lastLine();\n          if (head.line > cm.lastLine() && args.linewise && !wasLastLine) {\n            cm.replaceRange('', prevLineEnd, head);\n          } else {\n            cm.replaceRange('', anchor, head);\n          }\n          if (args.linewise) {\n            // Push the next line back down, if there is a next line.\n            if (!wasLastLine) {\n              cm.setCursor(prevLineEnd);\n              CodeMirror.commands.newlineAndIndent(cm);\n            }\n            // make sure cursor ends up at the end of the line.\n            anchor.ch = Number.MAX_VALUE;\n          }\n          finalHead = anchor;\n        } else if (args.fullLine) {\n            head.ch = Number.MAX_VALUE;\n            head.line--;\n            cm.setSelection(anchor, head);\n            text = cm.getSelection();\n            cm.replaceSelection(\"\");\n            finalHead = anchor;\n        } else {\n          text = cm.getSelection();\n          var replacement = fillArray('', ranges.length);\n          cm.replaceSelections(replacement);\n          finalHead = cursorMin(ranges[0].head, ranges[0].anchor);\n        }\n        vimGlobalState.registerController.pushText(\n            args.registerName, 'change', text,\n            args.linewise, ranges.length > 1);\n        actions.enterInsertMode(cm, {head: finalHead}, cm.state.vim);\n      },\n      // delete is a javascript keyword.\n      'delete': function(cm, args, ranges) {\n        var finalHead, text;\n        var vim = cm.state.vim;\n        if (!vim.visualBlock) {\n          var anchor = ranges[0].anchor,\n              head = ranges[0].head;\n          if (args.linewise &&\n              head.line != cm.firstLine() &&\n              anchor.line == cm.lastLine() &&\n              anchor.line == head.line - 1) {\n            // Special case for dd on last line (and first line).\n            if (anchor.line == cm.firstLine()) {\n              anchor.ch = 0;\n            } else {\n              anchor = new Pos(anchor.line - 1, lineLength(cm, anchor.line - 1));\n            }\n          }\n          text = cm.getRange(anchor, head);\n          cm.replaceRange('', anchor, head);\n          finalHead = anchor;\n          if (args.linewise) {\n            finalHead = motions.moveToFirstNonWhiteSpaceCharacter(cm, anchor);\n          }\n        } else {\n          text = cm.getSelection();\n          var replacement = fillArray('', ranges.length);\n          cm.replaceSelections(replacement);\n          finalHead = cursorMin(ranges[0].head, ranges[0].anchor);\n        }\n        vimGlobalState.registerController.pushText(\n            args.registerName, 'delete', text,\n            args.linewise, vim.visualBlock);\n        return clipCursorToContent(cm, finalHead);\n      },\n      indent: function(cm, args, ranges) {\n        var vim = cm.state.vim;\n        if (cm.indentMore) {\n          var repeat = (vim.visualMode) ? args.repeat : 1;\n          for (var j = 0; j < repeat; j++) {\n            if (args.indentRight) cm.indentMore();\n            else cm.indentLess();\n          }\n        } else {\n          var startLine = ranges[0].anchor.line;\n          var endLine = vim.visualBlock ?\n            ranges[ranges.length - 1].anchor.line :\n            ranges[0].head.line;\n          // In visual mode, n> shifts the selection right n times, instead of\n          // shifting n lines right once.\n          var repeat = (vim.visualMode) ? args.repeat : 1;\n          if (args.linewise) {\n            // The only way to delete a newline is to delete until the start of\n            // the next line, so in linewise mode evalInput will include the next\n            // line. We don't want this in indent, so we go back a line.\n            endLine--;\n          }\n          for (var i = startLine; i <= endLine; i++) {\n            for (var j = 0; j < repeat; j++) {\n              cm.indentLine(i, args.indentRight);\n            }\n          }\n        }\n        return motions.moveToFirstNonWhiteSpaceCharacter(cm, ranges[0].anchor);\n      },\n      indentAuto: function(cm, _args, ranges) {\n        cm.execCommand(\"indentAuto\");\n        return motions.moveToFirstNonWhiteSpaceCharacter(cm, ranges[0].anchor);\n      },\n      changeCase: function(cm, args, ranges, oldAnchor, newHead) {\n        var selections = cm.getSelections();\n        var swapped = [];\n        var toLower = args.toLower;\n        for (var j = 0; j < selections.length; j++) {\n          var toSwap = selections[j];\n          var text = '';\n          if (toLower === true) {\n            text = toSwap.toLowerCase();\n          } else if (toLower === false) {\n            text = toSwap.toUpperCase();\n          } else {\n            for (var i = 0; i < toSwap.length; i++) {\n              var character = toSwap.charAt(i);\n              text += isUpperCase(character) ? character.toLowerCase() :\n                  character.toUpperCase();\n            }\n          }\n          swapped.push(text);\n        }\n        cm.replaceSelections(swapped);\n        if (args.shouldMoveCursor){\n          return newHead;\n        } else if (!cm.state.vim.visualMode && args.linewise && ranges[0].anchor.line + 1 == ranges[0].head.line) {\n          return motions.moveToFirstNonWhiteSpaceCharacter(cm, oldAnchor);\n        } else if (args.linewise){\n          return oldAnchor;\n        } else {\n          return cursorMin(ranges[0].anchor, ranges[0].head);\n        }\n      },\n      yank: function(cm, args, ranges, oldAnchor) {\n        var vim = cm.state.vim;\n        var text = cm.getSelection();\n        var endPos = vim.visualMode\n          ? cursorMin(vim.sel.anchor, vim.sel.head, ranges[0].head, ranges[0].anchor)\n          : oldAnchor;\n        vimGlobalState.registerController.pushText(\n            args.registerName, 'yank',\n            text, args.linewise, vim.visualBlock);\n        return endPos;\n      }\n    };\n\n    function defineOperator(name, fn) {\n      operators[name] = fn;\n    }\n\n    var actions = {\n      jumpListWalk: function(cm, actionArgs, vim) {\n        if (vim.visualMode) {\n          return;\n        }\n        var repeat = actionArgs.repeat;\n        var forward = actionArgs.forward;\n        var jumpList = vimGlobalState.jumpList;\n\n        var mark = jumpList.move(cm, forward ? repeat : -repeat);\n        var markPos = mark ? mark.find() : undefined;\n        markPos = markPos ? markPos : cm.getCursor();\n        cm.setCursor(markPos);\n      },\n      scroll: function(cm, actionArgs, vim) {\n        if (vim.visualMode) {\n          return;\n        }\n        var repeat = actionArgs.repeat || 1;\n        var lineHeight = cm.defaultTextHeight();\n        var top = cm.getScrollInfo().top;\n        var delta = lineHeight * repeat;\n        var newPos = actionArgs.forward ? top + delta : top - delta;\n        var cursor = copyCursor(cm.getCursor());\n        var cursorCoords = cm.charCoords(cursor, 'local');\n        if (actionArgs.forward) {\n          if (newPos > cursorCoords.top) {\n             cursor.line += (newPos - cursorCoords.top) / lineHeight;\n             cursor.line = Math.ceil(cursor.line);\n             cm.setCursor(cursor);\n             cursorCoords = cm.charCoords(cursor, 'local');\n             cm.scrollTo(null, cursorCoords.top);\n          } else {\n             // Cursor stays within bounds.  Just reposition the scroll window.\n             cm.scrollTo(null, newPos);\n          }\n        } else {\n          var newBottom = newPos + cm.getScrollInfo().clientHeight;\n          if (newBottom < cursorCoords.bottom) {\n             cursor.line -= (cursorCoords.bottom - newBottom) / lineHeight;\n             cursor.line = Math.floor(cursor.line);\n             cm.setCursor(cursor);\n             cursorCoords = cm.charCoords(cursor, 'local');\n             cm.scrollTo(\n                 null, cursorCoords.bottom - cm.getScrollInfo().clientHeight);\n          } else {\n             // Cursor stays within bounds.  Just reposition the scroll window.\n             cm.scrollTo(null, newPos);\n          }\n        }\n      },\n      scrollToCursor: function(cm, actionArgs) {\n        var lineNum = cm.getCursor().line;\n        var charCoords = cm.charCoords(new Pos(lineNum, 0), 'local');\n        var height = cm.getScrollInfo().clientHeight;\n        var y = charCoords.top;\n        switch (actionArgs.position) {\n          case 'center': y = charCoords.bottom - height / 2;\n            break;\n          case 'bottom':\n            var lineLastCharPos = new Pos(lineNum, cm.getLine(lineNum).length - 1);\n            var lineLastCharCoords = cm.charCoords(lineLastCharPos, 'local');\n            var lineHeight = lineLastCharCoords.bottom - y;\n            y = y - height + lineHeight;\n            break;\n        }\n        cm.scrollTo(null, y);\n      },\n      replayMacro: function(cm, actionArgs, vim) {\n        var registerName = actionArgs.selectedCharacter;\n        var repeat = actionArgs.repeat;\n        var macroModeState = vimGlobalState.macroModeState;\n        if (registerName == '@') {\n          registerName = macroModeState.latestRegister;\n        } else {\n          macroModeState.latestRegister = registerName;\n        }\n        while(repeat--){\n          executeMacroRegister(cm, vim, macroModeState, registerName);\n        }\n      },\n      enterMacroRecordMode: function(cm, actionArgs) {\n        var macroModeState = vimGlobalState.macroModeState;\n        var registerName = actionArgs.selectedCharacter;\n        if (vimGlobalState.registerController.isValidRegister(registerName)) {\n          macroModeState.enterMacroRecordMode(cm, registerName);\n        }\n      },\n      toggleOverwrite: function(cm) {\n        if (!cm.state.overwrite) {\n          cm.toggleOverwrite(true);\n          cm.setOption('keyMap', 'vim-replace');\n          CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"replace\"});\n        } else {\n          cm.toggleOverwrite(false);\n          cm.setOption('keyMap', 'vim-insert');\n          CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"insert\"});\n        }\n      },\n      enterInsertMode: function(cm, actionArgs, vim) {\n        if (cm.getOption('readOnly')) { return; }\n        vim.insertMode = true;\n        vim.insertModeRepeat = actionArgs && actionArgs.repeat || 1;\n        var insertAt = (actionArgs) ? actionArgs.insertAt : null;\n        var sel = vim.sel;\n        var head = actionArgs.head || cm.getCursor('head');\n        var height = cm.listSelections().length;\n        if (insertAt == 'eol') {\n          head = new Pos(head.line, lineLength(cm, head.line));\n        } else if (insertAt == 'bol') {\n          head = new Pos(head.line, 0);\n        } else if (insertAt == 'charAfter') {\n          var newPosition = updateSelectionForSurrogateCharacters(cm, head, offsetCursor(head, 0, 1));\n          head = newPosition.end;\n        } else if (insertAt == 'firstNonBlank') {\n          var newPosition = updateSelectionForSurrogateCharacters(cm, head, motions.moveToFirstNonWhiteSpaceCharacter(cm, head));\n          head = newPosition.end;\n        } else if (insertAt == 'startOfSelectedArea') {\n          if (!vim.visualMode)\n              return;\n          if (!vim.visualBlock) {\n            if (sel.head.line < sel.anchor.line) {\n              head = sel.head;\n            } else {\n              head = new Pos(sel.anchor.line, 0);\n            }\n          } else {\n            head = new Pos(\n                Math.min(sel.head.line, sel.anchor.line),\n                Math.min(sel.head.ch, sel.anchor.ch));\n            height = Math.abs(sel.head.line - sel.anchor.line) + 1;\n          }\n        } else if (insertAt == 'endOfSelectedArea') {\n            if (!vim.visualMode)\n              return;\n          if (!vim.visualBlock) {\n            if (sel.head.line >= sel.anchor.line) {\n              head = offsetCursor(sel.head, 0, 1);\n            } else {\n              head = new Pos(sel.anchor.line, 0);\n            }\n          } else {\n            head = new Pos(\n                Math.min(sel.head.line, sel.anchor.line),\n                Math.max(sel.head.ch, sel.anchor.ch) + 1);\n            height = Math.abs(sel.head.line - sel.anchor.line) + 1;\n          }\n        } else if (insertAt == 'inplace') {\n          if (vim.visualMode){\n            return;\n          }\n        } else if (insertAt == 'lastEdit') {\n          head = getLastEditPos(cm) || head;\n        }\n        cm.setOption('disableInput', false);\n        if (actionArgs && actionArgs.replace) {\n          // Handle Replace-mode as a special case of insert mode.\n          cm.toggleOverwrite(true);\n          cm.setOption('keyMap', 'vim-replace');\n          CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"replace\"});\n        } else {\n          cm.toggleOverwrite(false);\n          cm.setOption('keyMap', 'vim-insert');\n          CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"insert\"});\n        }\n        if (!vimGlobalState.macroModeState.isPlaying) {\n          // Only record if not replaying.\n          cm.on('change', onChange);\n          if (vim.insertEnd) vim.insertEnd.clear();\n          vim.insertEnd = cm.setBookmark(head, {insertLeft: true});\n          CodeMirror.on(cm.getInputField(), 'keydown', onKeyEventTargetKeyDown);\n        }\n        if (vim.visualMode) {\n          exitVisualMode(cm);\n        }\n        selectForInsert(cm, head, height);\n      },\n      toggleVisualMode: function(cm, actionArgs, vim) {\n        var repeat = actionArgs.repeat;\n        var anchor = cm.getCursor();\n        var head;\n        // TODO: The repeat should actually select number of characters/lines\n        //     equal to the repeat times the size of the previous visual\n        //     operation.\n        if (!vim.visualMode) {\n          // Entering visual mode\n          vim.visualMode = true;\n          vim.visualLine = !!actionArgs.linewise;\n          vim.visualBlock = !!actionArgs.blockwise;\n          head = clipCursorToContent(\n              cm, new Pos(anchor.line, anchor.ch + repeat - 1));\n          var newPosition = updateSelectionForSurrogateCharacters(cm, anchor, head);\n          vim.sel = {\n            anchor: newPosition.start,\n            head: newPosition.end\n          };\n          CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"visual\", subMode: vim.visualLine ? \"linewise\" : vim.visualBlock ? \"blockwise\" : \"\"});\n          updateCmSelection(cm);\n          updateMark(cm, vim, '<', cursorMin(anchor, head));\n          updateMark(cm, vim, '>', cursorMax(anchor, head));\n        } else if (vim.visualLine ^ actionArgs.linewise ||\n            vim.visualBlock ^ actionArgs.blockwise) {\n          // Toggling between modes\n          vim.visualLine = !!actionArgs.linewise;\n          vim.visualBlock = !!actionArgs.blockwise;\n          CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"visual\", subMode: vim.visualLine ? \"linewise\" : vim.visualBlock ? \"blockwise\" : \"\"});\n          updateCmSelection(cm);\n        } else {\n          exitVisualMode(cm);\n        }\n      },\n      reselectLastSelection: function(cm, _actionArgs, vim) {\n        var lastSelection = vim.lastSelection;\n        if (vim.visualMode) {\n          updateLastSelection(cm, vim);\n        }\n        if (lastSelection) {\n          var anchor = lastSelection.anchorMark.find();\n          var head = lastSelection.headMark.find();\n          if (!anchor || !head) {\n            // If the marks have been destroyed due to edits, do nothing.\n            return;\n          }\n          vim.sel = {\n            anchor: anchor,\n            head: head\n          };\n          vim.visualMode = true;\n          vim.visualLine = lastSelection.visualLine;\n          vim.visualBlock = lastSelection.visualBlock;\n          updateCmSelection(cm);\n          updateMark(cm, vim, '<', cursorMin(anchor, head));\n          updateMark(cm, vim, '>', cursorMax(anchor, head));\n          CodeMirror.signal(cm, 'vim-mode-change', {\n            mode: 'visual',\n            subMode: vim.visualLine ? 'linewise' :\n                     vim.visualBlock ? 'blockwise' : ''});\n        }\n      },\n      joinLines: function(cm, actionArgs, vim) {\n        var curStart, curEnd;\n        if (vim.visualMode) {\n          curStart = cm.getCursor('anchor');\n          curEnd = cm.getCursor('head');\n          if (cursorIsBefore(curEnd, curStart)) {\n            var tmp = curEnd;\n            curEnd = curStart;\n            curStart = tmp;\n          }\n          curEnd.ch = lineLength(cm, curEnd.line) - 1;\n        } else {\n          // Repeat is the number of lines to join. Minimum 2 lines.\n          var repeat = Math.max(actionArgs.repeat, 2);\n          curStart = cm.getCursor();\n          curEnd = clipCursorToContent(cm, new Pos(curStart.line + repeat - 1,\n                                               Infinity));\n        }\n        var finalCh = 0;\n        for (var i = curStart.line; i < curEnd.line; i++) {\n          finalCh = lineLength(cm, curStart.line);\n          var text = '';\n          var nextStartCh = 0;\n          if (!actionArgs.keepSpaces) {\n            var nextLine = cm.getLine(curStart.line + 1);\n            nextStartCh = nextLine.search(/\\S/);\n            if (nextStartCh == -1) {\n              nextStartCh = nextLine.length;\n            } else {\n              text = \" \";\n            }\n          }\n          cm.replaceRange(text, \n            new Pos(curStart.line, finalCh),\n            new Pos(curStart.line + 1, nextStartCh));\n        }\n        var curFinalPos = clipCursorToContent(cm, new Pos(curStart.line, finalCh));\n        if (vim.visualMode) {\n          exitVisualMode(cm, false);\n        }\n        cm.setCursor(curFinalPos);\n      },\n      newLineAndEnterInsertMode: function(cm, actionArgs, vim) {\n        vim.insertMode = true;\n        var insertAt = copyCursor(cm.getCursor());\n        if (insertAt.line === cm.firstLine() && !actionArgs.after) {\n          // Special case for inserting newline before start of document.\n          cm.replaceRange('\\n', new Pos(cm.firstLine(), 0));\n          cm.setCursor(cm.firstLine(), 0);\n        } else {\n          insertAt.line = (actionArgs.after) ? insertAt.line :\n              insertAt.line - 1;\n          insertAt.ch = lineLength(cm, insertAt.line);\n          cm.setCursor(insertAt);\n          var newlineFn = CodeMirror.commands.newlineAndIndentContinueComment ||\n              CodeMirror.commands.newlineAndIndent;\n          newlineFn(cm);\n        }\n        this.enterInsertMode(cm, { repeat: actionArgs.repeat }, vim);\n      },\n      paste: function(cm, actionArgs, vim) {\n        var register = vimGlobalState.registerController.getRegister(\n            actionArgs.registerName);\n        if (actionArgs.registerName === '+') {\n          navigator.clipboard.readText().then((value) => {\n            this.continuePaste(cm, actionArgs, vim, value, register);\n          });\n        } else {\n          var text = register.toString();\n          this.continuePaste(cm, actionArgs, vim, text, register);\n        }\n      },\n      continuePaste: function(cm, actionArgs, vim, text, register) {\n        var cur = copyCursor(cm.getCursor());\n        if (!text) {\n          return;\n        }\n        if (actionArgs.matchIndent) {\n          var tabSize = cm.getOption(\"tabSize\");\n          // length that considers tabs and tabSize\n          var whitespaceLength = function(str) {\n            var tabs = (str.split(\"\\t\").length - 1);\n            var spaces = (str.split(\" \").length - 1);\n            return tabs * tabSize + spaces * 1;\n          };\n          var currentLine = cm.getLine(cm.getCursor().line);\n          var indent = whitespaceLength(currentLine.match(/^\\s*/)[0]);\n          // chomp last newline b/c don't want it to match /^\\s*/gm\n          var chompedText = text.replace(/\\n$/, '');\n          var wasChomped = text !== chompedText;\n          var firstIndent = whitespaceLength(text.match(/^\\s*/)[0]);\n          var text = chompedText.replace(/^\\s*/gm, function(wspace) {\n            var newIndent = indent + (whitespaceLength(wspace) - firstIndent);\n            if (newIndent < 0) {\n              return \"\";\n            }\n            else if (cm.getOption(\"indentWithTabs\")) {\n              var quotient = Math.floor(newIndent / tabSize);\n              return Array(quotient + 1).join('\\t');\n            }\n            else {\n              return Array(newIndent + 1).join(' ');\n            }\n          });\n          text += wasChomped ? \"\\n\" : \"\";\n        }\n        if (actionArgs.repeat > 1) {\n          var text = Array(actionArgs.repeat + 1).join(text);\n        }\n        var linewise = register.linewise;\n        var blockwise = register.blockwise;\n        if (blockwise) {\n          text = text.split('\\n');\n          if (linewise) {\n            text.pop();\n          }\n          for (var i = 0; i < text.length; i++) {\n            text[i] = (text[i] == '') ? ' ' : text[i];\n          }\n          cur.ch += actionArgs.after ? 1 : 0;\n          cur.ch = Math.min(lineLength(cm, cur.line), cur.ch);\n        } else if (linewise) {\n          if(vim.visualMode) {\n            text = vim.visualLine ? text.slice(0, -1) : '\\n' + text.slice(0, text.length - 1) + '\\n';\n          } else if (actionArgs.after) {\n            // Move the newline at the end to the start instead, and paste just\n            // before the newline character of the line we are on right now.\n            text = '\\n' + text.slice(0, text.length - 1);\n            cur.ch = lineLength(cm, cur.line);\n          } else {\n            cur.ch = 0;\n          }\n        } else {\n          cur.ch += actionArgs.after ? 1 : 0;\n        }\n        var curPosFinal;\n        if (vim.visualMode) {\n          //  save the pasted text for reselection if the need arises\n          vim.lastPastedText = text;\n          var lastSelectionCurEnd;\n          var selectedArea = getSelectedAreaRange(cm, vim);\n          var selectionStart = selectedArea[0];\n          var selectionEnd = selectedArea[1];\n          var selectedText = cm.getSelection();\n          var selections = cm.listSelections();\n          var emptyStrings = new Array(selections.length).join('1').split('1');\n          // save the curEnd marker before it get cleared due to cm.replaceRange.\n          if (vim.lastSelection) {\n            lastSelectionCurEnd = vim.lastSelection.headMark.find();\n          }\n          // push the previously selected text to unnamed register\n          vimGlobalState.registerController.unnamedRegister.setText(selectedText);\n          if (blockwise) {\n            // first delete the selected text\n            cm.replaceSelections(emptyStrings);\n            // Set new selections as per the block length of the yanked text\n            selectionEnd = new Pos(selectionStart.line + text.length-1, selectionStart.ch);\n            cm.setCursor(selectionStart);\n            selectBlock(cm, selectionEnd);\n            cm.replaceSelections(text);\n            curPosFinal = selectionStart;\n          } else if (vim.visualBlock) {\n            cm.replaceSelections(emptyStrings);\n            cm.setCursor(selectionStart);\n            cm.replaceRange(text, selectionStart, selectionStart);\n            curPosFinal = selectionStart;\n          } else {\n            cm.replaceRange(text, selectionStart, selectionEnd);\n            curPosFinal = cm.posFromIndex(cm.indexFromPos(selectionStart) + text.length - 1);\n          }\n          // restore the the curEnd marker\n          if(lastSelectionCurEnd) {\n            vim.lastSelection.headMark = cm.setBookmark(lastSelectionCurEnd);\n          }\n          if (linewise) {\n            curPosFinal.ch=0;\n          }\n        } else {\n          if (blockwise) {\n            cm.setCursor(cur);\n            for (var i = 0; i < text.length; i++) {\n              var line = cur.line+i;\n              if (line > cm.lastLine()) {\n                cm.replaceRange('\\n',  new Pos(line, 0));\n              }\n              var lastCh = lineLength(cm, line);\n              if (lastCh < cur.ch) {\n                extendLineToColumn(cm, line, cur.ch);\n              }\n            }\n            cm.setCursor(cur);\n            selectBlock(cm, new Pos(cur.line + text.length-1, cur.ch));\n            cm.replaceSelections(text);\n            curPosFinal = cur;\n          } else {\n            cm.replaceRange(text, cur);\n            // Now fine tune the cursor to where we want it.\n            if (linewise) {\n              var line = actionArgs.after ? cur.line + 1 : cur.line;\n              curPosFinal = new Pos(line, findFirstNonWhiteSpaceCharacter(cm.getLine(line)));\n            } else {\n              curPosFinal = copyCursor(cur);\n              if (!/\\n/.test(text)) {\n                curPosFinal.ch += text.length - (actionArgs.after ? 1 : 0);\n              }\n            }\n          }\n        }\n        if (vim.visualMode) {\n          exitVisualMode(cm, false);\n        }\n        cm.setCursor(curPosFinal);\n      },\n      undo: function(cm, actionArgs) {\n        cm.operation(function() {\n          repeatFn(cm, CodeMirror.commands.undo, actionArgs.repeat)();\n          cm.setCursor(clipCursorToContent(cm, cm.getCursor('start')));\n        });\n      },\n      redo: function(cm, actionArgs) {\n        repeatFn(cm, CodeMirror.commands.redo, actionArgs.repeat)();\n      },\n      setRegister: function(_cm, actionArgs, vim) {\n        vim.inputState.registerName = actionArgs.selectedCharacter;\n      },\n      insertRegister: function(cm, actionArgs, vim) {\n        var registerName = actionArgs.selectedCharacter;\n        var register = vimGlobalState.registerController.getRegister(registerName);\n        var text = register && register.toString();\n        if (text) {\n          cm.replaceSelection(text);\n        }\n      },\n      oneNormalCommand: function(cm, actionArgs, vim) {\n        exitInsertMode(cm, true);\n        vim.insertModeReturn = true;\n        CodeMirror.on(cm, 'vim-command-done', function handler() {\n          if (vim.visualMode) return;\n          if (vim.insertModeReturn) {\n            vim.insertModeReturn = false;\n            if (!vim.insertMode) {\n              actions.enterInsertMode(cm, {}, vim);\n            }\n          }\n          CodeMirror.off(cm, 'vim-command-done', handler);\n        });\n      },\n      setMark: function(cm, actionArgs, vim) {\n        var markName = actionArgs.selectedCharacter;\n        updateMark(cm, vim, markName, cm.getCursor());\n      },\n      replace: function(cm, actionArgs, vim) {\n        var replaceWith = actionArgs.selectedCharacter;\n        var curStart = cm.getCursor();\n        var replaceTo;\n        var curEnd;\n        var selections = cm.listSelections();\n        if (vim.visualMode) {\n          curStart = cm.getCursor('start');\n          curEnd = cm.getCursor('end');\n        } else {\n          var line = cm.getLine(curStart.line);\n          replaceTo = curStart.ch + actionArgs.repeat;\n          if (replaceTo > line.length) {\n            replaceTo=line.length;\n          }\n          curEnd = new Pos(curStart.line, replaceTo);\n        }\n\n        var newPositions = updateSelectionForSurrogateCharacters(cm, curStart, curEnd);\n        curStart = newPositions.start;\n        curEnd = newPositions.end;\n        if (replaceWith=='\\n') {\n          if (!vim.visualMode) cm.replaceRange('', curStart, curEnd);\n          // special case, where vim help says to replace by just one line-break\n          (CodeMirror.commands.newlineAndIndentContinueComment || CodeMirror.commands.newlineAndIndent)(cm);\n        } else {\n          var replaceWithStr = cm.getRange(curStart, curEnd);\n          // replace all surrogate characters with selected character\n          replaceWithStr = replaceWithStr.replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g, replaceWith);\n          //replace all characters in range by selected, but keep linebreaks\n          replaceWithStr = replaceWithStr.replace(/[^\\n]/g, replaceWith);\n          if (vim.visualBlock) {\n            // Tabs are split in visua block before replacing\n            var spaces = new Array(cm.getOption(\"tabSize\")+1).join(' ');\n            replaceWithStr = cm.getSelection();\n            replaceWithStr = replaceWithStr.replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g, replaceWith);\n            replaceWithStr = replaceWithStr.replace(/\\t/g, spaces).replace(/[^\\n]/g, replaceWith).split('\\n');\n            cm.replaceSelections(replaceWithStr);\n          } else {\n            cm.replaceRange(replaceWithStr, curStart, curEnd);\n          }\n          if (vim.visualMode) {\n            curStart = cursorIsBefore(selections[0].anchor, selections[0].head) ?\n                         selections[0].anchor : selections[0].head;\n            cm.setCursor(curStart);\n            exitVisualMode(cm, false);\n          } else {\n            cm.setCursor(offsetCursor(curEnd, 0, -1));\n          }\n        }\n      },\n      incrementNumberToken: function(cm, actionArgs) {\n        var cur = cm.getCursor();\n        var lineStr = cm.getLine(cur.line);\n        var re = /(-?)(?:(0x)([\\da-f]+)|(0b|0|)(\\d+))/gi;\n        var match;\n        var start;\n        var end;\n        var numberStr;\n        while ((match = re.exec(lineStr)) !== null) {\n          start = match.index;\n          end = start + match[0].length;\n          if (cur.ch < end)break;\n        }\n        if (!actionArgs.backtrack && (end <= cur.ch))return;\n        if (match) {\n          var baseStr = match[2] || match[4];\n          var digits = match[3] || match[5];\n          var increment = actionArgs.increase ? 1 : -1;\n          var base = {'0b': 2, '0': 8, '': 10, '0x': 16}[baseStr.toLowerCase()];\n          var number = parseInt(match[1] + digits, base) + (increment * actionArgs.repeat);\n          numberStr = number.toString(base);\n          var zeroPadding = baseStr ? new Array(digits.length - numberStr.length + 1 + match[1].length).join('0') : '';\n          if (numberStr.charAt(0) === '-') {\n            numberStr = '-' + baseStr + zeroPadding + numberStr.substr(1);\n          } else {\n            numberStr = baseStr + zeroPadding + numberStr;\n          }\n          var from = new Pos(cur.line, start);\n          var to = new Pos(cur.line, end);\n          cm.replaceRange(numberStr, from, to);\n        } else {\n          return;\n        }\n        cm.setCursor(new Pos(cur.line, start + numberStr.length - 1));\n      },\n      repeatLastEdit: function(cm, actionArgs, vim) {\n        var lastEditInputState = vim.lastEditInputState;\n        if (!lastEditInputState) { return; }\n        var repeat = actionArgs.repeat;\n        if (repeat && actionArgs.repeatIsExplicit) {\n          vim.lastEditInputState.repeatOverride = repeat;\n        } else {\n          repeat = vim.lastEditInputState.repeatOverride || repeat;\n        }\n        repeatLastEdit(cm, vim, repeat, false /** repeatForInsert */);\n      },\n      indent: function(cm, actionArgs) {\n        cm.indentLine(cm.getCursor().line, actionArgs.indentRight);\n      },\n      exitInsertMode: exitInsertMode\n    };\n\n    function defineAction(name, fn) {\n      actions[name] = fn;\n    }\n\n    /*\n     * Below are miscellaneous utility functions used by vim.js\n     */\n\n    /**\n     * Clips cursor to ensure that line is within the buffer's range\n     * and is not inside surrogate pair\n     * If includeLineBreak is true, then allow cur.ch == lineLength.\n     */\n    function clipCursorToContent(cm, cur, oldCur) {\n      var vim = cm.state.vim;\n      var includeLineBreak = vim.insertMode || vim.visualMode;\n      var line = Math.min(Math.max(cm.firstLine(), cur.line), cm.lastLine() );\n      var text = cm.getLine(line);\n      var maxCh = text.length - 1 + Number(!!includeLineBreak);\n      var ch = Math.min(Math.max(0, cur.ch), maxCh);\n      // prevent cursor from entering surrogate pair\n      var charCode = text.charCodeAt(ch);\n      if (0xDC00 <= charCode && charCode <= 0xDFFF) {\n        var direction = 1;\n        if (oldCur && oldCur.line == line && oldCur.ch > ch) {\n          direction = -1;\n        }\n        ch +=direction;\n        if (ch > maxCh) ch -=2;\n      }\n      return new Pos(line, ch);\n    }\n    function copyArgs(args) {\n      var ret = {};\n      for (var prop in args) {\n        if (args.hasOwnProperty(prop)) {\n          ret[prop] = args[prop];\n        }\n      }\n      return ret;\n    }\n    function offsetCursor(cur, offsetLine, offsetCh) {\n      if (typeof offsetLine === 'object') {\n        offsetCh = offsetLine.ch;\n        offsetLine = offsetLine.line;\n      }\n      return new Pos(cur.line + offsetLine, cur.ch + offsetCh);\n    }\n    function commandMatches(keys, keyMap, context, inputState) {\n      // Partial matches are not applied. They inform the key handler\n      // that the current key sequence is a subsequence of a valid key\n      // sequence, so that the key buffer is not cleared.\n      var operatorPending = inputState.operator;\n      var match, partial = [], full = [];\n      // if currently expanded key comes from a noremap, searcg only in default keys\n      var startIndex = noremap ? keyMap.length - defaultKeymapLength : 0;\n      for (var i = startIndex; i < keyMap.length; i++) {\n        var command = keyMap[i];\n        if (context == 'insert' && command.context != 'insert' ||\n            (command.context == \"operatorPending\" ? !operatorPending \n              : command.context && command.context != context) ||\n            inputState.operator && command.type == 'action' ||\n            !(match = commandMatch(keys, command.keys))) { continue; }\n        if (match == 'partial') { partial.push(command); }\n        if (match == 'full') { full.push(command); }\n      }\n      return {\n        partial: partial.length && partial,\n        full: full.length && full\n      };\n    }\n    function commandMatch(pressed, mapped) {\n      if (mapped.slice(-11) == '<character>') {\n        // Last character matches anything.\n        var prefixLen = mapped.length - 11;\n        var pressedPrefix = pressed.slice(0, prefixLen);\n        var mappedPrefix = mapped.slice(0, prefixLen);\n        return pressedPrefix == mappedPrefix && pressed.length > prefixLen ? 'full' :\n               mappedPrefix.indexOf(pressedPrefix) == 0 ? 'partial' : false;\n      } else {\n        return pressed == mapped ? 'full' :\n               mapped.indexOf(pressed) == 0 ? 'partial' : false;\n      }\n    }\n    function lastChar(keys) {\n      var match = /^.*(<[^>]+>)$/.exec(keys);\n      var selectedCharacter = match ? match[1] : keys.slice(-1);\n      if (selectedCharacter.length > 1){\n        switch(selectedCharacter){\n          case '<CR>':\n            selectedCharacter='\\n';\n            break;\n          case '<Space>':\n            selectedCharacter=' ';\n            break;\n          default:\n            selectedCharacter='';\n            break;\n        }\n      }\n      return selectedCharacter;\n    }\n    function repeatFn(cm, fn, repeat) {\n      return function() {\n        for (var i = 0; i < repeat; i++) {\n          fn(cm);\n        }\n      };\n    }\n    function copyCursor(cur) {\n      return new Pos(cur.line, cur.ch);\n    }\n    function cursorEqual(cur1, cur2) {\n      return cur1.ch == cur2.ch && cur1.line == cur2.line;\n    }\n    function cursorIsBefore(cur1, cur2) {\n      if (cur1.line < cur2.line) {\n        return true;\n      }\n      if (cur1.line == cur2.line && cur1.ch < cur2.ch) {\n        return true;\n      }\n      return false;\n    }\n    function cursorMin(cur1, cur2) {\n      if (arguments.length > 2) {\n        cur2 = cursorMin.apply(undefined, Array.prototype.slice.call(arguments, 1));\n      }\n      return cursorIsBefore(cur1, cur2) ? cur1 : cur2;\n    }\n    function cursorMax(cur1, cur2) {\n      if (arguments.length > 2) {\n        cur2 = cursorMax.apply(undefined, Array.prototype.slice.call(arguments, 1));\n      }\n      return cursorIsBefore(cur1, cur2) ? cur2 : cur1;\n    }\n    function cursorIsBetween(cur1, cur2, cur3) {\n      // returns true if cur2 is between cur1 and cur3.\n      var cur1before2 = cursorIsBefore(cur1, cur2);\n      var cur2before3 = cursorIsBefore(cur2, cur3);\n      return cur1before2 && cur2before3;\n    }\n    function lineLength(cm, lineNum) {\n      return cm.getLine(lineNum).length;\n    }\n    function trim(s) {\n      if (s.trim) {\n        return s.trim();\n      }\n      return s.replace(/^\\s+|\\s+$/g, '');\n    }\n    function escapeRegex(s) {\n      return s.replace(/([.?*+$\\[\\]\\/\\\\(){}|\\-])/g, '\\\\$1');\n    }\n    function extendLineToColumn(cm, lineNum, column) {\n      var endCh = lineLength(cm, lineNum);\n      var spaces = new Array(column-endCh+1).join(' ');\n      cm.setCursor(new Pos(lineNum, endCh));\n      cm.replaceRange(spaces, cm.getCursor());\n    }\n    // This functions selects a rectangular block\n    // of text with selectionEnd as any of its corner\n    // Height of block:\n    // Difference in selectionEnd.line and first/last selection.line\n    // Width of the block:\n    // Distance between selectionEnd.ch and any(first considered here) selection.ch\n    function selectBlock(cm, selectionEnd) {\n      var selections = [], ranges = cm.listSelections();\n      var head = copyCursor(cm.clipPos(selectionEnd));\n      var isClipped = !cursorEqual(selectionEnd, head);\n      var curHead = cm.getCursor('head');\n      var primIndex = getIndex(ranges, curHead);\n      var wasClipped = cursorEqual(ranges[primIndex].head, ranges[primIndex].anchor);\n      var max = ranges.length - 1;\n      var index = max - primIndex > primIndex ? max : 0;\n      var base = ranges[index].anchor;\n\n      var firstLine = Math.min(base.line, head.line);\n      var lastLine = Math.max(base.line, head.line);\n      var baseCh = base.ch, headCh = head.ch;\n\n      var dir = ranges[index].head.ch - baseCh;\n      var newDir = headCh - baseCh;\n      if (dir > 0 && newDir <= 0) {\n        baseCh++;\n        if (!isClipped) { headCh--; }\n      } else if (dir < 0 && newDir >= 0) {\n        baseCh--;\n        if (!wasClipped) { headCh++; }\n      } else if (dir < 0 && newDir == -1) {\n        baseCh--;\n        headCh++;\n      }\n      for (var line = firstLine; line <= lastLine; line++) {\n        var range = {anchor: new Pos(line, baseCh), head: new Pos(line, headCh)};\n        selections.push(range);\n      }\n      cm.setSelections(selections);\n      selectionEnd.ch = headCh;\n      base.ch = baseCh;\n      return base;\n    }\n    function selectForInsert(cm, head, height) {\n      var sel = [];\n      for (var i = 0; i < height; i++) {\n        var lineHead = offsetCursor(head, i, 0);\n        sel.push({anchor: lineHead, head: lineHead});\n      }\n      cm.setSelections(sel, 0);\n    }\n    // getIndex returns the index of the cursor in the selections.\n    function getIndex(ranges, cursor, end) {\n      for (var i = 0; i < ranges.length; i++) {\n        var atAnchor = end != 'head' && cursorEqual(ranges[i].anchor, cursor);\n        var atHead = end != 'anchor' && cursorEqual(ranges[i].head, cursor);\n        if (atAnchor || atHead) {\n          return i;\n        }\n      }\n      return -1;\n    }\n    function getSelectedAreaRange(cm, vim) {\n      var lastSelection = vim.lastSelection;\n      var getCurrentSelectedAreaRange = function() {\n        var selections = cm.listSelections();\n        var start =  selections[0];\n        var end = selections[selections.length-1];\n        var selectionStart = cursorIsBefore(start.anchor, start.head) ? start.anchor : start.head;\n        var selectionEnd = cursorIsBefore(end.anchor, end.head) ? end.head : end.anchor;\n        return [selectionStart, selectionEnd];\n      };\n      var getLastSelectedAreaRange = function() {\n        var selectionStart = cm.getCursor();\n        var selectionEnd = cm.getCursor();\n        var block = lastSelection.visualBlock;\n        if (block) {\n          var width = block.width;\n          var height = block.height;\n          selectionEnd = new Pos(selectionStart.line + height, selectionStart.ch + width);\n          var selections = [];\n          // selectBlock creates a 'proper' rectangular block.\n          // We do not want that in all cases, so we manually set selections.\n          for (var i = selectionStart.line; i < selectionEnd.line; i++) {\n            var anchor = new Pos(i, selectionStart.ch);\n            var head = new Pos(i, selectionEnd.ch);\n            var range = {anchor: anchor, head: head};\n            selections.push(range);\n          }\n          cm.setSelections(selections);\n        } else {\n          var start = lastSelection.anchorMark.find();\n          var end = lastSelection.headMark.find();\n          var line = end.line - start.line;\n          var ch = end.ch - start.ch;\n          selectionEnd = {line: selectionEnd.line + line, ch: line ? selectionEnd.ch : ch + selectionEnd.ch};\n          if (lastSelection.visualLine) {\n            selectionStart = new Pos(selectionStart.line, 0);\n            selectionEnd = new Pos(selectionEnd.line, lineLength(cm, selectionEnd.line));\n          }\n          cm.setSelection(selectionStart, selectionEnd);\n        }\n        return [selectionStart, selectionEnd];\n      };\n      if (!vim.visualMode) {\n      // In case of replaying the action.\n        return getLastSelectedAreaRange();\n      } else {\n        return getCurrentSelectedAreaRange();\n      }\n    }\n    // Updates the previous selection with the current selection's values. This\n    // should only be called in visual mode.\n    function updateLastSelection(cm, vim) {\n      var anchor = vim.sel.anchor;\n      var head = vim.sel.head;\n      // To accommodate the effect of lastPastedText in the last selection\n      if (vim.lastPastedText) {\n        head = cm.posFromIndex(cm.indexFromPos(anchor) + vim.lastPastedText.length);\n        vim.lastPastedText = null;\n      }\n      vim.lastSelection = {'anchorMark': cm.setBookmark(anchor),\n                           'headMark': cm.setBookmark(head),\n                           'anchor': copyCursor(anchor),\n                           'head': copyCursor(head),\n                           'visualMode': vim.visualMode,\n                           'visualLine': vim.visualLine,\n                           'visualBlock': vim.visualBlock};\n    }\n    function expandSelection(cm, start, end, move) {\n      var sel = cm.state.vim.sel;\n      var head = move ? start: sel.head;\n      var anchor = move ? start: sel.anchor;\n      var tmp;\n      if (cursorIsBefore(end, start)) {\n        tmp = end;\n        end = start;\n        start = tmp;\n      }\n      if (cursorIsBefore(head, anchor)) {\n        head = cursorMin(start, head);\n        anchor = cursorMax(anchor, end);\n      } else {\n        anchor = cursorMin(start, anchor);\n        head = cursorMax(head, end);\n        head = offsetCursor(head, 0, -1);\n        if (head.ch == -1 && head.line != cm.firstLine()) {\n          head = new Pos(head.line - 1, lineLength(cm, head.line - 1));\n        }\n      }\n      return [anchor, head];\n    }\n    /**\n     * Updates the CodeMirror selection to match the provided vim selection.\n     * If no arguments are given, it uses the current vim selection state.\n     */\n    function updateCmSelection(cm, sel, mode) {\n      var vim = cm.state.vim;\n      sel = sel || vim.sel;\n      var mode = mode ||\n        vim.visualLine ? 'line' : vim.visualBlock ? 'block' : 'char';\n      var cmSel = makeCmSelection(cm, sel, mode);\n      cm.setSelections(cmSel.ranges, cmSel.primary);\n    }\n    function makeCmSelection(cm, sel, mode, exclusive) {\n      var head = copyCursor(sel.head);\n      var anchor = copyCursor(sel.anchor);\n      if (mode == 'char') {\n        var headOffset = !exclusive && !cursorIsBefore(sel.head, sel.anchor) ? 1 : 0;\n        var anchorOffset = cursorIsBefore(sel.head, sel.anchor) ? 1 : 0;\n        head = offsetCursor(sel.head, 0, headOffset);\n        anchor = offsetCursor(sel.anchor, 0, anchorOffset);\n        return {\n          ranges: [{anchor: anchor, head: head}],\n          primary: 0\n        };\n      } else if (mode == 'line') {\n        if (!cursorIsBefore(sel.head, sel.anchor)) {\n          anchor.ch = 0;\n\n          var lastLine = cm.lastLine();\n          if (head.line > lastLine) {\n            head.line = lastLine;\n          }\n          head.ch = lineLength(cm, head.line);\n        } else {\n          head.ch = 0;\n          anchor.ch = lineLength(cm, anchor.line);\n        }\n        return {\n          ranges: [{anchor: anchor, head: head}],\n          primary: 0\n        };\n      } else if (mode == 'block') {\n        var top = Math.min(anchor.line, head.line),\n            fromCh = anchor.ch,\n            bottom = Math.max(anchor.line, head.line),\n            toCh = head.ch;\n        if (fromCh < toCh) { toCh += 1; }\n        else { fromCh += 1; }        var height = bottom - top + 1;\n        var primary = head.line == top ? 0 : height - 1;\n        var ranges = [];\n        for (var i = 0; i < height; i++) {\n          ranges.push({\n            anchor: new Pos(top + i, fromCh),\n            head: new Pos(top + i, toCh)\n          });\n        }\n        return {\n          ranges: ranges,\n          primary: primary\n        };\n      }\n    }\n    function getHead(cm) {\n      var cur = cm.getCursor('head');\n      if (cm.getSelection().length == 1) {\n        // Small corner case when only 1 character is selected. The \"real\"\n        // head is the left of head and anchor.\n        cur = cursorMin(cur, cm.getCursor('anchor'));\n      }\n      return cur;\n    }\n\n    /**\n     * If moveHead is set to false, the CodeMirror selection will not be\n     * touched. The caller assumes the responsibility of putting the cursor\n    * in the right place.\n     */\n    function exitVisualMode(cm, moveHead) {\n      var vim = cm.state.vim;\n      if (moveHead !== false) {\n        cm.setCursor(clipCursorToContent(cm, vim.sel.head));\n      }\n      updateLastSelection(cm, vim);\n      vim.visualMode = false;\n      vim.visualLine = false;\n      vim.visualBlock = false;\n      if (!vim.insertMode) CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"normal\"});\n    }\n\n    // Remove any trailing newlines from the selection. For\n    // example, with the caret at the start of the last word on the line,\n    // 'dw' should word, but not the newline, while 'w' should advance the\n    // caret to the first character of the next line.\n    function clipToLine(cm, curStart, curEnd) {\n      var selection = cm.getRange(curStart, curEnd);\n      // Only clip if the selection ends with trailing newline + whitespace\n      if (/\\n\\s*$/.test(selection)) {\n        var lines = selection.split('\\n');\n        // We know this is all whitespace.\n        lines.pop();\n\n        // Cases:\n        // 1. Last word is an empty line - do not clip the trailing '\\n'\n        // 2. Last word is not an empty line - clip the trailing '\\n'\n        var line;\n        // Find the line containing the last word, and clip all whitespace up\n        // to it.\n        for (var line = lines.pop(); lines.length > 0 && line && isWhiteSpaceString(line); line = lines.pop()) {\n          curEnd.line--;\n          curEnd.ch = 0;\n        }\n        // If the last word is not an empty line, clip an additional newline\n        if (line) {\n          curEnd.line--;\n          curEnd.ch = lineLength(cm, curEnd.line);\n        } else {\n          curEnd.ch = 0;\n        }\n      }\n    }\n\n    // Expand the selection to line ends.\n    function expandSelectionToLine(_cm, curStart, curEnd) {\n      curStart.ch = 0;\n      curEnd.ch = 0;\n      curEnd.line++;\n    }\n\n    function findFirstNonWhiteSpaceCharacter(text) {\n      if (!text) {\n        return 0;\n      }\n      var firstNonWS = text.search(/\\S/);\n      return firstNonWS == -1 ? text.length : firstNonWS;\n    }\n\n    function expandWordUnderCursor(cm, inclusive, innerWord, bigWord, noSymbol) {\n      var cur = getHead(cm);\n      var line = cm.getLine(cur.line);\n      var idx = cur.ch;\n\n      // Seek to first word or non-whitespace character, depending on if\n      // noSymbol is true.\n      var test = noSymbol ? wordCharTest[0] : bigWordCharTest [0];\n      if (innerWord && /\\s/.test(line.charAt(idx))) {\n        test = function(ch) { return /\\s/.test(ch); };\n      } else {\n        while (!test(line.charAt(idx))) {\n          idx++;\n          if (idx >= line.length) { return null; }\n        }\n\n        if (bigWord) {\n          test = bigWordCharTest[0];\n        } else {\n          test = wordCharTest[0];\n          if (!test(line.charAt(idx))) {\n            test = wordCharTest[1];\n          }\n        }\n      }\n\n      var end = idx, start = idx;\n      while (test(line.charAt(end)) && end < line.length) { end++; }\n      while (test(line.charAt(start)) && start >= 0) { start--; }\n      start++;\n\n      if (inclusive) {\n        // If present, include all whitespace after word.\n        // Otherwise, include all whitespace before word, except indentation.\n        var wordEnd = end;\n        while (/\\s/.test(line.charAt(end)) && end < line.length) { end++; }\n        if (wordEnd == end) {\n          var wordStart = start;\n          while (/\\s/.test(line.charAt(start - 1)) && start > 0) { start--; }\n          if (!start) { start = wordStart; }\n        }\n      }\n      return { start: new Pos(cur.line, start), end: new Pos(cur.line, end) };\n    }\n\n    /**\n     * Depends on the following:\n     *\n     * - editor mode should be htmlmixedmode / xml\n     * - mode/xml/xml.js should be loaded\n     * - addon/fold/xml-fold.js should be loaded\n     *\n     * If any of the above requirements are not true, this function noops.\n     *\n     * This is _NOT_ a 100% accurate implementation of vim tag text objects.\n     * The following caveats apply (based off cursory testing, I'm sure there\n     * are other discrepancies):\n     *\n     * - Does not work inside comments:\n     *   ```\n     *   <!-- <div>broken</div> -->\n     *   ```\n     * - Does not work when tags have different cases:\n     *   ```\n     *   <div>broken</DIV>\n     *   ```\n     * - Does not work when cursor is inside a broken tag:\n     *   ```\n     *   <div><brok><en></div>\n     *   ```\n     */\n    function expandTagUnderCursor(cm, head, inclusive) {\n      var cur = head;\n      if (!CodeMirror.findMatchingTag || !CodeMirror.findEnclosingTag) {\n        return { start: cur, end: cur };\n      }\n\n      var tags = CodeMirror.findMatchingTag(cm, head) || CodeMirror.findEnclosingTag(cm, head);\n      if (!tags || !tags.open || !tags.close) {\n        return { start: cur, end: cur };\n      }\n\n      if (inclusive) {\n        return { start: tags.open.from, end: tags.close.to };\n      }\n      return { start: tags.open.to, end: tags.close.from };\n    }\n\n    function recordJumpPosition(cm, oldCur, newCur) {\n      if (!cursorEqual(oldCur, newCur)) {\n        vimGlobalState.jumpList.add(cm, oldCur, newCur);\n      }\n    }\n\n    function recordLastCharacterSearch(increment, args) {\n        vimGlobalState.lastCharacterSearch.increment = increment;\n        vimGlobalState.lastCharacterSearch.forward = args.forward;\n        vimGlobalState.lastCharacterSearch.selectedCharacter = args.selectedCharacter;\n    }\n\n    var symbolToMode = {\n        '(': 'bracket', ')': 'bracket', '{': 'bracket', '}': 'bracket',\n        '[': 'section', ']': 'section',\n        '*': 'comment', '/': 'comment',\n        'm': 'method', 'M': 'method',\n        '#': 'preprocess'\n    };\n    var findSymbolModes = {\n      bracket: {\n        isComplete: function(state) {\n          if (state.nextCh === state.symb) {\n            state.depth++;\n            if (state.depth >= 1)return true;\n          } else if (state.nextCh === state.reverseSymb) {\n            state.depth--;\n          }\n          return false;\n        }\n      },\n      section: {\n        init: function(state) {\n          state.curMoveThrough = true;\n          state.symb = (state.forward ? ']' : '[') === state.symb ? '{' : '}';\n        },\n        isComplete: function(state) {\n          return state.index === 0 && state.nextCh === state.symb;\n        }\n      },\n      comment: {\n        isComplete: function(state) {\n          var found = state.lastCh === '*' && state.nextCh === '/';\n          state.lastCh = state.nextCh;\n          return found;\n        }\n      },\n      // TODO: The original Vim implementation only operates on level 1 and 2.\n      // The current implementation doesn't check for code block level and\n      // therefore it operates on any levels.\n      method: {\n        init: function(state) {\n          state.symb = (state.symb === 'm' ? '{' : '}');\n          state.reverseSymb = state.symb === '{' ? '}' : '{';\n        },\n        isComplete: function(state) {\n          if (state.nextCh === state.symb)return true;\n          return false;\n        }\n      },\n      preprocess: {\n        init: function(state) {\n          state.index = 0;\n        },\n        isComplete: function(state) {\n          if (state.nextCh === '#') {\n            var token = state.lineText.match(/^#(\\w+)/)[1];\n            if (token === 'endif') {\n              if (state.forward && state.depth === 0) {\n                return true;\n              }\n              state.depth++;\n            } else if (token === 'if') {\n              if (!state.forward && state.depth === 0) {\n                return true;\n              }\n              state.depth--;\n            }\n            if (token === 'else' && state.depth === 0)return true;\n          }\n          return false;\n        }\n      }\n    };\n    function findSymbol(cm, repeat, forward, symb) {\n      var cur = copyCursor(cm.getCursor());\n      var increment = forward ? 1 : -1;\n      var endLine = forward ? cm.lineCount() : -1;\n      var curCh = cur.ch;\n      var line = cur.line;\n      var lineText = cm.getLine(line);\n      var state = {\n        lineText: lineText,\n        nextCh: lineText.charAt(curCh),\n        lastCh: null,\n        index: curCh,\n        symb: symb,\n        reverseSymb: (forward ?  { ')': '(', '}': '{' } : { '(': ')', '{': '}' })[symb],\n        forward: forward,\n        depth: 0,\n        curMoveThrough: false\n      };\n      var mode = symbolToMode[symb];\n      if (!mode)return cur;\n      var init = findSymbolModes[mode].init;\n      var isComplete = findSymbolModes[mode].isComplete;\n      if (init) { init(state); }\n      while (line !== endLine && repeat) {\n        state.index += increment;\n        state.nextCh = state.lineText.charAt(state.index);\n        if (!state.nextCh) {\n          line += increment;\n          state.lineText = cm.getLine(line) || '';\n          if (increment > 0) {\n            state.index = 0;\n          } else {\n            var lineLen = state.lineText.length;\n            state.index = (lineLen > 0) ? (lineLen-1) : 0;\n          }\n          state.nextCh = state.lineText.charAt(state.index);\n        }\n        if (isComplete(state)) {\n          cur.line = line;\n          cur.ch = state.index;\n          repeat--;\n        }\n      }\n      if (state.nextCh || state.curMoveThrough) {\n        return new Pos(line, state.index);\n      }\n      return cur;\n    }\n\n    /*\n     * Returns the boundaries of the next word. If the cursor in the middle of\n     * the word, then returns the boundaries of the current word, starting at\n     * the cursor. If the cursor is at the start/end of a word, and we are going\n     * forward/backward, respectively, find the boundaries of the next word.\n     *\n     * @param {CodeMirror} cm CodeMirror object.\n     * @param {Cursor} cur The cursor position.\n     * @param {boolean} forward True to search forward. False to search\n     *     backward.\n     * @param {boolean} bigWord True if punctuation count as part of the word.\n     *     False if only [a-zA-Z0-9] characters count as part of the word.\n     * @param {boolean} emptyLineIsWord True if empty lines should be treated\n     *     as words.\n     * @return {Object{from:number, to:number, line: number}} The boundaries of\n     *     the word, or null if there are no more words.\n     */\n    function findWord(cm, cur, forward, bigWord, emptyLineIsWord) {\n      var lineNum = cur.line;\n      var pos = cur.ch;\n      var line = cm.getLine(lineNum);\n      var dir = forward ? 1 : -1;\n      var charTests = bigWord ? bigWordCharTest: wordCharTest;\n\n      if (emptyLineIsWord && line == '') {\n        lineNum += dir;\n        line = cm.getLine(lineNum);\n        if (!isLine(cm, lineNum)) {\n          return null;\n        }\n        pos = (forward) ? 0 : line.length;\n      }\n\n      while (true) {\n        if (emptyLineIsWord && line == '') {\n          return { from: 0, to: 0, line: lineNum };\n        }\n        var stop = (dir > 0) ? line.length : -1;\n        var wordStart = stop, wordEnd = stop;\n        // Find bounds of next word.\n        while (pos != stop) {\n          var foundWord = false;\n          for (var i = 0; i < charTests.length && !foundWord; ++i) {\n            if (charTests[i](line.charAt(pos))) {\n              wordStart = pos;\n              // Advance to end of word.\n              while (pos != stop && charTests[i](line.charAt(pos))) {\n                pos += dir;\n              }\n              wordEnd = pos;\n              foundWord = wordStart != wordEnd;\n              if (wordStart == cur.ch && lineNum == cur.line &&\n                  wordEnd == wordStart + dir) {\n                // We started at the end of a word. Find the next one.\n                continue;\n              } else {\n                return {\n                  from: Math.min(wordStart, wordEnd + 1),\n                  to: Math.max(wordStart, wordEnd),\n                  line: lineNum };\n              }\n            }\n          }\n          if (!foundWord) {\n            pos += dir;\n          }\n        }\n        // Advance to next/prev line.\n        lineNum += dir;\n        if (!isLine(cm, lineNum)) {\n          return null;\n        }\n        line = cm.getLine(lineNum);\n        pos = (dir > 0) ? 0 : line.length;\n      }\n    }\n\n    /**\n     * @param {CodeMirror} cm CodeMirror object.\n     * @param {Pos} cur The position to start from.\n     * @param {int} repeat Number of words to move past.\n     * @param {boolean} forward True to search forward. False to search\n     *     backward.\n     * @param {boolean} wordEnd True to move to end of word. False to move to\n     *     beginning of word.\n     * @param {boolean} bigWord True if punctuation count as part of the word.\n     *     False if only alphabet characters count as part of the word.\n     * @return {Cursor} The position the cursor should move to.\n     */\n    function moveToWord(cm, cur, repeat, forward, wordEnd, bigWord) {\n      var curStart = copyCursor(cur);\n      var words = [];\n      if (forward && !wordEnd || !forward && wordEnd) {\n        repeat++;\n      }\n      // For 'e', empty lines are not considered words, go figure.\n      var emptyLineIsWord = !(forward && wordEnd);\n      for (var i = 0; i < repeat; i++) {\n        var word = findWord(cm, cur, forward, bigWord, emptyLineIsWord);\n        if (!word) {\n          var eodCh = lineLength(cm, cm.lastLine());\n          words.push(forward\n              ? {line: cm.lastLine(), from: eodCh, to: eodCh}\n              : {line: 0, from: 0, to: 0});\n          break;\n        }\n        words.push(word);\n        cur = new Pos(word.line, forward ? (word.to - 1) : word.from);\n      }\n      var shortCircuit = words.length != repeat;\n      var firstWord = words[0];\n      var lastWord = words.pop();\n      if (forward && !wordEnd) {\n        // w\n        if (!shortCircuit && (firstWord.from != curStart.ch || firstWord.line != curStart.line)) {\n          // We did not start in the middle of a word. Discard the extra word at the end.\n          lastWord = words.pop();\n        }\n        return new Pos(lastWord.line, lastWord.from);\n      } else if (forward && wordEnd) {\n        return new Pos(lastWord.line, lastWord.to - 1);\n      } else if (!forward && wordEnd) {\n        // ge\n        if (!shortCircuit && (firstWord.to != curStart.ch || firstWord.line != curStart.line)) {\n          // We did not start in the middle of a word. Discard the extra word at the end.\n          lastWord = words.pop();\n        }\n        return new Pos(lastWord.line, lastWord.to);\n      } else {\n        // b\n        return new Pos(lastWord.line, lastWord.from);\n      }\n    }\n\n    function moveToEol(cm, head, motionArgs, vim, keepHPos) {\n      var cur = head;\n      var retval= new Pos(cur.line + motionArgs.repeat - 1, Infinity);\n      var end=cm.clipPos(retval);\n      end.ch--;\n      if (!keepHPos) {\n        vim.lastHPos = Infinity;\n        vim.lastHSPos = cm.charCoords(end,'div').left;\n      }\n      return retval;\n    }\n\n    function moveToCharacter(cm, repeat, forward, character, head) {\n      var cur = head || cm.getCursor();\n      var start = cur.ch;\n      var idx;\n      for (var i = 0; i < repeat; i ++) {\n        var line = cm.getLine(cur.line);\n        idx = charIdxInLine(start, line, character, forward, true);\n        if (idx == -1) {\n          return null;\n        }\n        start = idx;\n      }\n      return new Pos(cm.getCursor().line, idx);\n    }\n\n    function moveToColumn(cm, repeat) {\n      // repeat is always >= 1, so repeat - 1 always corresponds\n      // to the column we want to go to.\n      var line = cm.getCursor().line;\n      return clipCursorToContent(cm, new Pos(line, repeat - 1));\n    }\n\n    function updateMark(cm, vim, markName, pos) {\n      if (!inArray(markName, validMarks)) {\n        return;\n      }\n      if (vim.marks[markName]) {\n        vim.marks[markName].clear();\n      }\n      vim.marks[markName] = cm.setBookmark(pos);\n    }\n\n    function charIdxInLine(start, line, character, forward, includeChar) {\n      // Search for char in line.\n      // motion_options: {forward, includeChar}\n      // If includeChar = true, include it too.\n      // If forward = true, search forward, else search backwards.\n      // If char is not found on this line, do nothing\n      var idx;\n      if (forward) {\n        idx = line.indexOf(character, start + 1);\n        if (idx != -1 && !includeChar) {\n          idx -= 1;\n        }\n      } else {\n        idx = line.lastIndexOf(character, start - 1);\n        if (idx != -1 && !includeChar) {\n          idx += 1;\n        }\n      }\n      return idx;\n    }\n\n    function findParagraph(cm, head, repeat, dir, inclusive) {\n      var line = head.line;\n      var min = cm.firstLine();\n      var max = cm.lastLine();\n      var start, end, i = line;\n      function isEmpty(i) { return !cm.getLine(i); }\n      function isBoundary(i, dir, any) {\n        if (any) { return isEmpty(i) != isEmpty(i + dir); }\n        return !isEmpty(i) && isEmpty(i + dir);\n      }\n      if (dir) {\n        while (min <= i && i <= max && repeat > 0) {\n          if (isBoundary(i, dir)) { repeat--; }\n          i += dir;\n        }\n        return new Pos(i, 0);\n      }\n\n      var vim = cm.state.vim;\n      if (vim.visualLine && isBoundary(line, 1, true)) {\n        var anchor = vim.sel.anchor;\n        if (isBoundary(anchor.line, -1, true)) {\n          if (!inclusive || anchor.line != line) {\n            line += 1;\n          }\n        }\n      }\n      var startState = isEmpty(line);\n      for (i = line; i <= max && repeat; i++) {\n        if (isBoundary(i, 1, true)) {\n          if (!inclusive || isEmpty(i) != startState) {\n            repeat--;\n          }\n        }\n      }\n      end = new Pos(i, 0);\n      // select boundary before paragraph for the last one\n      if (i > max && !startState) { startState = true; }\n      else { inclusive = false; }\n      for (i = line; i > min; i--) {\n        if (!inclusive || isEmpty(i) == startState || i == line) {\n          if (isBoundary(i, -1, true)) { break; }\n        }\n      }\n      start = new Pos(i, 0);\n      return { start: start, end: end };\n    }\n\n    /**\n     * Based on {@link findSentence}. The internal functions have the same names,\n     * but their behaviour is different. findSentence() crosses line breaks and \n     * is used for jumping to sentence beginnings before or after the current cursor position, \n     * whereas getSentence() is for getting the beginning or end of the sentence \n     * at the current cursor position, either including (a) or excluding (i) whitespace.\n     */\n    function getSentence(cm, cur, repeat, dir, inclusive /*includes whitespace*/) {\n\n      /*\n        Takes an index object\n        {\n          line: the line string,\n          ln: line number,\n          pos: index in line,\n          dir: direction of traversal (-1 or 1)\n        }\n        and modifies the pos member to represent the\n        next valid position or sets the line to null if there are\n        no more valid positions.\n       */\n      function nextChar(curr) {\n        if (curr.pos + curr.dir < 0 || curr.pos + curr.dir >= curr.line.length) {\n          curr.line = null;\n        }\n        else {\n          curr.pos += curr.dir;\n        }\n      }\n      /*\n        Performs one iteration of traversal in forward direction\n        Returns an index object of the sentence end\n       */\n      function forward(cm, ln, pos, dir) {\n        var line = cm.getLine(ln);\n\n        var curr = {\n          line: line,\n          ln: ln,\n          pos: pos,\n          dir: dir,\n        };\n\n        if (curr.line === \"\") {\n          return { ln: curr.ln, pos: curr.pos };\n        }\n\n        var lastSentencePos = curr.pos;\n\n        // Move one step to skip character we start on\n        nextChar(curr);\n\n        while (curr.line !== null) {\n          lastSentencePos = curr.pos;\n          if (isEndOfSentenceSymbol(curr.line[curr.pos])) {\n            if (!inclusive) {\n              return { ln: curr.ln, pos: curr.pos + 1 };\n            } \n            else {\n              nextChar(curr);\n              while (curr.line !== null ) {\n                if (isWhiteSpaceString(curr.line[curr.pos])) {\n                  lastSentencePos = curr.pos;\n                  nextChar(curr);\n                } \n                else {\n                  break;\n                }\n              }\n              return { ln: curr.ln, pos: lastSentencePos + 1 };\n            }\n          }\n          nextChar(curr);\n        }\n        return { ln: curr.ln, pos: lastSentencePos + 1 };\n      }\n\n      /*\n        Performs one iteration of traversal in reverse direction\n        Returns an index object of the sentence start\n       */\n      function reverse(cm, ln, pos, dir) {\n        var line = cm.getLine(ln);\n\n        var curr = {\n          line: line,\n          ln: ln,\n          pos: pos,\n          dir: dir,\n        };\n\n        if (curr.line === \"\") {\n          return { ln: curr.ln, pos: curr.pos };\n        }\n\n        var lastSentencePos = curr.pos;\n\n        // Move one step to skip character we start on\n        nextChar(curr);\n\n        while (curr.line !== null) {\n          if (!isWhiteSpaceString(curr.line[curr.pos]) && !isEndOfSentenceSymbol(curr.line[curr.pos])) {\n            lastSentencePos = curr.pos;\n          }\n\n          else if (isEndOfSentenceSymbol(curr.line[curr.pos]) ) {\n            if (!inclusive) {\n              return { ln: curr.ln, pos: lastSentencePos };\n            } \n            else {\n              if (isWhiteSpaceString(curr.line[curr.pos + 1])) {\n                return { ln: curr.ln, pos: curr.pos + 1 };\n              } \n              else {\n                return { ln: curr.ln, pos: lastSentencePos };\n              }\n            }\n          }\n\n          nextChar(curr);\n        }\n        curr.line = line;\n        if (inclusive && isWhiteSpaceString(curr.line[curr.pos])) {\n          return { ln: curr.ln, pos: curr.pos };\n        } \n        else {\n          return { ln: curr.ln, pos: lastSentencePos };\n        }\n\n      }\n\n      var curr_index = {\n        ln: cur.line,\n        pos: cur.ch,\n      };\n\n      while (repeat > 0) {\n        if (dir < 0) {\n          curr_index = reverse(cm, curr_index.ln, curr_index.pos, dir);\n        }\n        else {\n          curr_index = forward(cm, curr_index.ln, curr_index.pos, dir);\n        }\n        repeat--;\n      }\n\n      return new Pos(curr_index.ln, curr_index.pos);\n    }\n\n    function findSentence(cm, cur, repeat, dir) {\n\n       /*\n         Takes an index object\n         {\n           line: the line string,\n           ln: line number,\n           pos: index in line,\n           dir: direction of traversal (-1 or 1)\n         }\n         and modifies the line, ln, and pos members to represent the\n         next valid position or sets them to null if there are\n         no more valid positions.\n       */\n      function nextChar(cm, idx) {\n        if (idx.pos + idx.dir < 0 || idx.pos + idx.dir >= idx.line.length) {\n          idx.ln += idx.dir;\n          if (!isLine(cm, idx.ln)) {\n            idx.line = null;\n            idx.ln = null;\n            idx.pos = null;\n            return;\n          }\n          idx.line = cm.getLine(idx.ln);\n          idx.pos = (idx.dir > 0) ? 0 : idx.line.length - 1;\n        }\n        else {\n          idx.pos += idx.dir;\n        }\n      }\n\n      /*\n        Performs one iteration of traversal in forward direction\n        Returns an index object of the new location\n       */\n      function forward(cm, ln, pos, dir) {\n        var line = cm.getLine(ln);\n        var stop = (line === \"\");\n\n        var curr = {\n          line: line,\n          ln: ln,\n          pos: pos,\n          dir: dir,\n        };\n\n        var last_valid = {\n          ln: curr.ln,\n          pos: curr.pos,\n        };\n\n        var skip_empty_lines = (curr.line === \"\");\n\n        // Move one step to skip character we start on\n        nextChar(cm, curr);\n\n        while (curr.line !== null) {\n          last_valid.ln = curr.ln;\n          last_valid.pos = curr.pos;\n\n          if (curr.line === \"\" && !skip_empty_lines) {\n            return { ln: curr.ln, pos: curr.pos, };\n          }\n          else if (stop && curr.line !== \"\" && !isWhiteSpaceString(curr.line[curr.pos])) {\n            return { ln: curr.ln, pos: curr.pos, };\n          }\n          else if (isEndOfSentenceSymbol(curr.line[curr.pos])\n            && !stop\n            && (curr.pos === curr.line.length - 1\n              || isWhiteSpaceString(curr.line[curr.pos + 1]))) {\n            stop = true;\n          }\n\n          nextChar(cm, curr);\n        }\n\n        /*\n          Set the position to the last non whitespace character on the last\n          valid line in the case that we reach the end of the document.\n        */\n        var line = cm.getLine(last_valid.ln);\n        last_valid.pos = 0;\n        for(var i = line.length - 1; i >= 0; --i) {\n          if (!isWhiteSpaceString(line[i])) {\n            last_valid.pos = i;\n            break;\n          }\n        }\n\n        return last_valid;\n\n      }\n\n      /*\n        Performs one iteration of traversal in reverse direction\n        Returns an index object of the new location\n       */\n      function reverse(cm, ln, pos, dir) {\n        var line = cm.getLine(ln);\n\n        var curr = {\n          line: line,\n          ln: ln,\n          pos: pos,\n          dir: dir,\n        };\n\n        var last_valid = {\n          ln: curr.ln,\n          pos: null,\n        };\n\n        var skip_empty_lines = (curr.line === \"\");\n\n        // Move one step to skip character we start on\n        nextChar(cm, curr);\n\n        while (curr.line !== null) {\n\n          if (curr.line === \"\" && !skip_empty_lines) {\n            if (last_valid.pos !== null) {\n              return last_valid;\n            }\n            else {\n              return { ln: curr.ln, pos: curr.pos };\n            }\n          }\n          else if (isEndOfSentenceSymbol(curr.line[curr.pos])\n              && last_valid.pos !== null\n              && !(curr.ln === last_valid.ln && curr.pos + 1 === last_valid.pos)) {\n            return last_valid;\n          }\n          else if (curr.line !== \"\" && !isWhiteSpaceString(curr.line[curr.pos])) {\n            skip_empty_lines = false;\n            last_valid = { ln: curr.ln, pos: curr.pos };\n          }\n\n          nextChar(cm, curr);\n        }\n\n        /*\n          Set the position to the first non whitespace character on the last\n          valid line in the case that we reach the beginning of the document.\n        */\n        var line = cm.getLine(last_valid.ln);\n        last_valid.pos = 0;\n        for(var i = 0; i < line.length; ++i) {\n          if (!isWhiteSpaceString(line[i])) {\n            last_valid.pos = i;\n            break;\n          }\n        }\n        return last_valid;\n      }\n\n      var curr_index = {\n        ln: cur.line,\n        pos: cur.ch,\n      };\n\n      while (repeat > 0) {\n        if (dir < 0) {\n          curr_index = reverse(cm, curr_index.ln, curr_index.pos, dir);\n        }\n        else {\n          curr_index = forward(cm, curr_index.ln, curr_index.pos, dir);\n        }\n        repeat--;\n      }\n\n      return new Pos(curr_index.ln, curr_index.pos);\n    }\n\n    // TODO: perhaps this finagling of start and end positions belongs\n    // in codemirror/replaceRange?\n    function selectCompanionObject(cm, head, symb, inclusive) {\n      var cur = head, start, end;\n\n      var bracketRegexp = ({\n        '(': /[()]/, ')': /[()]/,\n        '[': /[[\\]]/, ']': /[[\\]]/,\n        '{': /[{}]/, '}': /[{}]/,\n        '<': /[<>]/, '>': /[<>]/})[symb];\n      var openSym = ({\n        '(': '(', ')': '(',\n        '[': '[', ']': '[',\n        '{': '{', '}': '{',\n        '<': '<', '>': '<'})[symb];\n      var curChar = cm.getLine(cur.line).charAt(cur.ch);\n      // Due to the behavior of scanForBracket, we need to add an offset if the\n      // cursor is on a matching open bracket.\n      var offset = curChar === openSym ? 1 : 0;\n\n      start = cm.scanForBracket(new Pos(cur.line, cur.ch + offset), -1, undefined, {'bracketRegex': bracketRegexp});\n      end = cm.scanForBracket(new Pos(cur.line, cur.ch + offset), 1, undefined, {'bracketRegex': bracketRegexp});\n\n      if (!start || !end) return null;\n\n      start = start.pos;\n      end = end.pos;\n\n      if ((start.line == end.line && start.ch > end.ch)\n          || (start.line > end.line)) {\n        var tmp = start;\n        start = end;\n        end = tmp;\n      }\n\n      if (inclusive) {\n        end.ch += 1;\n      } else {\n        start.ch += 1;\n      }\n\n      return { start: start, end: end };\n    }\n\n    // Takes in a symbol and a cursor and tries to simulate text objects that\n    // have identical opening and closing symbols\n    // TODO support across multiple lines\n    function findBeginningAndEnd(cm, head, symb, inclusive) {\n      var cur = copyCursor(head);\n      var line = cm.getLine(cur.line);\n      var chars = line.split('');\n      var start, end, i, len;\n      var firstIndex = chars.indexOf(symb);\n\n      // the decision tree is to always look backwards for the beginning first,\n      // but if the cursor is in front of the first instance of the symb,\n      // then move the cursor forward\n      if (cur.ch < firstIndex) {\n        cur.ch = firstIndex;\n      }\n      // otherwise if the cursor is currently on the closing symbol\n      else if (firstIndex < cur.ch && chars[cur.ch] == symb) {\n        var stringAfter = /string/.test(cm.getTokenTypeAt(offsetCursor(head, 0, 1)));\n        var stringBefore = /string/.test(cm.getTokenTypeAt(head));\n        var isStringStart = stringAfter && !stringBefore;\n        if (!isStringStart) {\n          end = cur.ch; // assign end to the current cursor\n          --cur.ch; // make sure to look backwards\n        }\n      }\n\n      // if we're currently on the symbol, we've got a start\n      if (chars[cur.ch] == symb && !end) {\n        start = cur.ch + 1; // assign start to ahead of the cursor\n      } else {\n        // go backwards to find the start\n        for (i = cur.ch; i > -1 && !start; i--) {\n          if (chars[i] == symb) {\n            start = i + 1;\n          }\n        }\n      }\n\n      // look forwards for the end symbol\n      if (start && !end) {\n        for (i = start, len = chars.length; i < len && !end; i++) {\n          if (chars[i] == symb) {\n            end = i;\n          }\n        }\n      }\n\n      // nothing found\n      if (!start || !end) {\n        return { start: cur, end: cur };\n      }\n\n      // include the symbols\n      if (inclusive) {\n        --start; ++end;\n      }\n\n      return {\n        start: new Pos(cur.line, start),\n        end: new Pos(cur.line, end)\n      };\n    }\n\n    // Search functions\n    defineOption('pcre', true, 'boolean');\n    function SearchState() {}\n    SearchState.prototype = {\n      getQuery: function() {\n        return vimGlobalState.query;\n      },\n      setQuery: function(query) {\n        vimGlobalState.query = query;\n      },\n      getOverlay: function() {\n        return this.searchOverlay;\n      },\n      setOverlay: function(overlay) {\n        this.searchOverlay = overlay;\n      },\n      isReversed: function() {\n        return vimGlobalState.isReversed;\n      },\n      setReversed: function(reversed) {\n        vimGlobalState.isReversed = reversed;\n      },\n      getScrollbarAnnotate: function() {\n        return this.annotate;\n      },\n      setScrollbarAnnotate: function(annotate) {\n        this.annotate = annotate;\n      }\n    };\n    function getSearchState(cm) {\n      var vim = cm.state.vim;\n      return vim.searchState_ || (vim.searchState_ = new SearchState());\n    }\n    function splitBySlash(argString) {\n      return splitBySeparator(argString, '/');\n    }\n\n    function findUnescapedSlashes(argString) {\n      return findUnescapedSeparators(argString, '/');\n    }\n\n    function splitBySeparator(argString, separator) {\n      var slashes = findUnescapedSeparators(argString, separator) || [];\n      if (!slashes.length) return [];\n      var tokens = [];\n      // in case of strings like foo/bar\n      if (slashes[0] !== 0) return;\n      for (var i = 0; i < slashes.length; i++) {\n        if (typeof slashes[i] == 'number')\n          tokens.push(argString.substring(slashes[i] + 1, slashes[i+1]));\n      }\n      return tokens;\n    }\n\n    function findUnescapedSeparators(str, separator) {\n      if (!separator)\n        separator = '/';\n\n      var escapeNextChar = false;\n      var slashes = [];\n      for (var i = 0; i < str.length; i++) {\n        var c = str.charAt(i);\n        if (!escapeNextChar && c == separator) {\n          slashes.push(i);\n        }\n        escapeNextChar = !escapeNextChar && (c == '\\\\');\n      }\n      return slashes;\n    }\n\n    // Translates a search string from ex (vim) syntax into javascript form.\n    function translateRegex(str) {\n      // When these match, add a '\\' if unescaped or remove one if escaped.\n      var specials = '|(){';\n      // Remove, but never add, a '\\' for these.\n      var unescape = '}';\n      var escapeNextChar = false;\n      var out = [];\n      for (var i = -1; i < str.length; i++) {\n        var c = str.charAt(i) || '';\n        var n = str.charAt(i+1) || '';\n        var specialComesNext = (n && specials.indexOf(n) != -1);\n        if (escapeNextChar) {\n          if (c !== '\\\\' || !specialComesNext) {\n            out.push(c);\n          }\n          escapeNextChar = false;\n        } else {\n          if (c === '\\\\') {\n            escapeNextChar = true;\n            // Treat the unescape list as special for removing, but not adding '\\'.\n            if (n && unescape.indexOf(n) != -1) {\n              specialComesNext = true;\n            }\n            // Not passing this test means removing a '\\'.\n            if (!specialComesNext || n === '\\\\') {\n              out.push(c);\n            }\n          } else {\n            out.push(c);\n            if (specialComesNext && n !== '\\\\') {\n              out.push('\\\\');\n            }\n          }\n        }\n      }\n      return out.join('');\n    }\n\n    // Translates the replace part of a search and replace from ex (vim) syntax into\n    // javascript form.  Similar to translateRegex, but additionally fixes back references\n    // (translates '\\[0..9]' to '$[0..9]') and follows different rules for escaping '$'.\n    var charUnescapes = {'\\\\n': '\\n', '\\\\r': '\\r', '\\\\t': '\\t'};\n    function translateRegexReplace(str) {\n      var escapeNextChar = false;\n      var out = [];\n      for (var i = -1; i < str.length; i++) {\n        var c = str.charAt(i) || '';\n        var n = str.charAt(i+1) || '';\n        if (charUnescapes[c + n]) {\n          out.push(charUnescapes[c+n]);\n          i++;\n        } else if (escapeNextChar) {\n          // At any point in the loop, escapeNextChar is true if the previous\n          // character was a '\\' and was not escaped.\n          out.push(c);\n          escapeNextChar = false;\n        } else {\n          if (c === '\\\\') {\n            escapeNextChar = true;\n            if ((isNumber(n) || n === '$')) {\n              out.push('$');\n            } else if (n !== '/' && n !== '\\\\') {\n              out.push('\\\\');\n            }\n          } else {\n            if (c === '$') {\n              out.push('$');\n            }\n            out.push(c);\n            if (n === '/') {\n              out.push('\\\\');\n            }\n          }\n        }\n      }\n      return out.join('');\n    }\n\n    // Unescape \\ and / in the replace part, for PCRE mode.\n    var unescapes = {'\\\\/': '/', '\\\\\\\\': '\\\\', '\\\\n': '\\n', '\\\\r': '\\r', '\\\\t': '\\t', '\\\\&':'&'};\n    function unescapeRegexReplace(str) {\n      var stream = new CodeMirror.StringStream(str);\n      var output = [];\n      while (!stream.eol()) {\n        // Search for \\.\n        while (stream.peek() && stream.peek() != '\\\\') {\n          output.push(stream.next());\n        }\n        var matched = false;\n        for (var matcher in unescapes) {\n          if (stream.match(matcher, true)) {\n            matched = true;\n            output.push(unescapes[matcher]);\n            break;\n          }\n        }\n        if (!matched) {\n          // Don't change anything\n          output.push(stream.next());\n        }\n      }\n      return output.join('');\n    }\n\n    /**\n     * Extract the regular expression from the query and return a Regexp object.\n     * Returns null if the query is blank.\n     * If ignoreCase is passed in, the Regexp object will have the 'i' flag set.\n     * If smartCase is passed in, and the query contains upper case letters,\n     *   then ignoreCase is overridden, and the 'i' flag will not be set.\n     * If the query contains the /i in the flag part of the regular expression,\n     *   then both ignoreCase and smartCase are ignored, and 'i' will be passed\n     *   through to the Regex object.\n     */\n    function parseQuery(query, ignoreCase, smartCase) {\n      // First update the last search register\n      var lastSearchRegister = vimGlobalState.registerController.getRegister('/');\n      lastSearchRegister.setText(query);\n      // Check if the query is already a regex.\n      if (query instanceof RegExp) { return query; }\n      // First try to extract regex + flags from the input. If no flags found,\n      // extract just the regex. IE does not accept flags directly defined in\n      // the regex string in the form /regex/flags\n      var slashes = findUnescapedSlashes(query);\n      var regexPart;\n      var forceIgnoreCase;\n      if (!slashes.length) {\n        // Query looks like 'regexp'\n        regexPart = query;\n      } else {\n        // Query looks like 'regexp/...'\n        regexPart = query.substring(0, slashes[0]);\n        var flagsPart = query.substring(slashes[0]);\n        forceIgnoreCase = (flagsPart.indexOf('i') != -1);\n      }\n      if (!regexPart) {\n        return null;\n      }\n      if (!getOption('pcre')) {\n        regexPart = translateRegex(regexPart);\n      }\n      if (smartCase) {\n        ignoreCase = (/^[^A-Z]*$/).test(regexPart);\n      }\n      var regexp = new RegExp(regexPart,\n          (ignoreCase || forceIgnoreCase) ? 'im' : 'm');\n      return regexp;\n    }\n\n    /**\n     * dom - Document Object Manipulator\n     * Usage:\n     *   dom('<tag>'|<node>[, ...{<attributes>|<$styles>}|<child-node>|'<text>'])\n     * Examples:\n     *   dom('div', {id:'xyz'}, dom('p', 'CM rocks!', {$color:'red'}))\n     *   dom(document.head, dom('script', 'alert(\"hello!\")'))\n     * Not supported:\n     *   dom('p', ['arrays are objects'], Error('objects specify attributes'))\n     */\n    function dom(n) {\n      if (typeof n === 'string') n = document.createElement(n);\n      for (var a, i = 1; i < arguments.length; i++) {\n        if (!(a = arguments[i])) continue;\n        if (typeof a !== 'object') a = document.createTextNode(a);\n        if (a.nodeType) n.appendChild(a);\n        else for (var key in a) {\n          if (!Object.prototype.hasOwnProperty.call(a, key)) continue;\n          if (key[0] === '$') n.style[key.slice(1)] = a[key];\n          else n.setAttribute(key, a[key]);\n        }\n      }\n      return n;\n    }\n\n    function showConfirm(cm, template) {\n      var pre = dom('div', {$color: 'red', $whiteSpace: 'pre', class: 'cm-vim-message'}, template);\n      if (cm.openNotification) {\n        cm.openNotification(pre, {bottom: true, duration: 5000});\n      } else {\n        alert(pre.innerText);\n      }\n    }\n\n    function makePrompt(prefix, desc) {\n      return dom('div', {$display: 'flex'},\n               dom('span', {$fontFamily: 'monospace', $whiteSpace: 'pre', $flex: 1},\n                 prefix,\n                 dom('input', {type: 'text', autocorrect: 'off',\n                               autocapitalize: 'off', spellcheck: 'false', $width: '100%'})),\n               desc && dom('span', {$color: '#888'}, desc));\n    }\n\n    function showPrompt(cm, options) {\n      var template = makePrompt(options.prefix, options.desc);\n      if (cm.openDialog) {\n        cm.openDialog(template, options.onClose, {\n          onKeyDown: options.onKeyDown, onKeyUp: options.onKeyUp,\n          bottom: true, selectValueOnOpen: false, value: options.value\n        });\n      }\n      else {\n        var shortText = '';\n        if (typeof options.prefix != \"string\" && options.prefix) shortText += options.prefix.textContent;\n        if (options.desc) shortText += \" \" + options.desc;\n        options.onClose(prompt(shortText, ''));\n      }\n    }\n\n    function regexEqual(r1, r2) {\n      if (r1 instanceof RegExp && r2 instanceof RegExp) {\n          var props = ['global', 'multiline', 'ignoreCase', 'source'];\n          for (var i = 0; i < props.length; i++) {\n              var prop = props[i];\n              if (r1[prop] !== r2[prop]) {\n                  return false;\n              }\n          }\n          return true;\n      }\n      return false;\n    }\n    // Returns true if the query is valid.\n    function updateSearchQuery(cm, rawQuery, ignoreCase, smartCase) {\n      if (!rawQuery) {\n        return;\n      }\n      var state = getSearchState(cm);\n      var query = parseQuery(rawQuery, !!ignoreCase, !!smartCase);\n      if (!query) {\n        return;\n      }\n      highlightSearchMatches(cm, query);\n      if (regexEqual(query, state.getQuery())) {\n        return query;\n      }\n      state.setQuery(query);\n      return query;\n    }\n    function searchOverlay(query) {\n      if (query.source.charAt(0) == '^') {\n        var matchSol = true;\n      }\n      return {\n        token: function(stream) {\n          if (matchSol && !stream.sol()) {\n            stream.skipToEnd();\n            return;\n          }\n          var match = stream.match(query, false);\n          if (match) {\n            if (match[0].length == 0) {\n              // Matched empty string, skip to next.\n              stream.next();\n              return 'searching';\n            }\n            if (!stream.sol()) {\n              // Backtrack 1 to match \\b\n              stream.backUp(1);\n              if (!query.exec(stream.next() + match[0])) {\n                stream.next();\n                return null;\n              }\n            }\n            stream.match(query);\n            return 'searching';\n          }\n          while (!stream.eol()) {\n            stream.next();\n            if (stream.match(query, false)) break;\n          }\n        },\n        query: query\n      };\n    }\n    var highlightTimeout = 0;\n    function highlightSearchMatches(cm, query) {\n      clearTimeout(highlightTimeout);\n      highlightTimeout = setTimeout(function() {\n        if (!cm.state.vim) return;\n        var searchState = getSearchState(cm);\n        var overlay = searchState.getOverlay();\n        if (!overlay || query != overlay.query) {\n          if (overlay) {\n            cm.removeOverlay(overlay);\n          }\n          overlay = searchOverlay(query);\n          cm.addOverlay(overlay);\n          if (cm.showMatchesOnScrollbar) {\n            if (searchState.getScrollbarAnnotate()) {\n              searchState.getScrollbarAnnotate().clear();\n            }\n            searchState.setScrollbarAnnotate(cm.showMatchesOnScrollbar(query));\n          }\n          searchState.setOverlay(overlay);\n        }\n      }, 50);\n    }\n    function findNext(cm, prev, query, repeat) {\n      if (repeat === undefined) { repeat = 1; }\n      return cm.operation(function() {\n        var pos = cm.getCursor();\n        var cursor = cm.getSearchCursor(query, pos);\n        for (var i = 0; i < repeat; i++) {\n          var found = cursor.find(prev);\n          if (i == 0 && found && cursorEqual(cursor.from(), pos)) {\n            var lastEndPos = prev ? cursor.from() : cursor.to();\n            found = cursor.find(prev);\n            if (found && !found[0] && cursorEqual(cursor.from(), lastEndPos)) {\n              if (cm.getLine(lastEndPos.line).length == lastEndPos.ch)\n                found = cursor.find(prev);\n            }\n          }\n          if (!found) {\n            // SearchCursor may have returned null because it hit EOF, wrap\n            // around and try again.\n            cursor = cm.getSearchCursor(query,\n                (prev) ? new Pos(cm.lastLine()) : new Pos(cm.firstLine(), 0) );\n            if (!cursor.find(prev)) {\n              return;\n            }\n          }\n        }\n        return cursor.from();\n      });\n    }\n    /**\n     * Pretty much the same as `findNext`, except for the following differences:\n     *\n     * 1. Before starting the search, move to the previous search. This way if our cursor is\n     * already inside a match, we should return the current match.\n     * 2. Rather than only returning the cursor's from, we return the cursor's from and to as a tuple.\n     */\n    function findNextFromAndToInclusive(cm, prev, query, repeat, vim) {\n      if (repeat === undefined) { repeat = 1; }\n      return cm.operation(function() {\n        var pos = cm.getCursor();\n        var cursor = cm.getSearchCursor(query, pos);\n\n        // Go back one result to ensure that if the cursor is currently a match, we keep it.\n        var found = cursor.find(!prev);\n\n        // If we haven't moved, go back one more (similar to if i==0 logic in findNext).\n        if (!vim.visualMode && found && cursorEqual(cursor.from(), pos)) {\n          cursor.find(!prev);\n        }\n\n        for (var i = 0; i < repeat; i++) {\n          found = cursor.find(prev);\n          if (!found) {\n            // SearchCursor may have returned null because it hit EOF, wrap\n            // around and try again.\n            cursor = cm.getSearchCursor(query,\n                (prev) ? new Pos(cm.lastLine()) : new Pos(cm.firstLine(), 0) );\n            if (!cursor.find(prev)) {\n              return;\n            }\n          }\n        }\n        return [cursor.from(), cursor.to()];\n      });\n    }\n    function clearSearchHighlight(cm) {\n      var state = getSearchState(cm);\n      cm.removeOverlay(getSearchState(cm).getOverlay());\n      state.setOverlay(null);\n      if (state.getScrollbarAnnotate()) {\n        state.getScrollbarAnnotate().clear();\n        state.setScrollbarAnnotate(null);\n      }\n    }\n    /**\n     * Check if pos is in the specified range, INCLUSIVE.\n     * Range can be specified with 1 or 2 arguments.\n     * If the first range argument is an array, treat it as an array of line\n     * numbers. Match pos against any of the lines.\n     * If the first range argument is a number,\n     *   if there is only 1 range argument, check if pos has the same line\n     *       number\n     *   if there are 2 range arguments, then check if pos is in between the two\n     *       range arguments.\n     */\n    function isInRange(pos, start, end) {\n      if (typeof pos != 'number') {\n        // Assume it is a cursor position. Get the line number.\n        pos = pos.line;\n      }\n      if (start instanceof Array) {\n        return inArray(pos, start);\n      } else {\n        if (typeof end == 'number') {\n          return (pos >= start && pos <= end);\n        } else {\n          return pos == start;\n        }\n      }\n    }\n    function getUserVisibleLines(cm) {\n      var scrollInfo = cm.getScrollInfo();\n      var occludeToleranceTop = 6;\n      var occludeToleranceBottom = 10;\n      var from = cm.coordsChar({left:0, top: occludeToleranceTop + scrollInfo.top}, 'local');\n      var bottomY = scrollInfo.clientHeight - occludeToleranceBottom + scrollInfo.top;\n      var to = cm.coordsChar({left:0, top: bottomY}, 'local');\n      return {top: from.line, bottom: to.line};\n    }\n\n    function getMarkPos(cm, vim, markName) {\n      if (markName == '\\'' || markName == '`') {\n        return vimGlobalState.jumpList.find(cm, -1) || new Pos(0, 0);\n      } else if (markName == '.') {\n        return getLastEditPos(cm);\n      }\n\n      var mark = vim.marks[markName];\n      return mark && mark.find();\n    }\n\n    function getLastEditPos(cm) {\n      if (cm.getLastEditEnd) {\n        return cm.getLastEditEnd();\n      }\n      // for old cm\n      var done = cm.doc.history.done;\n      for (var i = done.length; i--;) {\n        if (done[i].changes) {\n          return copyCursor(done[i].changes[0].to);\n        }\n      }\n    }\n\n    var ExCommandDispatcher = function() {\n      this.buildCommandMap_();\n    };\n    ExCommandDispatcher.prototype = {\n      processCommand: function(cm, input, opt_params) {\n        var that = this;\n        cm.operation(function () {\n          cm.curOp.isVimOp = true;\n          that._processCommand(cm, input, opt_params);\n        });\n      },\n      _processCommand: function(cm, input, opt_params) {\n        var vim = cm.state.vim;\n        var commandHistoryRegister = vimGlobalState.registerController.getRegister(':');\n        var previousCommand = commandHistoryRegister.toString();\n        var inputStream = new CodeMirror.StringStream(input);\n        // update \": with the latest command whether valid or invalid\n        commandHistoryRegister.setText(input);\n        var params = opt_params || {};\n        params.input = input;\n        try {\n          this.parseInput_(cm, inputStream, params);\n        } catch(e) {\n          showConfirm(cm, e.toString());\n          throw e;\n        }\n\n        if (vim.visualMode) {\n          exitVisualMode(cm);\n        }\n\n        var command;\n        var commandName;\n        if (!params.commandName) {\n          // If only a line range is defined, move to the line.\n          if (params.line !== undefined) {\n            commandName = 'move';\n          }\n        } else {\n          command = this.matchCommand_(params.commandName);\n          if (command) {\n            commandName = command.name;\n            if (command.excludeFromCommandHistory) {\n              commandHistoryRegister.setText(previousCommand);\n            }\n            this.parseCommandArgs_(inputStream, params, command);\n            if (command.type == 'exToKey') {\n              // Handle Ex to Key mapping.\n              for (var i = 0; i < command.toKeys.length; i++) {\n                vimApi.handleKey(cm, command.toKeys[i], 'mapping');\n              }\n              return;\n            } else if (command.type == 'exToEx') {\n              // Handle Ex to Ex mapping.\n              this.processCommand(cm, command.toInput);\n              return;\n            }\n          }\n        }\n        if (!commandName) {\n          showConfirm(cm, 'Not an editor command \":' + input + '\"');\n          return;\n        }\n        try {\n          exCommands[commandName](cm, params);\n          // Possibly asynchronous commands (e.g. substitute, which might have a\n          // user confirmation), are responsible for calling the callback when\n          // done. All others have it taken care of for them here.\n          if ((!command || !command.possiblyAsync) && params.callback) {\n            params.callback();\n          }\n        } catch(e) {\n          showConfirm(cm, e.toString());\n          throw e;\n        }\n      },\n      parseInput_: function(cm, inputStream, result) {\n        inputStream.eatWhile(':');\n        // Parse range.\n        if (inputStream.eat('%')) {\n          result.line = cm.firstLine();\n          result.lineEnd = cm.lastLine();\n        } else {\n          result.line = this.parseLineSpec_(cm, inputStream);\n          if (result.line !== undefined && inputStream.eat(',')) {\n            result.lineEnd = this.parseLineSpec_(cm, inputStream);\n          }\n        }\n\n        if (result.line == undefined) {\n          if (cm.state.vim.visualMode) {\n            result.selectionLine = getMarkPos(cm, cm.state.vim, '<')?.line;\n            result.selectionLineEnd = getMarkPos(cm, cm.state.vim, '>')?.line;\n          } else {\n            result.selectionLine = cm.getCursor().line;\n          }\n        } else {\n          result.selectionLine = result.line;\n          result.selectionLineEnd = result.lineEnd;\n        }\n\n        // Parse command name.\n        var commandMatch = inputStream.match(/^(\\w+|!!|@@|[!#&*<=>@~])/);\n        if (commandMatch) {\n          result.commandName = commandMatch[1];\n        } else {\n          result.commandName = inputStream.match(/.*/)[0];\n        }\n\n        return result;\n      },\n      parseLineSpec_: function(cm, inputStream) {\n        var numberMatch = inputStream.match(/^(\\d+)/);\n        if (numberMatch) {\n          // Absolute line number plus offset (N+M or N-M) is probably a typo,\n          // not something the user actually wanted. (NB: vim does allow this.)\n          return parseInt(numberMatch[1], 10) - 1;\n        }\n        switch (inputStream.next()) {\n          case '.':\n            return this.parseLineSpecOffset_(inputStream, cm.getCursor().line);\n          case '$':\n            return this.parseLineSpecOffset_(inputStream, cm.lastLine());\n          case '\\'':\n            var markName = inputStream.next();\n            var markPos = getMarkPos(cm, cm.state.vim, markName);\n            if (!markPos) throw new Error('Mark not set');\n            return this.parseLineSpecOffset_(inputStream, markPos.line);\n          case '-':\n          case '+':\n            inputStream.backUp(1);\n            // Offset is relative to current line if not otherwise specified.\n            return this.parseLineSpecOffset_(inputStream, cm.getCursor().line);\n          default:\n            inputStream.backUp(1);\n            return undefined;\n        }\n      },\n      parseLineSpecOffset_: function(inputStream, line) {\n        var offsetMatch = inputStream.match(/^([+-])?(\\d+)/);\n        if (offsetMatch) {\n          var offset = parseInt(offsetMatch[2], 10);\n          if (offsetMatch[1] == \"-\") {\n            line -= offset;\n          } else {\n            line += offset;\n          }\n        }\n        return line;\n      },\n      parseCommandArgs_: function(inputStream, params, command) {\n        if (inputStream.eol()) {\n          return;\n        }\n        params.argString = inputStream.match(/.*/)[0];\n        // Parse command-line arguments\n        var delim = command.argDelimiter || /\\s+/;\n        var args = trim(params.argString).split(delim);\n        if (args.length && args[0]) {\n          params.args = args;\n        }\n      },\n      matchCommand_: function(commandName) {\n        // Return the command in the command map that matches the shortest\n        // prefix of the passed in command name. The match is guaranteed to be\n        // unambiguous if the defaultExCommandMap's shortNames are set up\n        // correctly. (see @code{defaultExCommandMap}).\n        for (var i = commandName.length; i > 0; i--) {\n          var prefix = commandName.substring(0, i);\n          if (this.commandMap_[prefix]) {\n            var command = this.commandMap_[prefix];\n            if (command.name.indexOf(commandName) === 0) {\n              return command;\n            }\n          }\n        }\n        return null;\n      },\n      buildCommandMap_: function() {\n        this.commandMap_ = {};\n        for (var i = 0; i < defaultExCommandMap.length; i++) {\n          var command = defaultExCommandMap[i];\n          var key = command.shortName || command.name;\n          this.commandMap_[key] = command;\n        }\n      },\n      map: function(lhs, rhs, ctx, noremap) {\n        if (lhs != ':' && lhs.charAt(0) == ':') {\n          if (ctx) { throw Error('Mode not supported for ex mappings'); }\n          var commandName = lhs.substring(1);\n          if (rhs != ':' && rhs.charAt(0) == ':') {\n            // Ex to Ex mapping\n            this.commandMap_[commandName] = {\n              name: commandName,\n              type: 'exToEx',\n              toInput: rhs.substring(1),\n              user: true\n            };\n          } else {\n            // Ex to key mapping\n            this.commandMap_[commandName] = {\n              name: commandName,\n              type: 'exToKey',\n              toKeys: rhs,\n              user: true\n            };\n          }\n        } else {\n          if (rhs != ':' && rhs.charAt(0) == ':') {\n            // Key to Ex mapping.\n            var mapping = {\n              keys: lhs,\n              type: 'keyToEx',\n              exArgs: { input: rhs.substring(1) }\n            };\n            if (ctx) { mapping.context = ctx; }\n            defaultKeymap.unshift(mapping);\n          } else {\n            // Key to key mapping\n            var mapping = {\n              keys: lhs,\n              type: 'keyToKey',\n              toKeys: rhs,\n              noremap: noremap\n            };\n            if (ctx) { mapping.context = ctx; }\n            defaultKeymap.unshift(mapping);\n          }\n        }\n      },\n      unmap: function(lhs, ctx) {\n        if (lhs != ':' && lhs.charAt(0) == ':') {\n          // Ex to Ex or Ex to key mapping\n          if (ctx) { throw Error('Mode not supported for ex mappings'); }\n          var commandName = lhs.substring(1);\n          if (this.commandMap_[commandName] && this.commandMap_[commandName].user) {\n            delete this.commandMap_[commandName];\n            return true;\n          }\n        } else {\n          // Key to Ex or key to key mapping\n          var keys = lhs;\n          for (var i = 0; i < defaultKeymap.length; i++) {\n            if (keys == defaultKeymap[i].keys\n                && defaultKeymap[i].context === ctx) {\n              defaultKeymap.splice(i, 1);\n              return true;\n            }\n          }\n        }\n      }\n    };\n\n    var exCommands = {\n      colorscheme: function(cm, params) {\n        if (!params.args || params.args.length < 1) {\n          showConfirm(cm, cm.getOption('theme'));\n          return;\n        }\n        cm.setOption('theme', params.args[0]);\n      },\n      map: function(cm, params, ctx, defaultOnly) {\n        var mapArgs = params.args;\n        if (!mapArgs || mapArgs.length < 2) {\n          if (cm) {\n            showConfirm(cm, 'Invalid mapping: ' + params.input);\n          }\n          return;\n        }\n        exCommandDispatcher.map(mapArgs[0], mapArgs[1], ctx, defaultOnly);\n      },\n      imap: function(cm, params) { this.map(cm, params, 'insert'); },\n      nmap: function(cm, params) { this.map(cm, params, 'normal'); },\n      vmap: function(cm, params) { this.map(cm, params, 'visual'); },\n      omap: function(cm, params) { this.map(cm, params, 'operatorPending'); },\n      noremap: function(cm, params) { this.map(cm, params, undefined, true); },\n      inoremap: function(cm, params) { this.map(cm, params, 'insert', true); },\n      nnoremap: function(cm, params) { this.map(cm, params, 'normal', true); },\n      vnoremap: function(cm, params) { this.map(cm, params, 'visual', true); },\n      onoremap: function(cm, params) { this.map(cm, params, 'operatorPending', true); },\n      unmap: function(cm, params, ctx) {\n        var mapArgs = params.args;\n        if (!mapArgs || mapArgs.length < 1 || !exCommandDispatcher.unmap(mapArgs[0], ctx)) {\n          if (cm) {\n            showConfirm(cm, 'No such mapping: ' + params.input);\n          }\n        }\n      },\n      mapclear: function(cm, params) { vimApi.mapclear(); },\n      imapclear: function(cm, params) { vimApi.mapclear('insert'); },\n      nmapclear: function(cm, params) { vimApi.mapclear('normal'); },\n      vmapclear: function(cm, params) { vimApi.mapclear('visual'); },\n      omapclear: function(cm, params) { vimApi.mapclear('operatorPending'); },\n      move: function(cm, params) {\n        commandDispatcher.processCommand(cm, cm.state.vim, {\n            type: 'motion',\n            motion: 'moveToLineOrEdgeOfDocument',\n            motionArgs: { forward: false, explicitRepeat: true,\n              linewise: true },\n            repeatOverride: params.line+1});\n      },\n      set: function(cm, params) {\n        var setArgs = params.args;\n        // Options passed through to the setOption/getOption calls. May be passed in by the\n        // local/global versions of the set command\n        var setCfg = params.setCfg || {};\n        if (!setArgs || setArgs.length < 1) {\n          if (cm) {\n            showConfirm(cm, 'Invalid mapping: ' + params.input);\n          }\n          return;\n        }\n        var expr = setArgs[0].split('=');\n        var optionName = expr[0];\n        var value = expr[1];\n        var forceGet = false;\n\n        if (optionName.charAt(optionName.length - 1) == '?') {\n          // If post-fixed with ?, then the set is actually a get.\n          if (value) { throw Error('Trailing characters: ' + params.argString); }\n          optionName = optionName.substring(0, optionName.length - 1);\n          forceGet = true;\n        }\n        if (value === undefined && optionName.substring(0, 2) == 'no') {\n          // To set boolean options to false, the option name is prefixed with\n          // 'no'.\n          optionName = optionName.substring(2);\n          value = false;\n        }\n\n        var optionIsBoolean = options[optionName] && options[optionName].type == 'boolean';\n        if (optionIsBoolean && value == undefined) {\n          // Calling set with a boolean option sets it to true.\n          value = true;\n        }\n        // If no value is provided, then we assume this is a get.\n        if (!optionIsBoolean && value === undefined || forceGet) {\n          var oldValue = getOption(optionName, cm, setCfg);\n          if (oldValue instanceof Error) {\n            showConfirm(cm, oldValue.message);\n          } else if (oldValue === true || oldValue === false) {\n            showConfirm(cm, ' ' + (oldValue ? '' : 'no') + optionName);\n          } else {\n            showConfirm(cm, '  ' + optionName + '=' + oldValue);\n          }\n        } else {\n          var setOptionReturn = setOption(optionName, value, cm, setCfg);\n          if (setOptionReturn instanceof Error) {\n            showConfirm(cm, setOptionReturn.message);\n          }\n        }\n      },\n      setlocal: function (cm, params) {\n        // setCfg is passed through to setOption\n        params.setCfg = {scope: 'local'};\n        this.set(cm, params);\n      },\n      setglobal: function (cm, params) {\n        // setCfg is passed through to setOption\n        params.setCfg = {scope: 'global'};\n        this.set(cm, params);\n      },\n      registers: function(cm, params) {\n        var regArgs = params.args;\n        var registers = vimGlobalState.registerController.registers;\n        var regInfo = '----------Registers----------\\n\\n';\n        if (!regArgs) {\n          for (var registerName in registers) {\n            var text = registers[registerName].toString();\n            if (text.length) {\n              regInfo += '\"' + registerName + '    ' + text + '\\n';\n            }\n          }\n        } else {\n          var registerName;\n          regArgs = regArgs.join('');\n          for (var i = 0; i < regArgs.length; i++) {\n            registerName = regArgs.charAt(i);\n            if (!vimGlobalState.registerController.isValidRegister(registerName)) {\n              continue;\n            }\n            var register = registers[registerName] || new Register();\n            regInfo += '\"' + registerName + '    ' + register.toString() + '\\n';\n          }\n        }\n        showConfirm(cm, regInfo);\n      },\n      sort: function(cm, params) {\n        var reverse, ignoreCase, unique, number, pattern;\n        function parseArgs() {\n          if (params.argString) {\n            var args = new CodeMirror.StringStream(params.argString);\n            if (args.eat('!')) { reverse = true; }\n            if (args.eol()) { return; }\n            if (!args.eatSpace()) { return 'Invalid arguments'; }\n            var opts = args.match(/([dinuox]+)?\\s*(\\/.+\\/)?\\s*/);\n            if (!opts && !args.eol()) { return 'Invalid arguments'; }\n            if (opts[1]) {\n              ignoreCase = opts[1].indexOf('i') != -1;\n              unique = opts[1].indexOf('u') != -1;\n              var decimal = opts[1].indexOf('d') != -1 || opts[1].indexOf('n') != -1 && 1;\n              var hex = opts[1].indexOf('x') != -1 && 1;\n              var octal = opts[1].indexOf('o') != -1 && 1;\n              if (decimal + hex + octal > 1) { return 'Invalid arguments'; }\n              number = decimal && 'decimal' || hex && 'hex' || octal && 'octal';\n            }\n            if (opts[2]) {\n              pattern = new RegExp(opts[2].substr(1, opts[2].length - 2), ignoreCase ? 'i' : '');\n            }\n          }\n        }\n        var err = parseArgs();\n        if (err) {\n          showConfirm(cm, err + ': ' + params.argString);\n          return;\n        }\n        var lineStart = params.line || cm.firstLine();\n        var lineEnd = params.lineEnd || params.line || cm.lastLine();\n        if (lineStart == lineEnd) { return; }\n        var curStart = new Pos(lineStart, 0);\n        var curEnd = new Pos(lineEnd, lineLength(cm, lineEnd));\n        var text = cm.getRange(curStart, curEnd).split('\\n');\n        var numberRegex = pattern ? pattern :\n           (number == 'decimal') ? /(-?)([\\d]+)/ :\n           (number == 'hex') ? /(-?)(?:0x)?([0-9a-f]+)/i :\n           (number == 'octal') ? /([0-7]+)/ : null;\n        var radix = (number == 'decimal') ? 10 : (number == 'hex') ? 16 : (number == 'octal') ? 8 : null;\n        var numPart = [], textPart = [];\n        if (number || pattern) {\n          for (var i = 0; i < text.length; i++) {\n            var matchPart = pattern ? text[i].match(pattern) : null;\n            if (matchPart && matchPart[0] != '') {\n              numPart.push(matchPart);\n            } else if (!pattern && numberRegex.exec(text[i])) {\n              numPart.push(text[i]);\n            } else {\n              textPart.push(text[i]);\n            }\n          }\n        } else {\n          textPart = text;\n        }\n        function compareFn(a, b) {\n          if (reverse) { var tmp; tmp = a; a = b; b = tmp; }\n          if (ignoreCase) { a = a.toLowerCase(); b = b.toLowerCase(); }\n          var anum = number && numberRegex.exec(a);\n          var bnum = number && numberRegex.exec(b);\n          if (!anum) { return a < b ? -1 : 1; }\n          anum = parseInt((anum[1] + anum[2]).toLowerCase(), radix);\n          bnum = parseInt((bnum[1] + bnum[2]).toLowerCase(), radix);\n          return anum - bnum;\n        }\n        function comparePatternFn(a, b) {\n          if (reverse) { var tmp; tmp = a; a = b; b = tmp; }\n          if (ignoreCase) { a[0] = a[0].toLowerCase(); b[0] = b[0].toLowerCase(); }\n          return (a[0] < b[0]) ? -1 : 1;\n        }\n        numPart.sort(pattern ? comparePatternFn : compareFn);\n        if (pattern) {\n          for (var i = 0; i < numPart.length; i++) {\n            numPart[i] = numPart[i].input;\n          }\n        } else if (!number) { textPart.sort(compareFn); }\n        text = (!reverse) ? textPart.concat(numPart) : numPart.concat(textPart);\n        if (unique) { // Remove duplicate lines\n          var textOld = text;\n          var lastLine;\n          text = [];\n          for (var i = 0; i < textOld.length; i++) {\n            if (textOld[i] != lastLine) {\n              text.push(textOld[i]);\n            }\n            lastLine = textOld[i];\n          }\n        }\n        cm.replaceRange(text.join('\\n'), curStart, curEnd);\n      },\n      vglobal: function(cm, params) {\n        // global inspects params.commandName\n        this.global(cm, params);\n      },\n      normal: function(cm, params) {\n        var argString = params.argString && params.argString.trimStart();\n        if (!argString) {\n          showConfirm(cm, 'Argument is required.');\n          return;\n        }\n        var line = params.line;\n        if (typeof line == 'number') {\n          var lineEnd = isNaN(params.lineEnd) ? line : params.lineEnd;\n          for (var i = line; i <= lineEnd; i++) {\n            cm.setCursor(i, 0);\n            doKeyToKey(cm, params.argString.trimStart());\n            if (cm.state.vim.insertMode) {\n              exitInsertMode(cm, true);\n            }\n          }\n        } else {\n          doKeyToKey(cm, params.argString.trimStart());\n          if (cm.state.vim.insertMode) {\n            exitInsertMode(cm, true);\n          }\n        }\n      },\n      global: function(cm, params) {\n        // a global command is of the form\n        // :[range]g/pattern/[cmd]\n        // argString holds the string /pattern/[cmd]\n        var argString = params.argString;\n        if (!argString) {\n          showConfirm(cm, 'Regular Expression missing from global');\n          return;\n        }\n        var inverted = params.commandName[0] === 'v';\n        if (argString[0] === '!' && params.commandName[0] === 'g') {\n          inverted = true;\n          argString = argString.slice(1);\n        }\n        // range is specified here\n        var lineStart = (params.line !== undefined) ? params.line : cm.firstLine();\n        var lineEnd = params.lineEnd || params.line || cm.lastLine();\n        // get the tokens from argString\n        var tokens = splitBySlash(argString);\n        var regexPart = argString, cmd;\n        if (tokens.length) {\n          regexPart = tokens[0];\n          cmd = tokens.slice(1, tokens.length).join('/');\n        }\n        if (regexPart) {\n          // If regex part is empty, then use the previous query. Otherwise\n          // use the regex part as the new query.\n          try {\n           updateSearchQuery(cm, regexPart, true /** ignoreCase */,\n             true /** smartCase */);\n          } catch (e) {\n           showConfirm(cm, 'Invalid regex: ' + regexPart);\n           return;\n          }\n        }\n        // now that we have the regexPart, search for regex matches in the\n        // specified range of lines\n        var query = getSearchState(cm).getQuery();\n        var matchedLines = [];\n        for (var i = lineStart; i <= lineEnd; i++) {\n          var line = cm.getLine(i);\n          var matched = query.test(line);\n          if (matched !== inverted) {\n            matchedLines.push(cmd ? cm.getLineHandle(i) : line);\n          }\n        }\n        // if there is no [cmd], just display the list of matched lines\n        if (!cmd) {\n          showConfirm(cm, matchedLines.join('\\n'));\n          return;\n        }\n        var index = 0;\n        var nextCommand = function() {\n          if (index < matchedLines.length) {\n            var lineHandle = matchedLines[index++];\n            var lineNum = cm.getLineNumber(lineHandle);\n            if (lineNum == null) {\n              nextCommand();\n              return;\n            }\n            var command = (lineNum + 1) + cmd;\n            exCommandDispatcher.processCommand(cm, command, {\n              callback: nextCommand\n            });\n          } else if (cm.releaseLineHandles) {\n            cm.releaseLineHandles();\n          }\n        };\n        nextCommand();\n      },\n      substitute: function(cm, params) {\n        if (!cm.getSearchCursor) {\n          throw new Error('Search feature not available. Requires searchcursor.js or ' +\n              'any other getSearchCursor implementation.');\n        }\n        var argString = params.argString;\n        var tokens = argString ? splitBySeparator(argString, argString[0]) : [];\n        var regexPart, replacePart = '', trailing, flagsPart, count;\n        var confirm = false; // Whether to confirm each replace.\n        var global = false; // True to replace all instances on a line, false to replace only 1.\n        if (tokens.length) {\n          regexPart = tokens[0];\n          if (getOption('pcre') && regexPart !== '') {\n              regexPart = new RegExp(regexPart).source; //normalize not escaped characters\n          }\n          replacePart = tokens[1];\n          if (replacePart !== undefined) {\n            if (getOption('pcre')) {\n              replacePart = unescapeRegexReplace(replacePart.replace(/([^\\\\])&/g,\"$1$$&\"));\n            } else {\n              replacePart = translateRegexReplace(replacePart);\n            }\n            vimGlobalState.lastSubstituteReplacePart = replacePart;\n          }\n          trailing = tokens[2] ? tokens[2].split(' ') : [];\n        } else {\n          // either the argString is empty or its of the form ' hello/world'\n          // actually splitBySlash returns a list of tokens\n          // only if the string starts with a '/'\n          if (argString && argString.length) {\n            showConfirm(cm, 'Substitutions should be of the form ' +\n                ':s/pattern/replace/');\n            return;\n          }\n        }\n        // After the 3rd slash, we can have flags followed by a space followed\n        // by count.\n        if (trailing) {\n          flagsPart = trailing[0];\n          count = parseInt(trailing[1]);\n          if (flagsPart) {\n            if (flagsPart.indexOf('c') != -1) {\n              confirm = true;\n            }\n            if (flagsPart.indexOf('g') != -1) {\n              global = true;\n            }\n            if (getOption('pcre')) {\n               regexPart = regexPart + '/' + flagsPart;\n            } else {\n               regexPart = regexPart.replace(/\\//g, \"\\\\/\") + '/' + flagsPart;\n            }\n          }\n        }\n        if (regexPart) {\n          // If regex part is empty, then use the previous query. Otherwise use\n          // the regex part as the new query.\n          try {\n            updateSearchQuery(cm, regexPart, true /** ignoreCase */,\n              true /** smartCase */);\n          } catch (e) {\n            showConfirm(cm, 'Invalid regex: ' + regexPart);\n            return;\n          }\n        }\n        replacePart = replacePart || vimGlobalState.lastSubstituteReplacePart;\n        if (replacePart === undefined) {\n          showConfirm(cm, 'No previous substitute regular expression');\n          return;\n        }\n        var state = getSearchState(cm);\n        var query = state.getQuery();\n        var lineStart = (params.line !== undefined) ? params.line : cm.getCursor().line;\n        var lineEnd = params.lineEnd || lineStart;\n        if (lineStart == cm.firstLine() && lineEnd == cm.lastLine()) {\n          lineEnd = Infinity;\n        }\n        if (count) {\n          lineStart = lineEnd;\n          lineEnd = lineStart + count - 1;\n        }\n        var startPos = clipCursorToContent(cm, new Pos(lineStart, 0));\n        var cursor = cm.getSearchCursor(query, startPos);\n        doReplace(cm, confirm, global, lineStart, lineEnd, cursor, query, replacePart, params.callback);\n      },\n      redo: CodeMirror.commands.redo,\n      undo: CodeMirror.commands.undo,\n      write: function(cm) {\n        if (CodeMirror.commands.save) {\n          // If a save command is defined, call it.\n          CodeMirror.commands.save(cm);\n        } else if (cm.save) {\n          // Saves to text area if no save command is defined and cm.save() is available.\n          cm.save();\n        }\n      },\n      nohlsearch: function(cm) {\n        clearSearchHighlight(cm);\n      },\n      yank: function (cm) {\n        var cur = copyCursor(cm.getCursor());\n        var line = cur.line;\n        var lineText = cm.getLine(line);\n        vimGlobalState.registerController.pushText(\n          '0', 'yank', lineText, true, true);\n      },\n      delete: function(cm, params) {\n        var line = params.selectionLine;\n        var lineEnd = isNaN(params.selectionLineEnd) ? line : params.selectionLineEnd;\n        operators.delete(cm, {linewise: true}, [\n          { anchor: new Pos(line, 0),\n            head: new Pos(lineEnd + 1, 0) }\n        ]);\n      },\n      join: function(cm, params) {\n        var line = params.selectionLine;\n        var lineEnd = isNaN(params.selectionLineEnd) ? line : params.selectionLineEnd;\n        cm.setCursor(new Pos(line, 0));\n        actions.joinLines(cm, {repeat: lineEnd - line}, cm.state.vim);\n      },\n      delmarks: function(cm, params) {\n        if (!params.argString || !trim(params.argString)) {\n          showConfirm(cm, 'Argument required');\n          return;\n        }\n\n        var state = cm.state.vim;\n        var stream = new CodeMirror.StringStream(trim(params.argString));\n        while (!stream.eol()) {\n          stream.eatSpace();\n\n          // Record the streams position at the beginning of the loop for use\n          // in error messages.\n          var count = stream.pos;\n\n          if (!stream.match(/[a-zA-Z]/, false)) {\n            showConfirm(cm, 'Invalid argument: ' + params.argString.substring(count));\n            return;\n          }\n\n          var sym = stream.next();\n          // Check if this symbol is part of a range\n          if (stream.match('-', true)) {\n            // This symbol is part of a range.\n\n            // The range must terminate at an alphabetic character.\n            if (!stream.match(/[a-zA-Z]/, false)) {\n              showConfirm(cm, 'Invalid argument: ' + params.argString.substring(count));\n              return;\n            }\n\n            var startMark = sym;\n            var finishMark = stream.next();\n            // The range must terminate at an alphabetic character which\n            // shares the same case as the start of the range.\n            if (isLowerCase(startMark) && isLowerCase(finishMark) ||\n                isUpperCase(startMark) && isUpperCase(finishMark)) {\n              var start = startMark.charCodeAt(0);\n              var finish = finishMark.charCodeAt(0);\n              if (start >= finish) {\n                showConfirm(cm, 'Invalid argument: ' + params.argString.substring(count));\n                return;\n              }\n\n              // Because marks are always ASCII values, and we have\n              // determined that they are the same case, we can use\n              // their char codes to iterate through the defined range.\n              for (var j = 0; j <= finish - start; j++) {\n                var mark = String.fromCharCode(start + j);\n                delete state.marks[mark];\n              }\n            } else {\n              showConfirm(cm, 'Invalid argument: ' + startMark + '-');\n              return;\n            }\n          } else {\n            // This symbol is a valid mark, and is not part of a range.\n            delete state.marks[sym];\n          }\n        }\n      }\n    };\n\n    var exCommandDispatcher = new ExCommandDispatcher();\n\n    /**\n    * @param {CodeMirror} cm CodeMirror instance we are in.\n    * @param {boolean} confirm Whether to confirm each replace.\n    * @param {Cursor} lineStart Line to start replacing from.\n    * @param {Cursor} lineEnd Line to stop replacing at.\n    * @param {RegExp} query Query for performing matches with.\n    * @param {string} replaceWith Text to replace matches with. May contain $1,\n    *     $2, etc for replacing captured groups using JavaScript replace.\n    * @param {function()} callback A callback for when the replace is done.\n    */\n    function doReplace(cm, confirm, global, lineStart, lineEnd, searchCursor, query,\n        replaceWith, callback) {\n      // Set up all the functions.\n      cm.state.vim.exMode = true;\n      var done = false;\n      var lastPos, modifiedLineNumber, joined;\n      function replaceAll() {\n        cm.operation(function() {\n          while (!done) {\n            replace();\n            next();\n          }\n          stop();\n        });\n      }\n      function replace() {\n        var text = cm.getRange(searchCursor.from(), searchCursor.to());\n        var newText = text.replace(query, replaceWith);\n        var unmodifiedLineNumber = searchCursor.to().line;\n        searchCursor.replace(newText);\n        modifiedLineNumber = searchCursor.to().line;\n        lineEnd += modifiedLineNumber - unmodifiedLineNumber;\n        joined = modifiedLineNumber < unmodifiedLineNumber;\n      }\n      function findNextValidMatch() {\n        var lastMatchTo = lastPos && copyCursor(searchCursor.to());\n        var match = searchCursor.findNext();\n        if (match && !match[0] && lastMatchTo && cursorEqual(searchCursor.from(), lastMatchTo)) {\n          match = searchCursor.findNext();\n        }\n        return match;\n      }\n      function next() {\n        // The below only loops to skip over multiple occurrences on the same\n        // line when 'global' is not true.\n        while(findNextValidMatch() &&\n              isInRange(searchCursor.from(), lineStart, lineEnd)) {\n          if (!global && searchCursor.from().line == modifiedLineNumber && !joined) {\n            continue;\n          }\n          cm.scrollIntoView(searchCursor.from(), 30);\n          cm.setSelection(searchCursor.from(), searchCursor.to());\n          lastPos = searchCursor.from();\n          done = false;\n          return;\n        }\n        done = true;\n      }\n      function stop(close) {\n        if (close) { close(); }\n        cm.focus();\n        if (lastPos) {\n          cm.setCursor(lastPos);\n          var vim = cm.state.vim;\n          vim.exMode = false;\n          vim.lastHPos = vim.lastHSPos = lastPos.ch;\n        }\n        if (callback) { callback(); }\n      }\n      function onPromptKeyDown(e, _value, close) {\n        // Swallow all keys.\n        CodeMirror.e_stop(e);\n        var keyName = CodeMirror.keyName(e);\n        switch (keyName) {\n          case 'Y':\n            replace(); next(); break;\n          case 'N':\n            next(); break;\n          case 'A':\n            // replaceAll contains a call to close of its own. We don't want it\n            // to fire too early or multiple times.\n            var savedCallback = callback;\n            callback = undefined;\n            cm.operation(replaceAll);\n            callback = savedCallback;\n            break;\n          case 'L':\n            replace();\n            // fall through and exit.\n          case 'Q':\n          case 'Esc':\n          case 'Ctrl-C':\n          case 'Ctrl-[':\n            stop(close);\n            break;\n        }\n        if (done) { stop(close); }\n        return true;\n      }\n\n      // Actually do replace.\n      next();\n      if (done) {\n        showConfirm(cm, 'No matches for ' + query.source);\n        return;\n      }\n      if (!confirm) {\n        replaceAll();\n        if (callback) { callback(); }\n        return;\n      }\n      showPrompt(cm, {\n        prefix: dom('span', 'replace with ', dom('strong', replaceWith), ' (y/n/a/q/l)'),\n        onKeyDown: onPromptKeyDown\n      });\n    }\n\n    CodeMirror.keyMap.vim = {\n      attach: attachVimMap,\n      detach: detachVimMap,\n      call: cmKey\n    };\n\n    function exitInsertMode(cm, keepCursor) {\n      var vim = cm.state.vim;\n      var macroModeState = vimGlobalState.macroModeState;\n      var insertModeChangeRegister = vimGlobalState.registerController.getRegister('.');\n      var isPlaying = macroModeState.isPlaying;\n      var lastChange = macroModeState.lastInsertModeChanges;\n      if (!isPlaying) {\n        cm.off('change', onChange);\n        if (vim.insertEnd) vim.insertEnd.clear();\n        vim.insertEnd = null;\n        CodeMirror.off(cm.getInputField(), 'keydown', onKeyEventTargetKeyDown);\n      }\n      if (!isPlaying && vim.insertModeRepeat > 1) {\n        // Perform insert mode repeat for commands like 3,a and 3,o.\n        repeatLastEdit(cm, vim, vim.insertModeRepeat - 1,\n            true /** repeatForInsert */);\n        vim.lastEditInputState.repeatOverride = vim.insertModeRepeat;\n      }\n      delete vim.insertModeRepeat;\n      vim.insertMode = false;\n      if (!keepCursor) {\n        cm.setCursor(cm.getCursor().line, cm.getCursor().ch-1);\n      }\n      cm.setOption('keyMap', 'vim');\n      cm.setOption('disableInput', true);\n      cm.toggleOverwrite(false); // exit replace mode if we were in it.\n      // update the \". register before exiting insert mode\n      insertModeChangeRegister.setText(lastChange.changes.join(''));\n      CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"normal\"});\n      if (macroModeState.isRecording) {\n        logInsertModeChange(macroModeState);\n      }\n    }\n\n    function _mapCommand(command) {\n      defaultKeymap.unshift(command);\n    }\n\n    function mapCommand(keys, type, name, args, extra) {\n      var command = {keys: keys, type: type};\n      command[type] = name;\n      command[type + \"Args\"] = args;\n      for (var key in extra)\n        command[key] = extra[key];\n      _mapCommand(command);\n    }\n\n    // The timeout in milliseconds for the two-character ESC keymap should be\n    // adjusted according to your typing speed to prevent false positives.\n    defineOption('insertModeEscKeysTimeout', 200, 'number');\n\n    CodeMirror.keyMap['vim-insert'] = {\n      // TODO: override navigation keys so that Esc will cancel automatic\n      // indentation from o, O, i_<CR>\n      fallthrough: ['default'],\n      attach: attachVimMap,\n      detach: detachVimMap,\n      call: cmKey\n    };\n\n    CodeMirror.keyMap['vim-replace'] = {\n      'Backspace': 'goCharLeft',\n      fallthrough: ['vim-insert'],\n      attach: attachVimMap,\n      detach: detachVimMap\n    };\n\n    function executeMacroRegister(cm, vim, macroModeState, registerName) {\n      var register = vimGlobalState.registerController.getRegister(registerName);\n      if (registerName == ':') {\n        // Read-only register containing last Ex command.\n        if (register.keyBuffer[0]) {\n          exCommandDispatcher.processCommand(cm, register.keyBuffer[0]);\n        }\n        macroModeState.isPlaying = false;\n        return;\n      }\n      var keyBuffer = register.keyBuffer;\n      var imc = 0;\n      macroModeState.isPlaying = true;\n      macroModeState.replaySearchQueries = register.searchQueries.slice(0);\n      for (var i = 0; i < keyBuffer.length; i++) {\n        var text = keyBuffer[i];\n        var match, key;\n        while (text) {\n          // Pull off one command key, which is either a single character\n          // or a special sequence wrapped in '<' and '>', e.g. '<Space>'.\n          match = (/<\\w+-.+?>|<\\w+>|./).exec(text);\n          key = match[0];\n          text = text.substring(match.index + key.length);\n          vimApi.handleKey(cm, key, 'macro');\n          if (vim.insertMode) {\n            var changes = register.insertModeChanges[imc++].changes;\n            vimGlobalState.macroModeState.lastInsertModeChanges.changes =\n                changes;\n            repeatInsertModeChanges(cm, changes, 1);\n            exitInsertMode(cm);\n          }\n        }\n      }\n      macroModeState.isPlaying = false;\n    }\n\n    function logKey(macroModeState, key) {\n      if (macroModeState.isPlaying) { return; }\n      var registerName = macroModeState.latestRegister;\n      var register = vimGlobalState.registerController.getRegister(registerName);\n      if (register) {\n        register.pushText(key);\n      }\n    }\n\n    function logInsertModeChange(macroModeState) {\n      if (macroModeState.isPlaying) { return; }\n      var registerName = macroModeState.latestRegister;\n      var register = vimGlobalState.registerController.getRegister(registerName);\n      if (register && register.pushInsertModeChanges) {\n        register.pushInsertModeChanges(macroModeState.lastInsertModeChanges);\n      }\n    }\n\n    function logSearchQuery(macroModeState, query) {\n      if (macroModeState.isPlaying) { return; }\n      var registerName = macroModeState.latestRegister;\n      var register = vimGlobalState.registerController.getRegister(registerName);\n      if (register && register.pushSearchQuery) {\n        register.pushSearchQuery(query);\n      }\n    }\n\n    /**\n     * Listens for changes made in insert mode.\n     * Should only be active in insert mode.\n     */\n    function onChange(cm, changeObj) {\n      var macroModeState = vimGlobalState.macroModeState;\n      var lastChange = macroModeState.lastInsertModeChanges;\n      if (!macroModeState.isPlaying) {\n        var vim = cm.state.vim;\n        while(changeObj) {\n          lastChange.expectCursorActivityForChange = true;\n          if (lastChange.ignoreCount > 1) {\n            lastChange.ignoreCount--;\n          } else if (changeObj.origin == '+input' || changeObj.origin == 'paste'\n              || changeObj.origin === undefined /* only in testing */) {\n            var selectionCount = cm.listSelections().length;\n            if (selectionCount > 1)\n              lastChange.ignoreCount = selectionCount;\n            var text = changeObj.text.join('\\n');\n            if (lastChange.maybeReset) {\n              lastChange.changes = [];\n              lastChange.maybeReset = false;\n            }\n            if (text) {\n              if (cm.state.overwrite && !/\\n/.test(text)) {\n                lastChange.changes.push([text]);\n              } else {\n                if (text.length > 1) {\n                  var insertEnd = vim && vim.insertEnd && vim.insertEnd.find();\n                  var cursor = cm.getCursor();\n                  if (insertEnd && insertEnd.line == cursor.line) {\n                    var offset = insertEnd.ch - cursor.ch;\n                    if (offset > 0 && offset < text.length) {\n                      lastChange.changes.push([text, offset]);\n                      text = '';\n                    }\n                  }\n                }\n                if (text) lastChange.changes.push(text);\n              }\n            }\n          }\n          // Change objects may be chained with next.\n          changeObj = changeObj.next;\n        }\n      }\n    }\n\n    /**\n    * Listens for any kind of cursor activity on CodeMirror.\n    */\n    function onCursorActivity(cm) {\n      var vim = cm.state.vim;\n      if (vim.insertMode) {\n        // Tracking cursor activity in insert mode (for macro support).\n        var macroModeState = vimGlobalState.macroModeState;\n        if (macroModeState.isPlaying) { return; }\n        var lastChange = macroModeState.lastInsertModeChanges;\n        if (lastChange.expectCursorActivityForChange) {\n          lastChange.expectCursorActivityForChange = false;\n        } else {\n          // Cursor moved outside the context of an edit. Reset the change.\n          lastChange.maybeReset = true;\n          if (vim.insertEnd) vim.insertEnd.clear();\n          vim.insertEnd = cm.setBookmark(cm.getCursor(), {insertLeft: true});\n        }\n      } else if (!cm.curOp.isVimOp) {\n        handleExternalSelection(cm, vim);\n      }\n    }\n    function handleExternalSelection(cm, vim) {\n      var anchor = cm.getCursor('anchor');\n      var head = cm.getCursor('head');\n      // Enter or exit visual mode to match mouse selection.\n      if (vim.visualMode && !cm.somethingSelected()) {\n        exitVisualMode(cm, false);\n      } else if (!vim.visualMode && !vim.insertMode && cm.somethingSelected()) {\n        vim.visualMode = true;\n        vim.visualLine = false;\n        CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"visual\"});\n      }\n      if (vim.visualMode) {\n        // Bind CodeMirror selection model to vim selection model.\n        // Mouse selections are considered visual characterwise.\n        var headOffset = !cursorIsBefore(head, anchor) ? -1 : 0;\n        var anchorOffset = cursorIsBefore(head, anchor) ? -1 : 0;\n        head = offsetCursor(head, 0, headOffset);\n        anchor = offsetCursor(anchor, 0, anchorOffset);\n        vim.sel = {\n          anchor: anchor,\n          head: head\n        };\n        updateMark(cm, vim, '<', cursorMin(head, anchor));\n        updateMark(cm, vim, '>', cursorMax(head, anchor));\n      } else if (!vim.insertMode) {\n        // Reset lastHPos if selection was modified by something outside of vim mode e.g. by mouse.\n        vim.lastHPos = cm.getCursor().ch;\n      }\n    }\n\n    /** Wrapper for special keys pressed in insert mode */\n    function InsertModeKey(keyName) {\n      this.keyName = keyName;\n    }\n\n    /**\n    * Handles raw key down events from the text area.\n    * - Should only be active in insert mode.\n    * - For recording deletes in insert mode.\n    */\n    function onKeyEventTargetKeyDown(e) {\n      var macroModeState = vimGlobalState.macroModeState;\n      var lastChange = macroModeState.lastInsertModeChanges;\n      var keyName = CodeMirror.keyName(e);\n      if (!keyName) { return; }\n      function onKeyFound() {\n        if (lastChange.maybeReset) {\n          lastChange.changes = [];\n          lastChange.maybeReset = false;\n        }\n        lastChange.changes.push(new InsertModeKey(keyName));\n        return true;\n      }\n      if (keyName.indexOf('Delete') != -1 || keyName.indexOf('Backspace') != -1) {\n        CodeMirror.lookupKey(keyName, 'vim-insert', onKeyFound);\n      }\n    }\n\n    /**\n     * Repeats the last edit, which includes exactly 1 command and at most 1\n     * insert. Operator and motion commands are read from lastEditInputState,\n     * while action commands are read from lastEditActionCommand.\n     *\n     * If repeatForInsert is true, then the function was called by\n     * exitInsertMode to repeat the insert mode changes the user just made. The\n     * corresponding enterInsertMode call was made with a count.\n     */\n    function repeatLastEdit(cm, vim, repeat, repeatForInsert) {\n      var macroModeState = vimGlobalState.macroModeState;\n      macroModeState.isPlaying = true;\n      var isAction = !!vim.lastEditActionCommand;\n      var cachedInputState = vim.inputState;\n      function repeatCommand() {\n        if (isAction) {\n          commandDispatcher.processAction(cm, vim, vim.lastEditActionCommand);\n        } else {\n          commandDispatcher.evalInput(cm, vim);\n        }\n      }\n      function repeatInsert(repeat) {\n        if (macroModeState.lastInsertModeChanges.changes.length > 0) {\n          // For some reason, repeat cw in desktop VIM does not repeat\n          // insert mode changes. Will conform to that behavior.\n          repeat = !vim.lastEditActionCommand ? 1 : repeat;\n          var changeObject = macroModeState.lastInsertModeChanges;\n          repeatInsertModeChanges(cm, changeObject.changes, repeat);\n        }\n      }\n      vim.inputState = vim.lastEditInputState;\n      if (isAction && vim.lastEditActionCommand.interlaceInsertRepeat) {\n        // o and O repeat have to be interlaced with insert repeats so that the\n        // insertions appear on separate lines instead of the last line.\n        for (var i = 0; i < repeat; i++) {\n          repeatCommand();\n          repeatInsert(1);\n        }\n      } else {\n        if (!repeatForInsert) {\n          // Hack to get the cursor to end up at the right place. If I is\n          // repeated in insert mode repeat, cursor will be 1 insert\n          // change set left of where it should be.\n          repeatCommand();\n        }\n        repeatInsert(repeat);\n      }\n      vim.inputState = cachedInputState;\n      if (vim.insertMode && !repeatForInsert) {\n        // Don't exit insert mode twice. If repeatForInsert is set, then we\n        // were called by an exitInsertMode call lower on the stack.\n        exitInsertMode(cm);\n      }\n      macroModeState.isPlaying = false;\n    }\n\n    function sendCmKey(cm, key) {\n      CodeMirror.lookupKey(key, 'vim-insert', function keyHandler(binding) {\n        if (typeof binding == 'string') {\n          CodeMirror.commands[binding](cm);\n        } else {\n          binding(cm);\n        }\n        return true;\n      });\n    }\n    function repeatInsertModeChanges(cm, changes, repeat) {\n      var head = cm.getCursor('head');\n      var visualBlock = vimGlobalState.macroModeState.lastInsertModeChanges.visualBlock;\n      if (visualBlock) {\n        // Set up block selection again for repeating the changes.\n        selectForInsert(cm, head, visualBlock + 1);\n        repeat = cm.listSelections().length;\n        cm.setCursor(head);\n      }\n      for (var i = 0; i < repeat; i++) {\n        if (visualBlock) {\n          cm.setCursor(offsetCursor(head, i, 0));\n        }\n        for (var j = 0; j < changes.length; j++) {\n          var change = changes[j];\n          if (change instanceof InsertModeKey) {\n            sendCmKey(cm, change.keyName);\n          } else if (typeof change == \"string\") {\n            cm.replaceSelection(change);\n          } else {\n            var start = cm.getCursor();\n            var end = offsetCursor(start, 0, change[0].length - (change[1] || 0));\n            cm.replaceRange(change[0], start, change[1] ? start: end);\n            cm.setCursor(end);\n          }\n        }\n      }\n      if (visualBlock) {\n        cm.setCursor(offsetCursor(head, 0, 1));\n      }\n    }\n\n    // multiselect support\n    function cloneVimState(state) {\n      var n = new state.constructor();\n      Object.keys(state).forEach(function(key) {\n        if (key == \"insertEnd\") return;\n        var o = state[key];\n        if (Array.isArray(o))\n          o = o.slice();\n        else if (o && typeof o == \"object\" && o.constructor != Object)\n          o = cloneVimState(o);\n        n[key] = o;\n      });\n      if (state.sel) {\n        n.sel = {\n          head: state.sel.head && copyCursor(state.sel.head),\n          anchor: state.sel.anchor && copyCursor(state.sel.anchor)\n        };\n      }\n      return n;\n    }\n    function multiSelectHandleKey(cm, key, origin) {\n      var isHandled = false;\n      var vim = vimApi.maybeInitVimState_(cm);\n      var visualBlock = vim.visualBlock || vim.wasInVisualBlock;\n\n      var wasMultiselect = cm.isInMultiSelectMode();\n      if (vim.wasInVisualBlock && !wasMultiselect) {\n        vim.wasInVisualBlock = false;\n      } else if (wasMultiselect && vim.visualBlock) {\n         vim.wasInVisualBlock = true;\n      }\n\n      if (key == '<Esc>' && !vim.insertMode && !vim.visualMode && wasMultiselect && vim.status == \"<Esc>\") {\n        // allow editor to exit multiselect\n        clearInputState(cm);\n      } else if (visualBlock || !wasMultiselect || cm.inVirtualSelectionMode) {\n        isHandled = vimApi.handleKey(cm, key, origin);\n      } else {\n        var old = cloneVimState(vim);\n        var changeQueueList = vim.inputState.changeQueueList || [];\n\n        cm.operation(function() {\n          cm.curOp.isVimOp = true;\n          var index = 0;\n          cm.forEachSelection(function() {\n            cm.state.vim.inputState.changeQueue = changeQueueList[index];\n            var head = cm.getCursor(\"head\");\n            var anchor = cm.getCursor(\"anchor\");\n            var headOffset = !cursorIsBefore(head, anchor) ? -1 : 0;\n            var anchorOffset = cursorIsBefore(head, anchor) ? -1 : 0;\n            head = offsetCursor(head, 0, headOffset);\n            anchor = offsetCursor(anchor, 0, anchorOffset);\n            cm.state.vim.sel.head = head;\n            cm.state.vim.sel.anchor = anchor;\n\n            isHandled = vimApi.handleKey(cm, key, origin);\n            if (cm.virtualSelection) {\n              changeQueueList[index] = cm.state.vim.inputState.changeQueue;\n              cm.state.vim = cloneVimState(old);\n            }\n            index++;\n          });\n          if (cm.curOp.cursorActivity && !isHandled)\n            cm.curOp.cursorActivity = false;\n          cm.state.vim = vim;\n          vim.inputState.changeQueueList = changeQueueList;\n          vim.inputState.changeQueue = null;\n        }, true);\n      }\n      // some commands may bring visualMode and selection out of sync\n      if (isHandled && !vim.visualMode && !vim.insert && vim.visualMode != cm.somethingSelected()) {\n        handleExternalSelection(cm, vim);\n      }\n      return isHandled;\n    }\n    resetVimGlobalState();\n\n  return vimApi;\n}\n\nfunction indexFromPos(doc, pos) {\n    var ch = pos.ch;\n    var lineNumber = pos.line + 1;\n    if (lineNumber < 1) {\n        lineNumber = 1;\n        ch = 0;\n    }\n    if (lineNumber > doc.lines) {\n        lineNumber = doc.lines;\n        ch = Number.MAX_VALUE;\n    }\n    var line = doc.line(lineNumber);\n    return Math.min(line.from + Math.max(0, ch), line.to);\n}\nfunction posFromIndex(doc, offset) {\n    let line = doc.lineAt(offset);\n    return { line: line.number - 1, ch: offset - line.from };\n}\nclass Pos {\n    constructor(line, ch) {\n        this.line = line;\n        this.ch = ch;\n    }\n}\nfunction on(emitter, type, f) {\n    if (emitter.addEventListener) {\n        emitter.addEventListener(type, f, false);\n    }\n    else {\n        var map = emitter._handlers || (emitter._handlers = {});\n        map[type] = (map[type] || []).concat(f);\n    }\n}\nfunction off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n        emitter.removeEventListener(type, f, false);\n    }\n    else {\n        var map = emitter._handlers, arr = map && map[type];\n        if (arr) {\n            var index = arr.indexOf(f);\n            if (index > -1) {\n                map[type] = arr.slice(0, index).concat(arr.slice(index + 1));\n            }\n        }\n    }\n}\nfunction signal(emitter, type, ...args) {\n    var _a;\n    var handlers = (_a = emitter._handlers) === null || _a === void 0 ? void 0 : _a[type];\n    if (!handlers)\n        return;\n    for (var i = 0; i < handlers.length; ++i) {\n        handlers[i](...args);\n    }\n}\nfunction signalTo(handlers, ...args) {\n    if (!handlers)\n        return;\n    for (var i = 0; i < handlers.length; ++i) {\n        handlers[i](...args);\n    }\n}\nvar specialKey = {\n    Return: 'CR', Backspace: 'BS', 'Delete': 'Del', Escape: 'Esc', Insert: 'Ins',\n    ArrowLeft: 'Left', ArrowRight: 'Right', ArrowUp: 'Up', ArrowDown: 'Down',\n    Enter: 'CR', ' ': 'Space'\n};\nvar ignoredKeys = { Shift: 1, Alt: 1, Command: 1, Control: 1,\n    CapsLock: 1, AltGraph: 1, Dead: 1, Unidentified: 1 };\nlet wordChar;\ntry {\n    wordChar = /*@__PURE__*/new RegExp(\"[\\\\w\\\\p{Alphabetic}\\\\p{Number}_]\", \"u\");\n}\ncatch (_) {\n    wordChar = /[\\w]/;\n}\n// workaround for missing api for merging transactions\nfunction dispatchChange(cm, transaction) {\n    var view = cm.cm6;\n    var type = \"input.type.compose\";\n    if (cm.curOp) {\n        if (!cm.curOp.lastChange)\n            type = \"input.type.compose.start\";\n    }\n    if (transaction.annotations) {\n        try {\n            transaction.annotations.some(function (note) {\n                if (note.value == \"input\")\n                    note.value = type;\n            });\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    else {\n        transaction.userEvent = type;\n    }\n    return view.dispatch(transaction);\n}\nfunction runHistoryCommand(cm, revert) {\n    var _a;\n    if (cm.curOp) {\n        cm.curOp.$changeStart = undefined;\n    }\n    (revert ? undo : redo)(cm.cm6);\n    let changeStartIndex = (_a = cm.curOp) === null || _a === void 0 ? void 0 : _a.$changeStart;\n    // vim mode expects the changed text to be either selected or cursor placed at the start\n    if (changeStartIndex != null) {\n        cm.cm6.dispatch({ selection: { anchor: changeStartIndex } });\n    }\n}\nvar keys = {};\n/*@__PURE__*/\"Left|Right|Up|Down|Backspace|Delete\".split(\"|\").forEach(key => {\n    keys[key] = (cm) => runScopeHandlers(cm.cm6, { key: key }, \"editor\");\n});\nclass CodeMirror {\n    constructor(cm6) {\n        this.state = {};\n        this.marks = Object.create(null);\n        this.$mid = 0; // marker id counter\n        this.options = {};\n        this._handlers = {};\n        this.$lastChangeEndOffset = 0;\n        this.virtualSelection = null;\n        this.cm6 = cm6;\n        this.onChange = this.onChange.bind(this);\n        this.onSelectionChange = this.onSelectionChange.bind(this);\n    }\n    // --------------------------\n    openDialog(template, callback, options) {\n        return openDialog(this, template, callback, options);\n    }\n    ;\n    openNotification(template, options) {\n        return openNotification(this, template, options);\n    }\n    ;\n    ;\n    on(type, f) { on(this, type, f); }\n    off(type, f) { off(this, type, f); }\n    signal(type, e, handlers) { signal(this, type, e, handlers); }\n    indexFromPos(pos) {\n        return indexFromPos(this.cm6.state.doc, pos);\n    }\n    ;\n    posFromIndex(offset) {\n        return posFromIndex(this.cm6.state.doc, offset);\n    }\n    ;\n    foldCode(pos) {\n        let view = this.cm6;\n        let ranges = view.state.selection.ranges;\n        let doc = this.cm6.state.doc;\n        let index = indexFromPos(doc, pos);\n        let tmpRanges = EditorSelection.create([EditorSelection.range(index, index)], 0).ranges;\n        view.state.selection.ranges = tmpRanges;\n        foldCode(view);\n        view.state.selection.ranges = ranges;\n    }\n    firstLine() { return 0; }\n    ;\n    lastLine() { return this.cm6.state.doc.lines - 1; }\n    ;\n    lineCount() { return this.cm6.state.doc.lines; }\n    ;\n    setCursor(line, ch) {\n        if (typeof line === 'object') {\n            ch = line.ch;\n            line = line.line;\n        }\n        var offset = indexFromPos(this.cm6.state.doc, { line, ch });\n        this.cm6.dispatch({ selection: { anchor: offset } }, { scrollIntoView: !this.curOp });\n        if (this.curOp && !this.curOp.isVimOp)\n            this.onBeforeEndOperation();\n    }\n    ;\n    getCursor(p) {\n        var sel = this.cm6.state.selection.main;\n        var offset = p == \"head\" || !p\n            ? sel.head\n            : p == \"anchor\"\n                ? sel.anchor\n                : p == \"start\"\n                    ? sel.from\n                    : p == \"end\"\n                        ? sel.to\n                        : null;\n        if (offset == null)\n            throw new Error(\"Invalid cursor type\");\n        return this.posFromIndex(offset);\n    }\n    ;\n    listSelections() {\n        var doc = this.cm6.state.doc;\n        return this.cm6.state.selection.ranges.map(r => {\n            return {\n                anchor: posFromIndex(doc, r.anchor),\n                head: posFromIndex(doc, r.head),\n            };\n        });\n    }\n    ;\n    setSelections(p, primIndex) {\n        var doc = this.cm6.state.doc;\n        var ranges = p.map(x => {\n            return EditorSelection.range(indexFromPos(doc, x.anchor), indexFromPos(doc, x.head));\n        });\n        this.cm6.dispatch({\n            selection: EditorSelection.create(ranges, primIndex)\n        });\n    }\n    ;\n    setSelection(anchor, head, options) {\n        var doc = this.cm6.state.doc;\n        var ranges = [EditorSelection.range(indexFromPos(doc, anchor), indexFromPos(doc, head))];\n        this.cm6.dispatch({\n            selection: EditorSelection.create(ranges, 0)\n        });\n        if (options && options.origin == '*mouse') {\n            this.onBeforeEndOperation();\n        }\n    }\n    ;\n    getLine(row) {\n        var doc = this.cm6.state.doc;\n        if (row < 0 || row >= doc.lines)\n            return \"\";\n        return this.cm6.state.doc.line(row + 1).text;\n    }\n    ;\n    getLineHandle(row) {\n        if (!this.$lineHandleChanges)\n            this.$lineHandleChanges = [];\n        return { row: row, index: this.indexFromPos(new Pos(row, 0)) };\n    }\n    getLineNumber(handle) {\n        var updates = this.$lineHandleChanges;\n        if (!updates)\n            return null;\n        var offset = handle.index;\n        for (var i = 0; i < updates.length; i++) {\n            offset = updates[i].changes.mapPos(offset, 1, MapMode.TrackAfter);\n            if (offset == null)\n                return null;\n        }\n        var pos = this.posFromIndex(offset);\n        return pos.ch == 0 ? pos.line : null;\n    }\n    releaseLineHandles() {\n        this.$lineHandleChanges = undefined;\n    }\n    getRange(s, e) {\n        var doc = this.cm6.state.doc;\n        return this.cm6.state.sliceDoc(indexFromPos(doc, s), indexFromPos(doc, e));\n    }\n    ;\n    replaceRange(text, s, e) {\n        if (!e)\n            e = s;\n        var doc = this.cm6.state.doc;\n        var from = indexFromPos(doc, s);\n        var to = indexFromPos(doc, e);\n        dispatchChange(this, { changes: { from, to, insert: text } });\n    }\n    ;\n    replaceSelection(text) {\n        dispatchChange(this, this.cm6.state.replaceSelection(text));\n    }\n    ;\n    replaceSelections(replacements) {\n        var ranges = this.cm6.state.selection.ranges;\n        var changes = ranges.map((r, i) => {\n            return { from: r.from, to: r.to, insert: replacements[i] || \"\" };\n        });\n        dispatchChange(this, { changes });\n    }\n    ;\n    getSelection() {\n        return this.getSelections().join(\"\\n\");\n    }\n    ;\n    getSelections() {\n        var cm = this.cm6;\n        return cm.state.selection.ranges.map(r => cm.state.sliceDoc(r.from, r.to));\n    }\n    ;\n    somethingSelected() {\n        return this.cm6.state.selection.ranges.some(r => !r.empty);\n    }\n    ;\n    getInputField() {\n        return this.cm6.contentDOM;\n    }\n    ;\n    clipPos(p) {\n        var doc = this.cm6.state.doc;\n        var ch = p.ch;\n        var lineNumber = p.line + 1;\n        if (lineNumber < 1) {\n            lineNumber = 1;\n            ch = 0;\n        }\n        if (lineNumber > doc.lines) {\n            lineNumber = doc.lines;\n            ch = Number.MAX_VALUE;\n        }\n        var line = doc.line(lineNumber);\n        ch = Math.min(Math.max(0, ch), line.to - line.from);\n        return new Pos(lineNumber - 1, ch);\n    }\n    ;\n    getValue() {\n        return this.cm6.state.doc.toString();\n    }\n    ;\n    setValue(text) {\n        var cm = this.cm6;\n        return cm.dispatch({\n            changes: { from: 0, to: cm.state.doc.length, insert: text },\n            selection: EditorSelection.range(0, 0)\n        });\n    }\n    ;\n    focus() {\n        return this.cm6.focus();\n    }\n    ;\n    blur() {\n        return this.cm6.contentDOM.blur();\n    }\n    ;\n    defaultTextHeight() {\n        return this.cm6.defaultLineHeight;\n    }\n    ;\n    findMatchingBracket(pos) {\n        var state = this.cm6.state;\n        var offset = indexFromPos(state.doc, pos);\n        var m = matchBrackets(state, offset + 1, -1);\n        if (m && m.end) {\n            return { to: posFromIndex(state.doc, m.end.from) };\n        }\n        m = matchBrackets(state, offset, 1);\n        if (m && m.end) {\n            return { to: posFromIndex(state.doc, m.end.from) };\n        }\n        return { to: undefined };\n    }\n    ;\n    scanForBracket(pos, dir, style, config) {\n        return scanForBracket(this, pos, dir, style, config);\n    }\n    ;\n    indentLine(line, more) {\n        // todo how to indent only one line instead of selection\n        if (more)\n            this.indentMore();\n        else\n            this.indentLess();\n    }\n    ;\n    indentMore() {\n        indentMore(this.cm6);\n    }\n    ;\n    indentLess() {\n        indentLess(this.cm6);\n    }\n    ;\n    execCommand(name) {\n        if (name == \"indentAuto\")\n            CodeMirror.commands.indentAuto(this);\n        else if (name == \"goLineLeft\")\n            cursorLineBoundaryBackward(this.cm6);\n        else if (name == \"goLineRight\") {\n            cursorLineBoundaryForward(this.cm6);\n            cursorCharBackward(this.cm6);\n        }\n        else\n            console.log(name + \" is not implemented\");\n    }\n    ;\n    setBookmark(cursor, options) {\n        var assoc = (options === null || options === void 0 ? void 0 : options.insertLeft) ? 1 : -1;\n        var offset = this.indexFromPos(cursor);\n        var bm = new Marker(this, offset, assoc);\n        return bm;\n    }\n    ;\n    addOverlay({ query }) {\n        let cm6Query = new SearchQuery({\n            regexp: true,\n            search: query.source,\n            caseSensitive: !/i/.test(query.flags),\n        });\n        if (cm6Query.valid) {\n            cm6Query.forVim = true;\n            this.cm6Query = cm6Query;\n            let effect = setSearchQuery.of(cm6Query);\n            this.cm6.dispatch({ effects: effect });\n            return cm6Query;\n        }\n    }\n    ;\n    removeOverlay(overlay) {\n        if (!this.cm6Query)\n            return;\n        this.cm6Query.forVim = false;\n        let effect = setSearchQuery.of(this.cm6Query);\n        this.cm6.dispatch({ effects: effect });\n    }\n    ;\n    getSearchCursor(query, pos) {\n        var cm = this;\n        var last = null;\n        var lastCM5Result = null;\n        if (pos.ch == undefined)\n            pos.ch = Number.MAX_VALUE;\n        var firstOffset = indexFromPos(cm.cm6.state.doc, pos);\n        var source = query.source.replace(/(\\\\.|{(?:\\d+(?:,\\d*)?|,\\d+)})|[{}]/g, function (a, b) {\n            if (!b)\n                return \"\\\\\" + a;\n            return b;\n        });\n        function rCursor(doc, from = 0, to = doc.length) {\n            return new RegExpCursor(doc, source, { ignoreCase: query.ignoreCase }, from, to);\n        }\n        function nextMatch(from) {\n            var doc = cm.cm6.state.doc;\n            if (from > doc.length)\n                return null;\n            let res = rCursor(doc, from).next();\n            return res.done ? null : res.value;\n        }\n        var ChunkSize = 10000;\n        function prevMatchInRange(from, to) {\n            var doc = cm.cm6.state.doc;\n            for (let size = 1;; size++) {\n                let start = Math.max(from, to - size * ChunkSize);\n                let cursor = rCursor(doc, start, to), range = null;\n                while (!cursor.next().done)\n                    range = cursor.value;\n                if (range && (start == from || range.from > start + 10))\n                    return range;\n                if (start == from)\n                    return null;\n            }\n        }\n        return {\n            findNext: function () { return this.find(false); },\n            findPrevious: function () { return this.find(true); },\n            find: function (back) {\n                var doc = cm.cm6.state.doc;\n                if (back) {\n                    let endAt = last ? (last.from == last.to ? last.to - 1 : last.from) : firstOffset;\n                    last = prevMatchInRange(0, endAt);\n                }\n                else {\n                    let startFrom = last ? (last.from == last.to ? last.to + 1 : last.to) : firstOffset;\n                    last = nextMatch(startFrom);\n                }\n                lastCM5Result = last && {\n                    from: posFromIndex(doc, last.from),\n                    to: posFromIndex(doc, last.to),\n                    match: last.match,\n                };\n                return last && last.match;\n            },\n            from: function () { return lastCM5Result === null || lastCM5Result === void 0 ? void 0 : lastCM5Result.from; },\n            to: function () { return lastCM5Result === null || lastCM5Result === void 0 ? void 0 : lastCM5Result.to; },\n            replace: function (text) {\n                if (last) {\n                    dispatchChange(cm, {\n                        changes: { from: last.from, to: last.to, insert: text }\n                    });\n                    last.to = last.from + text.length;\n                    if (lastCM5Result) {\n                        lastCM5Result.to = posFromIndex(cm.cm6.state.doc, last.to);\n                    }\n                }\n            }\n        };\n    }\n    ;\n    findPosV(start, amount, unit, goalColumn) {\n        let { cm6 } = this;\n        const doc = cm6.state.doc;\n        let pixels = unit == 'page' ? cm6.dom.clientHeight : 0;\n        const startOffset = indexFromPos(doc, start);\n        let range = EditorSelection.range(startOffset, startOffset, goalColumn);\n        let count = Math.round(Math.abs(amount));\n        for (let i = 0; i < count; i++) {\n            if (unit == 'page') {\n                range = cm6.moveVertically(range, amount > 0, pixels);\n            }\n            else if (unit == 'line') {\n                range = cm6.moveVertically(range, amount > 0);\n            }\n        }\n        let pos = posFromIndex(doc, range.head);\n        // set hitside to true if there was no place to move and cursor was clipped to the edge\n        // of document. Needed for gj/gk\n        if ((amount < 0 &&\n            range.head == 0 && goalColumn != 0 &&\n            start.line == 0 && start.ch != 0) || (amount > 0 &&\n            range.head == doc.length && pos.ch != goalColumn\n            && start.line == pos.line)) {\n            pos.hitSide = true;\n        }\n        return pos;\n    }\n    ;\n    charCoords(pos, mode) {\n        var rect = this.cm6.contentDOM.getBoundingClientRect();\n        var offset = indexFromPos(this.cm6.state.doc, pos);\n        var coords = this.cm6.coordsAtPos(offset);\n        var d = -rect.top;\n        return { left: ((coords === null || coords === void 0 ? void 0 : coords.left) || 0) - rect.left, top: ((coords === null || coords === void 0 ? void 0 : coords.top) || 0) + d, bottom: ((coords === null || coords === void 0 ? void 0 : coords.bottom) || 0) + d };\n    }\n    ;\n    coordsChar(coords, mode) {\n        var rect = this.cm6.contentDOM.getBoundingClientRect();\n        var offset = this.cm6.posAtCoords({ x: coords.left + rect.left, y: coords.top + rect.top }) || 0;\n        return posFromIndex(this.cm6.state.doc, offset);\n    }\n    ;\n    getScrollInfo() {\n        var scroller = this.cm6.scrollDOM;\n        return {\n            left: scroller.scrollLeft, top: scroller.scrollTop,\n            height: scroller.scrollHeight,\n            width: scroller.scrollWidth,\n            clientHeight: scroller.clientHeight, clientWidth: scroller.clientWidth\n        };\n    }\n    ;\n    scrollTo(x, y) {\n        if (x != null)\n            this.cm6.scrollDOM.scrollLeft = x;\n        if (y != null)\n            this.cm6.scrollDOM.scrollTop = y;\n    }\n    ;\n    scrollIntoView(pos, margin) {\n        if (pos) {\n            var offset = this.indexFromPos(pos);\n            this.cm6.dispatch({\n                effects: EditorView.scrollIntoView(offset)\n            });\n        }\n        else {\n            this.cm6.dispatch({ scrollIntoView: true, userEvent: \"scroll\" });\n        }\n    }\n    ;\n    getWrapperElement() {\n        return this.cm6.dom;\n    }\n    ;\n    // for tests\n    getMode() {\n        return { name: this.getOption(\"mode\") };\n    }\n    ;\n    setSize(w, h) {\n        this.cm6.dom.style.width = w + 4 + \"px\";\n        this.cm6.dom.style.height = h + \"px\";\n        this.refresh();\n    }\n    refresh() {\n        this.cm6.measure();\n    }\n    // event listeners\n    destroy() {\n        this.removeOverlay();\n    }\n    ;\n    getLastEditEnd() {\n        return this.posFromIndex(this.$lastChangeEndOffset);\n    }\n    ;\n    onChange(update) {\n        if (this.$lineHandleChanges) {\n            this.$lineHandleChanges.push(update);\n        }\n        for (let i in this.marks) {\n            let m = this.marks[i];\n            m.update(update.changes);\n        }\n        if (this.virtualSelection) {\n            this.virtualSelection.ranges = this.virtualSelection.ranges.map(range => range.map(update.changes));\n        }\n        var curOp = this.curOp = this.curOp || {};\n        update.changes.iterChanges((fromA, toA, fromB, toB, text) => {\n            if (curOp.$changeStart == null || curOp.$changeStart > fromB)\n                curOp.$changeStart = fromB;\n            this.$lastChangeEndOffset = toB;\n            var change = { text: text.toJSON() };\n            if (!curOp.lastChange) {\n                curOp.lastChange = curOp.change = change;\n            }\n            else {\n                curOp.lastChange.next = curOp.lastChange = change;\n            }\n        }, true);\n        if (!curOp.changeHandlers)\n            curOp.changeHandlers = this._handlers[\"change\"] && this._handlers[\"change\"].slice();\n    }\n    ;\n    onSelectionChange() {\n        var curOp = this.curOp = this.curOp || {};\n        if (!curOp.cursorActivityHandlers)\n            curOp.cursorActivityHandlers = this._handlers[\"cursorActivity\"] && this._handlers[\"cursorActivity\"].slice();\n        this.curOp.cursorActivity = true;\n    }\n    ;\n    operation(fn) {\n        if (!this.curOp)\n            this.curOp = { $d: 0 };\n        this.curOp.$d++;\n        try {\n            var result = fn();\n        }\n        finally {\n            if (this.curOp) {\n                this.curOp.$d--;\n                if (!this.curOp.$d)\n                    this.onBeforeEndOperation();\n            }\n        }\n        return result;\n    }\n    ;\n    onBeforeEndOperation() {\n        var op = this.curOp;\n        var scrollIntoView = false;\n        if (op) {\n            if (op.change) {\n                signalTo(op.changeHandlers, this, op.change);\n            }\n            if (op && op.cursorActivity) {\n                signalTo(op.cursorActivityHandlers, this, null);\n                if (op.isVimOp)\n                    scrollIntoView = true;\n            }\n            this.curOp = null;\n        }\n        if (scrollIntoView)\n            this.scrollIntoView();\n    }\n    ;\n    moveH(increment, unit) {\n        if (unit == 'char') {\n            // todo\n            var cur = this.getCursor();\n            this.setCursor(cur.line, cur.ch + increment);\n        }\n    }\n    ;\n    setOption(name, val) {\n        switch (name) {\n            case \"keyMap\":\n                this.state.keyMap = val;\n                break;\n        }\n    }\n    ;\n    getOption(name) {\n        switch (name) {\n            case \"firstLineNumber\": return 1;\n            case \"tabSize\": return this.cm6.state.tabSize || 4;\n            case \"readonly\": return this.cm6.state.readOnly;\n            case \"indentWithTabs\": return this.cm6.state.facet(indentUnit) == \"\\t\"; // TODO\n            case \"indentUnit\": return this.cm6.state.facet(indentUnit).length || 2;\n            // for tests\n            case \"keyMap\": return this.state.keyMap || \"vim\";\n        }\n    }\n    ;\n    toggleOverwrite(on) {\n        this.state.overwrite = on;\n    }\n    ;\n    getTokenTypeAt(pos) {\n        var _a;\n        // only comment|string are needed\n        var offset = this.indexFromPos(pos);\n        var tree = ensureSyntaxTree(this.cm6.state, offset);\n        var node = tree === null || tree === void 0 ? void 0 : tree.resolve(offset);\n        var type = ((_a = node === null || node === void 0 ? void 0 : node.type) === null || _a === void 0 ? void 0 : _a.name) || \"\";\n        if (/comment/i.test(type))\n            return \"comment\";\n        if (/string/i.test(type))\n            return \"string\";\n        return \"\";\n    }\n    ;\n    overWriteSelection(text) {\n        var doc = this.cm6.state.doc;\n        var sel = this.cm6.state.selection;\n        var ranges = sel.ranges.map(x => {\n            if (x.empty) {\n                var ch = x.to < doc.length ? doc.sliceString(x.from, x.to + 1) : \"\";\n                if (ch && !/\\n/.test(ch))\n                    return EditorSelection.range(x.from, x.to + 1);\n            }\n            return x;\n        });\n        this.cm6.dispatch({\n            selection: EditorSelection.create(ranges, sel.mainIndex)\n        });\n        this.replaceSelection(text);\n    }\n    /*** multiselect ****/\n    isInMultiSelectMode() {\n        return this.cm6.state.selection.ranges.length > 1;\n    }\n    virtualSelectionMode() {\n        return !!this.virtualSelection;\n    }\n    forEachSelection(command) {\n        var selection = this.cm6.state.selection;\n        this.virtualSelection = EditorSelection.create(selection.ranges, selection.mainIndex);\n        for (var i = 0; i < this.virtualSelection.ranges.length; i++) {\n            var range = this.virtualSelection.ranges[i];\n            if (!range)\n                continue;\n            this.cm6.dispatch({ selection: EditorSelection.create([range]) });\n            command();\n            this.virtualSelection.ranges[i] = this.cm6.state.selection.ranges[0];\n        }\n        this.cm6.dispatch({ selection: this.virtualSelection });\n        this.virtualSelection = null;\n    }\n}\nCodeMirror.isMac = typeof navigator != \"undefined\" && /*@__PURE__*//Mac/.test(navigator.platform);\n// --------------------------\nCodeMirror.Pos = Pos;\nCodeMirror.StringStream = StringStream;\nCodeMirror.commands = {\n    cursorCharLeft: function (cm) { cursorCharLeft(cm.cm6); },\n    redo: function (cm) { runHistoryCommand(cm, false); },\n    undo: function (cm) { runHistoryCommand(cm, true); },\n    newlineAndIndent: function (cm) {\n        insertNewlineAndIndent({\n            state: cm.cm6.state,\n            dispatch: (tr) => {\n                return dispatchChange(cm, tr);\n            }\n        });\n    },\n    indentAuto: function (cm) {\n        indentSelection(cm.cm6);\n    }\n};\nCodeMirror.defineOption = function (name, val, setter) { };\nCodeMirror.isWordChar = function (ch) {\n    return wordChar.test(ch);\n};\nCodeMirror.keys = keys;\nCodeMirror.keyMap = {};\nCodeMirror.addClass = function () { };\nCodeMirror.rmClass = function () { };\nCodeMirror.e_preventDefault = function (e) {\n    e.preventDefault();\n};\nCodeMirror.e_stop = function (e) {\n    var _a, _b;\n    (_a = e === null || e === void 0 ? void 0 : e.stopPropagation) === null || _a === void 0 ? void 0 : _a.call(e);\n    (_b = e === null || e === void 0 ? void 0 : e.preventDefault) === null || _b === void 0 ? void 0 : _b.call(e);\n};\nCodeMirror.keyName = function (e) {\n    var key = e.key;\n    if (ignoredKeys[key])\n        return;\n    if (key == \"Escape\")\n        key = \"Esc\";\n    if (key == \" \")\n        key = \"Space\";\n    if (key.length > 1) {\n        key = key.replace(/Numpad|Arrow/, \"\");\n    }\n    if (key.length == 1)\n        key = key.toUpperCase();\n    var name = '';\n    if (e.ctrlKey) {\n        name += 'Ctrl-';\n    }\n    if (e.altKey) {\n        name += 'Alt-';\n    }\n    if ((name || key.length > 1) && e.shiftKey) {\n        name += 'Shift-';\n    }\n    name += key;\n    return name;\n};\nCodeMirror.vimKey = function vimKey(e) {\n    var key = e.key;\n    if (ignoredKeys[key])\n        return;\n    if (key.length > 1 && key[0] == \"n\") {\n        key = key.replace(\"Numpad\", \"\");\n    }\n    key = specialKey[key] || key;\n    var name = '';\n    if (e.ctrlKey) {\n        name += 'C-';\n    }\n    if (e.altKey) {\n        name += 'A-';\n    }\n    if (e.metaKey) {\n        name += 'M-';\n    }\n    // on mac many characters are entered as option- combos\n    // (e.g. on swiss keyboard { is option-8)\n    // so we ignore lonely A- modifier for keypress event on mac\n    if (CodeMirror.isMac && e.altKey && !e.metaKey && !e.ctrlKey) {\n        name = name.slice(2);\n    }\n    if ((name || key.length > 1) && e.shiftKey) {\n        name += 'S-';\n    }\n    name += key;\n    if (name.length > 1) {\n        name = '<' + name + '>';\n    }\n    return name;\n};\nCodeMirror.lookupKey = function lookupKey(key, map, handle) {\n    var result = CodeMirror.keys[key];\n    if (result)\n        handle(result);\n};\nCodeMirror.on = on;\nCodeMirror.off = off;\nCodeMirror.signal = signal;\nCodeMirror.findMatchingTag = findMatchingTag;\nCodeMirror.findEnclosingTag = findEnclosingTag;\n/************* dialog *************/\nfunction dialogDiv(cm, template, bottom) {\n    var dialog = document.createElement(\"div\");\n    dialog.appendChild(template);\n    return dialog;\n}\nfunction closeNotification(cm, newVal) {\n    if (cm.state.currentNotificationClose)\n        cm.state.currentNotificationClose();\n    cm.state.currentNotificationClose = newVal;\n}\nfunction openNotification(cm, template, options) {\n    closeNotification(cm, close);\n    var dialog = dialogDiv(cm, template, options && options.bottom);\n    var closed = false;\n    var doneTimer;\n    var duration = options && typeof options.duration !== \"undefined\" ? options.duration : 5000;\n    function close() {\n        if (closed)\n            return;\n        closed = true;\n        clearTimeout(doneTimer);\n        dialog.remove();\n        hideDialog(cm, dialog);\n    }\n    dialog.onclick = function (e) {\n        e.preventDefault();\n        close();\n    };\n    showDialog(cm, dialog);\n    if (duration)\n        doneTimer = setTimeout(close, duration);\n    return close;\n}\nfunction showDialog(cm, dialog) {\n    var oldDialog = cm.state.dialog;\n    cm.state.dialog = dialog;\n    if (dialog && oldDialog !== dialog) {\n        if (oldDialog && oldDialog.contains(document.activeElement))\n            cm.focus();\n        if (oldDialog && oldDialog.parentElement) {\n            oldDialog.parentElement.replaceChild(dialog, oldDialog);\n        }\n        else if (oldDialog) {\n            oldDialog.remove();\n        }\n        CodeMirror.signal(cm, \"dialog\");\n    }\n}\nfunction hideDialog(cm, dialog) {\n    if (cm.state.dialog == dialog) {\n        cm.state.dialog = null;\n        CodeMirror.signal(cm, \"dialog\");\n    }\n}\nfunction openDialog(me, template, callback, options) {\n    if (!options)\n        options = {};\n    closeNotification(me, undefined);\n    var dialog = dialogDiv(me, template, options.bottom);\n    var closed = false;\n    showDialog(me, dialog);\n    function close(newVal) {\n        if (typeof newVal == 'string') {\n            inp.value = newVal;\n        }\n        else {\n            if (closed)\n                return;\n            closed = true;\n            hideDialog(me, dialog);\n            if (!me.state.dialog)\n                me.focus();\n            if (options.onClose)\n                options.onClose(dialog);\n        }\n    }\n    var inp = dialog.getElementsByTagName(\"input\")[0];\n    if (inp) {\n        if (options.value) {\n            inp.value = options.value;\n            if (options.selectValueOnOpen !== false)\n                inp.select();\n        }\n        if (options.onInput)\n            CodeMirror.on(inp, \"input\", function (e) { options.onInput(e, inp.value, close); });\n        if (options.onKeyUp)\n            CodeMirror.on(inp, \"keyup\", function (e) { options.onKeyUp(e, inp.value, close); });\n        CodeMirror.on(inp, \"keydown\", function (e) {\n            if (options && options.onKeyDown && options.onKeyDown(e, inp.value, close)) {\n                return;\n            }\n            if (e.keyCode == 13)\n                callback(inp.value);\n            if (e.keyCode == 27 || (options.closeOnEnter !== false && e.keyCode == 13)) {\n                inp.blur();\n                CodeMirror.e_stop(e);\n                close();\n            }\n        });\n        if (options.closeOnBlur !== false)\n            CodeMirror.on(inp, \"blur\", function () {\n                setTimeout(function () {\n                    if (document.activeElement === inp)\n                        return;\n                    close();\n                });\n            });\n        inp.focus();\n    }\n    return close;\n}\nvar matching = { \"(\": \")>\", \")\": \"(<\", \"[\": \"]>\", \"]\": \"[<\", \"{\": \"}>\", \"}\": \"{<\", \"<\": \">>\", \">\": \"<<\" };\nfunction bracketRegex(config) {\n    return config && config.bracketRegex || /[(){}[\\]]/;\n}\nfunction scanForBracket(cm, where, dir, style, config) {\n    var maxScanLen = (config && config.maxScanLineLength) || 10000;\n    var maxScanLines = (config && config.maxScanLines) || 1000;\n    var stack = [];\n    var re = bracketRegex(config);\n    var lineEnd = dir > 0 ? Math.min(where.line + maxScanLines, cm.lastLine() + 1)\n        : Math.max(cm.firstLine() - 1, where.line - maxScanLines);\n    for (var lineNo = where.line; lineNo != lineEnd; lineNo += dir) {\n        var line = cm.getLine(lineNo);\n        if (!line)\n            continue;\n        var pos = dir > 0 ? 0 : line.length - 1, end = dir > 0 ? line.length : -1;\n        if (line.length > maxScanLen)\n            continue;\n        if (lineNo == where.line)\n            pos = where.ch - (dir < 0 ? 1 : 0);\n        for (; pos != end; pos += dir) {\n            var ch = line.charAt(pos);\n            if (re.test(ch) /*&& (style === undefined ||\n                                (cm.getTokenTypeAt(new Pos(lineNo, pos + 1)) || \"\") == (style || \"\"))*/) {\n                var match = matching[ch];\n                if (match && (match.charAt(1) == \">\") == (dir > 0))\n                    stack.push(ch);\n                else if (!stack.length)\n                    return { pos: new Pos(lineNo, pos), ch: ch };\n                else\n                    stack.pop();\n            }\n        }\n    }\n    return lineNo - dir == (dir > 0 ? cm.lastLine() : cm.firstLine()) ? false : null;\n}\nfunction findMatchingTag(cm, pos) {\n}\nfunction findEnclosingTag(cm, pos) {\n    var _a, _b;\n    var state = cm.cm6.state;\n    var offset = cm.indexFromPos(pos);\n    if (offset < state.doc.length) {\n        var text = state.sliceDoc(offset, offset + 1);\n        if (text == \"<\")\n            offset++;\n    }\n    var tree = ensureSyntaxTree(state, offset);\n    var node = (tree === null || tree === void 0 ? void 0 : tree.resolve(offset)) || null;\n    while (node) {\n        if (((_a = node.firstChild) === null || _a === void 0 ? void 0 : _a.type.name) == 'OpenTag'\n            && ((_b = node.lastChild) === null || _b === void 0 ? void 0 : _b.type.name) == 'CloseTag') {\n            return {\n                open: convertRange(state.doc, node.firstChild),\n                close: convertRange(state.doc, node.lastChild),\n            };\n        }\n        node = node.parent;\n    }\n}\nfunction convertRange(doc, cm6Range) {\n    return {\n        from: posFromIndex(doc, cm6Range.from),\n        to: posFromIndex(doc, cm6Range.to)\n    };\n}\nclass Marker {\n    constructor(cm, offset, assoc) {\n        this.cm = cm;\n        this.id = cm.$mid++;\n        this.offset = offset;\n        this.assoc = assoc;\n        cm.marks[this.id] = this;\n    }\n    ;\n    clear() { delete this.cm.marks[this.id]; }\n    ;\n    find() {\n        if (this.offset == null)\n            return null;\n        return this.cm.posFromIndex(this.offset);\n    }\n    ;\n    update(change) {\n        if (this.offset != null)\n            this.offset = change.mapPos(this.offset, this.assoc, MapMode.TrackDel);\n    }\n}\n\nclass Piece {\n    constructor(left, top, height, fontFamily, fontSize, fontWeight, color, className, letter, partial) {\n        this.left = left;\n        this.top = top;\n        this.height = height;\n        this.fontFamily = fontFamily;\n        this.fontSize = fontSize;\n        this.fontWeight = fontWeight;\n        this.color = color;\n        this.className = className;\n        this.letter = letter;\n        this.partial = partial;\n    }\n    draw() {\n        let elt = document.createElement(\"div\");\n        elt.className = this.className;\n        this.adjust(elt);\n        return elt;\n    }\n    adjust(elt) {\n        elt.style.left = this.left + \"px\";\n        elt.style.top = this.top + \"px\";\n        elt.style.height = this.height + \"px\";\n        elt.style.lineHeight = this.height + \"px\";\n        elt.style.fontFamily = this.fontFamily;\n        elt.style.fontSize = this.fontSize;\n        elt.style.fontWeight = this.fontWeight;\n        elt.style.color = this.partial ? \"transparent\" : this.color;\n        elt.className = this.className;\n        elt.textContent = this.letter;\n    }\n    eq(p) {\n        return this.left == p.left && this.top == p.top && this.height == p.height &&\n            this.fontFamily == p.fontFamily && this.fontSize == p.fontSize &&\n            this.fontWeight == p.fontWeight && this.color == p.color &&\n            this.className == p.className &&\n            this.letter == p.letter;\n    }\n}\nclass BlockCursorPlugin {\n    constructor(view, cm) {\n        this.view = view;\n        this.rangePieces = [];\n        this.cursors = [];\n        this.cm = cm;\n        this.measureReq = { read: this.readPos.bind(this), write: this.drawSel.bind(this) };\n        this.cursorLayer = view.scrollDOM.appendChild(document.createElement(\"div\"));\n        this.cursorLayer.className = \"cm-cursorLayer cm-vimCursorLayer\";\n        this.cursorLayer.setAttribute(\"aria-hidden\", \"true\");\n        view.requestMeasure(this.measureReq);\n        this.setBlinkRate();\n    }\n    setBlinkRate() {\n        this.cursorLayer.style.animationDuration = 1200 + \"ms\";\n    }\n    update(update) {\n        if (update.selectionSet || update.geometryChanged || update.viewportChanged) {\n            this.view.requestMeasure(this.measureReq);\n            this.cursorLayer.style.animationName = this.cursorLayer.style.animationName == \"cm-blink\" ? \"cm-blink2\" : \"cm-blink\";\n        }\n    }\n    scheduleRedraw() {\n        this.view.requestMeasure(this.measureReq);\n    }\n    readPos() {\n        let { state } = this.view;\n        let cursors = [];\n        for (let r of state.selection.ranges) {\n            let prim = r == state.selection.main;\n            let piece = measureCursor(this.cm, this.view, r, prim);\n            if (piece)\n                cursors.push(piece);\n        }\n        return { cursors };\n    }\n    drawSel({ cursors }) {\n        if (cursors.length != this.cursors.length || cursors.some((c, i) => !c.eq(this.cursors[i]))) {\n            let oldCursors = this.cursorLayer.children;\n            if (oldCursors.length !== cursors.length) {\n                this.cursorLayer.textContent = \"\";\n                for (const c of cursors)\n                    this.cursorLayer.appendChild(c.draw());\n            }\n            else {\n                cursors.forEach((c, idx) => c.adjust(oldCursors[idx]));\n            }\n            this.cursors = cursors;\n        }\n    }\n    destroy() {\n        this.cursorLayer.remove();\n    }\n}\nconst themeSpec = {\n    \".cm-vimMode .cm-line\": {\n        \"& ::selection\": { backgroundColor: \"transparent !important\" },\n        \"&::selection\": { backgroundColor: \"transparent !important\" },\n        caretColor: \"transparent !important\",\n    },\n    \".cm-fat-cursor\": {\n        position: \"absolute\",\n        background: \"#ff9696\",\n        border: \"none\",\n        whiteSpace: \"pre\",\n    },\n    \"&:not(.cm-focused) .cm-fat-cursor\": {\n        background: \"none\",\n        outline: \"solid 1px #ff9696\",\n        color: \"transparent !important\",\n    },\n};\nconst hideNativeSelection = /*@__PURE__*/Prec.highest(/*@__PURE__*/EditorView.theme(themeSpec));\nfunction getBase(view) {\n    let rect = view.scrollDOM.getBoundingClientRect();\n    let left = view.textDirection == Direction.LTR ? rect.left : rect.right - view.scrollDOM.clientWidth;\n    return { left: left - view.scrollDOM.scrollLeft, top: rect.top - view.scrollDOM.scrollTop };\n}\nfunction measureCursor(cm, view, cursor, primary) {\n    let head = cursor.head;\n    let fatCursor = false;\n    let hCoeff = 1;\n    let vim = cm.state.vim;\n    if (vim && (!vim.insertMode || cm.state.overwrite)) {\n        fatCursor = true;\n        if (vim.visualBlock && !primary)\n            return null;\n        if (cursor.anchor < cursor.head)\n            head--;\n        if (cm.state.overwrite)\n            hCoeff = 0.2;\n        else if (vim.status)\n            hCoeff = 0.5;\n    }\n    if (fatCursor) {\n        let letter = head < view.state.doc.length && view.state.sliceDoc(head, head + 1);\n        if (letter && (/[\\uDC00-\\uDFFF]/.test(letter) && head > 1)) {\n            // step back if cursor is on the second half of a surrogate pair\n            head--;\n            letter = view.state.sliceDoc(head, head + 1);\n        }\n        let pos = view.coordsAtPos(head, 1);\n        if (!pos)\n            return null;\n        let base = getBase(view);\n        let domAtPos = view.domAtPos(head);\n        let node = domAtPos ? domAtPos.node : view.contentDOM;\n        while (domAtPos && domAtPos.node instanceof HTMLElement) {\n            node = domAtPos.node;\n            domAtPos = { node: domAtPos.node.childNodes[domAtPos.offset], offset: 0 };\n        }\n        if (!(node instanceof HTMLElement)) {\n            if (!node.parentNode)\n                return null;\n            node = node.parentNode;\n        }\n        let style = getComputedStyle(node);\n        let left = pos.left;\n        if (!letter || letter == \"\\n\" || letter == \"\\r\") {\n            letter = \"\\xa0\";\n        }\n        else if (letter == \"\\t\") {\n            letter = \"\\xa0\";\n            var nextPos = view.coordsAtPos(head + 1, -1);\n            if (nextPos) {\n                left = nextPos.left - (nextPos.left - pos.left) / parseInt(style.tabSize);\n            }\n        }\n        else if ((/[\\uD800-\\uDBFF]/.test(letter) && head < view.state.doc.length - 1)) {\n            // include the second half of a surrogate pair in cursor\n            letter += view.state.sliceDoc(head + 1, head + 2);\n        }\n        let h = (pos.bottom - pos.top);\n        return new Piece(left - base.left, pos.top - base.top + h * (1 - hCoeff), h * hCoeff, style.fontFamily, style.fontSize, style.fontWeight, style.color, primary ? \"cm-fat-cursor cm-cursor-primary\" : \"cm-fat-cursor cm-cursor-secondary\", letter, hCoeff != 1);\n    }\n    else {\n        return null;\n    }\n}\n\nvar FIREFOX_LINUX = typeof navigator != \"undefined\"\n    && /*@__PURE__*//linux/i.test(navigator.platform)\n    && /*@__PURE__*// Gecko\\/\\d+/.exec(navigator.userAgent);\nconst Vim = /*@__PURE__*/initVim(CodeMirror);\nconst HighlightMargin = 250;\nconst vimStyle = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-vimMode .cm-cursorLayer:not(.cm-vimCursorLayer)\": {\n        display: \"none\",\n    },\n    \".cm-vim-panel\": {\n        padding: \"0px 10px\",\n        fontFamily: \"monospace\",\n        minHeight: \"1.3em\",\n    },\n    \".cm-vim-panel input\": {\n        border: \"none\",\n        outline: \"none\",\n        backgroundColor: \"inherit\",\n    },\n    \"&light .cm-searchMatch\": { backgroundColor: \"#ffff0054\" },\n    \"&dark .cm-searchMatch\": { backgroundColor: \"#00ffff8a\" },\n});\nconst vimPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.status = \"\";\n        this.query = null;\n        this.decorations = Decoration.none;\n        this.waitForCopy = false;\n        this.lastKeydown = '';\n        this.useNextTextInput = false;\n        this.view = view;\n        const cm = (this.cm = new CodeMirror(view));\n        Vim.enterVimMode(this.cm);\n        this.view.cm = this.cm;\n        this.cm.state.vimPlugin = this;\n        this.blockCursor = new BlockCursorPlugin(view, cm);\n        this.updateClass();\n        this.cm.on(\"vim-command-done\", () => {\n            if (cm.state.vim)\n                cm.state.vim.status = \"\";\n            this.blockCursor.scheduleRedraw();\n            this.updateStatus();\n        });\n        this.cm.on(\"vim-mode-change\", (e) => {\n            cm.state.vim.mode = e.mode;\n            if (e.subMode) {\n                cm.state.vim.mode += \" block\";\n            }\n            cm.state.vim.status = \"\";\n            this.blockCursor.scheduleRedraw();\n            this.updateClass();\n            this.updateStatus();\n        });\n        this.cm.on(\"dialog\", () => {\n            if (this.cm.state.statusbar) {\n                this.updateStatus();\n            }\n            else {\n                view.dispatch({\n                    effects: showVimPanel.of(!!this.cm.state.dialog),\n                });\n            }\n        });\n        this.dom = document.createElement(\"span\");\n        this.dom.style.cssText = \"position: absolute; right: 10px; top: 1px\";\n        this.statusButton = document.createElement(\"span\");\n        this.statusButton.onclick = (e) => {\n            Vim.handleKey(this.cm, \"<Esc>\", \"user\");\n            this.cm.focus();\n        };\n        this.statusButton.style.cssText = \"cursor: pointer\";\n    }\n    update(update) {\n        var _a;\n        if ((update.viewportChanged || update.docChanged) && this.query) {\n            this.highlight(this.query);\n        }\n        if (update.docChanged) {\n            this.cm.onChange(update);\n        }\n        if (update.selectionSet) {\n            this.cm.onSelectionChange();\n        }\n        if (update.viewportChanged) ;\n        if (this.cm.curOp && !this.cm.curOp.isVimOp) {\n            this.cm.onBeforeEndOperation();\n        }\n        if (update.transactions) {\n            for (let tr of update.transactions)\n                for (let effect of tr.effects) {\n                    if (effect.is(setSearchQuery)) {\n                        let forVim = (_a = effect.value) === null || _a === void 0 ? void 0 : _a.forVim;\n                        if (!forVim) {\n                            this.highlight(null);\n                        }\n                        else {\n                            let query = effect.value.create();\n                            this.highlight(query);\n                        }\n                    }\n                }\n        }\n        this.blockCursor.update(update);\n    }\n    updateClass() {\n        const state = this.cm.state;\n        if (!state.vim || (state.vim.insertMode && !state.overwrite))\n            this.view.scrollDOM.classList.remove(\"cm-vimMode\");\n        else\n            this.view.scrollDOM.classList.add(\"cm-vimMode\");\n    }\n    updateStatus() {\n        let dom = this.cm.state.statusbar;\n        let vim = this.cm.state.vim;\n        if (!dom || !vim)\n            return;\n        let dialog = this.cm.state.dialog;\n        if (dialog) {\n            if (dialog.parentElement != dom) {\n                dom.textContent = \"\";\n                dom.appendChild(dialog);\n            }\n        }\n        else {\n            dom.textContent = \"\";\n            var status = (vim.mode || \"normal\").toUpperCase();\n            if (vim.insertModeReturn)\n                status += \"(C-O)\";\n            this.statusButton.textContent = `--${status}--`;\n            dom.appendChild(this.statusButton);\n        }\n        this.dom.textContent = vim.status;\n        dom.appendChild(this.dom);\n    }\n    destroy() {\n        Vim.leaveVimMode(this.cm);\n        this.updateClass();\n        this.blockCursor.destroy();\n        delete this.view.cm;\n    }\n    highlight(query) {\n        this.query = query;\n        if (!query)\n            return (this.decorations = Decoration.none);\n        let { view } = this;\n        let builder = new RangeSetBuilder();\n        for (let i = 0, ranges = view.visibleRanges, l = ranges.length; i < l; i++) {\n            let { from, to } = ranges[i];\n            while (i < l - 1 && to > ranges[i + 1].from - 2 * HighlightMargin)\n                to = ranges[++i].to;\n            query.highlight(view.state, from, to, (from, to) => {\n                builder.add(from, to, matchMark);\n            });\n        }\n        return (this.decorations = builder.finish());\n    }\n    handleKey(e, view) {\n        const key = CodeMirror.vimKey(e);\n        const cm = this.cm;\n        if (!key)\n            return;\n        let vim = cm.state.vim;\n        if (!vim)\n            return;\n        // clear search highlight\n        if (key == \"<Esc>\" &&\n            !vim.insertMode &&\n            !vim.visualMode &&\n            this.query /* && !cm.inMultiSelectMode*/) {\n            const searchState = vim.searchState_;\n            if (searchState) {\n                cm.removeOverlay(searchState.getOverlay());\n                searchState.setOverlay(null);\n            }\n        }\n        let isCopy = key === \"<C-c>\" && !CodeMirror.isMac;\n        if (isCopy && cm.somethingSelected()) {\n            this.waitForCopy = true;\n            return true;\n        }\n        vim.status = (vim.status || \"\") + key;\n        let result = Vim.multiSelectHandleKey(cm, key, \"user\");\n        vim = cm.state.vim; // the object can change if there is an exception in handleKey\n        // insert mode\n        if (!result && vim.insertMode && cm.state.overwrite) {\n            if (e.key && e.key.length == 1 && !/\\n/.test(e.key)) {\n                result = true;\n                cm.overWriteSelection(e.key);\n            }\n            else if (e.key == \"Backspace\") {\n                result = true;\n                CodeMirror.commands.cursorCharLeft(cm);\n            }\n        }\n        if (result) {\n            CodeMirror.signal(this.cm, 'vim-keypress', key);\n            e.preventDefault();\n            e.stopPropagation();\n            this.blockCursor.scheduleRedraw();\n        }\n        this.updateStatus();\n        return !!result;\n    }\n}, {\n    eventHandlers: {\n        copy: function (e, view) {\n            if (!this.waitForCopy)\n                return;\n            this.waitForCopy = false;\n            Promise.resolve().then(() => {\n                var cm = this.cm;\n                var vim = cm.state.vim;\n                if (!vim)\n                    return;\n                if (vim.insertMode) {\n                    cm.setSelection(cm.getCursor(), cm.getCursor());\n                }\n                else {\n                    cm.operation(() => {\n                        if (cm.curOp)\n                            cm.curOp.isVimOp = true;\n                        Vim.handleKey(cm, '<Esc>', 'user');\n                    });\n                }\n            });\n        },\n        compositionstart: function (e, view) {\n            this.useNextTextInput = true;\n        },\n        keypress: function (e, view) {\n            if (this.lastKeydown == \"Dead\")\n                this.handleKey(e, view);\n        },\n        keydown: function (e, view) {\n            this.lastKeydown = e.key;\n            if (this.lastKeydown == \"Unidentified\"\n                || this.lastKeydown == \"Process\"\n                || this.lastKeydown == \"Dead\") {\n                this.useNextTextInput = true;\n            }\n            else {\n                this.useNextTextInput = false;\n                this.handleKey(e, view);\n            }\n        },\n    },\n    provide: () => {\n        return [\n            EditorView.inputHandler.of((view, from, to, text) => {\n                var _a, _b;\n                var cm = getCM(view);\n                if (!cm)\n                    return false;\n                var vim = (_a = cm.state) === null || _a === void 0 ? void 0 : _a.vim;\n                var vimPlugin = cm.state.vimPlugin;\n                if (vim && !vim.insertMode && !((_b = cm.curOp) === null || _b === void 0 ? void 0 : _b.isVimOp)) {\n                    if (text === \"\\0\\0\") {\n                        return true;\n                    }\n                    if (text.length == 1 && vimPlugin.useNextTextInput) {\n                        vimPlugin.handleKey({\n                            key: text,\n                            preventDefault: () => { },\n                            stopPropagation: () => { }\n                        });\n                    }\n                    forceEndComposition(view);\n                    return true;\n                }\n                return false;\n            })\n        ];\n    },\n    decorations: (v) => v.decorations,\n});\n/**\n * removes contenteditable element and adds it back to end\n * IME composition in normal mode\n * this method works on all browsers except for Firefox on Linux\n * where we need to reset textContent of editor\n * (which doesn't work on other browsers)\n */\nfunction forceEndComposition(view) {\n    var parent = view.scrollDOM.parentElement;\n    if (!parent)\n        return;\n    if (FIREFOX_LINUX) {\n        view.contentDOM.textContent = \"\\0\\0\";\n        view.contentDOM.dispatchEvent(new CustomEvent(\"compositionend\"));\n        return;\n    }\n    var sibling = view.scrollDOM.nextSibling;\n    var selection = window.getSelection();\n    var savedSelection = selection && {\n        anchorNode: selection.anchorNode,\n        anchorOffset: selection.anchorOffset,\n        focusNode: selection.focusNode,\n        focusOffset: selection.focusOffset\n    };\n    view.scrollDOM.remove();\n    parent.insertBefore(view.scrollDOM, sibling);\n    try {\n        if (savedSelection && selection) {\n            selection.setPosition(savedSelection.anchorNode, savedSelection.anchorOffset);\n            if (savedSelection.focusNode) {\n                selection.extend(savedSelection.focusNode, savedSelection.focusOffset);\n            }\n        }\n    }\n    catch (e) {\n        console.error(e);\n    }\n    view.focus();\n    view.contentDOM.dispatchEvent(new CustomEvent(\"compositionend\"));\n}\nconst matchMark = /*@__PURE__*/Decoration.mark({ class: \"cm-searchMatch\" });\nconst showVimPanel = /*@__PURE__*/StateEffect.define();\nconst vimPanelState = /*@__PURE__*/StateField.define({\n    create: () => false,\n    update(value, tr) {\n        for (let e of tr.effects)\n            if (e.is(showVimPanel))\n                value = e.value;\n        return value;\n    },\n    provide: (f) => {\n        return showPanel.from(f, (on) => (on ? createVimPanel : null));\n    },\n});\nfunction createVimPanel(view) {\n    let dom = document.createElement(\"div\");\n    dom.className = \"cm-vim-panel\";\n    let cm = view.cm;\n    if (cm.state.dialog) {\n        dom.appendChild(cm.state.dialog);\n    }\n    return { top: false, dom };\n}\nfunction statusPanel(view) {\n    let dom = document.createElement(\"div\");\n    dom.className = \"cm-vim-panel\";\n    let cm = view.cm;\n    cm.state.statusbar = dom;\n    cm.state.vimPlugin.updateStatus();\n    return { dom };\n}\nfunction vim(options = {}) {\n    return [\n        vimStyle,\n        vimPlugin,\n        hideNativeSelection,\n        options.status ? showPanel.of(statusPanel) : vimPanelState,\n    ];\n}\nfunction getCM(view) {\n    return view.cm || null;\n}\n\nexport { CodeMirror, Vim, getCM, vim };\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}","import { Decoration, showPanel, EditorView, ViewPlugin, logException, gutter, showTooltip, getPanel, WidgetType, hoverTooltip, GutterMarker } from '@codemirror/view';\nimport { StateEffect, StateField, Facet, combineConfig, RangeSet } from '@codemirror/state';\nimport elt from 'crelt';\n\nclass SelectedDiagnostic {\n    constructor(from, to, diagnostic) {\n        this.from = from;\n        this.to = to;\n        this.diagnostic = diagnostic;\n    }\n}\nclass LintState {\n    constructor(diagnostics, panel, selected) {\n        this.diagnostics = diagnostics;\n        this.panel = panel;\n        this.selected = selected;\n    }\n    static init(diagnostics, panel, state) {\n        // Filter the list of diagnostics for which to create markers\n        let markedDiagnostics = diagnostics;\n        let diagnosticFilter = state.facet(lintConfig).markerFilter;\n        if (diagnosticFilter)\n            markedDiagnostics = diagnosticFilter(markedDiagnostics);\n        let ranges = Decoration.set(markedDiagnostics.map((d) => {\n            // For zero-length ranges or ranges covering only a line break, create a widget\n            return d.from == d.to || (d.from == d.to - 1 && state.doc.lineAt(d.from).to == d.from)\n                ? Decoration.widget({\n                    widget: new DiagnosticWidget(d),\n                    diagnostic: d\n                }).range(d.from)\n                : Decoration.mark({\n                    attributes: { class: \"cm-lintRange cm-lintRange-\" + d.severity },\n                    diagnostic: d\n                }).range(d.from, d.to);\n        }), true);\n        return new LintState(ranges, panel, findDiagnostic(ranges));\n    }\n}\nfunction findDiagnostic(diagnostics, diagnostic = null, after = 0) {\n    let found = null;\n    diagnostics.between(after, 1e9, (from, to, { spec }) => {\n        if (diagnostic && spec.diagnostic != diagnostic)\n            return;\n        found = new SelectedDiagnostic(from, to, spec.diagnostic);\n        return false;\n    });\n    return found;\n}\nfunction hideTooltip(tr, tooltip) {\n    return !!(tr.effects.some(e => e.is(setDiagnosticsEffect)) || tr.changes.touchesRange(tooltip.pos));\n}\nfunction maybeEnableLint(state, effects) {\n    return state.field(lintState, false) ? effects : effects.concat(StateEffect.appendConfig.of([\n        lintState,\n        EditorView.decorations.compute([lintState], state => {\n            let { selected, panel } = state.field(lintState);\n            return !selected || !panel || selected.from == selected.to ? Decoration.none : Decoration.set([\n                activeMark.range(selected.from, selected.to)\n            ]);\n        }),\n        hoverTooltip(lintTooltip, { hideOn: hideTooltip }),\n        baseTheme\n    ]));\n}\n/**\nReturns a transaction spec which updates the current set of\ndiagnostics, and enables the lint extension if if wasn't already\nactive.\n*/\nfunction setDiagnostics(state, diagnostics) {\n    return {\n        effects: maybeEnableLint(state, [setDiagnosticsEffect.of(diagnostics)])\n    };\n}\n/**\nThe state effect that updates the set of active diagnostics. Can\nbe useful when writing an extension that needs to track these.\n*/\nconst setDiagnosticsEffect = /*@__PURE__*/StateEffect.define();\nconst togglePanel = /*@__PURE__*/StateEffect.define();\nconst movePanelSelection = /*@__PURE__*/StateEffect.define();\nconst lintState = /*@__PURE__*/StateField.define({\n    create() {\n        return new LintState(Decoration.none, null, null);\n    },\n    update(value, tr) {\n        if (tr.docChanged) {\n            let mapped = value.diagnostics.map(tr.changes), selected = null;\n            if (value.selected) {\n                let selPos = tr.changes.mapPos(value.selected.from, 1);\n                selected = findDiagnostic(mapped, value.selected.diagnostic, selPos) || findDiagnostic(mapped, null, selPos);\n            }\n            value = new LintState(mapped, value.panel, selected);\n        }\n        for (let effect of tr.effects) {\n            if (effect.is(setDiagnosticsEffect)) {\n                value = LintState.init(effect.value, value.panel, tr.state);\n            }\n            else if (effect.is(togglePanel)) {\n                value = new LintState(value.diagnostics, effect.value ? LintPanel.open : null, value.selected);\n            }\n            else if (effect.is(movePanelSelection)) {\n                value = new LintState(value.diagnostics, value.panel, effect.value);\n            }\n        }\n        return value;\n    },\n    provide: f => [showPanel.from(f, val => val.panel),\n        EditorView.decorations.from(f, s => s.diagnostics)]\n});\n/**\nReturns the number of active lint diagnostics in the given state.\n*/\nfunction diagnosticCount(state) {\n    let lint = state.field(lintState, false);\n    return lint ? lint.diagnostics.size : 0;\n}\nconst activeMark = /*@__PURE__*/Decoration.mark({ class: \"cm-lintRange cm-lintRange-active\" });\nfunction lintTooltip(view, pos, side) {\n    let { diagnostics } = view.state.field(lintState);\n    let found = [], stackStart = 2e8, stackEnd = 0;\n    diagnostics.between(pos - (side < 0 ? 1 : 0), pos + (side > 0 ? 1 : 0), (from, to, { spec }) => {\n        if (pos >= from && pos <= to &&\n            (from == to || ((pos > from || side > 0) && (pos < to || side < 0)))) {\n            found.push(spec.diagnostic);\n            stackStart = Math.min(from, stackStart);\n            stackEnd = Math.max(to, stackEnd);\n        }\n    });\n    let diagnosticFilter = view.state.facet(lintConfig).tooltipFilter;\n    if (diagnosticFilter)\n        found = diagnosticFilter(found);\n    if (!found.length)\n        return null;\n    return {\n        pos: stackStart,\n        end: stackEnd,\n        above: view.state.doc.lineAt(stackStart).to < stackEnd,\n        create() {\n            return { dom: diagnosticsTooltip(view, found) };\n        }\n    };\n}\nfunction diagnosticsTooltip(view, diagnostics) {\n    return elt(\"ul\", { class: \"cm-tooltip-lint\" }, diagnostics.map(d => renderDiagnostic(view, d, false)));\n}\n/**\nCommand to open and focus the lint panel.\n*/\nconst openLintPanel = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field || !field.panel)\n        view.dispatch({ effects: maybeEnableLint(view.state, [togglePanel.of(true)]) });\n    let panel = getPanel(view, LintPanel.open);\n    if (panel)\n        panel.dom.querySelector(\".cm-panel-lint ul\").focus();\n    return true;\n};\n/**\nCommand to close the lint panel, when open.\n*/\nconst closeLintPanel = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field || !field.panel)\n        return false;\n    view.dispatch({ effects: togglePanel.of(false) });\n    return true;\n};\n/**\nMove the selection to the next diagnostic.\n*/\nconst nextDiagnostic = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field)\n        return false;\n    let sel = view.state.selection.main, next = field.diagnostics.iter(sel.to + 1);\n    if (!next.value) {\n        next = field.diagnostics.iter(0);\n        if (!next.value || next.from == sel.from && next.to == sel.to)\n            return false;\n    }\n    view.dispatch({ selection: { anchor: next.from, head: next.to }, scrollIntoView: true });\n    return true;\n};\n/**\nA set of default key bindings for the lint functionality.\n\n- Ctrl-Shift-m (Cmd-Shift-m on macOS): [`openLintPanel`](https://codemirror.net/6/docs/ref/#lint.openLintPanel)\n- F8: [`nextDiagnostic`](https://codemirror.net/6/docs/ref/#lint.nextDiagnostic)\n*/\nconst lintKeymap = [\n    { key: \"Mod-Shift-m\", run: openLintPanel, preventDefault: true },\n    { key: \"F8\", run: nextDiagnostic }\n];\nconst lintPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.timeout = -1;\n        this.set = true;\n        let { delay } = view.state.facet(lintConfig);\n        this.lintTime = Date.now() + delay;\n        this.run = this.run.bind(this);\n        this.timeout = setTimeout(this.run, delay);\n    }\n    run() {\n        let now = Date.now();\n        if (now < this.lintTime - 10) {\n            setTimeout(this.run, this.lintTime - now);\n        }\n        else {\n            this.set = false;\n            let { state } = this.view, { sources } = state.facet(lintConfig);\n            Promise.all(sources.map(source => Promise.resolve(source(this.view)))).then(annotations => {\n                let all = annotations.reduce((a, b) => a.concat(b));\n                if (this.view.state.doc == state.doc)\n                    this.view.dispatch(setDiagnostics(this.view.state, all));\n            }, error => { logException(this.view.state, error); });\n        }\n    }\n    update(update) {\n        let config = update.state.facet(lintConfig);\n        if (update.docChanged || config != update.startState.facet(lintConfig)) {\n            this.lintTime = Date.now() + config.delay;\n            if (!this.set) {\n                this.set = true;\n                this.timeout = setTimeout(this.run, config.delay);\n            }\n        }\n    }\n    force() {\n        if (this.set) {\n            this.lintTime = Date.now();\n            this.run();\n        }\n    }\n    destroy() {\n        clearTimeout(this.timeout);\n    }\n});\nconst lintConfig = /*@__PURE__*/Facet.define({\n    combine(input) {\n        return Object.assign({ sources: input.map(i => i.source) }, combineConfig(input.map(i => i.config), {\n            delay: 750,\n            markerFilter: null,\n            tooltipFilter: null\n        }));\n    },\n    enables: lintPlugin\n});\n/**\nGiven a diagnostic source, this function returns an extension that\nenables linting with that source. It will be called whenever the\neditor is idle (after its content changed).\n*/\nfunction linter(source, config = {}) {\n    return lintConfig.of({ source, config });\n}\n/**\nForces any linters [configured](https://codemirror.net/6/docs/ref/#lint.linter) to run when the\neditor is idle to run right away.\n*/\nfunction forceLinting(view) {\n    let plugin = view.plugin(lintPlugin);\n    if (plugin)\n        plugin.force();\n}\nfunction assignKeys(actions) {\n    let assigned = [];\n    if (actions)\n        actions: for (let { name } of actions) {\n            for (let i = 0; i < name.length; i++) {\n                let ch = name[i];\n                if (/[a-zA-Z]/.test(ch) && !assigned.some(c => c.toLowerCase() == ch.toLowerCase())) {\n                    assigned.push(ch);\n                    continue actions;\n                }\n            }\n            assigned.push(\"\");\n        }\n    return assigned;\n}\nfunction renderDiagnostic(view, diagnostic, inPanel) {\n    var _a;\n    let keys = inPanel ? assignKeys(diagnostic.actions) : [];\n    return elt(\"li\", { class: \"cm-diagnostic cm-diagnostic-\" + diagnostic.severity }, elt(\"span\", { class: \"cm-diagnosticText\" }, diagnostic.renderMessage ? diagnostic.renderMessage() : diagnostic.message), (_a = diagnostic.actions) === null || _a === void 0 ? void 0 : _a.map((action, i) => {\n        let click = (e) => {\n            e.preventDefault();\n            let found = findDiagnostic(view.state.field(lintState).diagnostics, diagnostic);\n            if (found)\n                action.apply(view, found.from, found.to);\n        };\n        let { name } = action, keyIndex = keys[i] ? name.indexOf(keys[i]) : -1;\n        let nameElt = keyIndex < 0 ? name : [name.slice(0, keyIndex),\n            elt(\"u\", name.slice(keyIndex, keyIndex + 1)),\n            name.slice(keyIndex + 1)];\n        return elt(\"button\", {\n            type: \"button\",\n            class: \"cm-diagnosticAction\",\n            onclick: click,\n            onmousedown: click,\n            \"aria-label\": ` Action: ${name}${keyIndex < 0 ? \"\" : ` (access key \"${keys[i]})\"`}.`\n        }, nameElt);\n    }), diagnostic.source && elt(\"div\", { class: \"cm-diagnosticSource\" }, diagnostic.source));\n}\nclass DiagnosticWidget extends WidgetType {\n    constructor(diagnostic) {\n        super();\n        this.diagnostic = diagnostic;\n    }\n    eq(other) { return other.diagnostic == this.diagnostic; }\n    toDOM() {\n        return elt(\"span\", { class: \"cm-lintPoint cm-lintPoint-\" + this.diagnostic.severity });\n    }\n}\nclass PanelItem {\n    constructor(view, diagnostic) {\n        this.diagnostic = diagnostic;\n        this.id = \"item_\" + Math.floor(Math.random() * 0xffffffff).toString(16);\n        this.dom = renderDiagnostic(view, diagnostic, true);\n        this.dom.id = this.id;\n        this.dom.setAttribute(\"role\", \"option\");\n    }\n}\nclass LintPanel {\n    constructor(view) {\n        this.view = view;\n        this.items = [];\n        let onkeydown = (event) => {\n            if (event.keyCode == 27) { // Escape\n                closeLintPanel(this.view);\n                this.view.focus();\n            }\n            else if (event.keyCode == 38 || event.keyCode == 33) { // ArrowUp, PageUp\n                this.moveSelection((this.selectedIndex - 1 + this.items.length) % this.items.length);\n            }\n            else if (event.keyCode == 40 || event.keyCode == 34) { // ArrowDown, PageDown\n                this.moveSelection((this.selectedIndex + 1) % this.items.length);\n            }\n            else if (event.keyCode == 36) { // Home\n                this.moveSelection(0);\n            }\n            else if (event.keyCode == 35) { // End\n                this.moveSelection(this.items.length - 1);\n            }\n            else if (event.keyCode == 13) { // Enter\n                this.view.focus();\n            }\n            else if (event.keyCode >= 65 && event.keyCode <= 90 && this.selectedIndex >= 0) { // A-Z\n                let { diagnostic } = this.items[this.selectedIndex], keys = assignKeys(diagnostic.actions);\n                for (let i = 0; i < keys.length; i++)\n                    if (keys[i].toUpperCase().charCodeAt(0) == event.keyCode) {\n                        let found = findDiagnostic(this.view.state.field(lintState).diagnostics, diagnostic);\n                        if (found)\n                            diagnostic.actions[i].apply(view, found.from, found.to);\n                    }\n            }\n            else {\n                return;\n            }\n            event.preventDefault();\n        };\n        let onclick = (event) => {\n            for (let i = 0; i < this.items.length; i++) {\n                if (this.items[i].dom.contains(event.target))\n                    this.moveSelection(i);\n            }\n        };\n        this.list = elt(\"ul\", {\n            tabIndex: 0,\n            role: \"listbox\",\n            \"aria-label\": this.view.state.phrase(\"Diagnostics\"),\n            onkeydown,\n            onclick\n        });\n        this.dom = elt(\"div\", { class: \"cm-panel-lint\" }, this.list, elt(\"button\", {\n            type: \"button\",\n            name: \"close\",\n            \"aria-label\": this.view.state.phrase(\"close\"),\n            onclick: () => closeLintPanel(this.view)\n        }, \"Ã—\"));\n        this.update();\n    }\n    get selectedIndex() {\n        let selected = this.view.state.field(lintState).selected;\n        if (!selected)\n            return -1;\n        for (let i = 0; i < this.items.length; i++)\n            if (this.items[i].diagnostic == selected.diagnostic)\n                return i;\n        return -1;\n    }\n    update() {\n        let { diagnostics, selected } = this.view.state.field(lintState);\n        let i = 0, needsSync = false, newSelectedItem = null;\n        diagnostics.between(0, this.view.state.doc.length, (_start, _end, { spec }) => {\n            let found = -1, item;\n            for (let j = i; j < this.items.length; j++)\n                if (this.items[j].diagnostic == spec.diagnostic) {\n                    found = j;\n                    break;\n                }\n            if (found < 0) {\n                item = new PanelItem(this.view, spec.diagnostic);\n                this.items.splice(i, 0, item);\n                needsSync = true;\n            }\n            else {\n                item = this.items[found];\n                if (found > i) {\n                    this.items.splice(i, found - i);\n                    needsSync = true;\n                }\n            }\n            if (selected && item.diagnostic == selected.diagnostic) {\n                if (!item.dom.hasAttribute(\"aria-selected\")) {\n                    item.dom.setAttribute(\"aria-selected\", \"true\");\n                    newSelectedItem = item;\n                }\n            }\n            else if (item.dom.hasAttribute(\"aria-selected\")) {\n                item.dom.removeAttribute(\"aria-selected\");\n            }\n            i++;\n        });\n        while (i < this.items.length && !(this.items.length == 1 && this.items[0].diagnostic.from < 0)) {\n            needsSync = true;\n            this.items.pop();\n        }\n        if (this.items.length == 0) {\n            this.items.push(new PanelItem(this.view, {\n                from: -1, to: -1,\n                severity: \"info\",\n                message: this.view.state.phrase(\"No diagnostics\")\n            }));\n            needsSync = true;\n        }\n        if (newSelectedItem) {\n            this.list.setAttribute(\"aria-activedescendant\", newSelectedItem.id);\n            this.view.requestMeasure({\n                key: this,\n                read: () => ({ sel: newSelectedItem.dom.getBoundingClientRect(), panel: this.list.getBoundingClientRect() }),\n                write: ({ sel, panel }) => {\n                    if (sel.top < panel.top)\n                        this.list.scrollTop -= panel.top - sel.top;\n                    else if (sel.bottom > panel.bottom)\n                        this.list.scrollTop += sel.bottom - panel.bottom;\n                }\n            });\n        }\n        else if (this.selectedIndex < 0) {\n            this.list.removeAttribute(\"aria-activedescendant\");\n        }\n        if (needsSync)\n            this.sync();\n    }\n    sync() {\n        let domPos = this.list.firstChild;\n        function rm() {\n            let prev = domPos;\n            domPos = prev.nextSibling;\n            prev.remove();\n        }\n        for (let item of this.items) {\n            if (item.dom.parentNode == this.list) {\n                while (domPos != item.dom)\n                    rm();\n                domPos = item.dom.nextSibling;\n            }\n            else {\n                this.list.insertBefore(item.dom, domPos);\n            }\n        }\n        while (domPos)\n            rm();\n    }\n    moveSelection(selectedIndex) {\n        if (this.selectedIndex < 0)\n            return;\n        let field = this.view.state.field(lintState);\n        let selection = findDiagnostic(field.diagnostics, this.items[selectedIndex].diagnostic);\n        if (!selection)\n            return;\n        this.view.dispatch({\n            selection: { anchor: selection.from, head: selection.to },\n            scrollIntoView: true,\n            effects: movePanelSelection.of(selection)\n        });\n    }\n    static open(view) { return new LintPanel(view); }\n}\nfunction svg(content, attrs = `viewBox=\"0 0 40 40\"`) {\n    return `url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" ${attrs}>${encodeURIComponent(content)}</svg>')`;\n}\nfunction underline(color) {\n    return svg(`<path d=\"m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0\" stroke=\"${color}\" fill=\"none\" stroke-width=\".7\"/>`, `width=\"6\" height=\"3\"`);\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-diagnostic\": {\n        padding: \"3px 6px 3px 8px\",\n        marginLeft: \"-1px\",\n        display: \"block\",\n        whiteSpace: \"pre-wrap\"\n    },\n    \".cm-diagnostic-error\": { borderLeft: \"5px solid #d11\" },\n    \".cm-diagnostic-warning\": { borderLeft: \"5px solid orange\" },\n    \".cm-diagnostic-info\": { borderLeft: \"5px solid #999\" },\n    \".cm-diagnosticAction\": {\n        font: \"inherit\",\n        border: \"none\",\n        padding: \"2px 4px\",\n        backgroundColor: \"#444\",\n        color: \"white\",\n        borderRadius: \"3px\",\n        marginLeft: \"8px\"\n    },\n    \".cm-diagnosticSource\": {\n        fontSize: \"70%\",\n        opacity: .7\n    },\n    \".cm-lintRange\": {\n        backgroundPosition: \"left bottom\",\n        backgroundRepeat: \"repeat-x\",\n        paddingBottom: \"0.7px\",\n    },\n    \".cm-lintRange-error\": { backgroundImage: /*@__PURE__*/underline(\"#d11\") },\n    \".cm-lintRange-warning\": { backgroundImage: /*@__PURE__*/underline(\"orange\") },\n    \".cm-lintRange-info\": { backgroundImage: /*@__PURE__*/underline(\"#999\") },\n    \".cm-lintRange-active\": { backgroundColor: \"#ffdd9980\" },\n    \".cm-tooltip-lint\": {\n        padding: 0,\n        margin: 0\n    },\n    \".cm-lintPoint\": {\n        position: \"relative\",\n        \"&:after\": {\n            content: '\"\"',\n            position: \"absolute\",\n            bottom: 0,\n            left: \"-2px\",\n            borderLeft: \"3px solid transparent\",\n            borderRight: \"3px solid transparent\",\n            borderBottom: \"4px solid #d11\"\n        }\n    },\n    \".cm-lintPoint-warning\": {\n        \"&:after\": { borderBottomColor: \"orange\" }\n    },\n    \".cm-lintPoint-info\": {\n        \"&:after\": { borderBottomColor: \"#999\" }\n    },\n    \".cm-panel.cm-panel-lint\": {\n        position: \"relative\",\n        \"& ul\": {\n            maxHeight: \"100px\",\n            overflowY: \"auto\",\n            \"& [aria-selected]\": {\n                backgroundColor: \"#ddd\",\n                \"& u\": { textDecoration: \"underline\" }\n            },\n            \"&:focus [aria-selected]\": {\n                background_fallback: \"#bdf\",\n                backgroundColor: \"Highlight\",\n                color_fallback: \"white\",\n                color: \"HighlightText\"\n            },\n            \"& u\": { textDecoration: \"none\" },\n            padding: 0,\n            margin: 0\n        },\n        \"& [name=close]\": {\n            position: \"absolute\",\n            top: \"0\",\n            right: \"2px\",\n            background: \"inherit\",\n            border: \"none\",\n            font: \"inherit\",\n            padding: 0,\n            margin: 0\n        }\n    }\n});\nclass LintGutterMarker extends GutterMarker {\n    constructor(diagnostics) {\n        super();\n        this.diagnostics = diagnostics;\n        this.severity = diagnostics.reduce((max, d) => {\n            let s = d.severity;\n            return s == \"error\" || s == \"warning\" && max == \"info\" ? s : max;\n        }, \"info\");\n    }\n    toDOM(view) {\n        let elt = document.createElement(\"div\");\n        elt.className = \"cm-lint-marker cm-lint-marker-\" + this.severity;\n        let diagnostics = this.diagnostics;\n        let diagnosticsFilter = view.state.facet(lintGutterConfig).tooltipFilter;\n        if (diagnosticsFilter)\n            diagnostics = diagnosticsFilter(diagnostics);\n        if (diagnostics.length)\n            elt.onmouseover = () => gutterMarkerMouseOver(view, elt, diagnostics);\n        return elt;\n    }\n}\nfunction trackHoverOn(view, marker) {\n    let mousemove = (event) => {\n        let rect = marker.getBoundingClientRect();\n        if (event.clientX > rect.left - 10 /* Hover.Margin */ && event.clientX < rect.right + 10 /* Hover.Margin */ &&\n            event.clientY > rect.top - 10 /* Hover.Margin */ && event.clientY < rect.bottom + 10 /* Hover.Margin */)\n            return;\n        for (let target = event.target; target; target = target.parentNode) {\n            if (target.nodeType == 1 && target.classList.contains(\"cm-tooltip-lint\"))\n                return;\n        }\n        window.removeEventListener(\"mousemove\", mousemove);\n        if (view.state.field(lintGutterTooltip))\n            view.dispatch({ effects: setLintGutterTooltip.of(null) });\n    };\n    window.addEventListener(\"mousemove\", mousemove);\n}\nfunction gutterMarkerMouseOver(view, marker, diagnostics) {\n    function hovered() {\n        let line = view.elementAtHeight(marker.getBoundingClientRect().top + 5 - view.documentTop);\n        const linePos = view.coordsAtPos(line.from);\n        if (linePos) {\n            view.dispatch({ effects: setLintGutterTooltip.of({\n                    pos: line.from,\n                    above: false,\n                    create() {\n                        return {\n                            dom: diagnosticsTooltip(view, diagnostics),\n                            getCoords: () => marker.getBoundingClientRect()\n                        };\n                    }\n                }) });\n        }\n        marker.onmouseout = marker.onmousemove = null;\n        trackHoverOn(view, marker);\n    }\n    let { hoverTime } = view.state.facet(lintGutterConfig);\n    let hoverTimeout = setTimeout(hovered, hoverTime);\n    marker.onmouseout = () => {\n        clearTimeout(hoverTimeout);\n        marker.onmouseout = marker.onmousemove = null;\n    };\n    marker.onmousemove = () => {\n        clearTimeout(hoverTimeout);\n        hoverTimeout = setTimeout(hovered, hoverTime);\n    };\n}\nfunction markersForDiagnostics(doc, diagnostics) {\n    let byLine = Object.create(null);\n    for (let diagnostic of diagnostics) {\n        let line = doc.lineAt(diagnostic.from);\n        (byLine[line.from] || (byLine[line.from] = [])).push(diagnostic);\n    }\n    let markers = [];\n    for (let line in byLine) {\n        markers.push(new LintGutterMarker(byLine[line]).range(+line));\n    }\n    return RangeSet.of(markers, true);\n}\nconst lintGutterExtension = /*@__PURE__*/gutter({\n    class: \"cm-gutter-lint\",\n    markers: view => view.state.field(lintGutterMarkers),\n});\nconst lintGutterMarkers = /*@__PURE__*/StateField.define({\n    create() {\n        return RangeSet.empty;\n    },\n    update(markers, tr) {\n        markers = markers.map(tr.changes);\n        let diagnosticFilter = tr.state.facet(lintGutterConfig).markerFilter;\n        for (let effect of tr.effects) {\n            if (effect.is(setDiagnosticsEffect)) {\n                let diagnostics = effect.value;\n                if (diagnosticFilter)\n                    diagnostics = diagnosticFilter(diagnostics || []);\n                markers = markersForDiagnostics(tr.state.doc, diagnostics.slice(0));\n            }\n        }\n        return markers;\n    }\n});\nconst setLintGutterTooltip = /*@__PURE__*/StateEffect.define();\nconst lintGutterTooltip = /*@__PURE__*/StateField.define({\n    create() { return null; },\n    update(tooltip, tr) {\n        if (tooltip && tr.docChanged)\n            tooltip = hideTooltip(tr, tooltip) ? null : Object.assign(Object.assign({}, tooltip), { pos: tr.changes.mapPos(tooltip.pos) });\n        return tr.effects.reduce((t, e) => e.is(setLintGutterTooltip) ? e.value : t, tooltip);\n    },\n    provide: field => showTooltip.from(field)\n});\nconst lintGutterTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-gutter-lint\": {\n        width: \"1.4em\",\n        \"& .cm-gutterElement\": {\n            padding: \".2em\"\n        }\n    },\n    \".cm-lint-marker\": {\n        width: \"1em\",\n        height: \"1em\"\n    },\n    \".cm-lint-marker-info\": {\n        content: /*@__PURE__*/svg(`<path fill=\"#aaf\" stroke=\"#77e\" stroke-width=\"6\" stroke-linejoin=\"round\" d=\"M5 5L35 5L35 35L5 35Z\"/>`)\n    },\n    \".cm-lint-marker-warning\": {\n        content: /*@__PURE__*/svg(`<path fill=\"#fe8\" stroke=\"#fd7\" stroke-width=\"6\" stroke-linejoin=\"round\" d=\"M20 6L37 35L3 35Z\"/>`),\n    },\n    \".cm-lint-marker-error\": {\n        content: /*@__PURE__*/svg(`<circle cx=\"20\" cy=\"20\" r=\"15\" fill=\"#f87\" stroke=\"#f43\" stroke-width=\"6\"/>`)\n    },\n});\nconst lintGutterConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            hoverTime: 300 /* Hover.Time */,\n            markerFilter: null,\n            tooltipFilter: null\n        });\n    }\n});\n/**\nReturns an extension that installs a gutter showing markers for\neach line that has diagnostics, which can be hovered over to see\nthe diagnostics.\n*/\nfunction lintGutter(config = {}) {\n    return [lintGutterConfig.of(config), lintGutterMarkers, lintGutterExtension, lintGutterTheme, lintGutterTooltip];\n}\n/**\nIterate over the marked diagnostics for the given editor state,\ncalling `f` for each of them. Note that, if the document changed\nsince the diagnostics werecreated, the `Diagnostic` object will\nhold the original outdated position, whereas the `to` and `from`\narguments hold the diagnostic's current position.\n*/\nfunction forEachDiagnostic(state, f) {\n    let lState = state.field(lintState, false);\n    if (lState && lState.diagnostics.size)\n        for (let iter = RangeSet.iter([lState.diagnostics]); iter.value; iter.next())\n            f(iter.value.spec.diagnostic, iter.from, iter.to);\n}\n\nexport { closeLintPanel, diagnosticCount, forEachDiagnostic, forceLinting, lintGutter, lintKeymap, linter, nextDiagnostic, openLintPanel, setDiagnostics, setDiagnosticsEffect };\n","import { lineNumbers, highlightActiveLineGutter, highlightSpecialChars, drawSelection, dropCursor, rectangularSelection, crosshairCursor, highlightActiveLine, keymap } from '@codemirror/view';\nimport { EditorState } from '@codemirror/state';\nimport { history, defaultKeymap, historyKeymap } from '@codemirror/commands';\nimport { highlightSelectionMatches, searchKeymap } from '@codemirror/search';\nimport { closeBrackets, autocompletion, closeBracketsKeymap, completionKeymap } from '@codemirror/autocomplete';\nimport { foldGutter, indentOnInput, syntaxHighlighting, defaultHighlightStyle, bracketMatching, indentUnit, foldKeymap } from '@codemirror/language';\nimport { lintKeymap } from '@codemirror/lint';\n/**\nThis is an extension value that just pulls together a number of\nextensions that you might want in a basic editor. It is meant as a\nconvenient helper to quickly set up CodeMirror without installing\nand importing a lot of separate packages.\n\nSpecifically, it includes...\n\n - [the default command bindings](https://codemirror.net/6/docs/ref/#commands.defaultKeymap)\n - [line numbers](https://codemirror.net/6/docs/ref/#view.lineNumbers)\n - [special character highlighting](https://codemirror.net/6/docs/ref/#view.highlightSpecialChars)\n - [the undo history](https://codemirror.net/6/docs/ref/#commands.history)\n - [a fold gutter](https://codemirror.net/6/docs/ref/#language.foldGutter)\n - [custom selection drawing](https://codemirror.net/6/docs/ref/#view.drawSelection)\n - [drop cursor](https://codemirror.net/6/docs/ref/#view.dropCursor)\n - [multiple selections](https://codemirror.net/6/docs/ref/#state.EditorState^allowMultipleSelections)\n - [reindentation on input](https://codemirror.net/6/docs/ref/#language.indentOnInput)\n - [the default highlight style](https://codemirror.net/6/docs/ref/#language.defaultHighlightStyle) (as fallback)\n - [bracket matching](https://codemirror.net/6/docs/ref/#language.bracketMatching)\n - [bracket closing](https://codemirror.net/6/docs/ref/#autocomplete.closeBrackets)\n - [autocompletion](https://codemirror.net/6/docs/ref/#autocomplete.autocompletion)\n - [rectangular selection](https://codemirror.net/6/docs/ref/#view.rectangularSelection) and [crosshair cursor](https://codemirror.net/6/docs/ref/#view.crosshairCursor)\n - [active line highlighting](https://codemirror.net/6/docs/ref/#view.highlightActiveLine)\n - [active line gutter highlighting](https://codemirror.net/6/docs/ref/#view.highlightActiveLineGutter)\n - [selection match highlighting](https://codemirror.net/6/docs/ref/#search.highlightSelectionMatches)\n - [search](https://codemirror.net/6/docs/ref/#search.searchKeymap)\n - [linting](https://codemirror.net/6/docs/ref/#lint.lintKeymap)\n\n(You'll probably want to add some language package to your setup\ntoo.)\n\nThis extension does not allow customization. The idea is that,\nonce you decide you want to configure your editor more precisely,\nyou take this package's source (which is just a bunch of imports\nand an array literal), copy it into your own code, and adjust it\nas desired.\n*/\nexport var basicSetup = function basicSetup(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  var keymaps = [];\n  if (options.closeBracketsKeymap !== false) {\n    keymaps = keymaps.concat(closeBracketsKeymap);\n  }\n  if (options.defaultKeymap !== false) {\n    keymaps = keymaps.concat(defaultKeymap);\n  }\n  if (options.searchKeymap !== false) {\n    keymaps = keymaps.concat(searchKeymap);\n  }\n  if (options.historyKeymap !== false) {\n    keymaps = keymaps.concat(historyKeymap);\n  }\n  if (options.foldKeymap !== false) {\n    keymaps = keymaps.concat(foldKeymap);\n  }\n  if (options.completionKeymap !== false) {\n    keymaps = keymaps.concat(completionKeymap);\n  }\n  if (options.lintKeymap !== false) {\n    keymaps = keymaps.concat(lintKeymap);\n  }\n  var extensions = [];\n  if (options.lineNumbers !== false) extensions.push(lineNumbers());\n  if (options.highlightActiveLineGutter !== false) extensions.push(highlightActiveLineGutter());\n  if (options.highlightSpecialChars !== false) extensions.push(highlightSpecialChars());\n  if (options.history !== false) extensions.push(history());\n  if (options.foldGutter !== false) extensions.push(foldGutter());\n  if (options.drawSelection !== false) extensions.push(drawSelection());\n  if (options.dropCursor !== false) extensions.push(dropCursor());\n  if (options.allowMultipleSelections !== false) extensions.push(EditorState.allowMultipleSelections.of(true));\n  if (options.indentOnInput !== false) extensions.push(indentOnInput());\n  if (options.syntaxHighlighting !== false) extensions.push(syntaxHighlighting(defaultHighlightStyle, {\n    fallback: true\n  }));\n  if (options.bracketMatching !== false) extensions.push(bracketMatching());\n  if (options.closeBrackets !== false) extensions.push(closeBrackets());\n  if (options.autocompletion !== false) extensions.push(autocompletion());\n  if (options.rectangularSelection !== false) extensions.push(rectangularSelection());\n  if (options.crosshairCursor !== false) extensions.push(crosshairCursor());\n  if (options.highlightActiveLine !== false) extensions.push(highlightActiveLine());\n  if (options.highlightSelectionMatches !== false) extensions.push(highlightSelectionMatches());\n  if (options.tabSize && typeof options.tabSize === 'number') extensions.push(indentUnit.of(' '.repeat(options.tabSize)));\n  return extensions.concat([keymap.of(keymaps.flat())]).filter(Boolean);\n};\n/**\nA minimal set of extensions to create a functional editor. Only\nincludes [the default keymap](https://codemirror.net/6/docs/ref/#commands.defaultKeymap), [undo\nhistory](https://codemirror.net/6/docs/ref/#commands.history), [special character\nhighlighting](https://codemirror.net/6/docs/ref/#view.highlightSpecialChars), [custom selection\ndrawing](https://codemirror.net/6/docs/ref/#view.drawSelection), and [default highlight\nstyle](https://codemirror.net/6/docs/ref/#language.defaultHighlightStyle).\n*/\nexport var minimalSetup = function minimalSetup(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  var keymaps = [];\n  if (options.defaultKeymap !== false) {\n    keymaps = keymaps.concat(defaultKeymap);\n  }\n  if (options.historyKeymap !== false) {\n    keymaps = keymaps.concat(historyKeymap);\n  }\n  var extensions = [];\n  if (options.highlightSpecialChars !== false) extensions.push(highlightSpecialChars());\n  if (options.history !== false) extensions.push(history());\n  if (options.drawSelection !== false) extensions.push(drawSelection());\n  if (options.syntaxHighlighting !== false) extensions.push(syntaxHighlighting(defaultHighlightStyle, {\n    fallback: true\n  }));\n  return extensions.concat([keymap.of(keymaps.flat())]).filter(Boolean);\n};","import { EditorView } from '@codemirror/view';\nimport { HighlightStyle, syntaxHighlighting } from '@codemirror/language';\nimport { tags } from '@lezer/highlight';\n\n// Using https://github.com/one-dark/vscode-one-dark-theme/ as reference for the colors\nconst chalky = \"#e5c07b\", coral = \"#e06c75\", cyan = \"#56b6c2\", invalid = \"#ffffff\", ivory = \"#abb2bf\", stone = \"#7d8799\", // Brightened compared to original to increase contrast\nmalibu = \"#61afef\", sage = \"#98c379\", whiskey = \"#d19a66\", violet = \"#c678dd\", darkBackground = \"#21252b\", highlightBackground = \"#2c313a\", background = \"#282c34\", tooltipBackground = \"#353a42\", selection = \"#3E4451\", cursor = \"#528bff\";\n/**\nThe colors used in the theme, as CSS color strings.\n*/\nconst color = {\n    chalky,\n    coral,\n    cyan,\n    invalid,\n    ivory,\n    stone,\n    malibu,\n    sage,\n    whiskey,\n    violet,\n    darkBackground,\n    highlightBackground,\n    background,\n    tooltipBackground,\n    selection,\n    cursor\n};\n/**\nThe editor theme styles for One Dark.\n*/\nconst oneDarkTheme = /*@__PURE__*/EditorView.theme({\n    \"&\": {\n        color: ivory,\n        backgroundColor: background\n    },\n    \".cm-content\": {\n        caretColor: cursor\n    },\n    \".cm-cursor, .cm-dropCursor\": { borderLeftColor: cursor },\n    \"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection\": { backgroundColor: selection },\n    \".cm-panels\": { backgroundColor: darkBackground, color: ivory },\n    \".cm-panels.cm-panels-top\": { borderBottom: \"2px solid black\" },\n    \".cm-panels.cm-panels-bottom\": { borderTop: \"2px solid black\" },\n    \".cm-searchMatch\": {\n        backgroundColor: \"#72a1ff59\",\n        outline: \"1px solid #457dff\"\n    },\n    \".cm-searchMatch.cm-searchMatch-selected\": {\n        backgroundColor: \"#6199ff2f\"\n    },\n    \".cm-activeLine\": { backgroundColor: \"#6699ff0b\" },\n    \".cm-selectionMatch\": { backgroundColor: \"#aafe661a\" },\n    \"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket\": {\n        backgroundColor: \"#bad0f847\",\n        outline: \"1px solid #515a6b\"\n    },\n    \".cm-gutters\": {\n        backgroundColor: background,\n        color: stone,\n        border: \"none\"\n    },\n    \".cm-activeLineGutter\": {\n        backgroundColor: highlightBackground\n    },\n    \".cm-foldPlaceholder\": {\n        backgroundColor: \"transparent\",\n        border: \"none\",\n        color: \"#ddd\"\n    },\n    \".cm-tooltip\": {\n        border: \"none\",\n        backgroundColor: tooltipBackground\n    },\n    \".cm-tooltip .cm-tooltip-arrow:before\": {\n        borderTopColor: \"transparent\",\n        borderBottomColor: \"transparent\"\n    },\n    \".cm-tooltip .cm-tooltip-arrow:after\": {\n        borderTopColor: tooltipBackground,\n        borderBottomColor: tooltipBackground\n    },\n    \".cm-tooltip-autocomplete\": {\n        \"& > ul > li[aria-selected]\": {\n            backgroundColor: highlightBackground,\n            color: ivory\n        }\n    }\n}, { dark: true });\n/**\nThe highlighting style for code in the One Dark theme.\n*/\nconst oneDarkHighlightStyle = /*@__PURE__*/HighlightStyle.define([\n    { tag: tags.keyword,\n        color: violet },\n    { tag: [tags.name, tags.deleted, tags.character, tags.propertyName, tags.macroName],\n        color: coral },\n    { tag: [/*@__PURE__*/tags.function(tags.variableName), tags.labelName],\n        color: malibu },\n    { tag: [tags.color, /*@__PURE__*/tags.constant(tags.name), /*@__PURE__*/tags.standard(tags.name)],\n        color: whiskey },\n    { tag: [/*@__PURE__*/tags.definition(tags.name), tags.separator],\n        color: ivory },\n    { tag: [tags.typeName, tags.className, tags.number, tags.changed, tags.annotation, tags.modifier, tags.self, tags.namespace],\n        color: chalky },\n    { tag: [tags.operator, tags.operatorKeyword, tags.url, tags.escape, tags.regexp, tags.link, /*@__PURE__*/tags.special(tags.string)],\n        color: cyan },\n    { tag: [tags.meta, tags.comment],\n        color: stone },\n    { tag: tags.strong,\n        fontWeight: \"bold\" },\n    { tag: tags.emphasis,\n        fontStyle: \"italic\" },\n    { tag: tags.strikethrough,\n        textDecoration: \"line-through\" },\n    { tag: tags.link,\n        color: stone,\n        textDecoration: \"underline\" },\n    { tag: tags.heading,\n        fontWeight: \"bold\",\n        color: coral },\n    { tag: [tags.atom, tags.bool, /*@__PURE__*/tags.special(tags.variableName)],\n        color: whiskey },\n    { tag: [tags.processingInstruction, tags.string, tags.inserted],\n        color: sage },\n    { tag: tags.invalid,\n        color: invalid },\n]);\n/**\nExtension to enable the One Dark theme (both the editor theme and\nthe highlight style).\n*/\nconst oneDark = [oneDarkTheme, /*@__PURE__*/syntaxHighlighting(oneDarkHighlightStyle)];\n\nexport { color, oneDark, oneDarkHighlightStyle, oneDarkTheme };\n","import { indentWithTab } from '@codemirror/commands';\nimport { basicSetup } from '@uiw/codemirror-extensions-basic-setup';\nimport { EditorView, keymap, placeholder } from '@codemirror/view';\nimport { oneDark } from '@codemirror/theme-one-dark';\nimport { EditorState } from '@codemirror/state';\nexport var getDefaultExtensions = function getDefaultExtensions(optios) {\n  if (optios === void 0) {\n    optios = {};\n  }\n  var {\n    indentWithTab: defaultIndentWithTab = true,\n    editable = true,\n    readOnly = false,\n    theme = 'light',\n    placeholder: placeholderStr = '',\n    basicSetup: defaultBasicSetup = true\n  } = optios;\n  var getExtensions = [];\n  var defaultLightThemeOption = EditorView.theme({\n    '&': {\n      backgroundColor: '#fff'\n    }\n  }, {\n    dark: false\n  });\n  if (defaultIndentWithTab) {\n    getExtensions.unshift(keymap.of([indentWithTab]));\n  }\n  if (defaultBasicSetup) {\n    if (typeof defaultBasicSetup === 'boolean') {\n      getExtensions.unshift(basicSetup());\n    } else {\n      getExtensions.unshift(basicSetup(defaultBasicSetup));\n    }\n  }\n  if (placeholderStr) {\n    getExtensions.unshift(placeholder(placeholderStr));\n  }\n  switch (theme) {\n    case 'light':\n      getExtensions.push(defaultLightThemeOption);\n      break;\n    case 'dark':\n      getExtensions.push(oneDark);\n      break;\n    case 'none':\n      break;\n    default:\n      getExtensions.push(theme);\n      break;\n  }\n  if (editable === false) {\n    getExtensions.push(EditorView.editable.of(false));\n  }\n  if (readOnly) {\n    getExtensions.push(EditorState.readOnly.of(true));\n  }\n  return [...getExtensions];\n};","export var getStatistics = view => {\n  return {\n    line: view.state.doc.lineAt(view.state.selection.main.from),\n    lineCount: view.state.doc.lines,\n    lineBreak: view.state.lineBreak,\n    length: view.state.doc.length,\n    readOnly: view.state.readOnly,\n    tabSize: view.state.tabSize,\n    selection: view.state.selection,\n    selectionAsSingle: view.state.selection.asSingle().main,\n    ranges: view.state.selection.ranges,\n    selectionCode: view.state.sliceDoc(view.state.selection.main.from, view.state.selection.main.to),\n    selections: view.state.selection.ranges.map(r => view.state.sliceDoc(r.from, r.to)),\n    selectedText: view.state.selection.ranges.some(r => !r.empty)\n  };\n};","import { useEffect, useState } from 'react';\nimport { Annotation, EditorState, StateEffect } from '@codemirror/state';\nimport { EditorView } from '@codemirror/view';\nimport { getDefaultExtensions } from './getDefaultExtensions';\nimport { getStatistics } from './utils';\nvar External = Annotation.define();\nexport function useCodeMirror(props) {\n  var {\n    value,\n    selection,\n    onChange,\n    onStatistics,\n    onCreateEditor,\n    onUpdate,\n    extensions = [],\n    autoFocus,\n    theme = 'light',\n    height = '',\n    minHeight = '',\n    maxHeight = '',\n    placeholder: placeholderStr = '',\n    width = '',\n    minWidth = '',\n    maxWidth = '',\n    editable = true,\n    readOnly = false,\n    indentWithTab: defaultIndentWithTab = true,\n    basicSetup: defaultBasicSetup = true,\n    root,\n    initialState\n  } = props;\n  var [container, setContainer] = useState();\n  var [view, setView] = useState();\n  var [state, setState] = useState();\n  var defaultThemeOption = EditorView.theme({\n    '&': {\n      height,\n      minHeight,\n      maxHeight,\n      width,\n      minWidth,\n      maxWidth\n    }\n  });\n  var updateListener = EditorView.updateListener.of(vu => {\n    if (vu.docChanged && typeof onChange === 'function' &&\n    // Fix echoing of the remote changes:\n    // If transaction is market as remote we don't have to call `onChange` handler again\n    !vu.transactions.some(tr => tr.annotation(External))) {\n      var doc = vu.state.doc;\n      var _value = doc.toString();\n      onChange(_value, vu);\n    }\n    onStatistics && onStatistics(getStatistics(vu));\n  });\n  var defaultExtensions = getDefaultExtensions({\n    theme,\n    editable,\n    readOnly,\n    placeholder: placeholderStr,\n    indentWithTab: defaultIndentWithTab,\n    basicSetup: defaultBasicSetup\n  });\n  var getExtensions = [updateListener, defaultThemeOption, ...defaultExtensions];\n  if (onUpdate && typeof onUpdate === 'function') {\n    getExtensions.push(EditorView.updateListener.of(onUpdate));\n  }\n  getExtensions = getExtensions.concat(extensions);\n  useEffect(() => {\n    if (container && !state) {\n      var config = {\n        doc: value,\n        selection,\n        extensions: getExtensions\n      };\n      var stateCurrent = initialState ? EditorState.fromJSON(initialState.json, config, initialState.fields) : EditorState.create(config);\n      setState(stateCurrent);\n      if (!view) {\n        var viewCurrent = new EditorView({\n          state: stateCurrent,\n          parent: container,\n          root\n        });\n        setView(viewCurrent);\n        onCreateEditor && onCreateEditor(viewCurrent, stateCurrent);\n      }\n    }\n    return () => {\n      if (view) {\n        setState(undefined);\n        setView(undefined);\n      }\n    };\n  }, [container, state]);\n  useEffect(() => setContainer(props.container), [props.container]);\n  useEffect(() => () => {\n    if (view) {\n      view.destroy();\n      setView(undefined);\n    }\n  }, [view]);\n  useEffect(() => {\n    if (autoFocus && view) {\n      view.focus();\n    }\n  }, [autoFocus, view]);\n  useEffect(() => {\n    if (view) {\n      view.dispatch({\n        effects: StateEffect.reconfigure.of(getExtensions)\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [theme, extensions, height, minHeight, maxHeight, width, minWidth, maxWidth, placeholderStr, editable, readOnly, defaultIndentWithTab, defaultBasicSetup, onChange, onUpdate]);\n  useEffect(() => {\n    if (value === undefined) {\n      return;\n    }\n    var currentValue = view ? view.state.doc.toString() : '';\n    if (view && value !== currentValue) {\n      view.dispatch({\n        changes: {\n          from: 0,\n          to: currentValue.length,\n          insert: value || ''\n        },\n        annotations: [External.of(true)]\n      });\n    }\n  }, [value, view]);\n  return {\n    state,\n    setState,\n    view,\n    setView,\n    container,\n    setContainer\n  };\n}","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"value\", \"selection\", \"extensions\", \"onChange\", \"onStatistics\", \"onCreateEditor\", \"onUpdate\", \"autoFocus\", \"theme\", \"height\", \"minHeight\", \"maxHeight\", \"width\", \"minWidth\", \"maxWidth\", \"basicSetup\", \"placeholder\", \"indentWithTab\", \"editable\", \"readOnly\", \"root\", \"initialState\"];\nimport React, { useRef, forwardRef, useImperativeHandle } from 'react';\nimport { useCodeMirror } from './useCodeMirror';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport * from '@uiw/codemirror-extensions-basic-setup';\nexport * from './useCodeMirror';\nexport * from './getDefaultExtensions';\nexport * from './utils';\nvar ReactCodeMirror = /*#__PURE__*/forwardRef((props, ref) => {\n  var {\n      className,\n      value = '',\n      selection,\n      extensions = [],\n      onChange,\n      onStatistics,\n      onCreateEditor,\n      onUpdate,\n      autoFocus,\n      theme = 'light',\n      height,\n      minHeight,\n      maxHeight,\n      width,\n      minWidth,\n      maxWidth,\n      basicSetup,\n      placeholder,\n      indentWithTab,\n      editable,\n      readOnly,\n      root,\n      initialState\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  var editor = useRef(null);\n  var {\n    state,\n    view,\n    container\n  } = useCodeMirror({\n    container: editor.current,\n    root,\n    value,\n    autoFocus,\n    theme,\n    height,\n    minHeight,\n    maxHeight,\n    width,\n    minWidth,\n    maxWidth,\n    basicSetup,\n    placeholder,\n    indentWithTab,\n    editable,\n    readOnly,\n    selection,\n    onChange,\n    onStatistics,\n    onCreateEditor,\n    onUpdate,\n    extensions,\n    initialState\n  });\n  useImperativeHandle(ref, () => ({\n    editor: editor.current,\n    state: state,\n    view: view\n  }), [editor, container, state, view]);\n\n  // check type of value\n  if (typeof value !== 'string') {\n    throw new Error(\"value must be typeof string but got \" + typeof value);\n  }\n  var defaultClassNames = typeof theme === 'string' ? \"cm-theme-\" + theme : 'cm-theme';\n  return /*#__PURE__*/_jsx(\"div\", _extends({\n    ref: editor,\n    className: \"\" + defaultClassNames + (className ? \" \" + className : '')\n  }, other));\n});\nReactCodeMirror.displayName = 'CodeMirror';\nexport default ReactCodeMirror;","import { createRoot } from 'react-dom/client';\nimport jsdoc from '../../../../doc.json';\n\nconst getDocLabel = (doc) => doc.name || doc.longname;\nconst getInnerText = (html) => {\n  var div = document.createElement('div');\n  div.innerHTML = html;\n  return div.textContent || div.innerText || '';\n};\n\nexport function Autocomplete({ doc }) {\n  return (\n    <div className=\"prose dark:prose-invert  max-h-[400px] overflow-auto\">\n      <h3 className=\"pt-0 mt-0\">{getDocLabel(doc)}</h3>\n      <div dangerouslySetInnerHTML={{ __html: doc.description }} />\n      <ul>\n        {doc.params?.map(({ name, type, description }, i) => (\n          <li key={i}>\n            {name} : {type.names?.join(' | ')} {description ? <> - {getInnerText(description)}</> : ''}\n          </li>\n        ))}\n      </ul>\n      <div>\n        {doc.examples?.map((example, i) => (\n          <div key={i}>\n            <pre\n              className=\"cursor-pointer\"\n              onMouseDown={(e) => {\n                console.log('ola!');\n                navigator.clipboard.writeText(example);\n                e.stopPropagation();\n              }}\n            >\n              {example}\n            </pre>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nconst jsdocCompletions = jsdoc.docs\n  .filter(\n    (doc) =>\n      getDocLabel(doc) &&\n      !getDocLabel(doc).startsWith('_') &&\n      !['package'].includes(doc.kind) &&\n      !['superdirtOnly', 'noAutocomplete'].some((tag) => doc.tags?.find((t) => t.originalTitle === tag)),\n  )\n  // https://codemirror.net/docs/ref/#autocomplete.Completion\n  .map((doc) /*: Completion */ => ({\n    label: getDocLabel(doc),\n    // detail: 'xxx', // An optional short piece of information to show (with a different style) after the label.\n    info: () => {\n      const node = document.createElement('div');\n      // if Autocomplete is non-interactive, it could also be rendered at build time..\n      // .. using renderToStaticMarkup\n      createRoot(node).render(<Autocomplete doc={doc} />);\n      return node;\n    },\n    type: 'function', // https://codemirror.net/docs/ref/#autocomplete.Completion.type\n  }));\n\nexport const strudelAutocomplete = (context /* : CompletionContext */) => {\n  let word = context.matchBefore(/\\w*/);\n  if (word.from == word.to && !context.explicit) return null;\n  return {\n    from: word.from,\n    options: jsdocCompletions,\n    /*     options: [\n      { label: 'match', type: 'keyword' },\n      { label: 'hello', type: 'variable', info: '(World)' },\n      { label: 'magic', type: 'text', apply: 'â â­’*.âœ©.*â­’â ', detail: 'macro' },\n    ], */\n  };\n};\n","import { StateEffect, StateField } from '@codemirror/state';\nimport { Decoration, EditorView } from '@codemirror/view';\n\nexport const setFlash = StateEffect.define();\nexport const flashField = StateField.define({\n  create() {\n    return Decoration.none;\n  },\n  update(flash, tr) {\n    try {\n      for (let e of tr.effects) {\n        if (e.is(setFlash)) {\n          if (e.value && tr.newDoc.length > 0) {\n            const mark = Decoration.mark({ attributes: { style: `background-color: #FFCA2880` } });\n            flash = Decoration.set([mark.range(0, tr.newDoc.length)]);\n          } else {\n            flash = Decoration.set([]);\n          }\n        }\n      }\n      return flash;\n    } catch (err) {\n      console.warn('flash error', err);\n      return flash;\n    }\n  },\n  provide: (f) => EditorView.decorations.from(f),\n});\n\nexport const flash = (view, ms = 200) => {\n  view.dispatch({ effects: setFlash.of(true) });\n  setTimeout(() => {\n    view.dispatch({ effects: setFlash.of(false) });\n  }, ms);\n};\n","import { RangeSetBuilder, StateEffect, StateField } from '@codemirror/state';\nimport { Decoration, EditorView } from '@codemirror/view';\n\nexport const setMiniLocations = StateEffect.define();\nexport const showMiniLocations = StateEffect.define();\nexport const updateMiniLocations = (view, locations) => {\n  view.dispatch({ effects: setMiniLocations.of(locations) });\n};\nexport const highlightMiniLocations = (view, atTime, haps) => {\n  view.dispatch({ effects: showMiniLocations.of({ atTime, haps }) });\n};\n\nconst miniLocations = StateField.define({\n  create() {\n    return Decoration.none;\n  },\n  update(locations, tr) {\n    if (tr.docChanged) {\n      locations = locations.map(tr.changes);\n    }\n\n    for (let e of tr.effects) {\n      if (e.is(setMiniLocations)) {\n        // this is called on eval, with the mini locations obtained from the transpiler\n        // codemirror will automatically remap the marks when the document is edited\n        // create a mark for each mini location, adding the range to the spec to find it later\n        const marks = e.value\n          .filter(([from]) => from < tr.newDoc.length)\n          .map(([from, to]) => [from, Math.min(to, tr.newDoc.length)])\n          .map(\n            (range) =>\n              Decoration.mark({\n                id: range.join(':'),\n                // this green is only to verify that the decoration moves when the document is edited\n                // it will be removed later, so the mark is not visible by default\n                attributes: { style: `background-color: #00CA2880` },\n              }).range(...range), // -> Decoration\n          );\n\n        locations = Decoration.set(marks, true); // -> DecorationSet === RangeSet<Decoration>\n      }\n    }\n\n    return locations;\n  },\n});\n\nconst visibleMiniLocations = StateField.define({\n  create() {\n    return { atTime: 0, haps: new Map() };\n  },\n  update(visible, tr) {\n    for (let e of tr.effects) {\n      if (e.is(showMiniLocations)) {\n        // this is called every frame to show the locations that are currently active\n        // we can NOT create new marks because the context.locations haven't changed since eval time\n        // this is why we need to find a way to update the existing decorations, showing the ones that have an active range\n        const haps = new Map();\n        for (let hap of e.value.haps) {\n          for (let { start, end } of hap.context.locations) {\n            let id = `${start}:${end}`;\n            if (!haps.has(id) || haps.get(id).whole.begin.lt(hap.whole.begin)) {\n              haps.set(id, hap);\n            }\n          }\n        }\n\n        visible = { atTime: e.value.atTime, haps };\n      }\n    }\n\n    return visible;\n  },\n});\n\n// // Derive the set of decorations from the miniLocations and visibleLocations\nconst miniLocationHighlights = EditorView.decorations.compute([miniLocations, visibleMiniLocations], (state) => {\n  const iterator = state.field(miniLocations).iter();\n  const { haps } = state.field(visibleMiniLocations);\n  const builder = new RangeSetBuilder();\n\n  while (iterator.value) {\n    const {\n      from,\n      to,\n      value: {\n        spec: { id },\n      },\n    } = iterator;\n\n    if (haps.has(id)) {\n      const hap = haps.get(id);\n      const color = hap.context.color ?? 'var(--foreground)';\n      // Get explicit channels for color values\n      /* \n      const swatch = document.createElement('div');\n      swatch.style.color = color;\n      document.body.appendChild(swatch);\n      let channels = getComputedStyle(swatch)\n        .color.match(/^rgba?\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})(?:,\\s*(\\d*(?:\\.\\d+)?))?\\)$/)\n        .slice(1)\n        .map((c) => parseFloat(c || 1));\n      document.body.removeChild(swatch);\n\n      // Get percentage of event\n      const percent = 1 - (atTime - hap.whole.begin) / hap.whole.duration;\n      channels[3] *= percent;\n      */\n\n      builder.add(\n        from,\n        to,\n        Decoration.mark({\n          // attributes: { style: `outline: solid 2px rgba(${channels.join(', ')})` },\n          attributes: { style: `outline: solid 2px ${color}` },\n        }),\n      );\n    }\n\n    iterator.next();\n  }\n\n  return builder.finish();\n});\n\nexport const highlightExtension = [miniLocations, visibleMiniLocations, miniLocationHighlights];\n","import { EditorView } from '@codemirror/view';\nimport { HighlightStyle, syntaxHighlighting } from '@codemirror/language';\nimport { tags as t } from '@lezer/highlight';\n\n// Using https://github.com/one-dark/vscode-one-dark-theme/ as reference for the colors\n\nconst chalky = '#e5c07b',\n  coral = '#e06c75',\n  cyan = '#56b6c2',\n  invalid = '#ffffff',\n  ivory = '#abb2bf',\n  stone = '#7d8799', // Brightened compared to original to increase contrast\n  malibu = '#61afef',\n  sage = '#98c379',\n  whiskey = '#d19a66',\n  violet = '#c678dd',\n  darkBackground = '#21252b',\n  highlightBackground = '#2c313a',\n  background = '#282c34',\n  tooltipBackground = '#353a42',\n  selection = '#3E4451',\n  cursor = '#528bff';\n\n/// The colors used in the theme, as CSS color strings.\nexport const color = {\n  chalky,\n  coral,\n  cyan,\n  invalid,\n  ivory,\n  stone,\n  malibu,\n  sage,\n  whiskey,\n  violet,\n  darkBackground,\n  highlightBackground,\n  background,\n  tooltipBackground,\n  selection,\n  cursor,\n};\n\n/// The editor theme styles for One Dark.\nexport const oneDarkTheme = EditorView.theme(\n  {\n    '&': {\n      color: ivory,\n      backgroundColor: background,\n    },\n\n    '.cm-content': {\n      caretColor: cursor,\n    },\n\n    '.cm-cursor, .cm-dropCursor': { borderLeftColor: cursor },\n    '&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection':\n      { backgroundColor: selection },\n\n    '.cm-panels': { backgroundColor: darkBackground, color: ivory },\n    '.cm-panels.cm-panels-top': { borderBottom: '2px solid black' },\n    '.cm-panels.cm-panels-bottom': { borderTop: '2px solid black' },\n\n    '.cm-searchMatch': {\n      backgroundColor: '#72a1ff59',\n      outline: '1px solid #457dff',\n    },\n    '.cm-searchMatch.cm-searchMatch-selected': {\n      backgroundColor: '#6199ff2f',\n    },\n\n    '.cm-activeLine': { backgroundColor: '#6699ff0b' },\n    '.cm-selectionMatch': { backgroundColor: '#aafe661a' },\n\n    '&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket': {\n      backgroundColor: '#bad0f847',\n    },\n\n    '.cm-gutters': {\n      backgroundColor: background,\n      color: stone,\n      border: 'none',\n    },\n\n    '.cm-activeLineGutter': {\n      backgroundColor: highlightBackground,\n    },\n\n    '.cm-foldPlaceholder': {\n      backgroundColor: 'transparent',\n      border: 'none',\n      color: '#ddd',\n    },\n\n    '.cm-tooltip': {\n      border: 'none',\n      backgroundColor: tooltipBackground,\n    },\n    '.cm-tooltip .cm-tooltip-arrow:before': {\n      borderTopColor: 'transparent',\n      borderBottomColor: 'transparent',\n    },\n    '.cm-tooltip .cm-tooltip-arrow:after': {\n      borderTopColor: tooltipBackground,\n      borderBottomColor: tooltipBackground,\n    },\n    '.cm-tooltip-autocomplete': {\n      '& > ul > li[aria-selected]': {\n        backgroundColor: highlightBackground,\n        color: ivory,\n      },\n    },\n  },\n  { dark: true },\n);\n\n/// The highlighting style for code in the One Dark theme.\nexport const oneDarkHighlightStyle = HighlightStyle.define([\n  { tag: t.keyword, color: violet },\n  { tag: [t.name, t.deleted, t.character, t.propertyName, t.macroName], color: coral },\n  { tag: [t.function(t.variableName), t.labelName], color: malibu },\n  { tag: [t.color, t.constant(t.name), t.standard(t.name)], color: whiskey },\n  { tag: [t.definition(t.name), t.separator], color: ivory },\n  { tag: [t.typeName, t.className, t.number, t.changed, t.annotation, t.modifier, t.self, t.namespace], color: chalky },\n  { tag: [t.operator, t.operatorKeyword, t.url, t.escape, t.regexp, t.link, t.special(t.string)], color: cyan },\n  { tag: [t.meta, t.comment], color: stone },\n  { tag: t.strong, fontWeight: 'bold' },\n  { tag: t.emphasis, fontStyle: 'italic' },\n  { tag: t.strikethrough, textDecoration: 'line-through' },\n  { tag: t.link, color: stone, textDecoration: 'underline' },\n  { tag: t.heading, fontWeight: 'bold', color: coral },\n  { tag: [t.atom, t.bool, t.special(t.variableName)], color: whiskey },\n  { tag: [t.processingInstruction, t.string, t.inserted], color: sage },\n  { tag: t.invalid, color: invalid },\n]);\n\n/// Extension to enable the One Dark theme (both the editor theme and\n/// the highlight style).\nexport const oneDark = [oneDarkTheme, syntaxHighlighting(oneDarkHighlightStyle)];\n","import { autocompletion } from '@codemirror/autocomplete';\nimport { javascript, javascriptLanguage } from '@codemirror/lang-javascript';\nimport { EditorView } from '@codemirror/view';\nimport { emacs } from '@replit/codemirror-emacs';\nimport { vim } from '@replit/codemirror-vim';\nimport _CodeMirror from '@uiw/react-codemirror';\nimport React, { useCallback, useMemo } from 'react';\nimport strudelTheme from '../themes/strudel-theme';\nimport { strudelAutocomplete } from './Autocomplete';\nimport {\n  highlightExtension,\n  flashField,\n  flash,\n  highlightMiniLocations,\n  updateMiniLocations,\n} from '@strudel/codemirror';\nimport './style.css';\n\nexport { flash, highlightMiniLocations, updateMiniLocations };\n\nconst staticExtensions = [javascript(), flashField, highlightExtension];\n\nexport default function CodeMirror({\n  value,\n  onChange,\n  onViewChanged,\n  onSelectionChange,\n  onDocChange,\n  theme,\n  keybindings,\n  isLineNumbersDisplayed,\n  isAutoCompletionEnabled,\n  isLineWrappingEnabled,\n  fontSize = 18,\n  fontFamily = 'monospace',\n}) {\n  const handleOnChange = useCallback(\n    (value) => {\n      onChange?.(value);\n    },\n    [onChange],\n  );\n\n  const handleOnCreateEditor = useCallback(\n    (view) => {\n      onViewChanged?.(view);\n    },\n    [onViewChanged],\n  );\n\n  const handleOnUpdate = useCallback(\n    (viewUpdate) => {\n      if (viewUpdate.docChanged && onDocChange) {\n        onDocChange?.(viewUpdate);\n      }\n      if (viewUpdate.selectionSet && onSelectionChange) {\n        onSelectionChange?.(viewUpdate.state.selection);\n      }\n    },\n    [onSelectionChange],\n  );\n\n  const extensions = useMemo(() => {\n    let _extensions = [...staticExtensions];\n    let bindings = {\n      vim,\n      emacs,\n    };\n\n    if (bindings[keybindings]) {\n      _extensions.push(bindings[keybindings]());\n    }\n\n    if (isAutoCompletionEnabled) {\n      _extensions.push(javascriptLanguage.data.of({ autocomplete: strudelAutocomplete }));\n    } else {\n      _extensions.push(autocompletion({ override: [] }));\n    }\n\n    if (isLineWrappingEnabled) {\n      _extensions.push(EditorView.lineWrapping);\n    }\n\n    return _extensions;\n  }, [keybindings, isAutoCompletionEnabled, isLineWrappingEnabled]);\n\n  const basicSetup = useMemo(() => ({ lineNumbers: isLineNumbersDisplayed }), [isLineNumbersDisplayed]);\n\n  return (\n    <div style={{ fontSize, fontFamily }} className=\"w-full\">\n      <_CodeMirror\n        value={value}\n        theme={theme || strudelTheme}\n        onChange={handleOnChange}\n        onCreateEditor={handleOnCreateEditor}\n        onUpdate={handleOnUpdate}\n        extensions={extensions}\n        basicSetup={basicSetup}\n      />\n    </div>\n  );\n}\n","/*\ncx.js - <short description TODO>\nCopyright (C) 2022 Strudel contributors - see <https://github.com/tidalcycles/strudel/blob/main/repl/src/cx.js>\nThis program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more details. You should have received a copy of the GNU Affero General Public License along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\nexport default function cx(...classes) {\n  // : Array<string | undefined>\n  return classes.filter(Boolean).join(' ');\n}\n","import { useEffect, useRef, useState } from 'react';\nimport { highlightMiniLocations, updateMiniLocations } from '../components/CodeMirror6';\nconst round = (x) => Math.round(x * 1000) / 1000;\n\nfunction useHighlighting({ view, pattern, active, getTime }) {\n  const highlights = useRef([]);\n  const lastEnd = useRef(0);\n\n  const [miniLocations, setMiniLocations] = useState([]);\n  useEffect(() => {\n    if (view) {\n      updateMiniLocations(view, miniLocations);\n    }\n  }, [view, miniLocations]);\n\n  useEffect(() => {\n    if (view) {\n      if (pattern && active) {\n        lastEnd.current = 0;\n        let frame = requestAnimationFrame(function updateHighlights() {\n          try {\n            const audioTime = getTime();\n            // force min framerate of 10 fps => fixes crash on tab refocus, where lastEnd could be far away\n            // see https://github.com/tidalcycles/strudel/issues/108\n            const begin = Math.max(lastEnd.current ?? audioTime, audioTime - 1 / 10, -0.01); // negative time seems buggy\n            const span = [round(begin), round(audioTime + 1 / 60)];\n            lastEnd.current = span[1];\n            highlights.current = highlights.current.filter((hap) => hap.endClipped > audioTime); // keep only highlights that are still active\n            const haps = pattern.queryArc(...span).filter((hap) => hap.hasOnset());\n            highlights.current = highlights.current.concat(haps); // add potential new onsets\n            highlightMiniLocations(view, begin, highlights.current);\n          } catch (err) {\n            highlightMiniLocations(view, 0, []);\n          }\n          frame = requestAnimationFrame(updateHighlights);\n        });\n        return () => {\n          cancelAnimationFrame(frame);\n        };\n      } else {\n        highlights.current = [];\n        highlightMiniLocations(view, 0, highlights.current);\n      }\n    }\n  }, [pattern, active, view]);\n\n  return { setMiniLocations };\n}\n\nexport default useHighlighting;\n","/*\n  Copyright (C) 2012-2013 Yusuke Suzuki <utatane.tea@gmail.com>\n  Copyright (C) 2012 Ariya Hidayat <ariya.hidayat@gmail.com>\n\n  Redistribution and use in source and binary forms, with or without\n  modification, are permitted provided that the following conditions are met:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n    * Redistributions in binary form must reproduce the above copyright\n      notice, this list of conditions and the following disclaimer in the\n      documentation and/or other materials provided with the distribution.\n\n  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n  ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY\n  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n/*jslint vars:false, bitwise:true*/\n/*jshint indent:4*/\n/*global exports:true*/\n(function clone(exports) {\n    'use strict';\n\n    var Syntax,\n        VisitorOption,\n        VisitorKeys,\n        BREAK,\n        SKIP,\n        REMOVE;\n\n    function deepCopy(obj) {\n        var ret = {}, key, val;\n        for (key in obj) {\n            if (obj.hasOwnProperty(key)) {\n                val = obj[key];\n                if (typeof val === 'object' && val !== null) {\n                    ret[key] = deepCopy(val);\n                } else {\n                    ret[key] = val;\n                }\n            }\n        }\n        return ret;\n    }\n\n    // based on LLVM libc++ upper_bound / lower_bound\n    // MIT License\n\n    function upperBound(array, func) {\n        var diff, len, i, current;\n\n        len = array.length;\n        i = 0;\n\n        while (len) {\n            diff = len >>> 1;\n            current = i + diff;\n            if (func(array[current])) {\n                len = diff;\n            } else {\n                i = current + 1;\n                len -= diff + 1;\n            }\n        }\n        return i;\n    }\n\n    Syntax = {\n        AssignmentExpression: 'AssignmentExpression',\n        AssignmentPattern: 'AssignmentPattern',\n        ArrayExpression: 'ArrayExpression',\n        ArrayPattern: 'ArrayPattern',\n        ArrowFunctionExpression: 'ArrowFunctionExpression',\n        AwaitExpression: 'AwaitExpression', // CAUTION: It's deferred to ES7.\n        BlockStatement: 'BlockStatement',\n        BinaryExpression: 'BinaryExpression',\n        BreakStatement: 'BreakStatement',\n        CallExpression: 'CallExpression',\n        CatchClause: 'CatchClause',\n        ChainExpression: 'ChainExpression',\n        ClassBody: 'ClassBody',\n        ClassDeclaration: 'ClassDeclaration',\n        ClassExpression: 'ClassExpression',\n        ComprehensionBlock: 'ComprehensionBlock',  // CAUTION: It's deferred to ES7.\n        ComprehensionExpression: 'ComprehensionExpression',  // CAUTION: It's deferred to ES7.\n        ConditionalExpression: 'ConditionalExpression',\n        ContinueStatement: 'ContinueStatement',\n        DebuggerStatement: 'DebuggerStatement',\n        DirectiveStatement: 'DirectiveStatement',\n        DoWhileStatement: 'DoWhileStatement',\n        EmptyStatement: 'EmptyStatement',\n        ExportAllDeclaration: 'ExportAllDeclaration',\n        ExportDefaultDeclaration: 'ExportDefaultDeclaration',\n        ExportNamedDeclaration: 'ExportNamedDeclaration',\n        ExportSpecifier: 'ExportSpecifier',\n        ExpressionStatement: 'ExpressionStatement',\n        ForStatement: 'ForStatement',\n        ForInStatement: 'ForInStatement',\n        ForOfStatement: 'ForOfStatement',\n        FunctionDeclaration: 'FunctionDeclaration',\n        FunctionExpression: 'FunctionExpression',\n        GeneratorExpression: 'GeneratorExpression',  // CAUTION: It's deferred to ES7.\n        Identifier: 'Identifier',\n        IfStatement: 'IfStatement',\n        ImportExpression: 'ImportExpression',\n        ImportDeclaration: 'ImportDeclaration',\n        ImportDefaultSpecifier: 'ImportDefaultSpecifier',\n        ImportNamespaceSpecifier: 'ImportNamespaceSpecifier',\n        ImportSpecifier: 'ImportSpecifier',\n        Literal: 'Literal',\n        LabeledStatement: 'LabeledStatement',\n        LogicalExpression: 'LogicalExpression',\n        MemberExpression: 'MemberExpression',\n        MetaProperty: 'MetaProperty',\n        MethodDefinition: 'MethodDefinition',\n        ModuleSpecifier: 'ModuleSpecifier',\n        NewExpression: 'NewExpression',\n        ObjectExpression: 'ObjectExpression',\n        ObjectPattern: 'ObjectPattern',\n        PrivateIdentifier: 'PrivateIdentifier',\n        Program: 'Program',\n        Property: 'Property',\n        PropertyDefinition: 'PropertyDefinition',\n        RestElement: 'RestElement',\n        ReturnStatement: 'ReturnStatement',\n        SequenceExpression: 'SequenceExpression',\n        SpreadElement: 'SpreadElement',\n        Super: 'Super',\n        SwitchStatement: 'SwitchStatement',\n        SwitchCase: 'SwitchCase',\n        TaggedTemplateExpression: 'TaggedTemplateExpression',\n        TemplateElement: 'TemplateElement',\n        TemplateLiteral: 'TemplateLiteral',\n        ThisExpression: 'ThisExpression',\n        ThrowStatement: 'ThrowStatement',\n        TryStatement: 'TryStatement',\n        UnaryExpression: 'UnaryExpression',\n        UpdateExpression: 'UpdateExpression',\n        VariableDeclaration: 'VariableDeclaration',\n        VariableDeclarator: 'VariableDeclarator',\n        WhileStatement: 'WhileStatement',\n        WithStatement: 'WithStatement',\n        YieldExpression: 'YieldExpression'\n    };\n\n    VisitorKeys = {\n        AssignmentExpression: ['left', 'right'],\n        AssignmentPattern: ['left', 'right'],\n        ArrayExpression: ['elements'],\n        ArrayPattern: ['elements'],\n        ArrowFunctionExpression: ['params', 'body'],\n        AwaitExpression: ['argument'], // CAUTION: It's deferred to ES7.\n        BlockStatement: ['body'],\n        BinaryExpression: ['left', 'right'],\n        BreakStatement: ['label'],\n        CallExpression: ['callee', 'arguments'],\n        CatchClause: ['param', 'body'],\n        ChainExpression: ['expression'],\n        ClassBody: ['body'],\n        ClassDeclaration: ['id', 'superClass', 'body'],\n        ClassExpression: ['id', 'superClass', 'body'],\n        ComprehensionBlock: ['left', 'right'],  // CAUTION: It's deferred to ES7.\n        ComprehensionExpression: ['blocks', 'filter', 'body'],  // CAUTION: It's deferred to ES7.\n        ConditionalExpression: ['test', 'consequent', 'alternate'],\n        ContinueStatement: ['label'],\n        DebuggerStatement: [],\n        DirectiveStatement: [],\n        DoWhileStatement: ['body', 'test'],\n        EmptyStatement: [],\n        ExportAllDeclaration: ['source'],\n        ExportDefaultDeclaration: ['declaration'],\n        ExportNamedDeclaration: ['declaration', 'specifiers', 'source'],\n        ExportSpecifier: ['exported', 'local'],\n        ExpressionStatement: ['expression'],\n        ForStatement: ['init', 'test', 'update', 'body'],\n        ForInStatement: ['left', 'right', 'body'],\n        ForOfStatement: ['left', 'right', 'body'],\n        FunctionDeclaration: ['id', 'params', 'body'],\n        FunctionExpression: ['id', 'params', 'body'],\n        GeneratorExpression: ['blocks', 'filter', 'body'],  // CAUTION: It's deferred to ES7.\n        Identifier: [],\n        IfStatement: ['test', 'consequent', 'alternate'],\n        ImportExpression: ['source'],\n        ImportDeclaration: ['specifiers', 'source'],\n        ImportDefaultSpecifier: ['local'],\n        ImportNamespaceSpecifier: ['local'],\n        ImportSpecifier: ['imported', 'local'],\n        Literal: [],\n        LabeledStatement: ['label', 'body'],\n        LogicalExpression: ['left', 'right'],\n        MemberExpression: ['object', 'property'],\n        MetaProperty: ['meta', 'property'],\n        MethodDefinition: ['key', 'value'],\n        ModuleSpecifier: [],\n        NewExpression: ['callee', 'arguments'],\n        ObjectExpression: ['properties'],\n        ObjectPattern: ['properties'],\n        PrivateIdentifier: [],\n        Program: ['body'],\n        Property: ['key', 'value'],\n        PropertyDefinition: ['key', 'value'],\n        RestElement: [ 'argument' ],\n        ReturnStatement: ['argument'],\n        SequenceExpression: ['expressions'],\n        SpreadElement: ['argument'],\n        Super: [],\n        SwitchStatement: ['discriminant', 'cases'],\n        SwitchCase: ['test', 'consequent'],\n        TaggedTemplateExpression: ['tag', 'quasi'],\n        TemplateElement: [],\n        TemplateLiteral: ['quasis', 'expressions'],\n        ThisExpression: [],\n        ThrowStatement: ['argument'],\n        TryStatement: ['block', 'handler', 'finalizer'],\n        UnaryExpression: ['argument'],\n        UpdateExpression: ['argument'],\n        VariableDeclaration: ['declarations'],\n        VariableDeclarator: ['id', 'init'],\n        WhileStatement: ['test', 'body'],\n        WithStatement: ['object', 'body'],\n        YieldExpression: ['argument']\n    };\n\n    // unique id\n    BREAK = {};\n    SKIP = {};\n    REMOVE = {};\n\n    VisitorOption = {\n        Break: BREAK,\n        Skip: SKIP,\n        Remove: REMOVE\n    };\n\n    function Reference(parent, key) {\n        this.parent = parent;\n        this.key = key;\n    }\n\n    Reference.prototype.replace = function replace(node) {\n        this.parent[this.key] = node;\n    };\n\n    Reference.prototype.remove = function remove() {\n        if (Array.isArray(this.parent)) {\n            this.parent.splice(this.key, 1);\n            return true;\n        } else {\n            this.replace(null);\n            return false;\n        }\n    };\n\n    function Element(node, path, wrap, ref) {\n        this.node = node;\n        this.path = path;\n        this.wrap = wrap;\n        this.ref = ref;\n    }\n\n    function Controller() { }\n\n    // API:\n    // return property path array from root to current node\n    Controller.prototype.path = function path() {\n        var i, iz, j, jz, result, element;\n\n        function addToPath(result, path) {\n            if (Array.isArray(path)) {\n                for (j = 0, jz = path.length; j < jz; ++j) {\n                    result.push(path[j]);\n                }\n            } else {\n                result.push(path);\n            }\n        }\n\n        // root node\n        if (!this.__current.path) {\n            return null;\n        }\n\n        // first node is sentinel, second node is root element\n        result = [];\n        for (i = 2, iz = this.__leavelist.length; i < iz; ++i) {\n            element = this.__leavelist[i];\n            addToPath(result, element.path);\n        }\n        addToPath(result, this.__current.path);\n        return result;\n    };\n\n    // API:\n    // return type of current node\n    Controller.prototype.type = function () {\n        var node = this.current();\n        return node.type || this.__current.wrap;\n    };\n\n    // API:\n    // return array of parent elements\n    Controller.prototype.parents = function parents() {\n        var i, iz, result;\n\n        // first node is sentinel\n        result = [];\n        for (i = 1, iz = this.__leavelist.length; i < iz; ++i) {\n            result.push(this.__leavelist[i].node);\n        }\n\n        return result;\n    };\n\n    // API:\n    // return current node\n    Controller.prototype.current = function current() {\n        return this.__current.node;\n    };\n\n    Controller.prototype.__execute = function __execute(callback, element) {\n        var previous, result;\n\n        result = undefined;\n\n        previous  = this.__current;\n        this.__current = element;\n        this.__state = null;\n        if (callback) {\n            result = callback.call(this, element.node, this.__leavelist[this.__leavelist.length - 1].node);\n        }\n        this.__current = previous;\n\n        return result;\n    };\n\n    // API:\n    // notify control skip / break\n    Controller.prototype.notify = function notify(flag) {\n        this.__state = flag;\n    };\n\n    // API:\n    // skip child nodes of current node\n    Controller.prototype.skip = function () {\n        this.notify(SKIP);\n    };\n\n    // API:\n    // break traversals\n    Controller.prototype['break'] = function () {\n        this.notify(BREAK);\n    };\n\n    // API:\n    // remove node\n    Controller.prototype.remove = function () {\n        this.notify(REMOVE);\n    };\n\n    Controller.prototype.__initialize = function(root, visitor) {\n        this.visitor = visitor;\n        this.root = root;\n        this.__worklist = [];\n        this.__leavelist = [];\n        this.__current = null;\n        this.__state = null;\n        this.__fallback = null;\n        if (visitor.fallback === 'iteration') {\n            this.__fallback = Object.keys;\n        } else if (typeof visitor.fallback === 'function') {\n            this.__fallback = visitor.fallback;\n        }\n\n        this.__keys = VisitorKeys;\n        if (visitor.keys) {\n            this.__keys = Object.assign(Object.create(this.__keys), visitor.keys);\n        }\n    };\n\n    function isNode(node) {\n        if (node == null) {\n            return false;\n        }\n        return typeof node === 'object' && typeof node.type === 'string';\n    }\n\n    function isProperty(nodeType, key) {\n        return (nodeType === Syntax.ObjectExpression || nodeType === Syntax.ObjectPattern) && 'properties' === key;\n    }\n  \n    function candidateExistsInLeaveList(leavelist, candidate) {\n        for (var i = leavelist.length - 1; i >= 0; --i) {\n            if (leavelist[i].node === candidate) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    Controller.prototype.traverse = function traverse(root, visitor) {\n        var worklist,\n            leavelist,\n            element,\n            node,\n            nodeType,\n            ret,\n            key,\n            current,\n            current2,\n            candidates,\n            candidate,\n            sentinel;\n\n        this.__initialize(root, visitor);\n\n        sentinel = {};\n\n        // reference\n        worklist = this.__worklist;\n        leavelist = this.__leavelist;\n\n        // initialize\n        worklist.push(new Element(root, null, null, null));\n        leavelist.push(new Element(null, null, null, null));\n\n        while (worklist.length) {\n            element = worklist.pop();\n\n            if (element === sentinel) {\n                element = leavelist.pop();\n\n                ret = this.__execute(visitor.leave, element);\n\n                if (this.__state === BREAK || ret === BREAK) {\n                    return;\n                }\n                continue;\n            }\n\n            if (element.node) {\n\n                ret = this.__execute(visitor.enter, element);\n\n                if (this.__state === BREAK || ret === BREAK) {\n                    return;\n                }\n\n                worklist.push(sentinel);\n                leavelist.push(element);\n\n                if (this.__state === SKIP || ret === SKIP) {\n                    continue;\n                }\n\n                node = element.node;\n                nodeType = node.type || element.wrap;\n                candidates = this.__keys[nodeType];\n                if (!candidates) {\n                    if (this.__fallback) {\n                        candidates = this.__fallback(node);\n                    } else {\n                        throw new Error('Unknown node type ' + nodeType + '.');\n                    }\n                }\n\n                current = candidates.length;\n                while ((current -= 1) >= 0) {\n                    key = candidates[current];\n                    candidate = node[key];\n                    if (!candidate) {\n                        continue;\n                    }\n\n                    if (Array.isArray(candidate)) {\n                        current2 = candidate.length;\n                        while ((current2 -= 1) >= 0) {\n                            if (!candidate[current2]) {\n                                continue;\n                            }\n\n                            if (candidateExistsInLeaveList(leavelist, candidate[current2])) {\n                              continue;\n                            }\n\n                            if (isProperty(nodeType, candidates[current])) {\n                                element = new Element(candidate[current2], [key, current2], 'Property', null);\n                            } else if (isNode(candidate[current2])) {\n                                element = new Element(candidate[current2], [key, current2], null, null);\n                            } else {\n                                continue;\n                            }\n                            worklist.push(element);\n                        }\n                    } else if (isNode(candidate)) {\n                        if (candidateExistsInLeaveList(leavelist, candidate)) {\n                          continue;\n                        }\n\n                        worklist.push(new Element(candidate, key, null, null));\n                    }\n                }\n            }\n        }\n    };\n\n    Controller.prototype.replace = function replace(root, visitor) {\n        var worklist,\n            leavelist,\n            node,\n            nodeType,\n            target,\n            element,\n            current,\n            current2,\n            candidates,\n            candidate,\n            sentinel,\n            outer,\n            key;\n\n        function removeElem(element) {\n            var i,\n                key,\n                nextElem,\n                parent;\n\n            if (element.ref.remove()) {\n                // When the reference is an element of an array.\n                key = element.ref.key;\n                parent = element.ref.parent;\n\n                // If removed from array, then decrease following items' keys.\n                i = worklist.length;\n                while (i--) {\n                    nextElem = worklist[i];\n                    if (nextElem.ref && nextElem.ref.parent === parent) {\n                        if  (nextElem.ref.key < key) {\n                            break;\n                        }\n                        --nextElem.ref.key;\n                    }\n                }\n            }\n        }\n\n        this.__initialize(root, visitor);\n\n        sentinel = {};\n\n        // reference\n        worklist = this.__worklist;\n        leavelist = this.__leavelist;\n\n        // initialize\n        outer = {\n            root: root\n        };\n        element = new Element(root, null, null, new Reference(outer, 'root'));\n        worklist.push(element);\n        leavelist.push(element);\n\n        while (worklist.length) {\n            element = worklist.pop();\n\n            if (element === sentinel) {\n                element = leavelist.pop();\n\n                target = this.__execute(visitor.leave, element);\n\n                // node may be replaced with null,\n                // so distinguish between undefined and null in this place\n                if (target !== undefined && target !== BREAK && target !== SKIP && target !== REMOVE) {\n                    // replace\n                    element.ref.replace(target);\n                }\n\n                if (this.__state === REMOVE || target === REMOVE) {\n                    removeElem(element);\n                }\n\n                if (this.__state === BREAK || target === BREAK) {\n                    return outer.root;\n                }\n                continue;\n            }\n\n            target = this.__execute(visitor.enter, element);\n\n            // node may be replaced with null,\n            // so distinguish between undefined and null in this place\n            if (target !== undefined && target !== BREAK && target !== SKIP && target !== REMOVE) {\n                // replace\n                element.ref.replace(target);\n                element.node = target;\n            }\n\n            if (this.__state === REMOVE || target === REMOVE) {\n                removeElem(element);\n                element.node = null;\n            }\n\n            if (this.__state === BREAK || target === BREAK) {\n                return outer.root;\n            }\n\n            // node may be null\n            node = element.node;\n            if (!node) {\n                continue;\n            }\n\n            worklist.push(sentinel);\n            leavelist.push(element);\n\n            if (this.__state === SKIP || target === SKIP) {\n                continue;\n            }\n\n            nodeType = node.type || element.wrap;\n            candidates = this.__keys[nodeType];\n            if (!candidates) {\n                if (this.__fallback) {\n                    candidates = this.__fallback(node);\n                } else {\n                    throw new Error('Unknown node type ' + nodeType + '.');\n                }\n            }\n\n            current = candidates.length;\n            while ((current -= 1) >= 0) {\n                key = candidates[current];\n                candidate = node[key];\n                if (!candidate) {\n                    continue;\n                }\n\n                if (Array.isArray(candidate)) {\n                    current2 = candidate.length;\n                    while ((current2 -= 1) >= 0) {\n                        if (!candidate[current2]) {\n                            continue;\n                        }\n                        if (isProperty(nodeType, candidates[current])) {\n                            element = new Element(candidate[current2], [key, current2], 'Property', new Reference(candidate, current2));\n                        } else if (isNode(candidate[current2])) {\n                            element = new Element(candidate[current2], [key, current2], null, new Reference(candidate, current2));\n                        } else {\n                            continue;\n                        }\n                        worklist.push(element);\n                    }\n                } else if (isNode(candidate)) {\n                    worklist.push(new Element(candidate, key, null, new Reference(node, key)));\n                }\n            }\n        }\n\n        return outer.root;\n    };\n\n    function traverse(root, visitor) {\n        var controller = new Controller();\n        return controller.traverse(root, visitor);\n    }\n\n    function replace(root, visitor) {\n        var controller = new Controller();\n        return controller.replace(root, visitor);\n    }\n\n    function extendCommentRange(comment, tokens) {\n        var target;\n\n        target = upperBound(tokens, function search(token) {\n            return token.range[0] > comment.range[0];\n        });\n\n        comment.extendedRange = [comment.range[0], comment.range[1]];\n\n        if (target !== tokens.length) {\n            comment.extendedRange[1] = tokens[target].range[0];\n        }\n\n        target -= 1;\n        if (target >= 0) {\n            comment.extendedRange[0] = tokens[target].range[1];\n        }\n\n        return comment;\n    }\n\n    function attachComments(tree, providedComments, tokens) {\n        // At first, we should calculate extended comment ranges.\n        var comments = [], comment, len, i, cursor;\n\n        if (!tree.range) {\n            throw new Error('attachComments needs range information');\n        }\n\n        // tokens array is empty, we attach comments to tree as 'leadingComments'\n        if (!tokens.length) {\n            if (providedComments.length) {\n                for (i = 0, len = providedComments.length; i < len; i += 1) {\n                    comment = deepCopy(providedComments[i]);\n                    comment.extendedRange = [0, tree.range[0]];\n                    comments.push(comment);\n                }\n                tree.leadingComments = comments;\n            }\n            return tree;\n        }\n\n        for (i = 0, len = providedComments.length; i < len; i += 1) {\n            comments.push(extendCommentRange(deepCopy(providedComments[i]), tokens));\n        }\n\n        // This is based on John Freeman's implementation.\n        cursor = 0;\n        traverse(tree, {\n            enter: function (node) {\n                var comment;\n\n                while (cursor < comments.length) {\n                    comment = comments[cursor];\n                    if (comment.extendedRange[1] > node.range[0]) {\n                        break;\n                    }\n\n                    if (comment.extendedRange[1] === node.range[0]) {\n                        if (!node.leadingComments) {\n                            node.leadingComments = [];\n                        }\n                        node.leadingComments.push(comment);\n                        comments.splice(cursor, 1);\n                    } else {\n                        cursor += 1;\n                    }\n                }\n\n                // already out of owned node\n                if (cursor === comments.length) {\n                    return VisitorOption.Break;\n                }\n\n                if (comments[cursor].extendedRange[0] > node.range[1]) {\n                    return VisitorOption.Skip;\n                }\n            }\n        });\n\n        cursor = 0;\n        traverse(tree, {\n            leave: function (node) {\n                var comment;\n\n                while (cursor < comments.length) {\n                    comment = comments[cursor];\n                    if (node.range[1] < comment.extendedRange[0]) {\n                        break;\n                    }\n\n                    if (node.range[1] === comment.extendedRange[0]) {\n                        if (!node.trailingComments) {\n                            node.trailingComments = [];\n                        }\n                        node.trailingComments.push(comment);\n                        comments.splice(cursor, 1);\n                    } else {\n                        cursor += 1;\n                    }\n                }\n\n                // already out of owned node\n                if (cursor === comments.length) {\n                    return VisitorOption.Break;\n                }\n\n                if (comments[cursor].extendedRange[0] > node.range[1]) {\n                    return VisitorOption.Skip;\n                }\n            }\n        });\n\n        return tree;\n    }\n\n    exports.Syntax = Syntax;\n    exports.traverse = traverse;\n    exports.replace = replace;\n    exports.attachComments = attachComments;\n    exports.VisitorKeys = VisitorKeys;\n    exports.VisitorOption = VisitorOption;\n    exports.Controller = Controller;\n    exports.cloneEnvironment = function () { return clone({}); };\n\n    return exports;\n}(exports));\n/* vim: set sw=4 ts=4 et tw=80 : */\n","/*\n  Copyright (C) 2013 Yusuke Suzuki <utatane.tea@gmail.com>\n\n  Redistribution and use in source and binary forms, with or without\n  modification, are permitted provided that the following conditions are met:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n    * Redistributions in binary form must reproduce the above copyright\n      notice, this list of conditions and the following disclaimer in the\n      documentation and/or other materials provided with the distribution.\n\n  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\n  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n  ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY\n  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n(function () {\n    'use strict';\n\n    function isExpression(node) {\n        if (node == null) { return false; }\n        switch (node.type) {\n            case 'ArrayExpression':\n            case 'AssignmentExpression':\n            case 'BinaryExpression':\n            case 'CallExpression':\n            case 'ConditionalExpression':\n            case 'FunctionExpression':\n            case 'Identifier':\n            case 'Literal':\n            case 'LogicalExpression':\n            case 'MemberExpression':\n            case 'NewExpression':\n            case 'ObjectExpression':\n            case 'SequenceExpression':\n            case 'ThisExpression':\n            case 'UnaryExpression':\n            case 'UpdateExpression':\n                return true;\n        }\n        return false;\n    }\n\n    function isIterationStatement(node) {\n        if (node == null) { return false; }\n        switch (node.type) {\n            case 'DoWhileStatement':\n            case 'ForInStatement':\n            case 'ForStatement':\n            case 'WhileStatement':\n                return true;\n        }\n        return false;\n    }\n\n    function isStatement(node) {\n        if (node == null) { return false; }\n        switch (node.type) {\n            case 'BlockStatement':\n            case 'BreakStatement':\n            case 'ContinueStatement':\n            case 'DebuggerStatement':\n            case 'DoWhileStatement':\n            case 'EmptyStatement':\n            case 'ExpressionStatement':\n            case 'ForInStatement':\n            case 'ForStatement':\n            case 'IfStatement':\n            case 'LabeledStatement':\n            case 'ReturnStatement':\n            case 'SwitchStatement':\n            case 'ThrowStatement':\n            case 'TryStatement':\n            case 'VariableDeclaration':\n            case 'WhileStatement':\n            case 'WithStatement':\n                return true;\n        }\n        return false;\n    }\n\n    function isSourceElement(node) {\n      return isStatement(node) || node != null && node.type === 'FunctionDeclaration';\n    }\n\n    function trailingStatement(node) {\n        switch (node.type) {\n        case 'IfStatement':\n            if (node.alternate != null) {\n                return node.alternate;\n            }\n            return node.consequent;\n\n        case 'LabeledStatement':\n        case 'ForStatement':\n        case 'ForInStatement':\n        case 'WhileStatement':\n        case 'WithStatement':\n            return node.body;\n        }\n        return null;\n    }\n\n    function isProblematicIfStatement(node) {\n        var current;\n\n        if (node.type !== 'IfStatement') {\n            return false;\n        }\n        if (node.alternate == null) {\n            return false;\n        }\n        current = node.consequent;\n        do {\n            if (current.type === 'IfStatement') {\n                if (current.alternate == null)  {\n                    return true;\n                }\n            }\n            current = trailingStatement(current);\n        } while (current);\n\n        return false;\n    }\n\n    module.exports = {\n        isExpression: isExpression,\n        isStatement: isStatement,\n        isIterationStatement: isIterationStatement,\n        isSourceElement: isSourceElement,\n        isProblematicIfStatement: isProblematicIfStatement,\n\n        trailingStatement: trailingStatement\n    };\n}());\n/* vim: set sw=4 ts=4 et tw=80 : */\n","/*\n  Copyright (C) 2013-2014 Yusuke Suzuki <utatane.tea@gmail.com>\n  Copyright (C) 2014 Ivan Nikulin <ifaaan@gmail.com>\n\n  Redistribution and use in source and binary forms, with or without\n  modification, are permitted provided that the following conditions are met:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n    * Redistributions in binary form must reproduce the above copyright\n      notice, this list of conditions and the following disclaimer in the\n      documentation and/or other materials provided with the distribution.\n\n  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n  ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY\n  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n(function () {\n    'use strict';\n\n    var ES6Regex, ES5Regex, NON_ASCII_WHITESPACES, IDENTIFIER_START, IDENTIFIER_PART, ch;\n\n    // See `tools/generate-identifier-regex.js`.\n    ES5Regex = {\n        // ECMAScript 5.1/Unicode v9.0.0 NonAsciiIdentifierStart:\n        NonAsciiIdentifierStart: /[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B4\\u08B6-\\u08BD\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1C80-\\u1C88\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]/,\n        // ECMAScript 5.1/Unicode v9.0.0 NonAsciiIdentifierPart:\n        NonAsciiIdentifierPart: /[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B4\\u08B6-\\u08BD\\u08D4-\\u08E1\\u08E3-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0AF9\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58-\\u0C5A\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C80-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D54-\\u0D57\\u0D5F-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1C80-\\u1C88\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFB-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C5\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA8FD\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]/\n    };\n\n    ES6Regex = {\n        // ECMAScript 6/Unicode v9.0.0 NonAsciiIdentifierStart:\n        NonAsciiIdentifierStart: /[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B4\\u08B6-\\u08BD\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1C80-\\u1C88\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2118-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309B-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF30-\\uDF4A\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDF00-\\uDF19]|\\uD806[\\uDCA0-\\uDCDF\\uDCFF\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC72-\\uDC8F]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50\\uDF93-\\uDF9F\\uDFE0]|\\uD821[\\uDC00-\\uDFEC]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00\\uDC01]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD83A[\\uDC00-\\uDCC4\\uDD00-\\uDD43]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1]|\\uD87E[\\uDC00-\\uDE1D]/,\n        // ECMAScript 6/Unicode v9.0.0 NonAsciiIdentifierPart:\n        NonAsciiIdentifierPart: /[\\xAA\\xB5\\xB7\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B4\\u08B6-\\u08BD\\u08D4-\\u08E1\\u08E3-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0AF9\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58-\\u0C5A\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C80-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D54-\\u0D57\\u0D5F-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1369-\\u1371\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19DA\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1C80-\\u1C88\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFB-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2118-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C5\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA8FD\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDDFD\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE0\\uDF00-\\uDF1F\\uDF30-\\uDF4A\\uDF50-\\uDF7A\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE38-\\uDE3A\\uDE3F\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE6\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC00-\\uDC46\\uDC66-\\uDC6F\\uDC7F-\\uDCBA\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD00-\\uDD34\\uDD36-\\uDD3F\\uDD50-\\uDD73\\uDD76\\uDD80-\\uDDC4\\uDDCA-\\uDDCC\\uDDD0-\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE37\\uDE3E\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEEA\\uDEF0-\\uDEF9\\uDF00-\\uDF03\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3C-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF50\\uDF57\\uDF5D-\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC00-\\uDC4A\\uDC50-\\uDC59\\uDC80-\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDB5\\uDDB8-\\uDDC0\\uDDD8-\\uDDDD\\uDE00-\\uDE40\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEB7\\uDEC0-\\uDEC9\\uDF00-\\uDF19\\uDF1D-\\uDF2B\\uDF30-\\uDF39]|\\uD806[\\uDCA0-\\uDCE9\\uDCFF\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC36\\uDC38-\\uDC40\\uDC50-\\uDC59\\uDC72-\\uDC8F\\uDC92-\\uDCA7\\uDCA9-\\uDCB6]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDED0-\\uDEED\\uDEF0-\\uDEF4\\uDF00-\\uDF36\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50-\\uDF7E\\uDF8F-\\uDF9F\\uDFE0]|\\uD821[\\uDC00-\\uDFEC]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00\\uDC01]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD836[\\uDE00-\\uDE36\\uDE3B-\\uDE6C\\uDE75\\uDE84\\uDE9B-\\uDE9F\\uDEA1-\\uDEAF]|\\uD838[\\uDC00-\\uDC06\\uDC08-\\uDC18\\uDC1B-\\uDC21\\uDC23\\uDC24\\uDC26-\\uDC2A]|\\uD83A[\\uDC00-\\uDCC4\\uDCD0-\\uDCD6\\uDD00-\\uDD4A\\uDD50-\\uDD59]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1]|\\uD87E[\\uDC00-\\uDE1D]|\\uDB40[\\uDD00-\\uDDEF]/\n    };\n\n    function isDecimalDigit(ch) {\n        return 0x30 <= ch && ch <= 0x39;  // 0..9\n    }\n\n    function isHexDigit(ch) {\n        return 0x30 <= ch && ch <= 0x39 ||  // 0..9\n            0x61 <= ch && ch <= 0x66 ||     // a..f\n            0x41 <= ch && ch <= 0x46;       // A..F\n    }\n\n    function isOctalDigit(ch) {\n        return ch >= 0x30 && ch <= 0x37;  // 0..7\n    }\n\n    // 7.2 White Space\n\n    NON_ASCII_WHITESPACES = [\n        0x1680,\n        0x2000, 0x2001, 0x2002, 0x2003, 0x2004, 0x2005, 0x2006, 0x2007, 0x2008, 0x2009, 0x200A,\n        0x202F, 0x205F,\n        0x3000,\n        0xFEFF\n    ];\n\n    function isWhiteSpace(ch) {\n        return ch === 0x20 || ch === 0x09 || ch === 0x0B || ch === 0x0C || ch === 0xA0 ||\n            ch >= 0x1680 && NON_ASCII_WHITESPACES.indexOf(ch) >= 0;\n    }\n\n    // 7.3 Line Terminators\n\n    function isLineTerminator(ch) {\n        return ch === 0x0A || ch === 0x0D || ch === 0x2028 || ch === 0x2029;\n    }\n\n    // 7.6 Identifier Names and Identifiers\n\n    function fromCodePoint(cp) {\n        if (cp <= 0xFFFF) { return String.fromCharCode(cp); }\n        var cu1 = String.fromCharCode(Math.floor((cp - 0x10000) / 0x400) + 0xD800);\n        var cu2 = String.fromCharCode(((cp - 0x10000) % 0x400) + 0xDC00);\n        return cu1 + cu2;\n    }\n\n    IDENTIFIER_START = new Array(0x80);\n    for(ch = 0; ch < 0x80; ++ch) {\n        IDENTIFIER_START[ch] =\n            ch >= 0x61 && ch <= 0x7A ||  // a..z\n            ch >= 0x41 && ch <= 0x5A ||  // A..Z\n            ch === 0x24 || ch === 0x5F;  // $ (dollar) and _ (underscore)\n    }\n\n    IDENTIFIER_PART = new Array(0x80);\n    for(ch = 0; ch < 0x80; ++ch) {\n        IDENTIFIER_PART[ch] =\n            ch >= 0x61 && ch <= 0x7A ||  // a..z\n            ch >= 0x41 && ch <= 0x5A ||  // A..Z\n            ch >= 0x30 && ch <= 0x39 ||  // 0..9\n            ch === 0x24 || ch === 0x5F;  // $ (dollar) and _ (underscore)\n    }\n\n    function isIdentifierStartES5(ch) {\n        return ch < 0x80 ? IDENTIFIER_START[ch] : ES5Regex.NonAsciiIdentifierStart.test(fromCodePoint(ch));\n    }\n\n    function isIdentifierPartES5(ch) {\n        return ch < 0x80 ? IDENTIFIER_PART[ch] : ES5Regex.NonAsciiIdentifierPart.test(fromCodePoint(ch));\n    }\n\n    function isIdentifierStartES6(ch) {\n        return ch < 0x80 ? IDENTIFIER_START[ch] : ES6Regex.NonAsciiIdentifierStart.test(fromCodePoint(ch));\n    }\n\n    function isIdentifierPartES6(ch) {\n        return ch < 0x80 ? IDENTIFIER_PART[ch] : ES6Regex.NonAsciiIdentifierPart.test(fromCodePoint(ch));\n    }\n\n    module.exports = {\n        isDecimalDigit: isDecimalDigit,\n        isHexDigit: isHexDigit,\n        isOctalDigit: isOctalDigit,\n        isWhiteSpace: isWhiteSpace,\n        isLineTerminator: isLineTerminator,\n        isIdentifierStartES5: isIdentifierStartES5,\n        isIdentifierPartES5: isIdentifierPartES5,\n        isIdentifierStartES6: isIdentifierStartES6,\n        isIdentifierPartES6: isIdentifierPartES6\n    };\n}());\n/* vim: set sw=4 ts=4 et tw=80 : */\n","/*\n  Copyright (C) 2013 Yusuke Suzuki <utatane.tea@gmail.com>\n\n  Redistribution and use in source and binary forms, with or without\n  modification, are permitted provided that the following conditions are met:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n    * Redistributions in binary form must reproduce the above copyright\n      notice, this list of conditions and the following disclaimer in the\n      documentation and/or other materials provided with the distribution.\n\n  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n  ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY\n  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n(function () {\n    'use strict';\n\n    var code = require('./code');\n\n    function isStrictModeReservedWordES6(id) {\n        switch (id) {\n        case 'implements':\n        case 'interface':\n        case 'package':\n        case 'private':\n        case 'protected':\n        case 'public':\n        case 'static':\n        case 'let':\n            return true;\n        default:\n            return false;\n        }\n    }\n\n    function isKeywordES5(id, strict) {\n        // yield should not be treated as keyword under non-strict mode.\n        if (!strict && id === 'yield') {\n            return false;\n        }\n        return isKeywordES6(id, strict);\n    }\n\n    function isKeywordES6(id, strict) {\n        if (strict && isStrictModeReservedWordES6(id)) {\n            return true;\n        }\n\n        switch (id.length) {\n        case 2:\n            return (id === 'if') || (id === 'in') || (id === 'do');\n        case 3:\n            return (id === 'var') || (id === 'for') || (id === 'new') || (id === 'try');\n        case 4:\n            return (id === 'this') || (id === 'else') || (id === 'case') ||\n                (id === 'void') || (id === 'with') || (id === 'enum');\n        case 5:\n            return (id === 'while') || (id === 'break') || (id === 'catch') ||\n                (id === 'throw') || (id === 'const') || (id === 'yield') ||\n                (id === 'class') || (id === 'super');\n        case 6:\n            return (id === 'return') || (id === 'typeof') || (id === 'delete') ||\n                (id === 'switch') || (id === 'export') || (id === 'import');\n        case 7:\n            return (id === 'default') || (id === 'finally') || (id === 'extends');\n        case 8:\n            return (id === 'function') || (id === 'continue') || (id === 'debugger');\n        case 10:\n            return (id === 'instanceof');\n        default:\n            return false;\n        }\n    }\n\n    function isReservedWordES5(id, strict) {\n        return id === 'null' || id === 'true' || id === 'false' || isKeywordES5(id, strict);\n    }\n\n    function isReservedWordES6(id, strict) {\n        return id === 'null' || id === 'true' || id === 'false' || isKeywordES6(id, strict);\n    }\n\n    function isRestrictedWord(id) {\n        return id === 'eval' || id === 'arguments';\n    }\n\n    function isIdentifierNameES5(id) {\n        var i, iz, ch;\n\n        if (id.length === 0) { return false; }\n\n        ch = id.charCodeAt(0);\n        if (!code.isIdentifierStartES5(ch)) {\n            return false;\n        }\n\n        for (i = 1, iz = id.length; i < iz; ++i) {\n            ch = id.charCodeAt(i);\n            if (!code.isIdentifierPartES5(ch)) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    function decodeUtf16(lead, trail) {\n        return (lead - 0xD800) * 0x400 + (trail - 0xDC00) + 0x10000;\n    }\n\n    function isIdentifierNameES6(id) {\n        var i, iz, ch, lowCh, check;\n\n        if (id.length === 0) { return false; }\n\n        check = code.isIdentifierStartES6;\n        for (i = 0, iz = id.length; i < iz; ++i) {\n            ch = id.charCodeAt(i);\n            if (0xD800 <= ch && ch <= 0xDBFF) {\n                ++i;\n                if (i >= iz) { return false; }\n                lowCh = id.charCodeAt(i);\n                if (!(0xDC00 <= lowCh && lowCh <= 0xDFFF)) {\n                    return false;\n                }\n                ch = decodeUtf16(ch, lowCh);\n            }\n            if (!check(ch)) {\n                return false;\n            }\n            check = code.isIdentifierPartES6;\n        }\n        return true;\n    }\n\n    function isIdentifierES5(id, strict) {\n        return isIdentifierNameES5(id) && !isReservedWordES5(id, strict);\n    }\n\n    function isIdentifierES6(id, strict) {\n        return isIdentifierNameES6(id) && !isReservedWordES6(id, strict);\n    }\n\n    module.exports = {\n        isKeywordES5: isKeywordES5,\n        isKeywordES6: isKeywordES6,\n        isReservedWordES5: isReservedWordES5,\n        isReservedWordES6: isReservedWordES6,\n        isRestrictedWord: isRestrictedWord,\n        isIdentifierNameES5: isIdentifierNameES5,\n        isIdentifierNameES6: isIdentifierNameES6,\n        isIdentifierES5: isIdentifierES5,\n        isIdentifierES6: isIdentifierES6\n    };\n}());\n/* vim: set sw=4 ts=4 et tw=80 : */\n","/*\n  Copyright (C) 2013 Yusuke Suzuki <utatane.tea@gmail.com>\n\n  Redistribution and use in source and binary forms, with or without\n  modification, are permitted provided that the following conditions are met:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n    * Redistributions in binary form must reproduce the above copyright\n      notice, this list of conditions and the following disclaimer in the\n      documentation and/or other materials provided with the distribution.\n\n  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n  ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY\n  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n\n(function () {\n    'use strict';\n\n    exports.ast = require('./ast');\n    exports.code = require('./code');\n    exports.keyword = require('./keyword');\n}());\n/* vim: set sw=4 ts=4 et tw=80 : */\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar intToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n\n/**\n * Encode an integer in the range of 0 to 63 to a single base 64 digit.\n */\nexports.encode = function (number) {\n  if (0 <= number && number < intToCharMap.length) {\n    return intToCharMap[number];\n  }\n  throw new TypeError(\"Must be between 0 and 63: \" + number);\n};\n\n/**\n * Decode a single base 64 character code digit to an integer. Returns -1 on\n * failure.\n */\nexports.decode = function (charCode) {\n  var bigA = 65;     // 'A'\n  var bigZ = 90;     // 'Z'\n\n  var littleA = 97;  // 'a'\n  var littleZ = 122; // 'z'\n\n  var zero = 48;     // '0'\n  var nine = 57;     // '9'\n\n  var plus = 43;     // '+'\n  var slash = 47;    // '/'\n\n  var littleOffset = 26;\n  var numberOffset = 52;\n\n  // 0 - 25: ABCDEFGHIJKLMNOPQRSTUVWXYZ\n  if (bigA <= charCode && charCode <= bigZ) {\n    return (charCode - bigA);\n  }\n\n  // 26 - 51: abcdefghijklmnopqrstuvwxyz\n  if (littleA <= charCode && charCode <= littleZ) {\n    return (charCode - littleA + littleOffset);\n  }\n\n  // 52 - 61: 0123456789\n  if (zero <= charCode && charCode <= nine) {\n    return (charCode - zero + numberOffset);\n  }\n\n  // 62: +\n  if (charCode == plus) {\n    return 62;\n  }\n\n  // 63: /\n  if (charCode == slash) {\n    return 63;\n  }\n\n  // Invalid base64 digit.\n  return -1;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n *\n * Based on the Base 64 VLQ implementation in Closure Compiler:\n * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java\n *\n * Copyright 2011 The Closure Compiler Authors. All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above\n *    copyright notice, this list of conditions and the following\n *    disclaimer in the documentation and/or other materials provided\n *    with the distribution.\n *  * Neither the name of Google Inc. nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nvar base64 = require('./base64');\n\n// A single base 64 digit can contain 6 bits of data. For the base 64 variable\n// length quantities we use in the source map spec, the first bit is the sign,\n// the next four bits are the actual value, and the 6th bit is the\n// continuation bit. The continuation bit tells us whether there are more\n// digits in this value following this digit.\n//\n//   Continuation\n//   |    Sign\n//   |    |\n//   V    V\n//   101011\n\nvar VLQ_BASE_SHIFT = 5;\n\n// binary: 100000\nvar VLQ_BASE = 1 << VLQ_BASE_SHIFT;\n\n// binary: 011111\nvar VLQ_BASE_MASK = VLQ_BASE - 1;\n\n// binary: 100000\nvar VLQ_CONTINUATION_BIT = VLQ_BASE;\n\n/**\n * Converts from a two-complement value to a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)\n *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)\n */\nfunction toVLQSigned(aValue) {\n  return aValue < 0\n    ? ((-aValue) << 1) + 1\n    : (aValue << 1) + 0;\n}\n\n/**\n * Converts to a two-complement value from a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1\n *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2\n */\nfunction fromVLQSigned(aValue) {\n  var isNegative = (aValue & 1) === 1;\n  var shifted = aValue >> 1;\n  return isNegative\n    ? -shifted\n    : shifted;\n}\n\n/**\n * Returns the base 64 VLQ encoded value.\n */\nexports.encode = function base64VLQ_encode(aValue) {\n  var encoded = \"\";\n  var digit;\n\n  var vlq = toVLQSigned(aValue);\n\n  do {\n    digit = vlq & VLQ_BASE_MASK;\n    vlq >>>= VLQ_BASE_SHIFT;\n    if (vlq > 0) {\n      // There are still more digits in this value, so we must make sure the\n      // continuation bit is marked.\n      digit |= VLQ_CONTINUATION_BIT;\n    }\n    encoded += base64.encode(digit);\n  } while (vlq > 0);\n\n  return encoded;\n};\n\n/**\n * Decodes the next base 64 VLQ value from the given string and returns the\n * value and the rest of the string via the out parameter.\n */\nexports.decode = function base64VLQ_decode(aStr, aIndex, aOutParam) {\n  var strLen = aStr.length;\n  var result = 0;\n  var shift = 0;\n  var continuation, digit;\n\n  do {\n    if (aIndex >= strLen) {\n      throw new Error(\"Expected more digits in base 64 VLQ value.\");\n    }\n\n    digit = base64.decode(aStr.charCodeAt(aIndex++));\n    if (digit === -1) {\n      throw new Error(\"Invalid base64 digit: \" + aStr.charAt(aIndex - 1));\n    }\n\n    continuation = !!(digit & VLQ_CONTINUATION_BIT);\n    digit &= VLQ_BASE_MASK;\n    result = result + (digit << shift);\n    shift += VLQ_BASE_SHIFT;\n  } while (continuation);\n\n  aOutParam.value = fromVLQSigned(result);\n  aOutParam.rest = aIndex;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n/**\n * This is a helper function for getting values from parameter/options\n * objects.\n *\n * @param args The object we are extracting values from\n * @param name The name of the property we are getting.\n * @param defaultValue An optional value to return if the property is missing\n * from the object. If this is not specified and the property is missing, an\n * error will be thrown.\n */\nfunction getArg(aArgs, aName, aDefaultValue) {\n  if (aName in aArgs) {\n    return aArgs[aName];\n  } else if (arguments.length === 3) {\n    return aDefaultValue;\n  } else {\n    throw new Error('\"' + aName + '\" is a required argument.');\n  }\n}\nexports.getArg = getArg;\n\nvar urlRegexp = /^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.-]*)(?::(\\d+))?(.*)$/;\nvar dataUrlRegexp = /^data:.+\\,.+$/;\n\nfunction urlParse(aUrl) {\n  var match = aUrl.match(urlRegexp);\n  if (!match) {\n    return null;\n  }\n  return {\n    scheme: match[1],\n    auth: match[2],\n    host: match[3],\n    port: match[4],\n    path: match[5]\n  };\n}\nexports.urlParse = urlParse;\n\nfunction urlGenerate(aParsedUrl) {\n  var url = '';\n  if (aParsedUrl.scheme) {\n    url += aParsedUrl.scheme + ':';\n  }\n  url += '//';\n  if (aParsedUrl.auth) {\n    url += aParsedUrl.auth + '@';\n  }\n  if (aParsedUrl.host) {\n    url += aParsedUrl.host;\n  }\n  if (aParsedUrl.port) {\n    url += \":\" + aParsedUrl.port\n  }\n  if (aParsedUrl.path) {\n    url += aParsedUrl.path;\n  }\n  return url;\n}\nexports.urlGenerate = urlGenerate;\n\n/**\n * Normalizes a path, or the path portion of a URL:\n *\n * - Replaces consecutive slashes with one slash.\n * - Removes unnecessary '.' parts.\n * - Removes unnecessary '<dir>/..' parts.\n *\n * Based on code in the Node.js 'path' core module.\n *\n * @param aPath The path or url to normalize.\n */\nfunction normalize(aPath) {\n  var path = aPath;\n  var url = urlParse(aPath);\n  if (url) {\n    if (!url.path) {\n      return aPath;\n    }\n    path = url.path;\n  }\n  var isAbsolute = exports.isAbsolute(path);\n\n  var parts = path.split(/\\/+/);\n  for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {\n    part = parts[i];\n    if (part === '.') {\n      parts.splice(i, 1);\n    } else if (part === '..') {\n      up++;\n    } else if (up > 0) {\n      if (part === '') {\n        // The first part is blank if the path is absolute. Trying to go\n        // above the root is a no-op. Therefore we can remove all '..' parts\n        // directly after the root.\n        parts.splice(i + 1, up);\n        up = 0;\n      } else {\n        parts.splice(i, 2);\n        up--;\n      }\n    }\n  }\n  path = parts.join('/');\n\n  if (path === '') {\n    path = isAbsolute ? '/' : '.';\n  }\n\n  if (url) {\n    url.path = path;\n    return urlGenerate(url);\n  }\n  return path;\n}\nexports.normalize = normalize;\n\n/**\n * Joins two paths/URLs.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be joined with the root.\n *\n * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a\n *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended\n *   first.\n * - Otherwise aPath is a path. If aRoot is a URL, then its path portion\n *   is updated with the result and aRoot is returned. Otherwise the result\n *   is returned.\n *   - If aPath is absolute, the result is aPath.\n *   - Otherwise the two paths are joined with a slash.\n * - Joining for example 'http://' and 'www.example.com' is also supported.\n */\nfunction join(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n  if (aPath === \"\") {\n    aPath = \".\";\n  }\n  var aPathUrl = urlParse(aPath);\n  var aRootUrl = urlParse(aRoot);\n  if (aRootUrl) {\n    aRoot = aRootUrl.path || '/';\n  }\n\n  // `join(foo, '//www.example.org')`\n  if (aPathUrl && !aPathUrl.scheme) {\n    if (aRootUrl) {\n      aPathUrl.scheme = aRootUrl.scheme;\n    }\n    return urlGenerate(aPathUrl);\n  }\n\n  if (aPathUrl || aPath.match(dataUrlRegexp)) {\n    return aPath;\n  }\n\n  // `join('http://', 'www.example.com')`\n  if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {\n    aRootUrl.host = aPath;\n    return urlGenerate(aRootUrl);\n  }\n\n  var joined = aPath.charAt(0) === '/'\n    ? aPath\n    : normalize(aRoot.replace(/\\/+$/, '') + '/' + aPath);\n\n  if (aRootUrl) {\n    aRootUrl.path = joined;\n    return urlGenerate(aRootUrl);\n  }\n  return joined;\n}\nexports.join = join;\n\nexports.isAbsolute = function (aPath) {\n  return aPath.charAt(0) === '/' || urlRegexp.test(aPath);\n};\n\n/**\n * Make a path relative to a URL or another path.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be made relative to aRoot.\n */\nfunction relative(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n\n  aRoot = aRoot.replace(/\\/$/, '');\n\n  // It is possible for the path to be above the root. In this case, simply\n  // checking whether the root is a prefix of the path won't work. Instead, we\n  // need to remove components from the root one by one, until either we find\n  // a prefix that fits, or we run out of components to remove.\n  var level = 0;\n  while (aPath.indexOf(aRoot + '/') !== 0) {\n    var index = aRoot.lastIndexOf(\"/\");\n    if (index < 0) {\n      return aPath;\n    }\n\n    // If the only part of the root that is left is the scheme (i.e. http://,\n    // file:///, etc.), one or more slashes (/), or simply nothing at all, we\n    // have exhausted all components, so the path is not relative to the root.\n    aRoot = aRoot.slice(0, index);\n    if (aRoot.match(/^([^\\/]+:\\/)?\\/*$/)) {\n      return aPath;\n    }\n\n    ++level;\n  }\n\n  // Make sure we add a \"../\" for each component we removed from the root.\n  return Array(level + 1).join(\"../\") + aPath.substr(aRoot.length + 1);\n}\nexports.relative = relative;\n\nvar supportsNullProto = (function () {\n  var obj = Object.create(null);\n  return !('__proto__' in obj);\n}());\n\nfunction identity (s) {\n  return s;\n}\n\n/**\n * Because behavior goes wacky when you set `__proto__` on objects, we\n * have to prefix all the strings in our set with an arbitrary character.\n *\n * See https://github.com/mozilla/source-map/pull/31 and\n * https://github.com/mozilla/source-map/issues/30\n *\n * @param String aStr\n */\nfunction toSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return '$' + aStr;\n  }\n\n  return aStr;\n}\nexports.toSetString = supportsNullProto ? identity : toSetString;\n\nfunction fromSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return aStr.slice(1);\n  }\n\n  return aStr;\n}\nexports.fromSetString = supportsNullProto ? identity : fromSetString;\n\nfunction isProtoString(s) {\n  if (!s) {\n    return false;\n  }\n\n  var length = s.length;\n\n  if (length < 9 /* \"__proto__\".length */) {\n    return false;\n  }\n\n  if (s.charCodeAt(length - 1) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 2) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 3) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 4) !== 116 /* 't' */ ||\n      s.charCodeAt(length - 5) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 6) !== 114 /* 'r' */ ||\n      s.charCodeAt(length - 7) !== 112 /* 'p' */ ||\n      s.charCodeAt(length - 8) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 9) !== 95  /* '_' */) {\n    return false;\n  }\n\n  for (var i = length - 10; i >= 0; i--) {\n    if (s.charCodeAt(i) !== 36 /* '$' */) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Comparator between two mappings where the original positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same original source/line/column, but different generated\n * line and column the same. Useful when searching for a mapping with a\n * stubbed out mapping.\n */\nfunction compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {\n  var cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0 || onlyCompareOriginal) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByOriginalPositions = compareByOriginalPositions;\n\n/**\n * Comparator between two mappings with deflated source and name indices where\n * the generated positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same generated line and column, but different\n * source/name/original line and column the same. Useful when searching for a\n * mapping with a stubbed out mapping.\n */\nfunction compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0 || onlyCompareGenerated) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;\n\nfunction strcmp(aStr1, aStr2) {\n  if (aStr1 === aStr2) {\n    return 0;\n  }\n\n  if (aStr1 === null) {\n    return 1; // aStr2 !== null\n  }\n\n  if (aStr2 === null) {\n    return -1; // aStr1 !== null\n  }\n\n  if (aStr1 > aStr2) {\n    return 1;\n  }\n\n  return -1;\n}\n\n/**\n * Comparator between two mappings with inflated source and name strings where\n * the generated positions are compared.\n */\nfunction compareByGeneratedPositionsInflated(mappingA, mappingB) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;\n\n/**\n * Strip any JSON XSSI avoidance prefix from the string (as documented\n * in the source maps specification), and then parse the string as\n * JSON.\n */\nfunction parseSourceMapInput(str) {\n  return JSON.parse(str.replace(/^\\)]}'[^\\n]*\\n/, ''));\n}\nexports.parseSourceMapInput = parseSourceMapInput;\n\n/**\n * Compute the URL of a source given the the source root, the source's\n * URL, and the source map's URL.\n */\nfunction computeSourceURL(sourceRoot, sourceURL, sourceMapURL) {\n  sourceURL = sourceURL || '';\n\n  if (sourceRoot) {\n    // This follows what Chrome does.\n    if (sourceRoot[sourceRoot.length - 1] !== '/' && sourceURL[0] !== '/') {\n      sourceRoot += '/';\n    }\n    // The spec says:\n    //   Line 4: An optional source root, useful for relocating source\n    //   files on a server or removing repeated values in the\n    //   â€œsourcesâ€ entry.  This value is prepended to the individual\n    //   entries in the â€œsourceâ€ field.\n    sourceURL = sourceRoot + sourceURL;\n  }\n\n  // Historically, SourceMapConsumer did not take the sourceMapURL as\n  // a parameter.  This mode is still somewhat supported, which is why\n  // this code block is conditional.  However, it's preferable to pass\n  // the source map URL to SourceMapConsumer, so that this function\n  // can implement the source URL resolution algorithm as outlined in\n  // the spec.  This block is basically the equivalent of:\n  //    new URL(sourceURL, sourceMapURL).toString()\n  // ... except it avoids using URL, which wasn't available in the\n  // older releases of node still supported by this library.\n  //\n  // The spec says:\n  //   If the sources are not absolute URLs after prepending of the\n  //   â€œsourceRootâ€, the sources are resolved relative to the\n  //   SourceMap (like resolving script src in a html document).\n  if (sourceMapURL) {\n    var parsed = urlParse(sourceMapURL);\n    if (!parsed) {\n      throw new Error(\"sourceMapURL could not be parsed\");\n    }\n    if (parsed.path) {\n      // Strip the last path component, but keep the \"/\".\n      var index = parsed.path.lastIndexOf('/');\n      if (index >= 0) {\n        parsed.path = parsed.path.substring(0, index + 1);\n      }\n    }\n    sourceURL = join(urlGenerate(parsed), sourceURL);\n  }\n\n  return normalize(sourceURL);\n}\nexports.computeSourceURL = computeSourceURL;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar has = Object.prototype.hasOwnProperty;\nvar hasNativeMap = typeof Map !== \"undefined\";\n\n/**\n * A data structure which is a combination of an array and a set. Adding a new\n * member is O(1), testing for membership is O(1), and finding the index of an\n * element is O(1). Removing elements from the set is not supported. Only\n * strings are supported for membership.\n */\nfunction ArraySet() {\n  this._array = [];\n  this._set = hasNativeMap ? new Map() : Object.create(null);\n}\n\n/**\n * Static method for creating ArraySet instances from an existing array.\n */\nArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {\n  var set = new ArraySet();\n  for (var i = 0, len = aArray.length; i < len; i++) {\n    set.add(aArray[i], aAllowDuplicates);\n  }\n  return set;\n};\n\n/**\n * Return how many unique items are in this ArraySet. If duplicates have been\n * added, than those do not count towards the size.\n *\n * @returns Number\n */\nArraySet.prototype.size = function ArraySet_size() {\n  return hasNativeMap ? this._set.size : Object.getOwnPropertyNames(this._set).length;\n};\n\n/**\n * Add the given string to this set.\n *\n * @param String aStr\n */\nArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {\n  var sStr = hasNativeMap ? aStr : util.toSetString(aStr);\n  var isDuplicate = hasNativeMap ? this.has(aStr) : has.call(this._set, sStr);\n  var idx = this._array.length;\n  if (!isDuplicate || aAllowDuplicates) {\n    this._array.push(aStr);\n  }\n  if (!isDuplicate) {\n    if (hasNativeMap) {\n      this._set.set(aStr, idx);\n    } else {\n      this._set[sStr] = idx;\n    }\n  }\n};\n\n/**\n * Is the given string a member of this set?\n *\n * @param String aStr\n */\nArraySet.prototype.has = function ArraySet_has(aStr) {\n  if (hasNativeMap) {\n    return this._set.has(aStr);\n  } else {\n    var sStr = util.toSetString(aStr);\n    return has.call(this._set, sStr);\n  }\n};\n\n/**\n * What is the index of the given string in the array?\n *\n * @param String aStr\n */\nArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {\n  if (hasNativeMap) {\n    var idx = this._set.get(aStr);\n    if (idx >= 0) {\n        return idx;\n    }\n  } else {\n    var sStr = util.toSetString(aStr);\n    if (has.call(this._set, sStr)) {\n      return this._set[sStr];\n    }\n  }\n\n  throw new Error('\"' + aStr + '\" is not in the set.');\n};\n\n/**\n * What is the element at the given index?\n *\n * @param Number aIdx\n */\nArraySet.prototype.at = function ArraySet_at(aIdx) {\n  if (aIdx >= 0 && aIdx < this._array.length) {\n    return this._array[aIdx];\n  }\n  throw new Error('No element indexed by ' + aIdx);\n};\n\n/**\n * Returns the array representation of this set (which has the proper indices\n * indicated by indexOf). Note that this is a copy of the internal array used\n * for storing the members so that no one can mess with internal state.\n */\nArraySet.prototype.toArray = function ArraySet_toArray() {\n  return this._array.slice();\n};\n\nexports.ArraySet = ArraySet;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2014 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\n\n/**\n * Determine whether mappingB is after mappingA with respect to generated\n * position.\n */\nfunction generatedPositionAfter(mappingA, mappingB) {\n  // Optimized for most common case\n  var lineA = mappingA.generatedLine;\n  var lineB = mappingB.generatedLine;\n  var columnA = mappingA.generatedColumn;\n  var columnB = mappingB.generatedColumn;\n  return lineB > lineA || lineB == lineA && columnB >= columnA ||\n         util.compareByGeneratedPositionsInflated(mappingA, mappingB) <= 0;\n}\n\n/**\n * A data structure to provide a sorted view of accumulated mappings in a\n * performance conscious manner. It trades a neglibable overhead in general\n * case for a large speedup in case of mappings being added in order.\n */\nfunction MappingList() {\n  this._array = [];\n  this._sorted = true;\n  // Serves as infimum\n  this._last = {generatedLine: -1, generatedColumn: 0};\n}\n\n/**\n * Iterate through internal items. This method takes the same arguments that\n * `Array.prototype.forEach` takes.\n *\n * NOTE: The order of the mappings is NOT guaranteed.\n */\nMappingList.prototype.unsortedForEach =\n  function MappingList_forEach(aCallback, aThisArg) {\n    this._array.forEach(aCallback, aThisArg);\n  };\n\n/**\n * Add the given source mapping.\n *\n * @param Object aMapping\n */\nMappingList.prototype.add = function MappingList_add(aMapping) {\n  if (generatedPositionAfter(this._last, aMapping)) {\n    this._last = aMapping;\n    this._array.push(aMapping);\n  } else {\n    this._sorted = false;\n    this._array.push(aMapping);\n  }\n};\n\n/**\n * Returns the flat, sorted array of mappings. The mappings are sorted by\n * generated position.\n *\n * WARNING: This method returns internal data without copying, for\n * performance. The return value must NOT be mutated, and should be treated as\n * an immutable borrow. If you want to take ownership, you must make your own\n * copy.\n */\nMappingList.prototype.toArray = function MappingList_toArray() {\n  if (!this._sorted) {\n    this._array.sort(util.compareByGeneratedPositionsInflated);\n    this._sorted = true;\n  }\n  return this._array;\n};\n\nexports.MappingList = MappingList;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar base64VLQ = require('./base64-vlq');\nvar util = require('./util');\nvar ArraySet = require('./array-set').ArraySet;\nvar MappingList = require('./mapping-list').MappingList;\n\n/**\n * An instance of the SourceMapGenerator represents a source map which is\n * being built incrementally. You may pass an object with the following\n * properties:\n *\n *   - file: The filename of the generated source.\n *   - sourceRoot: A root for all relative URLs in this source map.\n */\nfunction SourceMapGenerator(aArgs) {\n  if (!aArgs) {\n    aArgs = {};\n  }\n  this._file = util.getArg(aArgs, 'file', null);\n  this._sourceRoot = util.getArg(aArgs, 'sourceRoot', null);\n  this._skipValidation = util.getArg(aArgs, 'skipValidation', false);\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n  this._mappings = new MappingList();\n  this._sourcesContents = null;\n}\n\nSourceMapGenerator.prototype._version = 3;\n\n/**\n * Creates a new SourceMapGenerator based on a SourceMapConsumer\n *\n * @param aSourceMapConsumer The SourceMap.\n */\nSourceMapGenerator.fromSourceMap =\n  function SourceMapGenerator_fromSourceMap(aSourceMapConsumer) {\n    var sourceRoot = aSourceMapConsumer.sourceRoot;\n    var generator = new SourceMapGenerator({\n      file: aSourceMapConsumer.file,\n      sourceRoot: sourceRoot\n    });\n    aSourceMapConsumer.eachMapping(function (mapping) {\n      var newMapping = {\n        generated: {\n          line: mapping.generatedLine,\n          column: mapping.generatedColumn\n        }\n      };\n\n      if (mapping.source != null) {\n        newMapping.source = mapping.source;\n        if (sourceRoot != null) {\n          newMapping.source = util.relative(sourceRoot, newMapping.source);\n        }\n\n        newMapping.original = {\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        };\n\n        if (mapping.name != null) {\n          newMapping.name = mapping.name;\n        }\n      }\n\n      generator.addMapping(newMapping);\n    });\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var sourceRelative = sourceFile;\n      if (sourceRoot !== null) {\n        sourceRelative = util.relative(sourceRoot, sourceFile);\n      }\n\n      if (!generator._sources.has(sourceRelative)) {\n        generator._sources.add(sourceRelative);\n      }\n\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        generator.setSourceContent(sourceFile, content);\n      }\n    });\n    return generator;\n  };\n\n/**\n * Add a single mapping from original source line and column to the generated\n * source's line and column for this source map being created. The mapping\n * object should have the following properties:\n *\n *   - generated: An object with the generated line and column positions.\n *   - original: An object with the original line and column positions.\n *   - source: The original source file (relative to the sourceRoot).\n *   - name: An optional original token name for this mapping.\n */\nSourceMapGenerator.prototype.addMapping =\n  function SourceMapGenerator_addMapping(aArgs) {\n    var generated = util.getArg(aArgs, 'generated');\n    var original = util.getArg(aArgs, 'original', null);\n    var source = util.getArg(aArgs, 'source', null);\n    var name = util.getArg(aArgs, 'name', null);\n\n    if (!this._skipValidation) {\n      this._validateMapping(generated, original, source, name);\n    }\n\n    if (source != null) {\n      source = String(source);\n      if (!this._sources.has(source)) {\n        this._sources.add(source);\n      }\n    }\n\n    if (name != null) {\n      name = String(name);\n      if (!this._names.has(name)) {\n        this._names.add(name);\n      }\n    }\n\n    this._mappings.add({\n      generatedLine: generated.line,\n      generatedColumn: generated.column,\n      originalLine: original != null && original.line,\n      originalColumn: original != null && original.column,\n      source: source,\n      name: name\n    });\n  };\n\n/**\n * Set the source content for a source file.\n */\nSourceMapGenerator.prototype.setSourceContent =\n  function SourceMapGenerator_setSourceContent(aSourceFile, aSourceContent) {\n    var source = aSourceFile;\n    if (this._sourceRoot != null) {\n      source = util.relative(this._sourceRoot, source);\n    }\n\n    if (aSourceContent != null) {\n      // Add the source content to the _sourcesContents map.\n      // Create a new _sourcesContents map if the property is null.\n      if (!this._sourcesContents) {\n        this._sourcesContents = Object.create(null);\n      }\n      this._sourcesContents[util.toSetString(source)] = aSourceContent;\n    } else if (this._sourcesContents) {\n      // Remove the source file from the _sourcesContents map.\n      // If the _sourcesContents map is empty, set the property to null.\n      delete this._sourcesContents[util.toSetString(source)];\n      if (Object.keys(this._sourcesContents).length === 0) {\n        this._sourcesContents = null;\n      }\n    }\n  };\n\n/**\n * Applies the mappings of a sub-source-map for a specific source file to the\n * source map being generated. Each mapping to the supplied source file is\n * rewritten using the supplied source map. Note: The resolution for the\n * resulting mappings is the minimium of this map and the supplied map.\n *\n * @param aSourceMapConsumer The source map to be applied.\n * @param aSourceFile Optional. The filename of the source file.\n *        If omitted, SourceMapConsumer's file property will be used.\n * @param aSourceMapPath Optional. The dirname of the path to the source map\n *        to be applied. If relative, it is relative to the SourceMapConsumer.\n *        This parameter is needed when the two source maps aren't in the same\n *        directory, and the source map to be applied contains relative source\n *        paths. If so, those relative source paths need to be rewritten\n *        relative to the SourceMapGenerator.\n */\nSourceMapGenerator.prototype.applySourceMap =\n  function SourceMapGenerator_applySourceMap(aSourceMapConsumer, aSourceFile, aSourceMapPath) {\n    var sourceFile = aSourceFile;\n    // If aSourceFile is omitted, we will use the file property of the SourceMap\n    if (aSourceFile == null) {\n      if (aSourceMapConsumer.file == null) {\n        throw new Error(\n          'SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, ' +\n          'or the source map\\'s \"file\" property. Both were omitted.'\n        );\n      }\n      sourceFile = aSourceMapConsumer.file;\n    }\n    var sourceRoot = this._sourceRoot;\n    // Make \"sourceFile\" relative if an absolute Url is passed.\n    if (sourceRoot != null) {\n      sourceFile = util.relative(sourceRoot, sourceFile);\n    }\n    // Applying the SourceMap can add and remove items from the sources and\n    // the names array.\n    var newSources = new ArraySet();\n    var newNames = new ArraySet();\n\n    // Find mappings for the \"sourceFile\"\n    this._mappings.unsortedForEach(function (mapping) {\n      if (mapping.source === sourceFile && mapping.originalLine != null) {\n        // Check if it can be mapped by the source map, then update the mapping.\n        var original = aSourceMapConsumer.originalPositionFor({\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        });\n        if (original.source != null) {\n          // Copy mapping\n          mapping.source = original.source;\n          if (aSourceMapPath != null) {\n            mapping.source = util.join(aSourceMapPath, mapping.source)\n          }\n          if (sourceRoot != null) {\n            mapping.source = util.relative(sourceRoot, mapping.source);\n          }\n          mapping.originalLine = original.line;\n          mapping.originalColumn = original.column;\n          if (original.name != null) {\n            mapping.name = original.name;\n          }\n        }\n      }\n\n      var source = mapping.source;\n      if (source != null && !newSources.has(source)) {\n        newSources.add(source);\n      }\n\n      var name = mapping.name;\n      if (name != null && !newNames.has(name)) {\n        newNames.add(name);\n      }\n\n    }, this);\n    this._sources = newSources;\n    this._names = newNames;\n\n    // Copy sourcesContents of applied map.\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        if (aSourceMapPath != null) {\n          sourceFile = util.join(aSourceMapPath, sourceFile);\n        }\n        if (sourceRoot != null) {\n          sourceFile = util.relative(sourceRoot, sourceFile);\n        }\n        this.setSourceContent(sourceFile, content);\n      }\n    }, this);\n  };\n\n/**\n * A mapping can have one of the three levels of data:\n *\n *   1. Just the generated position.\n *   2. The Generated position, original position, and original source.\n *   3. Generated and original position, original source, as well as a name\n *      token.\n *\n * To maintain consistency, we validate that any new mapping being added falls\n * in to one of these categories.\n */\nSourceMapGenerator.prototype._validateMapping =\n  function SourceMapGenerator_validateMapping(aGenerated, aOriginal, aSource,\n                                              aName) {\n    // When aOriginal is truthy but has empty values for .line and .column,\n    // it is most likely a programmer error. In this case we throw a very\n    // specific error message to try to guide them the right way.\n    // For example: https://github.com/Polymer/polymer-bundler/pull/519\n    if (aOriginal && typeof aOriginal.line !== 'number' && typeof aOriginal.column !== 'number') {\n        throw new Error(\n            'original.line and original.column are not numbers -- you probably meant to omit ' +\n            'the original mapping entirely and only map the generated position. If so, pass ' +\n            'null for the original mapping instead of an object with empty or null values.'\n        );\n    }\n\n    if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n        && aGenerated.line > 0 && aGenerated.column >= 0\n        && !aOriginal && !aSource && !aName) {\n      // Case 1.\n      return;\n    }\n    else if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n             && aOriginal && 'line' in aOriginal && 'column' in aOriginal\n             && aGenerated.line > 0 && aGenerated.column >= 0\n             && aOriginal.line > 0 && aOriginal.column >= 0\n             && aSource) {\n      // Cases 2 and 3.\n      return;\n    }\n    else {\n      throw new Error('Invalid mapping: ' + JSON.stringify({\n        generated: aGenerated,\n        source: aSource,\n        original: aOriginal,\n        name: aName\n      }));\n    }\n  };\n\n/**\n * Serialize the accumulated mappings in to the stream of base 64 VLQs\n * specified by the source map format.\n */\nSourceMapGenerator.prototype._serializeMappings =\n  function SourceMapGenerator_serializeMappings() {\n    var previousGeneratedColumn = 0;\n    var previousGeneratedLine = 1;\n    var previousOriginalColumn = 0;\n    var previousOriginalLine = 0;\n    var previousName = 0;\n    var previousSource = 0;\n    var result = '';\n    var next;\n    var mapping;\n    var nameIdx;\n    var sourceIdx;\n\n    var mappings = this._mappings.toArray();\n    for (var i = 0, len = mappings.length; i < len; i++) {\n      mapping = mappings[i];\n      next = ''\n\n      if (mapping.generatedLine !== previousGeneratedLine) {\n        previousGeneratedColumn = 0;\n        while (mapping.generatedLine !== previousGeneratedLine) {\n          next += ';';\n          previousGeneratedLine++;\n        }\n      }\n      else {\n        if (i > 0) {\n          if (!util.compareByGeneratedPositionsInflated(mapping, mappings[i - 1])) {\n            continue;\n          }\n          next += ',';\n        }\n      }\n\n      next += base64VLQ.encode(mapping.generatedColumn\n                                 - previousGeneratedColumn);\n      previousGeneratedColumn = mapping.generatedColumn;\n\n      if (mapping.source != null) {\n        sourceIdx = this._sources.indexOf(mapping.source);\n        next += base64VLQ.encode(sourceIdx - previousSource);\n        previousSource = sourceIdx;\n\n        // lines are stored 0-based in SourceMap spec version 3\n        next += base64VLQ.encode(mapping.originalLine - 1\n                                   - previousOriginalLine);\n        previousOriginalLine = mapping.originalLine - 1;\n\n        next += base64VLQ.encode(mapping.originalColumn\n                                   - previousOriginalColumn);\n        previousOriginalColumn = mapping.originalColumn;\n\n        if (mapping.name != null) {\n          nameIdx = this._names.indexOf(mapping.name);\n          next += base64VLQ.encode(nameIdx - previousName);\n          previousName = nameIdx;\n        }\n      }\n\n      result += next;\n    }\n\n    return result;\n  };\n\nSourceMapGenerator.prototype._generateSourcesContent =\n  function SourceMapGenerator_generateSourcesContent(aSources, aSourceRoot) {\n    return aSources.map(function (source) {\n      if (!this._sourcesContents) {\n        return null;\n      }\n      if (aSourceRoot != null) {\n        source = util.relative(aSourceRoot, source);\n      }\n      var key = util.toSetString(source);\n      return Object.prototype.hasOwnProperty.call(this._sourcesContents, key)\n        ? this._sourcesContents[key]\n        : null;\n    }, this);\n  };\n\n/**\n * Externalize the source map.\n */\nSourceMapGenerator.prototype.toJSON =\n  function SourceMapGenerator_toJSON() {\n    var map = {\n      version: this._version,\n      sources: this._sources.toArray(),\n      names: this._names.toArray(),\n      mappings: this._serializeMappings()\n    };\n    if (this._file != null) {\n      map.file = this._file;\n    }\n    if (this._sourceRoot != null) {\n      map.sourceRoot = this._sourceRoot;\n    }\n    if (this._sourcesContents) {\n      map.sourcesContent = this._generateSourcesContent(map.sources, map.sourceRoot);\n    }\n\n    return map;\n  };\n\n/**\n * Render the source map being generated to a string.\n */\nSourceMapGenerator.prototype.toString =\n  function SourceMapGenerator_toString() {\n    return JSON.stringify(this.toJSON());\n  };\n\nexports.SourceMapGenerator = SourceMapGenerator;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nexports.GREATEST_LOWER_BOUND = 1;\nexports.LEAST_UPPER_BOUND = 2;\n\n/**\n * Recursive implementation of binary search.\n *\n * @param aLow Indices here and lower do not contain the needle.\n * @param aHigh Indices here and higher do not contain the needle.\n * @param aNeedle The element being searched for.\n * @param aHaystack The non-empty array being searched.\n * @param aCompare Function which takes two elements and returns -1, 0, or 1.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n */\nfunction recursiveSearch(aLow, aHigh, aNeedle, aHaystack, aCompare, aBias) {\n  // This function terminates when one of the following is true:\n  //\n  //   1. We find the exact element we are looking for.\n  //\n  //   2. We did not find the exact element, but we can return the index of\n  //      the next-closest element.\n  //\n  //   3. We did not find the exact element, and there is no next-closest\n  //      element than the one we are searching for, so we return -1.\n  var mid = Math.floor((aHigh - aLow) / 2) + aLow;\n  var cmp = aCompare(aNeedle, aHaystack[mid], true);\n  if (cmp === 0) {\n    // Found the element we are looking for.\n    return mid;\n  }\n  else if (cmp > 0) {\n    // Our needle is greater than aHaystack[mid].\n    if (aHigh - mid > 1) {\n      // The element is in the upper half.\n      return recursiveSearch(mid, aHigh, aNeedle, aHaystack, aCompare, aBias);\n    }\n\n    // The exact needle element was not found in this haystack. Determine if\n    // we are in termination case (3) or (2) and return the appropriate thing.\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return aHigh < aHaystack.length ? aHigh : -1;\n    } else {\n      return mid;\n    }\n  }\n  else {\n    // Our needle is less than aHaystack[mid].\n    if (mid - aLow > 1) {\n      // The element is in the lower half.\n      return recursiveSearch(aLow, mid, aNeedle, aHaystack, aCompare, aBias);\n    }\n\n    // we are in termination case (3) or (2) and return the appropriate thing.\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return mid;\n    } else {\n      return aLow < 0 ? -1 : aLow;\n    }\n  }\n}\n\n/**\n * This is an implementation of binary search which will always try and return\n * the index of the closest element if there is no exact hit. This is because\n * mappings between original and generated line/col pairs are single points,\n * and there is an implicit region between each of them, so a miss just means\n * that you aren't on the very start of a region.\n *\n * @param aNeedle The element you are looking for.\n * @param aHaystack The array that is being searched.\n * @param aCompare A function which takes the needle and an element in the\n *     array and returns -1, 0, or 1 depending on whether the needle is less\n *     than, equal to, or greater than the element, respectively.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'binarySearch.GREATEST_LOWER_BOUND'.\n */\nexports.search = function search(aNeedle, aHaystack, aCompare, aBias) {\n  if (aHaystack.length === 0) {\n    return -1;\n  }\n\n  var index = recursiveSearch(-1, aHaystack.length, aNeedle, aHaystack,\n                              aCompare, aBias || exports.GREATEST_LOWER_BOUND);\n  if (index < 0) {\n    return -1;\n  }\n\n  // We have found either the exact element, or the next-closest element than\n  // the one we are searching for. However, there may be more than one such\n  // element. Make sure we always return the smallest of these.\n  while (index - 1 >= 0) {\n    if (aCompare(aHaystack[index], aHaystack[index - 1], true) !== 0) {\n      break;\n    }\n    --index;\n  }\n\n  return index;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n// It turns out that some (most?) JavaScript engines don't self-host\n// `Array.prototype.sort`. This makes sense because C++ will likely remain\n// faster than JS when doing raw CPU-intensive sorting. However, when using a\n// custom comparator function, calling back and forth between the VM's C++ and\n// JIT'd JS is rather slow *and* loses JIT type information, resulting in\n// worse generated code for the comparator function than would be optimal. In\n// fact, when sorting with a comparator, these costs outweigh the benefits of\n// sorting in C++. By using our own JS-implemented Quick Sort (below), we get\n// a ~3500ms mean speed-up in `bench/bench.html`.\n\n/**\n * Swap the elements indexed by `x` and `y` in the array `ary`.\n *\n * @param {Array} ary\n *        The array.\n * @param {Number} x\n *        The index of the first item.\n * @param {Number} y\n *        The index of the second item.\n */\nfunction swap(ary, x, y) {\n  var temp = ary[x];\n  ary[x] = ary[y];\n  ary[y] = temp;\n}\n\n/**\n * Returns a random integer within the range `low .. high` inclusive.\n *\n * @param {Number} low\n *        The lower bound on the range.\n * @param {Number} high\n *        The upper bound on the range.\n */\nfunction randomIntInRange(low, high) {\n  return Math.round(low + (Math.random() * (high - low)));\n}\n\n/**\n * The Quick Sort algorithm.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n * @param {Number} p\n *        Start index of the array\n * @param {Number} r\n *        End index of the array\n */\nfunction doQuickSort(ary, comparator, p, r) {\n  // If our lower bound is less than our upper bound, we (1) partition the\n  // array into two pieces and (2) recurse on each half. If it is not, this is\n  // the empty array and our base case.\n\n  if (p < r) {\n    // (1) Partitioning.\n    //\n    // The partitioning chooses a pivot between `p` and `r` and moves all\n    // elements that are less than or equal to the pivot to the before it, and\n    // all the elements that are greater than it after it. The effect is that\n    // once partition is done, the pivot is in the exact place it will be when\n    // the array is put in sorted order, and it will not need to be moved\n    // again. This runs in O(n) time.\n\n    // Always choose a random pivot so that an input array which is reverse\n    // sorted does not cause O(n^2) running time.\n    var pivotIndex = randomIntInRange(p, r);\n    var i = p - 1;\n\n    swap(ary, pivotIndex, r);\n    var pivot = ary[r];\n\n    // Immediately after `j` is incremented in this loop, the following hold\n    // true:\n    //\n    //   * Every element in `ary[p .. i]` is less than or equal to the pivot.\n    //\n    //   * Every element in `ary[i+1 .. j-1]` is greater than the pivot.\n    for (var j = p; j < r; j++) {\n      if (comparator(ary[j], pivot) <= 0) {\n        i += 1;\n        swap(ary, i, j);\n      }\n    }\n\n    swap(ary, i + 1, j);\n    var q = i + 1;\n\n    // (2) Recurse on each half.\n\n    doQuickSort(ary, comparator, p, q - 1);\n    doQuickSort(ary, comparator, q + 1, r);\n  }\n}\n\n/**\n * Sort the given array in-place with the given comparator function.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n */\nexports.quickSort = function (ary, comparator) {\n  doQuickSort(ary, comparator, 0, ary.length - 1);\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar binarySearch = require('./binary-search');\nvar ArraySet = require('./array-set').ArraySet;\nvar base64VLQ = require('./base64-vlq');\nvar quickSort = require('./quick-sort').quickSort;\n\nfunction SourceMapConsumer(aSourceMap, aSourceMapURL) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = util.parseSourceMapInput(aSourceMap);\n  }\n\n  return sourceMap.sections != null\n    ? new IndexedSourceMapConsumer(sourceMap, aSourceMapURL)\n    : new BasicSourceMapConsumer(sourceMap, aSourceMapURL);\n}\n\nSourceMapConsumer.fromSourceMap = function(aSourceMap, aSourceMapURL) {\n  return BasicSourceMapConsumer.fromSourceMap(aSourceMap, aSourceMapURL);\n}\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nSourceMapConsumer.prototype._version = 3;\n\n// `__generatedMappings` and `__originalMappings` are arrays that hold the\n// parsed mapping coordinates from the source map's \"mappings\" attribute. They\n// are lazily instantiated, accessed via the `_generatedMappings` and\n// `_originalMappings` getters respectively, and we only parse the mappings\n// and create these arrays once queried for a source location. We jump through\n// these hoops because there can be many thousands of mappings, and parsing\n// them is expensive, so we only want to do it if we must.\n//\n// Each object in the arrays is of the form:\n//\n//     {\n//       generatedLine: The line number in the generated code,\n//       generatedColumn: The column number in the generated code,\n//       source: The path to the original source file that generated this\n//               chunk of code,\n//       originalLine: The line number in the original source that\n//                     corresponds to this chunk of generated code,\n//       originalColumn: The column number in the original source that\n//                       corresponds to this chunk of generated code,\n//       name: The name of the original symbol which generated this chunk of\n//             code.\n//     }\n//\n// All properties except for `generatedLine` and `generatedColumn` can be\n// `null`.\n//\n// `_generatedMappings` is ordered by the generated positions.\n//\n// `_originalMappings` is ordered by the original positions.\n\nSourceMapConsumer.prototype.__generatedMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_generatedMappings', {\n  configurable: true,\n  enumerable: true,\n  get: function () {\n    if (!this.__generatedMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__generatedMappings;\n  }\n});\n\nSourceMapConsumer.prototype.__originalMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_originalMappings', {\n  configurable: true,\n  enumerable: true,\n  get: function () {\n    if (!this.__originalMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__originalMappings;\n  }\n});\n\nSourceMapConsumer.prototype._charIsMappingSeparator =\n  function SourceMapConsumer_charIsMappingSeparator(aStr, index) {\n    var c = aStr.charAt(index);\n    return c === \";\" || c === \",\";\n  };\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nSourceMapConsumer.prototype._parseMappings =\n  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    throw new Error(\"Subclasses must implement _parseMappings\");\n  };\n\nSourceMapConsumer.GENERATED_ORDER = 1;\nSourceMapConsumer.ORIGINAL_ORDER = 2;\n\nSourceMapConsumer.GREATEST_LOWER_BOUND = 1;\nSourceMapConsumer.LEAST_UPPER_BOUND = 2;\n\n/**\n * Iterate over each mapping between an original source/line/column and a\n * generated line/column in this source map.\n *\n * @param Function aCallback\n *        The function that is called with each mapping.\n * @param Object aContext\n *        Optional. If specified, this object will be the value of `this` every\n *        time that `aCallback` is called.\n * @param aOrder\n *        Either `SourceMapConsumer.GENERATED_ORDER` or\n *        `SourceMapConsumer.ORIGINAL_ORDER`. Specifies whether you want to\n *        iterate over the mappings sorted by the generated file's line/column\n *        order or the original's source/line/column order, respectively. Defaults to\n *        `SourceMapConsumer.GENERATED_ORDER`.\n */\nSourceMapConsumer.prototype.eachMapping =\n  function SourceMapConsumer_eachMapping(aCallback, aContext, aOrder) {\n    var context = aContext || null;\n    var order = aOrder || SourceMapConsumer.GENERATED_ORDER;\n\n    var mappings;\n    switch (order) {\n    case SourceMapConsumer.GENERATED_ORDER:\n      mappings = this._generatedMappings;\n      break;\n    case SourceMapConsumer.ORIGINAL_ORDER:\n      mappings = this._originalMappings;\n      break;\n    default:\n      throw new Error(\"Unknown order of iteration.\");\n    }\n\n    var sourceRoot = this.sourceRoot;\n    mappings.map(function (mapping) {\n      var source = mapping.source === null ? null : this._sources.at(mapping.source);\n      source = util.computeSourceURL(sourceRoot, source, this._sourceMapURL);\n      return {\n        source: source,\n        generatedLine: mapping.generatedLine,\n        generatedColumn: mapping.generatedColumn,\n        originalLine: mapping.originalLine,\n        originalColumn: mapping.originalColumn,\n        name: mapping.name === null ? null : this._names.at(mapping.name)\n      };\n    }, this).forEach(aCallback, context);\n  };\n\n/**\n * Returns all generated line and column information for the original source,\n * line, and column provided. If no column is provided, returns all mappings\n * corresponding to a either the line we are searching for or the next\n * closest line that has any mappings. Otherwise, returns all mappings\n * corresponding to the given line and either the column we are searching for\n * or the next closest column that has any offsets.\n *\n * The only argument is an object with the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.  The line number is 1-based.\n *   - column: Optional. the column number in the original source.\n *    The column number is 0-based.\n *\n * and an array of objects is returned, each with the following properties:\n *\n *   - line: The line number in the generated source, or null.  The\n *    line number is 1-based.\n *   - column: The column number in the generated source, or null.\n *    The column number is 0-based.\n */\nSourceMapConsumer.prototype.allGeneratedPositionsFor =\n  function SourceMapConsumer_allGeneratedPositionsFor(aArgs) {\n    var line = util.getArg(aArgs, 'line');\n\n    // When there is no exact match, BasicSourceMapConsumer.prototype._findMapping\n    // returns the index of the closest mapping less than the needle. By\n    // setting needle.originalColumn to 0, we thus find the last mapping for\n    // the given line, provided such a mapping exists.\n    var needle = {\n      source: util.getArg(aArgs, 'source'),\n      originalLine: line,\n      originalColumn: util.getArg(aArgs, 'column', 0)\n    };\n\n    needle.source = this._findSourceIndex(needle.source);\n    if (needle.source < 0) {\n      return [];\n    }\n\n    var mappings = [];\n\n    var index = this._findMapping(needle,\n                                  this._originalMappings,\n                                  \"originalLine\",\n                                  \"originalColumn\",\n                                  util.compareByOriginalPositions,\n                                  binarySearch.LEAST_UPPER_BOUND);\n    if (index >= 0) {\n      var mapping = this._originalMappings[index];\n\n      if (aArgs.column === undefined) {\n        var originalLine = mapping.originalLine;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we found. Since\n        // mappings are sorted, this is guaranteed to find all mappings for\n        // the line we found.\n        while (mapping && mapping.originalLine === originalLine) {\n          mappings.push({\n            line: util.getArg(mapping, 'generatedLine', null),\n            column: util.getArg(mapping, 'generatedColumn', null),\n            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      } else {\n        var originalColumn = mapping.originalColumn;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we were searching for.\n        // Since mappings are sorted, this is guaranteed to find all mappings for\n        // the line we are searching for.\n        while (mapping &&\n               mapping.originalLine === line &&\n               mapping.originalColumn == originalColumn) {\n          mappings.push({\n            line: util.getArg(mapping, 'generatedLine', null),\n            column: util.getArg(mapping, 'generatedColumn', null),\n            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      }\n    }\n\n    return mappings;\n  };\n\nexports.SourceMapConsumer = SourceMapConsumer;\n\n/**\n * A BasicSourceMapConsumer instance represents a parsed source map which we can\n * query for information about the original file positions by giving it a file\n * position in the generated source.\n *\n * The first parameter is the raw source map (either as a JSON string, or\n * already parsed to an object). According to the spec, source maps have the\n * following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - sources: An array of URLs to the original source files.\n *   - names: An array of identifiers which can be referrenced by individual mappings.\n *   - sourceRoot: Optional. The URL root from which all sources are relative.\n *   - sourcesContent: Optional. An array of contents of the original source files.\n *   - mappings: A string of base64 VLQs which contain the actual mappings.\n *   - file: Optional. The generated file this source map is associated with.\n *\n * Here is an example source map, taken from the source map spec[0]:\n *\n *     {\n *       version : 3,\n *       file: \"out.js\",\n *       sourceRoot : \"\",\n *       sources: [\"foo.js\", \"bar.js\"],\n *       names: [\"src\", \"maps\", \"are\", \"fun\"],\n *       mappings: \"AA,AB;;ABCDE;\"\n *     }\n *\n * The second parameter, if given, is a string whose value is the URL\n * at which the source map was found.  This URL is used to compute the\n * sources array.\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?pli=1#\n */\nfunction BasicSourceMapConsumer(aSourceMap, aSourceMapURL) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = util.parseSourceMapInput(aSourceMap);\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sources = util.getArg(sourceMap, 'sources');\n  // Sass 3.3 leaves out the 'names' array, so we deviate from the spec (which\n  // requires the array) to play nice here.\n  var names = util.getArg(sourceMap, 'names', []);\n  var sourceRoot = util.getArg(sourceMap, 'sourceRoot', null);\n  var sourcesContent = util.getArg(sourceMap, 'sourcesContent', null);\n  var mappings = util.getArg(sourceMap, 'mappings');\n  var file = util.getArg(sourceMap, 'file', null);\n\n  // Once again, Sass deviates from the spec and supplies the version as a\n  // string rather than a number, so we use loose equality checking here.\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  if (sourceRoot) {\n    sourceRoot = util.normalize(sourceRoot);\n  }\n\n  sources = sources\n    .map(String)\n    // Some source maps produce relative source paths like \"./foo.js\" instead of\n    // \"foo.js\".  Normalize these first so that future comparisons will succeed.\n    // See bugzil.la/1090768.\n    .map(util.normalize)\n    // Always ensure that absolute sources are internally stored relative to\n    // the source root, if the source root is absolute. Not doing this would\n    // be particularly problematic when the source root is a prefix of the\n    // source (valid, but why??). See github issue #199 and bugzil.la/1188982.\n    .map(function (source) {\n      return sourceRoot && util.isAbsolute(sourceRoot) && util.isAbsolute(source)\n        ? util.relative(sourceRoot, source)\n        : source;\n    });\n\n  // Pass `true` below to allow duplicate names and sources. While source maps\n  // are intended to be compressed and deduplicated, the TypeScript compiler\n  // sometimes generates source maps with duplicates in them. See Github issue\n  // #72 and bugzil.la/889492.\n  this._names = ArraySet.fromArray(names.map(String), true);\n  this._sources = ArraySet.fromArray(sources, true);\n\n  this._absoluteSources = this._sources.toArray().map(function (s) {\n    return util.computeSourceURL(sourceRoot, s, aSourceMapURL);\n  });\n\n  this.sourceRoot = sourceRoot;\n  this.sourcesContent = sourcesContent;\n  this._mappings = mappings;\n  this._sourceMapURL = aSourceMapURL;\n  this.file = file;\n}\n\nBasicSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nBasicSourceMapConsumer.prototype.consumer = SourceMapConsumer;\n\n/**\n * Utility function to find the index of a source.  Returns -1 if not\n * found.\n */\nBasicSourceMapConsumer.prototype._findSourceIndex = function(aSource) {\n  var relativeSource = aSource;\n  if (this.sourceRoot != null) {\n    relativeSource = util.relative(this.sourceRoot, relativeSource);\n  }\n\n  if (this._sources.has(relativeSource)) {\n    return this._sources.indexOf(relativeSource);\n  }\n\n  // Maybe aSource is an absolute URL as returned by |sources|.  In\n  // this case we can't simply undo the transform.\n  var i;\n  for (i = 0; i < this._absoluteSources.length; ++i) {\n    if (this._absoluteSources[i] == aSource) {\n      return i;\n    }\n  }\n\n  return -1;\n};\n\n/**\n * Create a BasicSourceMapConsumer from a SourceMapGenerator.\n *\n * @param SourceMapGenerator aSourceMap\n *        The source map that will be consumed.\n * @param String aSourceMapURL\n *        The URL at which the source map can be found (optional)\n * @returns BasicSourceMapConsumer\n */\nBasicSourceMapConsumer.fromSourceMap =\n  function SourceMapConsumer_fromSourceMap(aSourceMap, aSourceMapURL) {\n    var smc = Object.create(BasicSourceMapConsumer.prototype);\n\n    var names = smc._names = ArraySet.fromArray(aSourceMap._names.toArray(), true);\n    var sources = smc._sources = ArraySet.fromArray(aSourceMap._sources.toArray(), true);\n    smc.sourceRoot = aSourceMap._sourceRoot;\n    smc.sourcesContent = aSourceMap._generateSourcesContent(smc._sources.toArray(),\n                                                            smc.sourceRoot);\n    smc.file = aSourceMap._file;\n    smc._sourceMapURL = aSourceMapURL;\n    smc._absoluteSources = smc._sources.toArray().map(function (s) {\n      return util.computeSourceURL(smc.sourceRoot, s, aSourceMapURL);\n    });\n\n    // Because we are modifying the entries (by converting string sources and\n    // names to indices into the sources and names ArraySets), we have to make\n    // a copy of the entry or else bad things happen. Shared mutable state\n    // strikes again! See github issue #191.\n\n    var generatedMappings = aSourceMap._mappings.toArray().slice();\n    var destGeneratedMappings = smc.__generatedMappings = [];\n    var destOriginalMappings = smc.__originalMappings = [];\n\n    for (var i = 0, length = generatedMappings.length; i < length; i++) {\n      var srcMapping = generatedMappings[i];\n      var destMapping = new Mapping;\n      destMapping.generatedLine = srcMapping.generatedLine;\n      destMapping.generatedColumn = srcMapping.generatedColumn;\n\n      if (srcMapping.source) {\n        destMapping.source = sources.indexOf(srcMapping.source);\n        destMapping.originalLine = srcMapping.originalLine;\n        destMapping.originalColumn = srcMapping.originalColumn;\n\n        if (srcMapping.name) {\n          destMapping.name = names.indexOf(srcMapping.name);\n        }\n\n        destOriginalMappings.push(destMapping);\n      }\n\n      destGeneratedMappings.push(destMapping);\n    }\n\n    quickSort(smc.__originalMappings, util.compareByOriginalPositions);\n\n    return smc;\n  };\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nBasicSourceMapConsumer.prototype._version = 3;\n\n/**\n * The list of original sources.\n */\nObject.defineProperty(BasicSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    return this._absoluteSources.slice();\n  }\n});\n\n/**\n * Provide the JIT with a nice shape / hidden class.\n */\nfunction Mapping() {\n  this.generatedLine = 0;\n  this.generatedColumn = 0;\n  this.source = null;\n  this.originalLine = null;\n  this.originalColumn = null;\n  this.name = null;\n}\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nBasicSourceMapConsumer.prototype._parseMappings =\n  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    var generatedLine = 1;\n    var previousGeneratedColumn = 0;\n    var previousOriginalLine = 0;\n    var previousOriginalColumn = 0;\n    var previousSource = 0;\n    var previousName = 0;\n    var length = aStr.length;\n    var index = 0;\n    var cachedSegments = {};\n    var temp = {};\n    var originalMappings = [];\n    var generatedMappings = [];\n    var mapping, str, segment, end, value;\n\n    while (index < length) {\n      if (aStr.charAt(index) === ';') {\n        generatedLine++;\n        index++;\n        previousGeneratedColumn = 0;\n      }\n      else if (aStr.charAt(index) === ',') {\n        index++;\n      }\n      else {\n        mapping = new Mapping();\n        mapping.generatedLine = generatedLine;\n\n        // Because each offset is encoded relative to the previous one,\n        // many segments often have the same encoding. We can exploit this\n        // fact by caching the parsed variable length fields of each segment,\n        // allowing us to avoid a second parse if we encounter the same\n        // segment again.\n        for (end = index; end < length; end++) {\n          if (this._charIsMappingSeparator(aStr, end)) {\n            break;\n          }\n        }\n        str = aStr.slice(index, end);\n\n        segment = cachedSegments[str];\n        if (segment) {\n          index += str.length;\n        } else {\n          segment = [];\n          while (index < end) {\n            base64VLQ.decode(aStr, index, temp);\n            value = temp.value;\n            index = temp.rest;\n            segment.push(value);\n          }\n\n          if (segment.length === 2) {\n            throw new Error('Found a source, but no line and column');\n          }\n\n          if (segment.length === 3) {\n            throw new Error('Found a source and line, but no column');\n          }\n\n          cachedSegments[str] = segment;\n        }\n\n        // Generated column.\n        mapping.generatedColumn = previousGeneratedColumn + segment[0];\n        previousGeneratedColumn = mapping.generatedColumn;\n\n        if (segment.length > 1) {\n          // Original source.\n          mapping.source = previousSource + segment[1];\n          previousSource += segment[1];\n\n          // Original line.\n          mapping.originalLine = previousOriginalLine + segment[2];\n          previousOriginalLine = mapping.originalLine;\n          // Lines are stored 0-based\n          mapping.originalLine += 1;\n\n          // Original column.\n          mapping.originalColumn = previousOriginalColumn + segment[3];\n          previousOriginalColumn = mapping.originalColumn;\n\n          if (segment.length > 4) {\n            // Original name.\n            mapping.name = previousName + segment[4];\n            previousName += segment[4];\n          }\n        }\n\n        generatedMappings.push(mapping);\n        if (typeof mapping.originalLine === 'number') {\n          originalMappings.push(mapping);\n        }\n      }\n    }\n\n    quickSort(generatedMappings, util.compareByGeneratedPositionsDeflated);\n    this.__generatedMappings = generatedMappings;\n\n    quickSort(originalMappings, util.compareByOriginalPositions);\n    this.__originalMappings = originalMappings;\n  };\n\n/**\n * Find the mapping that best matches the hypothetical \"needle\" mapping that\n * we are searching for in the given \"haystack\" of mappings.\n */\nBasicSourceMapConsumer.prototype._findMapping =\n  function SourceMapConsumer_findMapping(aNeedle, aMappings, aLineName,\n                                         aColumnName, aComparator, aBias) {\n    // To return the position we are searching for, we must first find the\n    // mapping for the given position and then return the opposite position it\n    // points to. Because the mappings are sorted, we can use binary search to\n    // find the best mapping.\n\n    if (aNeedle[aLineName] <= 0) {\n      throw new TypeError('Line must be greater than or equal to 1, got '\n                          + aNeedle[aLineName]);\n    }\n    if (aNeedle[aColumnName] < 0) {\n      throw new TypeError('Column must be greater than or equal to 0, got '\n                          + aNeedle[aColumnName]);\n    }\n\n    return binarySearch.search(aNeedle, aMappings, aComparator, aBias);\n  };\n\n/**\n * Compute the last column for each generated mapping. The last column is\n * inclusive.\n */\nBasicSourceMapConsumer.prototype.computeColumnSpans =\n  function SourceMapConsumer_computeColumnSpans() {\n    for (var index = 0; index < this._generatedMappings.length; ++index) {\n      var mapping = this._generatedMappings[index];\n\n      // Mappings do not contain a field for the last generated columnt. We\n      // can come up with an optimistic estimate, however, by assuming that\n      // mappings are contiguous (i.e. given two consecutive mappings, the\n      // first mapping ends where the second one starts).\n      if (index + 1 < this._generatedMappings.length) {\n        var nextMapping = this._generatedMappings[index + 1];\n\n        if (mapping.generatedLine === nextMapping.generatedLine) {\n          mapping.lastGeneratedColumn = nextMapping.generatedColumn - 1;\n          continue;\n        }\n      }\n\n      // The last mapping for each line spans the entire line.\n      mapping.lastGeneratedColumn = Infinity;\n    }\n  };\n\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.  The line number\n *     is 1-based.\n *   - column: The column number in the generated source.  The column\n *     number is 0-based.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.  The\n *     line number is 1-based.\n *   - column: The column number in the original source, or null.  The\n *     column number is 0-based.\n *   - name: The original identifier, or null.\n */\nBasicSourceMapConsumer.prototype.originalPositionFor =\n  function SourceMapConsumer_originalPositionFor(aArgs) {\n    var needle = {\n      generatedLine: util.getArg(aArgs, 'line'),\n      generatedColumn: util.getArg(aArgs, 'column')\n    };\n\n    var index = this._findMapping(\n      needle,\n      this._generatedMappings,\n      \"generatedLine\",\n      \"generatedColumn\",\n      util.compareByGeneratedPositionsDeflated,\n      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\n    );\n\n    if (index >= 0) {\n      var mapping = this._generatedMappings[index];\n\n      if (mapping.generatedLine === needle.generatedLine) {\n        var source = util.getArg(mapping, 'source', null);\n        if (source !== null) {\n          source = this._sources.at(source);\n          source = util.computeSourceURL(this.sourceRoot, source, this._sourceMapURL);\n        }\n        var name = util.getArg(mapping, 'name', null);\n        if (name !== null) {\n          name = this._names.at(name);\n        }\n        return {\n          source: source,\n          line: util.getArg(mapping, 'originalLine', null),\n          column: util.getArg(mapping, 'originalColumn', null),\n          name: name\n        };\n      }\n    }\n\n    return {\n      source: null,\n      line: null,\n      column: null,\n      name: null\n    };\n  };\n\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\nBasicSourceMapConsumer.prototype.hasContentsOfAllSources =\n  function BasicSourceMapConsumer_hasContentsOfAllSources() {\n    if (!this.sourcesContent) {\n      return false;\n    }\n    return this.sourcesContent.length >= this._sources.size() &&\n      !this.sourcesContent.some(function (sc) { return sc == null; });\n  };\n\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\nBasicSourceMapConsumer.prototype.sourceContentFor =\n  function SourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n    if (!this.sourcesContent) {\n      return null;\n    }\n\n    var index = this._findSourceIndex(aSource);\n    if (index >= 0) {\n      return this.sourcesContent[index];\n    }\n\n    var relativeSource = aSource;\n    if (this.sourceRoot != null) {\n      relativeSource = util.relative(this.sourceRoot, relativeSource);\n    }\n\n    var url;\n    if (this.sourceRoot != null\n        && (url = util.urlParse(this.sourceRoot))) {\n      // XXX: file:// URIs and absolute paths lead to unexpected behavior for\n      // many users. We can help them out when they expect file:// URIs to\n      // behave like it would if they were running a local HTTP server. See\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=885597.\n      var fileUriAbsPath = relativeSource.replace(/^file:\\/\\//, \"\");\n      if (url.scheme == \"file\"\n          && this._sources.has(fileUriAbsPath)) {\n        return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)]\n      }\n\n      if ((!url.path || url.path == \"/\")\n          && this._sources.has(\"/\" + relativeSource)) {\n        return this.sourcesContent[this._sources.indexOf(\"/\" + relativeSource)];\n      }\n    }\n\n    // This function is used recursively from\n    // IndexedSourceMapConsumer.prototype.sourceContentFor. In that case, we\n    // don't want to throw if we can't find the source - we just want to\n    // return null, so we provide a flag to exit gracefully.\n    if (nullOnMissing) {\n      return null;\n    }\n    else {\n      throw new Error('\"' + relativeSource + '\" is not in the SourceMap.');\n    }\n  };\n\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.  The line number\n *     is 1-based.\n *   - column: The column number in the original source.  The column\n *     number is 0-based.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.  The\n *     line number is 1-based.\n *   - column: The column number in the generated source, or null.\n *     The column number is 0-based.\n */\nBasicSourceMapConsumer.prototype.generatedPositionFor =\n  function SourceMapConsumer_generatedPositionFor(aArgs) {\n    var source = util.getArg(aArgs, 'source');\n    source = this._findSourceIndex(source);\n    if (source < 0) {\n      return {\n        line: null,\n        column: null,\n        lastColumn: null\n      };\n    }\n\n    var needle = {\n      source: source,\n      originalLine: util.getArg(aArgs, 'line'),\n      originalColumn: util.getArg(aArgs, 'column')\n    };\n\n    var index = this._findMapping(\n      needle,\n      this._originalMappings,\n      \"originalLine\",\n      \"originalColumn\",\n      util.compareByOriginalPositions,\n      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\n    );\n\n    if (index >= 0) {\n      var mapping = this._originalMappings[index];\n\n      if (mapping.source === needle.source) {\n        return {\n          line: util.getArg(mapping, 'generatedLine', null),\n          column: util.getArg(mapping, 'generatedColumn', null),\n          lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n        };\n      }\n    }\n\n    return {\n      line: null,\n      column: null,\n      lastColumn: null\n    };\n  };\n\nexports.BasicSourceMapConsumer = BasicSourceMapConsumer;\n\n/**\n * An IndexedSourceMapConsumer instance represents a parsed source map which\n * we can query for information. It differs from BasicSourceMapConsumer in\n * that it takes \"indexed\" source maps (i.e. ones with a \"sections\" field) as\n * input.\n *\n * The first parameter is a raw source map (either as a JSON string, or already\n * parsed to an object). According to the spec for indexed source maps, they\n * have the following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - file: Optional. The generated file this source map is associated with.\n *   - sections: A list of section definitions.\n *\n * Each value under the \"sections\" field has two fields:\n *   - offset: The offset into the original specified at which this section\n *       begins to apply, defined as an object with a \"line\" and \"column\"\n *       field.\n *   - map: A source map definition. This source map could also be indexed,\n *       but doesn't have to be.\n *\n * Instead of the \"map\" field, it's also possible to have a \"url\" field\n * specifying a URL to retrieve a source map from, but that's currently\n * unsupported.\n *\n * Here's an example source map, taken from the source map spec[0], but\n * modified to omit a section which uses the \"url\" field.\n *\n *  {\n *    version : 3,\n *    file: \"app.js\",\n *    sections: [{\n *      offset: {line:100, column:10},\n *      map: {\n *        version : 3,\n *        file: \"section.js\",\n *        sources: [\"foo.js\", \"bar.js\"],\n *        names: [\"src\", \"maps\", \"are\", \"fun\"],\n *        mappings: \"AAAA,E;;ABCDE;\"\n *      }\n *    }],\n *  }\n *\n * The second parameter, if given, is a string whose value is the URL\n * at which the source map was found.  This URL is used to compute the\n * sources array.\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit#heading=h.535es3xeprgt\n */\nfunction IndexedSourceMapConsumer(aSourceMap, aSourceMapURL) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = util.parseSourceMapInput(aSourceMap);\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sections = util.getArg(sourceMap, 'sections');\n\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n\n  var lastOffset = {\n    line: -1,\n    column: 0\n  };\n  this._sections = sections.map(function (s) {\n    if (s.url) {\n      // The url field will require support for asynchronicity.\n      // See https://github.com/mozilla/source-map/issues/16\n      throw new Error('Support for url field in sections not implemented.');\n    }\n    var offset = util.getArg(s, 'offset');\n    var offsetLine = util.getArg(offset, 'line');\n    var offsetColumn = util.getArg(offset, 'column');\n\n    if (offsetLine < lastOffset.line ||\n        (offsetLine === lastOffset.line && offsetColumn < lastOffset.column)) {\n      throw new Error('Section offsets must be ordered and non-overlapping.');\n    }\n    lastOffset = offset;\n\n    return {\n      generatedOffset: {\n        // The offset fields are 0-based, but we use 1-based indices when\n        // encoding/decoding from VLQ.\n        generatedLine: offsetLine + 1,\n        generatedColumn: offsetColumn + 1\n      },\n      consumer: new SourceMapConsumer(util.getArg(s, 'map'), aSourceMapURL)\n    }\n  });\n}\n\nIndexedSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nIndexedSourceMapConsumer.prototype.constructor = SourceMapConsumer;\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nIndexedSourceMapConsumer.prototype._version = 3;\n\n/**\n * The list of original sources.\n */\nObject.defineProperty(IndexedSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    var sources = [];\n    for (var i = 0; i < this._sections.length; i++) {\n      for (var j = 0; j < this._sections[i].consumer.sources.length; j++) {\n        sources.push(this._sections[i].consumer.sources[j]);\n      }\n    }\n    return sources;\n  }\n});\n\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.  The line number\n *     is 1-based.\n *   - column: The column number in the generated source.  The column\n *     number is 0-based.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.  The\n *     line number is 1-based.\n *   - column: The column number in the original source, or null.  The\n *     column number is 0-based.\n *   - name: The original identifier, or null.\n */\nIndexedSourceMapConsumer.prototype.originalPositionFor =\n  function IndexedSourceMapConsumer_originalPositionFor(aArgs) {\n    var needle = {\n      generatedLine: util.getArg(aArgs, 'line'),\n      generatedColumn: util.getArg(aArgs, 'column')\n    };\n\n    // Find the section containing the generated position we're trying to map\n    // to an original position.\n    var sectionIndex = binarySearch.search(needle, this._sections,\n      function(needle, section) {\n        var cmp = needle.generatedLine - section.generatedOffset.generatedLine;\n        if (cmp) {\n          return cmp;\n        }\n\n        return (needle.generatedColumn -\n                section.generatedOffset.generatedColumn);\n      });\n    var section = this._sections[sectionIndex];\n\n    if (!section) {\n      return {\n        source: null,\n        line: null,\n        column: null,\n        name: null\n      };\n    }\n\n    return section.consumer.originalPositionFor({\n      line: needle.generatedLine -\n        (section.generatedOffset.generatedLine - 1),\n      column: needle.generatedColumn -\n        (section.generatedOffset.generatedLine === needle.generatedLine\n         ? section.generatedOffset.generatedColumn - 1\n         : 0),\n      bias: aArgs.bias\n    });\n  };\n\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\nIndexedSourceMapConsumer.prototype.hasContentsOfAllSources =\n  function IndexedSourceMapConsumer_hasContentsOfAllSources() {\n    return this._sections.every(function (s) {\n      return s.consumer.hasContentsOfAllSources();\n    });\n  };\n\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\nIndexedSourceMapConsumer.prototype.sourceContentFor =\n  function IndexedSourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n\n      var content = section.consumer.sourceContentFor(aSource, true);\n      if (content) {\n        return content;\n      }\n    }\n    if (nullOnMissing) {\n      return null;\n    }\n    else {\n      throw new Error('\"' + aSource + '\" is not in the SourceMap.');\n    }\n  };\n\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.  The line number\n *     is 1-based.\n *   - column: The column number in the original source.  The column\n *     number is 0-based.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.  The\n *     line number is 1-based. \n *   - column: The column number in the generated source, or null.\n *     The column number is 0-based.\n */\nIndexedSourceMapConsumer.prototype.generatedPositionFor =\n  function IndexedSourceMapConsumer_generatedPositionFor(aArgs) {\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n\n      // Only consider this section if the requested source is in the list of\n      // sources of the consumer.\n      if (section.consumer._findSourceIndex(util.getArg(aArgs, 'source')) === -1) {\n        continue;\n      }\n      var generatedPosition = section.consumer.generatedPositionFor(aArgs);\n      if (generatedPosition) {\n        var ret = {\n          line: generatedPosition.line +\n            (section.generatedOffset.generatedLine - 1),\n          column: generatedPosition.column +\n            (section.generatedOffset.generatedLine === generatedPosition.line\n             ? section.generatedOffset.generatedColumn - 1\n             : 0)\n        };\n        return ret;\n      }\n    }\n\n    return {\n      line: null,\n      column: null\n    };\n  };\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nIndexedSourceMapConsumer.prototype._parseMappings =\n  function IndexedSourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    this.__generatedMappings = [];\n    this.__originalMappings = [];\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n      var sectionMappings = section.consumer._generatedMappings;\n      for (var j = 0; j < sectionMappings.length; j++) {\n        var mapping = sectionMappings[j];\n\n        var source = section.consumer._sources.at(mapping.source);\n        source = util.computeSourceURL(section.consumer.sourceRoot, source, this._sourceMapURL);\n        this._sources.add(source);\n        source = this._sources.indexOf(source);\n\n        var name = null;\n        if (mapping.name) {\n          name = section.consumer._names.at(mapping.name);\n          this._names.add(name);\n          name = this._names.indexOf(name);\n        }\n\n        // The mappings coming from the consumer for the section have\n        // generated positions relative to the start of the section, so we\n        // need to offset them to be relative to the start of the concatenated\n        // generated file.\n        var adjustedMapping = {\n          source: source,\n          generatedLine: mapping.generatedLine +\n            (section.generatedOffset.generatedLine - 1),\n          generatedColumn: mapping.generatedColumn +\n            (section.generatedOffset.generatedLine === mapping.generatedLine\n            ? section.generatedOffset.generatedColumn - 1\n            : 0),\n          originalLine: mapping.originalLine,\n          originalColumn: mapping.originalColumn,\n          name: name\n        };\n\n        this.__generatedMappings.push(adjustedMapping);\n        if (typeof adjustedMapping.originalLine === 'number') {\n          this.__originalMappings.push(adjustedMapping);\n        }\n      }\n    }\n\n    quickSort(this.__generatedMappings, util.compareByGeneratedPositionsDeflated);\n    quickSort(this.__originalMappings, util.compareByOriginalPositions);\n  };\n\nexports.IndexedSourceMapConsumer = IndexedSourceMapConsumer;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar SourceMapGenerator = require('./source-map-generator').SourceMapGenerator;\nvar util = require('./util');\n\n// Matches a Windows-style `\\r\\n` newline or a `\\n` newline used by all other\n// operating systems these days (capturing the result).\nvar REGEX_NEWLINE = /(\\r?\\n)/;\n\n// Newline character code for charCodeAt() comparisons\nvar NEWLINE_CODE = 10;\n\n// Private symbol for identifying `SourceNode`s when multiple versions of\n// the source-map library are loaded. This MUST NOT CHANGE across\n// versions!\nvar isSourceNode = \"$$$isSourceNode$$$\";\n\n/**\n * SourceNodes provide a way to abstract over interpolating/concatenating\n * snippets of generated JavaScript source code while maintaining the line and\n * column information associated with the original source code.\n *\n * @param aLine The original line number.\n * @param aColumn The original column number.\n * @param aSource The original source's filename.\n * @param aChunks Optional. An array of strings which are snippets of\n *        generated JS, or other SourceNodes.\n * @param aName The original identifier.\n */\nfunction SourceNode(aLine, aColumn, aSource, aChunks, aName) {\n  this.children = [];\n  this.sourceContents = {};\n  this.line = aLine == null ? null : aLine;\n  this.column = aColumn == null ? null : aColumn;\n  this.source = aSource == null ? null : aSource;\n  this.name = aName == null ? null : aName;\n  this[isSourceNode] = true;\n  if (aChunks != null) this.add(aChunks);\n}\n\n/**\n * Creates a SourceNode from generated code and a SourceMapConsumer.\n *\n * @param aGeneratedCode The generated code\n * @param aSourceMapConsumer The SourceMap for the generated code\n * @param aRelativePath Optional. The path that relative sources in the\n *        SourceMapConsumer should be relative to.\n */\nSourceNode.fromStringWithSourceMap =\n  function SourceNode_fromStringWithSourceMap(aGeneratedCode, aSourceMapConsumer, aRelativePath) {\n    // The SourceNode we want to fill with the generated code\n    // and the SourceMap\n    var node = new SourceNode();\n\n    // All even indices of this array are one line of the generated code,\n    // while all odd indices are the newlines between two adjacent lines\n    // (since `REGEX_NEWLINE` captures its match).\n    // Processed fragments are accessed by calling `shiftNextLine`.\n    var remainingLines = aGeneratedCode.split(REGEX_NEWLINE);\n    var remainingLinesIndex = 0;\n    var shiftNextLine = function() {\n      var lineContents = getNextLine();\n      // The last line of a file might not have a newline.\n      var newLine = getNextLine() || \"\";\n      return lineContents + newLine;\n\n      function getNextLine() {\n        return remainingLinesIndex < remainingLines.length ?\n            remainingLines[remainingLinesIndex++] : undefined;\n      }\n    };\n\n    // We need to remember the position of \"remainingLines\"\n    var lastGeneratedLine = 1, lastGeneratedColumn = 0;\n\n    // The generate SourceNodes we need a code range.\n    // To extract it current and last mapping is used.\n    // Here we store the last mapping.\n    var lastMapping = null;\n\n    aSourceMapConsumer.eachMapping(function (mapping) {\n      if (lastMapping !== null) {\n        // We add the code from \"lastMapping\" to \"mapping\":\n        // First check if there is a new line in between.\n        if (lastGeneratedLine < mapping.generatedLine) {\n          // Associate first line with \"lastMapping\"\n          addMappingWithCode(lastMapping, shiftNextLine());\n          lastGeneratedLine++;\n          lastGeneratedColumn = 0;\n          // The remaining code is added without mapping\n        } else {\n          // There is no new line in between.\n          // Associate the code between \"lastGeneratedColumn\" and\n          // \"mapping.generatedColumn\" with \"lastMapping\"\n          var nextLine = remainingLines[remainingLinesIndex] || '';\n          var code = nextLine.substr(0, mapping.generatedColumn -\n                                        lastGeneratedColumn);\n          remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn -\n                                              lastGeneratedColumn);\n          lastGeneratedColumn = mapping.generatedColumn;\n          addMappingWithCode(lastMapping, code);\n          // No more remaining code, continue\n          lastMapping = mapping;\n          return;\n        }\n      }\n      // We add the generated code until the first mapping\n      // to the SourceNode without any mapping.\n      // Each line is added as separate string.\n      while (lastGeneratedLine < mapping.generatedLine) {\n        node.add(shiftNextLine());\n        lastGeneratedLine++;\n      }\n      if (lastGeneratedColumn < mapping.generatedColumn) {\n        var nextLine = remainingLines[remainingLinesIndex] || '';\n        node.add(nextLine.substr(0, mapping.generatedColumn));\n        remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn);\n        lastGeneratedColumn = mapping.generatedColumn;\n      }\n      lastMapping = mapping;\n    }, this);\n    // We have processed all mappings.\n    if (remainingLinesIndex < remainingLines.length) {\n      if (lastMapping) {\n        // Associate the remaining code in the current line with \"lastMapping\"\n        addMappingWithCode(lastMapping, shiftNextLine());\n      }\n      // and add the remaining lines without any mapping\n      node.add(remainingLines.splice(remainingLinesIndex).join(\"\"));\n    }\n\n    // Copy sourcesContent into SourceNode\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        if (aRelativePath != null) {\n          sourceFile = util.join(aRelativePath, sourceFile);\n        }\n        node.setSourceContent(sourceFile, content);\n      }\n    });\n\n    return node;\n\n    function addMappingWithCode(mapping, code) {\n      if (mapping === null || mapping.source === undefined) {\n        node.add(code);\n      } else {\n        var source = aRelativePath\n          ? util.join(aRelativePath, mapping.source)\n          : mapping.source;\n        node.add(new SourceNode(mapping.originalLine,\n                                mapping.originalColumn,\n                                source,\n                                code,\n                                mapping.name));\n      }\n    }\n  };\n\n/**\n * Add a chunk of generated JS to this source node.\n *\n * @param aChunk A string snippet of generated JS code, another instance of\n *        SourceNode, or an array where each member is one of those things.\n */\nSourceNode.prototype.add = function SourceNode_add(aChunk) {\n  if (Array.isArray(aChunk)) {\n    aChunk.forEach(function (chunk) {\n      this.add(chunk);\n    }, this);\n  }\n  else if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\n    if (aChunk) {\n      this.children.push(aChunk);\n    }\n  }\n  else {\n    throw new TypeError(\n      \"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk\n    );\n  }\n  return this;\n};\n\n/**\n * Add a chunk of generated JS to the beginning of this source node.\n *\n * @param aChunk A string snippet of generated JS code, another instance of\n *        SourceNode, or an array where each member is one of those things.\n */\nSourceNode.prototype.prepend = function SourceNode_prepend(aChunk) {\n  if (Array.isArray(aChunk)) {\n    for (var i = aChunk.length-1; i >= 0; i--) {\n      this.prepend(aChunk[i]);\n    }\n  }\n  else if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\n    this.children.unshift(aChunk);\n  }\n  else {\n    throw new TypeError(\n      \"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk\n    );\n  }\n  return this;\n};\n\n/**\n * Walk over the tree of JS snippets in this node and its children. The\n * walking function is called once for each snippet of JS and is passed that\n * snippet and the its original associated source's line/column location.\n *\n * @param aFn The traversal function.\n */\nSourceNode.prototype.walk = function SourceNode_walk(aFn) {\n  var chunk;\n  for (var i = 0, len = this.children.length; i < len; i++) {\n    chunk = this.children[i];\n    if (chunk[isSourceNode]) {\n      chunk.walk(aFn);\n    }\n    else {\n      if (chunk !== '') {\n        aFn(chunk, { source: this.source,\n                     line: this.line,\n                     column: this.column,\n                     name: this.name });\n      }\n    }\n  }\n};\n\n/**\n * Like `String.prototype.join` except for SourceNodes. Inserts `aStr` between\n * each of `this.children`.\n *\n * @param aSep The separator.\n */\nSourceNode.prototype.join = function SourceNode_join(aSep) {\n  var newChildren;\n  var i;\n  var len = this.children.length;\n  if (len > 0) {\n    newChildren = [];\n    for (i = 0; i < len-1; i++) {\n      newChildren.push(this.children[i]);\n      newChildren.push(aSep);\n    }\n    newChildren.push(this.children[i]);\n    this.children = newChildren;\n  }\n  return this;\n};\n\n/**\n * Call String.prototype.replace on the very right-most source snippet. Useful\n * for trimming whitespace from the end of a source node, etc.\n *\n * @param aPattern The pattern to replace.\n * @param aReplacement The thing to replace the pattern with.\n */\nSourceNode.prototype.replaceRight = function SourceNode_replaceRight(aPattern, aReplacement) {\n  var lastChild = this.children[this.children.length - 1];\n  if (lastChild[isSourceNode]) {\n    lastChild.replaceRight(aPattern, aReplacement);\n  }\n  else if (typeof lastChild === 'string') {\n    this.children[this.children.length - 1] = lastChild.replace(aPattern, aReplacement);\n  }\n  else {\n    this.children.push(''.replace(aPattern, aReplacement));\n  }\n  return this;\n};\n\n/**\n * Set the source content for a source file. This will be added to the SourceMapGenerator\n * in the sourcesContent field.\n *\n * @param aSourceFile The filename of the source file\n * @param aSourceContent The content of the source file\n */\nSourceNode.prototype.setSourceContent =\n  function SourceNode_setSourceContent(aSourceFile, aSourceContent) {\n    this.sourceContents[util.toSetString(aSourceFile)] = aSourceContent;\n  };\n\n/**\n * Walk over the tree of SourceNodes. The walking function is called for each\n * source file content and is passed the filename and source content.\n *\n * @param aFn The traversal function.\n */\nSourceNode.prototype.walkSourceContents =\n  function SourceNode_walkSourceContents(aFn) {\n    for (var i = 0, len = this.children.length; i < len; i++) {\n      if (this.children[i][isSourceNode]) {\n        this.children[i].walkSourceContents(aFn);\n      }\n    }\n\n    var sources = Object.keys(this.sourceContents);\n    for (var i = 0, len = sources.length; i < len; i++) {\n      aFn(util.fromSetString(sources[i]), this.sourceContents[sources[i]]);\n    }\n  };\n\n/**\n * Return the string representation of this source node. Walks over the tree\n * and concatenates all the various snippets together to one string.\n */\nSourceNode.prototype.toString = function SourceNode_toString() {\n  var str = \"\";\n  this.walk(function (chunk) {\n    str += chunk;\n  });\n  return str;\n};\n\n/**\n * Returns the string representation of this source node along with a source\n * map.\n */\nSourceNode.prototype.toStringWithSourceMap = function SourceNode_toStringWithSourceMap(aArgs) {\n  var generated = {\n    code: \"\",\n    line: 1,\n    column: 0\n  };\n  var map = new SourceMapGenerator(aArgs);\n  var sourceMappingActive = false;\n  var lastOriginalSource = null;\n  var lastOriginalLine = null;\n  var lastOriginalColumn = null;\n  var lastOriginalName = null;\n  this.walk(function (chunk, original) {\n    generated.code += chunk;\n    if (original.source !== null\n        && original.line !== null\n        && original.column !== null) {\n      if(lastOriginalSource !== original.source\n         || lastOriginalLine !== original.line\n         || lastOriginalColumn !== original.column\n         || lastOriginalName !== original.name) {\n        map.addMapping({\n          source: original.source,\n          original: {\n            line: original.line,\n            column: original.column\n          },\n          generated: {\n            line: generated.line,\n            column: generated.column\n          },\n          name: original.name\n        });\n      }\n      lastOriginalSource = original.source;\n      lastOriginalLine = original.line;\n      lastOriginalColumn = original.column;\n      lastOriginalName = original.name;\n      sourceMappingActive = true;\n    } else if (sourceMappingActive) {\n      map.addMapping({\n        generated: {\n          line: generated.line,\n          column: generated.column\n        }\n      });\n      lastOriginalSource = null;\n      sourceMappingActive = false;\n    }\n    for (var idx = 0, length = chunk.length; idx < length; idx++) {\n      if (chunk.charCodeAt(idx) === NEWLINE_CODE) {\n        generated.line++;\n        generated.column = 0;\n        // Mappings end at eol\n        if (idx + 1 === length) {\n          lastOriginalSource = null;\n          sourceMappingActive = false;\n        } else if (sourceMappingActive) {\n          map.addMapping({\n            source: original.source,\n            original: {\n              line: original.line,\n              column: original.column\n            },\n            generated: {\n              line: generated.line,\n              column: generated.column\n            },\n            name: original.name\n          });\n        }\n      } else {\n        generated.column++;\n      }\n    }\n  });\n  this.walkSourceContents(function (sourceFile, sourceContent) {\n    map.setSourceContent(sourceFile, sourceContent);\n  });\n\n  return { code: generated.code, map: map };\n};\n\nexports.SourceNode = SourceNode;\n","/*\n * Copyright 2009-2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE.txt or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nexports.SourceMapGenerator = require('./lib/source-map-generator').SourceMapGenerator;\nexports.SourceMapConsumer = require('./lib/source-map-consumer').SourceMapConsumer;\nexports.SourceNode = require('./lib/source-node').SourceNode;\n","/*\n  Copyright (C) 2012-2014 Yusuke Suzuki <utatane.tea@gmail.com>\n  Copyright (C) 2015 Ingvar Stepanyan <me@rreverser.com>\n  Copyright (C) 2014 Ivan Nikulin <ifaaan@gmail.com>\n  Copyright (C) 2012-2013 Michael Ficarra <escodegen.copyright@michael.ficarra.me>\n  Copyright (C) 2012-2013 Mathias Bynens <mathias@qiwi.be>\n  Copyright (C) 2013 Irakli Gozalishvili <rfobic@gmail.com>\n  Copyright (C) 2012 Robert Gust-Bardon <donate@robert.gust-bardon.org>\n  Copyright (C) 2012 John Freeman <jfreeman08@gmail.com>\n  Copyright (C) 2011-2012 Ariya Hidayat <ariya.hidayat@gmail.com>\n  Copyright (C) 2012 Joost-Wim Boekesteijn <joost-wim@boekesteijn.nl>\n  Copyright (C) 2012 Kris Kowal <kris.kowal@cixar.com>\n  Copyright (C) 2012 Arpad Borsos <arpad.borsos@googlemail.com>\n\n  Redistribution and use in source and binary forms, with or without\n  modification, are permitted provided that the following conditions are met:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n    * Redistributions in binary form must reproduce the above copyright\n      notice, this list of conditions and the following disclaimer in the\n      documentation and/or other materials provided with the distribution.\n\n  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n  ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY\n  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n/*global exports:true, require:true, global:true*/\n(function () {\n    'use strict';\n\n    var Syntax,\n        Precedence,\n        BinaryPrecedence,\n        SourceNode,\n        estraverse,\n        esutils,\n        base,\n        indent,\n        json,\n        renumber,\n        hexadecimal,\n        quotes,\n        escapeless,\n        newline,\n        space,\n        parentheses,\n        semicolons,\n        safeConcatenation,\n        directive,\n        extra,\n        parse,\n        sourceMap,\n        sourceCode,\n        preserveBlankLines,\n        FORMAT_MINIFY,\n        FORMAT_DEFAULTS;\n\n    estraverse = require('estraverse');\n    esutils = require('esutils');\n\n    Syntax = estraverse.Syntax;\n\n    // Generation is done by generateExpression.\n    function isExpression(node) {\n        return CodeGenerator.Expression.hasOwnProperty(node.type);\n    }\n\n    // Generation is done by generateStatement.\n    function isStatement(node) {\n        return CodeGenerator.Statement.hasOwnProperty(node.type);\n    }\n\n    Precedence = {\n        Sequence: 0,\n        Yield: 1,\n        Assignment: 1,\n        Conditional: 2,\n        ArrowFunction: 2,\n        LogicalOR: 3,\n        LogicalAND: 4,\n        BitwiseOR: 5,\n        BitwiseXOR: 6,\n        BitwiseAND: 7,\n        Equality: 8,\n        Relational: 9,\n        BitwiseSHIFT: 10,\n        Additive: 11,\n        Multiplicative: 12,\n        Exponentiation: 13,\n        Await: 14,\n        Unary: 14,\n        Postfix: 15,\n        OptionalChaining: 16,\n        Call: 17,\n        New: 18,\n        TaggedTemplate: 19,\n        Member: 20,\n        Primary: 21\n    };\n\n    BinaryPrecedence = {\n        '||': Precedence.LogicalOR,\n        '&&': Precedence.LogicalAND,\n        '|': Precedence.BitwiseOR,\n        '^': Precedence.BitwiseXOR,\n        '&': Precedence.BitwiseAND,\n        '==': Precedence.Equality,\n        '!=': Precedence.Equality,\n        '===': Precedence.Equality,\n        '!==': Precedence.Equality,\n        'is': Precedence.Equality,\n        'isnt': Precedence.Equality,\n        '<': Precedence.Relational,\n        '>': Precedence.Relational,\n        '<=': Precedence.Relational,\n        '>=': Precedence.Relational,\n        'in': Precedence.Relational,\n        'instanceof': Precedence.Relational,\n        '<<': Precedence.BitwiseSHIFT,\n        '>>': Precedence.BitwiseSHIFT,\n        '>>>': Precedence.BitwiseSHIFT,\n        '+': Precedence.Additive,\n        '-': Precedence.Additive,\n        '*': Precedence.Multiplicative,\n        '%': Precedence.Multiplicative,\n        '/': Precedence.Multiplicative,\n        '**': Precedence.Exponentiation\n    };\n\n    //Flags\n    var F_ALLOW_IN = 1,\n        F_ALLOW_CALL = 1 << 1,\n        F_ALLOW_UNPARATH_NEW = 1 << 2,\n        F_FUNC_BODY = 1 << 3,\n        F_DIRECTIVE_CTX = 1 << 4,\n        F_SEMICOLON_OPT = 1 << 5;\n\n    //Expression flag sets\n    //NOTE: Flag order:\n    // F_ALLOW_IN\n    // F_ALLOW_CALL\n    // F_ALLOW_UNPARATH_NEW\n    var E_FTT = F_ALLOW_CALL | F_ALLOW_UNPARATH_NEW,\n        E_TTF = F_ALLOW_IN | F_ALLOW_CALL,\n        E_TTT = F_ALLOW_IN | F_ALLOW_CALL | F_ALLOW_UNPARATH_NEW,\n        E_TFF = F_ALLOW_IN,\n        E_FFT = F_ALLOW_UNPARATH_NEW,\n        E_TFT = F_ALLOW_IN | F_ALLOW_UNPARATH_NEW;\n\n    //Statement flag sets\n    //NOTE: Flag order:\n    // F_ALLOW_IN\n    // F_FUNC_BODY\n    // F_DIRECTIVE_CTX\n    // F_SEMICOLON_OPT\n    var S_TFFF = F_ALLOW_IN,\n        S_TFFT = F_ALLOW_IN | F_SEMICOLON_OPT,\n        S_FFFF = 0x00,\n        S_TFTF = F_ALLOW_IN | F_DIRECTIVE_CTX,\n        S_TTFF = F_ALLOW_IN | F_FUNC_BODY;\n\n    function getDefaultOptions() {\n        // default options\n        return {\n            indent: null,\n            base: null,\n            parse: null,\n            comment: false,\n            format: {\n                indent: {\n                    style: '    ',\n                    base: 0,\n                    adjustMultilineComment: false\n                },\n                newline: '\\n',\n                space: ' ',\n                json: false,\n                renumber: false,\n                hexadecimal: false,\n                quotes: 'single',\n                escapeless: false,\n                compact: false,\n                parentheses: true,\n                semicolons: true,\n                safeConcatenation: false,\n                preserveBlankLines: false\n            },\n            moz: {\n                comprehensionExpressionStartsWithAssignment: false,\n                starlessGenerator: false\n            },\n            sourceMap: null,\n            sourceMapRoot: null,\n            sourceMapWithCode: false,\n            directive: false,\n            raw: true,\n            verbatim: null,\n            sourceCode: null\n        };\n    }\n\n    function stringRepeat(str, num) {\n        var result = '';\n\n        for (num |= 0; num > 0; num >>>= 1, str += str) {\n            if (num & 1) {\n                result += str;\n            }\n        }\n\n        return result;\n    }\n\n    function hasLineTerminator(str) {\n        return (/[\\r\\n]/g).test(str);\n    }\n\n    function endsWithLineTerminator(str) {\n        var len = str.length;\n        return len && esutils.code.isLineTerminator(str.charCodeAt(len - 1));\n    }\n\n    function merge(target, override) {\n        var key;\n        for (key in override) {\n            if (override.hasOwnProperty(key)) {\n                target[key] = override[key];\n            }\n        }\n        return target;\n    }\n\n    function updateDeeply(target, override) {\n        var key, val;\n\n        function isHashObject(target) {\n            return typeof target === 'object' && target instanceof Object && !(target instanceof RegExp);\n        }\n\n        for (key in override) {\n            if (override.hasOwnProperty(key)) {\n                val = override[key];\n                if (isHashObject(val)) {\n                    if (isHashObject(target[key])) {\n                        updateDeeply(target[key], val);\n                    } else {\n                        target[key] = updateDeeply({}, val);\n                    }\n                } else {\n                    target[key] = val;\n                }\n            }\n        }\n        return target;\n    }\n\n    function generateNumber(value) {\n        var result, point, temp, exponent, pos;\n\n        if (value !== value) {\n            throw new Error('Numeric literal whose value is NaN');\n        }\n        if (value < 0 || (value === 0 && 1 / value < 0)) {\n            throw new Error('Numeric literal whose value is negative');\n        }\n\n        if (value === 1 / 0) {\n            return json ? 'null' : renumber ? '1e400' : '1e+400';\n        }\n\n        result = '' + value;\n        if (!renumber || result.length < 3) {\n            return result;\n        }\n\n        point = result.indexOf('.');\n        if (!json && result.charCodeAt(0) === 0x30  /* 0 */ && point === 1) {\n            point = 0;\n            result = result.slice(1);\n        }\n        temp = result;\n        result = result.replace('e+', 'e');\n        exponent = 0;\n        if ((pos = temp.indexOf('e')) > 0) {\n            exponent = +temp.slice(pos + 1);\n            temp = temp.slice(0, pos);\n        }\n        if (point >= 0) {\n            exponent -= temp.length - point - 1;\n            temp = +(temp.slice(0, point) + temp.slice(point + 1)) + '';\n        }\n        pos = 0;\n        while (temp.charCodeAt(temp.length + pos - 1) === 0x30  /* 0 */) {\n            --pos;\n        }\n        if (pos !== 0) {\n            exponent -= pos;\n            temp = temp.slice(0, pos);\n        }\n        if (exponent !== 0) {\n            temp += 'e' + exponent;\n        }\n        if ((temp.length < result.length ||\n                    (hexadecimal && value > 1e12 && Math.floor(value) === value && (temp = '0x' + value.toString(16)).length < result.length)) &&\n                +temp === value) {\n            result = temp;\n        }\n\n        return result;\n    }\n\n    // Generate valid RegExp expression.\n    // This function is based on https://github.com/Constellation/iv Engine\n\n    function escapeRegExpCharacter(ch, previousIsBackslash) {\n        // not handling '\\' and handling \\u2028 or \\u2029 to unicode escape sequence\n        if ((ch & ~1) === 0x2028) {\n            return (previousIsBackslash ? 'u' : '\\\\u') + ((ch === 0x2028) ? '2028' : '2029');\n        } else if (ch === 10 || ch === 13) {  // \\n, \\r\n            return (previousIsBackslash ? '' : '\\\\') + ((ch === 10) ? 'n' : 'r');\n        }\n        return String.fromCharCode(ch);\n    }\n\n    function generateRegExp(reg) {\n        var match, result, flags, i, iz, ch, characterInBrack, previousIsBackslash;\n\n        result = reg.toString();\n\n        if (reg.source) {\n            // extract flag from toString result\n            match = result.match(/\\/([^/]*)$/);\n            if (!match) {\n                return result;\n            }\n\n            flags = match[1];\n            result = '';\n\n            characterInBrack = false;\n            previousIsBackslash = false;\n            for (i = 0, iz = reg.source.length; i < iz; ++i) {\n                ch = reg.source.charCodeAt(i);\n\n                if (!previousIsBackslash) {\n                    if (characterInBrack) {\n                        if (ch === 93) {  // ]\n                            characterInBrack = false;\n                        }\n                    } else {\n                        if (ch === 47) {  // /\n                            result += '\\\\';\n                        } else if (ch === 91) {  // [\n                            characterInBrack = true;\n                        }\n                    }\n                    result += escapeRegExpCharacter(ch, previousIsBackslash);\n                    previousIsBackslash = ch === 92;  // \\\n                } else {\n                    // if new RegExp(\"\\\\\\n') is provided, create /\\n/\n                    result += escapeRegExpCharacter(ch, previousIsBackslash);\n                    // prevent like /\\\\[/]/\n                    previousIsBackslash = false;\n                }\n            }\n\n            return '/' + result + '/' + flags;\n        }\n\n        return result;\n    }\n\n    function escapeAllowedCharacter(code, next) {\n        var hex;\n\n        if (code === 0x08  /* \\b */) {\n            return '\\\\b';\n        }\n\n        if (code === 0x0C  /* \\f */) {\n            return '\\\\f';\n        }\n\n        if (code === 0x09  /* \\t */) {\n            return '\\\\t';\n        }\n\n        hex = code.toString(16).toUpperCase();\n        if (json || code > 0xFF) {\n            return '\\\\u' + '0000'.slice(hex.length) + hex;\n        } else if (code === 0x0000 && !esutils.code.isDecimalDigit(next)) {\n            return '\\\\0';\n        } else if (code === 0x000B  /* \\v */) { // '\\v'\n            return '\\\\x0B';\n        } else {\n            return '\\\\x' + '00'.slice(hex.length) + hex;\n        }\n    }\n\n    function escapeDisallowedCharacter(code) {\n        if (code === 0x5C  /* \\ */) {\n            return '\\\\\\\\';\n        }\n\n        if (code === 0x0A  /* \\n */) {\n            return '\\\\n';\n        }\n\n        if (code === 0x0D  /* \\r */) {\n            return '\\\\r';\n        }\n\n        if (code === 0x2028) {\n            return '\\\\u2028';\n        }\n\n        if (code === 0x2029) {\n            return '\\\\u2029';\n        }\n\n        throw new Error('Incorrectly classified character');\n    }\n\n    function escapeDirective(str) {\n        var i, iz, code, quote;\n\n        quote = quotes === 'double' ? '\"' : '\\'';\n        for (i = 0, iz = str.length; i < iz; ++i) {\n            code = str.charCodeAt(i);\n            if (code === 0x27  /* ' */) {\n                quote = '\"';\n                break;\n            } else if (code === 0x22  /* \" */) {\n                quote = '\\'';\n                break;\n            } else if (code === 0x5C  /* \\ */) {\n                ++i;\n            }\n        }\n\n        return quote + str + quote;\n    }\n\n    function escapeString(str) {\n        var result = '', i, len, code, singleQuotes = 0, doubleQuotes = 0, single, quote;\n\n        for (i = 0, len = str.length; i < len; ++i) {\n            code = str.charCodeAt(i);\n            if (code === 0x27  /* ' */) {\n                ++singleQuotes;\n            } else if (code === 0x22  /* \" */) {\n                ++doubleQuotes;\n            } else if (code === 0x2F  /* / */ && json) {\n                result += '\\\\';\n            } else if (esutils.code.isLineTerminator(code) || code === 0x5C  /* \\ */) {\n                result += escapeDisallowedCharacter(code);\n                continue;\n            } else if (!esutils.code.isIdentifierPartES5(code) && (json && code < 0x20  /* SP */ || !json && !escapeless && (code < 0x20  /* SP */ || code > 0x7E  /* ~ */))) {\n                result += escapeAllowedCharacter(code, str.charCodeAt(i + 1));\n                continue;\n            }\n            result += String.fromCharCode(code);\n        }\n\n        single = !(quotes === 'double' || (quotes === 'auto' && doubleQuotes < singleQuotes));\n        quote = single ? '\\'' : '\"';\n\n        if (!(single ? singleQuotes : doubleQuotes)) {\n            return quote + result + quote;\n        }\n\n        str = result;\n        result = quote;\n\n        for (i = 0, len = str.length; i < len; ++i) {\n            code = str.charCodeAt(i);\n            if ((code === 0x27  /* ' */ && single) || (code === 0x22  /* \" */ && !single)) {\n                result += '\\\\';\n            }\n            result += String.fromCharCode(code);\n        }\n\n        return result + quote;\n    }\n\n    /**\n     * flatten an array to a string, where the array can contain\n     * either strings or nested arrays\n     */\n    function flattenToString(arr) {\n        var i, iz, elem, result = '';\n        for (i = 0, iz = arr.length; i < iz; ++i) {\n            elem = arr[i];\n            result += Array.isArray(elem) ? flattenToString(elem) : elem;\n        }\n        return result;\n    }\n\n    /**\n     * convert generated to a SourceNode when source maps are enabled.\n     */\n    function toSourceNodeWhenNeeded(generated, node) {\n        if (!sourceMap) {\n            // with no source maps, generated is either an\n            // array or a string.  if an array, flatten it.\n            // if a string, just return it\n            if (Array.isArray(generated)) {\n                return flattenToString(generated);\n            } else {\n                return generated;\n            }\n        }\n        if (node == null) {\n            if (generated instanceof SourceNode) {\n                return generated;\n            } else {\n                node = {};\n            }\n        }\n        if (node.loc == null) {\n            return new SourceNode(null, null, sourceMap, generated, node.name || null);\n        }\n        return new SourceNode(node.loc.start.line, node.loc.start.column, (sourceMap === true ? node.loc.source || null : sourceMap), generated, node.name || null);\n    }\n\n    function noEmptySpace() {\n        return (space) ? space : ' ';\n    }\n\n    function join(left, right) {\n        var leftSource,\n            rightSource,\n            leftCharCode,\n            rightCharCode;\n\n        leftSource = toSourceNodeWhenNeeded(left).toString();\n        if (leftSource.length === 0) {\n            return [right];\n        }\n\n        rightSource = toSourceNodeWhenNeeded(right).toString();\n        if (rightSource.length === 0) {\n            return [left];\n        }\n\n        leftCharCode = leftSource.charCodeAt(leftSource.length - 1);\n        rightCharCode = rightSource.charCodeAt(0);\n\n        if ((leftCharCode === 0x2B  /* + */ || leftCharCode === 0x2D  /* - */) && leftCharCode === rightCharCode ||\n            esutils.code.isIdentifierPartES5(leftCharCode) && esutils.code.isIdentifierPartES5(rightCharCode) ||\n            leftCharCode === 0x2F  /* / */ && rightCharCode === 0x69  /* i */) { // infix word operators all start with `i`\n            return [left, noEmptySpace(), right];\n        } else if (esutils.code.isWhiteSpace(leftCharCode) || esutils.code.isLineTerminator(leftCharCode) ||\n                esutils.code.isWhiteSpace(rightCharCode) || esutils.code.isLineTerminator(rightCharCode)) {\n            return [left, right];\n        }\n        return [left, space, right];\n    }\n\n    function addIndent(stmt) {\n        return [base, stmt];\n    }\n\n    function withIndent(fn) {\n        var previousBase;\n        previousBase = base;\n        base += indent;\n        fn(base);\n        base = previousBase;\n    }\n\n    function calculateSpaces(str) {\n        var i;\n        for (i = str.length - 1; i >= 0; --i) {\n            if (esutils.code.isLineTerminator(str.charCodeAt(i))) {\n                break;\n            }\n        }\n        return (str.length - 1) - i;\n    }\n\n    function adjustMultilineComment(value, specialBase) {\n        var array, i, len, line, j, spaces, previousBase, sn;\n\n        array = value.split(/\\r\\n|[\\r\\n]/);\n        spaces = Number.MAX_VALUE;\n\n        // first line doesn't have indentation\n        for (i = 1, len = array.length; i < len; ++i) {\n            line = array[i];\n            j = 0;\n            while (j < line.length && esutils.code.isWhiteSpace(line.charCodeAt(j))) {\n                ++j;\n            }\n            if (spaces > j) {\n                spaces = j;\n            }\n        }\n\n        if (typeof specialBase !== 'undefined') {\n            // pattern like\n            // {\n            //   var t = 20;  /*\n            //                 * this is comment\n            //                 */\n            // }\n            previousBase = base;\n            if (array[1][spaces] === '*') {\n                specialBase += ' ';\n            }\n            base = specialBase;\n        } else {\n            if (spaces & 1) {\n                // /*\n                //  *\n                //  */\n                // If spaces are odd number, above pattern is considered.\n                // We waste 1 space.\n                --spaces;\n            }\n            previousBase = base;\n        }\n\n        for (i = 1, len = array.length; i < len; ++i) {\n            sn = toSourceNodeWhenNeeded(addIndent(array[i].slice(spaces)));\n            array[i] = sourceMap ? sn.join('') : sn;\n        }\n\n        base = previousBase;\n\n        return array.join('\\n');\n    }\n\n    function generateComment(comment, specialBase) {\n        if (comment.type === 'Line') {\n            if (endsWithLineTerminator(comment.value)) {\n                return '//' + comment.value;\n            } else {\n                // Always use LineTerminator\n                var result = '//' + comment.value;\n                if (!preserveBlankLines) {\n                    result += '\\n';\n                }\n                return result;\n            }\n        }\n        if (extra.format.indent.adjustMultilineComment && /[\\n\\r]/.test(comment.value)) {\n            return adjustMultilineComment('/*' + comment.value + '*/', specialBase);\n        }\n        return '/*' + comment.value + '*/';\n    }\n\n    function addComments(stmt, result) {\n        var i, len, comment, save, tailingToStatement, specialBase, fragment,\n            extRange, range, prevRange, prefix, infix, suffix, count;\n\n        if (stmt.leadingComments && stmt.leadingComments.length > 0) {\n            save = result;\n\n            if (preserveBlankLines) {\n                comment = stmt.leadingComments[0];\n                result = [];\n\n                extRange = comment.extendedRange;\n                range = comment.range;\n\n                prefix = sourceCode.substring(extRange[0], range[0]);\n                count = (prefix.match(/\\n/g) || []).length;\n                if (count > 0) {\n                    result.push(stringRepeat('\\n', count));\n                    result.push(addIndent(generateComment(comment)));\n                } else {\n                    result.push(prefix);\n                    result.push(generateComment(comment));\n                }\n\n                prevRange = range;\n\n                for (i = 1, len = stmt.leadingComments.length; i < len; i++) {\n                    comment = stmt.leadingComments[i];\n                    range = comment.range;\n\n                    infix = sourceCode.substring(prevRange[1], range[0]);\n                    count = (infix.match(/\\n/g) || []).length;\n                    result.push(stringRepeat('\\n', count));\n                    result.push(addIndent(generateComment(comment)));\n\n                    prevRange = range;\n                }\n\n                suffix = sourceCode.substring(range[1], extRange[1]);\n                count = (suffix.match(/\\n/g) || []).length;\n                result.push(stringRepeat('\\n', count));\n            } else {\n                comment = stmt.leadingComments[0];\n                result = [];\n                if (safeConcatenation && stmt.type === Syntax.Program && stmt.body.length === 0) {\n                    result.push('\\n');\n                }\n                result.push(generateComment(comment));\n                if (!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {\n                    result.push('\\n');\n                }\n\n                for (i = 1, len = stmt.leadingComments.length; i < len; ++i) {\n                    comment = stmt.leadingComments[i];\n                    fragment = [generateComment(comment)];\n                    if (!endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())) {\n                        fragment.push('\\n');\n                    }\n                    result.push(addIndent(fragment));\n                }\n            }\n\n            result.push(addIndent(save));\n        }\n\n        if (stmt.trailingComments) {\n\n            if (preserveBlankLines) {\n                comment = stmt.trailingComments[0];\n                extRange = comment.extendedRange;\n                range = comment.range;\n\n                prefix = sourceCode.substring(extRange[0], range[0]);\n                count = (prefix.match(/\\n/g) || []).length;\n\n                if (count > 0) {\n                    result.push(stringRepeat('\\n', count));\n                    result.push(addIndent(generateComment(comment)));\n                } else {\n                    result.push(prefix);\n                    result.push(generateComment(comment));\n                }\n            } else {\n                tailingToStatement = !endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString());\n                specialBase = stringRepeat(' ', calculateSpaces(toSourceNodeWhenNeeded([base, result, indent]).toString()));\n                for (i = 0, len = stmt.trailingComments.length; i < len; ++i) {\n                    comment = stmt.trailingComments[i];\n                    if (tailingToStatement) {\n                        // We assume target like following script\n                        //\n                        // var t = 20;  /**\n                        //               * This is comment of t\n                        //               */\n                        if (i === 0) {\n                            // first case\n                            result = [result, indent];\n                        } else {\n                            result = [result, specialBase];\n                        }\n                        result.push(generateComment(comment, specialBase));\n                    } else {\n                        result = [result, addIndent(generateComment(comment))];\n                    }\n                    if (i !== len - 1 && !endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {\n                        result = [result, '\\n'];\n                    }\n                }\n            }\n        }\n\n        return result;\n    }\n\n    function generateBlankLines(start, end, result) {\n        var j, newlineCount = 0;\n\n        for (j = start; j < end; j++) {\n            if (sourceCode[j] === '\\n') {\n                newlineCount++;\n            }\n        }\n\n        for (j = 1; j < newlineCount; j++) {\n            result.push(newline);\n        }\n    }\n\n    function parenthesize(text, current, should) {\n        if (current < should) {\n            return ['(', text, ')'];\n        }\n        return text;\n    }\n\n    function generateVerbatimString(string) {\n        var i, iz, result;\n        result = string.split(/\\r\\n|\\n/);\n        for (i = 1, iz = result.length; i < iz; i++) {\n            result[i] = newline + base + result[i];\n        }\n        return result;\n    }\n\n    function generateVerbatim(expr, precedence) {\n        var verbatim, result, prec;\n        verbatim = expr[extra.verbatim];\n\n        if (typeof verbatim === 'string') {\n            result = parenthesize(generateVerbatimString(verbatim), Precedence.Sequence, precedence);\n        } else {\n            // verbatim is object\n            result = generateVerbatimString(verbatim.content);\n            prec = (verbatim.precedence != null) ? verbatim.precedence : Precedence.Sequence;\n            result = parenthesize(result, prec, precedence);\n        }\n\n        return toSourceNodeWhenNeeded(result, expr);\n    }\n\n    function CodeGenerator() {\n    }\n\n    // Helpers.\n\n    CodeGenerator.prototype.maybeBlock = function(stmt, flags) {\n        var result, noLeadingComment, that = this;\n\n        noLeadingComment = !extra.comment || !stmt.leadingComments;\n\n        if (stmt.type === Syntax.BlockStatement && noLeadingComment) {\n            return [space, this.generateStatement(stmt, flags)];\n        }\n\n        if (stmt.type === Syntax.EmptyStatement && noLeadingComment) {\n            return ';';\n        }\n\n        withIndent(function () {\n            result = [\n                newline,\n                addIndent(that.generateStatement(stmt, flags))\n            ];\n        });\n\n        return result;\n    };\n\n    CodeGenerator.prototype.maybeBlockSuffix = function (stmt, result) {\n        var ends = endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString());\n        if (stmt.type === Syntax.BlockStatement && (!extra.comment || !stmt.leadingComments) && !ends) {\n            return [result, space];\n        }\n        if (ends) {\n            return [result, base];\n        }\n        return [result, newline, base];\n    };\n\n    function generateIdentifier(node) {\n        return toSourceNodeWhenNeeded(node.name, node);\n    }\n\n    function generateAsyncPrefix(node, spaceRequired) {\n        return node.async ? 'async' + (spaceRequired ? noEmptySpace() : space) : '';\n    }\n\n    function generateStarSuffix(node) {\n        var isGenerator = node.generator && !extra.moz.starlessGenerator;\n        return isGenerator ? '*' + space : '';\n    }\n\n    function generateMethodPrefix(prop) {\n        var func = prop.value, prefix = '';\n        if (func.async) {\n            prefix += generateAsyncPrefix(func, !prop.computed);\n        }\n        if (func.generator) {\n            // avoid space before method name\n            prefix += generateStarSuffix(func) ? '*' : '';\n        }\n        return prefix;\n    }\n\n    CodeGenerator.prototype.generatePattern = function (node, precedence, flags) {\n        if (node.type === Syntax.Identifier) {\n            return generateIdentifier(node);\n        }\n        return this.generateExpression(node, precedence, flags);\n    };\n\n    CodeGenerator.prototype.generateFunctionParams = function (node) {\n        var i, iz, result, hasDefault;\n\n        hasDefault = false;\n\n        if (node.type === Syntax.ArrowFunctionExpression &&\n                !node.rest && (!node.defaults || node.defaults.length === 0) &&\n                node.params.length === 1 && node.params[0].type === Syntax.Identifier) {\n            // arg => { } case\n            result = [generateAsyncPrefix(node, true), generateIdentifier(node.params[0])];\n        } else {\n            result = node.type === Syntax.ArrowFunctionExpression ? [generateAsyncPrefix(node, false)] : [];\n            result.push('(');\n            if (node.defaults) {\n                hasDefault = true;\n            }\n            for (i = 0, iz = node.params.length; i < iz; ++i) {\n                if (hasDefault && node.defaults[i]) {\n                    // Handle default values.\n                    result.push(this.generateAssignment(node.params[i], node.defaults[i], '=', Precedence.Assignment, E_TTT));\n                } else {\n                    result.push(this.generatePattern(node.params[i], Precedence.Assignment, E_TTT));\n                }\n                if (i + 1 < iz) {\n                    result.push(',' + space);\n                }\n            }\n\n            if (node.rest) {\n                if (node.params.length) {\n                    result.push(',' + space);\n                }\n                result.push('...');\n                result.push(generateIdentifier(node.rest));\n            }\n\n            result.push(')');\n        }\n\n        return result;\n    };\n\n    CodeGenerator.prototype.generateFunctionBody = function (node) {\n        var result, expr;\n\n        result = this.generateFunctionParams(node);\n\n        if (node.type === Syntax.ArrowFunctionExpression) {\n            result.push(space);\n            result.push('=>');\n        }\n\n        if (node.expression) {\n            result.push(space);\n            expr = this.generateExpression(node.body, Precedence.Assignment, E_TTT);\n            if (expr.toString().charAt(0) === '{') {\n                expr = ['(', expr, ')'];\n            }\n            result.push(expr);\n        } else {\n            result.push(this.maybeBlock(node.body, S_TTFF));\n        }\n\n        return result;\n    };\n\n    CodeGenerator.prototype.generateIterationForStatement = function (operator, stmt, flags) {\n        var result = ['for' + (stmt.await ? noEmptySpace() + 'await' : '') + space + '('], that = this;\n        withIndent(function () {\n            if (stmt.left.type === Syntax.VariableDeclaration) {\n                withIndent(function () {\n                    result.push(stmt.left.kind + noEmptySpace());\n                    result.push(that.generateStatement(stmt.left.declarations[0], S_FFFF));\n                });\n            } else {\n                result.push(that.generateExpression(stmt.left, Precedence.Call, E_TTT));\n            }\n\n            result = join(result, operator);\n            result = [join(\n                result,\n                that.generateExpression(stmt.right, Precedence.Assignment, E_TTT)\n            ), ')'];\n        });\n        result.push(this.maybeBlock(stmt.body, flags));\n        return result;\n    };\n\n    CodeGenerator.prototype.generatePropertyKey = function (expr, computed) {\n        var result = [];\n\n        if (computed) {\n            result.push('[');\n        }\n\n        result.push(this.generateExpression(expr, Precedence.Assignment, E_TTT));\n\n        if (computed) {\n            result.push(']');\n        }\n\n        return result;\n    };\n\n    CodeGenerator.prototype.generateAssignment = function (left, right, operator, precedence, flags) {\n        if (Precedence.Assignment < precedence) {\n            flags |= F_ALLOW_IN;\n        }\n\n        return parenthesize(\n            [\n                this.generateExpression(left, Precedence.Call, flags),\n                space + operator + space,\n                this.generateExpression(right, Precedence.Assignment, flags)\n            ],\n            Precedence.Assignment,\n            precedence\n        );\n    };\n\n    CodeGenerator.prototype.semicolon = function (flags) {\n        if (!semicolons && flags & F_SEMICOLON_OPT) {\n            return '';\n        }\n        return ';';\n    };\n\n    // Statements.\n\n    CodeGenerator.Statement = {\n\n        BlockStatement: function (stmt, flags) {\n            var range, content, result = ['{', newline], that = this;\n\n            withIndent(function () {\n                // handle functions without any code\n                if (stmt.body.length === 0 && preserveBlankLines) {\n                    range = stmt.range;\n                    if (range[1] - range[0] > 2) {\n                        content = sourceCode.substring(range[0] + 1, range[1] - 1);\n                        if (content[0] === '\\n') {\n                            result = ['{'];\n                        }\n                        result.push(content);\n                    }\n                }\n\n                var i, iz, fragment, bodyFlags;\n                bodyFlags = S_TFFF;\n                if (flags & F_FUNC_BODY) {\n                    bodyFlags |= F_DIRECTIVE_CTX;\n                }\n\n                for (i = 0, iz = stmt.body.length; i < iz; ++i) {\n                    if (preserveBlankLines) {\n                        // handle spaces before the first line\n                        if (i === 0) {\n                            if (stmt.body[0].leadingComments) {\n                                range = stmt.body[0].leadingComments[0].extendedRange;\n                                content = sourceCode.substring(range[0], range[1]);\n                                if (content[0] === '\\n') {\n                                    result = ['{'];\n                                }\n                            }\n                            if (!stmt.body[0].leadingComments) {\n                                generateBlankLines(stmt.range[0], stmt.body[0].range[0], result);\n                            }\n                        }\n\n                        // handle spaces between lines\n                        if (i > 0) {\n                            if (!stmt.body[i - 1].trailingComments  && !stmt.body[i].leadingComments) {\n                                generateBlankLines(stmt.body[i - 1].range[1], stmt.body[i].range[0], result);\n                            }\n                        }\n                    }\n\n                    if (i === iz - 1) {\n                        bodyFlags |= F_SEMICOLON_OPT;\n                    }\n\n                    if (stmt.body[i].leadingComments && preserveBlankLines) {\n                        fragment = that.generateStatement(stmt.body[i], bodyFlags);\n                    } else {\n                        fragment = addIndent(that.generateStatement(stmt.body[i], bodyFlags));\n                    }\n\n                    result.push(fragment);\n                    if (!endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())) {\n                        if (preserveBlankLines && i < iz - 1) {\n                            // don't add a new line if there are leading coments\n                            // in the next statement\n                            if (!stmt.body[i + 1].leadingComments) {\n                                result.push(newline);\n                            }\n                        } else {\n                            result.push(newline);\n                        }\n                    }\n\n                    if (preserveBlankLines) {\n                        // handle spaces after the last line\n                        if (i === iz - 1) {\n                            if (!stmt.body[i].trailingComments) {\n                                generateBlankLines(stmt.body[i].range[1], stmt.range[1], result);\n                            }\n                        }\n                    }\n                }\n            });\n\n            result.push(addIndent('}'));\n            return result;\n        },\n\n        BreakStatement: function (stmt, flags) {\n            if (stmt.label) {\n                return 'break ' + stmt.label.name + this.semicolon(flags);\n            }\n            return 'break' + this.semicolon(flags);\n        },\n\n        ContinueStatement: function (stmt, flags) {\n            if (stmt.label) {\n                return 'continue ' + stmt.label.name + this.semicolon(flags);\n            }\n            return 'continue' + this.semicolon(flags);\n        },\n\n        ClassBody: function (stmt, flags) {\n            var result = [ '{', newline], that = this;\n\n            withIndent(function (indent) {\n                var i, iz;\n\n                for (i = 0, iz = stmt.body.length; i < iz; ++i) {\n                    result.push(indent);\n                    result.push(that.generateExpression(stmt.body[i], Precedence.Sequence, E_TTT));\n                    if (i + 1 < iz) {\n                        result.push(newline);\n                    }\n                }\n            });\n\n            if (!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {\n                result.push(newline);\n            }\n            result.push(base);\n            result.push('}');\n            return result;\n        },\n\n        ClassDeclaration: function (stmt, flags) {\n            var result, fragment;\n            result  = ['class'];\n            if (stmt.id) {\n                result = join(result, this.generateExpression(stmt.id, Precedence.Sequence, E_TTT));\n            }\n            if (stmt.superClass) {\n                fragment = join('extends', this.generateExpression(stmt.superClass, Precedence.Unary, E_TTT));\n                result = join(result, fragment);\n            }\n            result.push(space);\n            result.push(this.generateStatement(stmt.body, S_TFFT));\n            return result;\n        },\n\n        DirectiveStatement: function (stmt, flags) {\n            if (extra.raw && stmt.raw) {\n                return stmt.raw + this.semicolon(flags);\n            }\n            return escapeDirective(stmt.directive) + this.semicolon(flags);\n        },\n\n        DoWhileStatement: function (stmt, flags) {\n            // Because `do 42 while (cond)` is Syntax Error. We need semicolon.\n            var result = join('do', this.maybeBlock(stmt.body, S_TFFF));\n            result = this.maybeBlockSuffix(stmt.body, result);\n            return join(result, [\n                'while' + space + '(',\n                this.generateExpression(stmt.test, Precedence.Sequence, E_TTT),\n                ')' + this.semicolon(flags)\n            ]);\n        },\n\n        CatchClause: function (stmt, flags) {\n            var result, that = this;\n            withIndent(function () {\n                var guard;\n\n                if (stmt.param) {\n                    result = [\n                        'catch' + space + '(',\n                        that.generateExpression(stmt.param, Precedence.Sequence, E_TTT),\n                        ')'\n                    ];\n\n                    if (stmt.guard) {\n                        guard = that.generateExpression(stmt.guard, Precedence.Sequence, E_TTT);\n                        result.splice(2, 0, ' if ', guard);\n                    }\n                } else {\n                    result = ['catch'];\n                }\n            });\n            result.push(this.maybeBlock(stmt.body, S_TFFF));\n            return result;\n        },\n\n        DebuggerStatement: function (stmt, flags) {\n            return 'debugger' + this.semicolon(flags);\n        },\n\n        EmptyStatement: function (stmt, flags) {\n            return ';';\n        },\n\n        ExportDefaultDeclaration: function (stmt, flags) {\n            var result = [ 'export' ], bodyFlags;\n\n            bodyFlags = (flags & F_SEMICOLON_OPT) ? S_TFFT : S_TFFF;\n\n            // export default HoistableDeclaration[Default]\n            // export default AssignmentExpression[In] ;\n            result = join(result, 'default');\n            if (isStatement(stmt.declaration)) {\n                result = join(result, this.generateStatement(stmt.declaration, bodyFlags));\n            } else {\n                result = join(result, this.generateExpression(stmt.declaration, Precedence.Assignment, E_TTT) + this.semicolon(flags));\n            }\n            return result;\n        },\n\n        ExportNamedDeclaration: function (stmt, flags) {\n            var result = [ 'export' ], bodyFlags, that = this;\n\n            bodyFlags = (flags & F_SEMICOLON_OPT) ? S_TFFT : S_TFFF;\n\n            // export VariableStatement\n            // export Declaration[Default]\n            if (stmt.declaration) {\n                return join(result, this.generateStatement(stmt.declaration, bodyFlags));\n            }\n\n            // export ExportClause[NoReference] FromClause ;\n            // export ExportClause ;\n            if (stmt.specifiers) {\n                if (stmt.specifiers.length === 0) {\n                    result = join(result, '{' + space + '}');\n                } else if (stmt.specifiers[0].type === Syntax.ExportBatchSpecifier) {\n                    result = join(result, this.generateExpression(stmt.specifiers[0], Precedence.Sequence, E_TTT));\n                } else {\n                    result = join(result, '{');\n                    withIndent(function (indent) {\n                        var i, iz;\n                        result.push(newline);\n                        for (i = 0, iz = stmt.specifiers.length; i < iz; ++i) {\n                            result.push(indent);\n                            result.push(that.generateExpression(stmt.specifiers[i], Precedence.Sequence, E_TTT));\n                            if (i + 1 < iz) {\n                                result.push(',' + newline);\n                            }\n                        }\n                    });\n                    if (!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {\n                        result.push(newline);\n                    }\n                    result.push(base + '}');\n                }\n\n                if (stmt.source) {\n                    result = join(result, [\n                        'from' + space,\n                        // ModuleSpecifier\n                        this.generateExpression(stmt.source, Precedence.Sequence, E_TTT),\n                        this.semicolon(flags)\n                    ]);\n                } else {\n                    result.push(this.semicolon(flags));\n                }\n            }\n            return result;\n        },\n\n        ExportAllDeclaration: function (stmt, flags) {\n            // export * FromClause ;\n            return [\n                'export' + space,\n                '*' + space,\n                'from' + space,\n                // ModuleSpecifier\n                this.generateExpression(stmt.source, Precedence.Sequence, E_TTT),\n                this.semicolon(flags)\n            ];\n        },\n\n        ExpressionStatement: function (stmt, flags) {\n            var result, fragment;\n\n            function isClassPrefixed(fragment) {\n                var code;\n                if (fragment.slice(0, 5) !== 'class') {\n                    return false;\n                }\n                code = fragment.charCodeAt(5);\n                return code === 0x7B  /* '{' */ || esutils.code.isWhiteSpace(code) || esutils.code.isLineTerminator(code);\n            }\n\n            function isFunctionPrefixed(fragment) {\n                var code;\n                if (fragment.slice(0, 8) !== 'function') {\n                    return false;\n                }\n                code = fragment.charCodeAt(8);\n                return code === 0x28 /* '(' */ || esutils.code.isWhiteSpace(code) || code === 0x2A  /* '*' */ || esutils.code.isLineTerminator(code);\n            }\n\n            function isAsyncPrefixed(fragment) {\n                var code, i, iz;\n                if (fragment.slice(0, 5) !== 'async') {\n                    return false;\n                }\n                if (!esutils.code.isWhiteSpace(fragment.charCodeAt(5))) {\n                    return false;\n                }\n                for (i = 6, iz = fragment.length; i < iz; ++i) {\n                    if (!esutils.code.isWhiteSpace(fragment.charCodeAt(i))) {\n                        break;\n                    }\n                }\n                if (i === iz) {\n                    return false;\n                }\n                if (fragment.slice(i, i + 8) !== 'function') {\n                    return false;\n                }\n                code = fragment.charCodeAt(i + 8);\n                return code === 0x28 /* '(' */ || esutils.code.isWhiteSpace(code) || code === 0x2A  /* '*' */ || esutils.code.isLineTerminator(code);\n            }\n\n            result = [this.generateExpression(stmt.expression, Precedence.Sequence, E_TTT)];\n            // 12.4 '{', 'function', 'class' is not allowed in this position.\n            // wrap expression with parentheses\n            fragment = toSourceNodeWhenNeeded(result).toString();\n            if (fragment.charCodeAt(0) === 0x7B  /* '{' */ ||  // ObjectExpression\n                    isClassPrefixed(fragment) ||\n                    isFunctionPrefixed(fragment) ||\n                    isAsyncPrefixed(fragment) ||\n                    (directive && (flags & F_DIRECTIVE_CTX) && stmt.expression.type === Syntax.Literal && typeof stmt.expression.value === 'string')) {\n                result = ['(', result, ')' + this.semicolon(flags)];\n            } else {\n                result.push(this.semicolon(flags));\n            }\n            return result;\n        },\n\n        ImportDeclaration: function (stmt, flags) {\n            // ES6: 15.2.1 valid import declarations:\n            //     - import ImportClause FromClause ;\n            //     - import ModuleSpecifier ;\n            var result, cursor, that = this;\n\n            // If no ImportClause is present,\n            // this should be `import ModuleSpecifier` so skip `from`\n            // ModuleSpecifier is StringLiteral.\n            if (stmt.specifiers.length === 0) {\n                // import ModuleSpecifier ;\n                return [\n                    'import',\n                    space,\n                    // ModuleSpecifier\n                    this.generateExpression(stmt.source, Precedence.Sequence, E_TTT),\n                    this.semicolon(flags)\n                ];\n            }\n\n            // import ImportClause FromClause ;\n            result = [\n                'import'\n            ];\n            cursor = 0;\n\n            // ImportedBinding\n            if (stmt.specifiers[cursor].type === Syntax.ImportDefaultSpecifier) {\n                result = join(result, [\n                        this.generateExpression(stmt.specifiers[cursor], Precedence.Sequence, E_TTT)\n                ]);\n                ++cursor;\n            }\n\n            if (stmt.specifiers[cursor]) {\n                if (cursor !== 0) {\n                    result.push(',');\n                }\n\n                if (stmt.specifiers[cursor].type === Syntax.ImportNamespaceSpecifier) {\n                    // NameSpaceImport\n                    result = join(result, [\n                            space,\n                            this.generateExpression(stmt.specifiers[cursor], Precedence.Sequence, E_TTT)\n                    ]);\n                } else {\n                    // NamedImports\n                    result.push(space + '{');\n\n                    if ((stmt.specifiers.length - cursor) === 1) {\n                        // import { ... } from \"...\";\n                        result.push(space);\n                        result.push(this.generateExpression(stmt.specifiers[cursor], Precedence.Sequence, E_TTT));\n                        result.push(space + '}' + space);\n                    } else {\n                        // import {\n                        //    ...,\n                        //    ...,\n                        // } from \"...\";\n                        withIndent(function (indent) {\n                            var i, iz;\n                            result.push(newline);\n                            for (i = cursor, iz = stmt.specifiers.length; i < iz; ++i) {\n                                result.push(indent);\n                                result.push(that.generateExpression(stmt.specifiers[i], Precedence.Sequence, E_TTT));\n                                if (i + 1 < iz) {\n                                    result.push(',' + newline);\n                                }\n                            }\n                        });\n                        if (!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {\n                            result.push(newline);\n                        }\n                        result.push(base + '}' + space);\n                    }\n                }\n            }\n\n            result = join(result, [\n                'from' + space,\n                // ModuleSpecifier\n                this.generateExpression(stmt.source, Precedence.Sequence, E_TTT),\n                this.semicolon(flags)\n            ]);\n            return result;\n        },\n\n        VariableDeclarator: function (stmt, flags) {\n            var itemFlags = (flags & F_ALLOW_IN) ? E_TTT : E_FTT;\n            if (stmt.init) {\n                return [\n                    this.generateExpression(stmt.id, Precedence.Assignment, itemFlags),\n                    space,\n                    '=',\n                    space,\n                    this.generateExpression(stmt.init, Precedence.Assignment, itemFlags)\n                ];\n            }\n            return this.generatePattern(stmt.id, Precedence.Assignment, itemFlags);\n        },\n\n        VariableDeclaration: function (stmt, flags) {\n            // VariableDeclarator is typed as Statement,\n            // but joined with comma (not LineTerminator).\n            // So if comment is attached to target node, we should specialize.\n            var result, i, iz, node, bodyFlags, that = this;\n\n            result = [ stmt.kind ];\n\n            bodyFlags = (flags & F_ALLOW_IN) ? S_TFFF : S_FFFF;\n\n            function block() {\n                node = stmt.declarations[0];\n                if (extra.comment && node.leadingComments) {\n                    result.push('\\n');\n                    result.push(addIndent(that.generateStatement(node, bodyFlags)));\n                } else {\n                    result.push(noEmptySpace());\n                    result.push(that.generateStatement(node, bodyFlags));\n                }\n\n                for (i = 1, iz = stmt.declarations.length; i < iz; ++i) {\n                    node = stmt.declarations[i];\n                    if (extra.comment && node.leadingComments) {\n                        result.push(',' + newline);\n                        result.push(addIndent(that.generateStatement(node, bodyFlags)));\n                    } else {\n                        result.push(',' + space);\n                        result.push(that.generateStatement(node, bodyFlags));\n                    }\n                }\n            }\n\n            if (stmt.declarations.length > 1) {\n                withIndent(block);\n            } else {\n                block();\n            }\n\n            result.push(this.semicolon(flags));\n\n            return result;\n        },\n\n        ThrowStatement: function (stmt, flags) {\n            return [join(\n                'throw',\n                this.generateExpression(stmt.argument, Precedence.Sequence, E_TTT)\n            ), this.semicolon(flags)];\n        },\n\n        TryStatement: function (stmt, flags) {\n            var result, i, iz, guardedHandlers;\n\n            result = ['try', this.maybeBlock(stmt.block, S_TFFF)];\n            result = this.maybeBlockSuffix(stmt.block, result);\n\n            if (stmt.handlers) {\n                // old interface\n                for (i = 0, iz = stmt.handlers.length; i < iz; ++i) {\n                    result = join(result, this.generateStatement(stmt.handlers[i], S_TFFF));\n                    if (stmt.finalizer || i + 1 !== iz) {\n                        result = this.maybeBlockSuffix(stmt.handlers[i].body, result);\n                    }\n                }\n            } else {\n                guardedHandlers = stmt.guardedHandlers || [];\n\n                for (i = 0, iz = guardedHandlers.length; i < iz; ++i) {\n                    result = join(result, this.generateStatement(guardedHandlers[i], S_TFFF));\n                    if (stmt.finalizer || i + 1 !== iz) {\n                        result = this.maybeBlockSuffix(guardedHandlers[i].body, result);\n                    }\n                }\n\n                // new interface\n                if (stmt.handler) {\n                    if (Array.isArray(stmt.handler)) {\n                        for (i = 0, iz = stmt.handler.length; i < iz; ++i) {\n                            result = join(result, this.generateStatement(stmt.handler[i], S_TFFF));\n                            if (stmt.finalizer || i + 1 !== iz) {\n                                result = this.maybeBlockSuffix(stmt.handler[i].body, result);\n                            }\n                        }\n                    } else {\n                        result = join(result, this.generateStatement(stmt.handler, S_TFFF));\n                        if (stmt.finalizer) {\n                            result = this.maybeBlockSuffix(stmt.handler.body, result);\n                        }\n                    }\n                }\n            }\n            if (stmt.finalizer) {\n                result = join(result, ['finally', this.maybeBlock(stmt.finalizer, S_TFFF)]);\n            }\n            return result;\n        },\n\n        SwitchStatement: function (stmt, flags) {\n            var result, fragment, i, iz, bodyFlags, that = this;\n            withIndent(function () {\n                result = [\n                    'switch' + space + '(',\n                    that.generateExpression(stmt.discriminant, Precedence.Sequence, E_TTT),\n                    ')' + space + '{' + newline\n                ];\n            });\n            if (stmt.cases) {\n                bodyFlags = S_TFFF;\n                for (i = 0, iz = stmt.cases.length; i < iz; ++i) {\n                    if (i === iz - 1) {\n                        bodyFlags |= F_SEMICOLON_OPT;\n                    }\n                    fragment = addIndent(this.generateStatement(stmt.cases[i], bodyFlags));\n                    result.push(fragment);\n                    if (!endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())) {\n                        result.push(newline);\n                    }\n                }\n            }\n            result.push(addIndent('}'));\n            return result;\n        },\n\n        SwitchCase: function (stmt, flags) {\n            var result, fragment, i, iz, bodyFlags, that = this;\n            withIndent(function () {\n                if (stmt.test) {\n                    result = [\n                        join('case', that.generateExpression(stmt.test, Precedence.Sequence, E_TTT)),\n                        ':'\n                    ];\n                } else {\n                    result = ['default:'];\n                }\n\n                i = 0;\n                iz = stmt.consequent.length;\n                if (iz && stmt.consequent[0].type === Syntax.BlockStatement) {\n                    fragment = that.maybeBlock(stmt.consequent[0], S_TFFF);\n                    result.push(fragment);\n                    i = 1;\n                }\n\n                if (i !== iz && !endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {\n                    result.push(newline);\n                }\n\n                bodyFlags = S_TFFF;\n                for (; i < iz; ++i) {\n                    if (i === iz - 1 && flags & F_SEMICOLON_OPT) {\n                        bodyFlags |= F_SEMICOLON_OPT;\n                    }\n                    fragment = addIndent(that.generateStatement(stmt.consequent[i], bodyFlags));\n                    result.push(fragment);\n                    if (i + 1 !== iz && !endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())) {\n                        result.push(newline);\n                    }\n                }\n            });\n            return result;\n        },\n\n        IfStatement: function (stmt, flags) {\n            var result, bodyFlags, semicolonOptional, that = this;\n            withIndent(function () {\n                result = [\n                    'if' + space + '(',\n                    that.generateExpression(stmt.test, Precedence.Sequence, E_TTT),\n                    ')'\n                ];\n            });\n            semicolonOptional = flags & F_SEMICOLON_OPT;\n            bodyFlags = S_TFFF;\n            if (semicolonOptional) {\n                bodyFlags |= F_SEMICOLON_OPT;\n            }\n            if (stmt.alternate) {\n                result.push(this.maybeBlock(stmt.consequent, S_TFFF));\n                result = this.maybeBlockSuffix(stmt.consequent, result);\n                if (stmt.alternate.type === Syntax.IfStatement) {\n                    result = join(result, ['else ', this.generateStatement(stmt.alternate, bodyFlags)]);\n                } else {\n                    result = join(result, join('else', this.maybeBlock(stmt.alternate, bodyFlags)));\n                }\n            } else {\n                result.push(this.maybeBlock(stmt.consequent, bodyFlags));\n            }\n            return result;\n        },\n\n        ForStatement: function (stmt, flags) {\n            var result, that = this;\n            withIndent(function () {\n                result = ['for' + space + '('];\n                if (stmt.init) {\n                    if (stmt.init.type === Syntax.VariableDeclaration) {\n                        result.push(that.generateStatement(stmt.init, S_FFFF));\n                    } else {\n                        // F_ALLOW_IN becomes false.\n                        result.push(that.generateExpression(stmt.init, Precedence.Sequence, E_FTT));\n                        result.push(';');\n                    }\n                } else {\n                    result.push(';');\n                }\n\n                if (stmt.test) {\n                    result.push(space);\n                    result.push(that.generateExpression(stmt.test, Precedence.Sequence, E_TTT));\n                    result.push(';');\n                } else {\n                    result.push(';');\n                }\n\n                if (stmt.update) {\n                    result.push(space);\n                    result.push(that.generateExpression(stmt.update, Precedence.Sequence, E_TTT));\n                    result.push(')');\n                } else {\n                    result.push(')');\n                }\n            });\n\n            result.push(this.maybeBlock(stmt.body, flags & F_SEMICOLON_OPT ? S_TFFT : S_TFFF));\n            return result;\n        },\n\n        ForInStatement: function (stmt, flags) {\n            return this.generateIterationForStatement('in', stmt, flags & F_SEMICOLON_OPT ? S_TFFT : S_TFFF);\n        },\n\n        ForOfStatement: function (stmt, flags) {\n            return this.generateIterationForStatement('of', stmt, flags & F_SEMICOLON_OPT ? S_TFFT : S_TFFF);\n        },\n\n        LabeledStatement: function (stmt, flags) {\n            return [stmt.label.name + ':', this.maybeBlock(stmt.body, flags & F_SEMICOLON_OPT ? S_TFFT : S_TFFF)];\n        },\n\n        Program: function (stmt, flags) {\n            var result, fragment, i, iz, bodyFlags;\n            iz = stmt.body.length;\n            result = [safeConcatenation && iz > 0 ? '\\n' : ''];\n            bodyFlags = S_TFTF;\n            for (i = 0; i < iz; ++i) {\n                if (!safeConcatenation && i === iz - 1) {\n                    bodyFlags |= F_SEMICOLON_OPT;\n                }\n\n                if (preserveBlankLines) {\n                    // handle spaces before the first line\n                    if (i === 0) {\n                        if (!stmt.body[0].leadingComments) {\n                            generateBlankLines(stmt.range[0], stmt.body[i].range[0], result);\n                        }\n                    }\n\n                    // handle spaces between lines\n                    if (i > 0) {\n                        if (!stmt.body[i - 1].trailingComments && !stmt.body[i].leadingComments) {\n                            generateBlankLines(stmt.body[i - 1].range[1], stmt.body[i].range[0], result);\n                        }\n                    }\n                }\n\n                fragment = addIndent(this.generateStatement(stmt.body[i], bodyFlags));\n                result.push(fragment);\n                if (i + 1 < iz && !endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())) {\n                    if (preserveBlankLines) {\n                        if (!stmt.body[i + 1].leadingComments) {\n                            result.push(newline);\n                        }\n                    } else {\n                        result.push(newline);\n                    }\n                }\n\n                if (preserveBlankLines) {\n                    // handle spaces after the last line\n                    if (i === iz - 1) {\n                        if (!stmt.body[i].trailingComments) {\n                            generateBlankLines(stmt.body[i].range[1], stmt.range[1], result);\n                        }\n                    }\n                }\n            }\n            return result;\n        },\n\n        FunctionDeclaration: function (stmt, flags) {\n            return [\n                generateAsyncPrefix(stmt, true),\n                'function',\n                generateStarSuffix(stmt) || noEmptySpace(),\n                stmt.id ? generateIdentifier(stmt.id) : '',\n                this.generateFunctionBody(stmt)\n            ];\n        },\n\n        ReturnStatement: function (stmt, flags) {\n            if (stmt.argument) {\n                return [join(\n                    'return',\n                    this.generateExpression(stmt.argument, Precedence.Sequence, E_TTT)\n                ), this.semicolon(flags)];\n            }\n            return ['return' + this.semicolon(flags)];\n        },\n\n        WhileStatement: function (stmt, flags) {\n            var result, that = this;\n            withIndent(function () {\n                result = [\n                    'while' + space + '(',\n                    that.generateExpression(stmt.test, Precedence.Sequence, E_TTT),\n                    ')'\n                ];\n            });\n            result.push(this.maybeBlock(stmt.body, flags & F_SEMICOLON_OPT ? S_TFFT : S_TFFF));\n            return result;\n        },\n\n        WithStatement: function (stmt, flags) {\n            var result, that = this;\n            withIndent(function () {\n                result = [\n                    'with' + space + '(',\n                    that.generateExpression(stmt.object, Precedence.Sequence, E_TTT),\n                    ')'\n                ];\n            });\n            result.push(this.maybeBlock(stmt.body, flags & F_SEMICOLON_OPT ? S_TFFT : S_TFFF));\n            return result;\n        }\n\n    };\n\n    merge(CodeGenerator.prototype, CodeGenerator.Statement);\n\n    // Expressions.\n\n    CodeGenerator.Expression = {\n\n        SequenceExpression: function (expr, precedence, flags) {\n            var result, i, iz;\n            if (Precedence.Sequence < precedence) {\n                flags |= F_ALLOW_IN;\n            }\n            result = [];\n            for (i = 0, iz = expr.expressions.length; i < iz; ++i) {\n                result.push(this.generateExpression(expr.expressions[i], Precedence.Assignment, flags));\n                if (i + 1 < iz) {\n                    result.push(',' + space);\n                }\n            }\n            return parenthesize(result, Precedence.Sequence, precedence);\n        },\n\n        AssignmentExpression: function (expr, precedence, flags) {\n            return this.generateAssignment(expr.left, expr.right, expr.operator, precedence, flags);\n        },\n\n        ArrowFunctionExpression: function (expr, precedence, flags) {\n            return parenthesize(this.generateFunctionBody(expr), Precedence.ArrowFunction, precedence);\n        },\n\n        ConditionalExpression: function (expr, precedence, flags) {\n            if (Precedence.Conditional < precedence) {\n                flags |= F_ALLOW_IN;\n            }\n            return parenthesize(\n                [\n                    this.generateExpression(expr.test, Precedence.LogicalOR, flags),\n                    space + '?' + space,\n                    this.generateExpression(expr.consequent, Precedence.Assignment, flags),\n                    space + ':' + space,\n                    this.generateExpression(expr.alternate, Precedence.Assignment, flags)\n                ],\n                Precedence.Conditional,\n                precedence\n            );\n        },\n\n        LogicalExpression: function (expr, precedence, flags) {\n            return this.BinaryExpression(expr, precedence, flags);\n        },\n\n        BinaryExpression: function (expr, precedence, flags) {\n            var result, leftPrecedence, rightPrecedence, currentPrecedence, fragment, leftSource;\n            currentPrecedence = BinaryPrecedence[expr.operator];\n            leftPrecedence = expr.operator === '**' ? Precedence.Postfix : currentPrecedence;\n            rightPrecedence = expr.operator === '**' ? currentPrecedence : currentPrecedence + 1;\n\n            if (currentPrecedence < precedence) {\n                flags |= F_ALLOW_IN;\n            }\n\n            fragment = this.generateExpression(expr.left, leftPrecedence, flags);\n\n            leftSource = fragment.toString();\n\n            if (leftSource.charCodeAt(leftSource.length - 1) === 0x2F /* / */ && esutils.code.isIdentifierPartES5(expr.operator.charCodeAt(0))) {\n                result = [fragment, noEmptySpace(), expr.operator];\n            } else {\n                result = join(fragment, expr.operator);\n            }\n\n            fragment = this.generateExpression(expr.right, rightPrecedence, flags);\n\n            if (expr.operator === '/' && fragment.toString().charAt(0) === '/' ||\n            expr.operator.slice(-1) === '<' && fragment.toString().slice(0, 3) === '!--') {\n                // If '/' concats with '/' or `<` concats with `!--`, it is interpreted as comment start\n                result.push(noEmptySpace());\n                result.push(fragment);\n            } else {\n                result = join(result, fragment);\n            }\n\n            if (expr.operator === 'in' && !(flags & F_ALLOW_IN)) {\n                return ['(', result, ')'];\n            }\n            return parenthesize(result, currentPrecedence, precedence);\n        },\n\n        CallExpression: function (expr, precedence, flags) {\n            var result, i, iz;\n\n            // F_ALLOW_UNPARATH_NEW becomes false.\n            result = [this.generateExpression(expr.callee, Precedence.Call, E_TTF)];\n\n            if (expr.optional) {\n                result.push('?.');\n            }\n\n            result.push('(');\n            for (i = 0, iz = expr['arguments'].length; i < iz; ++i) {\n                result.push(this.generateExpression(expr['arguments'][i], Precedence.Assignment, E_TTT));\n                if (i + 1 < iz) {\n                    result.push(',' + space);\n                }\n            }\n            result.push(')');\n\n            if (!(flags & F_ALLOW_CALL)) {\n                return ['(', result, ')'];\n            }\n\n            return parenthesize(result, Precedence.Call, precedence);\n        },\n\n        ChainExpression: function (expr, precedence, flags) {\n            if (Precedence.OptionalChaining < precedence) {\n                flags |= F_ALLOW_CALL;\n            }\n\n            var result = this.generateExpression(expr.expression, Precedence.OptionalChaining, flags);\n\n            return parenthesize(result, Precedence.OptionalChaining, precedence);\n        },\n\n        NewExpression: function (expr, precedence, flags) {\n            var result, length, i, iz, itemFlags;\n            length = expr['arguments'].length;\n\n            // F_ALLOW_CALL becomes false.\n            // F_ALLOW_UNPARATH_NEW may become false.\n            itemFlags = (flags & F_ALLOW_UNPARATH_NEW && !parentheses && length === 0) ? E_TFT : E_TFF;\n\n            result = join(\n                'new',\n                this.generateExpression(expr.callee, Precedence.New, itemFlags)\n            );\n\n            if (!(flags & F_ALLOW_UNPARATH_NEW) || parentheses || length > 0) {\n                result.push('(');\n                for (i = 0, iz = length; i < iz; ++i) {\n                    result.push(this.generateExpression(expr['arguments'][i], Precedence.Assignment, E_TTT));\n                    if (i + 1 < iz) {\n                        result.push(',' + space);\n                    }\n                }\n                result.push(')');\n            }\n\n            return parenthesize(result, Precedence.New, precedence);\n        },\n\n        MemberExpression: function (expr, precedence, flags) {\n            var result, fragment;\n\n            // F_ALLOW_UNPARATH_NEW becomes false.\n            result = [this.generateExpression(expr.object, Precedence.Call, (flags & F_ALLOW_CALL) ? E_TTF : E_TFF)];\n\n            if (expr.computed) {\n                if (expr.optional) {\n                    result.push('?.');\n                }\n\n                result.push('[');\n                result.push(this.generateExpression(expr.property, Precedence.Sequence, flags & F_ALLOW_CALL ? E_TTT : E_TFT));\n                result.push(']');\n            } else {\n                if (!expr.optional && expr.object.type === Syntax.Literal && typeof expr.object.value === 'number') {\n                    fragment = toSourceNodeWhenNeeded(result).toString();\n                    // When the following conditions are all true,\n                    //   1. No floating point\n                    //   2. Don't have exponents\n                    //   3. The last character is a decimal digit\n                    //   4. Not hexadecimal OR octal number literal\n                    // we should add a floating point.\n                    if (\n                            fragment.indexOf('.') < 0 &&\n                            !/[eExX]/.test(fragment) &&\n                            esutils.code.isDecimalDigit(fragment.charCodeAt(fragment.length - 1)) &&\n                            !(fragment.length >= 2 && fragment.charCodeAt(0) === 48)  // '0'\n                            ) {\n                        result.push(' ');\n                    }\n                }\n                result.push(expr.optional ? '?.' : '.');\n                result.push(generateIdentifier(expr.property));\n            }\n\n            return parenthesize(result, Precedence.Member, precedence);\n        },\n\n        MetaProperty: function (expr, precedence, flags) {\n            var result;\n            result = [];\n            result.push(typeof expr.meta === \"string\" ? expr.meta : generateIdentifier(expr.meta));\n            result.push('.');\n            result.push(typeof expr.property === \"string\" ? expr.property : generateIdentifier(expr.property));\n            return parenthesize(result, Precedence.Member, precedence);\n        },\n\n        UnaryExpression: function (expr, precedence, flags) {\n            var result, fragment, rightCharCode, leftSource, leftCharCode;\n            fragment = this.generateExpression(expr.argument, Precedence.Unary, E_TTT);\n\n            if (space === '') {\n                result = join(expr.operator, fragment);\n            } else {\n                result = [expr.operator];\n                if (expr.operator.length > 2) {\n                    // delete, void, typeof\n                    // get `typeof []`, not `typeof[]`\n                    result = join(result, fragment);\n                } else {\n                    // Prevent inserting spaces between operator and argument if it is unnecessary\n                    // like, `!cond`\n                    leftSource = toSourceNodeWhenNeeded(result).toString();\n                    leftCharCode = leftSource.charCodeAt(leftSource.length - 1);\n                    rightCharCode = fragment.toString().charCodeAt(0);\n\n                    if (((leftCharCode === 0x2B  /* + */ || leftCharCode === 0x2D  /* - */) && leftCharCode === rightCharCode) ||\n                            (esutils.code.isIdentifierPartES5(leftCharCode) && esutils.code.isIdentifierPartES5(rightCharCode))) {\n                        result.push(noEmptySpace());\n                        result.push(fragment);\n                    } else {\n                        result.push(fragment);\n                    }\n                }\n            }\n            return parenthesize(result, Precedence.Unary, precedence);\n        },\n\n        YieldExpression: function (expr, precedence, flags) {\n            var result;\n            if (expr.delegate) {\n                result = 'yield*';\n            } else {\n                result = 'yield';\n            }\n            if (expr.argument) {\n                result = join(\n                    result,\n                    this.generateExpression(expr.argument, Precedence.Yield, E_TTT)\n                );\n            }\n            return parenthesize(result, Precedence.Yield, precedence);\n        },\n\n        AwaitExpression: function (expr, precedence, flags) {\n            var result = join(\n                expr.all ? 'await*' : 'await',\n                this.generateExpression(expr.argument, Precedence.Await, E_TTT)\n            );\n            return parenthesize(result, Precedence.Await, precedence);\n        },\n\n        UpdateExpression: function (expr, precedence, flags) {\n            if (expr.prefix) {\n                return parenthesize(\n                    [\n                        expr.operator,\n                        this.generateExpression(expr.argument, Precedence.Unary, E_TTT)\n                    ],\n                    Precedence.Unary,\n                    precedence\n                );\n            }\n            return parenthesize(\n                [\n                    this.generateExpression(expr.argument, Precedence.Postfix, E_TTT),\n                    expr.operator\n                ],\n                Precedence.Postfix,\n                precedence\n            );\n        },\n\n        FunctionExpression: function (expr, precedence, flags) {\n            var result = [\n                generateAsyncPrefix(expr, true),\n                'function'\n            ];\n            if (expr.id) {\n                result.push(generateStarSuffix(expr) || noEmptySpace());\n                result.push(generateIdentifier(expr.id));\n            } else {\n                result.push(generateStarSuffix(expr) || space);\n            }\n            result.push(this.generateFunctionBody(expr));\n            return result;\n        },\n\n        ArrayPattern: function (expr, precedence, flags) {\n            return this.ArrayExpression(expr, precedence, flags, true);\n        },\n\n        ArrayExpression: function (expr, precedence, flags, isPattern) {\n            var result, multiline, that = this;\n            if (!expr.elements.length) {\n                return '[]';\n            }\n            multiline = isPattern ? false : expr.elements.length > 1;\n            result = ['[', multiline ? newline : ''];\n            withIndent(function (indent) {\n                var i, iz;\n                for (i = 0, iz = expr.elements.length; i < iz; ++i) {\n                    if (!expr.elements[i]) {\n                        if (multiline) {\n                            result.push(indent);\n                        }\n                        if (i + 1 === iz) {\n                            result.push(',');\n                        }\n                    } else {\n                        result.push(multiline ? indent : '');\n                        result.push(that.generateExpression(expr.elements[i], Precedence.Assignment, E_TTT));\n                    }\n                    if (i + 1 < iz) {\n                        result.push(',' + (multiline ? newline : space));\n                    }\n                }\n            });\n            if (multiline && !endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {\n                result.push(newline);\n            }\n            result.push(multiline ? base : '');\n            result.push(']');\n            return result;\n        },\n\n        RestElement: function(expr, precedence, flags) {\n            return '...' + this.generatePattern(expr.argument);\n        },\n\n        ClassExpression: function (expr, precedence, flags) {\n            var result, fragment;\n            result = ['class'];\n            if (expr.id) {\n                result = join(result, this.generateExpression(expr.id, Precedence.Sequence, E_TTT));\n            }\n            if (expr.superClass) {\n                fragment = join('extends', this.generateExpression(expr.superClass, Precedence.Unary, E_TTT));\n                result = join(result, fragment);\n            }\n            result.push(space);\n            result.push(this.generateStatement(expr.body, S_TFFT));\n            return result;\n        },\n\n        MethodDefinition: function (expr, precedence, flags) {\n            var result, fragment;\n            if (expr['static']) {\n                result = ['static' + space];\n            } else {\n                result = [];\n            }\n            if (expr.kind === 'get' || expr.kind === 'set') {\n                fragment = [\n                    join(expr.kind, this.generatePropertyKey(expr.key, expr.computed)),\n                    this.generateFunctionBody(expr.value)\n                ];\n            } else {\n                fragment = [\n                    generateMethodPrefix(expr),\n                    this.generatePropertyKey(expr.key, expr.computed),\n                    this.generateFunctionBody(expr.value)\n                ];\n            }\n            return join(result, fragment);\n        },\n\n        Property: function (expr, precedence, flags) {\n            if (expr.kind === 'get' || expr.kind === 'set') {\n                return [\n                    expr.kind, noEmptySpace(),\n                    this.generatePropertyKey(expr.key, expr.computed),\n                    this.generateFunctionBody(expr.value)\n                ];\n            }\n\n            if (expr.shorthand) {\n                if (expr.value.type === \"AssignmentPattern\") {\n                    return this.AssignmentPattern(expr.value, Precedence.Sequence, E_TTT);\n                }\n                return this.generatePropertyKey(expr.key, expr.computed);\n            }\n\n            if (expr.method) {\n                return [\n                    generateMethodPrefix(expr),\n                    this.generatePropertyKey(expr.key, expr.computed),\n                    this.generateFunctionBody(expr.value)\n                ];\n            }\n\n            return [\n                this.generatePropertyKey(expr.key, expr.computed),\n                ':' + space,\n                this.generateExpression(expr.value, Precedence.Assignment, E_TTT)\n            ];\n        },\n\n        ObjectExpression: function (expr, precedence, flags) {\n            var multiline, result, fragment, that = this;\n\n            if (!expr.properties.length) {\n                return '{}';\n            }\n            multiline = expr.properties.length > 1;\n\n            withIndent(function () {\n                fragment = that.generateExpression(expr.properties[0], Precedence.Sequence, E_TTT);\n            });\n\n            if (!multiline) {\n                // issues 4\n                // Do not transform from\n                //   dejavu.Class.declare({\n                //       method2: function () {}\n                //   });\n                // to\n                //   dejavu.Class.declare({method2: function () {\n                //       }});\n                if (!hasLineTerminator(toSourceNodeWhenNeeded(fragment).toString())) {\n                    return [ '{', space, fragment, space, '}' ];\n                }\n            }\n\n            withIndent(function (indent) {\n                var i, iz;\n                result = [ '{', newline, indent, fragment ];\n\n                if (multiline) {\n                    result.push(',' + newline);\n                    for (i = 1, iz = expr.properties.length; i < iz; ++i) {\n                        result.push(indent);\n                        result.push(that.generateExpression(expr.properties[i], Precedence.Sequence, E_TTT));\n                        if (i + 1 < iz) {\n                            result.push(',' + newline);\n                        }\n                    }\n                }\n            });\n\n            if (!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {\n                result.push(newline);\n            }\n            result.push(base);\n            result.push('}');\n            return result;\n        },\n\n        AssignmentPattern: function(expr, precedence, flags) {\n            return this.generateAssignment(expr.left, expr.right, '=', precedence, flags);\n        },\n\n        ObjectPattern: function (expr, precedence, flags) {\n            var result, i, iz, multiline, property, that = this;\n            if (!expr.properties.length) {\n                return '{}';\n            }\n\n            multiline = false;\n            if (expr.properties.length === 1) {\n                property = expr.properties[0];\n                if (\n                    property.type === Syntax.Property\n                    && property.value.type !== Syntax.Identifier\n                ) {\n                    multiline = true;\n                }\n            } else {\n                for (i = 0, iz = expr.properties.length; i < iz; ++i) {\n                    property = expr.properties[i];\n                    if (\n                        property.type === Syntax.Property\n                        && !property.shorthand\n                    ) {\n                        multiline = true;\n                        break;\n                    }\n                }\n            }\n            result = ['{', multiline ? newline : '' ];\n\n            withIndent(function (indent) {\n                var i, iz;\n                for (i = 0, iz = expr.properties.length; i < iz; ++i) {\n                    result.push(multiline ? indent : '');\n                    result.push(that.generateExpression(expr.properties[i], Precedence.Sequence, E_TTT));\n                    if (i + 1 < iz) {\n                        result.push(',' + (multiline ? newline : space));\n                    }\n                }\n            });\n\n            if (multiline && !endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {\n                result.push(newline);\n            }\n            result.push(multiline ? base : '');\n            result.push('}');\n            return result;\n        },\n\n        ThisExpression: function (expr, precedence, flags) {\n            return 'this';\n        },\n\n        Super: function (expr, precedence, flags) {\n            return 'super';\n        },\n\n        Identifier: function (expr, precedence, flags) {\n            return generateIdentifier(expr);\n        },\n\n        ImportDefaultSpecifier: function (expr, precedence, flags) {\n            return generateIdentifier(expr.id || expr.local);\n        },\n\n        ImportNamespaceSpecifier: function (expr, precedence, flags) {\n            var result = ['*'];\n            var id = expr.id || expr.local;\n            if (id) {\n                result.push(space + 'as' + noEmptySpace() + generateIdentifier(id));\n            }\n            return result;\n        },\n\n        ImportSpecifier: function (expr, precedence, flags) {\n            var imported = expr.imported;\n            var result = [ imported.name ];\n            var local = expr.local;\n            if (local && local.name !== imported.name) {\n                result.push(noEmptySpace() + 'as' + noEmptySpace() + generateIdentifier(local));\n            }\n            return result;\n        },\n\n        ExportSpecifier: function (expr, precedence, flags) {\n            var local = expr.local;\n            var result = [ local.name ];\n            var exported = expr.exported;\n            if (exported && exported.name !== local.name) {\n                result.push(noEmptySpace() + 'as' + noEmptySpace() + generateIdentifier(exported));\n            }\n            return result;\n        },\n\n        Literal: function (expr, precedence, flags) {\n            var raw;\n            if (expr.hasOwnProperty('raw') && parse && extra.raw) {\n                try {\n                    raw = parse(expr.raw).body[0].expression;\n                    if (raw.type === Syntax.Literal) {\n                        if (raw.value === expr.value) {\n                            return expr.raw;\n                        }\n                    }\n                } catch (e) {\n                    // not use raw property\n                }\n            }\n\n            if (expr.regex) {\n              return '/' + expr.regex.pattern + '/' + expr.regex.flags;\n            }\n\n            if (expr.value === null) {\n                return 'null';\n            }\n\n            if (typeof expr.value === 'string') {\n                return escapeString(expr.value);\n            }\n\n            if (typeof expr.value === 'number') {\n                return generateNumber(expr.value);\n            }\n\n            if (typeof expr.value === 'boolean') {\n                return expr.value ? 'true' : 'false';\n            }\n\n            return generateRegExp(expr.value);\n        },\n\n        GeneratorExpression: function (expr, precedence, flags) {\n            return this.ComprehensionExpression(expr, precedence, flags);\n        },\n\n        ComprehensionExpression: function (expr, precedence, flags) {\n            // GeneratorExpression should be parenthesized with (...), ComprehensionExpression with [...]\n            // Due to https://bugzilla.mozilla.org/show_bug.cgi?id=883468 position of expr.body can differ in Spidermonkey and ES6\n\n            var result, i, iz, fragment, that = this;\n            result = (expr.type === Syntax.GeneratorExpression) ? ['('] : ['['];\n\n            if (extra.moz.comprehensionExpressionStartsWithAssignment) {\n                fragment = this.generateExpression(expr.body, Precedence.Assignment, E_TTT);\n                result.push(fragment);\n            }\n\n            if (expr.blocks) {\n                withIndent(function () {\n                    for (i = 0, iz = expr.blocks.length; i < iz; ++i) {\n                        fragment = that.generateExpression(expr.blocks[i], Precedence.Sequence, E_TTT);\n                        if (i > 0 || extra.moz.comprehensionExpressionStartsWithAssignment) {\n                            result = join(result, fragment);\n                        } else {\n                            result.push(fragment);\n                        }\n                    }\n                });\n            }\n\n            if (expr.filter) {\n                result = join(result, 'if' + space);\n                fragment = this.generateExpression(expr.filter, Precedence.Sequence, E_TTT);\n                result = join(result, [ '(', fragment, ')' ]);\n            }\n\n            if (!extra.moz.comprehensionExpressionStartsWithAssignment) {\n                fragment = this.generateExpression(expr.body, Precedence.Assignment, E_TTT);\n\n                result = join(result, fragment);\n            }\n\n            result.push((expr.type === Syntax.GeneratorExpression) ? ')' : ']');\n            return result;\n        },\n\n        ComprehensionBlock: function (expr, precedence, flags) {\n            var fragment;\n            if (expr.left.type === Syntax.VariableDeclaration) {\n                fragment = [\n                    expr.left.kind, noEmptySpace(),\n                    this.generateStatement(expr.left.declarations[0], S_FFFF)\n                ];\n            } else {\n                fragment = this.generateExpression(expr.left, Precedence.Call, E_TTT);\n            }\n\n            fragment = join(fragment, expr.of ? 'of' : 'in');\n            fragment = join(fragment, this.generateExpression(expr.right, Precedence.Sequence, E_TTT));\n\n            return [ 'for' + space + '(', fragment, ')' ];\n        },\n\n        SpreadElement: function (expr, precedence, flags) {\n            return [\n                '...',\n                this.generateExpression(expr.argument, Precedence.Assignment, E_TTT)\n            ];\n        },\n\n        TaggedTemplateExpression: function (expr, precedence, flags) {\n            var itemFlags = E_TTF;\n            if (!(flags & F_ALLOW_CALL)) {\n                itemFlags = E_TFF;\n            }\n            var result = [\n                this.generateExpression(expr.tag, Precedence.Call, itemFlags),\n                this.generateExpression(expr.quasi, Precedence.Primary, E_FFT)\n            ];\n            return parenthesize(result, Precedence.TaggedTemplate, precedence);\n        },\n\n        TemplateElement: function (expr, precedence, flags) {\n            // Don't use \"cooked\". Since tagged template can use raw template\n            // representation. So if we do so, it breaks the script semantics.\n            return expr.value.raw;\n        },\n\n        TemplateLiteral: function (expr, precedence, flags) {\n            var result, i, iz;\n            result = [ '`' ];\n            for (i = 0, iz = expr.quasis.length; i < iz; ++i) {\n                result.push(this.generateExpression(expr.quasis[i], Precedence.Primary, E_TTT));\n                if (i + 1 < iz) {\n                    result.push('${' + space);\n                    result.push(this.generateExpression(expr.expressions[i], Precedence.Sequence, E_TTT));\n                    result.push(space + '}');\n                }\n            }\n            result.push('`');\n            return result;\n        },\n\n        ModuleSpecifier: function (expr, precedence, flags) {\n            return this.Literal(expr, precedence, flags);\n        },\n\n        ImportExpression: function(expr, precedence, flag) {\n            return parenthesize([\n                'import(',\n                this.generateExpression(expr.source, Precedence.Assignment, E_TTT),\n                ')'\n            ], Precedence.Call, precedence);\n        }\n    };\n\n    merge(CodeGenerator.prototype, CodeGenerator.Expression);\n\n    CodeGenerator.prototype.generateExpression = function (expr, precedence, flags) {\n        var result, type;\n\n        type = expr.type || Syntax.Property;\n\n        if (extra.verbatim && expr.hasOwnProperty(extra.verbatim)) {\n            return generateVerbatim(expr, precedence);\n        }\n\n        result = this[type](expr, precedence, flags);\n\n\n        if (extra.comment) {\n            result = addComments(expr, result);\n        }\n        return toSourceNodeWhenNeeded(result, expr);\n    };\n\n    CodeGenerator.prototype.generateStatement = function (stmt, flags) {\n        var result,\n            fragment;\n\n        result = this[stmt.type](stmt, flags);\n\n        // Attach comments\n\n        if (extra.comment) {\n            result = addComments(stmt, result);\n        }\n\n        fragment = toSourceNodeWhenNeeded(result).toString();\n        if (stmt.type === Syntax.Program && !safeConcatenation && newline === '' &&  fragment.charAt(fragment.length - 1) === '\\n') {\n            result = sourceMap ? toSourceNodeWhenNeeded(result).replaceRight(/\\s+$/, '') : fragment.replace(/\\s+$/, '');\n        }\n\n        return toSourceNodeWhenNeeded(result, stmt);\n    };\n\n    function generateInternal(node) {\n        var codegen;\n\n        codegen = new CodeGenerator();\n        if (isStatement(node)) {\n            return codegen.generateStatement(node, S_TFFF);\n        }\n\n        if (isExpression(node)) {\n            return codegen.generateExpression(node, Precedence.Sequence, E_TTT);\n        }\n\n        throw new Error('Unknown node type: ' + node.type);\n    }\n\n    function generate(node, options) {\n        var defaultOptions = getDefaultOptions(), result, pair;\n\n        if (options != null) {\n            // Obsolete options\n            //\n            //   `options.indent`\n            //   `options.base`\n            //\n            // Instead of them, we can use `option.format.indent`.\n            if (typeof options.indent === 'string') {\n                defaultOptions.format.indent.style = options.indent;\n            }\n            if (typeof options.base === 'number') {\n                defaultOptions.format.indent.base = options.base;\n            }\n            options = updateDeeply(defaultOptions, options);\n            indent = options.format.indent.style;\n            if (typeof options.base === 'string') {\n                base = options.base;\n            } else {\n                base = stringRepeat(indent, options.format.indent.base);\n            }\n        } else {\n            options = defaultOptions;\n            indent = options.format.indent.style;\n            base = stringRepeat(indent, options.format.indent.base);\n        }\n        json = options.format.json;\n        renumber = options.format.renumber;\n        hexadecimal = json ? false : options.format.hexadecimal;\n        quotes = json ? 'double' : options.format.quotes;\n        escapeless = options.format.escapeless;\n        newline = options.format.newline;\n        space = options.format.space;\n        if (options.format.compact) {\n            newline = space = indent = base = '';\n        }\n        parentheses = options.format.parentheses;\n        semicolons = options.format.semicolons;\n        safeConcatenation = options.format.safeConcatenation;\n        directive = options.directive;\n        parse = json ? null : options.parse;\n        sourceMap = options.sourceMap;\n        sourceCode = options.sourceCode;\n        preserveBlankLines = options.format.preserveBlankLines && sourceCode !== null;\n        extra = options;\n\n        if (sourceMap) {\n            if (!exports.browser) {\n                // We assume environment is node.js\n                // And prevent from including source-map by browserify\n                SourceNode = require('source-map').SourceNode;\n            } else {\n                SourceNode = global.sourceMap.SourceNode;\n            }\n        }\n\n        result = generateInternal(node);\n\n        if (!sourceMap) {\n            pair = {code: result.toString(), map: null};\n            return options.sourceMapWithCode ? pair : pair.code;\n        }\n\n\n        pair = result.toStringWithSourceMap({\n            file: options.file,\n            sourceRoot: options.sourceMapRoot\n        });\n\n        if (options.sourceContent) {\n            pair.map.setSourceContent(options.sourceMap,\n                                      options.sourceContent);\n        }\n\n        if (options.sourceMapWithCode) {\n            return pair;\n        }\n\n        return pair.map.toString();\n    }\n\n    FORMAT_MINIFY = {\n        indent: {\n            style: '',\n            base: 0\n        },\n        renumber: true,\n        hexadecimal: true,\n        quotes: 'auto',\n        escapeless: true,\n        compact: true,\n        parentheses: false,\n        semicolons: false\n    };\n\n    FORMAT_DEFAULTS = getDefaultOptions().format;\n\n    exports.version = require('./package.json').version;\n    exports.generate = generate;\n    exports.attachComments = estraverse.attachComments;\n    exports.Precedence = updateDeeply({}, Precedence);\n    exports.browser = false;\n    exports.FORMAT_MINIFY = FORMAT_MINIFY;\n    exports.FORMAT_DEFAULTS = FORMAT_DEFAULTS;\n}());\n/* vim: set sw=4 ts=4 et tw=80 : */\n","// This file was generated. Do not modify manually!\nvar astralIdentifierCodes = [509, 0, 227, 0, 150, 4, 294, 9, 1368, 2, 2, 1, 6, 3, 41, 2, 5, 0, 166, 1, 574, 3, 9, 9, 370, 1, 81, 2, 71, 10, 50, 3, 123, 2, 54, 14, 32, 10, 3, 1, 11, 3, 46, 10, 8, 0, 46, 9, 7, 2, 37, 13, 2, 9, 6, 1, 45, 0, 13, 2, 49, 13, 9, 3, 2, 11, 83, 11, 7, 0, 3, 0, 158, 11, 6, 9, 7, 3, 56, 1, 2, 6, 3, 1, 3, 2, 10, 0, 11, 1, 3, 6, 4, 4, 193, 17, 10, 9, 5, 0, 82, 19, 13, 9, 214, 6, 3, 8, 28, 1, 83, 16, 16, 9, 82, 12, 9, 9, 84, 14, 5, 9, 243, 14, 166, 9, 71, 5, 2, 1, 3, 3, 2, 0, 2, 1, 13, 9, 120, 6, 3, 6, 4, 0, 29, 9, 41, 6, 2, 3, 9, 0, 10, 10, 47, 15, 406, 7, 2, 7, 17, 9, 57, 21, 2, 13, 123, 5, 4, 0, 2, 1, 2, 6, 2, 0, 9, 9, 49, 4, 2, 1, 2, 4, 9, 9, 330, 3, 10, 1, 2, 0, 49, 6, 4, 4, 14, 9, 5351, 0, 7, 14, 13835, 9, 87, 9, 39, 4, 60, 6, 26, 9, 1014, 0, 2, 54, 8, 3, 82, 0, 12, 1, 19628, 1, 4706, 45, 3, 22, 543, 4, 4, 5, 9, 7, 3, 6, 31, 3, 149, 2, 1418, 49, 513, 54, 5, 49, 9, 0, 15, 0, 23, 4, 2, 14, 1361, 6, 2, 16, 3, 6, 2, 1, 2, 4, 101, 0, 161, 6, 10, 9, 357, 0, 62, 13, 499, 13, 983, 6, 110, 6, 6, 9, 4759, 9, 787719, 239];\n\n// This file was generated. Do not modify manually!\nvar astralIdentifierStartCodes = [0, 11, 2, 25, 2, 18, 2, 1, 2, 14, 3, 13, 35, 122, 70, 52, 268, 28, 4, 48, 48, 31, 14, 29, 6, 37, 11, 29, 3, 35, 5, 7, 2, 4, 43, 157, 19, 35, 5, 35, 5, 39, 9, 51, 13, 10, 2, 14, 2, 6, 2, 1, 2, 10, 2, 14, 2, 6, 2, 1, 68, 310, 10, 21, 11, 7, 25, 5, 2, 41, 2, 8, 70, 5, 3, 0, 2, 43, 2, 1, 4, 0, 3, 22, 11, 22, 10, 30, 66, 18, 2, 1, 11, 21, 11, 25, 71, 55, 7, 1, 65, 0, 16, 3, 2, 2, 2, 28, 43, 28, 4, 28, 36, 7, 2, 27, 28, 53, 11, 21, 11, 18, 14, 17, 111, 72, 56, 50, 14, 50, 14, 35, 349, 41, 7, 1, 79, 28, 11, 0, 9, 21, 43, 17, 47, 20, 28, 22, 13, 52, 58, 1, 3, 0, 14, 44, 33, 24, 27, 35, 30, 0, 3, 0, 9, 34, 4, 0, 13, 47, 15, 3, 22, 0, 2, 0, 36, 17, 2, 24, 20, 1, 64, 6, 2, 0, 2, 3, 2, 14, 2, 9, 8, 46, 39, 7, 3, 1, 3, 21, 2, 6, 2, 1, 2, 4, 4, 0, 19, 0, 13, 4, 159, 52, 19, 3, 21, 2, 31, 47, 21, 1, 2, 0, 185, 46, 42, 3, 37, 47, 21, 0, 60, 42, 14, 0, 72, 26, 38, 6, 186, 43, 117, 63, 32, 7, 3, 0, 3, 7, 2, 1, 2, 23, 16, 0, 2, 0, 95, 7, 3, 38, 17, 0, 2, 0, 29, 0, 11, 39, 8, 0, 22, 0, 12, 45, 20, 0, 19, 72, 264, 8, 2, 36, 18, 0, 50, 29, 113, 6, 2, 1, 2, 37, 22, 0, 26, 5, 2, 1, 2, 31, 15, 0, 328, 18, 16, 0, 2, 12, 2, 33, 125, 0, 80, 921, 103, 110, 18, 195, 2637, 96, 16, 1071, 18, 5, 4026, 582, 8634, 568, 8, 30, 18, 78, 18, 29, 19, 47, 17, 3, 32, 20, 6, 18, 689, 63, 129, 74, 6, 0, 67, 12, 65, 1, 2, 0, 29, 6135, 9, 1237, 43, 8, 8936, 3, 2, 6, 2, 1, 2, 290, 16, 0, 30, 2, 3, 0, 15, 3, 9, 395, 2309, 106, 6, 12, 4, 8, 8, 9, 5991, 84, 2, 70, 2, 1, 3, 0, 3, 1, 3, 3, 2, 11, 2, 0, 2, 6, 2, 64, 2, 3, 3, 7, 2, 6, 2, 27, 2, 3, 2, 4, 2, 0, 4, 6, 2, 339, 3, 24, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 7, 1845, 30, 7, 5, 262, 61, 147, 44, 11, 6, 17, 0, 322, 29, 19, 43, 485, 27, 757, 6, 2, 3, 2, 1, 2, 14, 2, 196, 60, 67, 8, 0, 1205, 3, 2, 26, 2, 1, 2, 0, 3, 0, 2, 9, 2, 3, 2, 0, 2, 0, 7, 0, 5, 0, 2, 0, 2, 0, 2, 2, 2, 1, 2, 0, 3, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 1, 2, 0, 3, 3, 2, 6, 2, 3, 2, 3, 2, 0, 2, 9, 2, 16, 6, 2, 2, 4, 2, 16, 4421, 42719, 33, 4153, 7, 221, 3, 5761, 15, 7472, 3104, 541, 1507, 4938, 6, 4191];\n\n// This file was generated. Do not modify manually!\nvar nonASCIIidentifierChars = \"\\u200c\\u200d\\xb7\\u0300-\\u036f\\u0387\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u0669\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u06f0-\\u06f9\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07c0-\\u07c9\\u07eb-\\u07f3\\u07fd\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u0898-\\u089f\\u08ca-\\u08e1\\u08e3-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09cd\\u09d7\\u09e2\\u09e3\\u09e6-\\u09ef\\u09fe\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2\\u0ae3\\u0ae6-\\u0aef\\u0afa-\\u0aff\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b55-\\u0b57\\u0b62\\u0b63\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c00-\\u0c04\\u0c3c\\u0c3e-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0c66-\\u0c6f\\u0c81-\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0ce6-\\u0cef\\u0cf3\\u0d00-\\u0d03\\u0d3b\\u0d3c\\u0d3e-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4d\\u0d57\\u0d62\\u0d63\\u0d66-\\u0d6f\\u0d81-\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0de6-\\u0def\\u0df2\\u0df3\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0e50-\\u0e59\\u0eb1\\u0eb4-\\u0ebc\\u0ec8-\\u0ece\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f3e\\u0f3f\\u0f71-\\u0f84\\u0f86\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102b-\\u103e\\u1040-\\u1049\\u1056-\\u1059\\u105e-\\u1060\\u1062-\\u1064\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u1369-\\u1371\\u1712-\\u1715\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b4-\\u17d3\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u180f-\\u1819\\u18a9\\u1920-\\u192b\\u1930-\\u193b\\u1946-\\u194f\\u19d0-\\u19da\\u1a17-\\u1a1b\\u1a55-\\u1a5e\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1ab0-\\u1abd\\u1abf-\\u1ace\\u1b00-\\u1b04\\u1b34-\\u1b44\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1b80-\\u1b82\\u1ba1-\\u1bad\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c24-\\u1c37\\u1c40-\\u1c49\\u1c50-\\u1c59\\u1cd0-\\u1cd2\\u1cd4-\\u1ce8\\u1ced\\u1cf4\\u1cf7-\\u1cf9\\u1dc0-\\u1dff\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua620-\\ua629\\ua66f\\ua674-\\ua67d\\ua69e\\ua69f\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua823-\\ua827\\ua82c\\ua880\\ua881\\ua8b4-\\ua8c5\\ua8d0-\\ua8d9\\ua8e0-\\ua8f1\\ua8ff-\\ua909\\ua926-\\ua92d\\ua947-\\ua953\\ua980-\\ua983\\ua9b3-\\ua9c0\\ua9d0-\\ua9d9\\ua9e5\\ua9f0-\\ua9f9\\uaa29-\\uaa36\\uaa43\\uaa4c\\uaa4d\\uaa50-\\uaa59\\uaa7b-\\uaa7d\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uaaeb-\\uaaef\\uaaf5\\uaaf6\\uabe3-\\uabea\\uabec\\uabed\\uabf0-\\uabf9\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\";\n\n// This file was generated. Do not modify manually!\nvar nonASCIIidentifierStartChars = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u037f\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u052f\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05d0-\\u05ea\\u05ef-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086a\\u0870-\\u0887\\u0889-\\u088e\\u08a0-\\u08c9\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u09fc\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0af9\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c39\\u0c3d\\u0c58-\\u0c5a\\u0c5d\\u0c60\\u0c61\\u0c80\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cdd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d04-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d54-\\u0d56\\u0d5f-\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e86-\\u0e8a\\u0e8c-\\u0ea3\\u0ea5\\u0ea7-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f5\\u13f8-\\u13fd\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f8\\u1700-\\u1711\\u171f-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1878\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191e\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19b0-\\u19c9\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4c\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1c80-\\u1c88\\u1c90-\\u1cba\\u1cbd-\\u1cbf\\u1ce9-\\u1cec\\u1cee-\\u1cf3\\u1cf5\\u1cf6\\u1cfa\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2118-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309b-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312f\\u3131-\\u318e\\u31a0-\\u31bf\\u31f0-\\u31ff\\u3400-\\u4dbf\\u4e00-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua69d\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua7ca\\ua7d0\\ua7d1\\ua7d3\\ua7d5-\\ua7d9\\ua7f2-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua8fd\\ua8fe\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\ua9e0-\\ua9e4\\ua9e6-\\ua9ef\\ua9fa-\\ua9fe\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa7e-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uab30-\\uab5a\\uab5c-\\uab69\\uab70-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\";\n\n// These are a run-length and offset encoded representation of the\n\n// Reserved word lists for various dialects of the language\n\nvar reservedWords = {\n  3: \"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile\",\n  5: \"class enum extends super const export import\",\n  6: \"enum\",\n  strict: \"implements interface let package private protected public static yield\",\n  strictBind: \"eval arguments\"\n};\n\n// And the keywords\n\nvar ecma5AndLessKeywords = \"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this\";\n\nvar keywords$1 = {\n  5: ecma5AndLessKeywords,\n  \"5module\": ecma5AndLessKeywords + \" export import\",\n  6: ecma5AndLessKeywords + \" const class extends export import super\"\n};\n\nvar keywordRelationalOperator = /^in(stanceof)?$/;\n\n// ## Character categories\n\nvar nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\nvar nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\n\n// This has a complexity linear to the value of the code. The\n// assumption is that looking up astral identifier characters is\n// rare.\nfunction isInAstralSet(code, set) {\n  var pos = 0x10000;\n  for (var i = 0; i < set.length; i += 2) {\n    pos += set[i];\n    if (pos > code) { return false }\n    pos += set[i + 1];\n    if (pos >= code) { return true }\n  }\n  return false\n}\n\n// Test whether a given character code starts an identifier.\n\nfunction isIdentifierStart(code, astral) {\n  if (code < 65) { return code === 36 }\n  if (code < 91) { return true }\n  if (code < 97) { return code === 95 }\n  if (code < 123) { return true }\n  if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code)) }\n  if (astral === false) { return false }\n  return isInAstralSet(code, astralIdentifierStartCodes)\n}\n\n// Test whether a given character is part of an identifier.\n\nfunction isIdentifierChar(code, astral) {\n  if (code < 48) { return code === 36 }\n  if (code < 58) { return true }\n  if (code < 65) { return false }\n  if (code < 91) { return true }\n  if (code < 97) { return code === 95 }\n  if (code < 123) { return true }\n  if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code)) }\n  if (astral === false) { return false }\n  return isInAstralSet(code, astralIdentifierStartCodes) || isInAstralSet(code, astralIdentifierCodes)\n}\n\n// ## Token types\n\n// The assignment of fine-grained, information-carrying type objects\n// allows the tokenizer to store the information it has about a\n// token in a way that is very cheap for the parser to look up.\n\n// All token type variables start with an underscore, to make them\n// easy to recognize.\n\n// The `beforeExpr` property is used to disambiguate between regular\n// expressions and divisions. It is set on all token types that can\n// be followed by an expression (thus, a slash after them would be a\n// regular expression).\n//\n// The `startsExpr` property is used to check if the token ends a\n// `yield` expression. It is set on all token types that either can\n// directly start an expression (like a quotation mark) or can\n// continue an expression (like the body of a string).\n//\n// `isLoop` marks a keyword as starting a loop, which is important\n// to know when parsing a label, in order to allow or disallow\n// continue jumps to that label.\n\nvar TokenType = function TokenType(label, conf) {\n  if ( conf === void 0 ) conf = {};\n\n  this.label = label;\n  this.keyword = conf.keyword;\n  this.beforeExpr = !!conf.beforeExpr;\n  this.startsExpr = !!conf.startsExpr;\n  this.isLoop = !!conf.isLoop;\n  this.isAssign = !!conf.isAssign;\n  this.prefix = !!conf.prefix;\n  this.postfix = !!conf.postfix;\n  this.binop = conf.binop || null;\n  this.updateContext = null;\n};\n\nfunction binop(name, prec) {\n  return new TokenType(name, {beforeExpr: true, binop: prec})\n}\nvar beforeExpr = {beforeExpr: true}, startsExpr = {startsExpr: true};\n\n// Map keyword names to token types.\n\nvar keywords = {};\n\n// Succinct definitions of keyword token types\nfunction kw(name, options) {\n  if ( options === void 0 ) options = {};\n\n  options.keyword = name;\n  return keywords[name] = new TokenType(name, options)\n}\n\nvar types$1 = {\n  num: new TokenType(\"num\", startsExpr),\n  regexp: new TokenType(\"regexp\", startsExpr),\n  string: new TokenType(\"string\", startsExpr),\n  name: new TokenType(\"name\", startsExpr),\n  privateId: new TokenType(\"privateId\", startsExpr),\n  eof: new TokenType(\"eof\"),\n\n  // Punctuation token types.\n  bracketL: new TokenType(\"[\", {beforeExpr: true, startsExpr: true}),\n  bracketR: new TokenType(\"]\"),\n  braceL: new TokenType(\"{\", {beforeExpr: true, startsExpr: true}),\n  braceR: new TokenType(\"}\"),\n  parenL: new TokenType(\"(\", {beforeExpr: true, startsExpr: true}),\n  parenR: new TokenType(\")\"),\n  comma: new TokenType(\",\", beforeExpr),\n  semi: new TokenType(\";\", beforeExpr),\n  colon: new TokenType(\":\", beforeExpr),\n  dot: new TokenType(\".\"),\n  question: new TokenType(\"?\", beforeExpr),\n  questionDot: new TokenType(\"?.\"),\n  arrow: new TokenType(\"=>\", beforeExpr),\n  template: new TokenType(\"template\"),\n  invalidTemplate: new TokenType(\"invalidTemplate\"),\n  ellipsis: new TokenType(\"...\", beforeExpr),\n  backQuote: new TokenType(\"`\", startsExpr),\n  dollarBraceL: new TokenType(\"${\", {beforeExpr: true, startsExpr: true}),\n\n  // Operators. These carry several kinds of properties to help the\n  // parser use them properly (the presence of these properties is\n  // what categorizes them as operators).\n  //\n  // `binop`, when present, specifies that this operator is a binary\n  // operator, and will refer to its precedence.\n  //\n  // `prefix` and `postfix` mark the operator as a prefix or postfix\n  // unary operator.\n  //\n  // `isAssign` marks all of `=`, `+=`, `-=` etcetera, which act as\n  // binary operators with a very low precedence, that should result\n  // in AssignmentExpression nodes.\n\n  eq: new TokenType(\"=\", {beforeExpr: true, isAssign: true}),\n  assign: new TokenType(\"_=\", {beforeExpr: true, isAssign: true}),\n  incDec: new TokenType(\"++/--\", {prefix: true, postfix: true, startsExpr: true}),\n  prefix: new TokenType(\"!/~\", {beforeExpr: true, prefix: true, startsExpr: true}),\n  logicalOR: binop(\"||\", 1),\n  logicalAND: binop(\"&&\", 2),\n  bitwiseOR: binop(\"|\", 3),\n  bitwiseXOR: binop(\"^\", 4),\n  bitwiseAND: binop(\"&\", 5),\n  equality: binop(\"==/!=/===/!==\", 6),\n  relational: binop(\"</>/<=/>=\", 7),\n  bitShift: binop(\"<</>>/>>>\", 8),\n  plusMin: new TokenType(\"+/-\", {beforeExpr: true, binop: 9, prefix: true, startsExpr: true}),\n  modulo: binop(\"%\", 10),\n  star: binop(\"*\", 10),\n  slash: binop(\"/\", 10),\n  starstar: new TokenType(\"**\", {beforeExpr: true}),\n  coalesce: binop(\"??\", 1),\n\n  // Keyword token types.\n  _break: kw(\"break\"),\n  _case: kw(\"case\", beforeExpr),\n  _catch: kw(\"catch\"),\n  _continue: kw(\"continue\"),\n  _debugger: kw(\"debugger\"),\n  _default: kw(\"default\", beforeExpr),\n  _do: kw(\"do\", {isLoop: true, beforeExpr: true}),\n  _else: kw(\"else\", beforeExpr),\n  _finally: kw(\"finally\"),\n  _for: kw(\"for\", {isLoop: true}),\n  _function: kw(\"function\", startsExpr),\n  _if: kw(\"if\"),\n  _return: kw(\"return\", beforeExpr),\n  _switch: kw(\"switch\"),\n  _throw: kw(\"throw\", beforeExpr),\n  _try: kw(\"try\"),\n  _var: kw(\"var\"),\n  _const: kw(\"const\"),\n  _while: kw(\"while\", {isLoop: true}),\n  _with: kw(\"with\"),\n  _new: kw(\"new\", {beforeExpr: true, startsExpr: true}),\n  _this: kw(\"this\", startsExpr),\n  _super: kw(\"super\", startsExpr),\n  _class: kw(\"class\", startsExpr),\n  _extends: kw(\"extends\", beforeExpr),\n  _export: kw(\"export\"),\n  _import: kw(\"import\", startsExpr),\n  _null: kw(\"null\", startsExpr),\n  _true: kw(\"true\", startsExpr),\n  _false: kw(\"false\", startsExpr),\n  _in: kw(\"in\", {beforeExpr: true, binop: 7}),\n  _instanceof: kw(\"instanceof\", {beforeExpr: true, binop: 7}),\n  _typeof: kw(\"typeof\", {beforeExpr: true, prefix: true, startsExpr: true}),\n  _void: kw(\"void\", {beforeExpr: true, prefix: true, startsExpr: true}),\n  _delete: kw(\"delete\", {beforeExpr: true, prefix: true, startsExpr: true})\n};\n\n// Matches a whole line break (where CRLF is considered a single\n// line break). Used to count lines.\n\nvar lineBreak = /\\r\\n?|\\n|\\u2028|\\u2029/;\nvar lineBreakG = new RegExp(lineBreak.source, \"g\");\n\nfunction isNewLine(code) {\n  return code === 10 || code === 13 || code === 0x2028 || code === 0x2029\n}\n\nfunction nextLineBreak(code, from, end) {\n  if ( end === void 0 ) end = code.length;\n\n  for (var i = from; i < end; i++) {\n    var next = code.charCodeAt(i);\n    if (isNewLine(next))\n      { return i < end - 1 && next === 13 && code.charCodeAt(i + 1) === 10 ? i + 2 : i + 1 }\n  }\n  return -1\n}\n\nvar nonASCIIwhitespace = /[\\u1680\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/;\n\nvar skipWhiteSpace = /(?:\\s|\\/\\/.*|\\/\\*[^]*?\\*\\/)*/g;\n\nvar ref = Object.prototype;\nvar hasOwnProperty = ref.hasOwnProperty;\nvar toString = ref.toString;\n\nvar hasOwn = Object.hasOwn || (function (obj, propName) { return (\n  hasOwnProperty.call(obj, propName)\n); });\n\nvar isArray = Array.isArray || (function (obj) { return (\n  toString.call(obj) === \"[object Array]\"\n); });\n\nfunction wordsRegexp(words) {\n  return new RegExp(\"^(?:\" + words.replace(/ /g, \"|\") + \")$\")\n}\n\nfunction codePointToString(code) {\n  // UTF-16 Decoding\n  if (code <= 0xFFFF) { return String.fromCharCode(code) }\n  code -= 0x10000;\n  return String.fromCharCode((code >> 10) + 0xD800, (code & 1023) + 0xDC00)\n}\n\nvar loneSurrogate = /(?:[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/;\n\n// These are used when `options.locations` is on, for the\n// `startLoc` and `endLoc` properties.\n\nvar Position = function Position(line, col) {\n  this.line = line;\n  this.column = col;\n};\n\nPosition.prototype.offset = function offset (n) {\n  return new Position(this.line, this.column + n)\n};\n\nvar SourceLocation = function SourceLocation(p, start, end) {\n  this.start = start;\n  this.end = end;\n  if (p.sourceFile !== null) { this.source = p.sourceFile; }\n};\n\n// The `getLineInfo` function is mostly useful when the\n// `locations` option is off (for performance reasons) and you\n// want to find the line/column position for a given character\n// offset. `input` should be the code string that the offset refers\n// into.\n\nfunction getLineInfo(input, offset) {\n  for (var line = 1, cur = 0;;) {\n    var nextBreak = nextLineBreak(input, cur, offset);\n    if (nextBreak < 0) { return new Position(line, offset - cur) }\n    ++line;\n    cur = nextBreak;\n  }\n}\n\n// A second argument must be given to configure the parser process.\n// These options are recognized (only `ecmaVersion` is required):\n\nvar defaultOptions = {\n  // `ecmaVersion` indicates the ECMAScript version to parse. Must be\n  // either 3, 5, 6 (or 2015), 7 (2016), 8 (2017), 9 (2018), 10\n  // (2019), 11 (2020), 12 (2021), 13 (2022), 14 (2023), or `\"latest\"`\n  // (the latest version the library supports). This influences\n  // support for strict mode, the set of reserved words, and support\n  // for new syntax features.\n  ecmaVersion: null,\n  // `sourceType` indicates the mode the code should be parsed in.\n  // Can be either `\"script\"` or `\"module\"`. This influences global\n  // strict mode and parsing of `import` and `export` declarations.\n  sourceType: \"script\",\n  // `onInsertedSemicolon` can be a callback that will be called\n  // when a semicolon is automatically inserted. It will be passed\n  // the position of the comma as an offset, and if `locations` is\n  // enabled, it is given the location as a `{line, column}` object\n  // as second argument.\n  onInsertedSemicolon: null,\n  // `onTrailingComma` is similar to `onInsertedSemicolon`, but for\n  // trailing commas.\n  onTrailingComma: null,\n  // By default, reserved words are only enforced if ecmaVersion >= 5.\n  // Set `allowReserved` to a boolean value to explicitly turn this on\n  // an off. When this option has the value \"never\", reserved words\n  // and keywords can also not be used as property names.\n  allowReserved: null,\n  // When enabled, a return at the top level is not considered an\n  // error.\n  allowReturnOutsideFunction: false,\n  // When enabled, import/export statements are not constrained to\n  // appearing at the top of the program, and an import.meta expression\n  // in a script isn't considered an error.\n  allowImportExportEverywhere: false,\n  // By default, await identifiers are allowed to appear at the top-level scope only if ecmaVersion >= 2022.\n  // When enabled, await identifiers are allowed to appear at the top-level scope,\n  // but they are still not allowed in non-async functions.\n  allowAwaitOutsideFunction: null,\n  // When enabled, super identifiers are not constrained to\n  // appearing in methods and do not raise an error when they appear elsewhere.\n  allowSuperOutsideMethod: null,\n  // When enabled, hashbang directive in the beginning of file is\n  // allowed and treated as a line comment. Enabled by default when\n  // `ecmaVersion` >= 2023.\n  allowHashBang: false,\n  // When `locations` is on, `loc` properties holding objects with\n  // `start` and `end` properties in `{line, column}` form (with\n  // line being 1-based and column 0-based) will be attached to the\n  // nodes.\n  locations: false,\n  // A function can be passed as `onToken` option, which will\n  // cause Acorn to call that function with object in the same\n  // format as tokens returned from `tokenizer().getToken()`. Note\n  // that you are not allowed to call the parser from the\n  // callbackâ€”that will corrupt its internal state.\n  onToken: null,\n  // A function can be passed as `onComment` option, which will\n  // cause Acorn to call that function with `(block, text, start,\n  // end)` parameters whenever a comment is skipped. `block` is a\n  // boolean indicating whether this is a block (`/* */`) comment,\n  // `text` is the content of the comment, and `start` and `end` are\n  // character offsets that denote the start and end of the comment.\n  // When the `locations` option is on, two more parameters are\n  // passed, the full `{line, column}` locations of the start and\n  // end of the comments. Note that you are not allowed to call the\n  // parser from the callbackâ€”that will corrupt its internal state.\n  onComment: null,\n  // Nodes have their start and end characters offsets recorded in\n  // `start` and `end` properties (directly on the node, rather than\n  // the `loc` object, which holds line/column data. To also add a\n  // [semi-standardized][range] `range` property holding a `[start,\n  // end]` array with the same numbers, set the `ranges` option to\n  // `true`.\n  //\n  // [range]: https://bugzilla.mozilla.org/show_bug.cgi?id=745678\n  ranges: false,\n  // It is possible to parse multiple files into a single AST by\n  // passing the tree produced by parsing the first file as\n  // `program` option in subsequent parses. This will add the\n  // toplevel forms of the parsed file to the `Program` (top) node\n  // of an existing parse tree.\n  program: null,\n  // When `locations` is on, you can pass this to record the source\n  // file in every node's `loc` object.\n  sourceFile: null,\n  // This value, if given, is stored in every node, whether\n  // `locations` is on or off.\n  directSourceFile: null,\n  // When enabled, parenthesized expressions are represented by\n  // (non-standard) ParenthesizedExpression nodes\n  preserveParens: false\n};\n\n// Interpret and default an options object\n\nvar warnedAboutEcmaVersion = false;\n\nfunction getOptions(opts) {\n  var options = {};\n\n  for (var opt in defaultOptions)\n    { options[opt] = opts && hasOwn(opts, opt) ? opts[opt] : defaultOptions[opt]; }\n\n  if (options.ecmaVersion === \"latest\") {\n    options.ecmaVersion = 1e8;\n  } else if (options.ecmaVersion == null) {\n    if (!warnedAboutEcmaVersion && typeof console === \"object\" && console.warn) {\n      warnedAboutEcmaVersion = true;\n      console.warn(\"Since Acorn 8.0.0, options.ecmaVersion is required.\\nDefaulting to 2020, but this will stop working in the future.\");\n    }\n    options.ecmaVersion = 11;\n  } else if (options.ecmaVersion >= 2015) {\n    options.ecmaVersion -= 2009;\n  }\n\n  if (options.allowReserved == null)\n    { options.allowReserved = options.ecmaVersion < 5; }\n\n  if (!opts || opts.allowHashBang == null)\n    { options.allowHashBang = options.ecmaVersion >= 14; }\n\n  if (isArray(options.onToken)) {\n    var tokens = options.onToken;\n    options.onToken = function (token) { return tokens.push(token); };\n  }\n  if (isArray(options.onComment))\n    { options.onComment = pushComment(options, options.onComment); }\n\n  return options\n}\n\nfunction pushComment(options, array) {\n  return function(block, text, start, end, startLoc, endLoc) {\n    var comment = {\n      type: block ? \"Block\" : \"Line\",\n      value: text,\n      start: start,\n      end: end\n    };\n    if (options.locations)\n      { comment.loc = new SourceLocation(this, startLoc, endLoc); }\n    if (options.ranges)\n      { comment.range = [start, end]; }\n    array.push(comment);\n  }\n}\n\n// Each scope gets a bitset that may contain these flags\nvar\n    SCOPE_TOP = 1,\n    SCOPE_FUNCTION = 2,\n    SCOPE_ASYNC = 4,\n    SCOPE_GENERATOR = 8,\n    SCOPE_ARROW = 16,\n    SCOPE_SIMPLE_CATCH = 32,\n    SCOPE_SUPER = 64,\n    SCOPE_DIRECT_SUPER = 128,\n    SCOPE_CLASS_STATIC_BLOCK = 256,\n    SCOPE_VAR = SCOPE_TOP | SCOPE_FUNCTION | SCOPE_CLASS_STATIC_BLOCK;\n\nfunction functionFlags(async, generator) {\n  return SCOPE_FUNCTION | (async ? SCOPE_ASYNC : 0) | (generator ? SCOPE_GENERATOR : 0)\n}\n\n// Used in checkLVal* and declareName to determine the type of a binding\nvar\n    BIND_NONE = 0, // Not a binding\n    BIND_VAR = 1, // Var-style binding\n    BIND_LEXICAL = 2, // Let- or const-style binding\n    BIND_FUNCTION = 3, // Function declaration\n    BIND_SIMPLE_CATCH = 4, // Simple (identifier pattern) catch binding\n    BIND_OUTSIDE = 5; // Special case for function names as bound inside the function\n\nvar Parser = function Parser(options, input, startPos) {\n  this.options = options = getOptions(options);\n  this.sourceFile = options.sourceFile;\n  this.keywords = wordsRegexp(keywords$1[options.ecmaVersion >= 6 ? 6 : options.sourceType === \"module\" ? \"5module\" : 5]);\n  var reserved = \"\";\n  if (options.allowReserved !== true) {\n    reserved = reservedWords[options.ecmaVersion >= 6 ? 6 : options.ecmaVersion === 5 ? 5 : 3];\n    if (options.sourceType === \"module\") { reserved += \" await\"; }\n  }\n  this.reservedWords = wordsRegexp(reserved);\n  var reservedStrict = (reserved ? reserved + \" \" : \"\") + reservedWords.strict;\n  this.reservedWordsStrict = wordsRegexp(reservedStrict);\n  this.reservedWordsStrictBind = wordsRegexp(reservedStrict + \" \" + reservedWords.strictBind);\n  this.input = String(input);\n\n  // Used to signal to callers of `readWord1` whether the word\n  // contained any escape sequences. This is needed because words with\n  // escape sequences must not be interpreted as keywords.\n  this.containsEsc = false;\n\n  // Set up token state\n\n  // The current position of the tokenizer in the input.\n  if (startPos) {\n    this.pos = startPos;\n    this.lineStart = this.input.lastIndexOf(\"\\n\", startPos - 1) + 1;\n    this.curLine = this.input.slice(0, this.lineStart).split(lineBreak).length;\n  } else {\n    this.pos = this.lineStart = 0;\n    this.curLine = 1;\n  }\n\n  // Properties of the current token:\n  // Its type\n  this.type = types$1.eof;\n  // For tokens that include more information than their type, the value\n  this.value = null;\n  // Its start and end offset\n  this.start = this.end = this.pos;\n  // And, if locations are used, the {line, column} object\n  // corresponding to those offsets\n  this.startLoc = this.endLoc = this.curPosition();\n\n  // Position information for the previous token\n  this.lastTokEndLoc = this.lastTokStartLoc = null;\n  this.lastTokStart = this.lastTokEnd = this.pos;\n\n  // The context stack is used to superficially track syntactic\n  // context to predict whether a regular expression is allowed in a\n  // given position.\n  this.context = this.initialContext();\n  this.exprAllowed = true;\n\n  // Figure out if it's a module code.\n  this.inModule = options.sourceType === \"module\";\n  this.strict = this.inModule || this.strictDirective(this.pos);\n\n  // Used to signify the start of a potential arrow function\n  this.potentialArrowAt = -1;\n  this.potentialArrowInForAwait = false;\n\n  // Positions to delayed-check that yield/await does not exist in default parameters.\n  this.yieldPos = this.awaitPos = this.awaitIdentPos = 0;\n  // Labels in scope.\n  this.labels = [];\n  // Thus-far undefined exports.\n  this.undefinedExports = Object.create(null);\n\n  // If enabled, skip leading hashbang line.\n  if (this.pos === 0 && options.allowHashBang && this.input.slice(0, 2) === \"#!\")\n    { this.skipLineComment(2); }\n\n  // Scope tracking for duplicate variable names (see scope.js)\n  this.scopeStack = [];\n  this.enterScope(SCOPE_TOP);\n\n  // For RegExp validation\n  this.regexpState = null;\n\n  // The stack of private names.\n  // Each element has two properties: 'declared' and 'used'.\n  // When it exited from the outermost class definition, all used private names must be declared.\n  this.privateNameStack = [];\n};\n\nvar prototypeAccessors = { inFunction: { configurable: true },inGenerator: { configurable: true },inAsync: { configurable: true },canAwait: { configurable: true },allowSuper: { configurable: true },allowDirectSuper: { configurable: true },treatFunctionsAsVar: { configurable: true },allowNewDotTarget: { configurable: true },inClassStaticBlock: { configurable: true } };\n\nParser.prototype.parse = function parse () {\n  var node = this.options.program || this.startNode();\n  this.nextToken();\n  return this.parseTopLevel(node)\n};\n\nprototypeAccessors.inFunction.get = function () { return (this.currentVarScope().flags & SCOPE_FUNCTION) > 0 };\n\nprototypeAccessors.inGenerator.get = function () { return (this.currentVarScope().flags & SCOPE_GENERATOR) > 0 && !this.currentVarScope().inClassFieldInit };\n\nprototypeAccessors.inAsync.get = function () { return (this.currentVarScope().flags & SCOPE_ASYNC) > 0 && !this.currentVarScope().inClassFieldInit };\n\nprototypeAccessors.canAwait.get = function () {\n  for (var i = this.scopeStack.length - 1; i >= 0; i--) {\n    var scope = this.scopeStack[i];\n    if (scope.inClassFieldInit || scope.flags & SCOPE_CLASS_STATIC_BLOCK) { return false }\n    if (scope.flags & SCOPE_FUNCTION) { return (scope.flags & SCOPE_ASYNC) > 0 }\n  }\n  return (this.inModule && this.options.ecmaVersion >= 13) || this.options.allowAwaitOutsideFunction\n};\n\nprototypeAccessors.allowSuper.get = function () {\n  var ref = this.currentThisScope();\n    var flags = ref.flags;\n    var inClassFieldInit = ref.inClassFieldInit;\n  return (flags & SCOPE_SUPER) > 0 || inClassFieldInit || this.options.allowSuperOutsideMethod\n};\n\nprototypeAccessors.allowDirectSuper.get = function () { return (this.currentThisScope().flags & SCOPE_DIRECT_SUPER) > 0 };\n\nprototypeAccessors.treatFunctionsAsVar.get = function () { return this.treatFunctionsAsVarInScope(this.currentScope()) };\n\nprototypeAccessors.allowNewDotTarget.get = function () {\n  var ref = this.currentThisScope();\n    var flags = ref.flags;\n    var inClassFieldInit = ref.inClassFieldInit;\n  return (flags & (SCOPE_FUNCTION | SCOPE_CLASS_STATIC_BLOCK)) > 0 || inClassFieldInit\n};\n\nprototypeAccessors.inClassStaticBlock.get = function () {\n  return (this.currentVarScope().flags & SCOPE_CLASS_STATIC_BLOCK) > 0\n};\n\nParser.extend = function extend () {\n    var plugins = [], len = arguments.length;\n    while ( len-- ) plugins[ len ] = arguments[ len ];\n\n  var cls = this;\n  for (var i = 0; i < plugins.length; i++) { cls = plugins[i](cls); }\n  return cls\n};\n\nParser.parse = function parse (input, options) {\n  return new this(options, input).parse()\n};\n\nParser.parseExpressionAt = function parseExpressionAt (input, pos, options) {\n  var parser = new this(options, input, pos);\n  parser.nextToken();\n  return parser.parseExpression()\n};\n\nParser.tokenizer = function tokenizer (input, options) {\n  return new this(options, input)\n};\n\nObject.defineProperties( Parser.prototype, prototypeAccessors );\n\nvar pp$9 = Parser.prototype;\n\n// ## Parser utilities\n\nvar literal = /^(?:'((?:\\\\.|[^'\\\\])*?)'|\"((?:\\\\.|[^\"\\\\])*?)\")/;\npp$9.strictDirective = function(start) {\n  if (this.options.ecmaVersion < 5) { return false }\n  for (;;) {\n    // Try to find string literal.\n    skipWhiteSpace.lastIndex = start;\n    start += skipWhiteSpace.exec(this.input)[0].length;\n    var match = literal.exec(this.input.slice(start));\n    if (!match) { return false }\n    if ((match[1] || match[2]) === \"use strict\") {\n      skipWhiteSpace.lastIndex = start + match[0].length;\n      var spaceAfter = skipWhiteSpace.exec(this.input), end = spaceAfter.index + spaceAfter[0].length;\n      var next = this.input.charAt(end);\n      return next === \";\" || next === \"}\" ||\n        (lineBreak.test(spaceAfter[0]) &&\n         !(/[(`.[+\\-/*%<>=,?^&]/.test(next) || next === \"!\" && this.input.charAt(end + 1) === \"=\"))\n    }\n    start += match[0].length;\n\n    // Skip semicolon, if any.\n    skipWhiteSpace.lastIndex = start;\n    start += skipWhiteSpace.exec(this.input)[0].length;\n    if (this.input[start] === \";\")\n      { start++; }\n  }\n};\n\n// Predicate that tests whether the next token is of the given\n// type, and if yes, consumes it as a side effect.\n\npp$9.eat = function(type) {\n  if (this.type === type) {\n    this.next();\n    return true\n  } else {\n    return false\n  }\n};\n\n// Tests whether parsed token is a contextual keyword.\n\npp$9.isContextual = function(name) {\n  return this.type === types$1.name && this.value === name && !this.containsEsc\n};\n\n// Consumes contextual keyword if possible.\n\npp$9.eatContextual = function(name) {\n  if (!this.isContextual(name)) { return false }\n  this.next();\n  return true\n};\n\n// Asserts that following token is given contextual keyword.\n\npp$9.expectContextual = function(name) {\n  if (!this.eatContextual(name)) { this.unexpected(); }\n};\n\n// Test whether a semicolon can be inserted at the current position.\n\npp$9.canInsertSemicolon = function() {\n  return this.type === types$1.eof ||\n    this.type === types$1.braceR ||\n    lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\n};\n\npp$9.insertSemicolon = function() {\n  if (this.canInsertSemicolon()) {\n    if (this.options.onInsertedSemicolon)\n      { this.options.onInsertedSemicolon(this.lastTokEnd, this.lastTokEndLoc); }\n    return true\n  }\n};\n\n// Consume a semicolon, or, failing that, see if we are allowed to\n// pretend that there is a semicolon at this position.\n\npp$9.semicolon = function() {\n  if (!this.eat(types$1.semi) && !this.insertSemicolon()) { this.unexpected(); }\n};\n\npp$9.afterTrailingComma = function(tokType, notNext) {\n  if (this.type === tokType) {\n    if (this.options.onTrailingComma)\n      { this.options.onTrailingComma(this.lastTokStart, this.lastTokStartLoc); }\n    if (!notNext)\n      { this.next(); }\n    return true\n  }\n};\n\n// Expect a token of a given type. If found, consume it, otherwise,\n// raise an unexpected token error.\n\npp$9.expect = function(type) {\n  this.eat(type) || this.unexpected();\n};\n\n// Raise an unexpected token error.\n\npp$9.unexpected = function(pos) {\n  this.raise(pos != null ? pos : this.start, \"Unexpected token\");\n};\n\nvar DestructuringErrors = function DestructuringErrors() {\n  this.shorthandAssign =\n  this.trailingComma =\n  this.parenthesizedAssign =\n  this.parenthesizedBind =\n  this.doubleProto =\n    -1;\n};\n\npp$9.checkPatternErrors = function(refDestructuringErrors, isAssign) {\n  if (!refDestructuringErrors) { return }\n  if (refDestructuringErrors.trailingComma > -1)\n    { this.raiseRecoverable(refDestructuringErrors.trailingComma, \"Comma is not permitted after the rest element\"); }\n  var parens = isAssign ? refDestructuringErrors.parenthesizedAssign : refDestructuringErrors.parenthesizedBind;\n  if (parens > -1) { this.raiseRecoverable(parens, isAssign ? \"Assigning to rvalue\" : \"Parenthesized pattern\"); }\n};\n\npp$9.checkExpressionErrors = function(refDestructuringErrors, andThrow) {\n  if (!refDestructuringErrors) { return false }\n  var shorthandAssign = refDestructuringErrors.shorthandAssign;\n  var doubleProto = refDestructuringErrors.doubleProto;\n  if (!andThrow) { return shorthandAssign >= 0 || doubleProto >= 0 }\n  if (shorthandAssign >= 0)\n    { this.raise(shorthandAssign, \"Shorthand property assignments are valid only in destructuring patterns\"); }\n  if (doubleProto >= 0)\n    { this.raiseRecoverable(doubleProto, \"Redefinition of __proto__ property\"); }\n};\n\npp$9.checkYieldAwaitInDefaultParams = function() {\n  if (this.yieldPos && (!this.awaitPos || this.yieldPos < this.awaitPos))\n    { this.raise(this.yieldPos, \"Yield expression cannot be a default value\"); }\n  if (this.awaitPos)\n    { this.raise(this.awaitPos, \"Await expression cannot be a default value\"); }\n};\n\npp$9.isSimpleAssignTarget = function(expr) {\n  if (expr.type === \"ParenthesizedExpression\")\n    { return this.isSimpleAssignTarget(expr.expression) }\n  return expr.type === \"Identifier\" || expr.type === \"MemberExpression\"\n};\n\nvar pp$8 = Parser.prototype;\n\n// ### Statement parsing\n\n// Parse a program. Initializes the parser, reads any number of\n// statements, and wraps them in a Program node.  Optionally takes a\n// `program` argument.  If present, the statements will be appended\n// to its body instead of creating a new node.\n\npp$8.parseTopLevel = function(node) {\n  var exports = Object.create(null);\n  if (!node.body) { node.body = []; }\n  while (this.type !== types$1.eof) {\n    var stmt = this.parseStatement(null, true, exports);\n    node.body.push(stmt);\n  }\n  if (this.inModule)\n    { for (var i = 0, list = Object.keys(this.undefinedExports); i < list.length; i += 1)\n      {\n        var name = list[i];\n\n        this.raiseRecoverable(this.undefinedExports[name].start, (\"Export '\" + name + \"' is not defined\"));\n      } }\n  this.adaptDirectivePrologue(node.body);\n  this.next();\n  node.sourceType = this.options.sourceType;\n  return this.finishNode(node, \"Program\")\n};\n\nvar loopLabel = {kind: \"loop\"}, switchLabel = {kind: \"switch\"};\n\npp$8.isLet = function(context) {\n  if (this.options.ecmaVersion < 6 || !this.isContextual(\"let\")) { return false }\n  skipWhiteSpace.lastIndex = this.pos;\n  var skip = skipWhiteSpace.exec(this.input);\n  var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\n  // For ambiguous cases, determine if a LexicalDeclaration (or only a\n  // Statement) is allowed here. If context is not empty then only a Statement\n  // is allowed. However, `let [` is an explicit negative lookahead for\n  // ExpressionStatement, so special-case it first.\n  if (nextCh === 91 || nextCh === 92) { return true } // '[', '/'\n  if (context) { return false }\n\n  if (nextCh === 123 || nextCh > 0xd7ff && nextCh < 0xdc00) { return true } // '{', astral\n  if (isIdentifierStart(nextCh, true)) {\n    var pos = next + 1;\n    while (isIdentifierChar(nextCh = this.input.charCodeAt(pos), true)) { ++pos; }\n    if (nextCh === 92 || nextCh > 0xd7ff && nextCh < 0xdc00) { return true }\n    var ident = this.input.slice(next, pos);\n    if (!keywordRelationalOperator.test(ident)) { return true }\n  }\n  return false\n};\n\n// check 'async [no LineTerminator here] function'\n// - 'async /*foo*/ function' is OK.\n// - 'async /*\\n*/ function' is invalid.\npp$8.isAsyncFunction = function() {\n  if (this.options.ecmaVersion < 8 || !this.isContextual(\"async\"))\n    { return false }\n\n  skipWhiteSpace.lastIndex = this.pos;\n  var skip = skipWhiteSpace.exec(this.input);\n  var next = this.pos + skip[0].length, after;\n  return !lineBreak.test(this.input.slice(this.pos, next)) &&\n    this.input.slice(next, next + 8) === \"function\" &&\n    (next + 8 === this.input.length ||\n     !(isIdentifierChar(after = this.input.charCodeAt(next + 8)) || after > 0xd7ff && after < 0xdc00))\n};\n\n// Parse a single statement.\n//\n// If expecting a statement and finding a slash operator, parse a\n// regular expression literal. This is to handle cases like\n// `if (foo) /blah/.exec(foo)`, where looking at the previous token\n// does not help.\n\npp$8.parseStatement = function(context, topLevel, exports) {\n  var starttype = this.type, node = this.startNode(), kind;\n\n  if (this.isLet(context)) {\n    starttype = types$1._var;\n    kind = \"let\";\n  }\n\n  // Most types of statements are recognized by the keyword they\n  // start with. Many are trivial to parse, some require a bit of\n  // complexity.\n\n  switch (starttype) {\n  case types$1._break: case types$1._continue: return this.parseBreakContinueStatement(node, starttype.keyword)\n  case types$1._debugger: return this.parseDebuggerStatement(node)\n  case types$1._do: return this.parseDoStatement(node)\n  case types$1._for: return this.parseForStatement(node)\n  case types$1._function:\n    // Function as sole body of either an if statement or a labeled statement\n    // works, but not when it is part of a labeled statement that is the sole\n    // body of an if statement.\n    if ((context && (this.strict || context !== \"if\" && context !== \"label\")) && this.options.ecmaVersion >= 6) { this.unexpected(); }\n    return this.parseFunctionStatement(node, false, !context)\n  case types$1._class:\n    if (context) { this.unexpected(); }\n    return this.parseClass(node, true)\n  case types$1._if: return this.parseIfStatement(node)\n  case types$1._return: return this.parseReturnStatement(node)\n  case types$1._switch: return this.parseSwitchStatement(node)\n  case types$1._throw: return this.parseThrowStatement(node)\n  case types$1._try: return this.parseTryStatement(node)\n  case types$1._const: case types$1._var:\n    kind = kind || this.value;\n    if (context && kind !== \"var\") { this.unexpected(); }\n    return this.parseVarStatement(node, kind)\n  case types$1._while: return this.parseWhileStatement(node)\n  case types$1._with: return this.parseWithStatement(node)\n  case types$1.braceL: return this.parseBlock(true, node)\n  case types$1.semi: return this.parseEmptyStatement(node)\n  case types$1._export:\n  case types$1._import:\n    if (this.options.ecmaVersion > 10 && starttype === types$1._import) {\n      skipWhiteSpace.lastIndex = this.pos;\n      var skip = skipWhiteSpace.exec(this.input);\n      var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\n      if (nextCh === 40 || nextCh === 46) // '(' or '.'\n        { return this.parseExpressionStatement(node, this.parseExpression()) }\n    }\n\n    if (!this.options.allowImportExportEverywhere) {\n      if (!topLevel)\n        { this.raise(this.start, \"'import' and 'export' may only appear at the top level\"); }\n      if (!this.inModule)\n        { this.raise(this.start, \"'import' and 'export' may appear only with 'sourceType: module'\"); }\n    }\n    return starttype === types$1._import ? this.parseImport(node) : this.parseExport(node, exports)\n\n    // If the statement does not start with a statement keyword or a\n    // brace, it's an ExpressionStatement or LabeledStatement. We\n    // simply start parsing an expression, and afterwards, if the\n    // next token is a colon and the expression was a simple\n    // Identifier node, we switch to interpreting it as a label.\n  default:\n    if (this.isAsyncFunction()) {\n      if (context) { this.unexpected(); }\n      this.next();\n      return this.parseFunctionStatement(node, true, !context)\n    }\n\n    var maybeName = this.value, expr = this.parseExpression();\n    if (starttype === types$1.name && expr.type === \"Identifier\" && this.eat(types$1.colon))\n      { return this.parseLabeledStatement(node, maybeName, expr, context) }\n    else { return this.parseExpressionStatement(node, expr) }\n  }\n};\n\npp$8.parseBreakContinueStatement = function(node, keyword) {\n  var isBreak = keyword === \"break\";\n  this.next();\n  if (this.eat(types$1.semi) || this.insertSemicolon()) { node.label = null; }\n  else if (this.type !== types$1.name) { this.unexpected(); }\n  else {\n    node.label = this.parseIdent();\n    this.semicolon();\n  }\n\n  // Verify that there is an actual destination to break or\n  // continue to.\n  var i = 0;\n  for (; i < this.labels.length; ++i) {\n    var lab = this.labels[i];\n    if (node.label == null || lab.name === node.label.name) {\n      if (lab.kind != null && (isBreak || lab.kind === \"loop\")) { break }\n      if (node.label && isBreak) { break }\n    }\n  }\n  if (i === this.labels.length) { this.raise(node.start, \"Unsyntactic \" + keyword); }\n  return this.finishNode(node, isBreak ? \"BreakStatement\" : \"ContinueStatement\")\n};\n\npp$8.parseDebuggerStatement = function(node) {\n  this.next();\n  this.semicolon();\n  return this.finishNode(node, \"DebuggerStatement\")\n};\n\npp$8.parseDoStatement = function(node) {\n  this.next();\n  this.labels.push(loopLabel);\n  node.body = this.parseStatement(\"do\");\n  this.labels.pop();\n  this.expect(types$1._while);\n  node.test = this.parseParenExpression();\n  if (this.options.ecmaVersion >= 6)\n    { this.eat(types$1.semi); }\n  else\n    { this.semicolon(); }\n  return this.finishNode(node, \"DoWhileStatement\")\n};\n\n// Disambiguating between a `for` and a `for`/`in` or `for`/`of`\n// loop is non-trivial. Basically, we have to parse the init `var`\n// statement or expression, disallowing the `in` operator (see\n// the second parameter to `parseExpression`), and then check\n// whether the next token is `in` or `of`. When there is no init\n// part (semicolon immediately after the opening parenthesis), it\n// is a regular `for` loop.\n\npp$8.parseForStatement = function(node) {\n  this.next();\n  var awaitAt = (this.options.ecmaVersion >= 9 && this.canAwait && this.eatContextual(\"await\")) ? this.lastTokStart : -1;\n  this.labels.push(loopLabel);\n  this.enterScope(0);\n  this.expect(types$1.parenL);\n  if (this.type === types$1.semi) {\n    if (awaitAt > -1) { this.unexpected(awaitAt); }\n    return this.parseFor(node, null)\n  }\n  var isLet = this.isLet();\n  if (this.type === types$1._var || this.type === types$1._const || isLet) {\n    var init$1 = this.startNode(), kind = isLet ? \"let\" : this.value;\n    this.next();\n    this.parseVar(init$1, true, kind);\n    this.finishNode(init$1, \"VariableDeclaration\");\n    if ((this.type === types$1._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) && init$1.declarations.length === 1) {\n      if (this.options.ecmaVersion >= 9) {\n        if (this.type === types$1._in) {\n          if (awaitAt > -1) { this.unexpected(awaitAt); }\n        } else { node.await = awaitAt > -1; }\n      }\n      return this.parseForIn(node, init$1)\n    }\n    if (awaitAt > -1) { this.unexpected(awaitAt); }\n    return this.parseFor(node, init$1)\n  }\n  var startsWithLet = this.isContextual(\"let\"), isForOf = false;\n  var refDestructuringErrors = new DestructuringErrors;\n  var init = this.parseExpression(awaitAt > -1 ? \"await\" : true, refDestructuringErrors);\n  if (this.type === types$1._in || (isForOf = this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) {\n    if (this.options.ecmaVersion >= 9) {\n      if (this.type === types$1._in) {\n        if (awaitAt > -1) { this.unexpected(awaitAt); }\n      } else { node.await = awaitAt > -1; }\n    }\n    if (startsWithLet && isForOf) { this.raise(init.start, \"The left-hand side of a for-of loop may not start with 'let'.\"); }\n    this.toAssignable(init, false, refDestructuringErrors);\n    this.checkLValPattern(init);\n    return this.parseForIn(node, init)\n  } else {\n    this.checkExpressionErrors(refDestructuringErrors, true);\n  }\n  if (awaitAt > -1) { this.unexpected(awaitAt); }\n  return this.parseFor(node, init)\n};\n\npp$8.parseFunctionStatement = function(node, isAsync, declarationPosition) {\n  this.next();\n  return this.parseFunction(node, FUNC_STATEMENT | (declarationPosition ? 0 : FUNC_HANGING_STATEMENT), false, isAsync)\n};\n\npp$8.parseIfStatement = function(node) {\n  this.next();\n  node.test = this.parseParenExpression();\n  // allow function declarations in branches, but only in non-strict mode\n  node.consequent = this.parseStatement(\"if\");\n  node.alternate = this.eat(types$1._else) ? this.parseStatement(\"if\") : null;\n  return this.finishNode(node, \"IfStatement\")\n};\n\npp$8.parseReturnStatement = function(node) {\n  if (!this.inFunction && !this.options.allowReturnOutsideFunction)\n    { this.raise(this.start, \"'return' outside of function\"); }\n  this.next();\n\n  // In `return` (and `break`/`continue`), the keywords with\n  // optional arguments, we eagerly look for a semicolon or the\n  // possibility to insert one.\n\n  if (this.eat(types$1.semi) || this.insertSemicolon()) { node.argument = null; }\n  else { node.argument = this.parseExpression(); this.semicolon(); }\n  return this.finishNode(node, \"ReturnStatement\")\n};\n\npp$8.parseSwitchStatement = function(node) {\n  this.next();\n  node.discriminant = this.parseParenExpression();\n  node.cases = [];\n  this.expect(types$1.braceL);\n  this.labels.push(switchLabel);\n  this.enterScope(0);\n\n  // Statements under must be grouped (by label) in SwitchCase\n  // nodes. `cur` is used to keep the node that we are currently\n  // adding statements to.\n\n  var cur;\n  for (var sawDefault = false; this.type !== types$1.braceR;) {\n    if (this.type === types$1._case || this.type === types$1._default) {\n      var isCase = this.type === types$1._case;\n      if (cur) { this.finishNode(cur, \"SwitchCase\"); }\n      node.cases.push(cur = this.startNode());\n      cur.consequent = [];\n      this.next();\n      if (isCase) {\n        cur.test = this.parseExpression();\n      } else {\n        if (sawDefault) { this.raiseRecoverable(this.lastTokStart, \"Multiple default clauses\"); }\n        sawDefault = true;\n        cur.test = null;\n      }\n      this.expect(types$1.colon);\n    } else {\n      if (!cur) { this.unexpected(); }\n      cur.consequent.push(this.parseStatement(null));\n    }\n  }\n  this.exitScope();\n  if (cur) { this.finishNode(cur, \"SwitchCase\"); }\n  this.next(); // Closing brace\n  this.labels.pop();\n  return this.finishNode(node, \"SwitchStatement\")\n};\n\npp$8.parseThrowStatement = function(node) {\n  this.next();\n  if (lineBreak.test(this.input.slice(this.lastTokEnd, this.start)))\n    { this.raise(this.lastTokEnd, \"Illegal newline after throw\"); }\n  node.argument = this.parseExpression();\n  this.semicolon();\n  return this.finishNode(node, \"ThrowStatement\")\n};\n\n// Reused empty array added for node fields that are always empty.\n\nvar empty$1 = [];\n\npp$8.parseTryStatement = function(node) {\n  this.next();\n  node.block = this.parseBlock();\n  node.handler = null;\n  if (this.type === types$1._catch) {\n    var clause = this.startNode();\n    this.next();\n    if (this.eat(types$1.parenL)) {\n      clause.param = this.parseBindingAtom();\n      var simple = clause.param.type === \"Identifier\";\n      this.enterScope(simple ? SCOPE_SIMPLE_CATCH : 0);\n      this.checkLValPattern(clause.param, simple ? BIND_SIMPLE_CATCH : BIND_LEXICAL);\n      this.expect(types$1.parenR);\n    } else {\n      if (this.options.ecmaVersion < 10) { this.unexpected(); }\n      clause.param = null;\n      this.enterScope(0);\n    }\n    clause.body = this.parseBlock(false);\n    this.exitScope();\n    node.handler = this.finishNode(clause, \"CatchClause\");\n  }\n  node.finalizer = this.eat(types$1._finally) ? this.parseBlock() : null;\n  if (!node.handler && !node.finalizer)\n    { this.raise(node.start, \"Missing catch or finally clause\"); }\n  return this.finishNode(node, \"TryStatement\")\n};\n\npp$8.parseVarStatement = function(node, kind) {\n  this.next();\n  this.parseVar(node, false, kind);\n  this.semicolon();\n  return this.finishNode(node, \"VariableDeclaration\")\n};\n\npp$8.parseWhileStatement = function(node) {\n  this.next();\n  node.test = this.parseParenExpression();\n  this.labels.push(loopLabel);\n  node.body = this.parseStatement(\"while\");\n  this.labels.pop();\n  return this.finishNode(node, \"WhileStatement\")\n};\n\npp$8.parseWithStatement = function(node) {\n  if (this.strict) { this.raise(this.start, \"'with' in strict mode\"); }\n  this.next();\n  node.object = this.parseParenExpression();\n  node.body = this.parseStatement(\"with\");\n  return this.finishNode(node, \"WithStatement\")\n};\n\npp$8.parseEmptyStatement = function(node) {\n  this.next();\n  return this.finishNode(node, \"EmptyStatement\")\n};\n\npp$8.parseLabeledStatement = function(node, maybeName, expr, context) {\n  for (var i$1 = 0, list = this.labels; i$1 < list.length; i$1 += 1)\n    {\n    var label = list[i$1];\n\n    if (label.name === maybeName)\n      { this.raise(expr.start, \"Label '\" + maybeName + \"' is already declared\");\n  } }\n  var kind = this.type.isLoop ? \"loop\" : this.type === types$1._switch ? \"switch\" : null;\n  for (var i = this.labels.length - 1; i >= 0; i--) {\n    var label$1 = this.labels[i];\n    if (label$1.statementStart === node.start) {\n      // Update information about previous labels on this node\n      label$1.statementStart = this.start;\n      label$1.kind = kind;\n    } else { break }\n  }\n  this.labels.push({name: maybeName, kind: kind, statementStart: this.start});\n  node.body = this.parseStatement(context ? context.indexOf(\"label\") === -1 ? context + \"label\" : context : \"label\");\n  this.labels.pop();\n  node.label = expr;\n  return this.finishNode(node, \"LabeledStatement\")\n};\n\npp$8.parseExpressionStatement = function(node, expr) {\n  node.expression = expr;\n  this.semicolon();\n  return this.finishNode(node, \"ExpressionStatement\")\n};\n\n// Parse a semicolon-enclosed block of statements, handling `\"use\n// strict\"` declarations when `allowStrict` is true (used for\n// function bodies).\n\npp$8.parseBlock = function(createNewLexicalScope, node, exitStrict) {\n  if ( createNewLexicalScope === void 0 ) createNewLexicalScope = true;\n  if ( node === void 0 ) node = this.startNode();\n\n  node.body = [];\n  this.expect(types$1.braceL);\n  if (createNewLexicalScope) { this.enterScope(0); }\n  while (this.type !== types$1.braceR) {\n    var stmt = this.parseStatement(null);\n    node.body.push(stmt);\n  }\n  if (exitStrict) { this.strict = false; }\n  this.next();\n  if (createNewLexicalScope) { this.exitScope(); }\n  return this.finishNode(node, \"BlockStatement\")\n};\n\n// Parse a regular `for` loop. The disambiguation code in\n// `parseStatement` will already have parsed the init statement or\n// expression.\n\npp$8.parseFor = function(node, init) {\n  node.init = init;\n  this.expect(types$1.semi);\n  node.test = this.type === types$1.semi ? null : this.parseExpression();\n  this.expect(types$1.semi);\n  node.update = this.type === types$1.parenR ? null : this.parseExpression();\n  this.expect(types$1.parenR);\n  node.body = this.parseStatement(\"for\");\n  this.exitScope();\n  this.labels.pop();\n  return this.finishNode(node, \"ForStatement\")\n};\n\n// Parse a `for`/`in` and `for`/`of` loop, which are almost\n// same from parser's perspective.\n\npp$8.parseForIn = function(node, init) {\n  var isForIn = this.type === types$1._in;\n  this.next();\n\n  if (\n    init.type === \"VariableDeclaration\" &&\n    init.declarations[0].init != null &&\n    (\n      !isForIn ||\n      this.options.ecmaVersion < 8 ||\n      this.strict ||\n      init.kind !== \"var\" ||\n      init.declarations[0].id.type !== \"Identifier\"\n    )\n  ) {\n    this.raise(\n      init.start,\n      ((isForIn ? \"for-in\" : \"for-of\") + \" loop variable declaration may not have an initializer\")\n    );\n  }\n  node.left = init;\n  node.right = isForIn ? this.parseExpression() : this.parseMaybeAssign();\n  this.expect(types$1.parenR);\n  node.body = this.parseStatement(\"for\");\n  this.exitScope();\n  this.labels.pop();\n  return this.finishNode(node, isForIn ? \"ForInStatement\" : \"ForOfStatement\")\n};\n\n// Parse a list of variable declarations.\n\npp$8.parseVar = function(node, isFor, kind) {\n  node.declarations = [];\n  node.kind = kind;\n  for (;;) {\n    var decl = this.startNode();\n    this.parseVarId(decl, kind);\n    if (this.eat(types$1.eq)) {\n      decl.init = this.parseMaybeAssign(isFor);\n    } else if (kind === \"const\" && !(this.type === types$1._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\")))) {\n      this.unexpected();\n    } else if (decl.id.type !== \"Identifier\" && !(isFor && (this.type === types$1._in || this.isContextual(\"of\")))) {\n      this.raise(this.lastTokEnd, \"Complex binding patterns require an initialization value\");\n    } else {\n      decl.init = null;\n    }\n    node.declarations.push(this.finishNode(decl, \"VariableDeclarator\"));\n    if (!this.eat(types$1.comma)) { break }\n  }\n  return node\n};\n\npp$8.parseVarId = function(decl, kind) {\n  decl.id = this.parseBindingAtom();\n  this.checkLValPattern(decl.id, kind === \"var\" ? BIND_VAR : BIND_LEXICAL, false);\n};\n\nvar FUNC_STATEMENT = 1, FUNC_HANGING_STATEMENT = 2, FUNC_NULLABLE_ID = 4;\n\n// Parse a function declaration or literal (depending on the\n// `statement & FUNC_STATEMENT`).\n\n// Remove `allowExpressionBody` for 7.0.0, as it is only called with false\npp$8.parseFunction = function(node, statement, allowExpressionBody, isAsync, forInit) {\n  this.initFunction(node);\n  if (this.options.ecmaVersion >= 9 || this.options.ecmaVersion >= 6 && !isAsync) {\n    if (this.type === types$1.star && (statement & FUNC_HANGING_STATEMENT))\n      { this.unexpected(); }\n    node.generator = this.eat(types$1.star);\n  }\n  if (this.options.ecmaVersion >= 8)\n    { node.async = !!isAsync; }\n\n  if (statement & FUNC_STATEMENT) {\n    node.id = (statement & FUNC_NULLABLE_ID) && this.type !== types$1.name ? null : this.parseIdent();\n    if (node.id && !(statement & FUNC_HANGING_STATEMENT))\n      // If it is a regular function declaration in sloppy mode, then it is\n      // subject to Annex B semantics (BIND_FUNCTION). Otherwise, the binding\n      // mode depends on properties of the current scope (see\n      // treatFunctionsAsVar).\n      { this.checkLValSimple(node.id, (this.strict || node.generator || node.async) ? this.treatFunctionsAsVar ? BIND_VAR : BIND_LEXICAL : BIND_FUNCTION); }\n  }\n\n  var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n  this.yieldPos = 0;\n  this.awaitPos = 0;\n  this.awaitIdentPos = 0;\n  this.enterScope(functionFlags(node.async, node.generator));\n\n  if (!(statement & FUNC_STATEMENT))\n    { node.id = this.type === types$1.name ? this.parseIdent() : null; }\n\n  this.parseFunctionParams(node);\n  this.parseFunctionBody(node, allowExpressionBody, false, forInit);\n\n  this.yieldPos = oldYieldPos;\n  this.awaitPos = oldAwaitPos;\n  this.awaitIdentPos = oldAwaitIdentPos;\n  return this.finishNode(node, (statement & FUNC_STATEMENT) ? \"FunctionDeclaration\" : \"FunctionExpression\")\n};\n\npp$8.parseFunctionParams = function(node) {\n  this.expect(types$1.parenL);\n  node.params = this.parseBindingList(types$1.parenR, false, this.options.ecmaVersion >= 8);\n  this.checkYieldAwaitInDefaultParams();\n};\n\n// Parse a class declaration or literal (depending on the\n// `isStatement` parameter).\n\npp$8.parseClass = function(node, isStatement) {\n  this.next();\n\n  // ecma-262 14.6 Class Definitions\n  // A class definition is always strict mode code.\n  var oldStrict = this.strict;\n  this.strict = true;\n\n  this.parseClassId(node, isStatement);\n  this.parseClassSuper(node);\n  var privateNameMap = this.enterClassBody();\n  var classBody = this.startNode();\n  var hadConstructor = false;\n  classBody.body = [];\n  this.expect(types$1.braceL);\n  while (this.type !== types$1.braceR) {\n    var element = this.parseClassElement(node.superClass !== null);\n    if (element) {\n      classBody.body.push(element);\n      if (element.type === \"MethodDefinition\" && element.kind === \"constructor\") {\n        if (hadConstructor) { this.raise(element.start, \"Duplicate constructor in the same class\"); }\n        hadConstructor = true;\n      } else if (element.key && element.key.type === \"PrivateIdentifier\" && isPrivateNameConflicted(privateNameMap, element)) {\n        this.raiseRecoverable(element.key.start, (\"Identifier '#\" + (element.key.name) + \"' has already been declared\"));\n      }\n    }\n  }\n  this.strict = oldStrict;\n  this.next();\n  node.body = this.finishNode(classBody, \"ClassBody\");\n  this.exitClassBody();\n  return this.finishNode(node, isStatement ? \"ClassDeclaration\" : \"ClassExpression\")\n};\n\npp$8.parseClassElement = function(constructorAllowsSuper) {\n  if (this.eat(types$1.semi)) { return null }\n\n  var ecmaVersion = this.options.ecmaVersion;\n  var node = this.startNode();\n  var keyName = \"\";\n  var isGenerator = false;\n  var isAsync = false;\n  var kind = \"method\";\n  var isStatic = false;\n\n  if (this.eatContextual(\"static\")) {\n    // Parse static init block\n    if (ecmaVersion >= 13 && this.eat(types$1.braceL)) {\n      this.parseClassStaticBlock(node);\n      return node\n    }\n    if (this.isClassElementNameStart() || this.type === types$1.star) {\n      isStatic = true;\n    } else {\n      keyName = \"static\";\n    }\n  }\n  node.static = isStatic;\n  if (!keyName && ecmaVersion >= 8 && this.eatContextual(\"async\")) {\n    if ((this.isClassElementNameStart() || this.type === types$1.star) && !this.canInsertSemicolon()) {\n      isAsync = true;\n    } else {\n      keyName = \"async\";\n    }\n  }\n  if (!keyName && (ecmaVersion >= 9 || !isAsync) && this.eat(types$1.star)) {\n    isGenerator = true;\n  }\n  if (!keyName && !isAsync && !isGenerator) {\n    var lastValue = this.value;\n    if (this.eatContextual(\"get\") || this.eatContextual(\"set\")) {\n      if (this.isClassElementNameStart()) {\n        kind = lastValue;\n      } else {\n        keyName = lastValue;\n      }\n    }\n  }\n\n  // Parse element name\n  if (keyName) {\n    // 'async', 'get', 'set', or 'static' were not a keyword contextually.\n    // The last token is any of those. Make it the element name.\n    node.computed = false;\n    node.key = this.startNodeAt(this.lastTokStart, this.lastTokStartLoc);\n    node.key.name = keyName;\n    this.finishNode(node.key, \"Identifier\");\n  } else {\n    this.parseClassElementName(node);\n  }\n\n  // Parse element value\n  if (ecmaVersion < 13 || this.type === types$1.parenL || kind !== \"method\" || isGenerator || isAsync) {\n    var isConstructor = !node.static && checkKeyName(node, \"constructor\");\n    var allowsDirectSuper = isConstructor && constructorAllowsSuper;\n    // Couldn't move this check into the 'parseClassMethod' method for backward compatibility.\n    if (isConstructor && kind !== \"method\") { this.raise(node.key.start, \"Constructor can't have get/set modifier\"); }\n    node.kind = isConstructor ? \"constructor\" : kind;\n    this.parseClassMethod(node, isGenerator, isAsync, allowsDirectSuper);\n  } else {\n    this.parseClassField(node);\n  }\n\n  return node\n};\n\npp$8.isClassElementNameStart = function() {\n  return (\n    this.type === types$1.name ||\n    this.type === types$1.privateId ||\n    this.type === types$1.num ||\n    this.type === types$1.string ||\n    this.type === types$1.bracketL ||\n    this.type.keyword\n  )\n};\n\npp$8.parseClassElementName = function(element) {\n  if (this.type === types$1.privateId) {\n    if (this.value === \"constructor\") {\n      this.raise(this.start, \"Classes can't have an element named '#constructor'\");\n    }\n    element.computed = false;\n    element.key = this.parsePrivateIdent();\n  } else {\n    this.parsePropertyName(element);\n  }\n};\n\npp$8.parseClassMethod = function(method, isGenerator, isAsync, allowsDirectSuper) {\n  // Check key and flags\n  var key = method.key;\n  if (method.kind === \"constructor\") {\n    if (isGenerator) { this.raise(key.start, \"Constructor can't be a generator\"); }\n    if (isAsync) { this.raise(key.start, \"Constructor can't be an async method\"); }\n  } else if (method.static && checkKeyName(method, \"prototype\")) {\n    this.raise(key.start, \"Classes may not have a static property named prototype\");\n  }\n\n  // Parse value\n  var value = method.value = this.parseMethod(isGenerator, isAsync, allowsDirectSuper);\n\n  // Check value\n  if (method.kind === \"get\" && value.params.length !== 0)\n    { this.raiseRecoverable(value.start, \"getter should have no params\"); }\n  if (method.kind === \"set\" && value.params.length !== 1)\n    { this.raiseRecoverable(value.start, \"setter should have exactly one param\"); }\n  if (method.kind === \"set\" && value.params[0].type === \"RestElement\")\n    { this.raiseRecoverable(value.params[0].start, \"Setter cannot use rest params\"); }\n\n  return this.finishNode(method, \"MethodDefinition\")\n};\n\npp$8.parseClassField = function(field) {\n  if (checkKeyName(field, \"constructor\")) {\n    this.raise(field.key.start, \"Classes can't have a field named 'constructor'\");\n  } else if (field.static && checkKeyName(field, \"prototype\")) {\n    this.raise(field.key.start, \"Classes can't have a static field named 'prototype'\");\n  }\n\n  if (this.eat(types$1.eq)) {\n    // To raise SyntaxError if 'arguments' exists in the initializer.\n    var scope = this.currentThisScope();\n    var inClassFieldInit = scope.inClassFieldInit;\n    scope.inClassFieldInit = true;\n    field.value = this.parseMaybeAssign();\n    scope.inClassFieldInit = inClassFieldInit;\n  } else {\n    field.value = null;\n  }\n  this.semicolon();\n\n  return this.finishNode(field, \"PropertyDefinition\")\n};\n\npp$8.parseClassStaticBlock = function(node) {\n  node.body = [];\n\n  var oldLabels = this.labels;\n  this.labels = [];\n  this.enterScope(SCOPE_CLASS_STATIC_BLOCK | SCOPE_SUPER);\n  while (this.type !== types$1.braceR) {\n    var stmt = this.parseStatement(null);\n    node.body.push(stmt);\n  }\n  this.next();\n  this.exitScope();\n  this.labels = oldLabels;\n\n  return this.finishNode(node, \"StaticBlock\")\n};\n\npp$8.parseClassId = function(node, isStatement) {\n  if (this.type === types$1.name) {\n    node.id = this.parseIdent();\n    if (isStatement)\n      { this.checkLValSimple(node.id, BIND_LEXICAL, false); }\n  } else {\n    if (isStatement === true)\n      { this.unexpected(); }\n    node.id = null;\n  }\n};\n\npp$8.parseClassSuper = function(node) {\n  node.superClass = this.eat(types$1._extends) ? this.parseExprSubscripts(null, false) : null;\n};\n\npp$8.enterClassBody = function() {\n  var element = {declared: Object.create(null), used: []};\n  this.privateNameStack.push(element);\n  return element.declared\n};\n\npp$8.exitClassBody = function() {\n  var ref = this.privateNameStack.pop();\n  var declared = ref.declared;\n  var used = ref.used;\n  var len = this.privateNameStack.length;\n  var parent = len === 0 ? null : this.privateNameStack[len - 1];\n  for (var i = 0; i < used.length; ++i) {\n    var id = used[i];\n    if (!hasOwn(declared, id.name)) {\n      if (parent) {\n        parent.used.push(id);\n      } else {\n        this.raiseRecoverable(id.start, (\"Private field '#\" + (id.name) + \"' must be declared in an enclosing class\"));\n      }\n    }\n  }\n};\n\nfunction isPrivateNameConflicted(privateNameMap, element) {\n  var name = element.key.name;\n  var curr = privateNameMap[name];\n\n  var next = \"true\";\n  if (element.type === \"MethodDefinition\" && (element.kind === \"get\" || element.kind === \"set\")) {\n    next = (element.static ? \"s\" : \"i\") + element.kind;\n  }\n\n  // `class { get #a(){}; static set #a(_){} }` is also conflict.\n  if (\n    curr === \"iget\" && next === \"iset\" ||\n    curr === \"iset\" && next === \"iget\" ||\n    curr === \"sget\" && next === \"sset\" ||\n    curr === \"sset\" && next === \"sget\"\n  ) {\n    privateNameMap[name] = \"true\";\n    return false\n  } else if (!curr) {\n    privateNameMap[name] = next;\n    return false\n  } else {\n    return true\n  }\n}\n\nfunction checkKeyName(node, name) {\n  var computed = node.computed;\n  var key = node.key;\n  return !computed && (\n    key.type === \"Identifier\" && key.name === name ||\n    key.type === \"Literal\" && key.value === name\n  )\n}\n\n// Parses module export declaration.\n\npp$8.parseExport = function(node, exports) {\n  this.next();\n  // export * from '...'\n  if (this.eat(types$1.star)) {\n    if (this.options.ecmaVersion >= 11) {\n      if (this.eatContextual(\"as\")) {\n        node.exported = this.parseModuleExportName();\n        this.checkExport(exports, node.exported, this.lastTokStart);\n      } else {\n        node.exported = null;\n      }\n    }\n    this.expectContextual(\"from\");\n    if (this.type !== types$1.string) { this.unexpected(); }\n    node.source = this.parseExprAtom();\n    this.semicolon();\n    return this.finishNode(node, \"ExportAllDeclaration\")\n  }\n  if (this.eat(types$1._default)) { // export default ...\n    this.checkExport(exports, \"default\", this.lastTokStart);\n    var isAsync;\n    if (this.type === types$1._function || (isAsync = this.isAsyncFunction())) {\n      var fNode = this.startNode();\n      this.next();\n      if (isAsync) { this.next(); }\n      node.declaration = this.parseFunction(fNode, FUNC_STATEMENT | FUNC_NULLABLE_ID, false, isAsync);\n    } else if (this.type === types$1._class) {\n      var cNode = this.startNode();\n      node.declaration = this.parseClass(cNode, \"nullableID\");\n    } else {\n      node.declaration = this.parseMaybeAssign();\n      this.semicolon();\n    }\n    return this.finishNode(node, \"ExportDefaultDeclaration\")\n  }\n  // export var|const|let|function|class ...\n  if (this.shouldParseExportStatement()) {\n    node.declaration = this.parseStatement(null);\n    if (node.declaration.type === \"VariableDeclaration\")\n      { this.checkVariableExport(exports, node.declaration.declarations); }\n    else\n      { this.checkExport(exports, node.declaration.id, node.declaration.id.start); }\n    node.specifiers = [];\n    node.source = null;\n  } else { // export { x, y as z } [from '...']\n    node.declaration = null;\n    node.specifiers = this.parseExportSpecifiers(exports);\n    if (this.eatContextual(\"from\")) {\n      if (this.type !== types$1.string) { this.unexpected(); }\n      node.source = this.parseExprAtom();\n    } else {\n      for (var i = 0, list = node.specifiers; i < list.length; i += 1) {\n        // check for keywords used as local names\n        var spec = list[i];\n\n        this.checkUnreserved(spec.local);\n        // check if export is defined\n        this.checkLocalExport(spec.local);\n\n        if (spec.local.type === \"Literal\") {\n          this.raise(spec.local.start, \"A string literal cannot be used as an exported binding without `from`.\");\n        }\n      }\n\n      node.source = null;\n    }\n    this.semicolon();\n  }\n  return this.finishNode(node, \"ExportNamedDeclaration\")\n};\n\npp$8.checkExport = function(exports, name, pos) {\n  if (!exports) { return }\n  if (typeof name !== \"string\")\n    { name = name.type === \"Identifier\" ? name.name : name.value; }\n  if (hasOwn(exports, name))\n    { this.raiseRecoverable(pos, \"Duplicate export '\" + name + \"'\"); }\n  exports[name] = true;\n};\n\npp$8.checkPatternExport = function(exports, pat) {\n  var type = pat.type;\n  if (type === \"Identifier\")\n    { this.checkExport(exports, pat, pat.start); }\n  else if (type === \"ObjectPattern\")\n    { for (var i = 0, list = pat.properties; i < list.length; i += 1)\n      {\n        var prop = list[i];\n\n        this.checkPatternExport(exports, prop);\n      } }\n  else if (type === \"ArrayPattern\")\n    { for (var i$1 = 0, list$1 = pat.elements; i$1 < list$1.length; i$1 += 1) {\n      var elt = list$1[i$1];\n\n        if (elt) { this.checkPatternExport(exports, elt); }\n    } }\n  else if (type === \"Property\")\n    { this.checkPatternExport(exports, pat.value); }\n  else if (type === \"AssignmentPattern\")\n    { this.checkPatternExport(exports, pat.left); }\n  else if (type === \"RestElement\")\n    { this.checkPatternExport(exports, pat.argument); }\n  else if (type === \"ParenthesizedExpression\")\n    { this.checkPatternExport(exports, pat.expression); }\n};\n\npp$8.checkVariableExport = function(exports, decls) {\n  if (!exports) { return }\n  for (var i = 0, list = decls; i < list.length; i += 1)\n    {\n    var decl = list[i];\n\n    this.checkPatternExport(exports, decl.id);\n  }\n};\n\npp$8.shouldParseExportStatement = function() {\n  return this.type.keyword === \"var\" ||\n    this.type.keyword === \"const\" ||\n    this.type.keyword === \"class\" ||\n    this.type.keyword === \"function\" ||\n    this.isLet() ||\n    this.isAsyncFunction()\n};\n\n// Parses a comma-separated list of module exports.\n\npp$8.parseExportSpecifiers = function(exports) {\n  var nodes = [], first = true;\n  // export { x, y as z } [from '...']\n  this.expect(types$1.braceL);\n  while (!this.eat(types$1.braceR)) {\n    if (!first) {\n      this.expect(types$1.comma);\n      if (this.afterTrailingComma(types$1.braceR)) { break }\n    } else { first = false; }\n\n    var node = this.startNode();\n    node.local = this.parseModuleExportName();\n    node.exported = this.eatContextual(\"as\") ? this.parseModuleExportName() : node.local;\n    this.checkExport(\n      exports,\n      node.exported,\n      node.exported.start\n    );\n    nodes.push(this.finishNode(node, \"ExportSpecifier\"));\n  }\n  return nodes\n};\n\n// Parses import declaration.\n\npp$8.parseImport = function(node) {\n  this.next();\n  // import '...'\n  if (this.type === types$1.string) {\n    node.specifiers = empty$1;\n    node.source = this.parseExprAtom();\n  } else {\n    node.specifiers = this.parseImportSpecifiers();\n    this.expectContextual(\"from\");\n    node.source = this.type === types$1.string ? this.parseExprAtom() : this.unexpected();\n  }\n  this.semicolon();\n  return this.finishNode(node, \"ImportDeclaration\")\n};\n\n// Parses a comma-separated list of module imports.\n\npp$8.parseImportSpecifiers = function() {\n  var nodes = [], first = true;\n  if (this.type === types$1.name) {\n    // import defaultObj, { x, y as z } from '...'\n    var node = this.startNode();\n    node.local = this.parseIdent();\n    this.checkLValSimple(node.local, BIND_LEXICAL);\n    nodes.push(this.finishNode(node, \"ImportDefaultSpecifier\"));\n    if (!this.eat(types$1.comma)) { return nodes }\n  }\n  if (this.type === types$1.star) {\n    var node$1 = this.startNode();\n    this.next();\n    this.expectContextual(\"as\");\n    node$1.local = this.parseIdent();\n    this.checkLValSimple(node$1.local, BIND_LEXICAL);\n    nodes.push(this.finishNode(node$1, \"ImportNamespaceSpecifier\"));\n    return nodes\n  }\n  this.expect(types$1.braceL);\n  while (!this.eat(types$1.braceR)) {\n    if (!first) {\n      this.expect(types$1.comma);\n      if (this.afterTrailingComma(types$1.braceR)) { break }\n    } else { first = false; }\n\n    var node$2 = this.startNode();\n    node$2.imported = this.parseModuleExportName();\n    if (this.eatContextual(\"as\")) {\n      node$2.local = this.parseIdent();\n    } else {\n      this.checkUnreserved(node$2.imported);\n      node$2.local = node$2.imported;\n    }\n    this.checkLValSimple(node$2.local, BIND_LEXICAL);\n    nodes.push(this.finishNode(node$2, \"ImportSpecifier\"));\n  }\n  return nodes\n};\n\npp$8.parseModuleExportName = function() {\n  if (this.options.ecmaVersion >= 13 && this.type === types$1.string) {\n    var stringLiteral = this.parseLiteral(this.value);\n    if (loneSurrogate.test(stringLiteral.value)) {\n      this.raise(stringLiteral.start, \"An export name cannot include a lone surrogate.\");\n    }\n    return stringLiteral\n  }\n  return this.parseIdent(true)\n};\n\n// Set `ExpressionStatement#directive` property for directive prologues.\npp$8.adaptDirectivePrologue = function(statements) {\n  for (var i = 0; i < statements.length && this.isDirectiveCandidate(statements[i]); ++i) {\n    statements[i].directive = statements[i].expression.raw.slice(1, -1);\n  }\n};\npp$8.isDirectiveCandidate = function(statement) {\n  return (\n    this.options.ecmaVersion >= 5 &&\n    statement.type === \"ExpressionStatement\" &&\n    statement.expression.type === \"Literal\" &&\n    typeof statement.expression.value === \"string\" &&\n    // Reject parenthesized strings.\n    (this.input[statement.start] === \"\\\"\" || this.input[statement.start] === \"'\")\n  )\n};\n\nvar pp$7 = Parser.prototype;\n\n// Convert existing expression atom to assignable pattern\n// if possible.\n\npp$7.toAssignable = function(node, isBinding, refDestructuringErrors) {\n  if (this.options.ecmaVersion >= 6 && node) {\n    switch (node.type) {\n    case \"Identifier\":\n      if (this.inAsync && node.name === \"await\")\n        { this.raise(node.start, \"Cannot use 'await' as identifier inside an async function\"); }\n      break\n\n    case \"ObjectPattern\":\n    case \"ArrayPattern\":\n    case \"AssignmentPattern\":\n    case \"RestElement\":\n      break\n\n    case \"ObjectExpression\":\n      node.type = \"ObjectPattern\";\n      if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n      for (var i = 0, list = node.properties; i < list.length; i += 1) {\n        var prop = list[i];\n\n      this.toAssignable(prop, isBinding);\n        // Early error:\n        //   AssignmentRestProperty[Yield, Await] :\n        //     `...` DestructuringAssignmentTarget[Yield, Await]\n        //\n        //   It is a Syntax Error if |DestructuringAssignmentTarget| is an |ArrayLiteral| or an |ObjectLiteral|.\n        if (\n          prop.type === \"RestElement\" &&\n          (prop.argument.type === \"ArrayPattern\" || prop.argument.type === \"ObjectPattern\")\n        ) {\n          this.raise(prop.argument.start, \"Unexpected token\");\n        }\n      }\n      break\n\n    case \"Property\":\n      // AssignmentProperty has type === \"Property\"\n      if (node.kind !== \"init\") { this.raise(node.key.start, \"Object pattern can't contain getter or setter\"); }\n      this.toAssignable(node.value, isBinding);\n      break\n\n    case \"ArrayExpression\":\n      node.type = \"ArrayPattern\";\n      if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n      this.toAssignableList(node.elements, isBinding);\n      break\n\n    case \"SpreadElement\":\n      node.type = \"RestElement\";\n      this.toAssignable(node.argument, isBinding);\n      if (node.argument.type === \"AssignmentPattern\")\n        { this.raise(node.argument.start, \"Rest elements cannot have a default value\"); }\n      break\n\n    case \"AssignmentExpression\":\n      if (node.operator !== \"=\") { this.raise(node.left.end, \"Only '=' operator can be used for specifying default value.\"); }\n      node.type = \"AssignmentPattern\";\n      delete node.operator;\n      this.toAssignable(node.left, isBinding);\n      break\n\n    case \"ParenthesizedExpression\":\n      this.toAssignable(node.expression, isBinding, refDestructuringErrors);\n      break\n\n    case \"ChainExpression\":\n      this.raiseRecoverable(node.start, \"Optional chaining cannot appear in left-hand side\");\n      break\n\n    case \"MemberExpression\":\n      if (!isBinding) { break }\n\n    default:\n      this.raise(node.start, \"Assigning to rvalue\");\n    }\n  } else if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n  return node\n};\n\n// Convert list of expression atoms to binding list.\n\npp$7.toAssignableList = function(exprList, isBinding) {\n  var end = exprList.length;\n  for (var i = 0; i < end; i++) {\n    var elt = exprList[i];\n    if (elt) { this.toAssignable(elt, isBinding); }\n  }\n  if (end) {\n    var last = exprList[end - 1];\n    if (this.options.ecmaVersion === 6 && isBinding && last && last.type === \"RestElement\" && last.argument.type !== \"Identifier\")\n      { this.unexpected(last.argument.start); }\n  }\n  return exprList\n};\n\n// Parses spread element.\n\npp$7.parseSpread = function(refDestructuringErrors) {\n  var node = this.startNode();\n  this.next();\n  node.argument = this.parseMaybeAssign(false, refDestructuringErrors);\n  return this.finishNode(node, \"SpreadElement\")\n};\n\npp$7.parseRestBinding = function() {\n  var node = this.startNode();\n  this.next();\n\n  // RestElement inside of a function parameter must be an identifier\n  if (this.options.ecmaVersion === 6 && this.type !== types$1.name)\n    { this.unexpected(); }\n\n  node.argument = this.parseBindingAtom();\n\n  return this.finishNode(node, \"RestElement\")\n};\n\n// Parses lvalue (assignable) atom.\n\npp$7.parseBindingAtom = function() {\n  if (this.options.ecmaVersion >= 6) {\n    switch (this.type) {\n    case types$1.bracketL:\n      var node = this.startNode();\n      this.next();\n      node.elements = this.parseBindingList(types$1.bracketR, true, true);\n      return this.finishNode(node, \"ArrayPattern\")\n\n    case types$1.braceL:\n      return this.parseObj(true)\n    }\n  }\n  return this.parseIdent()\n};\n\npp$7.parseBindingList = function(close, allowEmpty, allowTrailingComma) {\n  var elts = [], first = true;\n  while (!this.eat(close)) {\n    if (first) { first = false; }\n    else { this.expect(types$1.comma); }\n    if (allowEmpty && this.type === types$1.comma) {\n      elts.push(null);\n    } else if (allowTrailingComma && this.afterTrailingComma(close)) {\n      break\n    } else if (this.type === types$1.ellipsis) {\n      var rest = this.parseRestBinding();\n      this.parseBindingListItem(rest);\n      elts.push(rest);\n      if (this.type === types$1.comma) { this.raise(this.start, \"Comma is not permitted after the rest element\"); }\n      this.expect(close);\n      break\n    } else {\n      var elem = this.parseMaybeDefault(this.start, this.startLoc);\n      this.parseBindingListItem(elem);\n      elts.push(elem);\n    }\n  }\n  return elts\n};\n\npp$7.parseBindingListItem = function(param) {\n  return param\n};\n\n// Parses assignment pattern around given atom if possible.\n\npp$7.parseMaybeDefault = function(startPos, startLoc, left) {\n  left = left || this.parseBindingAtom();\n  if (this.options.ecmaVersion < 6 || !this.eat(types$1.eq)) { return left }\n  var node = this.startNodeAt(startPos, startLoc);\n  node.left = left;\n  node.right = this.parseMaybeAssign();\n  return this.finishNode(node, \"AssignmentPattern\")\n};\n\n// The following three functions all verify that a node is an lvalue â€”\n// something that can be bound, or assigned to. In order to do so, they perform\n// a variety of checks:\n//\n// - Check that none of the bound/assigned-to identifiers are reserved words.\n// - Record name declarations for bindings in the appropriate scope.\n// - Check duplicate argument names, if checkClashes is set.\n//\n// If a complex binding pattern is encountered (e.g., object and array\n// destructuring), the entire pattern is recursively checked.\n//\n// There are three versions of checkLVal*() appropriate for different\n// circumstances:\n//\n// - checkLValSimple() shall be used if the syntactic construct supports\n//   nothing other than identifiers and member expressions. Parenthesized\n//   expressions are also correctly handled. This is generally appropriate for\n//   constructs for which the spec says\n//\n//   > It is a Syntax Error if AssignmentTargetType of [the production] is not\n//   > simple.\n//\n//   It is also appropriate for checking if an identifier is valid and not\n//   defined elsewhere, like import declarations or function/class identifiers.\n//\n//   Examples where this is used include:\n//     a += â€¦;\n//     import a from 'â€¦';\n//   where a is the node to be checked.\n//\n// - checkLValPattern() shall be used if the syntactic construct supports\n//   anything checkLValSimple() supports, as well as object and array\n//   destructuring patterns. This is generally appropriate for constructs for\n//   which the spec says\n//\n//   > It is a Syntax Error if [the production] is neither an ObjectLiteral nor\n//   > an ArrayLiteral and AssignmentTargetType of [the production] is not\n//   > simple.\n//\n//   Examples where this is used include:\n//     (a = â€¦);\n//     const a = â€¦;\n//     try { â€¦ } catch (a) { â€¦ }\n//   where a is the node to be checked.\n//\n// - checkLValInnerPattern() shall be used if the syntactic construct supports\n//   anything checkLValPattern() supports, as well as default assignment\n//   patterns, rest elements, and other constructs that may appear within an\n//   object or array destructuring pattern.\n//\n//   As a special case, function parameters also use checkLValInnerPattern(),\n//   as they also support defaults and rest constructs.\n//\n// These functions deliberately support both assignment and binding constructs,\n// as the logic for both is exceedingly similar. If the node is the target of\n// an assignment, then bindingType should be set to BIND_NONE. Otherwise, it\n// should be set to the appropriate BIND_* constant, like BIND_VAR or\n// BIND_LEXICAL.\n//\n// If the function is called with a non-BIND_NONE bindingType, then\n// additionally a checkClashes object may be specified to allow checking for\n// duplicate argument names. checkClashes is ignored if the provided construct\n// is an assignment (i.e., bindingType is BIND_NONE).\n\npp$7.checkLValSimple = function(expr, bindingType, checkClashes) {\n  if ( bindingType === void 0 ) bindingType = BIND_NONE;\n\n  var isBind = bindingType !== BIND_NONE;\n\n  switch (expr.type) {\n  case \"Identifier\":\n    if (this.strict && this.reservedWordsStrictBind.test(expr.name))\n      { this.raiseRecoverable(expr.start, (isBind ? \"Binding \" : \"Assigning to \") + expr.name + \" in strict mode\"); }\n    if (isBind) {\n      if (bindingType === BIND_LEXICAL && expr.name === \"let\")\n        { this.raiseRecoverable(expr.start, \"let is disallowed as a lexically bound name\"); }\n      if (checkClashes) {\n        if (hasOwn(checkClashes, expr.name))\n          { this.raiseRecoverable(expr.start, \"Argument name clash\"); }\n        checkClashes[expr.name] = true;\n      }\n      if (bindingType !== BIND_OUTSIDE) { this.declareName(expr.name, bindingType, expr.start); }\n    }\n    break\n\n  case \"ChainExpression\":\n    this.raiseRecoverable(expr.start, \"Optional chaining cannot appear in left-hand side\");\n    break\n\n  case \"MemberExpression\":\n    if (isBind) { this.raiseRecoverable(expr.start, \"Binding member expression\"); }\n    break\n\n  case \"ParenthesizedExpression\":\n    if (isBind) { this.raiseRecoverable(expr.start, \"Binding parenthesized expression\"); }\n    return this.checkLValSimple(expr.expression, bindingType, checkClashes)\n\n  default:\n    this.raise(expr.start, (isBind ? \"Binding\" : \"Assigning to\") + \" rvalue\");\n  }\n};\n\npp$7.checkLValPattern = function(expr, bindingType, checkClashes) {\n  if ( bindingType === void 0 ) bindingType = BIND_NONE;\n\n  switch (expr.type) {\n  case \"ObjectPattern\":\n    for (var i = 0, list = expr.properties; i < list.length; i += 1) {\n      var prop = list[i];\n\n    this.checkLValInnerPattern(prop, bindingType, checkClashes);\n    }\n    break\n\n  case \"ArrayPattern\":\n    for (var i$1 = 0, list$1 = expr.elements; i$1 < list$1.length; i$1 += 1) {\n      var elem = list$1[i$1];\n\n    if (elem) { this.checkLValInnerPattern(elem, bindingType, checkClashes); }\n    }\n    break\n\n  default:\n    this.checkLValSimple(expr, bindingType, checkClashes);\n  }\n};\n\npp$7.checkLValInnerPattern = function(expr, bindingType, checkClashes) {\n  if ( bindingType === void 0 ) bindingType = BIND_NONE;\n\n  switch (expr.type) {\n  case \"Property\":\n    // AssignmentProperty has type === \"Property\"\n    this.checkLValInnerPattern(expr.value, bindingType, checkClashes);\n    break\n\n  case \"AssignmentPattern\":\n    this.checkLValPattern(expr.left, bindingType, checkClashes);\n    break\n\n  case \"RestElement\":\n    this.checkLValPattern(expr.argument, bindingType, checkClashes);\n    break\n\n  default:\n    this.checkLValPattern(expr, bindingType, checkClashes);\n  }\n};\n\n// The algorithm used to determine whether a regexp can appear at a\n\nvar TokContext = function TokContext(token, isExpr, preserveSpace, override, generator) {\n  this.token = token;\n  this.isExpr = !!isExpr;\n  this.preserveSpace = !!preserveSpace;\n  this.override = override;\n  this.generator = !!generator;\n};\n\nvar types = {\n  b_stat: new TokContext(\"{\", false),\n  b_expr: new TokContext(\"{\", true),\n  b_tmpl: new TokContext(\"${\", false),\n  p_stat: new TokContext(\"(\", false),\n  p_expr: new TokContext(\"(\", true),\n  q_tmpl: new TokContext(\"`\", true, true, function (p) { return p.tryReadTemplateToken(); }),\n  f_stat: new TokContext(\"function\", false),\n  f_expr: new TokContext(\"function\", true),\n  f_expr_gen: new TokContext(\"function\", true, false, null, true),\n  f_gen: new TokContext(\"function\", false, false, null, true)\n};\n\nvar pp$6 = Parser.prototype;\n\npp$6.initialContext = function() {\n  return [types.b_stat]\n};\n\npp$6.curContext = function() {\n  return this.context[this.context.length - 1]\n};\n\npp$6.braceIsBlock = function(prevType) {\n  var parent = this.curContext();\n  if (parent === types.f_expr || parent === types.f_stat)\n    { return true }\n  if (prevType === types$1.colon && (parent === types.b_stat || parent === types.b_expr))\n    { return !parent.isExpr }\n\n  // The check for `tt.name && exprAllowed` detects whether we are\n  // after a `yield` or `of` construct. See the `updateContext` for\n  // `tt.name`.\n  if (prevType === types$1._return || prevType === types$1.name && this.exprAllowed)\n    { return lineBreak.test(this.input.slice(this.lastTokEnd, this.start)) }\n  if (prevType === types$1._else || prevType === types$1.semi || prevType === types$1.eof || prevType === types$1.parenR || prevType === types$1.arrow)\n    { return true }\n  if (prevType === types$1.braceL)\n    { return parent === types.b_stat }\n  if (prevType === types$1._var || prevType === types$1._const || prevType === types$1.name)\n    { return false }\n  return !this.exprAllowed\n};\n\npp$6.inGeneratorContext = function() {\n  for (var i = this.context.length - 1; i >= 1; i--) {\n    var context = this.context[i];\n    if (context.token === \"function\")\n      { return context.generator }\n  }\n  return false\n};\n\npp$6.updateContext = function(prevType) {\n  var update, type = this.type;\n  if (type.keyword && prevType === types$1.dot)\n    { this.exprAllowed = false; }\n  else if (update = type.updateContext)\n    { update.call(this, prevType); }\n  else\n    { this.exprAllowed = type.beforeExpr; }\n};\n\n// Used to handle egde cases when token context could not be inferred correctly during tokenization phase\n\npp$6.overrideContext = function(tokenCtx) {\n  if (this.curContext() !== tokenCtx) {\n    this.context[this.context.length - 1] = tokenCtx;\n  }\n};\n\n// Token-specific context update code\n\ntypes$1.parenR.updateContext = types$1.braceR.updateContext = function() {\n  if (this.context.length === 1) {\n    this.exprAllowed = true;\n    return\n  }\n  var out = this.context.pop();\n  if (out === types.b_stat && this.curContext().token === \"function\") {\n    out = this.context.pop();\n  }\n  this.exprAllowed = !out.isExpr;\n};\n\ntypes$1.braceL.updateContext = function(prevType) {\n  this.context.push(this.braceIsBlock(prevType) ? types.b_stat : types.b_expr);\n  this.exprAllowed = true;\n};\n\ntypes$1.dollarBraceL.updateContext = function() {\n  this.context.push(types.b_tmpl);\n  this.exprAllowed = true;\n};\n\ntypes$1.parenL.updateContext = function(prevType) {\n  var statementParens = prevType === types$1._if || prevType === types$1._for || prevType === types$1._with || prevType === types$1._while;\n  this.context.push(statementParens ? types.p_stat : types.p_expr);\n  this.exprAllowed = true;\n};\n\ntypes$1.incDec.updateContext = function() {\n  // tokExprAllowed stays unchanged\n};\n\ntypes$1._function.updateContext = types$1._class.updateContext = function(prevType) {\n  if (prevType.beforeExpr && prevType !== types$1._else &&\n      !(prevType === types$1.semi && this.curContext() !== types.p_stat) &&\n      !(prevType === types$1._return && lineBreak.test(this.input.slice(this.lastTokEnd, this.start))) &&\n      !((prevType === types$1.colon || prevType === types$1.braceL) && this.curContext() === types.b_stat))\n    { this.context.push(types.f_expr); }\n  else\n    { this.context.push(types.f_stat); }\n  this.exprAllowed = false;\n};\n\ntypes$1.backQuote.updateContext = function() {\n  if (this.curContext() === types.q_tmpl)\n    { this.context.pop(); }\n  else\n    { this.context.push(types.q_tmpl); }\n  this.exprAllowed = false;\n};\n\ntypes$1.star.updateContext = function(prevType) {\n  if (prevType === types$1._function) {\n    var index = this.context.length - 1;\n    if (this.context[index] === types.f_expr)\n      { this.context[index] = types.f_expr_gen; }\n    else\n      { this.context[index] = types.f_gen; }\n  }\n  this.exprAllowed = true;\n};\n\ntypes$1.name.updateContext = function(prevType) {\n  var allowed = false;\n  if (this.options.ecmaVersion >= 6 && prevType !== types$1.dot) {\n    if (this.value === \"of\" && !this.exprAllowed ||\n        this.value === \"yield\" && this.inGeneratorContext())\n      { allowed = true; }\n  }\n  this.exprAllowed = allowed;\n};\n\n// A recursive descent parser operates by defining functions for all\n\nvar pp$5 = Parser.prototype;\n\n// Check if property name clashes with already added.\n// Object/class getters and setters are not allowed to clash â€”\n// either with each other or with an init property â€” and in\n// strict mode, init properties are also not allowed to be repeated.\n\npp$5.checkPropClash = function(prop, propHash, refDestructuringErrors) {\n  if (this.options.ecmaVersion >= 9 && prop.type === \"SpreadElement\")\n    { return }\n  if (this.options.ecmaVersion >= 6 && (prop.computed || prop.method || prop.shorthand))\n    { return }\n  var key = prop.key;\n  var name;\n  switch (key.type) {\n  case \"Identifier\": name = key.name; break\n  case \"Literal\": name = String(key.value); break\n  default: return\n  }\n  var kind = prop.kind;\n  if (this.options.ecmaVersion >= 6) {\n    if (name === \"__proto__\" && kind === \"init\") {\n      if (propHash.proto) {\n        if (refDestructuringErrors) {\n          if (refDestructuringErrors.doubleProto < 0) {\n            refDestructuringErrors.doubleProto = key.start;\n          }\n        } else {\n          this.raiseRecoverable(key.start, \"Redefinition of __proto__ property\");\n        }\n      }\n      propHash.proto = true;\n    }\n    return\n  }\n  name = \"$\" + name;\n  var other = propHash[name];\n  if (other) {\n    var redefinition;\n    if (kind === \"init\") {\n      redefinition = this.strict && other.init || other.get || other.set;\n    } else {\n      redefinition = other.init || other[kind];\n    }\n    if (redefinition)\n      { this.raiseRecoverable(key.start, \"Redefinition of property\"); }\n  } else {\n    other = propHash[name] = {\n      init: false,\n      get: false,\n      set: false\n    };\n  }\n  other[kind] = true;\n};\n\n// ### Expression parsing\n\n// These nest, from the most general expression type at the top to\n// 'atomic', nondivisible expression types at the bottom. Most of\n// the functions will simply let the function(s) below them parse,\n// and, *if* the syntactic construct they handle is present, wrap\n// the AST node that the inner parser gave them in another node.\n\n// Parse a full expression. The optional arguments are used to\n// forbid the `in` operator (in for loops initalization expressions)\n// and provide reference for storing '=' operator inside shorthand\n// property assignment in contexts where both object expression\n// and object pattern might appear (so it's possible to raise\n// delayed syntax error at correct position).\n\npp$5.parseExpression = function(forInit, refDestructuringErrors) {\n  var startPos = this.start, startLoc = this.startLoc;\n  var expr = this.parseMaybeAssign(forInit, refDestructuringErrors);\n  if (this.type === types$1.comma) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.expressions = [expr];\n    while (this.eat(types$1.comma)) { node.expressions.push(this.parseMaybeAssign(forInit, refDestructuringErrors)); }\n    return this.finishNode(node, \"SequenceExpression\")\n  }\n  return expr\n};\n\n// Parse an assignment expression. This includes applications of\n// operators like `+=`.\n\npp$5.parseMaybeAssign = function(forInit, refDestructuringErrors, afterLeftParse) {\n  if (this.isContextual(\"yield\")) {\n    if (this.inGenerator) { return this.parseYield(forInit) }\n    // The tokenizer will assume an expression is allowed after\n    // `yield`, but this isn't that kind of yield\n    else { this.exprAllowed = false; }\n  }\n\n  var ownDestructuringErrors = false, oldParenAssign = -1, oldTrailingComma = -1, oldDoubleProto = -1;\n  if (refDestructuringErrors) {\n    oldParenAssign = refDestructuringErrors.parenthesizedAssign;\n    oldTrailingComma = refDestructuringErrors.trailingComma;\n    oldDoubleProto = refDestructuringErrors.doubleProto;\n    refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = -1;\n  } else {\n    refDestructuringErrors = new DestructuringErrors;\n    ownDestructuringErrors = true;\n  }\n\n  var startPos = this.start, startLoc = this.startLoc;\n  if (this.type === types$1.parenL || this.type === types$1.name) {\n    this.potentialArrowAt = this.start;\n    this.potentialArrowInForAwait = forInit === \"await\";\n  }\n  var left = this.parseMaybeConditional(forInit, refDestructuringErrors);\n  if (afterLeftParse) { left = afterLeftParse.call(this, left, startPos, startLoc); }\n  if (this.type.isAssign) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.operator = this.value;\n    if (this.type === types$1.eq)\n      { left = this.toAssignable(left, false, refDestructuringErrors); }\n    if (!ownDestructuringErrors) {\n      refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = refDestructuringErrors.doubleProto = -1;\n    }\n    if (refDestructuringErrors.shorthandAssign >= left.start)\n      { refDestructuringErrors.shorthandAssign = -1; } // reset because shorthand default was used correctly\n    if (this.type === types$1.eq)\n      { this.checkLValPattern(left); }\n    else\n      { this.checkLValSimple(left); }\n    node.left = left;\n    this.next();\n    node.right = this.parseMaybeAssign(forInit);\n    if (oldDoubleProto > -1) { refDestructuringErrors.doubleProto = oldDoubleProto; }\n    return this.finishNode(node, \"AssignmentExpression\")\n  } else {\n    if (ownDestructuringErrors) { this.checkExpressionErrors(refDestructuringErrors, true); }\n  }\n  if (oldParenAssign > -1) { refDestructuringErrors.parenthesizedAssign = oldParenAssign; }\n  if (oldTrailingComma > -1) { refDestructuringErrors.trailingComma = oldTrailingComma; }\n  return left\n};\n\n// Parse a ternary conditional (`?:`) operator.\n\npp$5.parseMaybeConditional = function(forInit, refDestructuringErrors) {\n  var startPos = this.start, startLoc = this.startLoc;\n  var expr = this.parseExprOps(forInit, refDestructuringErrors);\n  if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n  if (this.eat(types$1.question)) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.test = expr;\n    node.consequent = this.parseMaybeAssign();\n    this.expect(types$1.colon);\n    node.alternate = this.parseMaybeAssign(forInit);\n    return this.finishNode(node, \"ConditionalExpression\")\n  }\n  return expr\n};\n\n// Start the precedence parser.\n\npp$5.parseExprOps = function(forInit, refDestructuringErrors) {\n  var startPos = this.start, startLoc = this.startLoc;\n  var expr = this.parseMaybeUnary(refDestructuringErrors, false, false, forInit);\n  if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n  return expr.start === startPos && expr.type === \"ArrowFunctionExpression\" ? expr : this.parseExprOp(expr, startPos, startLoc, -1, forInit)\n};\n\n// Parse binary operators with the operator precedence parsing\n// algorithm. `left` is the left-hand side of the operator.\n// `minPrec` provides context that allows the function to stop and\n// defer further parser to one of its callers when it encounters an\n// operator that has a lower precedence than the set it is parsing.\n\npp$5.parseExprOp = function(left, leftStartPos, leftStartLoc, minPrec, forInit) {\n  var prec = this.type.binop;\n  if (prec != null && (!forInit || this.type !== types$1._in)) {\n    if (prec > minPrec) {\n      var logical = this.type === types$1.logicalOR || this.type === types$1.logicalAND;\n      var coalesce = this.type === types$1.coalesce;\n      if (coalesce) {\n        // Handle the precedence of `tt.coalesce` as equal to the range of logical expressions.\n        // In other words, `node.right` shouldn't contain logical expressions in order to check the mixed error.\n        prec = types$1.logicalAND.binop;\n      }\n      var op = this.value;\n      this.next();\n      var startPos = this.start, startLoc = this.startLoc;\n      var right = this.parseExprOp(this.parseMaybeUnary(null, false, false, forInit), startPos, startLoc, prec, forInit);\n      var node = this.buildBinary(leftStartPos, leftStartLoc, left, right, op, logical || coalesce);\n      if ((logical && this.type === types$1.coalesce) || (coalesce && (this.type === types$1.logicalOR || this.type === types$1.logicalAND))) {\n        this.raiseRecoverable(this.start, \"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses\");\n      }\n      return this.parseExprOp(node, leftStartPos, leftStartLoc, minPrec, forInit)\n    }\n  }\n  return left\n};\n\npp$5.buildBinary = function(startPos, startLoc, left, right, op, logical) {\n  if (right.type === \"PrivateIdentifier\") { this.raise(right.start, \"Private identifier can only be left side of binary expression\"); }\n  var node = this.startNodeAt(startPos, startLoc);\n  node.left = left;\n  node.operator = op;\n  node.right = right;\n  return this.finishNode(node, logical ? \"LogicalExpression\" : \"BinaryExpression\")\n};\n\n// Parse unary operators, both prefix and postfix.\n\npp$5.parseMaybeUnary = function(refDestructuringErrors, sawUnary, incDec, forInit) {\n  var startPos = this.start, startLoc = this.startLoc, expr;\n  if (this.isContextual(\"await\") && this.canAwait) {\n    expr = this.parseAwait(forInit);\n    sawUnary = true;\n  } else if (this.type.prefix) {\n    var node = this.startNode(), update = this.type === types$1.incDec;\n    node.operator = this.value;\n    node.prefix = true;\n    this.next();\n    node.argument = this.parseMaybeUnary(null, true, update, forInit);\n    this.checkExpressionErrors(refDestructuringErrors, true);\n    if (update) { this.checkLValSimple(node.argument); }\n    else if (this.strict && node.operator === \"delete\" &&\n             node.argument.type === \"Identifier\")\n      { this.raiseRecoverable(node.start, \"Deleting local variable in strict mode\"); }\n    else if (node.operator === \"delete\" && isPrivateFieldAccess(node.argument))\n      { this.raiseRecoverable(node.start, \"Private fields can not be deleted\"); }\n    else { sawUnary = true; }\n    expr = this.finishNode(node, update ? \"UpdateExpression\" : \"UnaryExpression\");\n  } else if (!sawUnary && this.type === types$1.privateId) {\n    if (forInit || this.privateNameStack.length === 0) { this.unexpected(); }\n    expr = this.parsePrivateIdent();\n    // only could be private fields in 'in', such as #x in obj\n    if (this.type !== types$1._in) { this.unexpected(); }\n  } else {\n    expr = this.parseExprSubscripts(refDestructuringErrors, forInit);\n    if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n    while (this.type.postfix && !this.canInsertSemicolon()) {\n      var node$1 = this.startNodeAt(startPos, startLoc);\n      node$1.operator = this.value;\n      node$1.prefix = false;\n      node$1.argument = expr;\n      this.checkLValSimple(expr);\n      this.next();\n      expr = this.finishNode(node$1, \"UpdateExpression\");\n    }\n  }\n\n  if (!incDec && this.eat(types$1.starstar)) {\n    if (sawUnary)\n      { this.unexpected(this.lastTokStart); }\n    else\n      { return this.buildBinary(startPos, startLoc, expr, this.parseMaybeUnary(null, false, false, forInit), \"**\", false) }\n  } else {\n    return expr\n  }\n};\n\nfunction isPrivateFieldAccess(node) {\n  return (\n    node.type === \"MemberExpression\" && node.property.type === \"PrivateIdentifier\" ||\n    node.type === \"ChainExpression\" && isPrivateFieldAccess(node.expression)\n  )\n}\n\n// Parse call, dot, and `[]`-subscript expressions.\n\npp$5.parseExprSubscripts = function(refDestructuringErrors, forInit) {\n  var startPos = this.start, startLoc = this.startLoc;\n  var expr = this.parseExprAtom(refDestructuringErrors, forInit);\n  if (expr.type === \"ArrowFunctionExpression\" && this.input.slice(this.lastTokStart, this.lastTokEnd) !== \")\")\n    { return expr }\n  var result = this.parseSubscripts(expr, startPos, startLoc, false, forInit);\n  if (refDestructuringErrors && result.type === \"MemberExpression\") {\n    if (refDestructuringErrors.parenthesizedAssign >= result.start) { refDestructuringErrors.parenthesizedAssign = -1; }\n    if (refDestructuringErrors.parenthesizedBind >= result.start) { refDestructuringErrors.parenthesizedBind = -1; }\n    if (refDestructuringErrors.trailingComma >= result.start) { refDestructuringErrors.trailingComma = -1; }\n  }\n  return result\n};\n\npp$5.parseSubscripts = function(base, startPos, startLoc, noCalls, forInit) {\n  var maybeAsyncArrow = this.options.ecmaVersion >= 8 && base.type === \"Identifier\" && base.name === \"async\" &&\n      this.lastTokEnd === base.end && !this.canInsertSemicolon() && base.end - base.start === 5 &&\n      this.potentialArrowAt === base.start;\n  var optionalChained = false;\n\n  while (true) {\n    var element = this.parseSubscript(base, startPos, startLoc, noCalls, maybeAsyncArrow, optionalChained, forInit);\n\n    if (element.optional) { optionalChained = true; }\n    if (element === base || element.type === \"ArrowFunctionExpression\") {\n      if (optionalChained) {\n        var chainNode = this.startNodeAt(startPos, startLoc);\n        chainNode.expression = element;\n        element = this.finishNode(chainNode, \"ChainExpression\");\n      }\n      return element\n    }\n\n    base = element;\n  }\n};\n\npp$5.parseSubscript = function(base, startPos, startLoc, noCalls, maybeAsyncArrow, optionalChained, forInit) {\n  var optionalSupported = this.options.ecmaVersion >= 11;\n  var optional = optionalSupported && this.eat(types$1.questionDot);\n  if (noCalls && optional) { this.raise(this.lastTokStart, \"Optional chaining cannot appear in the callee of new expressions\"); }\n\n  var computed = this.eat(types$1.bracketL);\n  if (computed || (optional && this.type !== types$1.parenL && this.type !== types$1.backQuote) || this.eat(types$1.dot)) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.object = base;\n    if (computed) {\n      node.property = this.parseExpression();\n      this.expect(types$1.bracketR);\n    } else if (this.type === types$1.privateId && base.type !== \"Super\") {\n      node.property = this.parsePrivateIdent();\n    } else {\n      node.property = this.parseIdent(this.options.allowReserved !== \"never\");\n    }\n    node.computed = !!computed;\n    if (optionalSupported) {\n      node.optional = optional;\n    }\n    base = this.finishNode(node, \"MemberExpression\");\n  } else if (!noCalls && this.eat(types$1.parenL)) {\n    var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n    var exprList = this.parseExprList(types$1.parenR, this.options.ecmaVersion >= 8, false, refDestructuringErrors);\n    if (maybeAsyncArrow && !optional && !this.canInsertSemicolon() && this.eat(types$1.arrow)) {\n      this.checkPatternErrors(refDestructuringErrors, false);\n      this.checkYieldAwaitInDefaultParams();\n      if (this.awaitIdentPos > 0)\n        { this.raise(this.awaitIdentPos, \"Cannot use 'await' as identifier inside an async function\"); }\n      this.yieldPos = oldYieldPos;\n      this.awaitPos = oldAwaitPos;\n      this.awaitIdentPos = oldAwaitIdentPos;\n      return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList, true, forInit)\n    }\n    this.checkExpressionErrors(refDestructuringErrors, true);\n    this.yieldPos = oldYieldPos || this.yieldPos;\n    this.awaitPos = oldAwaitPos || this.awaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos || this.awaitIdentPos;\n    var node$1 = this.startNodeAt(startPos, startLoc);\n    node$1.callee = base;\n    node$1.arguments = exprList;\n    if (optionalSupported) {\n      node$1.optional = optional;\n    }\n    base = this.finishNode(node$1, \"CallExpression\");\n  } else if (this.type === types$1.backQuote) {\n    if (optional || optionalChained) {\n      this.raise(this.start, \"Optional chaining cannot appear in the tag of tagged template expressions\");\n    }\n    var node$2 = this.startNodeAt(startPos, startLoc);\n    node$2.tag = base;\n    node$2.quasi = this.parseTemplate({isTagged: true});\n    base = this.finishNode(node$2, \"TaggedTemplateExpression\");\n  }\n  return base\n};\n\n// Parse an atomic expression â€” either a single token that is an\n// expression, an expression started by a keyword like `function` or\n// `new`, or an expression wrapped in punctuation like `()`, `[]`,\n// or `{}`.\n\npp$5.parseExprAtom = function(refDestructuringErrors, forInit) {\n  // If a division operator appears in an expression position, the\n  // tokenizer got confused, and we force it to read a regexp instead.\n  if (this.type === types$1.slash) { this.readRegexp(); }\n\n  var node, canBeArrow = this.potentialArrowAt === this.start;\n  switch (this.type) {\n  case types$1._super:\n    if (!this.allowSuper)\n      { this.raise(this.start, \"'super' keyword outside a method\"); }\n    node = this.startNode();\n    this.next();\n    if (this.type === types$1.parenL && !this.allowDirectSuper)\n      { this.raise(node.start, \"super() call outside constructor of a subclass\"); }\n    // The `super` keyword can appear at below:\n    // SuperProperty:\n    //     super [ Expression ]\n    //     super . IdentifierName\n    // SuperCall:\n    //     super ( Arguments )\n    if (this.type !== types$1.dot && this.type !== types$1.bracketL && this.type !== types$1.parenL)\n      { this.unexpected(); }\n    return this.finishNode(node, \"Super\")\n\n  case types$1._this:\n    node = this.startNode();\n    this.next();\n    return this.finishNode(node, \"ThisExpression\")\n\n  case types$1.name:\n    var startPos = this.start, startLoc = this.startLoc, containsEsc = this.containsEsc;\n    var id = this.parseIdent(false);\n    if (this.options.ecmaVersion >= 8 && !containsEsc && id.name === \"async\" && !this.canInsertSemicolon() && this.eat(types$1._function)) {\n      this.overrideContext(types.f_expr);\n      return this.parseFunction(this.startNodeAt(startPos, startLoc), 0, false, true, forInit)\n    }\n    if (canBeArrow && !this.canInsertSemicolon()) {\n      if (this.eat(types$1.arrow))\n        { return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], false, forInit) }\n      if (this.options.ecmaVersion >= 8 && id.name === \"async\" && this.type === types$1.name && !containsEsc &&\n          (!this.potentialArrowInForAwait || this.value !== \"of\" || this.containsEsc)) {\n        id = this.parseIdent(false);\n        if (this.canInsertSemicolon() || !this.eat(types$1.arrow))\n          { this.unexpected(); }\n        return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], true, forInit)\n      }\n    }\n    return id\n\n  case types$1.regexp:\n    var value = this.value;\n    node = this.parseLiteral(value.value);\n    node.regex = {pattern: value.pattern, flags: value.flags};\n    return node\n\n  case types$1.num: case types$1.string:\n    return this.parseLiteral(this.value)\n\n  case types$1._null: case types$1._true: case types$1._false:\n    node = this.startNode();\n    node.value = this.type === types$1._null ? null : this.type === types$1._true;\n    node.raw = this.type.keyword;\n    this.next();\n    return this.finishNode(node, \"Literal\")\n\n  case types$1.parenL:\n    var start = this.start, expr = this.parseParenAndDistinguishExpression(canBeArrow, forInit);\n    if (refDestructuringErrors) {\n      if (refDestructuringErrors.parenthesizedAssign < 0 && !this.isSimpleAssignTarget(expr))\n        { refDestructuringErrors.parenthesizedAssign = start; }\n      if (refDestructuringErrors.parenthesizedBind < 0)\n        { refDestructuringErrors.parenthesizedBind = start; }\n    }\n    return expr\n\n  case types$1.bracketL:\n    node = this.startNode();\n    this.next();\n    node.elements = this.parseExprList(types$1.bracketR, true, true, refDestructuringErrors);\n    return this.finishNode(node, \"ArrayExpression\")\n\n  case types$1.braceL:\n    this.overrideContext(types.b_expr);\n    return this.parseObj(false, refDestructuringErrors)\n\n  case types$1._function:\n    node = this.startNode();\n    this.next();\n    return this.parseFunction(node, 0)\n\n  case types$1._class:\n    return this.parseClass(this.startNode(), false)\n\n  case types$1._new:\n    return this.parseNew()\n\n  case types$1.backQuote:\n    return this.parseTemplate()\n\n  case types$1._import:\n    if (this.options.ecmaVersion >= 11) {\n      return this.parseExprImport()\n    } else {\n      return this.unexpected()\n    }\n\n  default:\n    this.unexpected();\n  }\n};\n\npp$5.parseExprImport = function() {\n  var node = this.startNode();\n\n  // Consume `import` as an identifier for `import.meta`.\n  // Because `this.parseIdent(true)` doesn't check escape sequences, it needs the check of `this.containsEsc`.\n  if (this.containsEsc) { this.raiseRecoverable(this.start, \"Escape sequence in keyword import\"); }\n  var meta = this.parseIdent(true);\n\n  switch (this.type) {\n  case types$1.parenL:\n    return this.parseDynamicImport(node)\n  case types$1.dot:\n    node.meta = meta;\n    return this.parseImportMeta(node)\n  default:\n    this.unexpected();\n  }\n};\n\npp$5.parseDynamicImport = function(node) {\n  this.next(); // skip `(`\n\n  // Parse node.source.\n  node.source = this.parseMaybeAssign();\n\n  // Verify ending.\n  if (!this.eat(types$1.parenR)) {\n    var errorPos = this.start;\n    if (this.eat(types$1.comma) && this.eat(types$1.parenR)) {\n      this.raiseRecoverable(errorPos, \"Trailing comma is not allowed in import()\");\n    } else {\n      this.unexpected(errorPos);\n    }\n  }\n\n  return this.finishNode(node, \"ImportExpression\")\n};\n\npp$5.parseImportMeta = function(node) {\n  this.next(); // skip `.`\n\n  var containsEsc = this.containsEsc;\n  node.property = this.parseIdent(true);\n\n  if (node.property.name !== \"meta\")\n    { this.raiseRecoverable(node.property.start, \"The only valid meta property for import is 'import.meta'\"); }\n  if (containsEsc)\n    { this.raiseRecoverable(node.start, \"'import.meta' must not contain escaped characters\"); }\n  if (this.options.sourceType !== \"module\" && !this.options.allowImportExportEverywhere)\n    { this.raiseRecoverable(node.start, \"Cannot use 'import.meta' outside a module\"); }\n\n  return this.finishNode(node, \"MetaProperty\")\n};\n\npp$5.parseLiteral = function(value) {\n  var node = this.startNode();\n  node.value = value;\n  node.raw = this.input.slice(this.start, this.end);\n  if (node.raw.charCodeAt(node.raw.length - 1) === 110) { node.bigint = node.raw.slice(0, -1).replace(/_/g, \"\"); }\n  this.next();\n  return this.finishNode(node, \"Literal\")\n};\n\npp$5.parseParenExpression = function() {\n  this.expect(types$1.parenL);\n  var val = this.parseExpression();\n  this.expect(types$1.parenR);\n  return val\n};\n\npp$5.parseParenAndDistinguishExpression = function(canBeArrow, forInit) {\n  var startPos = this.start, startLoc = this.startLoc, val, allowTrailingComma = this.options.ecmaVersion >= 8;\n  if (this.options.ecmaVersion >= 6) {\n    this.next();\n\n    var innerStartPos = this.start, innerStartLoc = this.startLoc;\n    var exprList = [], first = true, lastIsComma = false;\n    var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, spreadStart;\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    // Do not save awaitIdentPos to allow checking awaits nested in parameters\n    while (this.type !== types$1.parenR) {\n      first ? first = false : this.expect(types$1.comma);\n      if (allowTrailingComma && this.afterTrailingComma(types$1.parenR, true)) {\n        lastIsComma = true;\n        break\n      } else if (this.type === types$1.ellipsis) {\n        spreadStart = this.start;\n        exprList.push(this.parseParenItem(this.parseRestBinding()));\n        if (this.type === types$1.comma) { this.raise(this.start, \"Comma is not permitted after the rest element\"); }\n        break\n      } else {\n        exprList.push(this.parseMaybeAssign(false, refDestructuringErrors, this.parseParenItem));\n      }\n    }\n    var innerEndPos = this.lastTokEnd, innerEndLoc = this.lastTokEndLoc;\n    this.expect(types$1.parenR);\n\n    if (canBeArrow && !this.canInsertSemicolon() && this.eat(types$1.arrow)) {\n      this.checkPatternErrors(refDestructuringErrors, false);\n      this.checkYieldAwaitInDefaultParams();\n      this.yieldPos = oldYieldPos;\n      this.awaitPos = oldAwaitPos;\n      return this.parseParenArrowList(startPos, startLoc, exprList, forInit)\n    }\n\n    if (!exprList.length || lastIsComma) { this.unexpected(this.lastTokStart); }\n    if (spreadStart) { this.unexpected(spreadStart); }\n    this.checkExpressionErrors(refDestructuringErrors, true);\n    this.yieldPos = oldYieldPos || this.yieldPos;\n    this.awaitPos = oldAwaitPos || this.awaitPos;\n\n    if (exprList.length > 1) {\n      val = this.startNodeAt(innerStartPos, innerStartLoc);\n      val.expressions = exprList;\n      this.finishNodeAt(val, \"SequenceExpression\", innerEndPos, innerEndLoc);\n    } else {\n      val = exprList[0];\n    }\n  } else {\n    val = this.parseParenExpression();\n  }\n\n  if (this.options.preserveParens) {\n    var par = this.startNodeAt(startPos, startLoc);\n    par.expression = val;\n    return this.finishNode(par, \"ParenthesizedExpression\")\n  } else {\n    return val\n  }\n};\n\npp$5.parseParenItem = function(item) {\n  return item\n};\n\npp$5.parseParenArrowList = function(startPos, startLoc, exprList, forInit) {\n  return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList, false, forInit)\n};\n\n// New's precedence is slightly tricky. It must allow its argument to\n// be a `[]` or dot subscript expression, but not a call â€” at least,\n// not without wrapping it in parentheses. Thus, it uses the noCalls\n// argument to parseSubscripts to prevent it from consuming the\n// argument list.\n\nvar empty = [];\n\npp$5.parseNew = function() {\n  if (this.containsEsc) { this.raiseRecoverable(this.start, \"Escape sequence in keyword new\"); }\n  var node = this.startNode();\n  var meta = this.parseIdent(true);\n  if (this.options.ecmaVersion >= 6 && this.eat(types$1.dot)) {\n    node.meta = meta;\n    var containsEsc = this.containsEsc;\n    node.property = this.parseIdent(true);\n    if (node.property.name !== \"target\")\n      { this.raiseRecoverable(node.property.start, \"The only valid meta property for new is 'new.target'\"); }\n    if (containsEsc)\n      { this.raiseRecoverable(node.start, \"'new.target' must not contain escaped characters\"); }\n    if (!this.allowNewDotTarget)\n      { this.raiseRecoverable(node.start, \"'new.target' can only be used in functions and class static block\"); }\n    return this.finishNode(node, \"MetaProperty\")\n  }\n  var startPos = this.start, startLoc = this.startLoc, isImport = this.type === types$1._import;\n  node.callee = this.parseSubscripts(this.parseExprAtom(), startPos, startLoc, true, false);\n  if (isImport && node.callee.type === \"ImportExpression\") {\n    this.raise(startPos, \"Cannot use new with import()\");\n  }\n  if (this.eat(types$1.parenL)) { node.arguments = this.parseExprList(types$1.parenR, this.options.ecmaVersion >= 8, false); }\n  else { node.arguments = empty; }\n  return this.finishNode(node, \"NewExpression\")\n};\n\n// Parse template expression.\n\npp$5.parseTemplateElement = function(ref) {\n  var isTagged = ref.isTagged;\n\n  var elem = this.startNode();\n  if (this.type === types$1.invalidTemplate) {\n    if (!isTagged) {\n      this.raiseRecoverable(this.start, \"Bad escape sequence in untagged template literal\");\n    }\n    elem.value = {\n      raw: this.value,\n      cooked: null\n    };\n  } else {\n    elem.value = {\n      raw: this.input.slice(this.start, this.end).replace(/\\r\\n?/g, \"\\n\"),\n      cooked: this.value\n    };\n  }\n  this.next();\n  elem.tail = this.type === types$1.backQuote;\n  return this.finishNode(elem, \"TemplateElement\")\n};\n\npp$5.parseTemplate = function(ref) {\n  if ( ref === void 0 ) ref = {};\n  var isTagged = ref.isTagged; if ( isTagged === void 0 ) isTagged = false;\n\n  var node = this.startNode();\n  this.next();\n  node.expressions = [];\n  var curElt = this.parseTemplateElement({isTagged: isTagged});\n  node.quasis = [curElt];\n  while (!curElt.tail) {\n    if (this.type === types$1.eof) { this.raise(this.pos, \"Unterminated template literal\"); }\n    this.expect(types$1.dollarBraceL);\n    node.expressions.push(this.parseExpression());\n    this.expect(types$1.braceR);\n    node.quasis.push(curElt = this.parseTemplateElement({isTagged: isTagged}));\n  }\n  this.next();\n  return this.finishNode(node, \"TemplateLiteral\")\n};\n\npp$5.isAsyncProp = function(prop) {\n  return !prop.computed && prop.key.type === \"Identifier\" && prop.key.name === \"async\" &&\n    (this.type === types$1.name || this.type === types$1.num || this.type === types$1.string || this.type === types$1.bracketL || this.type.keyword || (this.options.ecmaVersion >= 9 && this.type === types$1.star)) &&\n    !lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\n};\n\n// Parse an object literal or binding pattern.\n\npp$5.parseObj = function(isPattern, refDestructuringErrors) {\n  var node = this.startNode(), first = true, propHash = {};\n  node.properties = [];\n  this.next();\n  while (!this.eat(types$1.braceR)) {\n    if (!first) {\n      this.expect(types$1.comma);\n      if (this.options.ecmaVersion >= 5 && this.afterTrailingComma(types$1.braceR)) { break }\n    } else { first = false; }\n\n    var prop = this.parseProperty(isPattern, refDestructuringErrors);\n    if (!isPattern) { this.checkPropClash(prop, propHash, refDestructuringErrors); }\n    node.properties.push(prop);\n  }\n  return this.finishNode(node, isPattern ? \"ObjectPattern\" : \"ObjectExpression\")\n};\n\npp$5.parseProperty = function(isPattern, refDestructuringErrors) {\n  var prop = this.startNode(), isGenerator, isAsync, startPos, startLoc;\n  if (this.options.ecmaVersion >= 9 && this.eat(types$1.ellipsis)) {\n    if (isPattern) {\n      prop.argument = this.parseIdent(false);\n      if (this.type === types$1.comma) {\n        this.raise(this.start, \"Comma is not permitted after the rest element\");\n      }\n      return this.finishNode(prop, \"RestElement\")\n    }\n    // Parse argument.\n    prop.argument = this.parseMaybeAssign(false, refDestructuringErrors);\n    // To disallow trailing comma via `this.toAssignable()`.\n    if (this.type === types$1.comma && refDestructuringErrors && refDestructuringErrors.trailingComma < 0) {\n      refDestructuringErrors.trailingComma = this.start;\n    }\n    // Finish\n    return this.finishNode(prop, \"SpreadElement\")\n  }\n  if (this.options.ecmaVersion >= 6) {\n    prop.method = false;\n    prop.shorthand = false;\n    if (isPattern || refDestructuringErrors) {\n      startPos = this.start;\n      startLoc = this.startLoc;\n    }\n    if (!isPattern)\n      { isGenerator = this.eat(types$1.star); }\n  }\n  var containsEsc = this.containsEsc;\n  this.parsePropertyName(prop);\n  if (!isPattern && !containsEsc && this.options.ecmaVersion >= 8 && !isGenerator && this.isAsyncProp(prop)) {\n    isAsync = true;\n    isGenerator = this.options.ecmaVersion >= 9 && this.eat(types$1.star);\n    this.parsePropertyName(prop);\n  } else {\n    isAsync = false;\n  }\n  this.parsePropertyValue(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc);\n  return this.finishNode(prop, \"Property\")\n};\n\npp$5.parsePropertyValue = function(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc) {\n  if ((isGenerator || isAsync) && this.type === types$1.colon)\n    { this.unexpected(); }\n\n  if (this.eat(types$1.colon)) {\n    prop.value = isPattern ? this.parseMaybeDefault(this.start, this.startLoc) : this.parseMaybeAssign(false, refDestructuringErrors);\n    prop.kind = \"init\";\n  } else if (this.options.ecmaVersion >= 6 && this.type === types$1.parenL) {\n    if (isPattern) { this.unexpected(); }\n    prop.kind = \"init\";\n    prop.method = true;\n    prop.value = this.parseMethod(isGenerator, isAsync);\n  } else if (!isPattern && !containsEsc &&\n             this.options.ecmaVersion >= 5 && !prop.computed && prop.key.type === \"Identifier\" &&\n             (prop.key.name === \"get\" || prop.key.name === \"set\") &&\n             (this.type !== types$1.comma && this.type !== types$1.braceR && this.type !== types$1.eq)) {\n    if (isGenerator || isAsync) { this.unexpected(); }\n    prop.kind = prop.key.name;\n    this.parsePropertyName(prop);\n    prop.value = this.parseMethod(false);\n    var paramCount = prop.kind === \"get\" ? 0 : 1;\n    if (prop.value.params.length !== paramCount) {\n      var start = prop.value.start;\n      if (prop.kind === \"get\")\n        { this.raiseRecoverable(start, \"getter should have no params\"); }\n      else\n        { this.raiseRecoverable(start, \"setter should have exactly one param\"); }\n    } else {\n      if (prop.kind === \"set\" && prop.value.params[0].type === \"RestElement\")\n        { this.raiseRecoverable(prop.value.params[0].start, \"Setter cannot use rest params\"); }\n    }\n  } else if (this.options.ecmaVersion >= 6 && !prop.computed && prop.key.type === \"Identifier\") {\n    if (isGenerator || isAsync) { this.unexpected(); }\n    this.checkUnreserved(prop.key);\n    if (prop.key.name === \"await\" && !this.awaitIdentPos)\n      { this.awaitIdentPos = startPos; }\n    prop.kind = \"init\";\n    if (isPattern) {\n      prop.value = this.parseMaybeDefault(startPos, startLoc, this.copyNode(prop.key));\n    } else if (this.type === types$1.eq && refDestructuringErrors) {\n      if (refDestructuringErrors.shorthandAssign < 0)\n        { refDestructuringErrors.shorthandAssign = this.start; }\n      prop.value = this.parseMaybeDefault(startPos, startLoc, this.copyNode(prop.key));\n    } else {\n      prop.value = this.copyNode(prop.key);\n    }\n    prop.shorthand = true;\n  } else { this.unexpected(); }\n};\n\npp$5.parsePropertyName = function(prop) {\n  if (this.options.ecmaVersion >= 6) {\n    if (this.eat(types$1.bracketL)) {\n      prop.computed = true;\n      prop.key = this.parseMaybeAssign();\n      this.expect(types$1.bracketR);\n      return prop.key\n    } else {\n      prop.computed = false;\n    }\n  }\n  return prop.key = this.type === types$1.num || this.type === types$1.string ? this.parseExprAtom() : this.parseIdent(this.options.allowReserved !== \"never\")\n};\n\n// Initialize empty function node.\n\npp$5.initFunction = function(node) {\n  node.id = null;\n  if (this.options.ecmaVersion >= 6) { node.generator = node.expression = false; }\n  if (this.options.ecmaVersion >= 8) { node.async = false; }\n};\n\n// Parse object or class method.\n\npp$5.parseMethod = function(isGenerator, isAsync, allowDirectSuper) {\n  var node = this.startNode(), oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n\n  this.initFunction(node);\n  if (this.options.ecmaVersion >= 6)\n    { node.generator = isGenerator; }\n  if (this.options.ecmaVersion >= 8)\n    { node.async = !!isAsync; }\n\n  this.yieldPos = 0;\n  this.awaitPos = 0;\n  this.awaitIdentPos = 0;\n  this.enterScope(functionFlags(isAsync, node.generator) | SCOPE_SUPER | (allowDirectSuper ? SCOPE_DIRECT_SUPER : 0));\n\n  this.expect(types$1.parenL);\n  node.params = this.parseBindingList(types$1.parenR, false, this.options.ecmaVersion >= 8);\n  this.checkYieldAwaitInDefaultParams();\n  this.parseFunctionBody(node, false, true, false);\n\n  this.yieldPos = oldYieldPos;\n  this.awaitPos = oldAwaitPos;\n  this.awaitIdentPos = oldAwaitIdentPos;\n  return this.finishNode(node, \"FunctionExpression\")\n};\n\n// Parse arrow function expression with given parameters.\n\npp$5.parseArrowExpression = function(node, params, isAsync, forInit) {\n  var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n\n  this.enterScope(functionFlags(isAsync, false) | SCOPE_ARROW);\n  this.initFunction(node);\n  if (this.options.ecmaVersion >= 8) { node.async = !!isAsync; }\n\n  this.yieldPos = 0;\n  this.awaitPos = 0;\n  this.awaitIdentPos = 0;\n\n  node.params = this.toAssignableList(params, true);\n  this.parseFunctionBody(node, true, false, forInit);\n\n  this.yieldPos = oldYieldPos;\n  this.awaitPos = oldAwaitPos;\n  this.awaitIdentPos = oldAwaitIdentPos;\n  return this.finishNode(node, \"ArrowFunctionExpression\")\n};\n\n// Parse function body and check parameters.\n\npp$5.parseFunctionBody = function(node, isArrowFunction, isMethod, forInit) {\n  var isExpression = isArrowFunction && this.type !== types$1.braceL;\n  var oldStrict = this.strict, useStrict = false;\n\n  if (isExpression) {\n    node.body = this.parseMaybeAssign(forInit);\n    node.expression = true;\n    this.checkParams(node, false);\n  } else {\n    var nonSimple = this.options.ecmaVersion >= 7 && !this.isSimpleParamList(node.params);\n    if (!oldStrict || nonSimple) {\n      useStrict = this.strictDirective(this.end);\n      // If this is a strict mode function, verify that argument names\n      // are not repeated, and it does not try to bind the words `eval`\n      // or `arguments`.\n      if (useStrict && nonSimple)\n        { this.raiseRecoverable(node.start, \"Illegal 'use strict' directive in function with non-simple parameter list\"); }\n    }\n    // Start a new scope with regard to labels and the `inFunction`\n    // flag (restore them to their old value afterwards).\n    var oldLabels = this.labels;\n    this.labels = [];\n    if (useStrict) { this.strict = true; }\n\n    // Add the params to varDeclaredNames to ensure that an error is thrown\n    // if a let/const declaration in the function clashes with one of the params.\n    this.checkParams(node, !oldStrict && !useStrict && !isArrowFunction && !isMethod && this.isSimpleParamList(node.params));\n    // Ensure the function name isn't a forbidden identifier in strict mode, e.g. 'eval'\n    if (this.strict && node.id) { this.checkLValSimple(node.id, BIND_OUTSIDE); }\n    node.body = this.parseBlock(false, undefined, useStrict && !oldStrict);\n    node.expression = false;\n    this.adaptDirectivePrologue(node.body.body);\n    this.labels = oldLabels;\n  }\n  this.exitScope();\n};\n\npp$5.isSimpleParamList = function(params) {\n  for (var i = 0, list = params; i < list.length; i += 1)\n    {\n    var param = list[i];\n\n    if (param.type !== \"Identifier\") { return false\n  } }\n  return true\n};\n\n// Checks function params for various disallowed patterns such as using \"eval\"\n// or \"arguments\" and duplicate parameters.\n\npp$5.checkParams = function(node, allowDuplicates) {\n  var nameHash = Object.create(null);\n  for (var i = 0, list = node.params; i < list.length; i += 1)\n    {\n    var param = list[i];\n\n    this.checkLValInnerPattern(param, BIND_VAR, allowDuplicates ? null : nameHash);\n  }\n};\n\n// Parses a comma-separated list of expressions, and returns them as\n// an array. `close` is the token type that ends the list, and\n// `allowEmpty` can be turned on to allow subsequent commas with\n// nothing in between them to be parsed as `null` (which is needed\n// for array literals).\n\npp$5.parseExprList = function(close, allowTrailingComma, allowEmpty, refDestructuringErrors) {\n  var elts = [], first = true;\n  while (!this.eat(close)) {\n    if (!first) {\n      this.expect(types$1.comma);\n      if (allowTrailingComma && this.afterTrailingComma(close)) { break }\n    } else { first = false; }\n\n    var elt = (void 0);\n    if (allowEmpty && this.type === types$1.comma)\n      { elt = null; }\n    else if (this.type === types$1.ellipsis) {\n      elt = this.parseSpread(refDestructuringErrors);\n      if (refDestructuringErrors && this.type === types$1.comma && refDestructuringErrors.trailingComma < 0)\n        { refDestructuringErrors.trailingComma = this.start; }\n    } else {\n      elt = this.parseMaybeAssign(false, refDestructuringErrors);\n    }\n    elts.push(elt);\n  }\n  return elts\n};\n\npp$5.checkUnreserved = function(ref) {\n  var start = ref.start;\n  var end = ref.end;\n  var name = ref.name;\n\n  if (this.inGenerator && name === \"yield\")\n    { this.raiseRecoverable(start, \"Cannot use 'yield' as identifier inside a generator\"); }\n  if (this.inAsync && name === \"await\")\n    { this.raiseRecoverable(start, \"Cannot use 'await' as identifier inside an async function\"); }\n  if (this.currentThisScope().inClassFieldInit && name === \"arguments\")\n    { this.raiseRecoverable(start, \"Cannot use 'arguments' in class field initializer\"); }\n  if (this.inClassStaticBlock && (name === \"arguments\" || name === \"await\"))\n    { this.raise(start, (\"Cannot use \" + name + \" in class static initialization block\")); }\n  if (this.keywords.test(name))\n    { this.raise(start, (\"Unexpected keyword '\" + name + \"'\")); }\n  if (this.options.ecmaVersion < 6 &&\n    this.input.slice(start, end).indexOf(\"\\\\\") !== -1) { return }\n  var re = this.strict ? this.reservedWordsStrict : this.reservedWords;\n  if (re.test(name)) {\n    if (!this.inAsync && name === \"await\")\n      { this.raiseRecoverable(start, \"Cannot use keyword 'await' outside an async function\"); }\n    this.raiseRecoverable(start, (\"The keyword '\" + name + \"' is reserved\"));\n  }\n};\n\n// Parse the next token as an identifier. If `liberal` is true (used\n// when parsing properties), it will also convert keywords into\n// identifiers.\n\npp$5.parseIdent = function(liberal) {\n  var node = this.startNode();\n  if (this.type === types$1.name) {\n    node.name = this.value;\n  } else if (this.type.keyword) {\n    node.name = this.type.keyword;\n\n    // To fix https://github.com/acornjs/acorn/issues/575\n    // `class` and `function` keywords push new context into this.context.\n    // But there is no chance to pop the context if the keyword is consumed as an identifier such as a property name.\n    // If the previous token is a dot, this does not apply because the context-managing code already ignored the keyword\n    if ((node.name === \"class\" || node.name === \"function\") &&\n        (this.lastTokEnd !== this.lastTokStart + 1 || this.input.charCodeAt(this.lastTokStart) !== 46)) {\n      this.context.pop();\n    }\n  } else {\n    this.unexpected();\n  }\n  this.next(!!liberal);\n  this.finishNode(node, \"Identifier\");\n  if (!liberal) {\n    this.checkUnreserved(node);\n    if (node.name === \"await\" && !this.awaitIdentPos)\n      { this.awaitIdentPos = node.start; }\n  }\n  return node\n};\n\npp$5.parsePrivateIdent = function() {\n  var node = this.startNode();\n  if (this.type === types$1.privateId) {\n    node.name = this.value;\n  } else {\n    this.unexpected();\n  }\n  this.next();\n  this.finishNode(node, \"PrivateIdentifier\");\n\n  // For validating existence\n  if (this.privateNameStack.length === 0) {\n    this.raise(node.start, (\"Private field '#\" + (node.name) + \"' must be declared in an enclosing class\"));\n  } else {\n    this.privateNameStack[this.privateNameStack.length - 1].used.push(node);\n  }\n\n  return node\n};\n\n// Parses yield expression inside generator.\n\npp$5.parseYield = function(forInit) {\n  if (!this.yieldPos) { this.yieldPos = this.start; }\n\n  var node = this.startNode();\n  this.next();\n  if (this.type === types$1.semi || this.canInsertSemicolon() || (this.type !== types$1.star && !this.type.startsExpr)) {\n    node.delegate = false;\n    node.argument = null;\n  } else {\n    node.delegate = this.eat(types$1.star);\n    node.argument = this.parseMaybeAssign(forInit);\n  }\n  return this.finishNode(node, \"YieldExpression\")\n};\n\npp$5.parseAwait = function(forInit) {\n  if (!this.awaitPos) { this.awaitPos = this.start; }\n\n  var node = this.startNode();\n  this.next();\n  node.argument = this.parseMaybeUnary(null, true, false, forInit);\n  return this.finishNode(node, \"AwaitExpression\")\n};\n\nvar pp$4 = Parser.prototype;\n\n// This function is used to raise exceptions on parse errors. It\n// takes an offset integer (into the current `input`) to indicate\n// the location of the error, attaches the position to the end\n// of the error message, and then raises a `SyntaxError` with that\n// message.\n\npp$4.raise = function(pos, message) {\n  var loc = getLineInfo(this.input, pos);\n  message += \" (\" + loc.line + \":\" + loc.column + \")\";\n  var err = new SyntaxError(message);\n  err.pos = pos; err.loc = loc; err.raisedAt = this.pos;\n  throw err\n};\n\npp$4.raiseRecoverable = pp$4.raise;\n\npp$4.curPosition = function() {\n  if (this.options.locations) {\n    return new Position(this.curLine, this.pos - this.lineStart)\n  }\n};\n\nvar pp$3 = Parser.prototype;\n\nvar Scope = function Scope(flags) {\n  this.flags = flags;\n  // A list of var-declared names in the current lexical scope\n  this.var = [];\n  // A list of lexically-declared names in the current lexical scope\n  this.lexical = [];\n  // A list of lexically-declared FunctionDeclaration names in the current lexical scope\n  this.functions = [];\n  // A switch to disallow the identifier reference 'arguments'\n  this.inClassFieldInit = false;\n};\n\n// The functions in this module keep track of declared variables in the current scope in order to detect duplicate variable names.\n\npp$3.enterScope = function(flags) {\n  this.scopeStack.push(new Scope(flags));\n};\n\npp$3.exitScope = function() {\n  this.scopeStack.pop();\n};\n\n// The spec says:\n// > At the top level of a function, or script, function declarations are\n// > treated like var declarations rather than like lexical declarations.\npp$3.treatFunctionsAsVarInScope = function(scope) {\n  return (scope.flags & SCOPE_FUNCTION) || !this.inModule && (scope.flags & SCOPE_TOP)\n};\n\npp$3.declareName = function(name, bindingType, pos) {\n  var redeclared = false;\n  if (bindingType === BIND_LEXICAL) {\n    var scope = this.currentScope();\n    redeclared = scope.lexical.indexOf(name) > -1 || scope.functions.indexOf(name) > -1 || scope.var.indexOf(name) > -1;\n    scope.lexical.push(name);\n    if (this.inModule && (scope.flags & SCOPE_TOP))\n      { delete this.undefinedExports[name]; }\n  } else if (bindingType === BIND_SIMPLE_CATCH) {\n    var scope$1 = this.currentScope();\n    scope$1.lexical.push(name);\n  } else if (bindingType === BIND_FUNCTION) {\n    var scope$2 = this.currentScope();\n    if (this.treatFunctionsAsVar)\n      { redeclared = scope$2.lexical.indexOf(name) > -1; }\n    else\n      { redeclared = scope$2.lexical.indexOf(name) > -1 || scope$2.var.indexOf(name) > -1; }\n    scope$2.functions.push(name);\n  } else {\n    for (var i = this.scopeStack.length - 1; i >= 0; --i) {\n      var scope$3 = this.scopeStack[i];\n      if (scope$3.lexical.indexOf(name) > -1 && !((scope$3.flags & SCOPE_SIMPLE_CATCH) && scope$3.lexical[0] === name) ||\n          !this.treatFunctionsAsVarInScope(scope$3) && scope$3.functions.indexOf(name) > -1) {\n        redeclared = true;\n        break\n      }\n      scope$3.var.push(name);\n      if (this.inModule && (scope$3.flags & SCOPE_TOP))\n        { delete this.undefinedExports[name]; }\n      if (scope$3.flags & SCOPE_VAR) { break }\n    }\n  }\n  if (redeclared) { this.raiseRecoverable(pos, (\"Identifier '\" + name + \"' has already been declared\")); }\n};\n\npp$3.checkLocalExport = function(id) {\n  // scope.functions must be empty as Module code is always strict.\n  if (this.scopeStack[0].lexical.indexOf(id.name) === -1 &&\n      this.scopeStack[0].var.indexOf(id.name) === -1) {\n    this.undefinedExports[id.name] = id;\n  }\n};\n\npp$3.currentScope = function() {\n  return this.scopeStack[this.scopeStack.length - 1]\n};\n\npp$3.currentVarScope = function() {\n  for (var i = this.scopeStack.length - 1;; i--) {\n    var scope = this.scopeStack[i];\n    if (scope.flags & SCOPE_VAR) { return scope }\n  }\n};\n\n// Could be useful for `this`, `new.target`, `super()`, `super.property`, and `super[property]`.\npp$3.currentThisScope = function() {\n  for (var i = this.scopeStack.length - 1;; i--) {\n    var scope = this.scopeStack[i];\n    if (scope.flags & SCOPE_VAR && !(scope.flags & SCOPE_ARROW)) { return scope }\n  }\n};\n\nvar Node = function Node(parser, pos, loc) {\n  this.type = \"\";\n  this.start = pos;\n  this.end = 0;\n  if (parser.options.locations)\n    { this.loc = new SourceLocation(parser, loc); }\n  if (parser.options.directSourceFile)\n    { this.sourceFile = parser.options.directSourceFile; }\n  if (parser.options.ranges)\n    { this.range = [pos, 0]; }\n};\n\n// Start an AST node, attaching a start offset.\n\nvar pp$2 = Parser.prototype;\n\npp$2.startNode = function() {\n  return new Node(this, this.start, this.startLoc)\n};\n\npp$2.startNodeAt = function(pos, loc) {\n  return new Node(this, pos, loc)\n};\n\n// Finish an AST node, adding `type` and `end` properties.\n\nfunction finishNodeAt(node, type, pos, loc) {\n  node.type = type;\n  node.end = pos;\n  if (this.options.locations)\n    { node.loc.end = loc; }\n  if (this.options.ranges)\n    { node.range[1] = pos; }\n  return node\n}\n\npp$2.finishNode = function(node, type) {\n  return finishNodeAt.call(this, node, type, this.lastTokEnd, this.lastTokEndLoc)\n};\n\n// Finish node at given position\n\npp$2.finishNodeAt = function(node, type, pos, loc) {\n  return finishNodeAt.call(this, node, type, pos, loc)\n};\n\npp$2.copyNode = function(node) {\n  var newNode = new Node(this, node.start, this.startLoc);\n  for (var prop in node) { newNode[prop] = node[prop]; }\n  return newNode\n};\n\n// This file contains Unicode properties extracted from the ECMAScript specification.\n// The lists are extracted like so:\n// $$('#table-binary-unicode-properties > figure > table > tbody > tr > td:nth-child(1) code').map(el => el.innerText)\n\n// #table-binary-unicode-properties\nvar ecma9BinaryProperties = \"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS\";\nvar ecma10BinaryProperties = ecma9BinaryProperties + \" Extended_Pictographic\";\nvar ecma11BinaryProperties = ecma10BinaryProperties;\nvar ecma12BinaryProperties = ecma11BinaryProperties + \" EBase EComp EMod EPres ExtPict\";\nvar ecma13BinaryProperties = ecma12BinaryProperties;\nvar ecma14BinaryProperties = ecma13BinaryProperties;\n\nvar unicodeBinaryProperties = {\n  9: ecma9BinaryProperties,\n  10: ecma10BinaryProperties,\n  11: ecma11BinaryProperties,\n  12: ecma12BinaryProperties,\n  13: ecma13BinaryProperties,\n  14: ecma14BinaryProperties\n};\n\n// #table-unicode-general-category-values\nvar unicodeGeneralCategoryValues = \"Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu\";\n\n// #table-unicode-script-values\nvar ecma9ScriptValues = \"Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb\";\nvar ecma10ScriptValues = ecma9ScriptValues + \" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd\";\nvar ecma11ScriptValues = ecma10ScriptValues + \" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho\";\nvar ecma12ScriptValues = ecma11ScriptValues + \" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi\";\nvar ecma13ScriptValues = ecma12ScriptValues + \" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith\";\nvar ecma14ScriptValues = ecma13ScriptValues + \" Kawi Nag_Mundari Nagm\";\n\nvar unicodeScriptValues = {\n  9: ecma9ScriptValues,\n  10: ecma10ScriptValues,\n  11: ecma11ScriptValues,\n  12: ecma12ScriptValues,\n  13: ecma13ScriptValues,\n  14: ecma14ScriptValues\n};\n\nvar data = {};\nfunction buildUnicodeData(ecmaVersion) {\n  var d = data[ecmaVersion] = {\n    binary: wordsRegexp(unicodeBinaryProperties[ecmaVersion] + \" \" + unicodeGeneralCategoryValues),\n    nonBinary: {\n      General_Category: wordsRegexp(unicodeGeneralCategoryValues),\n      Script: wordsRegexp(unicodeScriptValues[ecmaVersion])\n    }\n  };\n  d.nonBinary.Script_Extensions = d.nonBinary.Script;\n\n  d.nonBinary.gc = d.nonBinary.General_Category;\n  d.nonBinary.sc = d.nonBinary.Script;\n  d.nonBinary.scx = d.nonBinary.Script_Extensions;\n}\n\nfor (var i = 0, list = [9, 10, 11, 12, 13, 14]; i < list.length; i += 1) {\n  var ecmaVersion = list[i];\n\n  buildUnicodeData(ecmaVersion);\n}\n\nvar pp$1 = Parser.prototype;\n\nvar RegExpValidationState = function RegExpValidationState(parser) {\n  this.parser = parser;\n  this.validFlags = \"gim\" + (parser.options.ecmaVersion >= 6 ? \"uy\" : \"\") + (parser.options.ecmaVersion >= 9 ? \"s\" : \"\") + (parser.options.ecmaVersion >= 13 ? \"d\" : \"\");\n  this.unicodeProperties = data[parser.options.ecmaVersion >= 14 ? 14 : parser.options.ecmaVersion];\n  this.source = \"\";\n  this.flags = \"\";\n  this.start = 0;\n  this.switchU = false;\n  this.switchN = false;\n  this.pos = 0;\n  this.lastIntValue = 0;\n  this.lastStringValue = \"\";\n  this.lastAssertionIsQuantifiable = false;\n  this.numCapturingParens = 0;\n  this.maxBackReference = 0;\n  this.groupNames = [];\n  this.backReferenceNames = [];\n};\n\nRegExpValidationState.prototype.reset = function reset (start, pattern, flags) {\n  var unicode = flags.indexOf(\"u\") !== -1;\n  this.start = start | 0;\n  this.source = pattern + \"\";\n  this.flags = flags;\n  this.switchU = unicode && this.parser.options.ecmaVersion >= 6;\n  this.switchN = unicode && this.parser.options.ecmaVersion >= 9;\n};\n\nRegExpValidationState.prototype.raise = function raise (message) {\n  this.parser.raiseRecoverable(this.start, (\"Invalid regular expression: /\" + (this.source) + \"/: \" + message));\n};\n\n// If u flag is given, this returns the code point at the index (it combines a surrogate pair).\n// Otherwise, this returns the code unit of the index (can be a part of a surrogate pair).\nRegExpValidationState.prototype.at = function at (i, forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n  var s = this.source;\n  var l = s.length;\n  if (i >= l) {\n    return -1\n  }\n  var c = s.charCodeAt(i);\n  if (!(forceU || this.switchU) || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l) {\n    return c\n  }\n  var next = s.charCodeAt(i + 1);\n  return next >= 0xDC00 && next <= 0xDFFF ? (c << 10) + next - 0x35FDC00 : c\n};\n\nRegExpValidationState.prototype.nextIndex = function nextIndex (i, forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n  var s = this.source;\n  var l = s.length;\n  if (i >= l) {\n    return l\n  }\n  var c = s.charCodeAt(i), next;\n  if (!(forceU || this.switchU) || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l ||\n      (next = s.charCodeAt(i + 1)) < 0xDC00 || next > 0xDFFF) {\n    return i + 1\n  }\n  return i + 2\n};\n\nRegExpValidationState.prototype.current = function current (forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n  return this.at(this.pos, forceU)\n};\n\nRegExpValidationState.prototype.lookahead = function lookahead (forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n  return this.at(this.nextIndex(this.pos, forceU), forceU)\n};\n\nRegExpValidationState.prototype.advance = function advance (forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n  this.pos = this.nextIndex(this.pos, forceU);\n};\n\nRegExpValidationState.prototype.eat = function eat (ch, forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n  if (this.current(forceU) === ch) {\n    this.advance(forceU);\n    return true\n  }\n  return false\n};\n\n/**\n * Validate the flags part of a given RegExpLiteral.\n *\n * @param {RegExpValidationState} state The state to validate RegExp.\n * @returns {void}\n */\npp$1.validateRegExpFlags = function(state) {\n  var validFlags = state.validFlags;\n  var flags = state.flags;\n\n  for (var i = 0; i < flags.length; i++) {\n    var flag = flags.charAt(i);\n    if (validFlags.indexOf(flag) === -1) {\n      this.raise(state.start, \"Invalid regular expression flag\");\n    }\n    if (flags.indexOf(flag, i + 1) > -1) {\n      this.raise(state.start, \"Duplicate regular expression flag\");\n    }\n  }\n};\n\n/**\n * Validate the pattern part of a given RegExpLiteral.\n *\n * @param {RegExpValidationState} state The state to validate RegExp.\n * @returns {void}\n */\npp$1.validateRegExpPattern = function(state) {\n  this.regexp_pattern(state);\n\n  // The goal symbol for the parse is |Pattern[~U, ~N]|. If the result of\n  // parsing contains a |GroupName|, reparse with the goal symbol\n  // |Pattern[~U, +N]| and use this result instead. Throw a *SyntaxError*\n  // exception if _P_ did not conform to the grammar, if any elements of _P_\n  // were not matched by the parse, or if any Early Error conditions exist.\n  if (!state.switchN && this.options.ecmaVersion >= 9 && state.groupNames.length > 0) {\n    state.switchN = true;\n    this.regexp_pattern(state);\n  }\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Pattern\npp$1.regexp_pattern = function(state) {\n  state.pos = 0;\n  state.lastIntValue = 0;\n  state.lastStringValue = \"\";\n  state.lastAssertionIsQuantifiable = false;\n  state.numCapturingParens = 0;\n  state.maxBackReference = 0;\n  state.groupNames.length = 0;\n  state.backReferenceNames.length = 0;\n\n  this.regexp_disjunction(state);\n\n  if (state.pos !== state.source.length) {\n    // Make the same messages as V8.\n    if (state.eat(0x29 /* ) */)) {\n      state.raise(\"Unmatched ')'\");\n    }\n    if (state.eat(0x5D /* ] */) || state.eat(0x7D /* } */)) {\n      state.raise(\"Lone quantifier brackets\");\n    }\n  }\n  if (state.maxBackReference > state.numCapturingParens) {\n    state.raise(\"Invalid escape\");\n  }\n  for (var i = 0, list = state.backReferenceNames; i < list.length; i += 1) {\n    var name = list[i];\n\n    if (state.groupNames.indexOf(name) === -1) {\n      state.raise(\"Invalid named capture referenced\");\n    }\n  }\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Disjunction\npp$1.regexp_disjunction = function(state) {\n  this.regexp_alternative(state);\n  while (state.eat(0x7C /* | */)) {\n    this.regexp_alternative(state);\n  }\n\n  // Make the same message as V8.\n  if (this.regexp_eatQuantifier(state, true)) {\n    state.raise(\"Nothing to repeat\");\n  }\n  if (state.eat(0x7B /* { */)) {\n    state.raise(\"Lone quantifier brackets\");\n  }\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Alternative\npp$1.regexp_alternative = function(state) {\n  while (state.pos < state.source.length && this.regexp_eatTerm(state))\n    { }\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-Term\npp$1.regexp_eatTerm = function(state) {\n  if (this.regexp_eatAssertion(state)) {\n    // Handle `QuantifiableAssertion Quantifier` alternative.\n    // `state.lastAssertionIsQuantifiable` is true if the last eaten Assertion\n    // is a QuantifiableAssertion.\n    if (state.lastAssertionIsQuantifiable && this.regexp_eatQuantifier(state)) {\n      // Make the same message as V8.\n      if (state.switchU) {\n        state.raise(\"Invalid quantifier\");\n      }\n    }\n    return true\n  }\n\n  if (state.switchU ? this.regexp_eatAtom(state) : this.regexp_eatExtendedAtom(state)) {\n    this.regexp_eatQuantifier(state);\n    return true\n  }\n\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-Assertion\npp$1.regexp_eatAssertion = function(state) {\n  var start = state.pos;\n  state.lastAssertionIsQuantifiable = false;\n\n  // ^, $\n  if (state.eat(0x5E /* ^ */) || state.eat(0x24 /* $ */)) {\n    return true\n  }\n\n  // \\b \\B\n  if (state.eat(0x5C /* \\ */)) {\n    if (state.eat(0x42 /* B */) || state.eat(0x62 /* b */)) {\n      return true\n    }\n    state.pos = start;\n  }\n\n  // Lookahead / Lookbehind\n  if (state.eat(0x28 /* ( */) && state.eat(0x3F /* ? */)) {\n    var lookbehind = false;\n    if (this.options.ecmaVersion >= 9) {\n      lookbehind = state.eat(0x3C /* < */);\n    }\n    if (state.eat(0x3D /* = */) || state.eat(0x21 /* ! */)) {\n      this.regexp_disjunction(state);\n      if (!state.eat(0x29 /* ) */)) {\n        state.raise(\"Unterminated group\");\n      }\n      state.lastAssertionIsQuantifiable = !lookbehind;\n      return true\n    }\n  }\n\n  state.pos = start;\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Quantifier\npp$1.regexp_eatQuantifier = function(state, noError) {\n  if ( noError === void 0 ) noError = false;\n\n  if (this.regexp_eatQuantifierPrefix(state, noError)) {\n    state.eat(0x3F /* ? */);\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-QuantifierPrefix\npp$1.regexp_eatQuantifierPrefix = function(state, noError) {\n  return (\n    state.eat(0x2A /* * */) ||\n    state.eat(0x2B /* + */) ||\n    state.eat(0x3F /* ? */) ||\n    this.regexp_eatBracedQuantifier(state, noError)\n  )\n};\npp$1.regexp_eatBracedQuantifier = function(state, noError) {\n  var start = state.pos;\n  if (state.eat(0x7B /* { */)) {\n    var min = 0, max = -1;\n    if (this.regexp_eatDecimalDigits(state)) {\n      min = state.lastIntValue;\n      if (state.eat(0x2C /* , */) && this.regexp_eatDecimalDigits(state)) {\n        max = state.lastIntValue;\n      }\n      if (state.eat(0x7D /* } */)) {\n        // SyntaxError in https://www.ecma-international.org/ecma-262/8.0/#sec-term\n        if (max !== -1 && max < min && !noError) {\n          state.raise(\"numbers out of order in {} quantifier\");\n        }\n        return true\n      }\n    }\n    if (state.switchU && !noError) {\n      state.raise(\"Incomplete quantifier\");\n    }\n    state.pos = start;\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Atom\npp$1.regexp_eatAtom = function(state) {\n  return (\n    this.regexp_eatPatternCharacters(state) ||\n    state.eat(0x2E /* . */) ||\n    this.regexp_eatReverseSolidusAtomEscape(state) ||\n    this.regexp_eatCharacterClass(state) ||\n    this.regexp_eatUncapturingGroup(state) ||\n    this.regexp_eatCapturingGroup(state)\n  )\n};\npp$1.regexp_eatReverseSolidusAtomEscape = function(state) {\n  var start = state.pos;\n  if (state.eat(0x5C /* \\ */)) {\n    if (this.regexp_eatAtomEscape(state)) {\n      return true\n    }\n    state.pos = start;\n  }\n  return false\n};\npp$1.regexp_eatUncapturingGroup = function(state) {\n  var start = state.pos;\n  if (state.eat(0x28 /* ( */)) {\n    if (state.eat(0x3F /* ? */) && state.eat(0x3A /* : */)) {\n      this.regexp_disjunction(state);\n      if (state.eat(0x29 /* ) */)) {\n        return true\n      }\n      state.raise(\"Unterminated group\");\n    }\n    state.pos = start;\n  }\n  return false\n};\npp$1.regexp_eatCapturingGroup = function(state) {\n  if (state.eat(0x28 /* ( */)) {\n    if (this.options.ecmaVersion >= 9) {\n      this.regexp_groupSpecifier(state);\n    } else if (state.current() === 0x3F /* ? */) {\n      state.raise(\"Invalid group\");\n    }\n    this.regexp_disjunction(state);\n    if (state.eat(0x29 /* ) */)) {\n      state.numCapturingParens += 1;\n      return true\n    }\n    state.raise(\"Unterminated group\");\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ExtendedAtom\npp$1.regexp_eatExtendedAtom = function(state) {\n  return (\n    state.eat(0x2E /* . */) ||\n    this.regexp_eatReverseSolidusAtomEscape(state) ||\n    this.regexp_eatCharacterClass(state) ||\n    this.regexp_eatUncapturingGroup(state) ||\n    this.regexp_eatCapturingGroup(state) ||\n    this.regexp_eatInvalidBracedQuantifier(state) ||\n    this.regexp_eatExtendedPatternCharacter(state)\n  )\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-InvalidBracedQuantifier\npp$1.regexp_eatInvalidBracedQuantifier = function(state) {\n  if (this.regexp_eatBracedQuantifier(state, true)) {\n    state.raise(\"Nothing to repeat\");\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-SyntaxCharacter\npp$1.regexp_eatSyntaxCharacter = function(state) {\n  var ch = state.current();\n  if (isSyntaxCharacter(ch)) {\n    state.lastIntValue = ch;\n    state.advance();\n    return true\n  }\n  return false\n};\nfunction isSyntaxCharacter(ch) {\n  return (\n    ch === 0x24 /* $ */ ||\n    ch >= 0x28 /* ( */ && ch <= 0x2B /* + */ ||\n    ch === 0x2E /* . */ ||\n    ch === 0x3F /* ? */ ||\n    ch >= 0x5B /* [ */ && ch <= 0x5E /* ^ */ ||\n    ch >= 0x7B /* { */ && ch <= 0x7D /* } */\n  )\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-PatternCharacter\n// But eat eager.\npp$1.regexp_eatPatternCharacters = function(state) {\n  var start = state.pos;\n  var ch = 0;\n  while ((ch = state.current()) !== -1 && !isSyntaxCharacter(ch)) {\n    state.advance();\n  }\n  return state.pos !== start\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ExtendedPatternCharacter\npp$1.regexp_eatExtendedPatternCharacter = function(state) {\n  var ch = state.current();\n  if (\n    ch !== -1 &&\n    ch !== 0x24 /* $ */ &&\n    !(ch >= 0x28 /* ( */ && ch <= 0x2B /* + */) &&\n    ch !== 0x2E /* . */ &&\n    ch !== 0x3F /* ? */ &&\n    ch !== 0x5B /* [ */ &&\n    ch !== 0x5E /* ^ */ &&\n    ch !== 0x7C /* | */\n  ) {\n    state.advance();\n    return true\n  }\n  return false\n};\n\n// GroupSpecifier ::\n//   [empty]\n//   `?` GroupName\npp$1.regexp_groupSpecifier = function(state) {\n  if (state.eat(0x3F /* ? */)) {\n    if (this.regexp_eatGroupName(state)) {\n      if (state.groupNames.indexOf(state.lastStringValue) !== -1) {\n        state.raise(\"Duplicate capture group name\");\n      }\n      state.groupNames.push(state.lastStringValue);\n      return\n    }\n    state.raise(\"Invalid group\");\n  }\n};\n\n// GroupName ::\n//   `<` RegExpIdentifierName `>`\n// Note: this updates `state.lastStringValue` property with the eaten name.\npp$1.regexp_eatGroupName = function(state) {\n  state.lastStringValue = \"\";\n  if (state.eat(0x3C /* < */)) {\n    if (this.regexp_eatRegExpIdentifierName(state) && state.eat(0x3E /* > */)) {\n      return true\n    }\n    state.raise(\"Invalid capture group name\");\n  }\n  return false\n};\n\n// RegExpIdentifierName ::\n//   RegExpIdentifierStart\n//   RegExpIdentifierName RegExpIdentifierPart\n// Note: this updates `state.lastStringValue` property with the eaten name.\npp$1.regexp_eatRegExpIdentifierName = function(state) {\n  state.lastStringValue = \"\";\n  if (this.regexp_eatRegExpIdentifierStart(state)) {\n    state.lastStringValue += codePointToString(state.lastIntValue);\n    while (this.regexp_eatRegExpIdentifierPart(state)) {\n      state.lastStringValue += codePointToString(state.lastIntValue);\n    }\n    return true\n  }\n  return false\n};\n\n// RegExpIdentifierStart ::\n//   UnicodeIDStart\n//   `$`\n//   `_`\n//   `\\` RegExpUnicodeEscapeSequence[+U]\npp$1.regexp_eatRegExpIdentifierStart = function(state) {\n  var start = state.pos;\n  var forceU = this.options.ecmaVersion >= 11;\n  var ch = state.current(forceU);\n  state.advance(forceU);\n\n  if (ch === 0x5C /* \\ */ && this.regexp_eatRegExpUnicodeEscapeSequence(state, forceU)) {\n    ch = state.lastIntValue;\n  }\n  if (isRegExpIdentifierStart(ch)) {\n    state.lastIntValue = ch;\n    return true\n  }\n\n  state.pos = start;\n  return false\n};\nfunction isRegExpIdentifierStart(ch) {\n  return isIdentifierStart(ch, true) || ch === 0x24 /* $ */ || ch === 0x5F /* _ */\n}\n\n// RegExpIdentifierPart ::\n//   UnicodeIDContinue\n//   `$`\n//   `_`\n//   `\\` RegExpUnicodeEscapeSequence[+U]\n//   <ZWNJ>\n//   <ZWJ>\npp$1.regexp_eatRegExpIdentifierPart = function(state) {\n  var start = state.pos;\n  var forceU = this.options.ecmaVersion >= 11;\n  var ch = state.current(forceU);\n  state.advance(forceU);\n\n  if (ch === 0x5C /* \\ */ && this.regexp_eatRegExpUnicodeEscapeSequence(state, forceU)) {\n    ch = state.lastIntValue;\n  }\n  if (isRegExpIdentifierPart(ch)) {\n    state.lastIntValue = ch;\n    return true\n  }\n\n  state.pos = start;\n  return false\n};\nfunction isRegExpIdentifierPart(ch) {\n  return isIdentifierChar(ch, true) || ch === 0x24 /* $ */ || ch === 0x5F /* _ */ || ch === 0x200C /* <ZWNJ> */ || ch === 0x200D /* <ZWJ> */\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-AtomEscape\npp$1.regexp_eatAtomEscape = function(state) {\n  if (\n    this.regexp_eatBackReference(state) ||\n    this.regexp_eatCharacterClassEscape(state) ||\n    this.regexp_eatCharacterEscape(state) ||\n    (state.switchN && this.regexp_eatKGroupName(state))\n  ) {\n    return true\n  }\n  if (state.switchU) {\n    // Make the same message as V8.\n    if (state.current() === 0x63 /* c */) {\n      state.raise(\"Invalid unicode escape\");\n    }\n    state.raise(\"Invalid escape\");\n  }\n  return false\n};\npp$1.regexp_eatBackReference = function(state) {\n  var start = state.pos;\n  if (this.regexp_eatDecimalEscape(state)) {\n    var n = state.lastIntValue;\n    if (state.switchU) {\n      // For SyntaxError in https://www.ecma-international.org/ecma-262/8.0/#sec-atomescape\n      if (n > state.maxBackReference) {\n        state.maxBackReference = n;\n      }\n      return true\n    }\n    if (n <= state.numCapturingParens) {\n      return true\n    }\n    state.pos = start;\n  }\n  return false\n};\npp$1.regexp_eatKGroupName = function(state) {\n  if (state.eat(0x6B /* k */)) {\n    if (this.regexp_eatGroupName(state)) {\n      state.backReferenceNames.push(state.lastStringValue);\n      return true\n    }\n    state.raise(\"Invalid named reference\");\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-CharacterEscape\npp$1.regexp_eatCharacterEscape = function(state) {\n  return (\n    this.regexp_eatControlEscape(state) ||\n    this.regexp_eatCControlLetter(state) ||\n    this.regexp_eatZero(state) ||\n    this.regexp_eatHexEscapeSequence(state) ||\n    this.regexp_eatRegExpUnicodeEscapeSequence(state, false) ||\n    (!state.switchU && this.regexp_eatLegacyOctalEscapeSequence(state)) ||\n    this.regexp_eatIdentityEscape(state)\n  )\n};\npp$1.regexp_eatCControlLetter = function(state) {\n  var start = state.pos;\n  if (state.eat(0x63 /* c */)) {\n    if (this.regexp_eatControlLetter(state)) {\n      return true\n    }\n    state.pos = start;\n  }\n  return false\n};\npp$1.regexp_eatZero = function(state) {\n  if (state.current() === 0x30 /* 0 */ && !isDecimalDigit(state.lookahead())) {\n    state.lastIntValue = 0;\n    state.advance();\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ControlEscape\npp$1.regexp_eatControlEscape = function(state) {\n  var ch = state.current();\n  if (ch === 0x74 /* t */) {\n    state.lastIntValue = 0x09; /* \\t */\n    state.advance();\n    return true\n  }\n  if (ch === 0x6E /* n */) {\n    state.lastIntValue = 0x0A; /* \\n */\n    state.advance();\n    return true\n  }\n  if (ch === 0x76 /* v */) {\n    state.lastIntValue = 0x0B; /* \\v */\n    state.advance();\n    return true\n  }\n  if (ch === 0x66 /* f */) {\n    state.lastIntValue = 0x0C; /* \\f */\n    state.advance();\n    return true\n  }\n  if (ch === 0x72 /* r */) {\n    state.lastIntValue = 0x0D; /* \\r */\n    state.advance();\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ControlLetter\npp$1.regexp_eatControlLetter = function(state) {\n  var ch = state.current();\n  if (isControlLetter(ch)) {\n    state.lastIntValue = ch % 0x20;\n    state.advance();\n    return true\n  }\n  return false\n};\nfunction isControlLetter(ch) {\n  return (\n    (ch >= 0x41 /* A */ && ch <= 0x5A /* Z */) ||\n    (ch >= 0x61 /* a */ && ch <= 0x7A /* z */)\n  )\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-RegExpUnicodeEscapeSequence\npp$1.regexp_eatRegExpUnicodeEscapeSequence = function(state, forceU) {\n  if ( forceU === void 0 ) forceU = false;\n\n  var start = state.pos;\n  var switchU = forceU || state.switchU;\n\n  if (state.eat(0x75 /* u */)) {\n    if (this.regexp_eatFixedHexDigits(state, 4)) {\n      var lead = state.lastIntValue;\n      if (switchU && lead >= 0xD800 && lead <= 0xDBFF) {\n        var leadSurrogateEnd = state.pos;\n        if (state.eat(0x5C /* \\ */) && state.eat(0x75 /* u */) && this.regexp_eatFixedHexDigits(state, 4)) {\n          var trail = state.lastIntValue;\n          if (trail >= 0xDC00 && trail <= 0xDFFF) {\n            state.lastIntValue = (lead - 0xD800) * 0x400 + (trail - 0xDC00) + 0x10000;\n            return true\n          }\n        }\n        state.pos = leadSurrogateEnd;\n        state.lastIntValue = lead;\n      }\n      return true\n    }\n    if (\n      switchU &&\n      state.eat(0x7B /* { */) &&\n      this.regexp_eatHexDigits(state) &&\n      state.eat(0x7D /* } */) &&\n      isValidUnicode(state.lastIntValue)\n    ) {\n      return true\n    }\n    if (switchU) {\n      state.raise(\"Invalid unicode escape\");\n    }\n    state.pos = start;\n  }\n\n  return false\n};\nfunction isValidUnicode(ch) {\n  return ch >= 0 && ch <= 0x10FFFF\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-IdentityEscape\npp$1.regexp_eatIdentityEscape = function(state) {\n  if (state.switchU) {\n    if (this.regexp_eatSyntaxCharacter(state)) {\n      return true\n    }\n    if (state.eat(0x2F /* / */)) {\n      state.lastIntValue = 0x2F; /* / */\n      return true\n    }\n    return false\n  }\n\n  var ch = state.current();\n  if (ch !== 0x63 /* c */ && (!state.switchN || ch !== 0x6B /* k */)) {\n    state.lastIntValue = ch;\n    state.advance();\n    return true\n  }\n\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-DecimalEscape\npp$1.regexp_eatDecimalEscape = function(state) {\n  state.lastIntValue = 0;\n  var ch = state.current();\n  if (ch >= 0x31 /* 1 */ && ch <= 0x39 /* 9 */) {\n    do {\n      state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 /* 0 */);\n      state.advance();\n    } while ((ch = state.current()) >= 0x30 /* 0 */ && ch <= 0x39 /* 9 */)\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-CharacterClassEscape\npp$1.regexp_eatCharacterClassEscape = function(state) {\n  var ch = state.current();\n\n  if (isCharacterClassEscape(ch)) {\n    state.lastIntValue = -1;\n    state.advance();\n    return true\n  }\n\n  if (\n    state.switchU &&\n    this.options.ecmaVersion >= 9 &&\n    (ch === 0x50 /* P */ || ch === 0x70 /* p */)\n  ) {\n    state.lastIntValue = -1;\n    state.advance();\n    if (\n      state.eat(0x7B /* { */) &&\n      this.regexp_eatUnicodePropertyValueExpression(state) &&\n      state.eat(0x7D /* } */)\n    ) {\n      return true\n    }\n    state.raise(\"Invalid property name\");\n  }\n\n  return false\n};\nfunction isCharacterClassEscape(ch) {\n  return (\n    ch === 0x64 /* d */ ||\n    ch === 0x44 /* D */ ||\n    ch === 0x73 /* s */ ||\n    ch === 0x53 /* S */ ||\n    ch === 0x77 /* w */ ||\n    ch === 0x57 /* W */\n  )\n}\n\n// UnicodePropertyValueExpression ::\n//   UnicodePropertyName `=` UnicodePropertyValue\n//   LoneUnicodePropertyNameOrValue\npp$1.regexp_eatUnicodePropertyValueExpression = function(state) {\n  var start = state.pos;\n\n  // UnicodePropertyName `=` UnicodePropertyValue\n  if (this.regexp_eatUnicodePropertyName(state) && state.eat(0x3D /* = */)) {\n    var name = state.lastStringValue;\n    if (this.regexp_eatUnicodePropertyValue(state)) {\n      var value = state.lastStringValue;\n      this.regexp_validateUnicodePropertyNameAndValue(state, name, value);\n      return true\n    }\n  }\n  state.pos = start;\n\n  // LoneUnicodePropertyNameOrValue\n  if (this.regexp_eatLoneUnicodePropertyNameOrValue(state)) {\n    var nameOrValue = state.lastStringValue;\n    this.regexp_validateUnicodePropertyNameOrValue(state, nameOrValue);\n    return true\n  }\n  return false\n};\npp$1.regexp_validateUnicodePropertyNameAndValue = function(state, name, value) {\n  if (!hasOwn(state.unicodeProperties.nonBinary, name))\n    { state.raise(\"Invalid property name\"); }\n  if (!state.unicodeProperties.nonBinary[name].test(value))\n    { state.raise(\"Invalid property value\"); }\n};\npp$1.regexp_validateUnicodePropertyNameOrValue = function(state, nameOrValue) {\n  if (!state.unicodeProperties.binary.test(nameOrValue))\n    { state.raise(\"Invalid property name\"); }\n};\n\n// UnicodePropertyName ::\n//   UnicodePropertyNameCharacters\npp$1.regexp_eatUnicodePropertyName = function(state) {\n  var ch = 0;\n  state.lastStringValue = \"\";\n  while (isUnicodePropertyNameCharacter(ch = state.current())) {\n    state.lastStringValue += codePointToString(ch);\n    state.advance();\n  }\n  return state.lastStringValue !== \"\"\n};\nfunction isUnicodePropertyNameCharacter(ch) {\n  return isControlLetter(ch) || ch === 0x5F /* _ */\n}\n\n// UnicodePropertyValue ::\n//   UnicodePropertyValueCharacters\npp$1.regexp_eatUnicodePropertyValue = function(state) {\n  var ch = 0;\n  state.lastStringValue = \"\";\n  while (isUnicodePropertyValueCharacter(ch = state.current())) {\n    state.lastStringValue += codePointToString(ch);\n    state.advance();\n  }\n  return state.lastStringValue !== \"\"\n};\nfunction isUnicodePropertyValueCharacter(ch) {\n  return isUnicodePropertyNameCharacter(ch) || isDecimalDigit(ch)\n}\n\n// LoneUnicodePropertyNameOrValue ::\n//   UnicodePropertyValueCharacters\npp$1.regexp_eatLoneUnicodePropertyNameOrValue = function(state) {\n  return this.regexp_eatUnicodePropertyValue(state)\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-CharacterClass\npp$1.regexp_eatCharacterClass = function(state) {\n  if (state.eat(0x5B /* [ */)) {\n    state.eat(0x5E /* ^ */);\n    this.regexp_classRanges(state);\n    if (state.eat(0x5D /* ] */)) {\n      return true\n    }\n    // Unreachable since it threw \"unterminated regular expression\" error before.\n    state.raise(\"Unterminated character class\");\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ClassRanges\n// https://www.ecma-international.org/ecma-262/8.0/#prod-NonemptyClassRanges\n// https://www.ecma-international.org/ecma-262/8.0/#prod-NonemptyClassRangesNoDash\npp$1.regexp_classRanges = function(state) {\n  while (this.regexp_eatClassAtom(state)) {\n    var left = state.lastIntValue;\n    if (state.eat(0x2D /* - */) && this.regexp_eatClassAtom(state)) {\n      var right = state.lastIntValue;\n      if (state.switchU && (left === -1 || right === -1)) {\n        state.raise(\"Invalid character class\");\n      }\n      if (left !== -1 && right !== -1 && left > right) {\n        state.raise(\"Range out of order in character class\");\n      }\n    }\n  }\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ClassAtom\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ClassAtomNoDash\npp$1.regexp_eatClassAtom = function(state) {\n  var start = state.pos;\n\n  if (state.eat(0x5C /* \\ */)) {\n    if (this.regexp_eatClassEscape(state)) {\n      return true\n    }\n    if (state.switchU) {\n      // Make the same message as V8.\n      var ch$1 = state.current();\n      if (ch$1 === 0x63 /* c */ || isOctalDigit(ch$1)) {\n        state.raise(\"Invalid class escape\");\n      }\n      state.raise(\"Invalid escape\");\n    }\n    state.pos = start;\n  }\n\n  var ch = state.current();\n  if (ch !== 0x5D /* ] */) {\n    state.lastIntValue = ch;\n    state.advance();\n    return true\n  }\n\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ClassEscape\npp$1.regexp_eatClassEscape = function(state) {\n  var start = state.pos;\n\n  if (state.eat(0x62 /* b */)) {\n    state.lastIntValue = 0x08; /* <BS> */\n    return true\n  }\n\n  if (state.switchU && state.eat(0x2D /* - */)) {\n    state.lastIntValue = 0x2D; /* - */\n    return true\n  }\n\n  if (!state.switchU && state.eat(0x63 /* c */)) {\n    if (this.regexp_eatClassControlLetter(state)) {\n      return true\n    }\n    state.pos = start;\n  }\n\n  return (\n    this.regexp_eatCharacterClassEscape(state) ||\n    this.regexp_eatCharacterEscape(state)\n  )\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ClassControlLetter\npp$1.regexp_eatClassControlLetter = function(state) {\n  var ch = state.current();\n  if (isDecimalDigit(ch) || ch === 0x5F /* _ */) {\n    state.lastIntValue = ch % 0x20;\n    state.advance();\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-HexEscapeSequence\npp$1.regexp_eatHexEscapeSequence = function(state) {\n  var start = state.pos;\n  if (state.eat(0x78 /* x */)) {\n    if (this.regexp_eatFixedHexDigits(state, 2)) {\n      return true\n    }\n    if (state.switchU) {\n      state.raise(\"Invalid escape\");\n    }\n    state.pos = start;\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-DecimalDigits\npp$1.regexp_eatDecimalDigits = function(state) {\n  var start = state.pos;\n  var ch = 0;\n  state.lastIntValue = 0;\n  while (isDecimalDigit(ch = state.current())) {\n    state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 /* 0 */);\n    state.advance();\n  }\n  return state.pos !== start\n};\nfunction isDecimalDigit(ch) {\n  return ch >= 0x30 /* 0 */ && ch <= 0x39 /* 9 */\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-HexDigits\npp$1.regexp_eatHexDigits = function(state) {\n  var start = state.pos;\n  var ch = 0;\n  state.lastIntValue = 0;\n  while (isHexDigit(ch = state.current())) {\n    state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n    state.advance();\n  }\n  return state.pos !== start\n};\nfunction isHexDigit(ch) {\n  return (\n    (ch >= 0x30 /* 0 */ && ch <= 0x39 /* 9 */) ||\n    (ch >= 0x41 /* A */ && ch <= 0x46 /* F */) ||\n    (ch >= 0x61 /* a */ && ch <= 0x66 /* f */)\n  )\n}\nfunction hexToInt(ch) {\n  if (ch >= 0x41 /* A */ && ch <= 0x46 /* F */) {\n    return 10 + (ch - 0x41 /* A */)\n  }\n  if (ch >= 0x61 /* a */ && ch <= 0x66 /* f */) {\n    return 10 + (ch - 0x61 /* a */)\n  }\n  return ch - 0x30 /* 0 */\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-LegacyOctalEscapeSequence\n// Allows only 0-377(octal) i.e. 0-255(decimal).\npp$1.regexp_eatLegacyOctalEscapeSequence = function(state) {\n  if (this.regexp_eatOctalDigit(state)) {\n    var n1 = state.lastIntValue;\n    if (this.regexp_eatOctalDigit(state)) {\n      var n2 = state.lastIntValue;\n      if (n1 <= 3 && this.regexp_eatOctalDigit(state)) {\n        state.lastIntValue = n1 * 64 + n2 * 8 + state.lastIntValue;\n      } else {\n        state.lastIntValue = n1 * 8 + n2;\n      }\n    } else {\n      state.lastIntValue = n1;\n    }\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-OctalDigit\npp$1.regexp_eatOctalDigit = function(state) {\n  var ch = state.current();\n  if (isOctalDigit(ch)) {\n    state.lastIntValue = ch - 0x30; /* 0 */\n    state.advance();\n    return true\n  }\n  state.lastIntValue = 0;\n  return false\n};\nfunction isOctalDigit(ch) {\n  return ch >= 0x30 /* 0 */ && ch <= 0x37 /* 7 */\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Hex4Digits\n// https://www.ecma-international.org/ecma-262/8.0/#prod-HexDigit\n// And HexDigit HexDigit in https://www.ecma-international.org/ecma-262/8.0/#prod-HexEscapeSequence\npp$1.regexp_eatFixedHexDigits = function(state, length) {\n  var start = state.pos;\n  state.lastIntValue = 0;\n  for (var i = 0; i < length; ++i) {\n    var ch = state.current();\n    if (!isHexDigit(ch)) {\n      state.pos = start;\n      return false\n    }\n    state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n    state.advance();\n  }\n  return true\n};\n\n// Object type used to represent tokens. Note that normally, tokens\n// simply exist as properties on the parser object. This is only\n// used for the onToken callback and the external tokenizer.\n\nvar Token = function Token(p) {\n  this.type = p.type;\n  this.value = p.value;\n  this.start = p.start;\n  this.end = p.end;\n  if (p.options.locations)\n    { this.loc = new SourceLocation(p, p.startLoc, p.endLoc); }\n  if (p.options.ranges)\n    { this.range = [p.start, p.end]; }\n};\n\n// ## Tokenizer\n\nvar pp = Parser.prototype;\n\n// Move to the next token\n\npp.next = function(ignoreEscapeSequenceInKeyword) {\n  if (!ignoreEscapeSequenceInKeyword && this.type.keyword && this.containsEsc)\n    { this.raiseRecoverable(this.start, \"Escape sequence in keyword \" + this.type.keyword); }\n  if (this.options.onToken)\n    { this.options.onToken(new Token(this)); }\n\n  this.lastTokEnd = this.end;\n  this.lastTokStart = this.start;\n  this.lastTokEndLoc = this.endLoc;\n  this.lastTokStartLoc = this.startLoc;\n  this.nextToken();\n};\n\npp.getToken = function() {\n  this.next();\n  return new Token(this)\n};\n\n// If we're in an ES6 environment, make parsers iterable\nif (typeof Symbol !== \"undefined\")\n  { pp[Symbol.iterator] = function() {\n    var this$1$1 = this;\n\n    return {\n      next: function () {\n        var token = this$1$1.getToken();\n        return {\n          done: token.type === types$1.eof,\n          value: token\n        }\n      }\n    }\n  }; }\n\n// Toggle strict mode. Re-reads the next number or string to please\n// pedantic tests (`\"use strict\"; 010;` should fail).\n\n// Read a single token, updating the parser object's token-related\n// properties.\n\npp.nextToken = function() {\n  var curContext = this.curContext();\n  if (!curContext || !curContext.preserveSpace) { this.skipSpace(); }\n\n  this.start = this.pos;\n  if (this.options.locations) { this.startLoc = this.curPosition(); }\n  if (this.pos >= this.input.length) { return this.finishToken(types$1.eof) }\n\n  if (curContext.override) { return curContext.override(this) }\n  else { this.readToken(this.fullCharCodeAtPos()); }\n};\n\npp.readToken = function(code) {\n  // Identifier or keyword. '\\uXXXX' sequences are allowed in\n  // identifiers, so '\\' also dispatches to that.\n  if (isIdentifierStart(code, this.options.ecmaVersion >= 6) || code === 92 /* '\\' */)\n    { return this.readWord() }\n\n  return this.getTokenFromCode(code)\n};\n\npp.fullCharCodeAtPos = function() {\n  var code = this.input.charCodeAt(this.pos);\n  if (code <= 0xd7ff || code >= 0xdc00) { return code }\n  var next = this.input.charCodeAt(this.pos + 1);\n  return next <= 0xdbff || next >= 0xe000 ? code : (code << 10) + next - 0x35fdc00\n};\n\npp.skipBlockComment = function() {\n  var startLoc = this.options.onComment && this.curPosition();\n  var start = this.pos, end = this.input.indexOf(\"*/\", this.pos += 2);\n  if (end === -1) { this.raise(this.pos - 2, \"Unterminated comment\"); }\n  this.pos = end + 2;\n  if (this.options.locations) {\n    for (var nextBreak = (void 0), pos = start; (nextBreak = nextLineBreak(this.input, pos, this.pos)) > -1;) {\n      ++this.curLine;\n      pos = this.lineStart = nextBreak;\n    }\n  }\n  if (this.options.onComment)\n    { this.options.onComment(true, this.input.slice(start + 2, end), start, this.pos,\n                           startLoc, this.curPosition()); }\n};\n\npp.skipLineComment = function(startSkip) {\n  var start = this.pos;\n  var startLoc = this.options.onComment && this.curPosition();\n  var ch = this.input.charCodeAt(this.pos += startSkip);\n  while (this.pos < this.input.length && !isNewLine(ch)) {\n    ch = this.input.charCodeAt(++this.pos);\n  }\n  if (this.options.onComment)\n    { this.options.onComment(false, this.input.slice(start + startSkip, this.pos), start, this.pos,\n                           startLoc, this.curPosition()); }\n};\n\n// Called at the start of the parse and after every token. Skips\n// whitespace and comments, and.\n\npp.skipSpace = function() {\n  loop: while (this.pos < this.input.length) {\n    var ch = this.input.charCodeAt(this.pos);\n    switch (ch) {\n    case 32: case 160: // ' '\n      ++this.pos;\n      break\n    case 13:\n      if (this.input.charCodeAt(this.pos + 1) === 10) {\n        ++this.pos;\n      }\n    case 10: case 8232: case 8233:\n      ++this.pos;\n      if (this.options.locations) {\n        ++this.curLine;\n        this.lineStart = this.pos;\n      }\n      break\n    case 47: // '/'\n      switch (this.input.charCodeAt(this.pos + 1)) {\n      case 42: // '*'\n        this.skipBlockComment();\n        break\n      case 47:\n        this.skipLineComment(2);\n        break\n      default:\n        break loop\n      }\n      break\n    default:\n      if (ch > 8 && ch < 14 || ch >= 5760 && nonASCIIwhitespace.test(String.fromCharCode(ch))) {\n        ++this.pos;\n      } else {\n        break loop\n      }\n    }\n  }\n};\n\n// Called at the end of every token. Sets `end`, `val`, and\n// maintains `context` and `exprAllowed`, and skips the space after\n// the token, so that the next one's `start` will point at the\n// right position.\n\npp.finishToken = function(type, val) {\n  this.end = this.pos;\n  if (this.options.locations) { this.endLoc = this.curPosition(); }\n  var prevType = this.type;\n  this.type = type;\n  this.value = val;\n\n  this.updateContext(prevType);\n};\n\n// ### Token reading\n\n// This is the function that is called to fetch the next token. It\n// is somewhat obscure, because it works in character codes rather\n// than characters, and because operator parsing has been inlined\n// into it.\n//\n// All in the name of speed.\n//\npp.readToken_dot = function() {\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (next >= 48 && next <= 57) { return this.readNumber(true) }\n  var next2 = this.input.charCodeAt(this.pos + 2);\n  if (this.options.ecmaVersion >= 6 && next === 46 && next2 === 46) { // 46 = dot '.'\n    this.pos += 3;\n    return this.finishToken(types$1.ellipsis)\n  } else {\n    ++this.pos;\n    return this.finishToken(types$1.dot)\n  }\n};\n\npp.readToken_slash = function() { // '/'\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (this.exprAllowed) { ++this.pos; return this.readRegexp() }\n  if (next === 61) { return this.finishOp(types$1.assign, 2) }\n  return this.finishOp(types$1.slash, 1)\n};\n\npp.readToken_mult_modulo_exp = function(code) { // '%*'\n  var next = this.input.charCodeAt(this.pos + 1);\n  var size = 1;\n  var tokentype = code === 42 ? types$1.star : types$1.modulo;\n\n  // exponentiation operator ** and **=\n  if (this.options.ecmaVersion >= 7 && code === 42 && next === 42) {\n    ++size;\n    tokentype = types$1.starstar;\n    next = this.input.charCodeAt(this.pos + 2);\n  }\n\n  if (next === 61) { return this.finishOp(types$1.assign, size + 1) }\n  return this.finishOp(tokentype, size)\n};\n\npp.readToken_pipe_amp = function(code) { // '|&'\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (next === code) {\n    if (this.options.ecmaVersion >= 12) {\n      var next2 = this.input.charCodeAt(this.pos + 2);\n      if (next2 === 61) { return this.finishOp(types$1.assign, 3) }\n    }\n    return this.finishOp(code === 124 ? types$1.logicalOR : types$1.logicalAND, 2)\n  }\n  if (next === 61) { return this.finishOp(types$1.assign, 2) }\n  return this.finishOp(code === 124 ? types$1.bitwiseOR : types$1.bitwiseAND, 1)\n};\n\npp.readToken_caret = function() { // '^'\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (next === 61) { return this.finishOp(types$1.assign, 2) }\n  return this.finishOp(types$1.bitwiseXOR, 1)\n};\n\npp.readToken_plus_min = function(code) { // '+-'\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (next === code) {\n    if (next === 45 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 62 &&\n        (this.lastTokEnd === 0 || lineBreak.test(this.input.slice(this.lastTokEnd, this.pos)))) {\n      // A `-->` line comment\n      this.skipLineComment(3);\n      this.skipSpace();\n      return this.nextToken()\n    }\n    return this.finishOp(types$1.incDec, 2)\n  }\n  if (next === 61) { return this.finishOp(types$1.assign, 2) }\n  return this.finishOp(types$1.plusMin, 1)\n};\n\npp.readToken_lt_gt = function(code) { // '<>'\n  var next = this.input.charCodeAt(this.pos + 1);\n  var size = 1;\n  if (next === code) {\n    size = code === 62 && this.input.charCodeAt(this.pos + 2) === 62 ? 3 : 2;\n    if (this.input.charCodeAt(this.pos + size) === 61) { return this.finishOp(types$1.assign, size + 1) }\n    return this.finishOp(types$1.bitShift, size)\n  }\n  if (next === 33 && code === 60 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 45 &&\n      this.input.charCodeAt(this.pos + 3) === 45) {\n    // `<!--`, an XML-style comment that should be interpreted as a line comment\n    this.skipLineComment(4);\n    this.skipSpace();\n    return this.nextToken()\n  }\n  if (next === 61) { size = 2; }\n  return this.finishOp(types$1.relational, size)\n};\n\npp.readToken_eq_excl = function(code) { // '=!'\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (next === 61) { return this.finishOp(types$1.equality, this.input.charCodeAt(this.pos + 2) === 61 ? 3 : 2) }\n  if (code === 61 && next === 62 && this.options.ecmaVersion >= 6) { // '=>'\n    this.pos += 2;\n    return this.finishToken(types$1.arrow)\n  }\n  return this.finishOp(code === 61 ? types$1.eq : types$1.prefix, 1)\n};\n\npp.readToken_question = function() { // '?'\n  var ecmaVersion = this.options.ecmaVersion;\n  if (ecmaVersion >= 11) {\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === 46) {\n      var next2 = this.input.charCodeAt(this.pos + 2);\n      if (next2 < 48 || next2 > 57) { return this.finishOp(types$1.questionDot, 2) }\n    }\n    if (next === 63) {\n      if (ecmaVersion >= 12) {\n        var next2$1 = this.input.charCodeAt(this.pos + 2);\n        if (next2$1 === 61) { return this.finishOp(types$1.assign, 3) }\n      }\n      return this.finishOp(types$1.coalesce, 2)\n    }\n  }\n  return this.finishOp(types$1.question, 1)\n};\n\npp.readToken_numberSign = function() { // '#'\n  var ecmaVersion = this.options.ecmaVersion;\n  var code = 35; // '#'\n  if (ecmaVersion >= 13) {\n    ++this.pos;\n    code = this.fullCharCodeAtPos();\n    if (isIdentifierStart(code, true) || code === 92 /* '\\' */) {\n      return this.finishToken(types$1.privateId, this.readWord1())\n    }\n  }\n\n  this.raise(this.pos, \"Unexpected character '\" + codePointToString(code) + \"'\");\n};\n\npp.getTokenFromCode = function(code) {\n  switch (code) {\n  // The interpretation of a dot depends on whether it is followed\n  // by a digit or another two dots.\n  case 46: // '.'\n    return this.readToken_dot()\n\n  // Punctuation tokens.\n  case 40: ++this.pos; return this.finishToken(types$1.parenL)\n  case 41: ++this.pos; return this.finishToken(types$1.parenR)\n  case 59: ++this.pos; return this.finishToken(types$1.semi)\n  case 44: ++this.pos; return this.finishToken(types$1.comma)\n  case 91: ++this.pos; return this.finishToken(types$1.bracketL)\n  case 93: ++this.pos; return this.finishToken(types$1.bracketR)\n  case 123: ++this.pos; return this.finishToken(types$1.braceL)\n  case 125: ++this.pos; return this.finishToken(types$1.braceR)\n  case 58: ++this.pos; return this.finishToken(types$1.colon)\n\n  case 96: // '`'\n    if (this.options.ecmaVersion < 6) { break }\n    ++this.pos;\n    return this.finishToken(types$1.backQuote)\n\n  case 48: // '0'\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === 120 || next === 88) { return this.readRadixNumber(16) } // '0x', '0X' - hex number\n    if (this.options.ecmaVersion >= 6) {\n      if (next === 111 || next === 79) { return this.readRadixNumber(8) } // '0o', '0O' - octal number\n      if (next === 98 || next === 66) { return this.readRadixNumber(2) } // '0b', '0B' - binary number\n    }\n\n  // Anything else beginning with a digit is an integer, octal\n  // number, or float.\n  case 49: case 50: case 51: case 52: case 53: case 54: case 55: case 56: case 57: // 1-9\n    return this.readNumber(false)\n\n  // Quotes produce strings.\n  case 34: case 39: // '\"', \"'\"\n    return this.readString(code)\n\n  // Operators are parsed inline in tiny state machines. '=' (61) is\n  // often referred to. `finishOp` simply skips the amount of\n  // characters it is given as second argument, and returns a token\n  // of the type given by its first argument.\n  case 47: // '/'\n    return this.readToken_slash()\n\n  case 37: case 42: // '%*'\n    return this.readToken_mult_modulo_exp(code)\n\n  case 124: case 38: // '|&'\n    return this.readToken_pipe_amp(code)\n\n  case 94: // '^'\n    return this.readToken_caret()\n\n  case 43: case 45: // '+-'\n    return this.readToken_plus_min(code)\n\n  case 60: case 62: // '<>'\n    return this.readToken_lt_gt(code)\n\n  case 61: case 33: // '=!'\n    return this.readToken_eq_excl(code)\n\n  case 63: // '?'\n    return this.readToken_question()\n\n  case 126: // '~'\n    return this.finishOp(types$1.prefix, 1)\n\n  case 35: // '#'\n    return this.readToken_numberSign()\n  }\n\n  this.raise(this.pos, \"Unexpected character '\" + codePointToString(code) + \"'\");\n};\n\npp.finishOp = function(type, size) {\n  var str = this.input.slice(this.pos, this.pos + size);\n  this.pos += size;\n  return this.finishToken(type, str)\n};\n\npp.readRegexp = function() {\n  var escaped, inClass, start = this.pos;\n  for (;;) {\n    if (this.pos >= this.input.length) { this.raise(start, \"Unterminated regular expression\"); }\n    var ch = this.input.charAt(this.pos);\n    if (lineBreak.test(ch)) { this.raise(start, \"Unterminated regular expression\"); }\n    if (!escaped) {\n      if (ch === \"[\") { inClass = true; }\n      else if (ch === \"]\" && inClass) { inClass = false; }\n      else if (ch === \"/\" && !inClass) { break }\n      escaped = ch === \"\\\\\";\n    } else { escaped = false; }\n    ++this.pos;\n  }\n  var pattern = this.input.slice(start, this.pos);\n  ++this.pos;\n  var flagsStart = this.pos;\n  var flags = this.readWord1();\n  if (this.containsEsc) { this.unexpected(flagsStart); }\n\n  // Validate pattern\n  var state = this.regexpState || (this.regexpState = new RegExpValidationState(this));\n  state.reset(start, pattern, flags);\n  this.validateRegExpFlags(state);\n  this.validateRegExpPattern(state);\n\n  // Create Literal#value property value.\n  var value = null;\n  try {\n    value = new RegExp(pattern, flags);\n  } catch (e) {\n    // ESTree requires null if it failed to instantiate RegExp object.\n    // https://github.com/estree/estree/blob/a27003adf4fd7bfad44de9cef372a2eacd527b1c/es5.md#regexpliteral\n  }\n\n  return this.finishToken(types$1.regexp, {pattern: pattern, flags: flags, value: value})\n};\n\n// Read an integer in the given radix. Return null if zero digits\n// were read, the integer value otherwise. When `len` is given, this\n// will return `null` unless the integer has exactly `len` digits.\n\npp.readInt = function(radix, len, maybeLegacyOctalNumericLiteral) {\n  // `len` is used for character escape sequences. In that case, disallow separators.\n  var allowSeparators = this.options.ecmaVersion >= 12 && len === undefined;\n\n  // `maybeLegacyOctalNumericLiteral` is true if it doesn't have prefix (0x,0o,0b)\n  // and isn't fraction part nor exponent part. In that case, if the first digit\n  // is zero then disallow separators.\n  var isLegacyOctalNumericLiteral = maybeLegacyOctalNumericLiteral && this.input.charCodeAt(this.pos) === 48;\n\n  var start = this.pos, total = 0, lastCode = 0;\n  for (var i = 0, e = len == null ? Infinity : len; i < e; ++i, ++this.pos) {\n    var code = this.input.charCodeAt(this.pos), val = (void 0);\n\n    if (allowSeparators && code === 95) {\n      if (isLegacyOctalNumericLiteral) { this.raiseRecoverable(this.pos, \"Numeric separator is not allowed in legacy octal numeric literals\"); }\n      if (lastCode === 95) { this.raiseRecoverable(this.pos, \"Numeric separator must be exactly one underscore\"); }\n      if (i === 0) { this.raiseRecoverable(this.pos, \"Numeric separator is not allowed at the first of digits\"); }\n      lastCode = code;\n      continue\n    }\n\n    if (code >= 97) { val = code - 97 + 10; } // a\n    else if (code >= 65) { val = code - 65 + 10; } // A\n    else if (code >= 48 && code <= 57) { val = code - 48; } // 0-9\n    else { val = Infinity; }\n    if (val >= radix) { break }\n    lastCode = code;\n    total = total * radix + val;\n  }\n\n  if (allowSeparators && lastCode === 95) { this.raiseRecoverable(this.pos - 1, \"Numeric separator is not allowed at the last of digits\"); }\n  if (this.pos === start || len != null && this.pos - start !== len) { return null }\n\n  return total\n};\n\nfunction stringToNumber(str, isLegacyOctalNumericLiteral) {\n  if (isLegacyOctalNumericLiteral) {\n    return parseInt(str, 8)\n  }\n\n  // `parseFloat(value)` stops parsing at the first numeric separator then returns a wrong value.\n  return parseFloat(str.replace(/_/g, \"\"))\n}\n\nfunction stringToBigInt(str) {\n  if (typeof BigInt !== \"function\") {\n    return null\n  }\n\n  // `BigInt(value)` throws syntax error if the string contains numeric separators.\n  return BigInt(str.replace(/_/g, \"\"))\n}\n\npp.readRadixNumber = function(radix) {\n  var start = this.pos;\n  this.pos += 2; // 0x\n  var val = this.readInt(radix);\n  if (val == null) { this.raise(this.start + 2, \"Expected number in radix \" + radix); }\n  if (this.options.ecmaVersion >= 11 && this.input.charCodeAt(this.pos) === 110) {\n    val = stringToBigInt(this.input.slice(start, this.pos));\n    ++this.pos;\n  } else if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n  return this.finishToken(types$1.num, val)\n};\n\n// Read an integer, octal integer, or floating-point number.\n\npp.readNumber = function(startsWithDot) {\n  var start = this.pos;\n  if (!startsWithDot && this.readInt(10, undefined, true) === null) { this.raise(start, \"Invalid number\"); }\n  var octal = this.pos - start >= 2 && this.input.charCodeAt(start) === 48;\n  if (octal && this.strict) { this.raise(start, \"Invalid number\"); }\n  var next = this.input.charCodeAt(this.pos);\n  if (!octal && !startsWithDot && this.options.ecmaVersion >= 11 && next === 110) {\n    var val$1 = stringToBigInt(this.input.slice(start, this.pos));\n    ++this.pos;\n    if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n    return this.finishToken(types$1.num, val$1)\n  }\n  if (octal && /[89]/.test(this.input.slice(start, this.pos))) { octal = false; }\n  if (next === 46 && !octal) { // '.'\n    ++this.pos;\n    this.readInt(10);\n    next = this.input.charCodeAt(this.pos);\n  }\n  if ((next === 69 || next === 101) && !octal) { // 'eE'\n    next = this.input.charCodeAt(++this.pos);\n    if (next === 43 || next === 45) { ++this.pos; } // '+-'\n    if (this.readInt(10) === null) { this.raise(start, \"Invalid number\"); }\n  }\n  if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n\n  var val = stringToNumber(this.input.slice(start, this.pos), octal);\n  return this.finishToken(types$1.num, val)\n};\n\n// Read a string value, interpreting backslash-escapes.\n\npp.readCodePoint = function() {\n  var ch = this.input.charCodeAt(this.pos), code;\n\n  if (ch === 123) { // '{'\n    if (this.options.ecmaVersion < 6) { this.unexpected(); }\n    var codePos = ++this.pos;\n    code = this.readHexChar(this.input.indexOf(\"}\", this.pos) - this.pos);\n    ++this.pos;\n    if (code > 0x10FFFF) { this.invalidStringToken(codePos, \"Code point out of bounds\"); }\n  } else {\n    code = this.readHexChar(4);\n  }\n  return code\n};\n\npp.readString = function(quote) {\n  var out = \"\", chunkStart = ++this.pos;\n  for (;;) {\n    if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated string constant\"); }\n    var ch = this.input.charCodeAt(this.pos);\n    if (ch === quote) { break }\n    if (ch === 92) { // '\\'\n      out += this.input.slice(chunkStart, this.pos);\n      out += this.readEscapedChar(false);\n      chunkStart = this.pos;\n    } else if (ch === 0x2028 || ch === 0x2029) {\n      if (this.options.ecmaVersion < 10) { this.raise(this.start, \"Unterminated string constant\"); }\n      ++this.pos;\n      if (this.options.locations) {\n        this.curLine++;\n        this.lineStart = this.pos;\n      }\n    } else {\n      if (isNewLine(ch)) { this.raise(this.start, \"Unterminated string constant\"); }\n      ++this.pos;\n    }\n  }\n  out += this.input.slice(chunkStart, this.pos++);\n  return this.finishToken(types$1.string, out)\n};\n\n// Reads template string tokens.\n\nvar INVALID_TEMPLATE_ESCAPE_ERROR = {};\n\npp.tryReadTemplateToken = function() {\n  this.inTemplateElement = true;\n  try {\n    this.readTmplToken();\n  } catch (err) {\n    if (err === INVALID_TEMPLATE_ESCAPE_ERROR) {\n      this.readInvalidTemplateToken();\n    } else {\n      throw err\n    }\n  }\n\n  this.inTemplateElement = false;\n};\n\npp.invalidStringToken = function(position, message) {\n  if (this.inTemplateElement && this.options.ecmaVersion >= 9) {\n    throw INVALID_TEMPLATE_ESCAPE_ERROR\n  } else {\n    this.raise(position, message);\n  }\n};\n\npp.readTmplToken = function() {\n  var out = \"\", chunkStart = this.pos;\n  for (;;) {\n    if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated template\"); }\n    var ch = this.input.charCodeAt(this.pos);\n    if (ch === 96 || ch === 36 && this.input.charCodeAt(this.pos + 1) === 123) { // '`', '${'\n      if (this.pos === this.start && (this.type === types$1.template || this.type === types$1.invalidTemplate)) {\n        if (ch === 36) {\n          this.pos += 2;\n          return this.finishToken(types$1.dollarBraceL)\n        } else {\n          ++this.pos;\n          return this.finishToken(types$1.backQuote)\n        }\n      }\n      out += this.input.slice(chunkStart, this.pos);\n      return this.finishToken(types$1.template, out)\n    }\n    if (ch === 92) { // '\\'\n      out += this.input.slice(chunkStart, this.pos);\n      out += this.readEscapedChar(true);\n      chunkStart = this.pos;\n    } else if (isNewLine(ch)) {\n      out += this.input.slice(chunkStart, this.pos);\n      ++this.pos;\n      switch (ch) {\n      case 13:\n        if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; }\n      case 10:\n        out += \"\\n\";\n        break\n      default:\n        out += String.fromCharCode(ch);\n        break\n      }\n      if (this.options.locations) {\n        ++this.curLine;\n        this.lineStart = this.pos;\n      }\n      chunkStart = this.pos;\n    } else {\n      ++this.pos;\n    }\n  }\n};\n\n// Reads a template token to search for the end, without validating any escape sequences\npp.readInvalidTemplateToken = function() {\n  for (; this.pos < this.input.length; this.pos++) {\n    switch (this.input[this.pos]) {\n    case \"\\\\\":\n      ++this.pos;\n      break\n\n    case \"$\":\n      if (this.input[this.pos + 1] !== \"{\") {\n        break\n      }\n\n    // falls through\n    case \"`\":\n      return this.finishToken(types$1.invalidTemplate, this.input.slice(this.start, this.pos))\n\n    // no default\n    }\n  }\n  this.raise(this.start, \"Unterminated template\");\n};\n\n// Used to read escaped characters\n\npp.readEscapedChar = function(inTemplate) {\n  var ch = this.input.charCodeAt(++this.pos);\n  ++this.pos;\n  switch (ch) {\n  case 110: return \"\\n\" // 'n' -> '\\n'\n  case 114: return \"\\r\" // 'r' -> '\\r'\n  case 120: return String.fromCharCode(this.readHexChar(2)) // 'x'\n  case 117: return codePointToString(this.readCodePoint()) // 'u'\n  case 116: return \"\\t\" // 't' -> '\\t'\n  case 98: return \"\\b\" // 'b' -> '\\b'\n  case 118: return \"\\u000b\" // 'v' -> '\\u000b'\n  case 102: return \"\\f\" // 'f' -> '\\f'\n  case 13: if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; } // '\\r\\n'\n  case 10: // ' \\n'\n    if (this.options.locations) { this.lineStart = this.pos; ++this.curLine; }\n    return \"\"\n  case 56:\n  case 57:\n    if (this.strict) {\n      this.invalidStringToken(\n        this.pos - 1,\n        \"Invalid escape sequence\"\n      );\n    }\n    if (inTemplate) {\n      var codePos = this.pos - 1;\n\n      this.invalidStringToken(\n        codePos,\n        \"Invalid escape sequence in template string\"\n      );\n    }\n  default:\n    if (ch >= 48 && ch <= 55) {\n      var octalStr = this.input.substr(this.pos - 1, 3).match(/^[0-7]+/)[0];\n      var octal = parseInt(octalStr, 8);\n      if (octal > 255) {\n        octalStr = octalStr.slice(0, -1);\n        octal = parseInt(octalStr, 8);\n      }\n      this.pos += octalStr.length - 1;\n      ch = this.input.charCodeAt(this.pos);\n      if ((octalStr !== \"0\" || ch === 56 || ch === 57) && (this.strict || inTemplate)) {\n        this.invalidStringToken(\n          this.pos - 1 - octalStr.length,\n          inTemplate\n            ? \"Octal literal in template string\"\n            : \"Octal literal in strict mode\"\n        );\n      }\n      return String.fromCharCode(octal)\n    }\n    if (isNewLine(ch)) {\n      // Unicode new line characters after \\ get removed from output in both\n      // template literals and strings\n      return \"\"\n    }\n    return String.fromCharCode(ch)\n  }\n};\n\n// Used to read character escape sequences ('\\x', '\\u', '\\U').\n\npp.readHexChar = function(len) {\n  var codePos = this.pos;\n  var n = this.readInt(16, len);\n  if (n === null) { this.invalidStringToken(codePos, \"Bad character escape sequence\"); }\n  return n\n};\n\n// Read an identifier, and return it as a string. Sets `this.containsEsc`\n// to whether the word contained a '\\u' escape.\n//\n// Incrementally adds only escaped chars, adding other chunks as-is\n// as a micro-optimization.\n\npp.readWord1 = function() {\n  this.containsEsc = false;\n  var word = \"\", first = true, chunkStart = this.pos;\n  var astral = this.options.ecmaVersion >= 6;\n  while (this.pos < this.input.length) {\n    var ch = this.fullCharCodeAtPos();\n    if (isIdentifierChar(ch, astral)) {\n      this.pos += ch <= 0xffff ? 1 : 2;\n    } else if (ch === 92) { // \"\\\"\n      this.containsEsc = true;\n      word += this.input.slice(chunkStart, this.pos);\n      var escStart = this.pos;\n      if (this.input.charCodeAt(++this.pos) !== 117) // \"u\"\n        { this.invalidStringToken(this.pos, \"Expecting Unicode escape sequence \\\\uXXXX\"); }\n      ++this.pos;\n      var esc = this.readCodePoint();\n      if (!(first ? isIdentifierStart : isIdentifierChar)(esc, astral))\n        { this.invalidStringToken(escStart, \"Invalid Unicode escape\"); }\n      word += codePointToString(esc);\n      chunkStart = this.pos;\n    } else {\n      break\n    }\n    first = false;\n  }\n  return word + this.input.slice(chunkStart, this.pos)\n};\n\n// Read an identifier or keyword token. Will check for reserved\n// words when necessary.\n\npp.readWord = function() {\n  var word = this.readWord1();\n  var type = types$1.name;\n  if (this.keywords.test(word)) {\n    type = keywords[word];\n  }\n  return this.finishToken(type, word)\n};\n\n// Acorn is a tiny, fast JavaScript parser written in JavaScript.\n\nvar version = \"8.8.2\";\n\nParser.acorn = {\n  Parser: Parser,\n  version: version,\n  defaultOptions: defaultOptions,\n  Position: Position,\n  SourceLocation: SourceLocation,\n  getLineInfo: getLineInfo,\n  Node: Node,\n  TokenType: TokenType,\n  tokTypes: types$1,\n  keywordTypes: keywords,\n  TokContext: TokContext,\n  tokContexts: types,\n  isIdentifierChar: isIdentifierChar,\n  isIdentifierStart: isIdentifierStart,\n  Token: Token,\n  isNewLine: isNewLine,\n  lineBreak: lineBreak,\n  lineBreakG: lineBreakG,\n  nonASCIIwhitespace: nonASCIIwhitespace\n};\n\n// The main exported interface (under `self.acorn` when in the\n// browser) is a `parse` function that takes a code string and\n// returns an abstract syntax tree as specified by [Mozilla parser\n// API][api].\n//\n// [api]: https://developer.mozilla.org/en-US/docs/SpiderMonkey/Parser_API\n\nfunction parse(input, options) {\n  return Parser.parse(input, options)\n}\n\n// This function tries to parse a single expression at a given\n// offset in a string. Useful for parsing mixed-language formats\n// that embed JavaScript expressions.\n\nfunction parseExpressionAt(input, pos, options) {\n  return Parser.parseExpressionAt(input, pos, options)\n}\n\n// Acorn is organized as a tokenizer and a recursive-descent parser.\n// The `tokenizer` export provides an interface to the tokenizer.\n\nfunction tokenizer(input, options) {\n  return Parser.tokenizer(input, options)\n}\n\nexport { Node, Parser, Position, SourceLocation, TokContext, Token, TokenType, defaultOptions, getLineInfo, isIdentifierChar, isIdentifierStart, isNewLine, keywords as keywordTypes, lineBreak, lineBreakG, nonASCIIwhitespace, parse, parseExpressionAt, types as tokContexts, types$1 as tokTypes, tokenizer, version };\n","/**\n * @typedef { import('estree').Node} Node\n * @typedef {{\n *   skip: () => void;\n *   remove: () => void;\n *   replace: (node: Node) => void;\n * }} WalkerContext\n */\n\nexport class WalkerBase {\n\tconstructor() {\n\t\t/** @type {boolean} */\n\t\tthis.should_skip = false;\n\n\t\t/** @type {boolean} */\n\t\tthis.should_remove = false;\n\n\t\t/** @type {Node | null} */\n\t\tthis.replacement = null;\n\n\t\t/** @type {WalkerContext} */\n\t\tthis.context = {\n\t\t\tskip: () => (this.should_skip = true),\n\t\t\tremove: () => (this.should_remove = true),\n\t\t\treplace: (node) => (this.replacement = node)\n\t\t};\n\t}\n\n\t/**\n\t * @template {Node} Parent\n\t * @param {Parent | null | undefined} parent\n\t * @param {keyof Parent | null | undefined} prop\n\t * @param {number | null | undefined} index\n\t * @param {Node} node\n\t */\n\treplace(parent, prop, index, node) {\n\t\tif (parent && prop) {\n\t\t\tif (index != null) {\n\t\t\t\t/** @type {Array<Node>} */ (parent[prop])[index] = node;\n\t\t\t} else {\n\t\t\t\t/** @type {Node} */ (parent[prop]) = node;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @template {Node} Parent\n\t * @param {Parent | null | undefined} parent\n\t * @param {keyof Parent | null | undefined} prop\n\t * @param {number | null | undefined} index\n\t */\n\tremove(parent, prop, index) {\n\t\tif (parent && prop) {\n\t\t\tif (index !== null && index !== undefined) {\n\t\t\t\t/** @type {Array<Node>} */ (parent[prop]).splice(index, 1);\n\t\t\t} else {\n\t\t\t\tdelete parent[prop];\n\t\t\t}\n\t\t}\n\t}\n}\n","import { WalkerBase } from './walker.js';\n\n/**\n * @typedef { import('estree').Node} Node\n * @typedef { import('./walker.js').WalkerContext} WalkerContext\n * @typedef {(\n *    this: WalkerContext,\n *    node: Node,\n *    parent: Node | null,\n *    key: string | number | symbol | null | undefined,\n *    index: number | null | undefined\n * ) => void} SyncHandler\n */\n\nexport class SyncWalker extends WalkerBase {\n\t/**\n\t *\n\t * @param {SyncHandler} [enter]\n\t * @param {SyncHandler} [leave]\n\t */\n\tconstructor(enter, leave) {\n\t\tsuper();\n\n\t\t/** @type {boolean} */\n\t\tthis.should_skip = false;\n\n\t\t/** @type {boolean} */\n\t\tthis.should_remove = false;\n\n\t\t/** @type {Node | null} */\n\t\tthis.replacement = null;\n\n\t\t/** @type {WalkerContext} */\n\t\tthis.context = {\n\t\t\tskip: () => (this.should_skip = true),\n\t\t\tremove: () => (this.should_remove = true),\n\t\t\treplace: (node) => (this.replacement = node)\n\t\t};\n\n\t\t/** @type {SyncHandler | undefined} */\n\t\tthis.enter = enter;\n\n\t\t/** @type {SyncHandler | undefined} */\n\t\tthis.leave = leave;\n\t}\n\n\t/**\n\t * @template {Node} Parent\n\t * @param {Node} node\n\t * @param {Parent | null} parent\n\t * @param {keyof Parent} [prop]\n\t * @param {number | null} [index]\n\t * @returns {Node | null}\n\t */\n\tvisit(node, parent, prop, index) {\n\t\tif (node) {\n\t\t\tif (this.enter) {\n\t\t\t\tconst _should_skip = this.should_skip;\n\t\t\t\tconst _should_remove = this.should_remove;\n\t\t\t\tconst _replacement = this.replacement;\n\t\t\t\tthis.should_skip = false;\n\t\t\t\tthis.should_remove = false;\n\t\t\t\tthis.replacement = null;\n\n\t\t\t\tthis.enter.call(this.context, node, parent, prop, index);\n\n\t\t\t\tif (this.replacement) {\n\t\t\t\t\tnode = this.replacement;\n\t\t\t\t\tthis.replace(parent, prop, index, node);\n\t\t\t\t}\n\n\t\t\t\tif (this.should_remove) {\n\t\t\t\t\tthis.remove(parent, prop, index);\n\t\t\t\t}\n\n\t\t\t\tconst skipped = this.should_skip;\n\t\t\t\tconst removed = this.should_remove;\n\n\t\t\t\tthis.should_skip = _should_skip;\n\t\t\t\tthis.should_remove = _should_remove;\n\t\t\t\tthis.replacement = _replacement;\n\n\t\t\t\tif (skipped) return node;\n\t\t\t\tif (removed) return null;\n\t\t\t}\n\n\t\t\t/** @type {keyof Node} */\n\t\t\tlet key;\n\n\t\t\tfor (key in node) {\n\t\t\t\t/** @type {unknown} */\n\t\t\t\tconst value = node[key];\n\n\t\t\t\tif (value && typeof value === 'object') {\n\t\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\t\tconst nodes = /** @type {Array<unknown>} */ (value);\n\t\t\t\t\t\tfor (let i = 0; i < nodes.length; i += 1) {\n\t\t\t\t\t\t\tconst item = nodes[i];\n\t\t\t\t\t\t\tif (isNode(item)) {\n\t\t\t\t\t\t\t\tif (!this.visit(item, node, key, i)) {\n\t\t\t\t\t\t\t\t\t// removed\n\t\t\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (isNode(value)) {\n\t\t\t\t\t\tthis.visit(value, node, key, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.leave) {\n\t\t\t\tconst _replacement = this.replacement;\n\t\t\t\tconst _should_remove = this.should_remove;\n\t\t\t\tthis.replacement = null;\n\t\t\t\tthis.should_remove = false;\n\n\t\t\t\tthis.leave.call(this.context, node, parent, prop, index);\n\n\t\t\t\tif (this.replacement) {\n\t\t\t\t\tnode = this.replacement;\n\t\t\t\t\tthis.replace(parent, prop, index, node);\n\t\t\t\t}\n\n\t\t\t\tif (this.should_remove) {\n\t\t\t\t\tthis.remove(parent, prop, index);\n\t\t\t\t}\n\n\t\t\t\tconst removed = this.should_remove;\n\n\t\t\t\tthis.replacement = _replacement;\n\t\t\t\tthis.should_remove = _should_remove;\n\n\t\t\t\tif (removed) return null;\n\t\t\t}\n\t\t}\n\n\t\treturn node;\n\t}\n}\n\n/**\n * Ducktype a node.\n *\n * @param {unknown} value\n * @returns {value is Node}\n */\nfunction isNode(value) {\n\treturn (\n\t\tvalue !== null && typeof value === 'object' && 'type' in value && typeof value.type === 'string'\n\t);\n}\n","import { SyncWalker } from './sync.js';\nimport { AsyncWalker } from './async.js';\n\n/**\n * @typedef {import('estree').Node} Node\n * @typedef {import('./sync.js').SyncHandler} SyncHandler\n * @typedef {import('./async.js').AsyncHandler} AsyncHandler\n */\n\n/**\n * @param {Node} ast\n * @param {{\n *   enter?: SyncHandler\n *   leave?: SyncHandler\n * }} walker\n * @returns {Node | null}\n */\nexport function walk(ast, { enter, leave }) {\n\tconst instance = new SyncWalker(enter, leave);\n\treturn instance.visit(ast, null);\n}\n\n/**\n * @param {Node} ast\n * @param {{\n *   enter?: AsyncHandler\n *   leave?: AsyncHandler\n * }} walker\n * @returns {Promise<Node | null>}\n */\nexport async function asyncWalk(ast, { enter, leave }) {\n\tconst instance = new AsyncWalker(enter, leave);\n\treturn await instance.visit(ast, null);\n}\n","import escodegen from 'escodegen';\nimport { parse } from 'acorn';\nimport { walk } from 'estree-walker';\nimport { isNoteWithOctave } from '@strudel.cycles/core';\nimport { getLeafLocations } from '@strudel.cycles/mini';\n\nexport function transpiler(input, options = {}) {\n  const { wrapAsync = false, addReturn = true, emitMiniLocations = true } = options;\n\n  let ast = parse(input, {\n    ecmaVersion: 2022,\n    allowAwaitOutsideFunction: true,\n    locations: true,\n  });\n\n  let miniLocations = [];\n  const collectMiniLocations = (value, node) => {\n    const leafLocs = getLeafLocations(`\"${value}\"`, node.start); // stimmt!\n    //const withOffset = leafLocs.map((offsets) => offsets.map((o) => o + node.start));\n    miniLocations = miniLocations.concat(leafLocs);\n  };\n\n  walk(ast, {\n    enter(node, parent /* , prop, index */) {\n      if (isBackTickString(node, parent)) {\n        const { quasis } = node;\n        const { raw } = quasis[0].value;\n        this.skip();\n        emitMiniLocations && collectMiniLocations(raw, node);\n        return this.replace(miniWithLocation(raw, node));\n      }\n      if (isStringWithDoubleQuotes(node)) {\n        const { value } = node;\n        this.skip();\n        emitMiniLocations && collectMiniLocations(value, node);\n        return this.replace(miniWithLocation(value, node));\n      }\n      // TODO: remove pseudo note variables?\n      if (node.type === 'Identifier' && isNoteWithOctave(node.name)) {\n        this.skip();\n        return this.replace({ type: 'Literal', value: node.name });\n      }\n    },\n    leave(node, parent, prop, index) {},\n  });\n\n  const { body } = ast;\n  if (!body?.[body.length - 1]?.expression) {\n    throw new Error('unexpected ast format without body expression');\n  }\n\n  // add return to last statement\n  if (addReturn) {\n    const { expression } = body[body.length - 1];\n    body[body.length - 1] = {\n      type: 'ReturnStatement',\n      argument: expression,\n    };\n  }\n  let output = escodegen.generate(ast);\n  if (wrapAsync) {\n    output = `(async ()=>{${output}})()`;\n  }\n  if (!emitMiniLocations) {\n    return { output };\n  }\n  return { output, miniLocations };\n}\n\nfunction isStringWithDoubleQuotes(node, locations, code) {\n  const { raw, type } = node;\n  if (type !== 'Literal') {\n    return false;\n  }\n  return raw[0] === '\"';\n}\n\nfunction isBackTickString(node, parent) {\n  return node.type === 'TemplateLiteral' && parent.type !== 'TaggedTemplateExpression';\n}\n\nfunction miniWithLocation(value, node) {\n  const { start: fromOffset } = node;\n  return {\n    type: 'CallExpression',\n    callee: {\n      type: 'Identifier',\n      name: 'm',\n    },\n    arguments: [\n      { type: 'Literal', value },\n      { type: 'Literal', value: fromOffset },\n    ],\n    optional: false,\n  };\n}\n","import { useCallback, useEffect, useRef } from 'react';\nimport 'tailwindcss/tailwind.css';\nimport useFrame from '../hooks/useFrame.mjs';\n\nfunction usePatternFrame({ pattern, started, getTime, onDraw, drawTime = [-2, 2] }) {\n  let [lookbehind, lookahead] = drawTime;\n  lookbehind = Math.abs(lookbehind);\n  let visibleHaps = useRef([]);\n  let lastFrame = useRef(null);\n  useEffect(() => {\n    if (pattern && started) {\n      const t = getTime();\n      const futureHaps = pattern.queryArc(Math.max(t, 0), t + lookahead + 0.1); // +0.1 = workaround for weird holes in query..\n      visibleHaps.current = visibleHaps.current.filter((h) => h.whole.begin < t);\n      visibleHaps.current = visibleHaps.current.concat(futureHaps);\n    }\n  }, [pattern, started]);\n  const { start: startFrame, stop: stopFrame } = useFrame(\n    useCallback(() => {\n      const phase = getTime() + lookahead;\n      if (lastFrame.current === null) {\n        lastFrame.current = phase;\n        return;\n      }\n      const haps = pattern.queryArc(Math.max(lastFrame.current, phase - 1 / 10), phase);\n      lastFrame.current = phase;\n      visibleHaps.current = (visibleHaps.current || [])\n        .filter((h) => h.endClipped >= phase - lookbehind - lookahead) // in frame\n        .concat(haps.filter((h) => h.hasOnset()));\n      onDraw(pattern, phase - lookahead, visibleHaps.current, drawTime);\n    }, [pattern, onDraw]),\n  );\n  useEffect(() => {\n    if (started) {\n      startFrame();\n    } else {\n      visibleHaps.current = [];\n      stopFrame();\n    }\n  }, [started]);\n  return {\n    clear: () => {\n      visibleHaps.current = [];\n    },\n  };\n}\n\nexport default usePatternFrame;\n","/*\nusePostMessage.mjs - <short description TODO>\nCopyright (C) 2022 Strudel contributors - see <https://github.com/tidalcycles/strudel/blob/main/repl/src/usePostMessage.mjs>\nThis program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more details. You should have received a copy of the GNU Affero General Public License along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { useEffect, useCallback } from 'react';\n\nfunction usePostMessage(listener) {\n  useEffect(() => {\n    window.addEventListener('message', listener);\n    return () => window.removeEventListener('message', listener);\n  }, [listener]);\n  return useCallback((data) => window.postMessage(data, '*'), []);\n}\n\nexport default usePostMessage;\n","import { useRef, useCallback, useEffect, useMemo, useState } from 'react';\nimport { repl } from '@strudel.cycles/core';\nimport { transpiler } from '@strudel.cycles/transpiler';\nimport usePatternFrame from './usePatternFrame';\nimport usePostMessage from './usePostMessage.mjs';\n\nfunction useStrudel({\n  defaultOutput,\n  interval,\n  getTime,\n  evalOnMount = false,\n  initialCode = '',\n  beforeEval,\n  afterEval,\n  editPattern,\n  onEvalError,\n  onToggle,\n  canvasId,\n  drawContext,\n  drawTime = [-2, 2],\n  paintOptions = {},\n}) {\n  const id = useMemo(() => s4(), []);\n  canvasId = canvasId || `canvas-${id}`;\n  // scheduler\n  const [schedulerError, setSchedulerError] = useState();\n  const [evalError, setEvalError] = useState();\n  const [code, setCode] = useState(initialCode);\n  const [activeCode, setActiveCode] = useState();\n  const [pattern, setPattern] = useState();\n  const [started, setStarted] = useState(false);\n  const isDirty = code !== activeCode;\n  //const shouldPaint = useCallback((pat) => !!(pat?.context?.onPaint && drawContext), [drawContext]);\n  const shouldPaint = useCallback((pat) => !!pat?.context?.onPaint, []);\n\n  // TODO: make sure this hook reruns when scheduler.started changes\n  const { scheduler, evaluate, start, stop, pause, setCps } = useMemo(\n    () =>\n      repl({\n        interval,\n        defaultOutput,\n        onSchedulerError: setSchedulerError,\n        onEvalError: (err) => {\n          setEvalError(err);\n          onEvalError?.(err);\n        },\n        getTime,\n        drawContext,\n        transpiler,\n        editPattern,\n        beforeEval: async ({ code }) => {\n          setCode(code);\n          await beforeEval?.();\n        },\n        afterEval: (res) => {\n          const { pattern: _pattern, code } = res;\n          setActiveCode(code);\n          setPattern(_pattern);\n          setEvalError();\n          setSchedulerError();\n          afterEval?.(res);\n        },\n        onToggle: (v) => {\n          setStarted(v);\n          onToggle?.(v);\n        },\n      }),\n    [defaultOutput, interval, getTime],\n  );\n  const broadcast = usePostMessage(({ data: { from, type } }) => {\n    if (type === 'start' && from !== id) {\n      // console.log('message', from, type);\n      stop();\n    }\n  });\n  const activateCode = useCallback(\n    async (autostart = true) => {\n      const res = await evaluate(code, autostart);\n      broadcast({ type: 'start', from: id });\n      return res;\n    },\n    [evaluate, code],\n  );\n\n  const onDraw = useCallback(\n    (pattern, time, haps, drawTime) => {\n      const { onPaint } = pattern.context || {};\n      const ctx = typeof drawContext === 'function' ? drawContext(canvasId) : drawContext;\n      onPaint?.(ctx, time, haps, drawTime, paintOptions);\n    },\n    [drawContext, canvasId, paintOptions],\n  );\n\n  const drawFirstFrame = useCallback(\n    (pat) => {\n      if (shouldPaint(pat)) {\n        const [_, lookahead] = drawTime;\n        const haps = pat.queryArc(0, lookahead);\n        // draw at -0.001 to avoid activating haps at 0\n        onDraw(pat, -0.001, haps, drawTime);\n      }\n    },\n    [drawTime, onDraw, shouldPaint],\n  );\n\n  const inited = useRef();\n  useEffect(() => {\n    if (!inited.current && evalOnMount && code) {\n      inited.current = true;\n      evaluate(code, false).then((pat) => drawFirstFrame(pat));\n    }\n  }, [evalOnMount, code, evaluate, drawFirstFrame]);\n\n  // this will stop the scheduler when hot reloading in development\n  useEffect(() => {\n    return () => {\n      scheduler.stop();\n    };\n  }, [scheduler]);\n\n  const togglePlay = async () => {\n    if (started) {\n      scheduler.stop();\n      drawFirstFrame(pattern);\n    } else {\n      await activateCode();\n    }\n  };\n  const error = schedulerError || evalError;\n\n  usePatternFrame({\n    pattern,\n    started: shouldPaint(pattern) && started,\n    getTime: () => scheduler.now(),\n    drawTime,\n    onDraw,\n  });\n\n  return {\n    id,\n    canvasId,\n    code,\n    setCode,\n    error,\n    schedulerError,\n    scheduler,\n    evalError,\n    evaluate,\n    activateCode,\n    activeCode,\n    isDirty,\n    pattern,\n    started,\n    start,\n    stop,\n    pause,\n    togglePlay,\n    setCps,\n  };\n}\n\nexport default useStrudel;\n\nfunction s4() {\n  return Math.floor((1 + Math.random()) * 0x10000)\n    .toString(16)\n    .substring(1);\n}\n","import { useLayoutEffect } from 'react';\n\n// set active pattern on ctrl+enter\nconst useKeydown = (callback) =>\n  useLayoutEffect(() => {\n    window.addEventListener('keydown', callback, true);\n    return () => window.removeEventListener('keydown', callback, true);\n  }, [callback]);\n\nexport default useKeydown;\n"],"names":["CompletionContext","state","pos","explicit","types","token","syntaxTree","expr","line","start","str","found","ensureAnchor","type","listener","toSet","chars","flat","words","prefixMatch","options","first","rest","label","i","source","completeFromList","list","o","validFor","match","context","ifNotIn","nodes","Option","completion","score","cur","_a","addStart","addEnd","pickedCompletion","Annotation","insertCompletionText","text","from","to","main","fromOff","toOff","range","EditorSelection","applyCompletion","view","option","apply","result","SourceCache","asSource","known","startCompletionEffect","StateEffect","closeCompletionEffect","FuzzyMatcher","pattern","p","char","codePointAt","size","codePointSize","part","upper","word","folded","any","precise","byWord","firstSize","direct","len","anyTo","e","next","preciseTo","byWordTo","byWordFolded","adjacentTo","adjacentStart","adjacentEnd","hasLower","wordAdjacent","prevType","ch","fromCodePoint","positions","completionConfig","Facet","configs","combineConfig","defaultPositionInfo","a","b","c","joinClass","info","space","rtl","Direction","left","narrow","side","offset","maxWidth","spaceLeft","spaceRight","infoWidth","infoHeight","spaceBelow","optionContent","config","content","icon","cls","_s","labelElt","off","j","span","detailElt","rangeAroundSelected","total","selected","max","CompletionTooltip","stateField","cState","dom","update","_b","_c","prevState","open","infoResult","node","logException","set","opt","scrollIntoView","sel","listRect","infoRect","selRect","win","id","ul","curSection","section","name","header","li","completionTooltip","container","element","parent","self","sortOptions","active","sections","addOption","s","getMatch","n","matcher","sectionOrder","cmp","prev","compare","CompletionDialog","attrs","tooltip","timestamp","disabled","makeAttrs","conf","selectedValue","completionState","changes","CompletionState","none","tr","ActiveSource","sameResults","effect","setSelectedEffect","baseAttrs","iA","iB","endA","endB","getUserEvent","explicitPos","event","value","setActiveEffect","ActiveResult","updated","checkValid","mapping","sources","StateField","f","showTooltip","val","EditorView","moveCompletionSelection","forward","by","step","getTooltip","length","acceptCompletion","startCompletion","closeCompletion","RunningQuery","DebounceTime","MaxUpdateCount","MinAbortTime","completionPlugin","ViewPlugin","doesReset","query","handler","q","pending","err","current","dialog","baseTheme","FieldPos","field","FieldRange","MapMode","Snippet","lines","fieldPositions","lineStart","lineObj","baseIndent","indent","tabs","indentUnit","ranges","template","fields","m","seq","esc","fieldMarker","Decoration","WidgetType","fieldRange","ActiveSnippet","mapped","setActive","moveToField","snippetState","fieldSelection","r","snippet","editor","spec","Text","effects","addSnippetKeymap","snippetPointerHandler","moveField","dir","dispatch","last","clearSnippet","nextSnippetField","prevSnippetField","defaultSnippetKeymap","snippetKeymap","maps","Prec","keymap","snippetCompletion","defaults","closeBracketEffect","closedBracket","RangeValue","bracketState","RangeSet","prevLineStart","closeBrackets","inputHandler","definedClosing","closing","android","insert","insertBracket","deleteBracketPair","tokens","dont","before","prevChar","nextChar","closeBracketsKeymap","bracket","tok","closed","handleSame","handleOpen","closedBracketAt","handleClose","doc","close","closeBefore","_open","allowTriple","stringPrefixes","nodeStart","canStartStringAt","CharCategory","probablyInString","tree","quoteToken","prefixes","maxPrefix","quotePos","charCat","prefix","autocompletion","completionKeymapExt","completionKeymap","Stack","stack","reducePos","buffer","bufferBase","curContext","lookAhead","_","cx","StackContext","action","depth","parser","dPrec","base","count","baseStateID","term","end","isReduce","top","index","nextEnd","nextState","isNode","sim","SimulatedStack","nextStates","best","v","reduce","target","other","dialectID","newCx","tracker","Recover","goto","StackBufferCursor","decodeArray","input","Type","array","out","stop","digit","CachedToken","nullToken","InputStream","assoc","idx","resolved","endOffset","chunk","chunkPos","nextChunk","TokenGroup","data","readToken","LocalTokenGroup","precTable","elseToken","ExternalTokenizer","group","precOffset","groupMask","dialect","scan","accEnd","overrides","low","high","mid","findOffset","tableData","tableOffset","iPrev","verbose","stackIDs","Safety","cutAt","cursor","IterMode","FragmentCursor","fragments","nodeSet","fr","Tree","NodeProp","TokenCache","stream","actionIndex","tokenizers","mask","tokenizer","startIndex","pair","Rec","Parse","stacks","newStacks","stopped","stoppedTokens","finished","findFinished","maxRemaining","outer","split","strictCx","cxHash","cached","inner","defaultReduce","actions","localStack","pushStackDedup","restarted","tokenEnd","force","forceBase","Dialect","flags","x","ContextTracker","LRParser","Parser","nodeNames","topTerms","nodeProps","setProp","nodeID","prop","propSpec","NodeSet","NodeType","DefaultBufferLength","tokenArray","getSpecializer","parse","w","loose","table","groupTag","terminal","slot","flag","copy","t","prec","values","noSemi","incdec","incdecPrefix","insertSemi","spaces","newline","LineComment","BlockComment","braceR","semicolon","slash","star","plus","minus","trackNewline","insertSemicolon","noSemicolon","after","incdecToken","mayPostfix","jsHighlight","styleTags","tags","spec_identifier","spec_word","spec_LessThan","snippets","cache","NodeWeakMap","ScopeNodes","defID","def","functionContext","gatherCompletions","getScope","completions","gather","Identifier","dontComplete","localCompletionSource","isWord","javascriptLanguage","LRLanguage","indentNodeProp","continuedIndent","flatIndent","isCase","delimitedIndent","foldNodeProp","foldInside","jsxSublanguage","defineLanguageFacet","typescriptLanguage","jsxLanguage","sublanguageProp","tsxLanguage","keywords","kw","javascript","lang","LanguageSupport","autoCloseTags","findOpenTag","elementName","isEndTag","head","around","empty","openTag","toggleComment","getConfig","toggleLineComment","toggleBlockCommentByLine","command","changeLineComment","toggleBlockComment","changeBlockComment","selectedLineRanges","SearchMargin","findBlockComment","textBefore","textAfter","spaceBefore","spaceAfter","beforeOff","startText","endText","startSpace","endSpace","endOff","fromLine","toLine","comments","comment","prevLine","startI","minIndent","l","single","changeSet","fromHistory","isolateHistory","invertedEffects","historyConfig","_t","isAdjacent","adj","changeEnd","historyField_","HistoryState","fromHist","selection","item","HistEvent","updateBranch","addSelection","isolate","Transaction","time","userEvent","json","history","undo","redo","cmd","historyState","undoSelection","redoSelection","startSelection","selectionsAfter","ChangeSet","ChangeDesc","invert","selections","branch","maxLen","newEvent","newBranch","_f","eqSelectionShape","conc","MaxSelectionsPerEvent","lastEvent","sels","popSelection","addMappingToBranch","mapEvent","extraSelections","mappedChanges","fullMapping","joinableUserEvent","done","undone","prevTime","prevUserEvent","newGroupDelay","historyKeymap","updateSel","setSel","moveSel","how","rangeEnd","cursorByChar","ltrAtCursor","cursorCharLeft","cursorCharRight","cursorCharBackward","cursorByGroup","cursorGroupLeft","cursorGroupRight","interestingNode","bracketProp","moveBySyntax","at","newPos","matchBrackets","cursorSyntaxLeft","cursorSyntaxRight","cursorByLine","moved","cursorLineUp","cursorLineDown","pageInfo","selfScroll","marginTop","marginBottom","height","margins","cursorByPage","page","startPos","scrollRect","scrollTop","scrollBottom","cursorPageUp","cursorPageDown","moveByLineBoundary","cursorLineBoundaryForward","cursorLineBoundaryBackward","cursorLineBoundaryLeft","cursorLineBoundaryRight","cursorLineStart","cursorLineEnd","toMatchingBracket","extend","matching","cursorMatchingBracket","extendSel","selectByChar","selectCharLeft","selectCharRight","selectByGroup","selectGroupLeft","selectGroupRight","selectSyntaxLeft","selectSyntaxRight","selectByLine","selectLineUp","selectLineDown","selectByPage","selectPageUp","selectPageDown","selectLineBoundaryForward","selectLineBoundaryBackward","selectLineBoundaryLeft","selectLineBoundaryRight","selectLineStart","selectLineEnd","cursorDocStart","cursorDocEnd","selectDocStart","selectDocEnd","selectAll","selectLine","selectedLineBlocks","selectParentSyntax","simplifySelection","deleteBy","towards","skipAtomic","deleteByChar","targetPos","col","countColumn","drop","getIndentUnit","findClusterBreak","deleteCharBackward","deleteCharForward","deleteByGroup","categorize","cat","nextCat","deleteGroupBackward","deleteGroupForward","deleteToLineEnd","lineEnd","deleteToLineStart","splitLine","transposeChars","blocks","upto","startLine","endLine","moveLine","block","nextLine","moveLineUp","moveLineDown","copyLine","copyLineUp","copyLineDown","deleteLine","isBetweenBrackets","closedBy","insertNewlineAndIndent","newlineAndIndent","insertBlankLine","atEof","explode","IndentContext","getIndentation","indentString","changeBySelectedLine","atLine","indentSelection","norm","indentMore","indentLess","keep","emacsStyleKeymap","standardKeymap","defaultKeymap","indentWithTab","crelt","elt","add","child","basicNormalize","SearchCursor","normalize","test","code","baseFlags","RegExpCursor","MultilineRegExpCursor","toCharEnd","skip","flattened","FlattenedDoc","cachedFrom","validRegExp","createLineDialog","dialogEffect","go","sign","ln","cl","percent","pc","docLine","dialogField","showPanel","gotoLine","panel","getPanel","baseTheme$1","defaultHighlightOptions","highlightConfig","highlightSelectionMatches","ext","defaultTheme","matchHighlighter","matchDeco","mainMatchDeco","insideWordBoundaries","check","insideWord","deco","selectWord","newSel","findNextOccurrence","fullWord","cycled","selectNextOccurrence","searchedText","searchConfigFacet","SearchPanel","SearchQuery","RegExpQuery","StringQuery","st","EditorState","regexpCursor","stringCursor","QueryType","stringWordTest","categorizer","buf","bufPos","charBefore","charAfter","curFrom","curTo","_result","limit","regexpWordTest","_from","_to","setSearchQuery","togglePanel","searchState","SearchState","defaultQuery","createSearchPanel","matchMark","selectedMatchMark","searchHighlighter","builder","RangeSetBuilder","searchCommand","openSearchPanel","findNext","announceMatch","findPrevious","selectMatches","selectSelectionMatches","replaceNext","replacement","announce","replaceAll","announceText","fallback","_d","selText","searchInput","searchExtensions","closeSearchPanel","searchKeymap","phrase","button","onclick","runScopeHandlers","AnnounceMargin","Break","Piece$1","className","letter","partial","BlockCursorPlugin$1","cursors","prim","piece","measureCursor","oldCursors","themeSpec","hideNativeSelection","getBase","rect","cm","primary","hCoeff","h","Piece","emacsStyle","emacsPlugin","EmacsHandler","BlockCursorPlugin","plugin","showVimPanel","vimPanelState","on","createVimPanel","emacs","specialKey","ignoredKeys","commandKeyBinding","keyGroup","binding","chain","parts","modifiers","key","modifier","commands","args","commandResult","keyData","commands.splitLine","commands.toggleComment","change","mark","activate","prevMark","isEmpty","newRanges","linesToInsert","specs","toInsert","initVim","CodeMirror","Pos","transformCursor","vim","updateSelectionForSurrogateCharacters","curStart","curEnd","charCode","defaultKeymapLength","defaultExCommandMap","enterVimMode","onCursorActivity","maybeInitVimState","getOnPasteFn","leaveVimMode","highlightTimeout","detachVimMap","attachVimMap","cmKey","vimKey","cmKeyToVimKey","vimApi","specialKeys","vimToCmKeyMap","pieces","lastPiece","hasCharacter","isUpperCase","offsetCursor","numberRegex","wordCharTest","bigWordCharTest","makeKeyRange","keys","upperCaseAlphabet","lowerCaseAlphabet","numbers","validMarks","validRegisters","upperCaseChars","isLine","isLowerCase","k","isMatchableSymbol","isNumber","isWhiteSpaceString","isEndOfSentenceSymbol","inArray","arr","defineOption","defaultValue","aliases","callback","setOption","cfg","scope","getOption","local","mode","createCircularJumpList","pointer","tail","oldCur","newCur","curMark","useNextSlot","trashMark","markPos","cursorEqual","move","inc","find","oldPointer","createInsertModeChanges","MacroModeState","macroModeState","vimGlobalState","registerName","register","InputState","resetVimGlobalState","RegisterController","HistoryController","optionName","lastInsertModeKeyTimer","InsertModeKey","lhs","rhs","ctx","exCommandDispatcher","actualLength","origLength","userKeymap","contexts","newMapping","func","exCommands","origin","multiSelectHandleKey","handleMacroRecording","clearInputState","logKey","handleEsc","exitVisualMode","exitInsertMode","handleKeyInsertMode","keysAreChars","commandDispatcher","changeQueue","ChangeQueue","cursorMin","cursorMax","here","handleKeyNonInsertMode","keysMatcher","mainKey","doKeyToKey","defineMotion","defineAction","defineOperator","mapCommand","_mapCommand","defineRegister","keyToKeyStack","noremap","fromKey","keyRe","wasInsert","lowerKey","sendCmKey","repeat","reason","Register","linewise","blockwise","registers","operator","append","up","historyBuffer","keyMap","inputState","matches","commandMatches","bestMatch","character","lastChar","copyArgs","updateCmSelection","visualMode","operatorMotionArgs","repeatIsExplicit","actionArgs","wholeWordOnly","getSearchState","promptPrefix","originalQuery","originalScrollPos","handleQuery","ignoreCase","smartCase","updateSearchQuery","showConfirm","onPromptClose","logSearchQuery","onPromptKeyUp","keyName","parsedQuery","clearSearchHighlight","onPromptKeyDown","showPrompt","expandWordUnderCursor","isKeyword","escapeRegex","motion","motionArgs","operatorArgs","origHead","copyCursor","clipCursorToContent","origAnchor","oldHead","oldAnchor","newHead","newAnchor","motionResult","motions","jumpList","cachedCursor","recordJumpPosition","updateMark","cursorIsBefore","lastSel","lineOffset","chOffset","cmSel","newPositions","makeCmSelection","lineLength","tmp","expandSelectionToLine","clipToLine","exclusive","operatorMoveTo","operators","actionCommand","_head","getUserVisibleLines","findFirstNonWhiteSpaceCharacter","_cm","highlightSearchMatches","prevInputState","findNextFromAndToInclusive","anchor","getMarkPos","isWrongDirection","equal","between","cursorIsBetween","endCh","posV","hasMarkedText","moveToEol","res","lastCharCoords","goalCoords","resCoords","findParagraph","findSentence","scrollbox","orig","dest","moveToWord","moveToCharacter","increment","recordLastCharacterSearch","findSymbol","moveToColumn","lineText","symbol","style","re","matched","lineNum","mirroredPairs","selfPaired","inclusive","selectCompanionObject","sc","findBeginningAndEnd","expandTagUnderCursor","getSentence","expandSelection","lastSearch","fn","fillArray","times","finalHead","lastState","prevLineEnd","wasLastLine","_args","swapped","toLower","toSwap","endPos","lineHeight","delta","cursorCoords","newBottom","charCoords","y","lineLastCharPos","lineLastCharCoords","executeMacroRegister","insertAt","newPosition","getLastEditPos","onChange","onKeyEventTargetKeyDown","selectForInsert","_actionArgs","lastSelection","updateLastSelection","finalCh","nextStartCh","curFinalPos","newlineFn","tabSize","whitespaceLength","currentLine","chompedText","wasChomped","firstIndent","wspace","newIndent","quotient","curPosFinal","lastSelectionCurEnd","selectedArea","getSelectedAreaRange","selectionStart","selectionEnd","selectedText","emptyStrings","selectBlock","lastCh","extendLineToColumn","repeatFn","markName","replaceWith","replaceTo","replaceWithStr","lineStr","numberStr","baseStr","digits","number","zeroPadding","lastEditInputState","repeatLastEdit","includeLineBreak","maxCh","direction","ret","offsetLine","offsetCh","operatorPending","full","commandMatch","pressed","prefixLen","pressedPrefix","mappedPrefix","selectedCharacter","cur1","cur2","cur3","cur1before2","cur2before3","trim","column","isClipped","curHead","primIndex","getIndex","wasClipped","firstLine","lastLine","baseCh","headCh","newDir","lineHead","atAnchor","atHead","getCurrentSelectedAreaRange","getLastSelectedAreaRange","width","headOffset","anchorOffset","fromCh","bottom","toCh","getHead","moveHead","firstNonWS","innerWord","bigWord","noSymbol","wordEnd","wordStart","symbolToMode","findSymbolModes","symb","curCh","init","isComplete","lineLen","findWord","emptyLineIsWord","charTests","foundWord","eodCh","shortCircuit","firstWord","lastWord","keepHPos","retval","charIdxInLine","includeChar","min","isBoundary","startState","curr","lastSentencePos","reverse","curr_index","last_valid","skip_empty_lines","bracketRegexp","openSym","curChar","firstIndex","stringAfter","stringBefore","isStringStart","overlay","reversed","annotate","splitBySlash","argString","splitBySeparator","findUnescapedSlashes","findUnescapedSeparators","separator","slashes","escapeNextChar","translateRegex","specials","unescape","specialComesNext","charUnescapes","translateRegexReplace","unescapes","unescapeRegexReplace","output","parseQuery","lastSearchRegister","regexPart","forceIgnoreCase","flagsPart","regexp","pre","makePrompt","desc","shortText","regexEqual","r1","r2","props","rawQuery","searchOverlay","matchSol","lastEndPos","isInRange","scrollInfo","occludeToleranceTop","occludeToleranceBottom","bottomY","ExCommandDispatcher","opt_params","that","commandHistoryRegister","previousCommand","inputStream","params","commandName","numberMatch","offsetMatch","delim","defaultOnly","mapArgs","setArgs","setCfg","forceGet","optionIsBoolean","oldValue","setOptionReturn","regArgs","regInfo","unique","parseArgs","opts","decimal","hex","octal","radix","numPart","textPart","matchPart","compareFn","anum","bnum","comparePatternFn","textOld","inverted","matchedLines","nextCommand","lineHandle","replacePart","trailing","confirm","global","doReplace","sym","startMark","finishMark","finish","searchCursor","lastPos","modifiedLineNumber","joined","replace","newText","unmodifiedLineNumber","findNextValidMatch","lastMatchTo","_value","savedCallback","keepCursor","insertModeChangeRegister","isPlaying","lastChange","logInsertModeChange","extra","keyBuffer","imc","repeatInsertModeChanges","changeObj","selectionCount","insertEnd","handleExternalSelection","onKeyFound","repeatForInsert","isAction","cachedInputState","repeatCommand","repeatInsert","changeObject","visualBlock","cloneVimState","isHandled","wasMultiselect","old","changeQueueList","indexFromPos","lineNumber","posFromIndex","emitter","map","signal","handlers","signalTo","wordChar","dispatchChange","transaction","note","runHistoryCommand","revert","changeStartIndex","CodeMirror$1","cm6","openDialog","openNotification","tmpRanges","foldCode","row","handle","updates","replacements","scanForBracket","more","bm","Marker","cm6Query","lastCM5Result","firstOffset","rCursor","nextMatch","ChunkSize","prevMatchInRange","back","endAt","startFrom","amount","unit","goalColumn","pixels","startOffset","coords","d","scroller","margin","curOp","fromA","toA","fromB","toB","op","ensureSyntaxTree","StringStream","setter","findMatchingTag","findEnclosingTag","dialogDiv","closeNotification","newVal","doneTimer","duration","hideDialog","showDialog","oldDialog","me","inp","bracketRegex","where","maxScanLen","maxScanLines","lineNo","convertRange","cm6Range","fontFamily","fontSize","fontWeight","color","fatCursor","domAtPos","nextPos","FIREFOX_LINUX","Vim","HighlightMargin","vimStyle","vimPlugin","status","getCM","forceEndComposition","sibling","savedSelection","statusPanel","_objectWithoutPropertiesLoose","excluded","sourceKeys","SelectedDiagnostic","diagnostic","LintState","diagnostics","markedDiagnostics","diagnosticFilter","lintConfig","DiagnosticWidget","findDiagnostic","hideTooltip","setDiagnosticsEffect","maybeEnableLint","lintState","activeMark","hoverTooltip","lintTooltip","setDiagnostics","movePanelSelection","selPos","LintPanel","stackStart","stackEnd","diagnosticsTooltip","renderDiagnostic","openLintPanel","closeLintPanel","nextDiagnostic","lintKeymap","lintPlugin","delay","now","annotations","all","error","assignKeys","assigned","inPanel","click","keyIndex","nameElt","PanelItem","onkeydown","needsSync","newSelectedItem","_start","_end","domPos","rm","selectedIndex","svg","underline","basicSetup","keymaps","foldKeymap","extensions","lineNumbers","highlightActiveLineGutter","highlightSpecialChars","foldGutter","drawSelection","dropCursor","indentOnInput","syntaxHighlighting","defaultHighlightStyle","bracketMatching","rectangularSelection","crosshairCursor","highlightActiveLine","chalky","coral","cyan","invalid","ivory","stone","malibu","sage","whiskey","violet","darkBackground","highlightBackground","background","tooltipBackground","oneDarkTheme","oneDarkHighlightStyle","HighlightStyle","oneDark","getDefaultExtensions","optios","defaultIndentWithTab","editable","readOnly","theme","placeholderStr","defaultBasicSetup","getExtensions","defaultLightThemeOption","placeholder","getStatistics","External","useCodeMirror","onStatistics","onCreateEditor","onUpdate","autoFocus","minHeight","maxHeight","minWidth","root","initialState","setContainer","useState","setView","setState","defaultThemeOption","updateListener","vu","defaultExtensions","useEffect","stateCurrent","viewCurrent","currentValue","_excluded","ReactCodeMirror","forwardRef","ref","useRef","useImperativeHandle","defaultClassNames","_jsx","_extends","getDocLabel","longname","getInnerText","html","div","document","createElement","innerHTML","textContent","innerText","Autocomplete","__html","description","_jsxs","names","join","_Fragment","examples","example","console","log","clipboard","writeText","stopPropagation","jsdocCompletions","jsdoc","docs","filter","startsWith","includes","kind","some","originalTitle","tag","createRoot","render","strudelAutocomplete","matchBefore","setFlash","flashField","flash","ms","setMiniLocations","showMiniLocations","updateMiniLocations","locations","highlightMiniLocations","atTime","haps","miniLocations","marks","visibleMiniLocations","visible","hap","miniLocationHighlights","iterator","highlightExtension","staticExtensions","onViewChanged","onSelectionChange","onDocChange","keybindings","isLineNumbersDisplayed","isAutoCompletionEnabled","isLineWrappingEnabled","handleOnChange","useCallback","value2","handleOnCreateEditor","handleOnUpdate","viewUpdate","docChanged","selectionSet","useMemo","_extensions","bindings","push","of","autocomplete","override","lineWrapping","_CodeMirror","strudelTheme","classes","round","useHighlighting","getTime","highlights","lastEnd","frame","updateHighlights","audioTime","begin","clone","exports","Syntax","VisitorOption","VisitorKeys","BREAK","SKIP","REMOVE","deepCopy","obj","upperBound","diff","Reference","Element","path","wrap","Controller","iz","jz","addToPath","previous","visitor","isProperty","nodeType","candidateExistsInLeaveList","leavelist","candidate","worklist","current2","candidates","sentinel","removeElem","nextElem","traverse","controller","extendCommentRange","attachComments","providedComments","isExpression","isIterationStatement","isStatement","isSourceElement","trailingStatement","isProblematicIfStatement","astModule","ES6Regex","ES5Regex","NON_ASCII_WHITESPACES","IDENTIFIER_START","IDENTIFIER_PART","isDecimalDigit","isHexDigit","isOctalDigit","isWhiteSpace","isLineTerminator","cp","cu1","cu2","isIdentifierStartES5","isIdentifierPartES5","isIdentifierStartES6","isIdentifierPartES6","codeModule","require$$0","isStrictModeReservedWordES6","isKeywordES5","strict","isKeywordES6","isReservedWordES5","isReservedWordES6","isRestrictedWord","isIdentifierNameES5","decodeUtf16","lead","trail","isIdentifierNameES6","lowCh","isIdentifierES5","isIdentifierES6","keywordModule","utils","require$$1","require$$2","intToCharMap","base64","bigA","bigZ","littleA","littleZ","zero","nine","littleOffset","numberOffset","VLQ_BASE_SHIFT","VLQ_BASE","VLQ_BASE_MASK","VLQ_CONTINUATION_BIT","toVLQSigned","aValue","fromVLQSigned","isNegative","shifted","base64Vlq","encoded","vlq","aStr","aIndex","aOutParam","strLen","shift","continuation","getArg","aArgs","aName","aDefaultValue","urlRegexp","dataUrlRegexp","urlParse","aUrl","urlGenerate","aParsedUrl","url","aPath","isAbsolute","aRoot","aPathUrl","aRootUrl","relative","level","supportsNullProto","identity","toSetString","isProtoString","fromSetString","compareByOriginalPositions","mappingA","mappingB","onlyCompareOriginal","strcmp","compareByGeneratedPositionsDeflated","onlyCompareGenerated","aStr1","aStr2","compareByGeneratedPositionsInflated","parseSourceMapInput","computeSourceURL","sourceRoot","sourceURL","sourceMapURL","parsed","util","has","hasNativeMap","ArraySet","aArray","aAllowDuplicates","sStr","isDuplicate","aIdx","arraySet","generatedPositionAfter","lineA","lineB","columnA","columnB","MappingList","aCallback","aThisArg","aMapping","mappingList","base64VLQ","require$$3","SourceMapGenerator","aSourceMapConsumer","generator","sourceFile","sourceRelative","generated","original","aSourceFile","aSourceContent","aSourceMapPath","newSources","newNames","aGenerated","aOriginal","aSource","previousGeneratedColumn","previousGeneratedLine","previousOriginalColumn","previousOriginalLine","previousName","previousSource","nameIdx","sourceIdx","mappings","aSources","aSourceRoot","sourceMapGenerator","recursiveSearch","aLow","aHigh","aNeedle","aHaystack","aCompare","aBias","swap","ary","temp","randomIntInRange","doQuickSort","comparator","pivotIndex","pivot","quickSort","binarySearch","require$$4","SourceMapConsumer","aSourceMap","aSourceMapURL","sourceMap","IndexedSourceMapConsumer","BasicSourceMapConsumer","aContext","aOrder","order","needle","originalLine","originalColumn","sourceMapConsumer","version","sourcesContent","file","relativeSource","smc","generatedMappings","destGeneratedMappings","destOriginalMappings","srcMapping","destMapping","Mapping","generatedLine","cachedSegments","originalMappings","segment","aMappings","aLineName","aColumnName","aComparator","nextMapping","nullOnMissing","fileUriAbsPath","lastOffset","offsetColumn","sectionIndex","generatedPosition","sectionMappings","adjustedMapping","REGEX_NEWLINE","NEWLINE_CODE","isSourceNode","SourceNode","aLine","aColumn","aChunks","aGeneratedCode","aRelativePath","remainingLines","remainingLinesIndex","shiftNextLine","lineContents","getNextLine","newLine","lastGeneratedLine","lastGeneratedColumn","lastMapping","addMappingWithCode","aChunk","aFn","aSep","newChildren","aPattern","aReplacement","lastChild","sourceMappingActive","lastOriginalSource","lastOriginalLine","lastOriginalColumn","lastOriginalName","sourceContent","sourceNode","Precedence","BinaryPrecedence","estraverse","esutils","renumber","hexadecimal","quotes","escapeless","parentheses","semicolons","safeConcatenation","directive","sourceCode","preserveBlankLines","FORMAT_MINIFY","FORMAT_DEFAULTS","CodeGenerator","F_ALLOW_IN","F_ALLOW_CALL","F_ALLOW_UNPARATH_NEW","F_FUNC_BODY","F_DIRECTIVE_CTX","F_SEMICOLON_OPT","E_FTT","E_TTF","E_TTT","E_TFF","E_FFT","E_TFT","S_TFFF","S_TFFT","S_FFFF","S_TFTF","S_TTFF","getDefaultOptions","stringRepeat","num","hasLineTerminator","endsWithLineTerminator","merge","updateDeeply","isHashObject","generateNumber","point","exponent","escapeRegExpCharacter","previousIsBackslash","generateRegExp","reg","characterInBrack","escapeAllowedCharacter","escapeDisallowedCharacter","escapeDirective","quote","escapeString","singleQuotes","doubleQuotes","flattenToString","elem","toSourceNodeWhenNeeded","noEmptySpace","right","leftSource","rightSource","leftCharCode","rightCharCode","addIndent","stmt","withIndent","previousBase","calculateSpaces","adjustMultilineComment","specialBase","sn","generateComment","addComments","save","tailingToStatement","fragment","extRange","prevRange","infix","suffix","generateBlankLines","newlineCount","parenthesize","should","generateVerbatimString","string","generateVerbatim","precedence","verbatim","noLeadingComment","ends","generateIdentifier","generateAsyncPrefix","spaceRequired","generateStarSuffix","isGenerator","generateMethodPrefix","hasDefault","computed","bodyFlags","guard","isClassPrefixed","isFunctionPrefixed","isAsyncPrefixed","itemFlags","guardedHandlers","semicolonOptional","leftPrecedence","rightPrecedence","currentPrecedence","isPattern","multiline","property","imported","exported","raw","generateInternal","codegen","generate","defaultOptions","astralIdentifierCodes","astralIdentifierStartCodes","nonASCIIidentifierChars","nonASCIIidentifierStartChars","reservedWords","ecma5AndLessKeywords","keywords$1","keywordRelationalOperator","nonASCIIidentifierStart","nonASCIIidentifier","isInAstralSet","isIdentifierStart","astral","isIdentifierChar","TokenType","binop","beforeExpr","startsExpr","types$1","lineBreak","lineBreakG","isNewLine","nextLineBreak","nonASCIIwhitespace","skipWhiteSpace","hasOwnProperty","toString","hasOwn","propName","isArray","wordsRegexp","codePointToString","loneSurrogate","Position","SourceLocation","getLineInfo","nextBreak","warnedAboutEcmaVersion","getOptions","pushComment","startLoc","endLoc","SCOPE_TOP","SCOPE_FUNCTION","SCOPE_ASYNC","SCOPE_GENERATOR","SCOPE_ARROW","SCOPE_SIMPLE_CATCH","SCOPE_SUPER","SCOPE_DIRECT_SUPER","SCOPE_CLASS_STATIC_BLOCK","SCOPE_VAR","functionFlags","async","BIND_NONE","BIND_VAR","BIND_LEXICAL","BIND_FUNCTION","BIND_SIMPLE_CATCH","BIND_OUTSIDE","reserved","reservedStrict","prototypeAccessors","inClassFieldInit","plugins","pp$9","literal","tokType","notNext","DestructuringErrors","refDestructuringErrors","isAssign","parens","andThrow","shorthandAssign","doubleProto","pp$8","loopLabel","switchLabel","nextCh","ident","topLevel","starttype","maybeName","keyword","isBreak","lab","awaitAt","isLet","init$1","startsWithLet","isForOf","isAsync","declarationPosition","FUNC_STATEMENT","FUNC_HANGING_STATEMENT","sawDefault","empty$1","clause","simple","i$1","label$1","createNewLexicalScope","exitStrict","isForIn","isFor","decl","FUNC_NULLABLE_ID","statement","allowExpressionBody","forInit","oldYieldPos","oldAwaitPos","oldAwaitIdentPos","oldStrict","privateNameMap","classBody","hadConstructor","isPrivateNameConflicted","constructorAllowsSuper","ecmaVersion","isStatic","lastValue","isConstructor","checkKeyName","allowsDirectSuper","method","oldLabels","declared","used","fNode","cNode","pat","list$1","decls","node$1","node$2","stringLiteral","statements","pp$7","isBinding","exprList","allowEmpty","allowTrailingComma","elts","param","bindingType","checkClashes","isBind","TokContext","isExpr","preserveSpace","pp$6","tokenCtx","statementParens","allowed","pp$5","propHash","redefinition","afterLeftParse","ownDestructuringErrors","oldParenAssign","oldTrailingComma","oldDoubleProto","leftStartPos","leftStartLoc","minPrec","logical","coalesce","sawUnary","incDec","isPrivateFieldAccess","noCalls","maybeAsyncArrow","optionalChained","chainNode","optionalSupported","optional","canBeArrow","containsEsc","meta","errorPos","innerStartPos","innerStartLoc","lastIsComma","spreadStart","innerEndPos","innerEndLoc","par","isImport","isTagged","curElt","paramCount","allowDirectSuper","isArrowFunction","isMethod","useStrict","nonSimple","allowDuplicates","nameHash","liberal","pp$4","message","loc","pp$3","Scope","redeclared","scope$1","scope$2","scope$3","Node","pp$2","finishNodeAt","newNode","ecma9BinaryProperties","ecma10BinaryProperties","ecma11BinaryProperties","ecma12BinaryProperties","ecma13BinaryProperties","ecma14BinaryProperties","unicodeBinaryProperties","unicodeGeneralCategoryValues","ecma9ScriptValues","ecma10ScriptValues","ecma11ScriptValues","ecma12ScriptValues","ecma13ScriptValues","ecma14ScriptValues","unicodeScriptValues","buildUnicodeData","pp$1","RegExpValidationState","unicode","forceU","validFlags","lookbehind","noError","isSyntaxCharacter","isRegExpIdentifierStart","isRegExpIdentifierPart","isControlLetter","switchU","leadSurrogateEnd","isValidUnicode","isCharacterClassEscape","nameOrValue","isUnicodePropertyNameCharacter","isUnicodePropertyValueCharacter","ch$1","hexToInt","n1","n2","Token","pp","ignoreEscapeSequenceInKeyword","this$1$1","startSkip","loop","next2","tokentype","next2$1","escaped","inClass","flagsStart","maybeLegacyOctalNumericLiteral","allowSeparators","isLegacyOctalNumericLiteral","lastCode","stringToNumber","stringToBigInt","startsWithDot","val$1","codePos","chunkStart","INVALID_TEMPLATE_ESCAPE_ERROR","position","inTemplate","octalStr","escStart","WalkerBase","SyncWalker","enter","leave","_should_skip","_should_remove","_replacement","skipped","removed","walk","ast","transpiler","wrapAsync","addReturn","emitMiniLocations","collectMiniLocations","leafLocs","getLeafLocations","isBackTickString","quasis","miniWithLocation","isStringWithDoubleQuotes","isNoteWithOctave","body","expression","escodegen","fromOffset","usePatternFrame","started","onDraw","drawTime","lookahead","visibleHaps","lastFrame","futureHaps","startFrame","stopFrame","useFrame","phase","usePostMessage","useStrudel","defaultOutput","interval","evalOnMount","initialCode","beforeEval","afterEval","editPattern","onEvalError","onToggle","canvasId","drawContext","paintOptions","s4","schedulerError","setSchedulerError","evalError","setEvalError","setCode","activeCode","setActiveCode","setPattern","setStarted","isDirty","shouldPaint","scheduler","evaluate","pause","setCps","repl","_pattern","broadcast","activateCode","autostart","onPaint","drawFirstFrame","inited","togglePlay","useKeydown","useLayoutEffect"],"mappings":"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AAI,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,IAAK,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,IAAK,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,IAAK,GAAI,IAAK,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,IAAK,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,KAAM,GAAI,GAAI,KAAM,GAAI,EAAG,KAAM,IAAK,KAAM,IAAK,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,GAAI,IAAK,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,KAAM,EAAG,KAAM,GAAI,EAAG,KAAM,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,KAAM,IAAK,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,KAAM,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,KAAM,GAAI,EAAG,EAAG,IAAK,GAAI,IAAK,GAAI,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,IAAK,GAAI,GAAI,EAAG,EAAG,KAAM,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,E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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44]}