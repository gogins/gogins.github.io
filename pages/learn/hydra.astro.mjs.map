{"version":3,"file":"hydra.astro.mjs","sources":["../../../src/pages/learn/hydra.mdx"],"sourcesContent":["---\ntitle: Hydra\nlayout: ../../layouts/MainLayout.astro\n---\n\nimport { MiniRepl } from '../../docs/MiniRepl';\n\n# Using Hydra inside Strudel\n\nYou can write [hydra](https://hydra.ojack.xyz/) code in strudel! All you have to do is to call `await initHydra()` at the top:\n\n<MiniRepl\n  client:only=\"react\"\n  tune={`await initHydra()\n// licensed with CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/\n// by Zach Krall\n// http://zachkrall.online/\n\nosc(10, 0.9, 300)\n.color(0.9, 0.7, 0.8)\n.diff(\nosc(45, 0.3, 100)\n.color(0.9, 0.9, 0.9)\n.rotate(0.18)\n.pixelate(12)\n.kaleid()\n)\n.scrollX(10)\n.colorama()\n.luma()\n.repeatX(4)\n.repeatY(4)\n.modulate(\nosc(1, -0.9, 300)\n)\n.scale(2)\n.out()\n\nnote(\"[a,c,e,<a4 ab4 g4 gb4>,b4]/2\")\n.s(\"sawtooth\").vib(2)\n.lpf(600).lpa(2).lpenv(6)\n`}\n/>\n\n## H patterns\n\nThere is a special function `H` that allows you to use a pattern as an input to hydra:\n\n<MiniRepl\n  client:only=\"react\"\n  tune={`await initHydra()\nlet pattern = \"3 4 5 [6 7]*2\"\nshape(H(pattern)).out(o0)\nn(pattern).scale(\"A:minor\").piano().room(1)\n`}\n/>\n\n## detectAudio\n\nTo use hydra audio capture, call `initHydra` with `{detectAudio:true}` configuration param:\n\n<MiniRepl\n  client:only=\"react\"\n  tune={`await initHydra({detectAudio:true})\nlet pattern = \"<3 4 5 [6 7]*2>\"\nshape(H(pattern)).repeat()\n  .scrollY(\n    ()=> a.fft[0]*.25\n  )\n  .add(src(o0).color(.71 ).scrollX(.005),.95)\n.out(o0)\nn(pattern).scale(\"A:minor\").piano().room(1)\n`}\n/>\n\nYou might now be able to see this properly here: [open in REPL](/#YXdhaXQgaW5pdEh5ZHJhKCkKbGV0IHBhdHRlcm4gPSAiMyA0IDUgWzYgN10qMiIKc2hhcGUoSChwYXR0ZXJuKSkub3V0KG8wKQpuKHBhdHRlcm4pLnNjYWxlKCJBOm1pbm9yIikucGlhbm8oKS5yb29tKDEpIA%3D%3D)\n\nSimilar to `detectAudio`, all the [available hydra options](https://github.com/hydra-synth/hydra-synth#api) can be passed to `initHydra`.\n\n## feedStrudel\n\nUsing the `feedStrudel` option, you can transform strudel visualizations with hydra:\n\n<MiniRepl\n  client:only=\"react\"\n  tune={`await initHydra({feedStrudel:1})\n//\nsrc(s0).kaleid(H(\"<4 5 6>\"))\n  .diff(osc(1,0.5,5))\n  .modulateScale(osc(2,-0.25,1))\n  .out()\n//\n\n$: s(\"bd*4,[hh:0:<.5 1>]*8,~ rim\").bank(\"RolandTR909\").speed(.9)\n\n$: note(\"[<g1!3 <bb1 <f1 d1>>>]\\*3\").s(\"sawtooth\")\n\n.room(.75).sometimes(add(note(12))).clip(.3)\n.lpa(.05).lpenv(-4).lpf(2000).lpq(8).ftype('24db')\n\nall(x=>x.fft(4).scope({pos:0,smear:.95}))`}\n/>\n"],"names":["_jsxs","_Fragment","children","_components","h1","id","_jsx","a","tabindex","href","span","class","p","code","[object Object]","tune","h2"],"mappings":"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"}