{"version":3,"file":"input-output.astro.mjs","sources":["../../../src/pages/learn/input-output.mdx"],"sourcesContent":["---\ntitle: MIDI & OSC\nlayout: ../../layouts/MainLayout.astro\n---\n\nimport { MiniRepl } from '../../docs/MiniRepl';\nimport { JsDoc } from '../../docs/JsDoc';\n\n# MIDI and OSC\n\nThe default audio output of Strudel uses the [Web Audio API](https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API).\nIt is also possible to use Strudel with MIDI and OSC / [SuperDirt](https://github.com/musikinformatik/SuperDirt/) instead.\n\n# MIDI API\n\nStrudel also supports midi via [webmidi](https://npmjs.com/package/webmidi).\n\n## midi(outputName?)\n\nEither connect a midi device or use the IAC Driver (Mac) or Midi Through Port (Linux) for internal midi messages.\nIf no outputName is given, it uses the first midi output it finds.\n\n<MiniRepl client:idle tune={`chord(\"<C^7 A7 Dm7 G7>\").voicing().midi()`} />\n\nIn the console, you will see a log of the available MIDI devices as soon as you run the code, e.g. `Midi connected! Using \"Midi Through Port-0\".`\n\n## midichan(number)\n\nSelects the MIDI channel to use. If not used, `.midi` will use channel 1 by default.\n\n## ccn && ccv\n\n- `ccn` sets the cc number. Depends on your synths midi mapping\n- `ccv` sets the cc value. normalized from 0 to 1.\n\n<MiniRepl client:idle tune={`note(\"c a f e\").ccn(74).ccv(sine.slow(4)).midi()`} />\n\nIn the above snippet, `ccn` is set to 74, which is the filter cutoff for many synths. `ccv` is controlled by a saw pattern.\nHaving everything in one pattern, the `ccv` pattern will be aligned to the note pattern, because the structure comes from the left by default.\nBut you can also control cc messages separately like this:\n\n<MiniRepl\n  client:idle\n  tune={`$: note(\"c a f e\").midi()\n$: ccv(sine.segment(16).slow(4)).ccn(74).midi()`}\n/>\n\n# OSC/SuperDirt API\n\nIn mainline tidal, the actual sound is generated via [SuperDirt](https://github.com/musikinformatik/SuperDirt/), which runs inside SuperCollider.\nStrudel also supports using [SuperDirt](https://github.com/musikinformatik/SuperDirt/) as a backend, although it requires some developer tooling to run.\n\n## Prequisites\n\nGetting [SuperDirt](https://github.com/musikinformatik/SuperDirt/) to work with Strudel, you need to\n\n1. install SuperCollider + sc3 plugins, see [Tidal Docs](https://tidalcycles.org/docs/) (Install Tidal) for more info.\n2. install [node.js](https://nodejs.org/en/)\n3. download [Strudel Repo](https://github.com/tidalcycles/strudel/) (or git clone, if you have git installed)\n4. run `pnpm i` in the strudel directory\n5. run `pnpm run osc` to start the osc server, which forwards OSC messages from Strudel REPL to SuperCollider\n\nNow you're all set!\n\n## Usage\n\n1. Start SuperCollider, either using SuperCollider IDE or by running `sclang` in a terminal\n2. Open the [Strudel REPL](https://strudel.cc/#cygiYmQgc2QiKS5vc2MoKQ%3D%3D)\n\n...or test it here:\n\n<MiniRepl client:only=\"react\" tune={`s(\"bd sd\").osc()`} />\n\nIf you now hear sound, congratulations! If not, you can get help on the [#strudel channel in the TidalCycles discord](https://discord.com/invite/HGEdXmRkzT).\n\nNote: if you have the 'Audio Engine Target' in settings set to 'OSC', you do not need to add .osc() to the end of your pattern.\n\n### Pattern.osc\n\n<JsDoc client:idle name=\"Pattern.osc\" h={0} />\n\n## SuperDirt Params\n\nPlease refer to [Tidal Docs](https://tidalcycles.org/) for more info.\n\n<br />\n\nBut can we use Strudel [offline](/learn/pwa)?\n"],"names":["_jsxs","_Fragment","children","_components","h1","id","_jsx","a","tabindex","href","span","class","p","h2","MiniRepl","tune","code","ul","li","ol","[object Object]","h3","h"],"mappings":"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"}