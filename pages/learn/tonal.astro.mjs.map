{"version":3,"file":"tonal.astro.mjs","sources":["../../../src/pages/learn/tonal.mdx"],"sourcesContent":["---\ntitle: Tonal Functions\nlayout: ../../layouts/MainLayout.astro\n---\n\nimport { MiniRepl } from '../../docs/MiniRepl';\nimport { JsDoc } from '../../docs/JsDoc';\n\n# Tonal Functions\n\nThese functions use [tonaljs](https://github.com/tonaljs/tonal) to provide helpers for musical operations.\n\n### voicing()\n\n<JsDoc client:idle name=\"voicing\" h={0} />\n\nHere's an example of how you can play chords and a bassline:\n\n<MiniRepl\n  client:idle\n  tune={`chord(\"<C^7 A7b13 Dm7 G7>*2\")\n  .dict('ireal').layer(\n  x=>x.struct(\"[~ x]*2\").voicing()\n  ,\n  x=>n(\"0*4\").set(x).mode(\"root:g2\").voicing()\n  .s('sawtooth').cutoff(\"800:4:2\")\n)`}\n/>\n\n### scale(name)\n\n<JsDoc client:idle name=\"scale\" h={0} />\n\n### transpose(semitones)\n\nTransposes all notes to the given number of semitones:\n\n<MiniRepl client:only=\"react\" tune={`\"[c2 c3]*4\".transpose(\"<0 -2 5 3>\").note()`} />\n\nThis method gets really exciting when we use it with a pattern as above.\n\nInstead of numbers, scientific interval notation can be used as well:\n\n<MiniRepl client:only=\"react\" tune={`\"[c2 c3]*4\".transpose(\"<1P -2M 4P 3m>\").note()`} />\n\n### scaleTranspose(steps)\n\nTransposes notes inside the scale by the number of steps:\n\n<MiniRepl\n  client:idle\n  tune={`\"[-8 [2,4,6]]*2\"\n.scale('C4 bebop major')\n.scaleTranspose(\"<0 -1 -2 -3 -4 -5 -6 -4>*2\")\n.note()`}\n/>\n\n### rootNotes(octave = 2)\n\nTurns chord symbols into root notes of chords in given octave.\n\n<MiniRepl client:only=\"react\" tune={`\"<C^7 A7b13 Dm7 G7>*2\".rootNotes(3).note()`} />\n\nTogether with layer, struct and voicings, this can be used to create a basic backing track:\n\n<MiniRepl\n  client:idle\n  tune={`\"<C^7 A7b13 Dm7 G7>*2\".layer(\n  x => x.voicings('lefthand').struct(\"[~ x]*2\").note(),\n  x => x.rootNotes(2).note().s('sawtooth').cutoff(800)\n)`}\n/>\n"],"names":["_jsxs","_Fragment","children","_components","h1","id","_jsx","a","tabindex","href","span","class","p","h3","[object Object]","MiniRepl","tune"],"mappings":"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"}