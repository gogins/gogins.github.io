{"version":3,"file":"entry.mjs","sources":["../../node_modules/.pnpm/@astrojs+react@2.1.1_@types+react-dom@18.2.1_@types+react@18.2.0_react-dom@18.2.0_react@18.2.0/node_modules/@astrojs/react/static-html.js","../../node_modules/.pnpm/@astrojs+react@2.1.1_@types+react-dom@18.2.1_@types+react@18.2.0_react-dom@18.2.0_react@18.2.0/node_modules/@astrojs/react/server.js"],"sourcesContent":["import { createElement as h } from 'react';\n\n/**\n * Astro passes `children` as a string of HTML, so we need\n * a wrapper `div` to render that content as VNodes.\n *\n * As a bonus, we can signal to React that this subtree is\n * entirely static and will never change via `shouldComponentUpdate`.\n */\nconst StaticHtml = ({ value, name }) => {\n\tif (!value) return null;\n\treturn h('astro-slot', {\n\t\tname,\n\t\tsuppressHydrationWarning: true,\n\t\tdangerouslySetInnerHTML: { __html: value },\n\t});\n};\n\n/**\n * This tells React to opt-out of re-rendering this subtree,\n * In addition to being a performance optimization,\n * this also allows other frameworks to attach to `children`.\n *\n * See https://preactjs.com/guide/v8/external-dom-mutations\n */\nStaticHtml.shouldComponentUpdate = () => false;\n\nexport default StaticHtml;\n","import React from 'react';\nimport ReactDOM from 'react-dom/server';\nimport StaticHtml from './static-html.js';\n\nconst slotName = (str) => str.trim().replace(/[-_]([a-z])/g, (_, w) => w.toUpperCase());\nconst reactTypeof = Symbol.for('react.element');\n\nfunction errorIsComingFromPreactComponent(err) {\n\treturn (\n\t\terr.message &&\n\t\t(err.message.startsWith(\"Cannot read property '__H'\") ||\n\t\t\terr.message.includes(\"(reading '__H')\"))\n\t);\n}\n\nasync function check(Component, props, children) {\n\t// Note: there are packages that do some unholy things to create \"components\".\n\t// Checking the $$typeof property catches most of these patterns.\n\tif (typeof Component === 'object') {\n\t\tconst $$typeof = Component['$$typeof'];\n\t\treturn $$typeof && $$typeof.toString().slice('Symbol('.length).startsWith('react');\n\t}\n\tif (typeof Component !== 'function') return false;\n\n\tif (Component.prototype != null && typeof Component.prototype.render === 'function') {\n\t\treturn React.Component.isPrototypeOf(Component) || React.PureComponent.isPrototypeOf(Component);\n\t}\n\n\tlet error = null;\n\tlet isReactComponent = false;\n\tfunction Tester(...args) {\n\t\ttry {\n\t\t\tconst vnode = Component(...args);\n\t\t\tif (vnode && vnode['$$typeof'] === reactTypeof) {\n\t\t\t\tisReactComponent = true;\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tif (!errorIsComingFromPreactComponent(err)) {\n\t\t\t\terror = err;\n\t\t\t}\n\t\t}\n\n\t\treturn React.createElement('div');\n\t}\n\n\tawait renderToStaticMarkup(Tester, props, children, {});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\treturn isReactComponent;\n}\n\nasync function getNodeWritable() {\n\tlet nodeStreamBuiltinModuleName = 'stream';\n\tlet { Writable } = await import(/* @vite-ignore */ nodeStreamBuiltinModuleName);\n\treturn Writable;\n}\n\nasync function renderToStaticMarkup(Component, props, { default: children, ...slotted }, metadata) {\n\tdelete props['class'];\n\tconst slots = {};\n\tfor (const [key, value] of Object.entries(slotted)) {\n\t\tconst name = slotName(key);\n\t\tslots[name] = React.createElement(StaticHtml, { value, name });\n\t}\n\t// Note: create newProps to avoid mutating `props` before they are serialized\n\tconst newProps = {\n\t\t...props,\n\t\t...slots,\n\t};\n\tconst newChildren = children ?? props.children;\n\tif (newChildren != null) {\n\t\tnewProps.children = React.createElement(StaticHtml, { value: newChildren });\n\t}\n\tconst vnode = React.createElement(Component, newProps);\n\tlet html;\n\tif (metadata && metadata.hydrate) {\n\t\tif ('renderToReadableStream' in ReactDOM) {\n\t\t\thtml = await renderToReadableStreamAsync(vnode);\n\t\t} else {\n\t\t\thtml = await renderToPipeableStreamAsync(vnode);\n\t\t}\n\t} else {\n\t\tif ('renderToReadableStream' in ReactDOM) {\n\t\t\thtml = await renderToReadableStreamAsync(vnode);\n\t\t} else {\n\t\t\thtml = await renderToStaticNodeStreamAsync(vnode);\n\t\t}\n\t}\n\treturn { html };\n}\n\nasync function renderToPipeableStreamAsync(vnode) {\n\tconst Writable = await getNodeWritable();\n\tlet html = '';\n\treturn new Promise((resolve, reject) => {\n\t\tlet error = undefined;\n\t\tlet stream = ReactDOM.renderToPipeableStream(vnode, {\n\t\t\tonError(err) {\n\t\t\t\terror = err;\n\t\t\t\treject(error);\n\t\t\t},\n\t\t\tonAllReady() {\n\t\t\t\tstream.pipe(\n\t\t\t\t\tnew Writable({\n\t\t\t\t\t\twrite(chunk, _encoding, callback) {\n\t\t\t\t\t\t\thtml += chunk.toString('utf-8');\n\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdestroy() {\n\t\t\t\t\t\t\tresolve(html);\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t},\n\t\t});\n\t});\n}\n\nasync function renderToStaticNodeStreamAsync(vnode) {\n\tconst Writable = await getNodeWritable();\n\tlet html = '';\n\treturn new Promise((resolve, reject) => {\n\t\tlet stream = ReactDOM.renderToStaticNodeStream(vnode);\n\t\tstream.on('error', (err) => {\n\t\t\treject(err);\n\t\t});\n\t\tstream.pipe(\n\t\t\tnew Writable({\n\t\t\t\twrite(chunk, _encoding, callback) {\n\t\t\t\t\thtml += chunk.toString('utf-8');\n\t\t\t\t\tcallback();\n\t\t\t\t},\n\t\t\t\tdestroy() {\n\t\t\t\t\tresolve(html);\n\t\t\t\t},\n\t\t\t})\n\t\t);\n\t});\n}\n\n/**\n * Use a while loop instead of \"for await\" due to cloudflare and Vercel Edge issues\n * See https://github.com/facebook/react/issues/24169\n */\nasync function readResult(stream) {\n\tconst reader = stream.getReader();\n\tlet result = '';\n\tconst decoder = new TextDecoder('utf-8');\n\twhile (true) {\n\t\tconst { done, value } = await reader.read();\n\t\tif (done) {\n\t\t\tif (value) {\n\t\t\t\tresult += decoder.decode(value);\n\t\t\t} else {\n\t\t\t\t// This closes the decoder\n\t\t\t\tdecoder.decode(new Uint8Array());\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t\tresult += decoder.decode(value, { stream: true });\n\t}\n}\n\nasync function renderToReadableStreamAsync(vnode) {\n\treturn await readResult(await ReactDOM.renderToReadableStream(vnode));\n}\n\nexport default {\n\tcheck,\n\trenderToStaticMarkup,\n};\n"],"names":["h"],"mappings":"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","x_google_ignoreList":[0,1]}