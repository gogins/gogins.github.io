{"version":3,"file":"embed_b42b5c1d.mjs","sources":["../../../src/components/HeadCommon.astro","../../../src/pages/embed.astro"],"sourcesContent":["---\nimport { pwaInfo } from 'virtual:pwa-info';\nimport '../styles/index.css';\n\nconst { BASE_URL } = import.meta.env;\nconst baseNoTrailing = BASE_URL.endsWith('/') ? BASE_URL.slice(0, -1) : BASE_URL;\n---\n\n<!-- Global Metadata -->\n<meta charset=\"utf-8\" />\n<meta name=\"viewport\" content=\"width=device-width\" />\n<meta name=\"generator\" content={Astro.generator} />\n\n<link rel=\"icon\" type=\"image/svg+xml\" href={`${baseNoTrailing}/favicon.ico`} />\n\n<meta\n  name=\"description\"\n  content=\"Strudel is a music live coding environment for the browser, porting the TidalCycles pattern language to JavaScript.\"\n/>\n<link rel=\"icon\" href={`${baseNoTrailing}/favicon.ico`} />\n<link rel=\"apple-touch-icon\" href={`${baseNoTrailing}/icons/apple-icon-180.png`} sizes=\"180x180\" />\n<meta name=\"theme-color\" content=\"#222222\" />\n\n<base href={BASE_URL} />\n\n<!-- Scrollable a11y code helper -->\n<script src{`${baseNoTrailing}/make-scrollable-code-focusable.js`} is:inline></script>\n\n<script src=\"/src/pwa.ts\"></script>\n<!-- this does not work for some reason: -->\n<!-- <style is:global define:vars={strudelTheme}></style> -->\n<!-- the following variables are just a fallback to make sure everything is readable without JS -->\n<style is:global>\n  :root {\n    --background: #222;\n    --lineBackground: #22222299;\n    --foreground: #fff;\n    --caret: #ffcc00;\n    --selection: rgba(128, 203, 196, 0.5);\n    --selectionMatch: #036dd626;\n    --lineHighlight: #00000050;\n    --gutterBackground: transparent;\n    --gutterForeground: #8a919966;\n  }\n</style>\n{pwaInfo && <Fragment set:html={pwaInfo.webManifest.linkTag} />}\n\n<script>\n  import { initTheme, codemirrorSettings } from '@strudel/codemirror';\n\n  initTheme(codemirrorSettings.get().theme);\n\n  // https://medium.com/quick-code/100vh-problem-with-ios-safari-92ab23c852a8\n  const appHeight = () => {\n    const doc = document.documentElement;\n    doc.style.setProperty('--app-height', `${window.innerHeight - 1}px`);\n  };\n  if (typeof window !== 'undefined') {\n    window.addEventListener('resize', appHeight);\n    appHeight();\n  }\n</script>\n","---\nimport HeadCommon from '../components/HeadCommon.astro';\nimport { Repl } from '../repl/Repl.jsx';\n---\n\n<html>\n  <head>\n    <HeadCommon />\n    <title>Strudel REPL</title>\n  </head>\n  <body>\n    <Repl client:only=\"react\" embedded />\n  </body>\n</html>\n"],"names":["$$Astro","$$createAstro","$$createComponent","Astro","$$render","$$addAttribute","$$renderComponent","$$result","$$unescapeHTML","HeadCommon","$$renderHead"],"mappings":";;;;;;;;;;AAAA,MAAAA,SAAA,GAAAC,YAAA,qBAAA,CAAA,CAAA;AAAA,MAAA,YAAA,GAAAC,eAAA,CAAA,OAAA,QAAA,EAAA,SAAA,OAAA,KAAA;AAAA,EAAA,MAAAC,MAAA,GAAA,QAAA,CAAA,WAAA,CAAAH,SAAA,EAAA,SAAA,OAAA,CAAA,CAAA;AAAA,EAAAG,OAAA,IAAA,GAAA,YAAA,CAAA;AAIA,EAAM,MAAA,EAAE,QAAS,EAAA,IAAI,MAAA,CAAA,MAAA,CAAA,CAAA,UAAA,CAAA,GAAA,CAAA,MAAA,CAAA,YAAA,CAAA,KAAA,CAAA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,qBAAA,CAAA,eAAA,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA,CAAA,OAAA,CAAA,GAAA,CAAA,CAAA,CAAA,QAAA,CAAA,GAAA,EAAA,CAAA,CAAY,CAAA;AACjC,EAAM,MAAA,cAAA,GAAiB,SAAS,QAAS,CAAA,GAAG,IAAI,QAAS,CAAA,KAAA,CAAM,CAAG,EAAA,CAAA,CAAE,CAAI,GAAA,QAAA,CAAA;AALxE,EAAA,OAAAC,cAAA,CAAA,EAAA,KAAA,EAAA,GAAA,UAAA,CAAA,CAAA,yHAAA,EAAA,wCAAA,EAAA,0KAAA,EAAA,+BAAA,EAAA,mEAAA,EAAA,8CA0BY,EAAA,yNAAA,EAmBmD,EA7C/D,CAAA,CAAA,CAAA,EAAAC,YAAA,CAWgCF,MAAM,CAAA,SAAA,EAXtC,SAAA,CAAA,EAAAE,YAa4C,CAAA,CAAA,EAAG,cAAc,CAAA,YAAA,CAAA,EAb7D,MAAA,CAAA,EAAAA,YAmBuB,CAAA,CAAA,EAAG,cAAc,CAAA,YAAA,CAAA,EAnBxC,MAAA,CAAA,EAAAA,YAoBmC,CAAA,CAAA,EAAG,cAAc,CApBpD,yBAAA,CAAA,EAAA,MAAA,CAAA,EAAAA,YAAA,CAuBY,QAvBZ,EAAA,MAAA,CAAA,EAAAA,YAAA,CA0BY,CAAA,EAAA,cAAA,CAAA,kCAAA,CAAA,EAAA,uDAAA,CAmBX,EAAA,OAAA,IA7CDD,cAAA,CAAA,EAAAE,eAAA,CAAA,QAAA,EAAA,UAAA,EAAA,QAAA,EAAA,EAAA,EAAA,EAAA,SAAA,EAAA,CAAAC,SAAA,KAAAH,cAAA,CAAA,EAAAI,YACW,CAAA,OAAA,CAAQ,WAAY,CAAA,OAD/B,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAAA,CAAA,EAAA,gFAAA,KAAA,CAAA;;ACAA,MAAA,OAAA,GAAAP,YAAA,qBAAA,CAAA,CAAA;AAAA,MAAA,OAAA,GAAAC,eAAA,CAAA,OAAA,QAAA,EAAA,SAAA,OAAA,KAAA;AAAA,EAAA,MAAAC,MAAA,GAAA,QAAA,CAAA,WAAA,CAAA,OAAA,EAAA,SAAA,OAAA,CAAA,CAAA;AAAA,EAAAA,OAAA,IAAA,GAAA,OAAA,CAAA;AAAA,EAAA,OAAAC,cAAA,CAAA,YAAA,EAAAE,eAAA,CAAA,QAAA,EAAA,YAAA,EAAAG,YAAA,EAAA,EAOK,CAAA,CAPL,2BAAA,EAAAC,UAAA,CAAA,CAAA,CAAA,aAAA,EAAAJ,eAAA,CAAA,QAAA,EAAA,MAAA,EAAA,IAAA,EAAA,EAWU,aAAa,EAAA,OAAA,EAAO,UAAA,EAAA,IAAA,EAX9B,4BAAA,EAAA,MAAA,EAAA,uBAAA,EAAA,gEAAA,EAAA,yBAAA,EAAA,MAAA,EAWK,CAAA,CAAA,cAAA,CAAA,CAAA;AAXL,CAAA,EAAA,sEAAA,KAAA,CAAA,CAAA,CAAA;;;;;;;;;;;;;;"}