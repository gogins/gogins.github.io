{"version":3,"file":"example-_name__8fd2bedd.mjs","sources":["../../../src/pages/img/example-[name].png.js"],"sourcesContent":["import { createCanvas } from 'canvas';\nimport { pianoroll } from '@strudel.cycles/core';\nimport { evaluate } from '@strudel.cycles/transpiler';\nimport '../../../../test/runtime.mjs';\nimport * as tunes from '../../repl/tunes.mjs';\n\nexport async function GET({ params, request }) {\n  const { name } = params;\n  const tune = tunes[name];\n  const { pattern } = await evaluate(tune);\n  const haps = pattern.queryArc(0, 4);\n  const canvas = createCanvas(800, 800);\n  const ctx = canvas.getContext('2d');\n  pianoroll({ time: 4, haps, ctx, playhead: 1, fold: 1, background: 'transparent', playheadColor: 'transparent' });\n  const buffer = canvas.toBuffer('image/png');\n  return new Response(buffer);\n}\nexport function getStaticPaths() {\n  return Object.keys(tunes).map((name) => ({\n    params: {\n      name,\n    },\n  }));\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAMO,eAAe,GAAG,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE;AAC/C,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,CAAC;AAC1B,EAAE,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC;AAC3B,EAAE,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,QAAQ,CAAC,IAAI,CAAC,CAAC;AAC3C,EAAE,MAAM,IAAI,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACtC,EAAE,MAAM,MAAM,GAAG,YAAY,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AACxC,EAAE,MAAM,GAAG,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;AACtC,EAAE,SAAS,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,UAAU,EAAE,aAAa,EAAE,aAAa,EAAE,aAAa,EAAE,CAAC,CAAC;AACnH,EAAE,MAAM,MAAM,GAAG,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;AAC9C,EAAE,OAAO,IAAI,QAAQ,CAAC,MAAM,CAAC,CAAC;AAC9B,CAAC;AACM,SAAS,cAAc,GAAG;AACjC,EAAE,OAAO,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,MAAM;AAC3C,IAAI,MAAM,EAAE;AACZ,MAAM,IAAI;AACV,KAAK;AACL,GAAG,CAAC,CAAC,CAAC;AACN;;;;"}